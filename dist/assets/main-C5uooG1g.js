function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./select-Dbf0UpRq.js","./react-C8SD0OUc.js","./select-B-6fXKY_.css","./portalModal-x_R3ywci.js","./portalModal-BpgPH4-F.css","./inputfield-ybNpIhpz.js","./inputfield-bt10kS44.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Toe=Object.defineProperty;var Roe=(r,e,t)=>e in r?Toe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var uT=(r,e,t)=>(Roe(r,typeof e!="symbol"?e+"":e,t),t);import{r as _,a as Bu,R as Zf,b as Ooe,g as Doe,c as Uo,d as Hu,e as ne,f as Oy}from"./react-C8SD0OUc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var z5={exports:{}},Ix={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aoe=_,Poe=Symbol.for("react.element"),Moe=Symbol.for("react.fragment"),Foe=Object.prototype.hasOwnProperty,Loe=Aoe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Noe={key:!0,ref:!0,__self:!0,__source:!0};function U5(r,e,t){var n,i={},o=null,a=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Foe.call(e,n)&&!Noe.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Poe,type:r,key:o,ref:a,props:i,_owner:Loe.current}}Ix.Fragment=Moe;Ix.jsx=U5;Ix.jsxs=U5;z5.exports=Ix;var O=z5.exports,PA={},kB=Bu;PA.createRoot=kB.createRoot,PA.hydrateRoot=kB.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vn(){return Vn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Vn.apply(this,arguments)}var zn;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(zn||(zn={}));const VB="popstate";function koe(r){r===void 0&&(r={});function e(n,i){let{pathname:o,search:a,hash:s}=n.location;return v_("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Xc(i)}return Boe(e,t,null,r)}function pr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jf(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Voe(){return Math.random().toString(36).substr(2,8)}function BB(r,e){return{usr:r.state,key:r.key,idx:e}}function v_(r,e,t,n){return t===void 0&&(t=null),Vn({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Gu(e):e,{state:t,key:e&&e.key||n||Voe()})}function Xc(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Gu(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Boe(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,s=zn.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Vn({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=zn.Pop;let g=c(),m=g==null?null:g-u;u=g,l&&l({action:s,location:v.location,delta:m})}function h(g,m){s=zn.Push;let C=v_(v.location,g,m);t&&t(C,g),u=c()+1;let y=BB(C,u),w=v.createHref(C);try{a.pushState(y,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(w)}o&&l&&l({action:s,location:v.location,delta:1})}function p(g,m){s=zn.Replace;let C=v_(v.location,g,m);t&&t(C,g),u=c();let y=BB(C,u),w=v.createHref(C);a.replaceState(y,"",w),o&&l&&l({action:s,location:v.location,delta:0})}function f(g){let m=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof g=="string"?g:Xc(g);return C=C.replace(/ $/,"%20"),pr(m,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,m)}let v={get action(){return s},get location(){return r(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(VB,d),l=g,()=>{i.removeEventListener(VB,d),l=null}},createHref(g){return e(i,g)},createURL:f,encodeLocation(g){let m=f(g);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(g){return a.go(g)}};return v}var Nn;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Nn||(Nn={}));const Hoe=new Set(["lazy","caseSensitive","path","id","index","children"]);function Goe(r){return r.index===!0}function MA(r,e,t,n){return t===void 0&&(t=[]),n===void 0&&(n={}),r.map((i,o)=>{let a=[...t,o],s=typeof i.id=="string"?i.id:a.join("-");if(pr(i.index!==!0||!i.children,"Cannot specify children on an index route"),pr(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),Goe(i)){let l=Vn({},i,e(i),{id:s});return n[s]=l,l}else{let l=Vn({},i,e(i),{id:s,children:void 0});return n[s]=l,i.children&&(l.children=MA(i.children,e,a,n)),l}})}function xf(r,e,t){t===void 0&&(t="/");let n=typeof e=="string"?Gu(e):e,i=Qc(n.pathname||"/",t);if(i==null)return null;let o=j5(r);Woe(o);let a=null;for(let s=0;a==null&&s<o.length;++s){let l=tae(i);a=Zoe(o[s],l)}return a}function $oe(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],handle:t.handle}}function j5(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(pr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Tl([n,l.relativePath]),c=t.concat(l);o.children&&o.children.length>0&&(pr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),j5(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Xoe(u,o.index),routesMeta:c})};return r.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of K5(o.path))i(o,a,l)}),e}function K5(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=K5(n.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>r.startsWith("/")&&l===""?"/":l)}function Woe(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Qoe(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const zoe=/^:[\w-]+$/,Uoe=3,joe=2,Koe=1,qoe=10,Yoe=-2,HB=r=>r==="*";function Xoe(r,e){let t=r.split("/"),n=t.length;return t.some(HB)&&(n+=Yoe),e&&(n+=joe),t.filter(i=>!HB(i)).reduce((i,o)=>i+(zoe.test(o)?Uoe:o===""?Koe:qoe),n)}function Qoe(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Zoe(r,e){let{routesMeta:t}=r,n={},i="/",o=[];for(let a=0;a<t.length;++a){let s=t[a],l=a===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Joe({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let d=s.route;o.push({params:n,pathname:Tl([i,c.pathname]),pathnameBase:iae(Tl([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Tl([i,c.pathnameBase]))}return o}function Joe(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=eae(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let v=s[d]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const f=s[d];return p&&!f?u[h]=void 0:u[h]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:r}}function eae(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Jf(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function tae(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jf(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Qc(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function rae(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Gu(r):r;return{pathname:t?t.startsWith("/")?t:nae(t,e):e,search:oae(n),hash:aae(i)}}function nae(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cT(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q5(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function OF(r,e){let t=q5(r);return e?t.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function DF(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Gu(r):(i=Vn({},r),pr(!i.pathname||!i.pathname.includes("?"),cT("?","pathname","search",i)),pr(!i.pathname||!i.pathname.includes("#"),cT("#","pathname","hash",i)),pr(!i.search||!i.search.includes("#"),cT("#","search","hash",i)));let o=r===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=t;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let l=rae(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Tl=r=>r.join("/").replace(/\/\/+/g,"/"),iae=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oae=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aae=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class AF{constructor(e,t,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Y5(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const X5=["post","put","patch","delete"],sae=new Set(X5),lae=["get",...X5],uae=new Set(lae),cae=new Set([301,302,303,307,308]),dae=new Set([307,308]),dT={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hae={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Q5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pae=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Z5="remix-router-transitions";function fae(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!t;pr(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(r.mapRouteProperties)i=r.mapRouteProperties;else if(r.detectErrorBoundary){let Y=r.detectErrorBoundary;i=re=>({hasErrorBoundary:Y(re)})}else i=pae;let o={},a=MA(r.routes,i,void 0,o),s,l=r.basename||"/",u=Vn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},r.future),c=null,d=new Set,h=null,p=null,f=null,v=r.hydrationData!=null,g=xf(a,r.history.location,l),m=null;if(g==null){let Y=Xa(404,{pathname:r.history.location.pathname}),{matches:re,route:oe}=qB(a);g=re,m={[oe.id]:Y}}let C,y=g.some(Y=>Y.route.lazy),w=g.some(Y=>Y.route.loader);if(y)C=!1;else if(!w)C=!0;else if(u.v7_partialHydration){let Y=r.hydrationData?r.hydrationData.loaderData:null,re=r.hydrationData?r.hydrationData.errors:null;C=g.every(oe=>oe.route.loader&&oe.route.loader.hydrate!==!0&&(Y&&Y[oe.route.id]!==void 0||re&&re[oe.route.id]!==void 0))}else C=r.hydrationData!=null;let T,S={historyAction:r.history.action,location:r.history.location,matches:g,initialized:C,navigation:dT,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||m,fetchers:new Map,blockers:new Map},x=zn.Pop,I=!1,R,D=!1,A=new Map,V=null,F=!1,P=!1,M=[],N=[],H=new Map,G=0,z=-1,j=new Map,q=new Set,K=new Map,ie=new Map,ee=new Set,te=new Map,de=new Map,Se=!1;function Me(){if(c=r.history.listen(Y=>{let{action:re,location:oe,delta:Be}=Y;if(Se){Se=!1;return}Jf(de.size===0||Be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let it=rt({currentLocation:S.location,nextLocation:oe,historyAction:re});if(it&&Be!=null){Se=!0,r.history.go(Be*-1),Le(it,{state:"blocked",location:oe,proceed(){Le(it,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),r.history.go(Be)},reset(){let It=new Map(S.blockers);It.set(it,zv),he({blockers:It})}});return}return xe(re,oe)}),t){xae(e,A);let Y=()=>Iae(e,A);e.addEventListener("pagehide",Y),V=()=>e.removeEventListener("pagehide",Y)}return S.initialized||xe(zn.Pop,S.location,{initialHydration:!0}),T}function De(){c&&c(),V&&V(),d.clear(),R&&R.abort(),S.fetchers.forEach((Y,re)=>vt(re)),S.blockers.forEach((Y,re)=>Ot(re))}function ze(Y){return d.add(Y),()=>d.delete(Y)}function he(Y,re){re===void 0&&(re={}),S=Vn({},S,Y);let oe=[],Be=[];u.v7_fetcherPersist&&S.fetchers.forEach((it,It)=>{it.state==="idle"&&(ee.has(It)?Be.push(It):oe.push(It))}),[...d].forEach(it=>it(S,{deletedFetchers:Be,unstable_viewTransitionOpts:re.viewTransitionOpts,unstable_flushSync:re.flushSync===!0})),u.v7_fetcherPersist&&(oe.forEach(it=>S.fetchers.delete(it)),Be.forEach(it=>vt(it)))}function ke(Y,re,oe){var Be,it;let{flushSync:It}=oe===void 0?{}:oe,wt=S.actionData!=null&&S.navigation.formMethod!=null&&Fs(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Be=Y.state)==null?void 0:Be._isRedirect)!==!0,lt;re.actionData?Object.keys(re.actionData).length>0?lt=re.actionData:lt=null:wt?lt=S.actionData:lt=null;let ot=re.loaderData?KB(S.loaderData,re.loaderData,re.matches||[],re.errors):S.loaderData,Mt=S.blockers;Mt.size>0&&(Mt=new Map(Mt),Mt.forEach((Or,qr)=>Mt.set(qr,zv)));let Rr=I===!0||S.navigation.formMethod!=null&&Fs(S.navigation.formMethod)&&((it=Y.state)==null?void 0:it._isRedirect)!==!0;s&&(a=s,s=void 0),F||x===zn.Pop||(x===zn.Push?r.history.push(Y,Y.state):x===zn.Replace&&r.history.replace(Y,Y.state));let Ft;if(x===zn.Pop){let Or=A.get(S.location.pathname);Or&&Or.has(Y.pathname)?Ft={currentLocation:S.location,nextLocation:Y}:A.has(Y.pathname)&&(Ft={currentLocation:Y,nextLocation:S.location})}else if(D){let Or=A.get(S.location.pathname);Or?Or.add(Y.pathname):(Or=new Set([Y.pathname]),A.set(S.location.pathname,Or)),Ft={currentLocation:S.location,nextLocation:Y}}he(Vn({},re,{actionData:lt,loaderData:ot,historyAction:x,location:Y,initialized:!0,navigation:dT,revalidation:"idle",restoreScrollPosition:Br(Y,re.matches||S.matches),preventScrollReset:Rr,blockers:Mt}),{viewTransitionOpts:Ft,flushSync:It===!0}),x=zn.Pop,I=!1,D=!1,F=!1,P=!1,M=[],N=[]}async function Oe(Y,re){if(typeof Y=="number"){r.history.go(Y);return}let oe=FA(S.location,S.matches,l,u.v7_prependBasename,Y,u.v7_relativeSplatPath,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:Be,submission:it,error:It}=GB(u.v7_normalizeFormMethod,!1,oe,re),wt=S.location,lt=v_(S.location,Be,re&&re.state);lt=Vn({},lt,r.history.encodeLocation(lt));let ot=re&&re.replace!=null?re.replace:void 0,Mt=zn.Push;ot===!0?Mt=zn.Replace:ot===!1||it!=null&&Fs(it.formMethod)&&it.formAction===S.location.pathname+S.location.search&&(Mt=zn.Replace);let Rr=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,Ft=(re&&re.unstable_flushSync)===!0,Or=rt({currentLocation:wt,nextLocation:lt,historyAction:Mt});if(Or){Le(Or,{state:"blocked",location:lt,proceed(){Le(Or,{state:"proceeding",proceed:void 0,reset:void 0,location:lt}),Oe(Y,re)},reset(){let qr=new Map(S.blockers);qr.set(Or,zv),he({blockers:qr})}});return}return await xe(Mt,lt,{submission:it,pendingError:It,preventScrollReset:Rr,replace:re&&re.replace,enableViewTransition:re&&re.unstable_viewTransition,flushSync:Ft})}function je(){if(ge(),he({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){xe(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}xe(x||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function xe(Y,re,oe){R&&R.abort(),R=null,x=Y,F=(oe&&oe.startUninterruptedRevalidation)===!0,Vr(S.location,S.matches),I=(oe&&oe.preventScrollReset)===!0,D=(oe&&oe.enableViewTransition)===!0;let Be=s||a,it=oe&&oe.overrideNavigation,It=xf(Be,re,l),wt=(oe&&oe.flushSync)===!0;if(!It){let qr=Xa(404,{pathname:re.pathname}),{matches:xn,route:Wr}=qB(Be);Pt(),ke(re,{matches:xn,loaderData:{},errors:{[Wr.id]:qr}},{flushSync:wt});return}if(S.initialized&&!P&&Cae(S.location,re)&&!(oe&&oe.submission&&Fs(oe.submission.formMethod))){ke(re,{matches:It},{flushSync:wt});return}R=new AbortController;let lt=jv(r.history,re,R.signal,oe&&oe.submission),ot,Mt;if(oe&&oe.pendingError)Mt={[Vm(It).route.id]:oe.pendingError};else if(oe&&oe.submission&&Fs(oe.submission.formMethod)){let qr=await ae(lt,re,oe.submission,It,{replace:oe.replace,flushSync:wt});if(qr.shortCircuited)return;ot=qr.pendingActionData,Mt=qr.pendingActionError,it=hT(re,oe.submission),wt=!1,lt=new Request(lt.url,{signal:lt.signal})}let{shortCircuited:Rr,loaderData:Ft,errors:Or}=await Ie(lt,re,It,it,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,wt,ot,Mt);Rr||(R=null,ke(re,Vn({matches:It},ot?{actionData:ot}:{},{loaderData:Ft,errors:Or})))}async function ae(Y,re,oe,Be,it){it===void 0&&(it={}),ge();let It=bae(re,oe);he({navigation:It},{flushSync:it.flushSync===!0});let wt,lt=NA(Be,re);if(!lt.route.action&&!lt.route.lazy)wt={type:Nn.error,error:Xa(405,{method:Y.method,pathname:re.pathname,routeId:lt.route.id})};else if(wt=await Uv("action",Y,lt,Be,o,i,l,u.v7_relativeSplatPath),Y.signal.aborted)return{shortCircuited:!0};if(eh(wt)){let ot;return it&&it.replace!=null?ot=it.replace:ot=wt.location===S.location.pathname+S.location.search,await Ue(S,wt,{submission:oe,replace:ot}),{shortCircuited:!0}}if(If(wt)){let ot=Vm(Be,lt.route.id);return(it&&it.replace)!==!0&&(x=zn.Push),{pendingActionData:{},pendingActionError:{[ot.route.id]:wt.error}}}if(Jd(wt))throw Xa(400,{type:"defer-action"});return{pendingActionData:{[lt.route.id]:wt.data}}}async function Ie(Y,re,oe,Be,it,It,wt,lt,ot,Mt,Rr){let Ft=Be||hT(re,it),Or=it||It||QB(Ft),qr=s||a,[xn,Wr]=$B(r.history,S,oe,Or,re,u.v7_partialHydration&&lt===!0,P,M,N,ee,K,q,qr,l,Mt,Rr);if(Pt(Pr=>!(oe&&oe.some(rn=>rn.route.id===Pr))||xn&&xn.some(rn=>rn.route.id===Pr)),z=++G,xn.length===0&&Wr.length===0){let Pr=lr();return ke(re,Vn({matches:oe,loaderData:{},errors:Rr||null},Mt?{actionData:Mt}:{},Pr?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ot}),{shortCircuited:!0}}if(!F&&(!u.v7_partialHydration||!lt)){Wr.forEach(rn=>{let bo=S.fetchers.get(rn.key),Ry=Kv(void 0,bo?bo.data:void 0);S.fetchers.set(rn.key,Ry)});let Pr=Mt||S.actionData;he(Vn({navigation:Ft},Pr?Object.keys(Pr).length===0?{actionData:null}:{actionData:Pr}:{},Wr.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ot})}Wr.forEach(Pr=>{H.has(Pr.key)&&Pe(Pr.key),Pr.controller&&H.set(Pr.key,Pr.controller)});let Zn=()=>Wr.forEach(Pr=>Pe(Pr.key));R&&R.signal.addEventListener("abort",Zn);let{results:ta,loaderResults:we,fetcherResults:ve}=await Ge(S.matches,oe,xn,Wr,Y);if(Y.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Zn),Wr.forEach(Pr=>H.delete(Pr.key));let st=YB(ta);if(st){if(st.idx>=xn.length){let Pr=Wr[st.idx-xn.length].key;q.add(Pr)}return await Ue(S,st.result,{replace:wt}),{shortCircuited:!0}}let{loaderData:Qe,errors:Lt}=jB(S,oe,xn,we,Rr,Wr,ve,te);te.forEach((Pr,rn)=>{Pr.subscribe(bo=>{(bo||Pr.done)&&te.delete(rn)})}),u.v7_partialHydration&&lt&&S.errors&&Object.entries(S.errors).filter(Pr=>{let[rn]=Pr;return!xn.some(bo=>bo.route.id===rn)}).forEach(Pr=>{let[rn,bo]=Pr;Lt=Object.assign(Lt||{},{[rn]:bo})});let mt=lr(),ir=$t(z),ro=mt||ir||Wr.length>0;return Vn({loaderData:Qe,errors:Lt},ro?{fetchers:new Map(S.fetchers)}:{})}function me(Y,re,oe,Be){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(Y)&&Pe(Y);let it=(Be&&Be.unstable_flushSync)===!0,It=s||a,wt=FA(S.location,S.matches,l,u.v7_prependBasename,oe,u.v7_relativeSplatPath,re,Be==null?void 0:Be.relative),lt=xf(It,wt,l);if(!lt){Ve(Y,re,Xa(404,{pathname:wt}),{flushSync:it});return}let{path:ot,submission:Mt,error:Rr}=GB(u.v7_normalizeFormMethod,!0,wt,Be);if(Rr){Ve(Y,re,Rr,{flushSync:it});return}let Ft=NA(lt,ot);if(I=(Be&&Be.preventScrollReset)===!0,Mt&&Fs(Mt.formMethod)){nt(Y,re,ot,Ft,lt,it,Mt);return}K.set(Y,{routeId:re,path:ot}),He(Y,re,ot,Ft,lt,it,Mt)}async function nt(Y,re,oe,Be,it,It,wt){if(ge(),K.delete(Y),!Be.route.action&&!Be.route.lazy){let rn=Xa(405,{method:wt.formMethod,pathname:oe,routeId:re});Ve(Y,re,rn,{flushSync:It});return}let lt=S.fetchers.get(Y);_e(Y,Eae(wt,lt),{flushSync:It});let ot=new AbortController,Mt=jv(r.history,oe,ot.signal,wt);H.set(Y,ot);let Rr=G,Ft=await Uv("action",Mt,Be,it,o,i,l,u.v7_relativeSplatPath);if(Mt.signal.aborted){H.get(Y)===ot&&H.delete(Y);return}if(u.v7_fetcherPersist&&ee.has(Y)){if(eh(Ft)||If(Ft)){_e(Y,_c(void 0));return}}else{if(eh(Ft))if(H.delete(Y),z>Rr){_e(Y,_c(void 0));return}else return q.add(Y),_e(Y,Kv(wt)),Ue(S,Ft,{fetcherSubmission:wt});if(If(Ft)){Ve(Y,re,Ft.error);return}}if(Jd(Ft))throw Xa(400,{type:"defer-action"});let Or=S.navigation.location||S.location,qr=jv(r.history,Or,ot.signal),xn=s||a,Wr=S.navigation.state!=="idle"?xf(xn,S.navigation.location,l):S.matches;pr(Wr,"Didn't find any matches after fetcher action");let Zn=++G;j.set(Y,Zn);let ta=Kv(wt,Ft.data);S.fetchers.set(Y,ta);let[we,ve]=$B(r.history,S,Wr,wt,Or,!1,P,M,N,ee,K,q,xn,l,{[Be.route.id]:Ft.data},void 0);ve.filter(rn=>rn.key!==Y).forEach(rn=>{let bo=rn.key,Ry=S.fetchers.get(bo),Ioe=Kv(void 0,Ry?Ry.data:void 0);S.fetchers.set(bo,Ioe),H.has(bo)&&Pe(bo),rn.controller&&H.set(bo,rn.controller)}),he({fetchers:new Map(S.fetchers)});let st=()=>ve.forEach(rn=>Pe(rn.key));ot.signal.addEventListener("abort",st);let{results:Qe,loaderResults:Lt,fetcherResults:mt}=await Ge(S.matches,Wr,we,ve,qr);if(ot.signal.aborted)return;ot.signal.removeEventListener("abort",st),j.delete(Y),H.delete(Y),ve.forEach(rn=>H.delete(rn.key));let ir=YB(Qe);if(ir){if(ir.idx>=we.length){let rn=ve[ir.idx-we.length].key;q.add(rn)}return Ue(S,ir.result)}let{loaderData:ro,errors:Pr}=jB(S,S.matches,we,Lt,void 0,ve,mt,te);if(S.fetchers.has(Y)){let rn=_c(Ft.data);S.fetchers.set(Y,rn)}$t(Zn),S.navigation.state==="loading"&&Zn>z?(pr(x,"Expected pending action"),R&&R.abort(),ke(S.navigation.location,{matches:Wr,loaderData:ro,errors:Pr,fetchers:new Map(S.fetchers)})):(he({errors:Pr,loaderData:KB(S.loaderData,ro,Wr,Pr),fetchers:new Map(S.fetchers)}),P=!1)}async function He(Y,re,oe,Be,it,It,wt){let lt=S.fetchers.get(Y);_e(Y,Kv(wt,lt?lt.data:void 0),{flushSync:It});let ot=new AbortController,Mt=jv(r.history,oe,ot.signal);H.set(Y,ot);let Rr=G,Ft=await Uv("loader",Mt,Be,it,o,i,l,u.v7_relativeSplatPath);if(Jd(Ft)&&(Ft=await tq(Ft,Mt.signal,!0)||Ft),H.get(Y)===ot&&H.delete(Y),!Mt.signal.aborted){if(ee.has(Y)){_e(Y,_c(void 0));return}if(eh(Ft))if(z>Rr){_e(Y,_c(void 0));return}else{q.add(Y),await Ue(S,Ft);return}if(If(Ft)){Ve(Y,re,Ft.error);return}pr(!Jd(Ft),"Unhandled fetcher deferred data"),_e(Y,_c(Ft.data))}}async function Ue(Y,re,oe){let{submission:Be,fetcherSubmission:it,replace:It}=oe===void 0?{}:oe;re.revalidate&&(P=!0);let wt=v_(Y.location,re.location,{_isRedirect:!0});if(pr(wt,"Expected a location on the redirect navigation"),t){let Or=!1;if(re.reloadDocument)Or=!0;else if(Q5.test(re.location)){const qr=r.history.createURL(re.location);Or=qr.origin!==e.location.origin||Qc(qr.pathname,l)==null}if(Or){It?e.location.replace(re.location):e.location.assign(re.location);return}}R=null;let lt=It===!0?zn.Replace:zn.Push,{formMethod:ot,formAction:Mt,formEncType:Rr}=Y.navigation;!Be&&!it&&ot&&Mt&&Rr&&(Be=QB(Y.navigation));let Ft=Be||it;if(dae.has(re.status)&&Ft&&Fs(Ft.formMethod))await xe(lt,wt,{submission:Vn({},Ft,{formAction:re.location}),preventScrollReset:I});else{let Or=hT(wt,Be);await xe(lt,wt,{overrideNavigation:Or,fetcherSubmission:it,preventScrollReset:I})}}async function Ge(Y,re,oe,Be,it){let It=await Promise.all([...oe.map(ot=>Uv("loader",it,ot,re,o,i,l,u.v7_relativeSplatPath)),...Be.map(ot=>ot.matches&&ot.match&&ot.controller?Uv("loader",jv(r.history,ot.path,ot.controller.signal),ot.match,ot.matches,o,i,l,u.v7_relativeSplatPath):{type:Nn.error,error:Xa(404,{pathname:ot.path})})]),wt=It.slice(0,oe.length),lt=It.slice(oe.length);return await Promise.all([XB(Y,oe,wt,wt.map(()=>it.signal),!1,S.loaderData),XB(Y,Be.map(ot=>ot.match),lt,Be.map(ot=>ot.controller?ot.controller.signal:null),!0)]),{results:It,loaderResults:wt,fetcherResults:lt}}function ge(){P=!0,M.push(...Pt()),K.forEach((Y,re)=>{H.has(re)&&(N.push(re),Pe(re))})}function _e(Y,re,oe){oe===void 0&&(oe={}),S.fetchers.set(Y,re),he({fetchers:new Map(S.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Ve(Y,re,oe,Be){Be===void 0&&(Be={});let it=Vm(S.matches,re);vt(Y),he({errors:{[it.route.id]:oe},fetchers:new Map(S.fetchers)},{flushSync:(Be&&Be.flushSync)===!0})}function Je(Y){return u.v7_fetcherPersist&&(ie.set(Y,(ie.get(Y)||0)+1),ee.has(Y)&&ee.delete(Y)),S.fetchers.get(Y)||hae}function vt(Y){let re=S.fetchers.get(Y);H.has(Y)&&!(re&&re.state==="loading"&&j.has(Y))&&Pe(Y),K.delete(Y),j.delete(Y),q.delete(Y),ee.delete(Y),S.fetchers.delete(Y)}function ct(Y){if(u.v7_fetcherPersist){let re=(ie.get(Y)||0)-1;re<=0?(ie.delete(Y),ee.add(Y)):ie.set(Y,re)}else vt(Y);he({fetchers:new Map(S.fetchers)})}function Pe(Y){let re=H.get(Y);pr(re,"Expected fetch controller: "+Y),re.abort(),H.delete(Y)}function _t(Y){for(let re of Y){let oe=Je(re),Be=_c(oe.data);S.fetchers.set(re,Be)}}function lr(){let Y=[],re=!1;for(let oe of q){let Be=S.fetchers.get(oe);pr(Be,"Expected fetcher: "+oe),Be.state==="loading"&&(q.delete(oe),Y.push(oe),re=!0)}return _t(Y),re}function $t(Y){let re=[];for(let[oe,Be]of j)if(Be<Y){let it=S.fetchers.get(oe);pr(it,"Expected fetcher: "+oe),it.state==="loading"&&(Pe(oe),j.delete(oe),re.push(oe))}return _t(re),re.length>0}function Ke(Y,re){let oe=S.blockers.get(Y)||zv;return de.get(Y)!==re&&de.set(Y,re),oe}function Ot(Y){S.blockers.delete(Y),de.delete(Y)}function Le(Y,re){let oe=S.blockers.get(Y)||zv;pr(oe.state==="unblocked"&&re.state==="blocked"||oe.state==="blocked"&&re.state==="blocked"||oe.state==="blocked"&&re.state==="proceeding"||oe.state==="blocked"&&re.state==="unblocked"||oe.state==="proceeding"&&re.state==="unblocked","Invalid blocker state transition: "+oe.state+" -> "+re.state);let Be=new Map(S.blockers);Be.set(Y,re),he({blockers:Be})}function rt(Y){let{currentLocation:re,nextLocation:oe,historyAction:Be}=Y;if(de.size===0)return;de.size>1&&Jf(!1,"A router only supports one blocker at a time");let it=Array.from(de.entries()),[It,wt]=it[it.length-1],lt=S.blockers.get(It);if(!(lt&&lt.state==="proceeding")&&wt({currentLocation:re,nextLocation:oe,historyAction:Be}))return It}function Pt(Y){let re=[];return te.forEach((oe,Be)=>{(!Y||Y(Be))&&(oe.cancel(),re.push(Be),te.delete(Be))}),re}function Wt(Y,re,oe){if(h=Y,f=re,p=oe||null,!v&&S.navigation===dT){v=!0;let Be=Br(S.location,S.matches);Be!=null&&he({restoreScrollPosition:Be})}return()=>{h=null,f=null,p=null}}function nr(Y,re){return p&&p(Y,re.map(Be=>$oe(Be,S.loaderData)))||Y.key}function Vr(Y,re){if(h&&f){let oe=nr(Y,re);h[oe]=f()}}function Br(Y,re){if(h){let oe=nr(Y,re),Be=h[oe];if(typeof Be=="number")return Be}return null}function Qt(Y){o={},s=MA(Y,i,void 0,o)}return T={get basename(){return l},get future(){return u},get state(){return S},get routes(){return a},get window(){return e},initialize:Me,subscribe:ze,enableScrollRestoration:Wt,navigate:Oe,fetch:me,revalidate:je,createHref:Y=>r.history.createHref(Y),encodeLocation:Y=>r.history.encodeLocation(Y),getFetcher:Je,deleteFetcher:ct,dispose:De,getBlocker:Ke,deleteBlocker:Ot,_internalFetchControllers:H,_internalActiveDeferreds:te,_internalSetRoutes:Qt},T}function vae(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function FA(r,e,t,n,i,o,a,s){let l,u;if(a){l=[];for(let d of e)if(l.push(d),d.route.id===a){u=d;break}}else l=e,u=e[e.length-1];let c=DF(i||".",OF(l,o),Qc(r.pathname,t)||r.pathname,s==="path");return i==null&&(c.search=r.search,c.hash=r.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!PF(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Tl([t,c.pathname])),Xc(c)}function GB(r,e,t,n){if(!n||!vae(n))return{path:t};if(n.formMethod&&!wae(n.formMethod))return{path:t,error:Xa(405,{method:n.formMethod})};let i=()=>({path:t,error:Xa(400,{type:"invalid-body"})}),o=n.formMethod||"get",a=r?o.toUpperCase():o.toLowerCase(),s=eq(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fs(a))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,f)=>{let[v,g]=f;return""+p+v+"="+g+`
`},""):String(n.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Fs(a))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}pr(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=LA(n.formData),u=n.formData;else if(n.body instanceof FormData)l=LA(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=UB(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=UB(l)}catch{return i()}let c={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Fs(c.formMethod))return{path:t,submission:c};let d=Gu(t);return e&&d.search&&PF(d.search)&&l.append("index",""),d.search="?"+l,{path:Xc(d),submission:c}}function gae(r,e){let t=r;if(e){let n=r.findIndex(i=>i.route.id===e);n>=0&&(t=r.slice(0,n))}return t}function $B(r,e,t,n,i,o,a,s,l,u,c,d,h,p,f,v){let g=v?Object.values(v)[0]:f?Object.values(f)[0]:void 0,m=r.createURL(e.location),C=r.createURL(i),y=v?Object.keys(v)[0]:void 0,T=gae(t,y).filter((x,I)=>{let{route:R}=x;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(mae(e.loaderData,e.matches[I],x)||s.some(V=>V===x.route.id))return!0;let D=e.matches[I],A=x;return WB(x,Vn({currentUrl:m,currentParams:D.params,nextUrl:C,nextParams:A.params},n,{actionResult:g,defaultShouldRevalidate:a||m.pathname+m.search===C.pathname+C.search||m.search!==C.search||J5(D,A)}))}),S=[];return c.forEach((x,I)=>{if(o||!t.some(F=>F.route.id===x.routeId)||u.has(I))return;let R=xf(h,x.path,p);if(!R){S.push({key:I,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(I),A=NA(R,x.path),V=!1;d.has(I)?V=!1:l.includes(I)?V=!0:D&&D.state!=="idle"&&D.data===void 0?V=a:V=WB(A,Vn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:C,nextParams:t[t.length-1].params},n,{actionResult:g,defaultShouldRevalidate:a})),V&&S.push({key:I,routeId:x.routeId,path:x.path,matches:R,match:A,controller:new AbortController})}),[T,S]}function mae(r,e,t){let n=!e||t.route.id!==e.route.id,i=r[t.route.id]===void 0;return n||i}function J5(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function WB(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function zB(r,e,t){if(!r.lazy)return;let n=await r.lazy();if(!r.lazy)return;let i=t[r.id];pr(i,"No route found in manifest");let o={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";Jf(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!Hoe.has(a)&&(o[a]=n[a])}Object.assign(i,o),Object.assign(i,Vn({},e(i),{lazy:void 0}))}async function Uv(r,e,t,n,i,o,a,s,l){l===void 0&&(l={});let u,c,d,h=v=>{let g,m=new Promise((C,y)=>g=y);return d=()=>g(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:t.params,context:l.requestContext}),m])};try{let v=t.route[r];if(t.route.lazy)if(v){let g,m=await Promise.all([h(v).catch(C=>{g=C}),zB(t.route,o,i)]);if(g)throw g;c=m[0]}else if(await zB(t.route,o,i),v=t.route[r],v)c=await h(v);else if(r==="action"){let g=new URL(e.url),m=g.pathname+g.search;throw Xa(405,{method:e.method,pathname:m,routeId:t.route.id})}else return{type:Nn.data,data:void 0};else if(v)c=await h(v);else{let g=new URL(e.url),m=g.pathname+g.search;throw Xa(404,{pathname:m})}pr(c!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(v){u=Nn.error,c=v}finally{d&&e.signal.removeEventListener("abort",d)}if(Sae(c)){let v=c.status;if(cae.has(v)){let m=c.headers.get("Location");if(pr(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!Q5.test(m))m=FA(new URL(e.url),n.slice(0,n.indexOf(t)+1),a,!0,m,s);else if(!l.isStaticRequest){let C=new URL(e.url),y=m.startsWith("//")?new URL(C.protocol+m):new URL(m),w=Qc(y.pathname,a)!=null;y.origin===C.origin&&w&&(m=y.pathname+y.search+y.hash)}if(l.isStaticRequest)throw c.headers.set("Location",m),c;return{type:Nn.redirect,status:v,location:m,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Nn.error?Nn.error:Nn.data,response:c};let g;try{let m=c.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?c.body==null?g=null:g=await c.json():g=await c.text()}catch(m){return{type:Nn.error,error:m}}return u===Nn.error?{type:u,error:new AF(v,c.statusText,g),headers:c.headers}:{type:Nn.data,data:g,statusCode:c.status,headers:c.headers}}if(u===Nn.error)return{type:u,error:c};if(yae(c)){var p,f;return{type:Nn.deferred,deferredData:c,statusCode:(p=c.init)==null?void 0:p.status,headers:((f=c.init)==null?void 0:f.headers)&&new Headers(c.init.headers)}}return{type:Nn.data,data:c}}function jv(r,e,t,n){let i=r.createURL(eq(e)).toString(),o={signal:t};if(n&&Fs(n.formMethod)){let{formMethod:a,formEncType:s}=n;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(n.json)):s==="text/plain"?o.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?o.body=LA(n.formData):o.body=n.formData}return new Request(i,o)}function LA(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function UB(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function _ae(r,e,t,n,i){let o={},a=null,s,l=!1,u={};return t.forEach((c,d)=>{let h=e[d].route.id;if(pr(!eh(c),"Cannot handle redirect results in processLoaderData"),If(c)){let p=Vm(r,h),f=c.error;n&&(f=Object.values(n)[0],n=void 0),a=a||{},a[p.route.id]==null&&(a[p.route.id]=f),o[h]=void 0,l||(l=!0,s=Y5(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Jd(c)?(i.set(h,c.deferredData),o[h]=c.deferredData.data):o[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(s=c.statusCode),c.headers&&(u[h]=c.headers)}),n&&(a=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function jB(r,e,t,n,i,o,a,s){let{loaderData:l,errors:u}=_ae(e,t,n,i,s);for(let c=0;c<o.length;c++){let{key:d,match:h,controller:p}=o[c];pr(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let f=a[c];if(!(p&&p.signal.aborted))if(If(f)){let v=Vm(r.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=Vn({},u,{[v.route.id]:f.error})),r.fetchers.delete(d)}else if(eh(f))pr(!1,"Unhandled fetcher revalidation redirect");else if(Jd(f))pr(!1,"Unhandled fetcher deferred data");else{let v=_c(f.data);r.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function KB(r,e,t,n){let i=Vn({},e);for(let o of t){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):r[a]!==void 0&&o.route.loader&&(i[a]=r[a]),n&&n.hasOwnProperty(a))break}return i}function Vm(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function qB(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xa(r,e){let{pathname:t,routeId:n,method:i,type:o}=e===void 0?{}:e,a="Unknown Server Error",s="Unknown @remix-run/router error";return r===400?(a="Bad Request",i&&t&&n?s="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):r===403?(a="Forbidden",s='Route "'+n+'" does not match URL "'+t+'"'):r===404?(a="Not Found",s='No route matches URL "'+t+'"'):r===405&&(a="Method Not Allowed",i&&t&&n?s="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new AF(r||500,a,new Error(s),!0)}function YB(r){for(let e=r.length-1;e>=0;e--){let t=r[e];if(eh(t))return{result:t,idx:e}}}function eq(r){let e=typeof r=="string"?Gu(r):r;return Xc(Vn({},e,{hash:""}))}function Cae(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function Jd(r){return r.type===Nn.deferred}function If(r){return r.type===Nn.error}function eh(r){return(r&&r.type)===Nn.redirect}function yae(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Sae(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function wae(r){return uae.has(r.toLowerCase())}function Fs(r){return sae.has(r.toLowerCase())}async function XB(r,e,t,n,i,o){for(let a=0;a<t.length;a++){let s=t[a],l=e[a];if(!l)continue;let u=r.find(d=>d.route.id===l.route.id),c=u!=null&&!J5(u,l)&&(o&&o[l.route.id])!==void 0;if(Jd(s)&&(i||c)){let d=n[a];pr(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await tq(s,d,i).then(h=>{h&&(t[a]=h||t[a])})}}}async function tq(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:Nn.data,data:r.deferredData.unwrappedData}}catch(i){return{type:Nn.error,error:i}}return{type:Nn.data,data:r.deferredData.data}}}function PF(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function NA(r,e){let t=typeof e=="string"?Gu(e).search:e.search;if(r[r.length-1].route.index&&PF(t||""))return r[r.length-1];let n=q5(r);return n[n.length-1]}function QB(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:o,json:a}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:n,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:a,text:void 0}}}function hT(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bae(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Kv(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Eae(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function _c(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function xae(r,e){try{let t=r.sessionStorage.getItem(Z5);if(t){let n=JSON.parse(t);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Iae(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(Z5,JSON.stringify(t))}catch(n){Jf(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g_(){return g_=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},g_.apply(this,arguments)}const vC=_.createContext(null),rq=_.createContext(null),$u=_.createContext(null),Tx=_.createContext(null),Wu=_.createContext({outlet:null,matches:[],isDataRoute:!1}),nq=_.createContext(null);function Tae(r,e){let{relative:t}=e===void 0?{}:e;gC()||pr(!1);let{basename:n,navigator:i}=_.useContext($u),{hash:o,pathname:a,search:s}=FF(r,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Tl([n,a])),i.createHref({pathname:l,search:s,hash:o})}function gC(){return _.useContext(Tx)!=null}function mC(){return gC()||pr(!1),_.useContext(Tx).location}function iq(r){_.useContext($u).static||_.useLayoutEffect(r)}function MF(){let{isDataRoute:r}=_.useContext(Wu);return r?Gae():Rae()}function Rae(){gC()||pr(!1);let r=_.useContext(vC),{basename:e,future:t,navigator:n}=_.useContext($u),{matches:i}=_.useContext(Wu),{pathname:o}=mC(),a=JSON.stringify(OF(i,t.v7_relativeSplatPath)),s=_.useRef(!1);return iq(()=>{s.current=!0}),_.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=DF(u,JSON.parse(a),o,c.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Tl([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,a,o,r])}const Oae=_.createContext(null);function Dae(r){let e=_.useContext(Wu).outlet;return e&&_.createElement(Oae.Provider,{value:r},e)}function FF(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=_.useContext($u),{matches:i}=_.useContext(Wu),{pathname:o}=mC(),a=JSON.stringify(OF(i,n.v7_relativeSplatPath));return _.useMemo(()=>DF(r,JSON.parse(a),o,t==="path"),[r,a,o,t])}function Aae(r,e,t,n){gC()||pr(!1);let{navigator:i}=_.useContext($u),{matches:o}=_.useContext(Wu),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=mC(),c;if(e){var d;let g=typeof e=="string"?Gu(e):e;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||pr(!1),c=g}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=xf(r,{pathname:p}),v=Nae(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Tl([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Tl([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,t,n);return e&&v?_.createElement(Tx.Provider,{value:{location:g_({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:zn.Pop}},v):v}function Pae(){let r=aq(),e=Y5(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:i},t):null,null)}const Mae=_.createElement(Pae,null);class Fae extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(Wu.Provider,{value:this.props.routeContext},_.createElement(nq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lae(r){let{routeContext:e,match:t,children:n}=r,i=_.useContext(vC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Wu.Provider,{value:e},n)}function Nae(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var o;if((o=t)!=null&&o.errors)r=t.matches;else return null}let a=r,s=(i=t)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));c>=0||pr(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(t&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=t,f=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let p,f=!1,v=null,g=null;t&&(p=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||Mae,l&&(u<0&&h===0?($ae("route-fallback",!1),f=!0,g=null):u===h&&(f=!0,g=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,h+1)),C=()=>{let y;return p?y=v:f?y=g:d.route.Component?y=_.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,_.createElement(Lae,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:t!=null},children:y})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(Fae,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:C(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):C()},null)}var oq=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(oq||{}),m_=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(m_||{});function kae(r){let e=_.useContext(vC);return e||pr(!1),e}function Vae(r){let e=_.useContext(rq);return e||pr(!1),e}function Bae(r){let e=_.useContext(Wu);return e||pr(!1),e}function LF(r){let e=Bae(),t=e.matches[e.matches.length-1];return t.route.id||pr(!1),t.route.id}function Hae(){return LF(m_.UseRouteId)}function aq(){var r;let e=_.useContext(nq),t=Vae(m_.UseRouteError),n=LF(m_.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Gae(){let{router:r}=kae(oq.UseNavigateStable),e=LF(m_.UseNavigateStable),t=_.useRef(!1);return iq(()=>{t.current=!0}),_.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,g_({fromRouteId:e},o)))},[r,e])}const ZB={};function $ae(r,e,t){!e&&!ZB[r]&&(ZB[r]=!0)}function Wae(r){return Dae(r.context)}function zae(r){let{basename:e="/",children:t=null,location:n,navigationType:i=zn.Pop,navigator:o,static:a=!1,future:s}=r;gC()&&pr(!1);let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:o,static:a,future:g_({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof n=="string"&&(n=Gu(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:f="default"}=n,v=_.useMemo(()=>{let g=Qc(c,l);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:f},navigationType:i}},[l,c,d,h,p,f,i]);return v==null?null:_.createElement($u.Provider,{value:u},_.createElement(Tx.Provider,{children:t,value:v}))}new Promise(()=>{});function Uae(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(e,{element:_.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:_.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(e,{errorElement:_.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fh.apply(this,arguments)}function sq(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}const kw="get",pT="application/x-www-form-urlencoded";function Rx(r){return r!=null&&typeof r.tagName=="string"}function jae(r){return Rx(r)&&r.tagName.toLowerCase()==="button"}function Kae(r){return Rx(r)&&r.tagName.toLowerCase()==="form"}function qae(r){return Rx(r)&&r.tagName.toLowerCase()==="input"}function Yae(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Xae(r,e){return r.button===0&&(!e||e==="_self")&&!Yae(r)}let Dy=null;function Qae(){if(Dy===null)try{new FormData(document.createElement("form"),0),Dy=!1}catch{Dy=!0}return Dy}const Zae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fT(r){return r!=null&&!Zae.has(r)?null:r}function Jae(r,e){let t,n,i,o,a;if(Kae(r)){let s=r.getAttribute("action");n=s?Qc(s,e):null,t=r.getAttribute("method")||kw,i=fT(r.getAttribute("enctype"))||pT,o=new FormData(r)}else if(jae(r)||qae(r)&&(r.type==="submit"||r.type==="image")){let s=r.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||s.getAttribute("action");if(n=l?Qc(l,e):null,t=r.getAttribute("formmethod")||s.getAttribute("method")||kw,i=fT(r.getAttribute("formenctype"))||fT(s.getAttribute("enctype"))||pT,o=new FormData(s,r),!Qae()){let{name:u,type:c,value:d}=r;if(c==="image"){let h=u?u+".":"";o.append(h+"x","0"),o.append(h+"y","0")}else u&&o.append(u,d)}}else{if(Rx(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kw,n=null,i=pT,a=r}return o&&i==="text/plain"&&(a=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:a}}const ese=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tse=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],rse="6";try{window.__reactRouterVersion=rse}catch{}function nse(r,e){return fae({basename:e==null?void 0:e.basename,future:Fh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:koe({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||ise(),routes:r,mapRouteProperties:Uae,window:e==null?void 0:e.window}).initialize()}function ise(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=Fh({},e,{errors:ose(e.errors)})),e}function ose(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new AF(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",t[n]=a}catch{}}if(t[n]==null){let o=new Error(i.message);o.stack="",t[n]=o}}else t[n]=i;return t}const ase=_.createContext({isTransitioning:!1}),sse=_.createContext(new Map),lse="startTransition",JB=Zf[lse],use="flushSync",e1=Ooe[use];function cse(r){JB?JB(r):r()}function qv(r){e1?e1(r):r()}let dse=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function hse(r){let{fallbackElement:e,router:t,future:n}=r,[i,o]=_.useState(t.state),[a,s]=_.useState(),[l,u]=_.useState({isTransitioning:!1}),[c,d]=_.useState(),[h,p]=_.useState(),[f,v]=_.useState(),g=_.useRef(new Map),{v7_startTransition:m}=n||{},C=_.useCallback(x=>{m?cse(x):x()},[m]),y=_.useCallback((x,I)=>{let{deletedFetchers:R,unstable_flushSync:D,unstable_viewTransitionOpts:A}=I;R.forEach(F=>g.current.delete(F)),x.fetchers.forEach((F,P)=>{F.data!==void 0&&g.current.set(P,F.data)});let V=t.window==null||typeof t.window.document.startViewTransition!="function";if(!A||V){D?qv(()=>o(x)):C(()=>o(x));return}if(D){qv(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let F=t.window.document.startViewTransition(()=>{qv(()=>o(x))});F.finished.finally(()=>{qv(()=>{d(void 0),p(void 0),s(void 0),u({isTransitioning:!1})})}),qv(()=>p(F));return}h?(c&&c.resolve(),h.skipTransition(),v({state:x,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(s(x),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[t.window,h,c,g,C]);_.useLayoutEffect(()=>t.subscribe(y),[t,y]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new dse)},[l]),_.useEffect(()=>{if(c&&a&&t.window){let x=a,I=c.promise,R=t.window.document.startViewTransition(async()=>{C(()=>o(x)),await I});R.finished.finally(()=>{d(void 0),p(void 0),s(void 0),u({isTransitioning:!1})}),p(R)}},[C,a,c,t.window]),_.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,h,i.location,a]),_.useEffect(()=>{!l.isTransitioning&&f&&(s(f.state),u({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),v(void 0))},[l.isTransitioning,f]),_.useEffect(()=>{},[]);let w=_.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:x=>t.navigate(x),push:(x,I,R)=>t.navigate(x,{state:I,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(x,I,R)=>t.navigate(x,{replace:!0,state:I,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[t]),T=t.basename||"/",S=_.useMemo(()=>({router:t,navigator:w,static:!1,basename:T}),[t,w,T]);return _.createElement(_.Fragment,null,_.createElement(vC.Provider,{value:S},_.createElement(rq.Provider,{value:i},_.createElement(sse.Provider,{value:g.current},_.createElement(ase.Provider,{value:l},_.createElement(zae,{basename:T,location:i.location,navigationType:i.historyAction,navigator:w,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?_.createElement(pse,{routes:t.routes,future:t.future,state:i}):e))))),null)}function pse(r){let{routes:e,future:t,state:n}=r;return Aae(e,void 0,n,t)}const fse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gse=_.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=sq(e,ese),{basename:p}=_.useContext($u),f,v=!1;if(typeof u=="string"&&vse.test(u)&&(f=u,fse))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),T=Qc(w.pathname,p);w.origin===y.origin&&T!=null?u=T+w.search+w.hash:v=!0}catch{}let g=Tae(u,{relative:i}),m=Cse(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function C(y){n&&n(y),y.defaultPrevented||m(y)}return _.createElement("a",Fh({},h,{href:f||g,onClick:v||o?n:C,ref:t,target:l}))}),mse=_.forwardRef((r,e)=>{let{fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:a,method:s=kw,action:l,onSubmit:u,relative:c,preventScrollReset:d,unstable_viewTransition:h}=r,p=sq(r,tse),f=bse(),v=Ese(l,{relative:c}),g=s.toLowerCase()==="get"?"get":"post",m=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let y=C.nativeEvent.submitter,w=(y==null?void 0:y.getAttribute("formmethod"))||s;f(y||C.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:o,state:a,relative:c,preventScrollReset:d,unstable_viewTransition:h})};return _.createElement("form",Fh({ref:e,method:g,action:v,onSubmit:i?u:m},p))});var kA;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(kA||(kA={}));var t1;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(t1||(t1={}));function _se(r){let e=_.useContext(vC);return e||pr(!1),e}function Cse(r,e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=e===void 0?{}:e,l=MF(),u=mC(),c=FF(r,{relative:a});return _.useCallback(d=>{if(Xae(d,t)){d.preventDefault();let h=n!==void 0?n:Xc(u)===Xc(c);l(r,{replace:h,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[u,l,c,n,i,t,r,o,a,s])}function yse(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let Sse=0,wse=()=>"__"+String(++Sse)+"__";function bse(){let{router:r}=_se(kA.UseSubmit),{basename:e}=_.useContext($u),t=Hae();return _.useCallback(function(n,i){i===void 0&&(i={}),yse();let{action:o,method:a,encType:s,formData:l,body:u}=Jae(n,e);if(i.navigate===!1){let c=i.fetcherKey||wse();r.fetch(c,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,unstable_flushSync:i.unstable_flushSync})}else r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:t,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})},[r,e,t])}function Ese(r,e){let{relative:t}=e===void 0?{}:e,{basename:n}=_.useContext($u),i=_.useContext(Wu);i||pr(!1);let[o]=i.matches.slice(-1),a=Fh({},FF(r||".",{relative:t})),s=mC();if(r==null){a.search=s.search;let l=new URLSearchParams(a.search);l.has("index")&&l.get("index")===""&&(l.delete("index"),a.search=l.toString()?"?"+l.toString():"")}return(!r||r===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Tl([n,a.pathname])),Xc(a)}var xse={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},Aa=function(r){if(r===null)return"null";var e=Object.prototype.toString.call(r);return typeof r=="object"?xse[e]||"object":typeof r},__=function(r){return typeof r=="boolean"},r1=function(r){return Tr(r)&&r.toString().indexOf("e")!==-1},Zo=function(r){return Aa(r)==="date"},L=function(r){return r!=null},Ne=function(r){return typeof r=="function"},ft=function(r){return typeof r=="string"},Tr=function(r){return typeof r=="number"&&isFinite(r)||!isNaN(r-parseFloat(r))},pt=function(r){return Aa(r)==="object"},go=function(r){var e;for(e in r)return!1;return!0},Nt=function(r){if(!r||Aa(r)!=="object")return!1;var e=Object.getPrototypeOf(r);if(!e)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&Object.toString.call(t)===Object.toString.call(Object)},Bm=function(r){return["object","array","function"].indexOf(Aa(r))===-1},bn=function(r){return r!=null&&r===r.window},Pa=function(r){return!!r&&!!(r.jquery||r.dxRenderer)},wv=function(r){return!!r&&Ne(r.then)},Ox=function(r){return!!r&&Ne(r.done)&&Ne(r.fail)},Ise=function(r){return!!(r&&r.preventDefault)},Tse=function(r,e,t){r=r||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];(!(n in r)||t)&&(r[n]=i)}return r},$=function r(e){e=e||{};var t=1,n=!1;for(typeof e=="boolean"&&(n=e,e=arguments[1]||{},t++);t<arguments.length;t++){var i=arguments[t];if(i!=null)for(var o in i){var a=e[o],s=i[o],l=!1,u=void 0;o==="__proto__"||o==="constructor"||e===s||(n&&s&&(Nt(s)||(l=Array.isArray(s)))?(l?u=a&&Array.isArray(a)?a:[]:u=a&&Nt(a)?a:{},e[o]=r(n,u,s)):s!==void 0&&(e[o]=s))}}return e},Gn=(r,e)=>{if(Array.isArray(r))return r.map(e);var t=[];for(var n in r)t.push(e(r[n],n));return t},U=(r,e)=>{if(r){if("length"in r)for(var t=0;t<r.length&&e.call(r[t],t,r[t])!==!1;t++);else for(var n in r)if(e.call(r[n],n,r[n])===!1)break;return r}},Rse=function(){},Ay=function(r){return typeof console>"u"||!Ne(console[r])?Rse:console[r].bind(console)},Dx={log:Ay("log"),info:Ay("info"),warn:Ay("warn"),error:Ay("error")},lq=function(){var r=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(r[0],"&amp;").replace(r[1],"&quot;").replace(r[2],"&#39;").replace(r[3],"&lt;").replace(r[4],"&gt;")}}(),Ose=function(r){switch(typeof r){case"string":return r.split(/\s+/,4);case"object":return[r.x||r.h||r.left,r.y||r.v||r.top,r.x||r.h||r.right,r.y||r.v||r.bottom];case"number":return[r];default:return r}},Dse=function(r){var e=Ose(r),t=parseInt(e&&e[0],10),n=parseInt(e&&e[1],10),i=parseInt(e&&e[2],10),o=parseInt(e&&e[3],10);return isFinite(t)||(t=0),isFinite(n)||(n=t),isFinite(i)||(i=t),isFinite(o)||(o=n),{top:n,right:i,bottom:o,left:t}};function kl(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Ne(r)?r(...t):(t.forEach((i,o)=>{ft(i)&&(i=i.replace(/\$/g,"$$$$"));var a=new RegExp("\\{"+o+"\\}","gm");r=r.replace(a,i)}),r)}var Vw=function(){var r=/\s/g;return function(e){return!e||!e.replace(r,"")}}(),uq="23.2.4",Ase="https://js.devexpress.com/error/"+uq.split(".").slice(0,2).join("_")+"/";function NF(r,e){var t={ERROR_MESSAGES:$(e,r),Error:function(){return a([].slice.call(arguments))},log:function(l){var u="log";/^E\d+$/.test(l)?u="error":/^W\d+$/.test(l)&&(u="warn"),Dx[u](u==="log"?l:n([].slice.call(arguments)))}};function n(l){var u=l[0];return l=l.slice(1),o(u,i(u,l))}function i(l,u){return u=[t.ERROR_MESSAGES[l]].concat(u),kl.apply(this,u).replace(/\.*\s*?$/,"")}function o(l,u){var c=l!=null&&l.startsWith("W")?"warning":"error";return kl.apply(this,[`{0} - {1}.

For additional information on this {2} message, see: {3}`,l,u,c,s(l)])}function a(l){var u=l[0];l=l.slice(1);var c=i(u,l),d=s(u),h=o(u,c);return $(new Error(h),{__id:u,__details:c,url:d})}function s(l){return Ase+l}return t}const br=NF({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2',W0019:`DevExtreme: Unable to Locate a Valid License Key.

If you are using a 30-day trial version of DevExtreme, you must uninstall all copies of DevExtreme once your 30-day trial period expires. For terms and conditions that govern use of DevExtreme UI components/libraries, please refer to the DevExtreme End User License Agreement: https://js.devexpress.com/EULAs/DevExtremeComplete.

To use DevExtreme in a commercial project, you must purchase a license. For pricing/licensing options, please visit: https://js.devexpress.com/Buy.

If you have licensing-related questions or need help with a purchase, please email clientservices@devexpress.com.

`,W0020:`DevExtreme: License Key Has Expired.

A mismatch exists between the license key used and the DevExtreme version referenced in this project.

To proceed, you can:
 use a version of DevExtreme linked to your license key: https://www.devexpress.com/ClientCenter/DownloadManager
 renew your DevExpress Subscription: https://www.devexpress.com/buy/renew (once you renew your subscription, you will be entitled to product updates and support service as defined in the DevExtreme End User License Agreement)

If you have licensing-related questions or need help with a renewal, please email clientservices@devexpress.com.

`,W0021:`DevExtreme: License Key Verification Has Failed.

To verify your DevExtreme license, make certain to specify a correct key in the GlobalConfig. If you continue to encounter this error, please visit https://www.devexpress.com/ClientCenter/DownloadManager to obtain a valid license key.

If you have a valid license and this problem persists, please submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.

`,W0022:`DevExtreme: Pre-release software. Not suitable for commercial use.

Pre-release software may contain deficiencies and as such, should not be considered for use or integrated in any mission critical application.

`});var Pse=function(r,e,t){return function(){var n=this.callBase;this.callBase=r[e];try{return t.apply(this,arguments)}finally{this.callBase=n}}},Mse=function(r){var e=function(){};return e.prototype=r.prototype,new e},Fse=function(r){var e,t,n;if(!r)return this;for(t in r)n=r[t],e=typeof this.prototype[t]=="function"&&typeof n=="function",this.prototype[t]=e?Pse(this.parent.prototype,t,n):n;return this},Lse=function(){var r=this,e,t,n,i=Object.prototype.hasOwnProperty.bind(r),o=!i("_includedCtors")&&!i("_includedPostCtors");for(o&&(r._includedCtors=r._includedCtors.slice(0),r._includedPostCtors=r._includedPostCtors.slice(0)),n=0;n<arguments.length;n++){e=arguments[n],e.ctor&&r._includedCtors.push(e.ctor),e.postCtor&&r._includedPostCtors.push(e.postCtor);for(t in e)t==="ctor"||t==="postCtor"||t==="default"||(r.prototype[t]=e[t])}return r},Nse=function(r){var e=Object.prototype.hasOwnProperty.bind(this)("parent"),t=!e&&this.parent;if(t){var n=Object.getPrototypeOf(this);return n===r||n.subclassOf(r)}else return this.parent===r?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(r)},cq=function(){throw br.Error("E0001")},kse=function(){var r=Object.prototype.hasOwnProperty;return function(e,t){for(var n in e){if(!r.call(e,n))return;t[n]=e[n]}}}(),tr=function(){};tr.inherit=function(r){var e=function(){if(!this||bn(this)||typeof this.constructor!="function")throw br.Error("E0003");var t=this,n=t.ctor,i=t.constructor._includedCtors,o=t.constructor._includedPostCtors,a;for(a=0;a<i.length;a++)i[a].call(t);for(n&&n.apply(t,arguments),a=0;a<o.length;a++)o[a].call(t)};return e.prototype=Mse(this),kse(this,e),e.inherit=this.inherit,e.abstract=cq,e.redefine=Fse,e.include=Lse,e.subclassOf=Nse,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(r),e};tr.abstract=cq;function ms(r){var e=tr.inherit(r),t=e,n=new t(r),i={},o=function(a,s){U(a,function(l){Ne(n[l])?(s||!r[l])&&(r[l]=function(){return n[l].apply(r,arguments)}):(s&&(i[l]=r[l]),r[l]=n[l])})};return o(r,!0),r.inject=function(a){t=t.inherit(a),n=new t,o(a)},r.resetInjection=function(){$(r,i),t=e,n=new e},r}function b(){return b=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},b.apply(this,arguments)}var n1={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:r=>{r.trim().charAt(0)!=="{"&&(r="{"+r+"}");try{return JSON.parse(r)}catch(e){try{return JSON.parse(Vse(r))}catch{throw br.Error("E3018",e,r)}}}},Vse=r=>r.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),Bse=["decimalSeparator","thousandsSeparator"],Fr=function(){if(!arguments.length)return n1;var r=arguments.length<=0?void 0:arguments[0];Bse.forEach(e=>{if(r[e]){var t="Now, the ".concat(e," is selected based on the specified locale.");br.log("W0003","config",e,"19.2",t)}}),$(n1,r)};typeof DevExpress<"u"&&DevExpress.config&&Fr(DevExpress.config);var dn=tr.inherit({ctor:function(r){r&&(r=String(r)),this._value=this._normalize(r||this._generate())},_normalize:function(r){for(r=r.replace(/[^a-f0-9]/gi,"").toLowerCase();r.length<32;)r+="0";return[r.substr(0,8),r.substr(8,4),r.substr(12,4),r.substr(16,4),r.substr(20,12)].join("-")},_generate:function(){for(var r="",e=0;e<32;e++)r+=Math.round(15*Math.random()).toString(16);return r},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),zu=function(r){this._options=r||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};zu.prototype._fireCore=function(r,e){var t=this._firingIndexes,n=this._list,i=this._options.stopOnFalse,o=t.length;for(t[o]=0;t[o]<n.length;t[o]++){var a=n[t[o]].apply(r,e);if(a===!1&&i)break}t.pop()};zu.prototype.add=function(r){return typeof r=="function"&&(!this._options.unique||!this.has(r))&&this._list.push(r),this};zu.prototype.remove=function(r){var e=this._list,t=this._firingIndexes,n=e.indexOf(r);if(n>-1&&(e.splice(n,1),this._firing&&t.length))for(var i=0;i<t.length;i++)n<=t[i]&&t[i]--;return this};zu.prototype.has=function(r){var e=this._list;return r?e.indexOf(r)>-1:!!e.length};zu.prototype.empty=function(r){return this._list=[],this};zu.prototype.fireWith=function(r,e){var t=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(r,e);else{if(t.push([r,e]),this._firing)return;for(this._firing=!0;t.length;){var n=t.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this};zu.prototype.fire=function(){this.fireWith(this,arguments)};zu.prototype.fired=function(){return this._fired};var ar=function(r){return new zu(r)},dq=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],ev=function(){var r=this;this._state="pending",this._promise={},dq.forEach((function(e){var t=e.method;this[t+"Callbacks"]=ar(),this[t]=(function(){return this[t+"With"](this._promise,arguments)}).bind(this),this._promise[e.handler]=function(n){if(!n)return this;var i=r[t+"Callbacks"];return i.fired()?n.apply(r[t+"Context"],r[t+"Args"]):i.add((function(o,a){n.apply(o,a)}).bind(this)),this}}).bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,t){var n=new ev;return["done","fail"].forEach((function(i){var o=i==="done"?e:t;this[i](function(){if(!o){n[i==="done"?"resolve":"reject"].apply(this,arguments);return}var a=o&&o.apply(this,arguments);Ox(a)?a.done(n.resolve).fail(n.reject):wv(a)?a.then(n.resolve,n.reject):n.resolve.apply(this,L(a)?[a]:arguments)})}).bind(this)),n.promise()},this._promise.state=function(){return r._state},this._promise.promise=function(e){return e?$(e,r._promise):r._promise},this._promise.promise(this)};dq.forEach(function(r){var e=r.method,t=r.state;ev.prototype[e+"With"]=function(n,i){var o=this[e+"Callbacks"];return this.state()==="pending"&&(this[e+"Args"]=i,this[e+"Context"]=n,t&&(this._state=t),o.fire(n,i)),this}});function ui(r,e){if(Ox(r))return r;if(wv(r)){var t=new ev;return r.then(function(){t.resolveWith.apply(t,[e].concat([[].slice.call(arguments)]))},function(){t.rejectWith.apply(t,[e].concat([[].slice.call(arguments)]))}),t}return new ev().resolveWith(e,[r])}var Hse=function(){if(arguments.length===1)return ui(arguments[0]);for(var r=[].slice.call(arguments),e=[],t=0,n=new ev,i=function(a){return function(s){e[a]=this,r[a]=arguments.length>1?[].slice.call(arguments):s,t++,t===r.length&&n.resolveWith(e,r)}},o=0;o<r.length;o++)Ox(r[o])?r[o].promise().done(i(o)).fail(n.reject):t++;return t===r.length&&n.resolveWith(e,r),n.promise()};function X(){return new ev}function $e(){return Hse.apply(this,arguments)}const Xi=ms({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(r){return r},unwrap:function(r){return r},assign:function(){Dx.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var VA=function(r,e){var t=[],n,i;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(n);for(t.sort(function(o,a){var s=Tr(o),l=Tr(a);return s&&l?o-a:s&&!l?-1:!s&&l?1:o<a?-1:o>a?1:0}),i=0;i<t.length;i++)n=t[i],e(n,r[n])},Gse=function(r,e,t,n){!n&&Xi.isWrapped(r[e])?Xi.assign(r[e],t):r[e]=t},rs=function r(e,t,n,i){var o,a;for(var s in t)if(o=e[s],a=t[s],!(s==="__proto__"||s==="constructor"||e===a)){if(Nt(a)){var l=n?pt(o):Nt(o);a=r(l?o:{},a,n,i)}a!==void 0&&o!==a&&Gse(e,s,a,i)}return e},$se=Xi.unwrap,hq=Xi.isWrapped,Wse=Xi.assign,zse=function(r){return r.replace(/\[/g,".").replace(/\]/g,"")},ap=function(r){return zse(r).split(".")},Use=function(r,e,t){return t=t||{},C_(e==="this"?r:r[e],t)},pq=function(r,e,t,n){if(e==="this")throw new br.Error("E4016");var i=r[e];n.unwrapObservables&&hq(i)?Wse(i,t):r[e]=t},fq=function(r){return r=r||{},r.unwrapObservables=r.unwrapObservables!==void 0?r.unwrapObservables:!0,r};function C_(r,e){return e.unwrapObservables?$se(r):r}var Ar=function(r){if(arguments.length>1&&(r=[].slice.call(arguments)),!r||r==="this")return function(t){return t};if(typeof r=="string"){var e=ap(r);return function(t,n){n=fq(n);for(var i=n.functionsAsIs,o=("defaultValue"in n),a=C_(t,n),s=0;s<e.length;s++){if(!a){if(a==null&&o)return n.defaultValue;break}var l=e[s];if(o&&pt(a)&&!(l in a))return n.defaultValue;var u=C_(a[l],n);!i&&Ne(u)&&(u=u.call(a)),a=u}return a}}if(Array.isArray(r))return jse(r);if(Ne(r))return r};function jse(r){for(var e={},t=0,n=r.length;t<n;t++){var i=r[t];e[i]=Ar(i)}return function(o,a){var s;return U(e,function(l){var u=this(o,a);if(u!==void 0){for(var c=s||(s={}),d=l.split("."),h=d.length-1,p=0;p<h;p++){var f=d[p];f in c||(c[f]={}),c=c[f]}c[d[h]]=u}}),s}}var i1=function(r,e,t,n){if(L(t))return t;var i={};return pq(r,e,i,n),i},kF=function(r){r=ap(r||"this");var e=r.length-1;return function(t,n,i){i=fq(i);var o=C_(t,i);r.forEach(function(a,s){var l=Use(o,a,i),u=!i.functionsAsIs&&Ne(l)&&!hq(l);s===e?i.merge&&Nt(n)&&(!L(l)||Nt(l))?(l=i1(o,a,l,i),rs(l,n,!1,!0)):u?o[a](n):pq(o,a,n,i):(l=i1(o,a,l,i),u&&(l=l.call(o)),o=l)})}},wi=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r instanceof Date)return r.getTime();if(r&&r instanceof tr&&r.valueOf)return r.valueOf();if(!e&&typeof r=="string"){var n;if((t==null||(n=t.collatorOptions)===null||n===void 0?void 0:n.sensitivity)==="base"){var i=/[\u0300-\u036f]/g;r=r.normalize("NFD").replace(i,"")}return t!=null&&t.locale?r.toLocaleLowerCase(t.locale):r.toLowerCase()}return r},an=function(r,e){return L(r)?r:e},VF=function(r,e){var t=new X,n=e||this,i={promise:t.promise(),abort:function(){clearTimeout(a),t.rejectWith(n)}},o=function(){var s=r.call(n);s&&s.done&&Ne(s.done)?s.done(function(){t.resolveWith(n)}):t.resolveWith(n)},a=(arguments[2]||setTimeout)(o,typeof e=="number"?e:0);return i},vT=[],o1=[],Yv=[],Ip,Ax=function(r,e,t){if(Ip&&Ip!==r)return vT.push(e),o1.push(r),t=t||new X,Yv.push(t),t;var n=Ip,i=Yv.length;Ip=r;var o=e();return o||(Yv.length>i?o=$e.apply(this,Yv.slice(i)):t&&t.resolve()),Ip=n,t&&o&&o.done&&o.done(t.resolve).fail(t.reject),!Ip&&vT.length&&(o1.shift()==="render"?jn:qi)(vT.shift(),Yv.shift()),o||$e()},jn=function(r,e){return Ax("render",r,e)},qi=function(r,e){return Ax("update",r,e)},Bf=function(r){return function(){var e=this;return Ax("render",function(){return r.call(e)})}},a1=function(r){return function(){var e=this;return Ax("update",function(){return r.call(e)})}},vq=function(r,e,t){var n=[],i=0;return U(e,(o,a)=>{var s=0,l=t?t(a):a;U(r,(u,c)=>{var d=l[u];if(d!==void 0){if(Kse(d,c)){s++;return}return s=-1,!1}}),!(s<i)&&(s>i&&(n.length=0,i=s),n.push(a))}),n},Kse=function(r,e){if(Array.isArray(r)&&Array.isArray(e)){var t=!1;return U(r,(n,i)=>{if(i!==e[n])return t=!0,!1}),!t}return r===e},bv=function(r){var e,t;switch(Aa(r)){case"string":return r.split(/\s+/,2);case"object":return[(e=r.x)!==null&&e!==void 0?e:r.h,(t=r.y)!==null&&t!==void 0?t:r.v];case"number":return[r];case"array":return r;default:return null}},gq=function(r,e){var t=bv(r),n=e?parseFloat(t&&t[0]):parseInt(t&&t[0],10),i=e?parseFloat(t&&t[1]):parseInt(t&&t[1],10);return isFinite(n)||(n=0),isFinite(i)||(i=n),{h:n,v:i}},Vl=function(r){if(r instanceof dn)return r.toString();if(pt(r)||Array.isArray(r))try{var e=JSON.stringify(r);return e==="{}"?r:e}catch{return r}return r},$c=function(r){return r.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},qse=function(r){var e=Fr().serverDecimalSeparator;return L(r)&&(r=r.toString().replace(".",e)),r},Z=function(){},mq=function(){return new X().resolve().promise()},ho=function(r,e,t){for(var n=[],i,o=!t,a=0;a<r.length;a++)i=!!e(r[a],a),i===o&&n.push(r[a]);return n},Yse=(r,e,t,n)=>r.length!==e.length?!1:!r.some((i,o)=>!BF(i,e[o],t+1,b({},n,{strict:!0}))),Xse=(r,e,t,n)=>{var i=Object.keys(r),o=Object.keys(e);if(i.length!==o.length)return!1;var a=new Set(o);return!i.some(s=>!a.has(s)||!BF(r[s],e[s],t+1,n))},s1={maxDepth:3,strict:!0},BF=(r,e,t,n)=>{var{strict:i,maxDepth:o}=n,a=wi(r,!0),s=wi(e,!0),l=i?a===s:a==s;switch(!0){case l:case t>=o:return!0;case(pt(a)&&pt(s)):return Xse(a,s,t,n);case(Array.isArray(a)&&Array.isArray(s)):return Yse(a,s,t,n);default:return!1}},Mr=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s1,n=b({},s1,t);return BF(r,e,0,n)},gT="dx-",Py=null;function l1(r){try{return new CSSStyleSheet}catch{var e=r.ownerDocument.createElement("style");return r.appendChild(e),e.sheet}}function u1(r,e,t){for(var n=0;n<e.length;n++){var i=e[n];try{for(var o=0;o<i.cssRules.length;o++)Qse(r,i.cssRules[o],t)}catch{}}}function Qse(r,e,t){var n,i,o,a,s,l,u=t||((n=e.selectorText)===null||n===void 0?void 0:n.includes(gT))||((i=e.cssRules)===null||i===void 0||(o=i[0])===null||o===void 0||(a=o.selectorText)===null||a===void 0?void 0:a.includes(gT))||((s=e.name)===null||s===void 0?void 0:s.startsWith(gT))||((l=e.style)===null||l===void 0?void 0:l.fontFamily)==="DXIcons";u&&r.insertRule(e.cssText,r.cssRules.length)}function Zse(r){var e,t=r.get(0),n=(e=t.getRootNode)===null||e===void 0?void 0:e.call(t);if(n!=null&&n.host){Py||(Py=l1(n),u1(Py,t.ownerDocument.styleSheets,!1));var i=l1(n);u1(i,n.styleSheets,!0),n.adoptedStyleSheets=[Py,i]}}function Jse(r,e,t){var n=r.getBoundingClientRect();return n&&e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom}function ele(){var r=0,e=[];return{push(t){return e.push(t),this},shift(){return r++,e[r-1]},get length(){return e.length-r},get items(){return e}}}function tle(r,e,t){for(var n=ele().push(t);n.length;)for(var i=n.shift(),o=0;o<i.childNodes.length;o++){var a=i.childNodes[o];a.nodeType===Node.ELEMENT_NODE&&Jse(a,r,e)&&getComputedStyle(a).pointerEvents!=="none"&&n.push(a)}var s=n.items.reverse();return s.pop(),s}var rle=1,nle=3,ile=9,ole=11,ale={querySelectorAll:(r,e)=>r.querySelectorAll(e),elementMatches(r,e){var t=r.matches||r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector||(n=>{var i=r.document||r.ownerDocument;if(!i)return!1;for(var o=this.querySelectorAll(i,n),a=0;a<o.length;a++)if(o[a]===r)return!0});return t.call(r,e)},createElement(r,e){return e=e||this._document,e.createElement(r)},createElementNS(r,e,t){return t=t||this._document,t.createElementNS(r,e)},createTextNode(r,e){return e=e||this._document,e.createTextNode(r)},createAttribute(r,e){return e=e||this._document,e.createAttribute(r)},isNode:r=>r&&typeof r=="object"&&"nodeType"in r&&"nodeName"in r,isElementNode:r=>r&&r.nodeType===rle,isTextNode:r=>r&&r.nodeType===nle,isDocument:r=>r&&r.nodeType===ile,isDocumentFragment:r=>r&&r.nodeType===ole,removeElement(r){var e=r&&r.parentNode;e&&e.removeChild(r)},insertElement(r,e,t){r&&e&&r!==e&&(t?r.insertBefore(e,t):r.appendChild(e))},getAttribute:(r,e)=>r.getAttribute(e),setAttribute(r,e,t){e==="style"?r.style.cssText=t:r.setAttribute(e,t)},removeAttribute(r,e){r.removeAttribute(e)},setProperty(r,e,t){r[e]=t},setText(r,e){r&&(r.textContent=e)},setClass(r,e,t){r.nodeType===1&&e&&(t?r.classList.add(e):r.classList.remove(e))},setStyle(r,e,t){r.style[e]=t||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(r){var e=this.getRootNode(r);return e.activeElement},getRootNode(r){var e,t;return(e=r==null||(t=r.getRootNode)===null||t===void 0?void 0:t.call(r))!==null&&e!==void 0?e:this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(r){return r in this._document},listen(r,e,t,n){return!r||!("addEventListener"in r)?Z:(r.addEventListener(e,t,n),()=>{r.removeEventListener(e,t)})},elementsFromPoint(r,e,t){var n=this.getRootNode(t);return n.host?tle(r,e,n):n.elementsFromPoint(r,e)}};const ce=ms(ale);class HF{constructor(){this.memory=[],this.callbacks=ar()}add(e){U(this.memory,(t,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.memory.push(t),this.callbacks.fire.apply(this.callbacks,t)}}const GF=new HF;var sle=typeof window<"u",yt=()=>sle,th=yt()?window:void 0;th||(th={},th.window=th);var Rt=()=>th,_q=r=>yt()&&r in th,$F=r=>r<768?"xs":r<992?"sm":r<1200?"md":"lg",Cq=r=>{var e=r||$F,t=ce.getDocumentElement().clientWidth;return e(t)},_C=()=>yt()?th.navigator:{userAgent:""},lle=["pageX","pageY","screenX","screenY","clientX","clientY"],ule=function(r,e){if(e[r]&&!e.touches||!e.touches)return e[r];var t=e.touches.length?e.touches:e.changedTouches;if(t.length)return t[0][r]};function cle(r){lle.forEach(function(e){r(e,function(t){return ule(e,t)})},this)}var Uu=function(r){var e,t=function(){return e=r.apply(this,arguments),t=function(){return e},e};return function(){return t.apply(this,arguments)}},WF=Rt(),My="dxEmptyEventType",c1={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},dle={focusin:"focus",focusout:"blur"},hle=["blur","focus","load"],yq=["touchmove","wheel","mousewheel","touchstart"],ple=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function fle(r,e){return!bn(r)&&r.nodeName!=="#document"&&ce.elementMatches(r,e)}var mT=new WeakMap,Sq=0,Pb,Oc=function(){var r={};return GF.add(function(e,t){r[e]=t}),{getField:function(e,t){return r[e]&&r[e][t]},callMethod:function(e,t,n,i){return r[e]&&r[e][t]&&r[e][t].apply(n,i)}}}(),B=ms({on:Xv(BA(p1(function(r,e,t,n,i){var o=df(r,e);o.addHandler(i,t,n)}))),one:Xv(BA(function(r,e,t,n,i){B.on(r,e,t,n,function o(){B.off(r,e,t,o),i.apply(this,arguments)})})),off:Xv(mle(p1(function(r,e,t,n){var i=df(r,e);i.removeHandler(n,t)}))),trigger:Xv(h1(function(r,e,t){var n=e.type,i=df(r,e.type);Oc.callMethod(n,"trigger",r,[e,t]),i.callHandlers(e,t);var o=Oc.getField(n,"noBubble")||e.isPropagationStopped()||hle.indexOf(n)!==-1;if(!o){var a=[];(function u(c){var d,h=(d=c.parentNode)!==null&&d!==void 0?d:pt(c.host)?c.host:null;h&&(a.push(h),u(h))})(r),a.push(WF);for(var s=0;a[s]&&!e.isPropagationStopped();){var l=df(a[s],e.type);l.callHandlers($(e,{currentTarget:a[s]}),t),s++}}(r.nodeType||bn(r))&&(Oc.callMethod(n,"_default",r,[e,t]),Cle(n,r))})),triggerHandler:Xv(h1(function(r,e,t){var n=df(r,e.type);n.callHandlers(e,t)}))});function zF(r,e){var t=r[0];if(t)if(ce.isNode(t)||bn(t))e.apply(B,r);else if(!ft(t)&&"length"in t){var n=Array.prototype.slice.call(r,0);Array.prototype.forEach.call(t,function(i){n[0]=i,zF(n,e)})}else throw br.Error("E0025")}function Xv(r){return function(){zF(arguments,r)}}function vle(){var r=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return r=!0,!0}});WF.addEventListener("test",null,e)}catch{}return r}var wq=Uu(vle),bq=(r,e)=>bn(r)?bq(r.document,e):r.contains?r.contains(e):!!(e.compareDocumentPosition(r)&e.DOCUMENT_POSITION_CONTAINS);function df(r,e){var t=mT.get(r);e=e||"";var n=e.split("."),i=n.slice(1),o=!!n[0];e=n[0]||My,t||(t={},mT.set(r,t)),t[e]||(t[e]={handleObjects:[],nativeHandler:null});var a=t[e];return{addHandler:function(s,l,u){var c=function(v,g){var m=[v],C=v.currentTarget,y=v.relatedTarget,w,T;e in c1&&(w=y&&C&&(y===C||bq(C,y))),g!==void 0&&m.push(g),Oc.callMethod(e,"handle",r,[v,u]),w||(T=s.apply(C,m)),T===!1&&(v.preventDefault(),v.stopPropagation())},d={handler:s,wrappedHandler:function(v,g){if(!(Pb&&v.type===Pb))if(v.data=u,v.delegateTarget=r,l)for(var m=v.target;m&&m!==r;)fle(m,l)&&(v.currentTarget=m,c(v,g)),m=m.parentNode;else v.currentTarget=v.delegateTarget||v.target,c(v,g)},selector:l,type:e,data:u,namespace:i.join("."),namespaces:i,guid:++Sq};a.handleObjects.push(d);var h=a.handleObjects.length===1,p=h&&o,f;p&&(p=!Oc.callMethod(e,"setup",r,[u,i,s])),p&&(a.nativeHandler=gle(e),wq()&&yq.indexOf(e)>-1&&(f={passive:!1}),a.removeListener=ce.listen(r,c1[e]||e,a.nativeHandler,f)),Oc.callMethod(e,"add",r,[d])},removeHandler:function(s,l){var u=function(h){var p=t[h];if(!p.handleObjects.length){delete t[h];return}var f;p.handleObjects=p.handleObjects.filter(function(m){var C=i.length&&!d1(m.namespaces,i)||s&&m.handler!==s||l&&m.selector!==l;return C||(f=m.handler,Oc.callMethod(h,"remove",r,[m])),C});var v=!p.handleObjects.length,g=v&&h!==My;g&&(Oc.callMethod(h,"teardown",r,[i,f]),p.nativeHandler&&p.removeListener(),delete t[h])};if(o)u(e);else for(var c in t)u(c);var d=Object.keys(t).length===0;d&&mT.delete(r)},callHandlers:function(s,l){var u=!1,c=function(d){u||(!i.length||d1(d.namespaces,i))&&(d.wrappedHandler(s,l),u=s.isImmediatePropagationStopped())};a.handleObjects.forEach(c),i.length&&t[My]&&t[My].handleObjects.forEach(c)}}}function gle(r){return function(e,t){var n=df(this,r);e=B.Event(e),n.callHandlers(e,t)}}function d1(r,e){for(var t=0;t<e.length;t++)if(r.indexOf(e[t])<0)return!1;return!0}function BA(r){return function(e,t,n,i,o){o||(o=i,i=void 0),typeof n!="string"&&(i=n,n=void 0),!o&&typeof t=="string"&&(o=i||n,n=void 0,i=void 0),r(e,t,n,i,o)}}function mle(r){return function(e,t,n,i){typeof n=="function"&&(i=n,n=void 0),r(e,t,n,i)}}function h1(r){return function(e,t,n){typeof t=="string"&&(t={type:t}),t.target||(t.target=e),t.currentTarget=e,t.delegateTarget||(t.delegateTarget=e),!t.type&&t.originalEvent&&(t.type=t.originalEvent.type),r(e,t instanceof B.Event?t:B.Event(t),n)}}function _le(r){return B.Event=function(e,t){if(!(this instanceof B.Event))return new B.Event(e,t);e||(e={}),typeof e=="string"&&(e={type:e}),t||(t={}),r.call(this,e,t)},b(B.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),B.Event}function p1(r){var e=function(t,n){if(n&&n.indexOf(" ")>-1){var i=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(o){i[1]=o,r.apply(this,i)})}else r.apply(this,arguments)};return function(t,n){if(typeof n=="object"){var i=Array.prototype.slice.call(arguments,0);for(var o in n)i[1]=o,i[i.length-1]=n[o],e.apply(this,i)}else e.apply(this,arguments)}}function Cle(r,e){var t=dle[r]||r;(function(n,i){return n==="click"&&i.localName==="a"})(r,e)||Ne(e[t])&&(Pb=r,e[t](),Pb=void 0)}function yle(r){return function(e){return e.which==null&&e.type.indexOf("key")===0}(r)?r.charCode!=null?r.charCode:r.keyCode:function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(r)?{1:1,2:3,3:1,4:2}[r.button]:r.which}function Eq(r){r&&(B.Event=r,B.Event.prototype=r.prototype)}Eq(_le(function(r,e){var t,n=r instanceof B.Event||yt()&&r instanceof WF.Event||((t=r.view)===null||t===void 0?void 0:t.Event)&&r instanceof r.view.Event;n?(this.originalEvent=r,this.type=r.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(r,"isTrusted")&&(this.isTrusted=r.isTrusted),this.timeStamp=r.timeStamp||Date.now()):b(this,r),UF("which",yle,this),r.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),b(this,e),this.guid=++Sq}));function UF(r,e,t){Object.defineProperty(t||B.Event.prototype,r,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(n){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}ple.forEach(r=>UF(r,e=>e[r]));cle(UF);var xq=ar(),Iq=ar();B.set=function(r){xq.fire(),B.inject(r),Eq(r.Event),Iq.fire()};B.subscribeGlobal=function(){zF(arguments,BA(function(){var r=arguments;B.on.apply(this,r),xq.add(function(){var e=Array.prototype.slice.call(r,0);e.splice(3,1),B.off.apply(this,e)}),Iq.add(function(){B.on.apply(this,r)})}))};B.forcePassiveFalseEventNames=yq;B.passiveEventHandlersSupported=wq;var Qv=new WeakMap,vh,Sle=new HF,Tq=function(){},wle=function(r){Sle.fire(r),vh=r;var e=vh.cleanData;vh.cleanData=function(t){Tq(t);var n=e.call(this,t);return n}};wle({data:function(){var r=arguments[0],e=arguments[1],t=arguments[2];if(r){var n=Qv.get(r);return n||(n={},Qv.set(r,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=t,t)}},removeData:function(r,e){if(r)if(e===void 0)Qv.delete(r);else{var t=Qv.get(r);t&&delete t[e]}},cleanData:function(r){for(var e=0;e<r.length;e++)B.off(r[e]),Qv.delete(r[e])}});function on(){return vh.data.apply(this,arguments)}function ble(r){Tq=r}function Px(r,e){return vh.removeData.call(this,r,e)}function CC(r,e){if(ce.isElementNode(r)){var t=r.getElementsByTagName("*");vh.cleanData(t),e&&vh.cleanData([r])}}var Rq=function(r){return r==null?"":String(r)},jF=function(r){return Rq(r).charAt(0).toUpperCase()+r.substr(1)},KF=function(r){return Rq(r).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},qF=function(r){return Gn(KF(r),function(e){return e.toLowerCase()}).join("-")},y_=function(r,e){return Gn(KF(r),function(t,n){return t=t.toLowerCase(),(e||n>0)&&(t=jF(t)),t}).join("")},Ele=function(r){return jF(qF(r).replace(/-/g," "))},S_=function(r){return Gn(KF(r),function(e){return jF(e.toLowerCase())}).join(" ")},xle=["0","1","2","3","4","5","6","7","8","9"],Lh=function(r){var e=[],t,n,i=!1,o=!1;for(t=0;t<r.length;t++)n=r.charAt(t),o=n===n.toUpperCase()&&n!=="-"&&n!==")"&&n!=="/"||n in xle,n==="_"||n==="."?(n=" ",o=!0):t===0?(n=n.toUpperCase(),o=!0):!i&&o&&e.length>0&&e.push(" "),e.push(n),i=o;return e.join("")},Mb=["","Webkit","Moz","O","Ms"],Ile={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},HA=Uu(function(){return ce.createElement("dx").style}),Tle=function(r,e){r=y_(r,!0);for(var t,n=0,i=Mb.length;n<i;n++){var o=Mb[n],a=o+r,s=y_(a);if(t=e(s,o),t===void 0&&(t=e(a,o)),t!==void 0)break}return t||""},sp=function(r){if(r in HA())return r;var e=r;r=r.charAt(0).toUpperCase()+r.substr(1);for(var t=1;t<Mb.length;t++){var n=Mb[t].toLowerCase()+r;if(n in HA())return n}return e},Bw=function(r){return Tle(r,function(e,t){if(e in HA())return Ile[t]})},Rle=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],tv=function(r,e){return Tr(e)&&Rle.indexOf(r)===-1&&(e+="px"),e},Oq=function(r,e,t){if(r){t=Tr(t)?t+="px":t;for(var n=0;n<r.length;++n)r[n].style[e]=t}},GA=function(r,e){Oq(r,"width",e)},_T=function(r,e){Oq(r,"height",e)},Dq=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t){var n=[].slice.call(r.style);n.forEach(i=>{r.style.removeProperty(i)})}e.split(";").forEach(i=>{var o=i.split(":").map(l=>l.trim());if(o.length===2){var[a,s]=o;r.style[a]=s}})},Fb=Rt(),Ole=["auto","none","inherit","initial"],CT=function(r,e){var t=0;return e.forEach(function(n){t+=parseFloat(r[n])||0}),t},Aq=function(r,e){var t=r==="width"?"Left":"Top",n=r==="width"?"Right":"Bottom";return{padding:CT(e,["padding"+t,"padding"+n]),border:CT(e,["border"+t+"Width","border"+n+"Width"]),margin:CT(e,["margin"+t,"margin"+n])}},Pq=function(r){var e,t=(r==null||(e=r.ownerDocument)===null||e===void 0?void 0:e.defaultView)||Fb;return t.getComputedStyle&&t.getComputedStyle(r)},$A=function(r,e,t,n){var i;return(e==null?void 0:e[t])||((i=r.style)===null||i===void 0?void 0:i[t])||n},Tp={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},f1={width:["left","right"],height:["top","bottom"]};function Zv(r,e,t,n){var i=(a,s,l)=>parseFloat($A(a,s,l,"0"))||0,o=t==="border"?"-width":"";return i(r,n,"".concat(t,"-").concat(f1[e][0]).concat(o))+i(r,n,"".concat(t,"-").concat(f1[e][1]).concat(o))}var Dle=function(r,e,t){var n=e==="width"?"offsetWidth":"offsetHeight",i=Pq(r),o=$A(r,i,e);(o===""||o==="auto")&&(o=r[n]),o=parseFloat(o)||0;var a=$A(r,i,"boxSizing","content-box"),s=t||a,l=Tp[s],u=Tp[a];if(l===void 0||u===void 0)throw new Error;if(u===l)return o;var c=Math.sign(l-u),d=!1,h=!1,p=!1,f=!1;c===1&&(l+=1,u+=1);for(var v=u;v!==l;v+=c)switch(v){case Tp.content:break;case Tp.padding:d=c*Zv(r,e,"padding",i);break;case Tp.border:h=c*Zv(r,e,"border",i);break;case Tp.margin:p=c*Zv(r,e,"margin",i)}if(d||h){var g=(d===!1?c*Zv(r,e,"padding",i):d)+(h===!1?c*Zv(r,e,"border",i):h);f=c*Math.max(0,Math.floor(r[n]-o-c*g))||0}return o+p+d+h+f},Ale=function(r){return bn(r)?r.innerHeight:r.offsetHeight},Ple=function(r,e,t){return r.indexOf("px")>0?r=parseInt(r.replace("px","")):r.indexOf("%")>0?r=parseInt(r.replace("%",""))*Ale(e)/100:isNaN(r)?r.indexOf("vh")>0?r=Fb.innerHeight/100*parseInt(r.replace("vh","")):t&&r.indexOf("em")>0&&(r=parseFloat(r.replace("em",""))*parseFloat(Fb.getComputedStyle(t).fontSize)):r=parseInt(r),r},Mq=function(r,e,t){if(!r)return null;if(Ole.indexOf(r)>-1)return e?null:r;if(ft(r)&&(r=Ple(r,t)),Tr(r))return Math.max(0,r+e);var n=e<0?" - ":" ";return"calc("+r+n+Math.abs(e)+"px)"},Mle=function(r,e,t){var n=Mq(r,e,t);return n!==null?n:"none"},Fle=function(r,e,t){var n=Mq(r,e,t);return n!==null?n:0},yT=function(r,e){if(!r)return 0;var t=Aq("height",Fb.getComputedStyle(r));return t.padding+t.border+(e?t.margin:0)},v1=function(r){if(r){var e=r.getBoundingClientRect();if(e.height)return e.height}return 0},zl={getWidth:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("width",...e)},setWidth:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("width",...e)},getHeight:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("height",...e)},setHeight:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("height",...e)},getOuterWidth:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("outerWidth",...e)},setOuterWidth:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("outerWidth",...e)},getOuterHeight:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("outerHeight",...e)},setOuterHeight:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("outerHeight",...e)},getInnerWidth:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("innerWidth",...e)},setInnerWidth:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("innerWidth",...e)},getInnerHeight:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("innerHeight",...e)},setInnerHeight:function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return $a("innerHeight",...e)}};function $a(r,e,t){return arguments.length===2?_1(e,r):_1(e,r,t)}var gt=r=>zl.getWidth(r),YF=(r,e)=>zl.setWidth(r,e),Dt=r=>zl.getHeight(r),Zc=(r,e)=>zl.setHeight(r,e),er=(r,e)=>zl.getOuterWidth(r,e||!1),g1=(r,e)=>zl.setOuterWidth(r,e),Vt=(r,e)=>zl.getOuterHeight(r,e||!1),m1=(r,e)=>zl.setOuterHeight(r,e),WA=r=>zl.getInnerWidth(r),Lb=r=>zl.getInnerHeight(r),_1=function r(e,t,n){var i=t.toLowerCase().indexOf("width")>=0?"Width":"Height",o=i.toLowerCase(),a=t.indexOf("outer")===0,s=t.indexOf("inner")===0,l=arguments.length===2||typeof n=="boolean";if(Pa(e)){if(e.length>1&&!l){for(var u=0;u<e.length;u++)r(e[u],t,n);return}e=e[0]}if(e){if(bn(e))return a?e["inner"+i]:ce.getDocumentElement()["client"+i];if(ce.isDocument(e)){var c=ce.getDocumentElement(),d=ce.getBody();return Math.max(d["scroll"+i],d["offset"+i],c["scroll"+i],c["offset"+i],c["client"+i])}if(l){var h="content";return a&&(h=n?"margin":"border"),s&&(h="padding"),Dle(e,o,h)}if(Tr(n)){var p=Pq(e),f=Aq(o,p),v=p.boxSizing==="border-box";n=Number(n),a?n-=v?0:f.border+f.padding:s?n+=v?f.border:-f.padding:v&&(n+=f.border+f.padding)}return n+=Tr(n)?"px":"",ce.setStyle(e,o,n),null}},Fq=r=>bn(r)?r:r.defaultView,zA=r=>{if(!r.getClientRects().length)return{top:0,left:0};var e=r.getBoundingClientRect(),t=Fq(r.ownerDocument),n=r.ownerDocument.documentElement;return{top:e.top+t.pageYOffset-n.clientTop,left:e.left+t.pageXOffset-n.clientLeft}},Lq=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,wl={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};wl.tbody=wl.colgroup=wl.caption=wl.tfoot=wl.thead;wl.th=wl.td;var XF=function(r){if(typeof r!="string")return null;var e=ce.createDocumentFragment(),t=e.appendChild(ce.createElement("div")),n=Lq.exec(r),i=n&&n[1].toLowerCase(),o=wl[i]||wl.default;t.innerHTML=o.startTags+r+o.endTags;for(var a=0;a<o.tagsCount;a++)t=t.lastChild;return[...t.childNodes]},Lle=function(r){var e=Lq.exec(r);return e&&e[1]in wl},Nle=Rt(),Xt,xt=function(r,e){return r?typeof r=="string"?r==="body"?(this[0]=e?e.body:ce.getBody(),this.length=1,this):(e=e||ce.getDocument(),r[0]==="<"?(this[0]=ce.createElement(r.slice(1,-1),e),this.length=1,this):([].push.apply(this,ce.querySelectorAll(e,r)),this)):ce.isNode(r)||bn(r)?(this[0]=r,this.length=1,this):Array.isArray(r)?([].push.apply(this,r),this):Xt(r.toArray?r.toArray():[r]):(this.length=0,this)};Xt=function(r,e){return new xt(r,e)};Xt.fn={dxRenderer:!0};xt.prototype=Xt.fn;var Ev=function(r,e){for(var t=0;t<this.length;t++){var n=Xt(this[t]);n[r].apply(n,e)}return this},UA=function(r,e,t){t!=null&&t!==!1?ce.setAttribute(r,e,t):ce.removeAttribute(r,e)};xt.prototype.show=function(){return this.toggle(!0)};xt.prototype.hide=function(){return this.toggle(!1)};xt.prototype.toggle=function(r){return this[0]&&this.toggleClass("dx-state-invisible",!r),this};xt.prototype.attr=function(r,e){if(this.length>1&&arguments.length>1)return Ev.call(this,"attr",arguments);if(!this[0])return pt(r)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(r,e);if(typeof r=="string"&&arguments.length===1){var t=this[0].getAttribute(r);return t??void 0}else if(Nt(r))for(var n in r)this.attr(n,r[n]);else UA(this[0],r,e);return this};xt.prototype.removeAttr=function(r){return this[0]&&ce.removeAttribute(this[0],r),this};xt.prototype.prop=function(r,e){if(!this[0])return this;if(typeof r=="string"&&arguments.length===1)return this[0][r];if(Nt(r))for(var t in r)this.prop(t,r[t]);else ce.setProperty(this[0],r,e);return this};xt.prototype.addClass=function(r){return this.toggleClass(r,!0)};xt.prototype.removeClass=function(r){return this.toggleClass(r,!1)};xt.prototype.hasClass=function(r){if(!this[0]||this[0].className===void 0)return!1;for(var e=r.split(" "),t=0;t<e.length;t++)if(this[0].classList){if(this[0].classList.contains(e[t]))return!0}else{var n=ft(this[0].className)?this[0].className:ce.getAttribute(this[0],"class");if((n||"").split(" ").indexOf(e[t])>=0)return!0}return!1};xt.prototype.toggleClass=function(r,e){if(this.length>1)return Ev.call(this,"toggleClass",arguments);if(!this[0]||!r)return this;e=e===void 0?!this.hasClass(r):e;for(var t=r.split(" "),n=0;n<t.length;n++)ce.setClass(this[0],t[n],e);return this};xt.prototype.html=function(r){return arguments.length?(this.empty(),typeof r=="string"&&!Lle(r)||typeof r=="number"?(this[0].innerHTML=r,this):this.append(XF(r))):this[0].innerHTML};var Nq=function(r,e){if(!(!this[0]||!r)){typeof r=="string"?r=XF(r):r.nodeType?r=[r]:Tr(r)&&(r=[ce.createTextNode(r)]);for(var t=0;t<r.length;t++){var n=r[t],i=this[0],o=i.tagName==="TABLE"&&n.tagName==="TR";o&&i.tBodies&&i.tBodies.length&&(i=i.tBodies[0]),ce.insertElement(i,n.nodeType?n:n[0],e)}}},C1=function(r,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){r=sp(r);for(var t=0;t<this.length;t++)this[t].style[r]=tv(r,e)}};xt.prototype.css=function(r,e){if(ft(r))if(arguments.length===2)C1.call(this,r,e);else{if(!this[0])return;r=sp(r);var t=Nle.getComputedStyle(this[0])[r]||this[0].style[r];return Tr(t)?t.toString():t}else if(Nt(r))for(var n in r)C1.call(this,n,r[n]);return this};xt.prototype.prepend=function(r){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return Nq.apply(this,[r,this[0].firstChild]),this};xt.prototype.append=function(r){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return Nq.apply(this,[r]),this};xt.prototype.prependTo=function(r){if(this.length>1){for(var e=this.length-1;e>=0;e--)Xt(this[e]).prependTo(r);return this}return r=Xt(r),r[0]&&ce.insertElement(r[0],this[0],r[0].firstChild),this};xt.prototype.appendTo=function(r){return this.length>1?Ev.call(this,"appendTo",arguments):(ce.insertElement(Xt(r)[0],this[0]),this)};xt.prototype.insertBefore=function(r){return r&&r[0]&&ce.insertElement(r[0].parentNode,this[0],r[0]),this};xt.prototype.insertAfter=function(r){return r&&r[0]&&ce.insertElement(r[0].parentNode,this[0],r[0].nextSibling),this};xt.prototype.before=function(r){return this[0]&&ce.insertElement(this[0].parentNode,r[0],this[0]),this};xt.prototype.after=function(r){return this[0]&&ce.insertElement(this[0].parentNode,r[0],this[0].nextSibling),this};xt.prototype.wrap=function(r){if(this[0]){var e=Xt(r);e.insertBefore(this),e.append(this)}return this};xt.prototype.wrapInner=function(r){var e=this.contents();return e.length?e.wrap(r):this.append(r),this};xt.prototype.replaceWith=function(r){if(r&&r[0])return r.is(this)?this:(r.insertBefore(this),this.remove(),r)};xt.prototype.remove=function(){return this.length>1?Ev.call(this,"remove",arguments):(CC(this[0],!0),ce.removeElement(this[0]),this)};xt.prototype.detach=function(){return this.length>1?Ev.call(this,"detach",arguments):(ce.removeElement(this[0]),this)};xt.prototype.empty=function(){return this.length>1?Ev.call(this,"empty",arguments):(CC(this[0]),ce.setText(this[0],""),this)};xt.prototype.clone=function(){for(var r=[],e=0;e<this.length;e++)r.push(this[e].cloneNode(!0));return Xt(r)};xt.prototype.text=function(r){if(!arguments.length){for(var e="",t=0;t<this.length;t++)e+=this[t]&&this[t].textContent||"";return e}var n=Ne(r)?r():r;return CC(this[0],!1),ce.setText(this[0],L(n)?n:""),this};xt.prototype.val=function(r){return arguments.length===1?this.prop("value",L(r)?r:""):this.prop("value")};xt.prototype.contents=function(){if(!this[0])return Xt();var r=[];return r.push.apply(r,this[0].childNodes),Xt(r)};xt.prototype.find=function(r){var e=Xt();if(!r)return e;var t=[],n;if(typeof r=="string")for(r=r.trim(),n=0;n<this.length;n++){var i=this[n];if(ce.isElementNode(i)){var o=i.getAttribute("id"),a=o||"dx-query-children";o||UA(i,"id",a),a="[id='"+a+"'] ";var s=a+r.replace(/([^\\])(,)/g,"$1, "+a);t.push.apply(t,ce.querySelectorAll(i,s)),UA(i,"id",o)}else(ce.isDocument(i)||ce.isDocumentFragment(i))&&t.push.apply(t,ce.querySelectorAll(i,r))}else for(n=0;n<this.length;n++)r=ce.isNode(r)?r:r[0],this[n]!==r&&this[n].contains(r)&&t.push(r);return e.add(t)};var y1=function(r,e){var t;return e=(t=e.host)!==null&&t!==void 0?t:e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!0};xt.prototype.filter=function(r){if(!r)return Xt();if(r===":visible")return this.filter(y1);if(r===":hidden")return this.filter(function(o,a){return!y1(o,a)});for(var e=[],t=0;t<this.length;t++){var n=this[t];if(ce.isElementNode(n)&&Aa(r)==="string")ce.elementMatches(n,r)&&e.push(n);else if(ce.isNode(r)||bn(r))r===n&&e.push(n);else if(Ne(r))r.call(n,t,n)&&e.push(n);else for(var i=0;i<r.length;i++)r[i]===n&&e.push(n)}return Xt(e)};xt.prototype.not=function(r){for(var e=[],t=this.filter(r).toArray(),n=0;n<this.length;n++)t.indexOf(this[n])===-1&&e.push(this[n]);return Xt(e)};xt.prototype.is=function(r){return!!this.filter(r).length};xt.prototype.children=function(r){for(var e=[],t=0;t<this.length;t++)for(var n=this[t]?this[t].childNodes:[],i=0;i<n.length;i++)ce.isElementNode(n[i])&&e.push(n[i]);return e=Xt(e),r?e.filter(r):e};xt.prototype.siblings=function(){var r=this[0];if(!r||!r.parentNode)return Xt();for(var e=[],t=r.parentNode.childNodes||[],n=0;n<t.length;n++){var i=t[n];ce.isElementNode(i)&&i!==r&&e.push(i)}return Xt(e)};xt.prototype.each=function(r){for(var e=0;e<this.length&&r.call(this[e],e,this[e])!==!1;e++);};xt.prototype.index=function(r){return r?(r=Xt(r),this.toArray().indexOf(r[0])):this.parent().children().index(this)};xt.prototype.get=function(r){return this[r<0?this.length+r:r]};xt.prototype.eq=function(r){return r=r<0?this.length+r:r,Xt(this[r])};xt.prototype.first=function(){return this.eq(0)};xt.prototype.last=function(){return this.eq(-1)};xt.prototype.select=function(){for(var r=0;r<this.length;r+=1)this[r].select&&this[r].select();return this};xt.prototype.parent=function(r){if(!this[0])return Xt();var e=Xt(this[0].parentNode);return!r||e.is(r)?e:Xt()};xt.prototype.parents=function(r){for(var e=[],t=this.parent();t&&t[0]&&!ce.isDocument(t[0]);)ce.isElementNode(t[0])&&(!r||t.is(r))&&e.push(t.get(0)),t=t.parent();return Xt(e)};xt.prototype.closest=function(r){if(this.is(r))return this;for(var e=this.parent();e&&e.length;){if(e.is(r))return e;e=e.parent()}return Xt()};xt.prototype.next=function(r){if(!this[0])return Xt();var e=Xt(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(r))return e;e=e.next()}return Xt()};xt.prototype.prev=function(){return this[0]?Xt(this[0].previousSibling):Xt()};xt.prototype.add=function(r){for(var e=Xt(r),t=this.toArray(),n=0;n<e.length;n++){var i=e[n];t.indexOf(i)===-1&&t.push(i)}return Xt(t)};var QF=[];xt.prototype.splice=function(){return Xt(QF.splice.apply(this,arguments))};xt.prototype.slice=function(){return Xt(QF.slice.apply(this,arguments))};xt.prototype.toArray=function(){return QF.slice.call(this)};xt.prototype.offset=function(){if(this[0])return zA(this[0])};xt.prototype.offsetParent=function(){if(!this[0])return Xt();for(var r=Xt(this[0].offsetParent);r[0]&&r.css("position")==="static";)r=Xt(r[0].offsetParent);return r=r[0]?r:Xt(ce.getDocumentElement()),r};xt.prototype.position=function(){if(this[0]){var r,e=parseFloat(this.css("marginTop")),t=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return r=this[0].getBoundingClientRect(),{top:r.top-e,left:r.left-t};r=this.offset();var n=this.offsetParent(),i={top:0,left:0};return n[0].nodeName!=="HTML"&&(i=n.offset()),i={top:i.top+parseFloat(n.css("borderTopWidth")),left:i.left+parseFloat(n.css("borderLeftWidth"))},{top:r.top-i.top-e,left:r.left-i.left-t}}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(r,e){r.scrollTo(e,r.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(r,e){r.scrollTo(r.pageXOffset,e)}}].forEach(function(r){var e=r.name;xt.prototype[e]=function(t){if(this[0]){var n=Fq(this[0]);return t===void 0?n?n[r.offsetProp]:this[0][e]:(n?r.scrollWindow(n,t):this[0][e]=t,this)}}});xt.prototype.data=function(r,e){if(this[0])return arguments.length<2?on.call(Xt,this[0],r):(on.call(Xt,this[0],r,e),this)};xt.prototype.removeData=function(r){return this[0]&&Px(this[0],r),this};var kq=function(){return Xt.apply(this,arguments)};Object.defineProperty(kq,"fn",{enumerable:!0,configurable:!0,get:function(){return Xt.fn},set:function(r){Xt.fn=r}});const kle={set:function(r){Xt=r},get:function(){return kq}},E=kle.get(),Vle={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"};var Ble="-";const Hle=(r,e)=>{var t=r[e];return t?t!=="root"&&t:e.substr(0,e.lastIndexOf(Ble))};var ST="en";const hs=ms({locale:(()=>{var r=ST;return e=>{if(!e)return r;r=e}})(),getValueByClosestLocale:function(r){for(var e=this.locale(),t=r(e),n;!t&&!n;)e=Hle(Vle,e),e?t=r(e):n=!0;return t===void 0&&e!==ST?r(ST):t}});var Gle={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-ariaNotSortedColumn":"Not sorted column","dxDataGrid-ariaSortedAscendingColumn":"Column sorted in ascending order","dxDataGrid-ariaSortedDescendingColumn":"Column sorted in descending order","dxDataGrid-ariaSortIndex":"Sort index {0}","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaColumnHeader":"Column header","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaError":"Error","dxDataGrid-ariaRevertButton":"Press Escape to discard the changes","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaModifiedCell":"Modified","dxDataGrid-ariaDeletedCell":"Deleted","dxDataGrid-ariaEditableCell":"Editable","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaCollapsedRow":"Collapsed row","dxDataGrid-ariaExpandedRow":"Expanded row","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditTitle":"Edit Recurring Appointment","dxScheduler-confirmRecurrenceDeleteTitle":"Delete Recurring Appointment","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-previousMonthButtonLabel":"Previous month","dxCalendar-previousYearButtonLabel":"Previous year","dxCalendar-previousDecadeButtonLabel":"Previous decade","dxCalendar-previousCenturyButtonLabel":"Previous century","dxCalendar-nextMonthButtonLabel":"Next month","dxCalendar-nextYearButtonLabel":"Next year","dxCalendar-nextDecadeButtonLabel":"Next decade","dxCalendar-nextCenturyButtonLabel":"Next century","dxCalendar-captionMonthLabel":"Month selection","dxCalendar-captionYearLabel":"Year selection","dxCalendar-captionDecadeLabel":"Decade selection","dxCalendar-captionCenturyLabel":"Century selection","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}","dxGallery-itemName":"Gallery item","dxMultiView-elementAriaRoleDescription":"MultiView","dxMultiView-elementAriaLabel":"Use the arrow keys or swipe to navigate between views","dxMultiView-itemAriaRoleDescription":"View","dxMultiView-itemAriaLabel":"{0} of {1}"}},$le=$(!0,{},Gle),Wle=(r,e)=>{var t;return r[e]||(e==null?void 0:e.toLowerCase)&&((t=Object.entries(r).find(n=>{var[i]=n;return i.toLowerCase()===e.toLowerCase()}))===null||t===void 0?void 0:t[1])||{}},wT={},J=ms({engine:function(){return"base"},_dictionary:$le,load:function(r){$(!0,this._dictionary,r)},_localizablePrefix:"@",setup:function(r){this._localizablePrefix=r},localizeString:function(r){var e=this,t=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),n=e._localizablePrefix+e._localizablePrefix;return r.replace(t,(i,o,a,s)=>{var l=e._localizablePrefix+s,u;return a!==n&&(u=e.format(s)),u||(wT[s]=Ele(s)),o+(u||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(r){return r?wT:$({},wT,this.getMessagesByLocales()[hs.locale()])},getFormatter:function(r){return this._getFormatterBase(r)||this._getFormatterBase(r,"en")},_getFormatterBase:function(r,e){var t=hs.getValueByClosestLocale(n=>Wle(this._dictionary,n)[r]);if(t)return function(){var n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(t),kl.apply(this,n)}},format:function(r){var e=this.getFormatter(r),t=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,t)||""}}),jA=(r,e)=>{if(!e)throw br.Error("E0017");return Array.isArray(r)?r.map(t=>jA(t,e)).join(" "):r.indexOf(" ")!==-1?jA(r.split(/\s+/g),e):"".concat(r,".").concat(e)},Vq=function(r,e){if(!zle(r))return!1;var t=r.nodeName.toLowerCase(),n=!isNaN(e),i=r.disabled,o=/^(input|select|textarea|button|object|iframe)$/.test(t),a=t==="a",s,l=r.isContentEditable;return o||l?s=!i:a?s=r.href||n:s=n,s};function zle(r){var e=E(r);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}var KA=function(r,e){return Vq(e,E(e).attr("tabIndex"))},S1=function(r,e){var t=E(e).attr("tabIndex");return(isNaN(t)||t>=0)&&Vq(e,t)},Jc=function(r){var e=E(r).get(0);return ce.getActiveElement(e)===e},Ule={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},jle={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},Kle={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},qle=r=>r,Yle=r=>qle(B.Event(r,r)),ZF=r=>yC(r)==="dx",Xle=r=>yC(r)==="mouse",Bq=r=>yC(r)==="touch",yC=r=>{var{type:e}=r,t="other";return U(Kle,function(n){if(this.test(e))return t=n,!1}),t},Hq=r=>yC(r)==="pointer",Nh=r=>Xle(r)||(Hq(r)||ZF(r))&&r.pointerType==="mouse",uo=r=>r&&r.type==="dxmousewheel",SC=r=>Bq(r)||(Hq(r)||ZF(r))&&r.pointerType==="touch",gn=r=>{var{pageX:e,pageY:t,timeStamp:n}=r;return{x:e,y:t,time:n}},rh=(r,e)=>({x:e.x-r.x,y:e.y-r.y,time:e.time-r.time||1}),Qle=r=>{var{originalEvent:e,pointers:t}=r;return Bq(r)?(e.touches||[]).length:ZF(r)?(t||[]).length:0},Gq=r=>{var{target:e}=r,t=E(e),n=(e==null?void 0:e.isContentEditable)||(e==null?void 0:e.hasAttribute("contenteditable")),i=t.is("input, textarea, select")||n;if(uo(r)){var o=t.is("textarea")&&t.hasClass("dx-texteditor-input");if(o||n)return!1;var a=t.is("input[type='number'], textarea, select")&&t.is(":focus");return a}if(Nh(r))return i||r.which>1;if(SC(r))return i&&Jc(t)},Fc=(r,e)=>{var t=Yle(r);return e&&$(t,e),t},ld=r=>{var{originalEvent:e,delegateTarget:t}=r,n=Fc(e,r);return B.trigger(t||n.target,n),n},Jr=r=>{var{key:e,which:t}=r,n=Ule[e==null?void 0:e.toLowerCase()]||e,i=jle[t];return i&&n===e?i:!n&&t?String.fromCharCode(t):n},qA=r=>{var{key:e,which:t}=r;return e||String.fromCharCode(t)},fe=jA,ii=r=>{var{ctrlKey:e,metaKey:t}=r;return e||t},YA="dx-state-focused",Zle="dx-cell-focus-disabled",Jle=".dx-row-focused",$q=".dx-datagrid-rowsview .dx-row",w1="".concat($q," > td"),Wq=".dx-treelist-rowsview .dx-row",b1="".concat(Wq," > td"),E1={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(Jle),"".concat($q,"[tabindex]"),"".concat(w1,"[tabindex]"),"".concat(w1),"".concat(Wq,"[tabindex]"),"".concat(b1,"[tabindex]"),"".concat(b1)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},bT=!1,Nb=!1,hf=null;function eue(r,e,t,n,i,o){var a=rue(e,t.originalEvent,o);if(!a){var s=Jr(t);s==="enter"||s==="space"?(zq(t.target,e),n&&n({event:t})):s==="tab"?i.addClass(YA):eL(r,e,t)}}function zq(r,e){var t=E(r),n=t.attr("aria-label"),i=Uq(n,e.element()),o=i.index(t);hf=$({},{ariaLabel:n,index:o},{viewInstance:e})}function Uq(r,e){var t=E(e),n;return r?n=t.find('[aria-label="'.concat(r,'"][tabindex]')):n=t.find("[tabindex]"),n}function tue(r,e){var t=(e==null?void 0:e.getRootNode())||ce.getDocument();for(var n in r){var i=r[n],o=E(t).find(i).first();if(o.length)return o}}function rue(r,e,t){var n={event:e,handled:!1};return t?t(n):r._createActionByOption("onKeyDown")(n),n.handled}function jq(){Nb=ce.getDocument().visibilityState==="visible"}function nue(){B.on(ce.getDocument(),"visibilitychange",jq)}function x1(){B.off(ce.getDocument(),"visibilitychange",jq)}function iue(r,e){Nb=!0,r.focus({preventScroll:e}),Nb=!1}function Kq(r,e,t,n,i,o){if(e.option("useLegacyKeyboardNavigation"))return Z;var a=()=>E(e.element()),s=c=>eue(r,e,c,i,a(),o),l=()=>{bT=!0,a().removeClass(YA)},u=()=>{var c=!bT&&!Nb;c&&a().addClass(YA),bT=!1};return B.on(t,"keydown",n,s),B.on(t,"mousedown",n,l),B.on(t,"focusin",n,u),()=>{B.off(t,"keydown",n,s),B.off(t,"mousedown",n,l),B.off(t,"focusin",n,u)}}function JF(r){if(!r.option("useLegacyKeyboardNavigation")&&hf){var e=hf.viewInstance;if(e){var t=Uq(hf.ariaLabel,e.element()),n=t.eq(hf.index);hf=null,B.trigger(n,"focus")}}}function eL(r,e,t){var n=Jr(t);if(t.ctrlKey&&(n==="upArrow"||n==="downArrow"))for(var i=Object.keys(E1),o=i.indexOf(r);o>=0&&o<i.length;){o=n==="upArrow"?--o:++o;var a=i[o],s=E1[a],l=tue(s,t.target);if(l&&l.length){l.attr("tabindex",e.option("tabindex")||0),B.trigger(l,"focus"),l.removeClass(Zle);break}}}function oue(r,e){r.option("useLegacyKeyboardnavigation")||e.attr("tabindex",r.option("tabindex")||0)}var Hm=function(r,e,t,n,i){var o=e.getController("keyboardNavigation");e.option("useLegacyKeyboardNavigation")||o&&!o.isKeyboardEnabled()||(e.createAction("onKeyDown"),Kq(r,e,t,n,i,a=>{e.executeAction("onKeyDown",a)}))},aue=function(r){return r&&r.get(0)};function ut(r){return aue(r)}var sue=_C(),lue=/(webkit)[ /]([\w.]+)/,uue=/(mozilla)(?:.*? rv:([\w.]+))/,I1=r=>{r=r.toLowerCase();var e={},t=lue.exec(r)||r.indexOf("compatible")<0&&uue.exec(r)||[],n=t[1],i=t[2];return n==="webkit"&&(e.webkit=!0,r.indexOf("chrome")>=0||r.indexOf("crios")>=0?(n="chrome",i=/(?:chrome|crios)\/(\d+\.\d+)/.exec(r),i=i&&i[1]):r.indexOf("fxios")>=0?(n="mozilla",i=/fxios\/(\d+\.\d+)/.exec(r),i=i&&i[1]):r.indexOf("safari")>=0&&/version|phantomjs/.test(r)?(n="safari",i=/(?:version|phantomjs)\/([0-9.]+)/.exec(r),i=i&&i[1]):(n="unknown",i=/applewebkit\/([0-9.]+)/.exec(r),i=i&&i[1])),n&&(e[n]=!0,e.version=i),e};const Gr=$({_fromUA:I1},I1(sue.userAgent));var ud=r=>{var e=r??Fr().rtlEnabled;return e?"right":"left"},Dn=r=>bn(r)?{width:r.outerWidth,height:r.outerHeight}:r.getBoundingClientRect(),ET=[],cue=Uu(()=>{var r=ce.listen(ce.getDocument(),"DOMContentLoaded",()=>{qq.fire(),r()})}),qq={add:r=>{var e=yt();e&&ce.getReadyState()!=="loading"?r():(ET.push(r),e&&cue())},fire:()=>{ET.forEach(r=>r()),ET=[]}};const Ul=ms(qq);var kh=function(){var r,e=ar(),t=e.add,n=e.remove;if(!yt())return e;var i=function(){var l=Rt();return{width:l.innerWidth,height:l.innerHeight}},o=function(){var l=i();if(!(l.width===r.width&&l.height===r.height)){var u;l.width===r.width&&(u="height"),l.height===r.height&&(u="width"),r=l,e.fire(u)}},a=Uu(function(){r=i()}),s;return e.add=function(){var l=t.apply(e,arguments);return a(),Ul.add(function(){!s&&e.has()&&(s=ce.listen(Rt(),"resize",o))}),l},e.remove=function(){var l=n.apply(e,arguments);return!e.has()&&s&&(s(),s=void 0),l},e}();class lp{constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=t}static create(e,t){return t?Ne(t)?t(e):t:new lp(e)}hasEvent(e){var t=this._events[e];return t?t.has():!1}fireEvent(e,t){var n=this._events[e];return n&&n.fireWith(this._owner,t),this._owner}on(e,t){if(Nt(e))U(e,(o,a)=>{this.on(o,a)});else{var n=this._events[e];n||(n=ar({syncStrategy:this._options.syncStrategy}),this._events[e]=n);var i=n.originalAdd||n.add;i.call(n,t)}}off(e,t){var n=this._events[e];n&&(Ne(t)?n.remove(t):n.empty())}dispose(){U(this._events,(e,t)=>{t.empty()})}}var due=Rt(),Yq=function(){var r;try{r=due.sessionStorage}catch{}return r},hue=Ul.add,Mx=ar(),Xq=E(),ed=function(){var r;return function(e){if(!arguments.length)return r;var t=E(e);Xq=t;var n=!!t.length,i=ed();r=n?t:E("body"),Mx.fire(n?ed():E(),i)}}();hue(function(){ed(".dx-viewport")});function Qq(){return Xq}var Zq=Rt(),pue={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},T1={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},xT={generic(r){var e=/windows phone/i.test(r)||r.match(/WPDesktop/),t=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(r),n=!e&&!t&&/msapphost/i.test(r),i=/((intel|ppc) mac os x)/.test(r.toLowerCase());return e||t||n||i?{deviceType:e?"phone":t?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:i}:null},appleTouchDevice(r){var e=_C(),t=/Macintosh/i.test(r)&&(e==null?void 0:e.maxTouchPoints)>2,n=/ip(hone|od|ad)/i.test(r);if(!n&&!t)return null;var i=/ip(hone|od)/i.test(r),o=r.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i),a=o?[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3]||0,10)]:[],s=Zq.screen.height===480,l=s?"B":"A";return{deviceType:i?"phone":"tablet",platform:"ios",version:a,grade:l}},android(r){var e=/android|htc_|silk/i.test(r),t=/windows phone/i.test(r);if(!e||t)return null;var n=/mobile/i.test(r),i=r.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),o=i?[parseInt(i[1],10),parseInt(i[2]||0,10),parseInt(i[3]||0,10)]:[],a=o.length>1&&(o[0]<4||o[0]===4&&o[1]<4),s=a?"B":"A";return{deviceType:n?"phone":"tablet",platform:"android",version:o,grade:s}}},R1=[xT.appleTouchDevice,xT.android,xT.generic];class fue{constructor(e){this._window=(e==null?void 0:e.window)||Zq,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new lp(this),this.changed=ar(),yt()&&(Ul.add(this._recalculateOrientation.bind(this)),kh.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return $({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){var t=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(t.push("dx-device-".concat(e.deviceType)),e.deviceType!=="desktop"&&t.push("dx-device-mobile")),t.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&t.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&t.push("dx-simulator"),Fr().rtlEnabled&&t.push("dx-rtl"),t}attachCssClasses(e,t){this._deviceClasses=this._getCssClasses(t).join(" "),E(e).addClass(this._deviceClasses)}detachCssClasses(e){E(e).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||yt()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),Nt(e))return this._fromConfig(e);var t;if(e){if(t=pue[e],!t)throw br.Error("E0005")}else{var n=_C();t=n.userAgent}return this._fromUA(t)}_getDeviceOrNameFromWindowScope(){var e;return yt()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e}_getDeviceNameFromSessionStorage(){var e=Yq();if(e){var t=e.getItem("dx-force-device");try{return JSON.parse(t)}catch{return t}}}_fromConfig(e){var t=$({},T1,this._currentDevice,e),n={phone:t.deviceType==="phone",tablet:t.deviceType==="tablet",android:t.platform==="android",ios:t.platform==="ios",generic:t.platform==="generic"};return $(t,n)}_fromUA(e){for(var t=0;t<R1.length;t+=1){var n=R1[t],i=n(e);if(i)return this._fromConfig(i)}return T1}_changeOrientation(){var e=E(this._window),t=Dt(e)>gt(e)?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:t}]))}_recalculateOrientation(){var e=gt(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}}var Ye=new fue,O1=ed();O1&&Ye.attachCssClasses(O1);Mx.add((r,e)=>{Ye.detachCssClasses(e),Ye.attachCssClasses(r)});var{maxTouchPoints:Jq}=_C(),vue={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},tL=function(r){return!!sp(r)},gue=function(){var{platform:r,mac:e}=Ye.real(),t=r==="ios"||r==="android"||e;return t},Fx=function(r){if(r==="text")return!0;var e=ce.createElement("input");try{return e.setAttribute("type",r),e.value="wrongValue",!e.value}catch{return!1}},mue=function(r,e){return(r("ontouchstart")||!!e)&&!r("callPhantom")},_ue=function(r){return r("PointerEvent")},e6=mue(_q,Jq),t6=_ue(_q),Cue=!!Jq,Vh=e6||t6&&Cue,XA=Uu(function(){return tL("transition")}),r6=Uu(function(){return vue[sp("transition")]}),QA=Uu(function(){return tL("animation")}),Bh=gue();const yue=Object.freeze(Object.defineProperty({__proto__:null,animation:QA,inputType:Fx,nativeScrolling:Bh,pointerEvents:t6,styleProp:sp,stylePropPrefix:Bw,supportProp:tL,touch:Vh,touchEvents:e6,transition:XA,transitionEndEventName:r6},Symbol.toStringTag,{value:"Module"}));var rL=Rt(),Sue=r=>{if(r.getRootNode){var e=r.getRootNode().host;if(!ft(e))return e}},xv=()=>{var r=ce.getActiveElement();if(r&&r!==ce.getBody()){var e;(e=r.blur)===null||e===void 0||e.call(r)}},wue=()=>{var r=rL.getSelection();if(r&&r.type!=="Caret"){if(r.empty)r.empty();else if(r.removeAllRanges)try{r.removeAllRanges()}catch{}}},bue=(r,e)=>{var t=E(r),n=E(e);if(t[0]===n[0])return t[0];for(var i=t.parents(),o=n.parents(),a=Math.min(i.length,o.length),s=-a;s<0;s++)if(i.get(s)===o.get(s))return i.get(s)},Lx=r=>{var e=L(r)&&(r.nodeType||Pa(r))?E(r):E("<div>").html(r).contents();return e.length===1&&(e.is("script")?e=Lx(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},ZA=(r,e)=>{var t=r.originalEvent&&r.originalEvent.clipboardData||rL.clipboardData;if(!e)return t&&t.getData("Text");t&&t.setData("Text",e)},gu=(r,e)=>e?bn(r)?gu(r.document,e):r.contains(e)||gu(r,Sue(e)):!1,Eue=(r,e,t)=>{var n=rL.getComputedStyle(E(r).get(0)),i=t&&t.includePaddings;return E("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:i?n.paddingTop:"",paddingRight:i?n.paddingRight:"",paddingBottom:i?n.paddingBottom:"",paddingLeft:i?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},xue=(r,e)=>(e&&ce.insertElement(r.parentNode,e,r),r),Iue=(r,e)=>{if(e&&e[0])return e.is(r)?r:(U(e,(t,n)=>{xue(r[0],n)}),r.remove(),e)},Nx=r=>{var e=r==null?void 0:r.get(0),t=e==null?void 0:e.getRootNode().host;return!!E(t||e).closest(Rt().document).length},qa=yt()?Rt():{},Tue=1e3/60,n6=function(r){return setTimeout(r,Tue)},i6=function(r){clearTimeout(r)},o6=Uu(function(){var r=qa.requestAnimationFrame||qa.webkitRequestAnimationFrame||qa.mozRequestAnimationFrame||qa.oRequestAnimationFrame||qa.msRequestAnimationFrame,e=qa.cancelAnimationFrame||qa.webkitCancelAnimationFrame||qa.mozCancelAnimationFrame||qa.oCancelAnimationFrame||qa.msCancelAnimationFrame;r&&e&&(n6=r,i6=e)});function w_(){return o6(),n6.apply(qa,arguments)}function uu(){o6(),i6.apply(qa,arguments)}var _s=function(r,e){var t={};"noBubble"in e&&(t.noBubble=e.noBubble),"bindType"in e&&(t.bindType=e.bindType),"delegateType"in e&&(t.delegateType=e.delegateType),U(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(n,i){e[i]&&(t[i]=function(){var o=[].slice.call(arguments);return o.unshift(this),e[i].apply(e,o)})}),GF.fire(r,t)};_s.callbacks=GF;var yo="dxremove",JA="dxRemoveEvent";ble(function(r){r=[].slice.call(r);for(var e=0;e<r.length;e++){var t=E(r[e]);t.prop(JA)&&(t[0][JA]=null,B.triggerHandler(t,yo))}});_s(yo,{noBubble:!0,setup:function(r){E(r).prop(JA,!0)}});function a6(r){return r&&[r.target,r.delegateTarget,r.relatedTarget,r.currentTarget].filter(e=>!!e)}var Rue=(r,e)=>{B.one(a6(r),yo,e)},Oue=(r,e)=>{B.off(a6(r),yo,e)},D1="dxPointerEvents",nL=tr.inherit({ctor:function(r,e){this._eventName=r,this._originalEvents=fe(e,D1),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var r=this._eventName;return r==="dxpointerenter"||r==="dxpointerleave"},_handler:function(r){var e,t=this._getDelegateTarget(r),n={type:this._eventName,pointerType:r.pointerType||yC(r),originalEvent:r,delegateTarget:t,timeStamp:Gr.mozilla?new Date().getTime():r.timeStamp},i=r.originalEvent;if(i!=null&&(e=i.target)!==null&&e!==void 0&&e.shadowRoot){var o,a,s=(o=i.path)!==null&&o!==void 0?o:(a=i.composedPath)===null||a===void 0?void 0:a.call(i);n.target=s[0]}return this._fireEvent(n)},_getDelegateTarget:function(r){var e;return this.noBubble&&(e=r.delegateTarget),e},_fireEvent:function(r){return ld(r)},_setSelector:function(r){this._selector=this.noBubble&&r?r.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(r,e){if(this._handlerCount<=0||this.noBubble){r=this.noBubble?r:ce.getDocument(),this._setSelector(e);var t=this;B.on(r,this._originalEvents,this._getSelector(),function(n){t._handler(n)})}this.noBubble||this._handlerCount++},remove:function(r){this._setSelector(r),this.noBubble||this._handlerCount--},teardown:function(r){this._handlerCount&&!this.noBubble||(r=this.noBubble?r:ce.getDocument(),this._originalEvents!=="."+D1&&B.off(r,this._originalEvents,this._getSelector()))},dispose:function(r){r=this.noBubble?r:ce.getDocument(),B.off(r,this._originalEvents)}}),Due={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},s6=function(r){var e=[];return U(r.touches,function(t,n){e.push($({pointerId:n.identifier},n))}),{pointers:e,pointerId:r.changedTouches[0].identifier}},Aue=function(r){return Ye.real().platform==="ios"&&(r==="dxpointerdown"||r==="dxpointerup")},wC=nL.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(r){if(Aue(this._eventName)){var e=r.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(r){return this.callBase($(s6(r.originalEvent),r))}});wC.map=Due;wC.normalize=s6;var Fy=function(r,e){Ul.add(function(){r.split(" ").forEach(function(t){ce.listen(ce.getDocument(),t,e,!0)})})},Pue=function(r,e,t){t=t||function(){};var n=[],i=function(a){var s=-1;return U(n,function(l,u){return e(a,u)?(s=l,!1):!0}),s},o=function(a){var s=i(a);s>-1&&n.splice(s,1)};Fy(r.dxpointerdown,function(a){i(a)===-1&&(t(a),n.push(a))}),Fy(r.dxpointermove,function(a){n[i(a)]=a}),Fy(r.dxpointerup,o),Fy(r.dxpointercancel,o),this.pointers=function(){return n},this.reset=function(){n=[]}},l6={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},u6=function(r){return r.pointerId=1,{pointers:iL.pointers(),pointerId:1}},iL,A1=!1,c6=function(){A1||(iL=new Pue(l6,function(){return!0}),A1=!0)},ju=nL.inherit({ctor:function(){this.callBase.apply(this,arguments),c6()},_fireEvent:function(r){return this.callBase($(u6(r.originalEvent),r))}});ju.map=l6;ju.normalize=u6;ju.activate=c6;ju.resetObserver=function(){iL.reset()};var Mue={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},P1=!1,Fue=function(){P1||(ju.activate(),P1=!0)},kx=nL.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),Fue()},_handler:function(r){var e=Nh(r);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var t=this;this._unlockMouseTimer=setTimeout(function(){t._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(r)}},_fireEvent:function(r){var e=Nh(r.originalEvent)?ju.normalize:wC.normalize;return this.callBase($(e(r.originalEvent),r))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});kx.map=Mue;kx.resetObserver=ju.resetObserver;var Lue=(r,e)=>{var{tablet:t,phone:n}=e,i=Nue();return i||(r.touch&&!(t||n)?kx:r.touch?wC:ju)},M1=Lue(yue,Ye.real());U(M1.map,(r,e)=>{_s(r,new M1(r,e))});var Yt={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"};function Nue(){var r=Fr().pointerEventStrategy;return{"mouse-and-touch":kx,touch:wC,mouse:ju}[r]}var Vx=tr.inherit({ctor:function(r){this._$element=E(r),this._cancelCallback=ar(),this._acceptCallback=ar()},getElement:function(){return this._$element},validate:function(r){return!uo(r)},validatePointers:function(r){return Qle(r)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(r){$(this,r)},addCancelCallback:function(r){this._cancelCallback.add(r)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(r){this._cancelCallback.fire(this,r)},addAcceptCallback:function(r){this._acceptCallback.add(r)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(r){this._acceptCallback.fire(this,r)},_requestAccept:function(r){this._acceptRequestEvent=r},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:Z,move:Z,end:Z,cancel:Z,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(r,e,t){var n=$({type:r,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},t);return e=ld(n),e.cancel&&this._cancel(e),e},_getEmitterTarget:function(r){return(this.delegateSelector?E(r.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:Z}),bC="dxmousewheel",F1="dxWheel",kue="wheel",L1=0,Vue=30,eP={setup:function(r){var e=E(r);B.on(e,fe(kue,F1),eP._wheelHandler.bind(eP))},teardown:function(r){B.off(r,".".concat(F1))},_wheelHandler:function(r){var{deltaMode:e,deltaY:t,deltaX:n,deltaZ:i}=r.originalEvent;ld({type:bC,originalEvent:r,delta:this._normalizeDelta(t,e),deltaX:n,deltaY:t,deltaZ:i,deltaMode:e,pointerType:"mouse"}),r.stopPropagation()},_normalizeDelta(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L1;return e===L1?-r:-Vue*r}};_s(bC,eP);var Ly="dxEventManager",fm="dxEmitter",Bue=tr.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){Ul.add((function(){var r=ce.getDocument();B.subscribeGlobal(r,fe(Yt.down,Ly),this._pointerDownHandler.bind(this)),B.subscribeGlobal(r,fe(Yt.move,Ly),this._pointerMoveHandler.bind(this)),B.subscribeGlobal(r,fe([Yt.up,Yt.cancel].join(" "),Ly),this._pointerUpHandler.bind(this)),B.subscribeGlobal(r,fe(bC,Ly),this._mouseWheelHandler.bind(this))}).bind(this))},_eachEmitter:function(r){for(var e=this._activeEmitters||[],t=0;e.length>t;){var n=e[t];if(r(n)===!1)break;e[t]===n&&t++}},_applyToEmitters:function(r,e){this._eachEmitter(function(t){t[r].call(t,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(r){this._proxiedCancelHandler(r)},_pointerDownHandler:function(r){Nh(r)&&r.which>1||this._updateEmitters(r)},_updateEmitters:function(r){this._isSetChanged(r)&&(this._cleanEmitters(r),this._fetchEmitters(r))},_isSetChanged:function(r){var e=this._closestEmitter(r),t=this._emittersSet||[],n=e.length!==t.length;return U(e,function(i,o){return n=n||t[i]!==o,!n}),this._emittersSet=e,n},_closestEmitter:function(r){var e=this,t=[],n=E(r.target);function i(a,s){s&&s.validatePointers(r)&&s.validate(r)&&(s.addCancelCallback(e._proxiedCancelHandler),s.addAcceptCallback(e._proxiedAcceptHandler),t.push(s))}for(;n.length;){var o=on(n.get(0),fm)||[];U(o,i),n=n.parent()}return t},_acceptHandler:function(r,e){var t=this;this._eachEmitter(function(n){n!==r&&t._cancelEmitter(n,e)})},_cancelHandler:function(r,e){this._cancelEmitter(r,e)},_cancelEmitter:function(r,e){var t=this._activeEmitters;e?r.cancel(e):r.reset(),r.removeCancelCallback(),r.removeAcceptCallback();var n=t.indexOf(r);n>-1&&t.splice(n,1)},_cleanEmitters:function(r){this._applyToEmitters("end",r),this.reset(r)},_fetchEmitters:function(r){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",r)},_pointerMoveHandler:function(r){this._applyToEmitters("move",r)},_pointerUpHandler:function(r){this._updateEmitters(r)},_mouseWheelHandler:function(r){this._allowInterruptionByMouseWheel()&&(r.pointers=[null],this._pointerDownHandler(r),this._adjustWheelEvent(r),this._pointerMoveHandler(r),r.pointers=[],this._pointerUpHandler(r))},_allowInterruptionByMouseWheel:function(){var r=!0;return this._eachEmitter(function(e){return r=e.allowInterruptionByMouseWheel()&&r,r}),r},_adjustWheelEvent:function(r){var e=null;if(this._eachEmitter(function(o){if(o.gesture){var a=o.getDirection(r);if(a!=="horizontal"&&!r.shiftKey||a!=="vertical"&&r.shiftKey)return e=o,!1}}),!!e){var t=e.getDirection(r),n=t==="both"&&!r.shiftKey||t==="vertical",i=n?"pageY":"pageX";r[i]+=r.delta}},isActive:function(r){var e=!1;return this._eachEmitter(function(t){e=e||t.getElement().is(r)}),e}}),N1=new Bue,IT="dxEmitterSubscription",Iv=function(r){var e=r.emitter,t=r.events[0],n=r.events;U(n,function(i,o){_s(o,{noBubble:!r.bubble,setup:function(a){var s=on(a,IT)||{},l=on(a,fm)||{},u=l[t]||new e(a);s[o]=!0,l[t]=u,on(a,fm,l),on(a,IT,s)},add:function(a,s){var l=on(a,fm),u=l[t];u.configure($({delegateSelector:s.selector},s.data),s.type)},teardown:function(a){var s=on(a,IT),l=on(a,fm),u=l[t];delete s[o];var c=!0;U(n,function(d,h){return c=c&&!s[h],c}),c&&(N1.isActive(a)&&N1.resetEmitter(u),u&&u.dispose(),delete l[t])}})})},sr="dxclick",tP=null,vm=null,k1=()=>{vm=null},V1=function(r){var e=r.originalEvent,t=vm===e||e&&e.DXCLICK_FIRED,n=!r.which||r.which===1;n&&!tP&&!t&&(e&&(e.DXCLICK_FIRED=!0),Oue(vm,k1),vm=e,Rue(vm,k1),ld({type:sr,originalEvent:r}))},Hue=Vx.inherit({ctor:function(r){this.callBase(r),B.on(this.getElement(),"click",V1)},start:function(r){tP=null},cancel:function(){tP=!0},dispose:function(){B.off(this.getElement(),"click",V1)}});(function(){var r=Ye.real().generic;if(!r){var e=null,t=!1,n=ce.getDocument();B.subscribeGlobal(n,fe(Yt.down,"NATIVE_CLICK_FIXER"),function(i){e=i.target,t=i.isDefaultPrevented()}),B.subscribeGlobal(n,fe("click","NATIVE_CLICK_FIXER"),function(i){var o=E(i.target);!t&&e&&!o.is(e)&&!E(e).is("label")&&(a=o,E(a).is("input, textarea, select, button ,:focus, :focus *"))&&xv();var a;e=null,t=!1})}})();Iv({emitter:Hue,bubble:!0,events:[sr]});var EC="dxdblclick",Gue="dxDblClick",B1=fe(sr,Gue),H1=300,$ue=tr.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-H1},add:function(){this._handlerCount<=0&&B.on(ce.getDocument(),B1,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(r){var e=r.timeStamp||Date.now(),t=e-this._lastClickTimeStamp,n=t<0,i=!n&&t<H1;i?(ld({type:EC,target:bue(this._firstClickTarget,r.target),originalEvent:r}),this._forgetLastClick()):(this._firstClickTarget=r.target,this._lastClickTimeStamp=e)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),B.off(ce.getDocument(),B1))}});_s(EC,new $ue);var G1="dx-column-indicators",Wue="dx-group-panel-item";const zue={_applyColumnState(r){var e,t=this.option("rtlEnabled"),n=this._getColumnAlignment(r.column.alignment,t),i=$(!0,{columnAlignment:n},r),o=i.rootElement.hasClass(Wue),a=this._createIndicatorContainer(i,o),s=E("<span>").addClass(this._getIndicatorClassName(r.name)),l=(e=this.component)===null||e===void 0?void 0:e.getController("columns"),u=(l==null?void 0:l.getHeaderContentAlignment(n))||n;return i.container=a,i.indicator=s,this._renderIndicator(i),a[(o||!r.showColumnLines)&&u==="left"?"appendTo":"prependTo"](r.rootElement),s},_getIndicatorClassName:Z,_getColumnAlignment(r,e){return e=e||this.option("rtlEnabled"),r&&r!=="center"?r:ud(e)},_createIndicatorContainer(r,e){var t=this._getIndicatorContainer(r.rootElement),n=r.columnAlignment==="left"?"right":"left";return t.length||(t=E("<div>").addClass(G1)),this.setAria("role","presentation",t),t.css("float",r.showColumnLines&&!e?n:null)},_getIndicatorContainer:r=>r&&r.find(".".concat(G1)),_getIndicatorElements(r){var e=this._getIndicatorContainer(r);return e&&e.children()},_renderIndicator(r){var e=r.container,t=r.indicator;e&&t&&e.append(t)},_updateIndicators(r){var e=this.getColumns(),t=this.getColumnElements(),n;if(!(!t||e.length!==t.length))for(var i=0;i<e.length;i++){n=t.eq(i),this._updateIndicator(n,e[i],r);var o=n.parent().data("options");o&&o.cells&&(o.cells[n.index()].column=e[i])}},_updateIndicator(r,e,t){if(!e.command)return this._applyColumnState({name:t,rootElement:r,column:e,showColumnLines:this.option("showColumnLines")})}},Ht=NF(br.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" and "endDayHour" options must be integers in the [0, 24] range, with "endDayHour" being greater than "startDayHour".',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",E1061:'The "offset" option must be an integer in the [-1440, 1440] range, divisible by 5 without a remainder.',E1062:'The "cellDuration" must be a positive integer, evenly dividing the ("endDayHour" - "startDayHour") interval into minutes.',W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:`The '{0}' is not rendered because none of the DOM elements match the value of the "container" property.`,W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function.",W1025:"'scrolling.mode' is set to 'virtual' or 'infinite'. Specify the height of the component."});var Uue=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]])}return t},Ju={borderedTop:"dx-bordered-top-view",borderedBottom:"dx-bordered-bottom-view"},jue=r=>{var{columnHeadersView:e,rowsView:t}=r;return e!=null&&e.isVisible()?e.element():t.element()},Kue=r=>{var{filterPanelView:e,footerView:t,rowsView:n}=r;return e!=null&&e.isVisible()?e.element():t!=null&&t.isVisible()?t.element():n.element()},$1=(r,e)=>{var t,n=Object.values(r).find(i=>{var o;return(o=i==null?void 0:i.element())===null||o===void 0?void 0:o.hasClass(e)});return(t=n==null?void 0:n.element())!==null&&t!==void 0?t:null},que=(r,e)=>{var t;if(!Object.keys(e).includes(r))return!1;var{rowsView:n}=e,i=Uue(e,["rowsView"]);return L((t=n==null?void 0:n.element)===null||t===void 0?void 0:t.call(n))?Object.values(i).filter(o=>{var a;return(a=o==null?void 0:o.isVisible)===null||a===void 0?void 0:a.call(o)}).every(o=>L(o==null?void 0:o.element())):!1},Yue=(r,e)=>{if(que(r,e)){var t=$1(e,Ju.borderedTop),n=$1(e,Ju.borderedBottom),i=jue(e),o=Kue(e);t&&!t.is(i)&&t.removeClass(Ju.borderedTop),n&&!n.is(o)&&n.removeClass(Ju.borderedBottom),i.hasClass(Ju.borderedTop)||i.addClass(Ju.borderedTop),o.hasClass(Ju.borderedBottom)||o.addClass(Ju.borderedBottom)}},Xue="dxDataGrid",d6=tr.inherit({_endUpdateCore(){},ctor(r){var e=this;e._updateLockCount=0,e.component=r,e._actions={},e._actionConfigs={},U(this.callbackNames()||[],function(t,n){var i=e.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,e[this]=ar(i)})},init(){},callbackNames(){},callbackFlags(){},publicMethods(){},beginUpdate(){this._updateLockCount++},endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option(r){var{component:e}=this,t=e._optionCache;return arguments.length===1&&t?(r in t||(t[r]=e.option(r)),t[r]):e.option.apply(e,arguments)},_silentOption(r,e){var{component:t}=this,n=t._optionCache;return n&&(n[r]=e),t._setOptionWithoutOptionChange(r,e)},localize(r){var e=this.component._optionCache;return e?(r in e||(e[r]=J.format(r)),e[r]):J.format(r)},on(){return this.component.on.apply(this.component,arguments)},off(){return this.component.off.apply(this.component,arguments)},optionChanged(r){r.name in this._actions&&(this.createAction(r.name,this._actionConfigs[r.name]),r.handled=!0)},getAction(r){return this._actions[r]},setAria(r,e,t){var n=t.get(0),i=r!=="role"&&r!=="id"?"aria-":"";n.setAttribute?n.setAttribute(i+r,e):t.attr(i+r,e)},_createComponent(){return this.component._createComponent.apply(this.component,arguments)},getController(r){return this.component._controllers[r]},createAction(r,e){if(Ne(r)){var t=this.component._createAction(r.bind(this),e);return function(n){t({event:n})}}this._actions[r]=this.component._createActionByOption(r,e),this._actionConfigs[r]=e},executeAction(r,e){var t=this._actions[r];return t&&t(e)},dispose(){var r=this;U(r.callbackNames()||[],function(){r[this].empty()})},addWidgetPrefix(r){var e=this.component.NAME;return"dx-".concat(e.slice(2).toLowerCase()).concat(r?"-".concat(r):"")},getWidgetContainerClass(){var r=this.component.NAME===Xue?null:"container";return this.addWidgetPrefix(r)},elementIsInsideGrid(r){var e=r.closest(".".concat(this.getWidgetContainerClass())).parent();return e.is(this.component.$element())}}),oL=d6,Que=oL.inherit({getView(r){return this.component._views[r]},getViews(){return this.component._views}}),h6=d6.inherit({_isReady(){return this.component.isReady()},_endUpdateCore(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate(r,e){this._requireRender=!0,this.component._requireResize=yt()&&(this.component._requireResize||r),this._requireReady=this._requireReady||e},_renderCore(){},_resizeCore(){},_parentElement(){return this._$parent},ctor(r){this.callBase(r),this.renderCompleted=ar(),this.resizeCompleted=ar()},element(){return this._$element},getElementHeight(){var r=this.element();if(!r)return 0;var e=parseFloat(r.css("marginTop"))||0,t=parseFloat(r.css("marginBottom"))||0,{offsetHeight:n}=r.get(0);return n+e+t},isVisible:()=>!0,getTemplate(r){return this.component._getTemplate(r)},getView(r){return this.component._views[r]},_getBorderedViews(){return{columnHeadersView:this.component._views.columnHeadersView,rowsView:this.component._views.rowsView,filterPanelView:this.component._views.filterPanelView,footerView:this.component._views.footerView}},render(r,e){var t=this._$element,n=this.isVisible();if(!(!t&&!r)&&(this._requireReady=!1,t||(t=this._$element=E("<div>").appendTo(r),this._$parent=r),t.toggleClass("dx-hidden",!n),this.component._views&&Yue(this.name,this._getBorderedViews()),n)){this.component._optionCache={};var i=this._renderCore(e);this.component._optionCache=void 0,i?i.done(()=>{this.renderCompleted.fire(e)}):this.renderCompleted.fire(e)}},resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus(r){this.element().get(0).focus({preventScroll:r})}}),W1=1e6;function z1(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={};return Object.entries(e).forEach(n=>{var[i,o]=n,a=r[i];if(a)if(Ne(o))t[i]=o(a);else{var s=a;t[i]=s.inherit(o)}}),t}function Zue(r,e,t){var n=t.publicMethods();n&&U(n,(i,o)=>{if(t[o])if(!r[o])r[o]=function(){return t[o](...arguments)};else throw Ht.Error("E1005",o);else throw Ht.Error("E1006",e,o)})}function Jue(r,e){var{modules:t}=e,{modulesOrder:n}=e;function i(c){var d={};return U(c,(h,p)=>{var f=new p(r);f.name=h,Zue(r,h,f),d[h]=f}),d}n&&t.sort((c,d)=>{var h=n.indexOf(c.name),p=n.indexOf(d.name);return h<0&&(h=W1),p<0&&(p=W1),h-p});var o={},a={};t.forEach(c=>{var{name:d,controllers:h={},views:p={}}=c;Object.entries(h).forEach(f=>{var[v,g]=f,m;if(o[v])throw Ht.Error("E1001",d,v);if(!(!((m=g==null?void 0:g.subclassOf)===null||m===void 0)&&m.call(g,oL)))throw Ht.Error("E1002",d,v);o[v]=g}),Object.entries(p).forEach(f=>{var[v,g]=f,m;if(a[v])throw Ht.Error("E1003",d,v);if(!(!((m=g==null?void 0:g.subclassOf)===null||m===void 0)&&m.call(g,h6)))throw Ht.Error("E1004",d,v);a[v]=g})});var s=t.filter(c=>{var{extenders:d}=c;return!!d}),l=s.reduce((c,d)=>{var{extenders:h}=d;return b(b({},c),z1(c,h==null?void 0:h.controllers))},o),u=s.reduce((c,d)=>{var{extenders:h}=d;return b(b({},c),z1(c,h==null?void 0:h.views))},a);r._controllers=i(l),r._views=i(u)}var ece=function(r,e,t){t=t||[],r._controllers&&U(r._controllers,function(){this[e]&&this[e].apply(this,t)}),r._views&&U(r._views,function(){this[e]&&this[e].apply(this,t)})};const kr={modules:[],View:h6,ViewController:Que,Controller:oL,registerModule(r,e){for(var{modules:t}=this,n=0;n<t.length;n++)if(t[n].name===r)return;e.name=r,t.push(e)},registerModulesOrder(r){this.modulesOrder=r},unregisterModule(r){this.modules=ho(this.modules,e=>e.name!==r)},processModules:Jue,callModuleItemsMethod:ece};var tce=Ul.add,p6="DEVEXTREME_XHR_ERROR_UNLOAD",rce=function(r){return[r[0],r.length<3?"=":String(r[1]).toLowerCase(),r.length<2?!0:r[r.length-1]]},Tu=function(r){return Array.isArray(r)||(r=[r]),Gn(r,function(e){var t={selector:Ne(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(t.compare=e.compare),t})},nce=function(){var r={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},e;return tce(function(){var t=Rt();ce.listen(t,"beforeunload",function(){e=!0})}),function(t,n){return e?p6:t.status<400?function(i){var o=r[i];return o||i}(n):t.statusText}}(),aL={count:{seed:0,step:function(r){return 1+r}},sum:{seed:0,step:function(r,e){return r+e}},min:{step:function(r,e){return e<r?e:r}},max:{step:function(r,e){return e>r?e:r}},avg:{seed:[0,0],step:function(r,e){return[r[0]+e,r[1]+1]},finalize:function(r){return r[1]?r[0]/r[1]:NaN}}},ice=function(){var r=0,e;return{obtain:function(){r===0&&(e=new X),r++},release:function(){r--,r<1&&e.resolve()},promise:function(){var t=r===0?new X().resolve():e;return t.promise()},reset:function(){r=0,e&&e.resolve()}}}();function oce(r){return/^(and|&&|&)$/i.test(r)}var xC=function(r,e,t){if(Array.isArray(r)){for(var n=Gn(e,function(a,s){return s}),i,o=0;o<n.length;o++)if(i=n[o],!Mr(e[i],t[i],{strict:!1}))return!1;return!0}return Mr(e,t,{strict:!1})},ace=function(r){return r[0]==="!"&&Array.isArray(r[1])},sce=function(r){return r==="and"||r==="or"},lce=function(r){var e=r[0],t=r[1];return!!(Array.isArray(e)||Ne(e)&&(Array.isArray(t)||Ne(t)||sce(t)))},Hf=function(){var r=new X;return r.resolve.apply(r,arguments).promise()},f6=function(){var r=new X;return r.reject.apply(r,arguments).promise()};function uce(r,e){var t;return function(){return t||(t=setTimeout(()=>{t=void 0,r.call(this)},Ne(e)?e():e)),t}}function cce(r,e){var t=[],n=uce(function(){r.call(this,t),t=[]},e);return function(i){return Array.isArray(i)&&t.push(...i),n.call(this,t)}}var Hn=NF(br.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),dce=null,sL=function(r){var e;(e=dce)===null||e===void 0||e(r)};function hce(r,e){for(var t,n=typeof e=="string"?e.split():e.slice();n.length;)if(t=n.shift(),t in r)return!0;return!1}function v6(r,e,t,n){var i,o;if(n){for(var a=0;a<e.length;a++)if(i=e[a].items||e[a].collapsedItems||[],o=v6(r,i||[],t,n-1),o)return o}else if(Hh(r,e,t)>=0)return e}function pce(r,e,t,n){return n?v6(r,e,t,n)||[]:e}function fce(r,e){if(r.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var t={},n=e.length,i=0;i<n;i++)t[JSON.stringify(r.keyOf(e[i]))]=e[i];e._dataByKeyMap=t,e._dataByKeyMapLength=n}}function vce(r,e){if(r._dataByKeyMap)return r._dataByKeyMap[JSON.stringify(e)]}function gce(r,e){return r._dataByKeyMap?r._dataByKeyMap[JSON.stringify(e)]:!0}function g6(r,e,t){r._dataByKeyMap&&(r._dataByKeyMap[JSON.stringify(e)]=t,r._dataByKeyMapLength+=t?1:-1)}function m6(r,e,t){t=t||new WeakMap;var n=r?Object.create(Object.getPrototypeOf(r)):{};r&&t.set(r,n);var i=b({},r);rs(n,i,!0,!0);for(var o in i){var a=i[o],s=e==null?void 0:e[o];pt(a)&&!Nt(a)&&pt(s)&&!t.has(a)&&(n[o]=m6(a,s,t))}for(var l in n){var u=n[l];pt(u)&&t.has(u)&&(n[l]=t.get(u))}return n}function Lc(r,e){var t=m6(r,e);return rs(t,e,!0,!0)}function gh(r){var{keyInfo:e,data:t,changes:n,groupCount:i,useInsertIndex:o,immutable:a,disableCache:s,logError:l,skipCopying:u}=r,c=a===!0?[...t]:t;return n.forEach(d=>{var h=d.type==="insert"?c:pce(e,c,d.key,i);switch(!s&&fce(e,h),d.type){case"update":lL(e,h,d.key,d.data,!0,a,l);break;case"insert":uL(e,h,d.data,o&&L(d.index)?d.index:-1,!0,l,u);break;case"remove":_6(e,h,d.key,!0,l)}}),c}function kb(r,e,t){return r?e&&Hn.log(t):f6(Hn.Error(t))}function lL(r,e,t,n,i,o,a){var s,l=r.key();if(l){if(hce(n,l)&&!xC(l,t,r.keyOf(n)))return kb(i,a,"E4017");if(s=vce(e,t),!s){var u=Hh(r,e,t);if(u<0)return kb(i,a,"E4009");if(s=e[u],o===!0&&L(s)){var c=Lc(s,n);return e[u]=c,!i&&Hf(c,t)}}}else s=t;if(rs(s,n,!0),!i)return Fr().useLegacyStoreResult?Hf(t,n):Hf(s,t)}function uL(r,e,t,n,i,o,a){var s,l=r.key(),u=Nt(t)&&!a?$({},t):t;if(l){if(s=r.keyOf(u),s===void 0||typeof s=="object"&&go(s)){if(Array.isArray(l))throw Hn.Error("E4007");s=u[l]=String(new dn)}else if(e[Hh(r,e,s)]!==void 0)return kb(i,o,"E4008")}else s=u;if(n>=0?e.splice(n,0,u):e.push(u),g6(e,s,u),!i)return Hf(Fr().useLegacyStoreResult?t:u,s)}function _6(r,e,t,n,i){var o=Hh(r,e,t);if(o>-1&&(e.splice(o,1),g6(e,t,null)),n){if(o<0)return kb(n,i,"E4009")}else return Hf(t)}function Hh(r,e,t){var n=r.key();if(!gce(e,t))return-1;for(var i=0,o=e.length;i<o;i++)if(xC(n,r.keyOf(e[i]),t))return i;return-1}var IC=tr.inherit({toArray:function(){var r=[];for(this.reset();this.next();)r.push(this.current());return r},countable:function(){return!1}}),cL=IC.inherit({ctor:function(r){this.array=r,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),Bx=IC.inherit({ctor:function(r){this.iter=r},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),TT=Bx.inherit({ctor:function(r,e){this.callBase(r),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var r=this.callBase();return r&&this.index++,r}}),mce=function(r,e,t){return ft(r)&&ft(e)&&(t!=null&&t.locale||t!=null&&t.collatorOptions)?new Intl.Collator((t==null?void 0:t.locale)||void 0,(t==null?void 0:t.collatorOptions)||void 0).compare(r,e):(r=wi(r,!1,t),e=wi(e,!1,t),r===null&&e!==null?-1:r!==null&&e===null||r===void 0&&e!==void 0?1:r!==void 0&&e===void 0||r<e?-1:r>e?1:0)},rP=IC.inherit({ctor:function(r,e,t,n){this.langParams=r.langParams,r instanceof TT||(r=new TT(r,this._wrap),r.langParams=this.langParams),this.iter=r,this.rules=[{getter:e,desc:t,compare:n,langParams:this.langParams}]},thenBy:function(r,e,t){var n=new rP(this.sortedIter||this.iter,r,e,t);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var r=this;r.sortedIter||(U(r.rules,function(){this.getter=Ar(this.getter)}),r.sortedIter=new TT(new cL(this.iter.toArray().sort(function(e,t){return r._compare(e,t)})),r._unwrap))},_wrap:function(r,e){return{index:e,value:r}},_unwrap:function(r){return r.value},_getDefaultCompare:r=>(e,t)=>mce(e,t,r),_compare:function(r,e){var t=r.index,n=e.index;if(r=r.value,e=e.value,r===e)return t-n;for(var i=0,o=this.rules.length;i<o;i++){var a=this.rules[i],s=a.getter(r),l=a.getter(e),u=a.compare||this._getDefaultCompare(a.langParams),c=u(s,l);if(c)return a.desc?-c:c}return t-n}}),nP=function(){var r={},e=i=>wi(i,!1,r),t=function(i){var o;return L(i)?(o=r)!==null&&o!==void 0&&o.locale?i.toLocaleString(r.locale):i.toString():""};function n(i,o,a){return function(s){s=e(i(s));var l=function(u){return u===""||u===0||u===!1}(o)?s===o:s==o;return a&&(l=!l),l}}return function(i,o){return r=o||{},Ne(i)?i:lce(i)?function(a){var s=[],l=!1,u=!1;return U(a,function(){if(Array.isArray(this)||Ne(this)){if(s.length>1&&l!==u)throw new Hn.Error("E4019");s.push(nP(this,r)),l=u,u=!0}else u=oce(this)}),function(c){for(var d=l,h=0;h<s.length;h++)if(s[h](c)!==l){d=!l;break}return d}}(i):ace(i)?function(a){var s=a[0],l=nP(a[1],r);if(s==="!")return function(u){return!l(u)};throw Hn.Error("E4003",s)}(i):function(a){a=rce(a);var s=Ar(a[0]),l=a[1],u=a[2];u=e(u);var c=(d,h)=>(d=e(s(d)),(u==null||d==null)&&u!==d?!1:h(d,u));switch(l.toLowerCase()){case"=":return n(s,u);case"<>":return n(s,u,!0);case">":return d=>c(d,(h,p)=>h>p);case"<":return d=>c(d,(h,p)=>h<p);case">=":return d=>c(d,(h,p)=>h>=p);case"<=":return d=>c(d,(h,p)=>h<=p);case"startswith":return function(d){return e(t(s(d))).indexOf(u)===0};case"endswith":return function(d){var h=e(t(s(d))),p=t(u);if(h.length<p.length)return!1;var f=h.lastIndexOf(u);return f!==-1&&f===h.length-u.length};case"contains":return function(d){return e(t(s(d))).indexOf(u)>-1};case"notcontains":return function(d){return e(t(s(d))).indexOf(u)===-1}}throw Hn.Error("E4003",l)}(i)}}(),_ce=Bx.inherit({ctor:function(r,e){this.callBase(r),this.langParams=r.langParams,this.criteria=nP(e,this.langParams)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),Cce=IC.inherit({ctor:function(r,e){this.iter=r,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var r={},e=[],t=this.iter,n=Ar(this.getter);for(t.reset();t.next();){var i=t.current(),o=n(i);o in r?r[o].push(i):(r[o]=[i],e.push(o))}this.groupedIter=new cL(Gn(e,function(a){return{key:a,items:r[a]}}))}}}),yce=Bx.inherit({ctor:function(r,e){this.callBase(r),this.getter=Ar(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),Sce=Bx.inherit({ctor:function(r,e,t){this.callBase(r),this.skip=Math.max(0,e),this.take=Math.max(0,t),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),Hx=function r(e,t){t=t||{},e instanceof IC||(e=new cL(e)),t.langParams&&(e.langParams=t.langParams);var n=function(u){var c=t.errorHandler;c&&c(u),sL(u)},i=function(u){var c=new X().fail(n),d,h=u.step,p=u.finalize;try{e.reset(),"seed"in u?d=u.seed:d=e.next()?e.current():NaN;for(var f=d;e.next();)f=h(f,e.current());c.resolve(p?p(f):f)}catch(v){c.reject(v)}return c.promise()},o=function(u){return i(aL[u])},a=function(u){return!Ne(u)&&!Array.isArray(u)&&(u=[].slice.call(arguments)),l(new yce(e,u))},s=function(u){return a(Ar(u))};function l(u){return r(u,t)}return{toArray:function(){return e.toArray()},enumerate:function(){var u=new X().fail(n);try{u.resolve(e.toArray())}catch(c){u.reject(c)}return u.promise()},setLangParams(u){e.langParams=u},sortBy:function(u,c,d){return l(new rP(e,u,c,d))},thenBy:function(u,c,d){if(e instanceof rP)return l(e.thenBy(u,c,d));throw Hn.Error("E4004")},filter:function(u){return Array.isArray(u)||(u=[].slice.call(arguments)),l(new _ce(e,u))},slice:function(u,c){return c===void 0&&(c=Number.MAX_VALUE),l(new Sce(e,u,c))},select:a,groupBy:function(u){return l(new Cce(e,u))},aggregate:function(u,c,d){return arguments.length<2?i({step:arguments[0]}):i({seed:u,step:c,finalize:d})},count:function(){if(e.countable()){var u=new X().fail(n);try{u.resolve(e.count())}catch(c){u.reject(c)}return u.promise()}return o("count")},sum:function(u){return u?s(u).sum():o("sum")},min:function(u){return u?s(u).min():o("min")},max:function(u){return u?s(u).max():o("max")},avg:function(u){return u?s(u).avg():o("avg")}}};function dL(r,e){return r=r.groupBy(e[0].selector),e.length>1&&(r=r.select(function(t){return $({},t,{items:dL(Hx(t.items),e.slice(1)).toArray()})})),r}function C6(r,e){var t=[];return U(r,function(n,i){var o=ho(e,function(a){return i.selector===a.selector});o.length<1&&t.push(i)}),t.concat(e)}function wce(r,e,t){var n;e=e||{};var i=e.filter;if((n=e)!==null&&n!==void 0&&n.langParams){var o,a;(o=(a=r).setLangParams)===null||o===void 0||o.call(a,e.langParams)}if(i&&(r=r.filter(i)),t)return r;var s=e.sort,l=e.select,u=e.group,c=e.skip,d=e.take;return u&&(u=Tu(u),u.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(s||u)&&(s=Tu(s||[]),u&&!u.keepInitialKeyOrder&&(s=C6(u,s)),U(s,function(h){r=r[h?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),l&&(r=r.select(l)),u&&(r=dL(r,u)),(d||c)&&(r=r.slice(c||0,d)),r}const Ru={multiLevelGroup:dL,arrangeSortingInfo:C6,queryByOptions:wce};var Jv=tr.abstract,U1=Ru.queryByOptions,iP={},Rl=tr.inherit({_langParams:{},ctor:function(r){var e=this;r=r||{},this._eventsStrategy=new lp(this),U(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(t,n){n in r&&e.on(n.slice(2).toLowerCase(),r[n])}),this._key=r.key,this._errorHandler=r.errorHandler,this._useDefaultSearch=!0},_clearCache:Z,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(r){return this._keyGetter||(this._keyGetter=Ar(this.key())),this._keyGetter(r)},_requireKey:function(){if(!this.key())throw Hn.Error("E4005")},load:function(r){var e=this;return r=r||{},this._eventsStrategy.fireEvent("loading",[r]),this._withLock(this._loadImpl(r)).done(function(t){e._eventsStrategy.fireEvent("loaded",[t,r])})},_loadImpl:function(r){return go(this._langParams)||(r=r||{},r._langParams=b({},this._langParams,r._langParams)),U1(this.createQuery(r),r).enumerate()},_withLock:function(r){var e=new X;return r.done(function(){var t=this,n=arguments;ice.promise().done(function(){e.resolveWith(t,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:Jv,totalCount:function(r){return this._totalCountImpl(r)},_totalCountImpl:function(r){return U1(this.createQuery(r),r,!0).count()},byKey:function(r,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(r,e)))},_byKeyImpl:Jv,insert:function(r){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[r]),e._addFailHandlers(e._insertImpl(r).done(function(t,n){e._eventsStrategy.fireEvent("inserted",[t,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:Jv,update:function(r,e){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("updating",[r,e]),t._addFailHandlers(t._updateImpl(r,e).done(function(){t._eventsStrategy.fireEvent("updated",[r,e]),t._eventsStrategy.fireEvent("modified")}))},_updateImpl:Jv,push:function(r){var e={changes:r,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[e]),$e(...e.waitFor).done(()=>{this._pushImpl(r),this._eventsStrategy.fireEvent("beforePush",[{changes:r}]),this._eventsStrategy.fireEvent("push",[r])})},_pushImpl:Z,remove:function(r){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[r]),e._addFailHandlers(e._removeImpl(r).done(function(t){e._eventsStrategy.fireEvent("removed",[t]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:Jv,_addFailHandlers:function(r){return r.fail(this._errorHandler).fail(sL)},on(r,e){return this._eventsStrategy.on(r,e),this},off(r,e){return this._eventsStrategy.off(r,e),this}});Rl.create=function(r,e){if(!(r in iP))throw Hn.Error("E4020",r);return new iP[r](e)};Rl.registerClass=function(r,e){return e&&(iP[e]=r),r};Rl.inherit=function(r){return function(e,t){var n=r.apply(this,[e]);return Rl.registerClass(n,t),n}}(Rl.inherit);var y6="totalCount",oP="load",S6="byKey",j1="insert",K1="update",q1="remove";function Gf(r){return r&&Ne(r.then)}function mh(r){return new X().resolve(r).promise()}function Gm(r,e){if(!Ne(e))throw Hn.Error("E4011",r)}function w6(r){throw Hn.Error("E4012",r)}function Hd(r){function e(t){var n=t[0],i=t[1];return!n||!n.getResponseHeader?null:nce(n,i)}return function(t){var n;t instanceof Error?n=t:n=new Error(e(arguments)||t&&String(t)||"Unknown error"),n.message!==p6&&r.reject(n)}}function b6(r,e){var t=r._loadFunc,n;return Gm(oP,t),n=t.apply(r,[e]),Array.isArray(n)?n=mh(n):n==null?n=mh([]):Gf(n)||w6(oP),ui(n)}function bce(r,e){var t=r._totalCountFunc,n;if(!Ne(t))throw Hn.Error("E4021");return n=t.apply(r,[e]),Gf(n)||(n=Number(n),isFinite(n)||w6(y6),n=mh(n)),ui(n)}function Ece(r,e,t){var n=r._byKeyFunc,i;return Gm(S6,n),i=n.apply(r,[e,t]),Gf(i)||(i=mh(i)),ui(i)}function E6(r,e,t,n){if(e.__rawData)n(e.__rawData);else{var i=e.__rawDataPromise||b6(e,t);e._cacheRawData&&(e.__rawDataPromise=i),i.always(function(){delete e.__rawDataPromise}).done(function(o){e._cacheRawData&&(e.__rawData=o),n(o)}).fail(Hd(r))}}function Y1(r,e,t,n){t=t||{};var i={};"userData"in t&&(i.userData=t.userData),E6(r,e,i,function(o){var a=Hx(o,{errorHandler:e._errorHandler}),s,l,u=[],c,d;n||(s=Ru.queryByOptions(a,t),s===a?c=o.slice(0):u.push(s.enumerate().done(function(h){c=h}))),(t.requireTotalCount||n)&&(l=Ru.queryByOptions(a,t,!0),l===a?d=o.length:u.push(l.count().done(function(h){d=h}))),$e.apply(E,u).done(function(){n?r.resolve(d):t.requireTotalCount?r.resolve(c,{totalCount:d}):r.resolve(c)}).fail(function(h){r.reject(h)})})}function xce(r,e,t){E6(r,e,{},function(n){for(var i=e.key(),o,a=0,s=n.length;a<s;a++)if(o=n[a],xC(i,e.keyOf(n[a]),t)){r.resolve(o);return}r.reject(Hn.Error("E4009"))})}var Gx=Rl.inherit({ctor:function(r){r=r||{},this.callBase(r),this._useDefaultSearch=!!r.useDefaultSearch||r.loadMode==="raw",this._loadMode=r.loadMode,this._cacheRawData=r.cacheRawData!==!1,this._loadFunc=r[oP],this._totalCountFunc=r[y6],this._byKeyFunc=r[S6],this._insertFunc=r[j1],this._updateFunc=r[K1],this._removeFunc=r[q1]},_clearCache(){delete this.__rawData},createQuery:function(){throw Hn.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(r){var e=new X;return this._loadMode==="raw"&&!this._totalCountFunc?Y1(e,this,r,!0):(bce(this,r).done(function(t){e.resolve(Number(t))}).fail(Hd(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl:function(r){this.__rawData&&gh({keyInfo:this,data:this.__rawData,changes:r})},_loadImpl:function(r){var e=new X;return this._loadMode==="raw"?Y1(e,this,r,!1):(b6(this,r).done(function(t,n){e.resolve(t,n)}).fail(Hd(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(r,e){var t=new X;return this._byKeyViaLoad()?(this._requireKey(),xce(t,this,r)):Ece(this,r,e).done(function(n){t.resolve(n)}).fail(Hd(t)),t.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(r){var e=this,t=e._insertFunc,n,i=new X;return Gm(j1,t),n=t.apply(e,[r]),Gf(n)||(n=mh(n)),ui(n).done(function(o){Fr().useLegacyStoreResult?i.resolve(r,o):i.resolve(o||r,e.keyOf(o))}).fail(Hd(i)),i.promise()},_updateImpl:function(r,e){var t=this._updateFunc,n,i=new X;return Gm(K1,t),n=t.apply(this,[r,e]),Gf(n)||(n=mh(n)),ui(n).done(function(o){Fr().useLegacyStoreResult?i.resolve(r,e):i.resolve(o||e,r)}).fail(Hd(i)),i.promise()},_removeImpl:function(r){var e=this._removeFunc,t,n=new X;return Gm(q1,e),t=e.apply(this,[r]),Gf(t)||(t=mh()),ui(t).done(function(){n.resolve(r)}).fail(Hd(n)),n.promise()}});function Ice(r){var e=[],t=!1;function n(){for(;e.length;){t=!0;var i=e.shift(),o=i();if(o!==void 0){if(o.then){$e(o).always(n);return}throw br.Error("E0015")}}t=!1}return{add:function(i,o){r?(e[0]&&o&&o(e[0]),e=[i]):e.push(i),t||n()},busy:function(){return t}}}function se(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var Tce=Rt(),Rce={getXhr:function(){return new Tce.XMLHttpRequest}};const Oce=ms(Rce);var hL=Rt(),$m="success",RT="error",Dce="timeout",Ace="nocontent",Pce="parsererror",Mce=function(r){return 200<=r&&r<300},Fce=function(r){return r!==204},Lce=function(r){var e=[];for(var t in r){var n=r[t];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(encodeURIComponent(t)+"="+encodeURIComponent(n)))}return e.join("&")},x6=function(r){var e=ce.createElement("script");for(var t in r)e[t]=r[t];return e},I6=function(r){r.parentNode.removeChild(r)},T6=function(r){return ce.getHead().appendChild(r)},X1=function(r){var e=x6({text:r});T6(e),I6(e)},Nce=function(r){var e=x6({src:r});return new Promise(function(t,n){var i={load:t,error:n},o=function(s){i[s.type](),I6(e)};for(var a in i)ce.listen(e,a,o);T6(e)})},kce=function(r){var e=r.dataType||"*",t="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:t,script:t};return Tse(n,r.accepts,!0),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},Vce=function(r){var e;return r.data&&!r.upload&&pL(r)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),r.contentType||e},Bce=function(r){return r.responseType&&r.responseType!=="text"||typeof r.responseText!="string"?r.response:r.responseText},Hce=function(r,e,t){var n=Bce(e);switch(t){case"jsonp":X1(n);break;case"script":X1(n),r.resolve(n,$m,e);break;case"json":try{r.resolve(JSON.parse(n),$m,e)}catch(i){r.reject(e,Pce,i)}break;default:r.resolve(n,$m,e)}},Gce=function(r){if(!yt())return!0;var e=!1,t=ce.createElement("a"),n=ce.createElement("a");t.href=hL.location.href;try{n.href=r,n.href=n.href,e=t.protocol+"//"+t.host!=n.protocol+"//"+n.host}catch{e=!0}return e},$ce=function(r,e){return r&&setTimeout(function(){e.customStatus=Dce,e.abort()},r)},Wce=function(r){if(r.dataType==="jsonp"){var e=Math.random().toString().replace(/\D/g,""),t=r.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=r.jsonp||"callback";return r.data=r.data||{},r.data[n]=t,t}},zce=function(r,e){var t=r.data,n=typeof t=="string",i=r.url||hL.location.href;return!n&&!r.cache&&(t=t||{},t._=Date.now()),t&&!r.upload&&(n||(t=Lce(t)),pL(r)==="GET"?(t!==""&&(i+=(i.indexOf("?")>-1?"&":"?")+t),t=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(t=t.replace(/%20/g,"+"))),{url:i,parameters:t}};function pL(r){return(r.method||"GET").toUpperCase()}var Uce=function(r){var e=r.headers||{};return e["Content-Type"]=e["Content-Type"]||Vce(r),e.Accept=e.Accept||kce(r),!r.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},jce=function(r){var e=Oce.getXhr(),t=new X,n=t.promise(),i=L(r.async)?r.async:!0,o=r.dataType,a=r.timeout||0,s;r.crossDomain=Gce(r.url);var l=o==="jsonp"||o==="script";r.cache===void 0&&(r.cache=!l);var u=Wce(r),c=Uce(r),d=zce(r,c),h=d.url,p=d.parameters;if(u&&(hL[u]=function(g){t.resolve(g,$m,e)}),r.crossDomain&&l)return Nce(h).then(function(){o!=="jsonp"&&t.resolve(null,$m,e)},function(){t.reject(e,RT)}),n;if(r.crossDomain&&!("withCredentials"in e))return t.reject(e,RT),n;if(e.open(pL(r),h,i,r.username,r.password),i&&(e.timeout=a,s=$ce(a,e)),e.onreadystatechange=function(g){e.readyState===4&&(clearTimeout(s),Mce(e.status)?Fce(e.status)?Hce(t,e,o):t.resolve(null,Ace,e):t.reject(e,e.customStatus||RT))},r.upload&&(e.upload.onprogress=r.upload.onprogress,e.upload.onloadstart=r.upload.onloadstart,e.upload.onabort=r.upload.onabort),r.xhrFields)for(var f in r.xhrFields)e[f]=r.xhrFields[f];r.responseType==="arraybuffer"&&(e.responseType=r.responseType);for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&L(c[v])&&e.setRequestHeader(v,c[v]);return r.beforeSend&&r.beforeSend(e),e.send(p),n.abort=function(){e.abort()},n};const Kce=ms({sendRequest:jce}),qce={};var Yce=function r(e,t,n){n=n||[],t=t||{};var i=function(s,l){return{name:s,args:l}},o=function(s){var l=new X,u,c,d,h,p,f=function(m){var C=t.errorHandler;C&&C(m),sL(m),l.reject(m)};function v(m){switch(m.name){case"sortBy":return p=[m.args],!0;case"thenBy":if(!p)throw Hn.Error("E4004");return p.push(m.args),!0}return!1}try{u=t.adapter,Ne(u)||(u=qce[u]),c=u(t),d=[].concat(n).concat(s);var g=c.optimize;for(g&&g(d);d.length;){if(h=d[0],!v(h)){if(p){d.unshift(i("multiSort",[p])),p=null;continue}if(String(h.name)!=="enumerate"&&(!c[h.name]||c[h.name].apply(c,h.args)===!1))break}d.shift()}(function(){var m=d[0],C=[];m&&m.name==="multiSort"&&(d.shift(),U(m.args[0],function(){C.push(i(C.length?"thenBy":"sortBy",this))})),d=C.concat(d)})(),c.exec(e).done(function(m,C){if(!d.length)l.resolve(m,C);else{var y=Hx(m,{errorHandler:t.errorHandler});U(d,function(){y=y[this.name].apply(y,this.args)}),y.done(l.resolve).fail(l.reject)}}).fail(f)}catch(m){f(m)}return l.promise()},a={};return U(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var s=String(this);a[s]=function(){return r(e,t,n.concat(i(s,arguments)))}}),U(["count","min","max","sum","avg","aggregate","enumerate"],function(){var s=String(this);a[s]=function(){return o.call(this,i(s,arguments))}}),a},Xce={array:Hx,remote:Yce},po=function(){var r=Array.isArray(arguments[0])?"array":"remote";return Xce[r].apply(this,arguments)},TC=Rl.inherit({ctor:function(r){Array.isArray(r)?r={data:r}:r=r||{},this.callBase(r);var e=r.data;if(e&&!Array.isArray(e))throw Hn.Error("E4006");this._array=e||[]},createQuery:function(){return po(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(r){var e=Hh(this,this._array,r);return e===-1?f6(Hn.Error("E4009")):Hf(this._array[e])},_insertImpl:function(r){return uL(this,this._array,r)},_pushImpl:function(r){gh({keyInfo:this,data:this._array,changes:r})},_updateImpl:function(r,e){return lL(this,this._array,r,e)},_removeImpl:function(r){return _6(this,this._array,r)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),Qce=["items"],R6="canceled",Q1=r=>r.state()==="pending",Z1=r=>{switch(r.length){case 0:return;case 1:return r[0]}return[].slice.call(r)},Zce=(r,e,t)=>Gn(r,n=>{var i=se(n,Qce);return b({},i,{items:O6(n.items,e-1,t)})}),O6=(r,e,t)=>Array.isArray(r)?e?Zce(r,e,t):Gn(r,t):r,Jce=(r,e,t)=>{var n=t?Tu(t).length:0;return O6(r,n,e)},D6=(r,e)=>{var t;return(t=r)!==null&&t!==void 0&&t.data&&(e=r,r=r.data),Array.isArray(r)||(r=[r]),{data:r,extra:e}},ede=r=>{var e={};return U(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=r[this],delete r[this]}),new Gx(e)},tde=r=>{var e=r.type;return delete r.type,Rl.create(e,r)},rde=(r,e)=>new Gx({load:()=>Kce.sendRequest({url:r,dataType:"json"}),loadMode:e==null?void 0:e.fromUrlLoadMode}),Tv=(r,e)=>{var t;return typeof r=="string"&&(r={paginate:!1,store:rde(r,e)}),r===void 0&&(r=[]),Array.isArray(r)||r instanceof Rl?r={store:r}:r=$({},r),r.store===void 0&&(r.store=[]),t=r.store,"load"in r?t=ede(r):Array.isArray(t)?t=new TC(t):Nt(t)&&(t=tde($({},t))),r.store=t,r};class nde{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(R6),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var Ou=tr.inherit({ctor(r){var e;r=Tv(r),this._eventsStrategy=new lp(this,{syncStrategy:!0}),this._store=r.store,this._changedTime=0;var t=r.pushAggregationTimeout!==0;if(t){var n=r.pushAggregationTimeout===void 0?()=>5*this._changedTime:r.pushAggregationTimeout,i,o,a=cce(s=>{i.resolve();var l=$e(...o);l.done(()=>this._onPush(s)),o=void 0,i=void 0},n);this._onPushHandler=s=>{this._aggregationTimeoutId=a(s.changes),i||(i=new X),o=s.waitFor,s.waitFor.push(i.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=s=>this._onPush(s),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(r),this._mapFunc=r.map,this._postProcessFunc=r.postProcess,this._pageIndex=r.pageIndex!==void 0?r.pageIndex:0,this._pageSize=r.pageSize!==void 0?r.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in r?r.searchValue:null,this._searchOperation=r.searchOperation||"contains",this._searchExpr=r.searchExpr,this._paginate=r.paginate,this._reshapeOnPush=(e=r.reshapeOnPush)!==null&&e!==void 0?e:!1,U(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(s,l)=>{l in r&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),r[l])}),this._operationManager=new nde,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,L(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var r;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(r=this._delayedLoadTask)===null||r===void 0||r.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(r){var e={},t=["sort","filter","langParams","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(t=t.concat(n)),U(t,function(){e[this]=r[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(r){if(!Tr(r))return this._pageIndex;this._pageIndex=r,this._isLastPage=!this._paginate},paginate(r){if(!__(r))return this._paginate;this._paginate!==r&&(this._paginate=r,this.pageIndex(0))},pageSize(r){if(!Tr(r))return this._pageSize;this._pageSize=r},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(r){return e=>{var t=Z1(e);if(t===void 0)return this._storeLoadOptions[r];this._storeLoadOptions[r]=t}},sort(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){var r=Z1(arguments);if(r===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=r,this.pageIndex(0)},group(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(r){if(!__(r))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=r},searchValue(r){if(arguments.length<1)return this._searchValue;this._searchValue=r,this.pageIndex(0)},searchOperation(r){if(!ft(r))return this._searchOperation;this._searchOperation=r,this.pageIndex(0)},searchExpr(r){var e=arguments.length;if(e===0)return this._searchExpr;e>1&&(r=[].slice.call(arguments)),this._searchExpr=r,this.pageIndex(0)},store(){return this._store},key(){var r;return(r=this._store)===null||r===void 0?void 0:r.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>Ice(),_changeLoadingCount(r){var e=this.isLoading();this._loadingCount+=r;var t=this.isLoading();e^t&&this._eventsStrategy.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks(r){this.beginLoading(),r.always(()=>{this.endLoading()})},_scheduleFailCallbacks(r){var e=this;r.fail(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n[0]!==R6&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(r){var e=new Date;this._eventsStrategy.fireEvent("changed",r),this._changedTime=new Date-e},_scheduleChangedCallbacks(r){r.done(()=>this._fireChanged())},loadSingle(r,e){var t=new X,n=this.key(),i=this._store,o=this._createStoreLoadOptions();return this._scheduleFailCallbacks(t),arguments.length<2&&(e=r,r=n),delete o.skip,delete o.group,delete o.refresh,delete o.pageIndex,delete o.searchString,(r===n||i instanceof Gx&&!i._byKeyViaLoad()?i.byKey(e,o):(o.take=1,o.filter=o.filter?[o.filter,[r,e]]:[r,e],i.load(o))).fail(t.reject).done(a=>{var s=Array.isArray(a)&&!a.length;!L(a)||s?t.reject(new Hn.Error("E4009")):(Array.isArray(a)||(a=[a]),t.resolve(this._applyMapFunction(a)[0]))}),t.promise()},load(){var r=new X,e=()=>{if(!this._disposed&&Q1(r))return this._loadFromStore(t,r)};this._scheduleLoadCallbacks(r),this._scheduleFailCallbacks(r),this._scheduleChangedCallbacks(r);var t=this._createLoadOperation(r);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[t]),this._loadQueue.add(()=>(typeof t.delay=="number"?this._delayedLoadTask=VF(e,t.delay):e(),r.promise())),r.promise({operationId:t.operationId})},_onPush(r){if(this._reshapeOnPush)this.load();else{var e={changes:r};this._eventsStrategy.fireEvent("changing",[e]);var t=this.group(),n=this.items(),i=0,o=this.paginate()||t?r.filter(a=>a.type==="update"):r;t&&(i=Array.isArray(t)?t.length:1),this._mapFunc&&o.forEach(a=>{a.type==="insert"&&(a.data=this._mapFunc(a.data))}),e.postProcessChanges&&(o=e.postProcessChanges(o)),gh({keyInfo:this.store(),data:n,changes:o,groupCount:i,useInsertIndex:!0}),this._fireChanged([{changes:r}])}},_createLoadOperation(r){var e=this._operationManager.add(r),t=this._createStoreLoadOptions();return this._store&&!go(t==null?void 0:t.langParams)&&(this._store._langParams=b({},this._store._langParams,t.langParams)),r.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:t}},reload(){var r=this.store();return r._clearCache(),this._init(),this.load()},cancel(r){return this._operationManager.cancel(r)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(r){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(r):(r.searchOperation=this._searchOperation,r.searchValue=this._searchValue,r.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var r=$({},this._storeLoadOptions);return this._addSearchOptions(r),this._paginate&&this._pageSize&&(r.skip=this._pageIndex*this._pageSize,r.take=this._pageSize),r.userData=this._userData,r},_addSearchFilter(r){var e=this._searchValue,t=this._searchOperation,n=this._searchExpr,i=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),U(n,function(o,a){i.length&&i.push("or"),i.push([a,t,e])}),r.filter?r.filter=[i,r.filter]:r.filter=i)},_loadFromStore(r,e){var t=(n,i)=>{if(!this._disposed&&Q1(e)){var o=$(D6(n,i),r);this._eventsStrategy.fireEvent("customizeLoadResult",[o]),$e(o.data).done(a=>{o.data=a,this._processStoreLoadResult(o,e)}).fail(e.reject)}};return r.data?new X().resolve(r.data).done(t):this.store().load(r.storeLoadOptions).done(t).fail(e.reject)},_processStoreLoadResult(r,e){var t=r.data,n=r.extra,i=r.storeLoadOptions,o=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(t,n));this._disposed||(t=this._applyPostProcessFunction(this._applyMapFunction(t)),pt(n)||(n={}),this._items=t,(!t.length||!this._paginate||this._pageSize&&t.length<this._pageSize)&&(this._isLastPage=!0),i.requireTotalCount&&!isFinite(n.totalCount)?this.store().totalCount(i).done(function(a){n.totalCount=a,o()}).fail(e.reject):o())},_applyMapFunction(r){return this._mapFunc?Jce(r,this._mapFunc,this.group()):r},_applyPostProcessFunction(r){return this._postProcessFunc?this._postProcessFunc(r):r},on(r,e){return this._eventsStrategy.on(r,e),this},off(r,e){return this._eventsStrategy.off(r,e),this}}),rv=function(r){return r===0?0:r/Math.abs(r)},Ni=function(r,e,t){var n=!e&&e!==0,i=!t&&t!==0;return n&&(e=i?r:Math.min(r,t)),i&&(t=n?r:Math.max(r,e)),Math.min(Math.max(r,e),t)},mu=function(r,e,t){return r>=e&&r<=t};function J1(r){return Math.abs(parseInt(r.toExponential().split("e")[1]))}function ide(r){var e=r.toExponential().split("e"),t=parseFloat(e[0]),n=parseInt(e[1]);return{exponent:n,mantissa:t}}function A6(r,e){var t=ide(r);return parseFloat("".concat(t.mantissa,"e").concat(t.exponent+e))}function ode(){return 3e-4.toPrecision(3)!=="0.000300"}function P6(r,e){var t=ade(e||0)+2,n=r.toString().split("."),i=r,o=Math.abs(r),a,s=r1(r),l=o>1?10:0;return n.length===1?r:(s||(r1(e)&&(t=n[0].length+J1(e)),r=o,r=r-Math.floor(r)+l),t=ode()&&J1(r)>6||t>7?15:7,!s&&(a=parseFloat(r.toPrecision(t)).toString().split("."),a[0]===l.toString())?parseFloat(n[0]+"."+a[1]):parseFloat(i.toPrecision(t)))}function ade(r){var e=r.toString();if(e.indexOf(".")<0)return 0;var t=e.split("."),n=t[1].indexOf("e");return n>=0?n:t[1].length}var sde={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function $x(r){return sde[r]}var b_=7,eH=4,tH=7,rH=52,gm=["millisecond","second","minute","hour","day","week","month","quarter","year"],lde=function(r,e,t){var n=e.getTime()-r.getTime(),i=$x(t)||1;return Math.floor(n/i)},ude=function(r,e){var t=Wx(r);switch(t){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},M6=function(r){var e,t,n,i=["millisecond","second","minute","hour","day","month","year"],o={};for(e=i.length-1;e>=0;e--)n=i[e],t=Math.floor(r/$x(n)),t>0&&(o[n+"s"]=t,r-=Vb(n,t));return o},cde=function(r){var e=0;return pt(r)&&U(r,function(t,n){e+=Vb(t.substr(0,t.length-1),n)}),ft(r)&&(e=Vb(r,1)),e};function Vb(r,e){return $x(r)*e}function Wx(r){var e=-1,t;return ft(r)?r:pt(r)?(U(r,function(n,i){for(t=0;t<gm.length;t++)i&&(n===gm[t]+"s"||n===gm[t])&&e<t&&(e=t)}),gm[e]):""}var dde={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function hde(r){return dde[Wx(r)]||""}var F6=function(r){return Math.floor(r/3)},L6=function(r){return 3*F6(r)};function N6(r,e,t,n){r=new Date(r.getTime());var i=new Date(r.getTime()),o,a,s=Wx(e);switch(s){case"second":r=new Date(1e3*Math.floor(i.getTime()/1e3));break;case"minute":r=new Date(6e4*Math.floor(i.getTime()/6e4));break;case"hour":r=new Date(36e5*Math.floor(i.getTime()/36e5));break;case"year":r.setMonth(0);case"month":r.setDate(1);case"day":r.setHours(0,0,0,0);break;case"week":r=$6(r,n||0),r.setHours(0,0,0,0);break;case"quarter":o=L6(r.getMonth()),a=r.getMonth(),r.setDate(1),r.setHours(0,0,0,0),a!==o&&r.setMonth(o)}return t&&s!=="hour"&&s!=="minute"&&s!=="second"&&U6(i,r),r}function k6(r){return N6(r,"day")}var pde=function(r){var e=k6(r);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},fde=function(r,e){var t=0,n={year:r.getFullYear()!==e.getFullYear(),month:r.getMonth()!==e.getMonth(),day:r.getDate()!==e.getDate(),hour:r.getHours()!==e.getHours(),minute:r.getMinutes()!==e.getMinutes(),second:r.getSeconds()!==e.getSeconds(),millisecond:r.getMilliseconds()!==e.getMilliseconds()};return U(n,function(i,o){o&&t++}),t===0&&j6(r,e)!==0&&(n.hour=!0,t++),n.count=t,n};function V6(r,e,t){var n=new Date(r.getTime()),i=ft(e)?H6(e.toLowerCase()):Tr(e)?M6(e):e;return i.years&&n.setFullYear(n.getFullYear()+i.years*t),i.quarters&&n.setMonth(n.getMonth()+3*i.quarters*t),i.months&&n.setMonth(n.getMonth()+i.months*t),i.weeks&&n.setDate(n.getDate()+7*i.weeks*t),i.days&&n.setDate(n.getDate()+i.days*t),i.hours&&n.setTime(n.getTime()+36e5*i.hours*t),i.minutes&&n.setTime(n.getTime()+6e4*i.minutes*t),i.seconds&&n.setTime(n.getTime()+1e3*i.seconds*t),i.milliseconds&&n.setTime(n.getTime()+i.milliseconds*t),n}var B6=function(r,e,t){var n=t?-1:1;return Zo(r)?V6(r,e,n):P6(r+e*n,e)},vde=function(r,e,t){var n=[],i;for(n.push(Zo(r)?new Date(r.getTime()):r),i=r;i<e;)i=B6(i,t),n.push(i);return n},gde=function(r,e){if(r==="month")return ba(e.getFullYear(),e.getMonth(),1);if(r==="year")return ba(e.getFullYear(),0,e.getDate());if(r==="decade")return ba(OC(e),e.getMonth(),e.getDate());if(r==="century")return ba(RC(e),e.getMonth(),e.getDate())},mde=function(r,e){if(r==="month")return ba(e.getFullYear(),e.getMonth(),Bb(e));if(r==="year")return ba(e.getFullYear(),11,e.getDate());if(r==="decade")return ba(OC(e)+9,e.getMonth(),e.getDate());if(r==="century")return ba(RC(e)+90,e.getMonth(),e.getDate())},_de=function(r,e){var t=ba(e.getFullYear(),e.getMonth(),1);return r==="month"||(t.setMonth(0),r==="year")||(r==="decade"&&t.setFullYear(OC(e)),r==="century"&&t.setFullYear(RC(e))),t},Cde=function(r,e){var t=new Date(e);return t.setDate(Bb(e)),r==="month"||(t.setMonth(11),t.setDate(Bb(t)),r==="year")||(r==="decade"&&t.setFullYear(OC(e)+9),r==="century"&&t.setFullYear(RC(e)+99)),t};function Bb(r){var e=ba(r.getFullYear(),r.getMonth()+1,0);return e.getDate()}var yde=function(r){switch(r){case"month":return"year";case"year":return"decade";case"decade":return"century"}},Sde=function(r){switch(r){case"century":return"decade";case"decade":return"year";case"year":return"month"}},wde=function(r){var e=1;return r==="year"&&(e=12),r==="decade"&&(e=120),r==="century"&&(e=1200),e},bde=function(r){var e=1;return r==="decade"&&(e=12),r==="century"&&(e=120),e};function H6(r){var e={};switch(r){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function Ede(r,e){return aP(r,e)&&r.getDate()===e.getDate()}function aP(r,e){return G6(r,e)&&r.getMonth()===e.getMonth()}function G6(r,e){return r&&e&&r.getFullYear()===e.getFullYear()}function xde(r,e){return r&&e&&r.getHours()===e.getHours()&&r.getMinutes()===e.getMinutes()}var Ide=function(r,e){if(!(!L(r)||!L(e))){var t=r.getFullYear()-r.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return r&&e&&t===n}},Tde=function(r,e){if(!(!L(r)||!L(e))){var t=r.getFullYear()-r.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return r&&e&&t===n}};function RC(r){return r&&r.getFullYear()-r.getFullYear()%100}function OC(r){return r&&r.getFullYear()-r.getFullYear()%10}var Rde=function(){return"yyyy/MM/dd"},Ode=function(r){if(L(r))return ba(r.getFullYear(),r.getMonth(),1)},Dde=function(r){if(L(r))return ba(r.getFullYear(),r.getMonth()+1,0)};function $6(r,e){var t=(r.getDay()-e+b_)%b_,n=new Date(r);return n.setDate(r.getDate()-t),n}function nH(r){return Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())}function Ade(r){var e=nH(r)-nH(W6(r.getFullYear()));return 1+Math.floor(e/$x("day"))}function W6(r){return new Date(r,0,1)}function OT(r){return new Date(r,11,31)}function iH(r,e){var t=r.getDay()-e+1;return t<=0&&(t+=b_),t}function sP(r,e,t){var n=iH(W6(r.getFullYear()),e),i=iH(OT(r.getFullYear()),e),o=b_-n+1,a=Math.ceil((Ade(r)-o)/7);switch(t){case"fullWeek":if(o===b_&&a++,a===0){var s=OT(r.getFullYear()-1);return sP(s,e,t)}return a;case"firstDay":o>0&&a++;var l=n===tH||i===tH;return(a>rH&&!l||a===54)&&(a=1),a;case"firstFourDays":o>3&&a++;var u=n===eH||i===eH;if(a>rH&&!u&&(a=1),a===0){var c=OT(r.getFullYear()-1);return sP(c,e,t)}return a}}var Pde=function(r,e){var t=qe.getDatesInterval(r,e,"day"),n=new Date(r);return t>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},Mde=function(r,e,t,n){return n==="date"&&(e=e&&qe.correctDateWithUnitBeginning(e,"day"),t=t&&qe.correctDateWithUnitBeginning(t,"day"),r=r&&qe.correctDateWithUnitBeginning(r,"day")),z6(r,e,t)===r},Fde=function(r){var{firstMin:e,firstMax:t,secondMin:n,secondMax:i}=r;return e<=n&&n<=t||e>n&&e<i||e<i&&t>i},Lde=function(r){var e=Math.floor(r),t=r%1*60;return{hours:e,minutes:t}},Nde=function(r,e){var t=this.dateTimeFromDecimal(e),n=new Date(r);return(r.getHours()===t.hours&&r.getMinutes()<t.minutes||r.getHours()<t.hours)&&n.setHours(t.hours,t.minutes,0,0),n};function z6(r,e,t){var n=r;return L(r)?(L(e)&&r<e&&(n=e),L(t)&&r>t&&(n=t),n):r}function U6(r,e){if(L(r)){var t=e.getHours()-r.getHours();if(t!==0){var n=t===1||t===-23?-1:1,i=new Date(e.getTime()+36e5*n);(n>0||i.getDate()===e.getDate())&&e.setTime(i.getTime())}}}var kde=function(r){var e=new Date(r.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function j6(r,e){return 60*(e.getTimezoneOffset()-r.getTimezoneOffset())*1e3}var Vde=function(r){return new Date(r)},Bde=function(r,e,t){for(var n=[],i=new Date(r.getTime());i<e;)n.push(new Date(i.getTime())),i=this.addInterval(i,t);return n},ba=function(r){var e=new Date(...arguments);return e.setFullYear(r),e},Hde=()=>{var r=typeof Intl<"u";return r?Intl.DateTimeFormat().resolvedOptions().timeZone:null},qe={dateUnitIntervals:gm,convertMillisecondsToDateUnits:M6,dateToMilliseconds:cde,getNextDateUnit:ude,convertDateUnitToMilliseconds:Vb,getDateUnitInterval:Wx,getDateFormatByTickInterval:hde,getDatesDifferences:fde,correctDateWithUnitBeginning:N6,trimTime:k6,setToDayEnd:pde,roundDateByStartDayHour:Nde,dateTimeFromDecimal:Lde,addDateInterval:V6,addInterval:B6,getSequenceByInterval:vde,getDateIntervalByString:H6,sameHoursAndMinutes:xde,sameDate:Ede,sameMonthAndYear:aP,sameMonth:aP,sameYear:G6,sameDecade:Ide,sameCentury:Tde,getDifferenceInMonth:wde,getDifferenceInMonthForCells:bde,getFirstYearInDecade:OC,getFirstDecadeInCentury:RC,getShortDateFormat:Rde,getViewFirstCellDate:gde,getViewLastCellDate:mde,getViewDown:Sde,getViewUp:yde,getLastMonthDay:Bb,getLastMonthDate:Dde,getFirstMonthDate:Ode,getFirstWeekDate:$6,getWeekNumber:sP,normalizeDateByWeek:Pde,getQuarter:F6,getFirstQuarterMonth:L6,dateInRange:Mde,intervalsOverlap:Fde,roundToHour:kde,normalizeDate:z6,getViewMinBoundaryDate:_de,getViewMaxBoundaryDate:Cde,fixTimezoneGap:U6,getTimezonesDifference:j6,makeDate:Vde,getDatesInterval:lde,getDatesOfInterval:Bde,createDateWithFullYear:ba,getMachineTimezoneName:Hde};qe.sameView=function(r,e,t){return qe[y_("same "+r)](e,t)};var Gde=10;function $de(r){var e=rv(r);return e*Math.round(Math.abs(r))}function Wde(r,e){var t=Math.pow(Gde,e),n=A6(r,e);return $de(n)/t}function K6(r,e){var t=e||0,n=t>0?Wde(...arguments):r;return n.toFixed(t)}var zde={thousandsSeparator:",",decimalSeparator:"."},oH="'",Ude=15,jde=2;function Kde(r){return r.split(",").slice(1).map(function(e){var t=0;return e.split("").filter(function(n,i){t+=n==="'";var o=n==="#"||n==="0",a=t%2;return o&&!a}).length})}function qde(r){var e=r.split(";");return e.length===1&&e.push("-"+e[0]),e}function DT(r){return r.toString().split("").reverse().join("")}function Yde(r){return r.indexOf("%")!==-1&&!r.match(/'[^']*%[^']*'/g)}function q6(r){return r.replace(/'.+'/g,"")}function aH(r){if(!r)return 0;var e=q6(r);return e.length-e.replace(/[#]/g,"").length}function sH(r){if(!r)return 0;var e=q6(r);return e.length-e.replace(/[0]/g,"").length}function lH(r,e,t){if(!r)return"";for(r.length>t&&(r=r.substr(0,t));r.length>e&&r.slice(-1)==="0";)r=r.substr(0,r.length-1);for(;r.length<e;)r+="0";return r}function Xde(r,e,t){if(!e.length)return r;for(var n=[],i=0;r;){var o=e[i];if(!o)break;n.push(r.slice(0,o)),r=r.slice(o),i<e.length-1&&i++}return n.join(t)}function uH(r,e){return r.split(oH).map(function(t,n){var i=n%2;return!t&&i?oH:i?t:t.replace(/[,#0]+/,e)}).join("")}function Qde(r){for(var e=!1,t=0;t<r.length;t++)if(r[t]==="'"&&(e=!e),r[t]==="."&&!e)return t;return r.length}function Zde(r,e){return e=e||zde,function(t){if(typeof t!="number"||isNaN(t))return"";var n=qde(r),i=1/t===1/0,o=t>0||i,a=n[o?0:1],s=Qde(a),l=[a.substr(0,s),a.substr(s+1)],u=sH(l[1]),c=u+aH(l[1]);Yde(a)&&(t=A6(t,jde)),o||(t=-t);var d=sH(l[0]),h=aH(l[0])||e.unlimitedIntegerDigits?void 0:d,p=Math.floor(t).toString().length,f=Ni(c,0,Ude-p),v=Kde(l[0]).reverse(),g=K6(t,f<0?0:f).split("."),m=lH(DT(g[0]),d,h),C=lH(g[1],u,c);m=Xde(m,v,e.thousandsSeparator);var y=DT(uH(DT(l[0]),m)),w=c?uH(l[1],C):"",T=y+(w.match(/\d/)?e.decimalSeparator:"")+w;return T}}function Wm(r,e,t){var n=(e?.01:1)*parseFloat(r)||0;return t?-n:n}function cH(r,e,t,n){var i=r,o,a,s;do s&&(o=a.length===s.length?"0":"1",r=n?o+r:r+o),a=s||e(Wm(i,t)),i=n?"1"+i:i+"1",s=e(Wm(i,t));while(a!==s&&(n?a.length===s.length:a.length<=s.length));if(n&&s.length>a.length){var l=e(12345).indexOf("12345")===-1;do r="1"+r;while(l&&Wm(r,t)<1e5)}return r}function dH(r,e,t,n){var i=e(Wm(r,t,n)),o=r.split("."),a=o[0]+".3"+o[1].slice(1),s=Wm(a,t,n),l=e(s).indexOf("3")-1;return i=i.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(i=i.slice(0,l)+"."+i.slice(l+1)),i=i.replace(/1+/,"1").replace(/1/g,"#"),t||(i=i.replace(/%/g,"'%'")),i}function Jde(r){var e=".",t=r(1).indexOf("100")>=0;e=cH(e,r,t,!0),e=cH(e,r,t,!1);var n=dH(e,r,t,!1),i=dH(e,r,t,!0);return i==="-"+n?n:n+";"+i}const ehe={_formatNumberCore:function(r,e,t){if(e==="currency"){t.precision=t.precision||0;var n=this.format(r,$({},t,{type:"fixedpoint"})),i=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,"$1"+i+"$2"),n}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},the=(r,e)=>{if(e){var t=r;if(typeof r=="string"){t="";for(var n=0;n<r.length;n++)r[n]!=="$"&&(t+="\\"),t+=r[n]}for(var i={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\":t},o=e.split(";"),a=0;a<o.length;a++)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[a]=o[a].replace(new RegExp(s,"g"),i[s]));return o.length===2?o[0]+"_);"+o[1]:o[0]}},rhe={af:"#,##0.00;(#,##0.00)","af-NA":"#,##0.00;(#,##0.00)",agq:"#,##0.00",ak:"#,##0.00",am:"#,##0.00;(#,##0.00)",ar:"#,##0.00;(#,##0.00)","ar-AE":"#,##0.00;(#,##0.00)","ar-BH":"#,##0.00;(#,##0.00)","ar-DJ":"#,##0.00;(#,##0.00)","ar-DZ":"#,##0.00;(#,##0.00)","ar-EG":"#,##0.00;(#,##0.00)","ar-EH":"#,##0.00;(#,##0.00)","ar-ER":"#,##0.00;(#,##0.00)","ar-IL":"#,##0.00;(#,##0.00)","ar-IQ":"#,##0.00;(#,##0.00)","ar-JO":"#,##0.00;(#,##0.00)","ar-KM":"#,##0.00;(#,##0.00)","ar-KW":"#,##0.00;(#,##0.00)","ar-LB":"#,##0.00;(#,##0.00)","ar-LY":"#,##0.00;(#,##0.00)","ar-MA":"#,##0.00;(#,##0.00)","ar-MR":"#,##0.00;(#,##0.00)","ar-OM":"#,##0.00;(#,##0.00)","ar-PS":"#,##0.00;(#,##0.00)","ar-QA":"#,##0.00;(#,##0.00)","ar-SA":"#,##0.00;(#,##0.00)","ar-SD":"#,##0.00;(#,##0.00)","ar-SO":"#,##0.00;(#,##0.00)","ar-SS":"#,##0.00;(#,##0.00)","ar-SY":"#,##0.00;(#,##0.00)","ar-TD":"#,##0.00;(#,##0.00)","ar-TN":"#,##0.00;(#,##0.00)","ar-YE":"#,##0.00;(#,##0.00)",as:"#,##,##0.00",asa:"#,##0.00",ast:"#,##0.00",az:"#,##0.00","az-Cyrl":"#,##0.00","az-Latn":"#,##0.00",bas:"#,##0.00",be:"#,##0.00","be-tarask":"#,##0.00",bem:"#,##0.00;(#,##0.00)",bez:"#,##0.00",bg:"0.00;(0.00)",bm:"#,##0.00;(#,##0.00)",bn:"#,##,##0.00;(#,##,##0.00)","bn-IN":"#,##,##0.00;(#,##,##0.00)",bo:"#,##0.00","bo-IN":"#,##0.00",br:"#,##0.00",brx:"#,##,##0.00",bs:"#,##0.00","bs-Cyrl":"#,##0.00","bs-Latn":"#,##0.00",ca:"#,##0.00;(#,##0.00)","ca-AD":"#,##0.00;(#,##0.00)","ca-ES-valencia":"#,##0.00;(#,##0.00)","ca-FR":"#,##0.00;(#,##0.00)","ca-IT":"#,##0.00;(#,##0.00)",ccp:"#,##,##0.00;(#,##,##0.00)","ccp-IN":"#,##,##0.00;(#,##,##0.00)",ce:"#,##0.00",ceb:"#,##0.00;(#,##0.00)",cgg:"#,##0.00",chr:"#,##0.00;(#,##0.00)",ckb:"#,##0.00","ckb-IR":"#,##0.00",cs:"#,##0.00",cy:"#,##0.00;(#,##0.00)",da:"#,##0.00","da-GL":"#,##0.00",dav:"#,##0.00;(#,##0.00)",de:"#,##0.00","de-AT":"#,##0.00","de-BE":"#,##0.00","de-CH":"#,##0.00","de-IT":"#,##0.00","de-LI":"#,##0.00","de-LU":"#,##0.00",dje:"#,##0.00",doi:"#,##0.00",dsb:"#,##0.00",dua:"#,##0.00",dyo:"#,##0.00",dz:"#,##,##0.00",ebu:"#,##0.00;(#,##0.00)",ee:"#,##0.00;(#,##0.00)","ee-TG":"#,##0.00;(#,##0.00)",el:"#,##0.00","el-CY":"#,##0.00",en:"#,##0.00;(#,##0.00)","en-001":"#,##0.00;(#,##0.00)","en-150":"#,##0.00","en-AE":"#,##0.00;(#,##0.00)","en-AG":"#,##0.00;(#,##0.00)","en-AI":"#,##0.00;(#,##0.00)","en-AS":"#,##0.00;(#,##0.00)","en-AT":"#,##0.00","en-AU":"#,##0.00;(#,##0.00)","en-BB":"#,##0.00;(#,##0.00)","en-BE":"#,##0.00","en-BI":"#,##0.00;(#,##0.00)","en-BM":"#,##0.00;(#,##0.00)","en-BS":"#,##0.00;(#,##0.00)","en-BW":"#,##0.00;(#,##0.00)","en-BZ":"#,##0.00;(#,##0.00)","en-CA":"#,##0.00;(#,##0.00)","en-CC":"#,##0.00;(#,##0.00)","en-CH":"#,##0.00;-#,##0.00","en-CK":"#,##0.00;(#,##0.00)","en-CM":"#,##0.00;(#,##0.00)","en-CX":"#,##0.00;(#,##0.00)","en-CY":"#,##0.00;(#,##0.00)","en-DE":"#,##0.00","en-DG":"#,##0.00;(#,##0.00)","en-DK":"#,##0.00","en-DM":"#,##0.00;(#,##0.00)","en-ER":"#,##0.00;(#,##0.00)","en-FI":"#,##0.00","en-FJ":"#,##0.00;(#,##0.00)","en-FK":"#,##0.00;(#,##0.00)","en-FM":"#,##0.00;(#,##0.00)","en-GB":"#,##0.00;(#,##0.00)","en-GD":"#,##0.00;(#,##0.00)","en-GG":"#,##0.00;(#,##0.00)","en-GH":"#,##0.00;(#,##0.00)","en-GI":"#,##0.00;(#,##0.00)","en-GM":"#,##0.00;(#,##0.00)","en-GU":"#,##0.00;(#,##0.00)","en-GY":"#,##0.00;(#,##0.00)","en-HK":"#,##0.00;(#,##0.00)","en-IE":"#,##0.00;(#,##0.00)","en-IL":"#,##0.00;(#,##0.00)","en-IM":"#,##0.00;(#,##0.00)","en-IN":"#,##0.00;(#,##0.00)","en-IO":"#,##0.00;(#,##0.00)","en-JE":"#,##0.00;(#,##0.00)","en-JM":"#,##0.00;(#,##0.00)","en-KE":"#,##0.00;(#,##0.00)","en-KI":"#,##0.00;(#,##0.00)","en-KN":"#,##0.00;(#,##0.00)","en-KY":"#,##0.00;(#,##0.00)","en-LC":"#,##0.00;(#,##0.00)","en-LR":"#,##0.00;(#,##0.00)","en-LS":"#,##0.00;(#,##0.00)","en-MG":"#,##0.00;(#,##0.00)","en-MH":"#,##0.00;(#,##0.00)","en-MO":"#,##0.00;(#,##0.00)","en-MP":"#,##0.00;(#,##0.00)","en-MS":"#,##0.00;(#,##0.00)","en-MT":"#,##0.00;(#,##0.00)","en-MU":"#,##0.00;(#,##0.00)","en-MV":"#,##0.00","en-MW":"#,##0.00;(#,##0.00)","en-MY":"#,##0.00;(#,##0.00)","en-NA":"#,##0.00;(#,##0.00)","en-NF":"#,##0.00;(#,##0.00)","en-NG":"#,##0.00;(#,##0.00)","en-NL":"#,##0.00;(#,##0.00)","en-NR":"#,##0.00;(#,##0.00)","en-NU":"#,##0.00;(#,##0.00)","en-NZ":"#,##0.00;(#,##0.00)","en-PG":"#,##0.00;(#,##0.00)","en-PH":"#,##0.00;(#,##0.00)","en-PK":"#,##0.00;(#,##0.00)","en-PN":"#,##0.00;(#,##0.00)","en-PR":"#,##0.00;(#,##0.00)","en-PW":"#,##0.00;(#,##0.00)","en-RW":"#,##0.00;(#,##0.00)","en-SB":"#,##0.00;(#,##0.00)","en-SC":"#,##0.00;(#,##0.00)","en-SD":"#,##0.00;(#,##0.00)","en-SE":"#,##0.00","en-SG":"#,##0.00;(#,##0.00)","en-SH":"#,##0.00;(#,##0.00)","en-SI":"#,##0.00;(#,##0.00)","en-SL":"#,##0.00;(#,##0.00)","en-SS":"#,##0.00;(#,##0.00)","en-SX":"#,##0.00;(#,##0.00)","en-SZ":"#,##0.00;(#,##0.00)","en-TC":"#,##0.00;(#,##0.00)","en-TK":"#,##0.00;(#,##0.00)","en-TO":"#,##0.00;(#,##0.00)","en-TT":"#,##0.00;(#,##0.00)","en-TV":"#,##0.00;(#,##0.00)","en-TZ":"#,##0.00;(#,##0.00)","en-UG":"#,##0.00;(#,##0.00)","en-UM":"#,##0.00;(#,##0.00)","en-VC":"#,##0.00;(#,##0.00)","en-VG":"#,##0.00;(#,##0.00)","en-VI":"#,##0.00;(#,##0.00)","en-VU":"#,##0.00;(#,##0.00)","en-WS":"#,##0.00;(#,##0.00)","en-ZA":"#,##0.00;(#,##0.00)","en-ZM":"#,##0.00;(#,##0.00)","en-ZW":"#,##0.00;(#,##0.00)",eo:"#,##0.00",es:"#,##0.00","es-419":"#,##0.00","es-AR":"#,##0.00;(#,##0.00)","es-BO":"#,##0.00","es-BR":"#,##0.00","es-BZ":"#,##0.00","es-CL":"#,##0.00","es-CO":"#,##0.00","es-CR":"#,##0.00","es-CU":"#,##0.00","es-DO":"#,##0.00;(#,##0.00)","es-EA":"#,##0.00","es-EC":"#,##0.00","es-GQ":"#,##0.00","es-GT":"#,##0.00","es-HN":"#,##0.00","es-IC":"#,##0.00","es-MX":"#,##0.00","es-NI":"#,##0.00","es-PA":"#,##0.00","es-PE":"#,##0.00","es-PH":"#,##0.00","es-PR":"#,##0.00","es-PY":"#,##0.00","es-SV":"#,##0.00","es-US":"#,##0.00","es-UY":"#,##0.00;(#,##0.00)","es-VE":"#,##0.00",et:"#,##0.00;(#,##0.00)",eu:"#,##0.00;(#,##0.00)",ewo:"#,##0.00",fa:"#,##0.00;(#,##0.00)","fa-AF":"#,##0.00;(#,##0.00)",ff:"#,##0.00","ff-Adlm":"#,##0.00","ff-Adlm-BF":"#,##0.00","ff-Adlm-CM":"#,##0.00","ff-Adlm-GH":"#,##0.00","ff-Adlm-GM":"#,##0.00","ff-Adlm-GW":"#,##0.00","ff-Adlm-LR":"#,##0.00","ff-Adlm-MR":"#,##0.00","ff-Adlm-NE":"#,##0.00","ff-Adlm-NG":"#,##0.00","ff-Adlm-SL":"#,##0.00","ff-Adlm-SN":"#,##0.00","ff-Latn":"#,##0.00","ff-Latn-BF":"#,##0.00","ff-Latn-CM":"#,##0.00","ff-Latn-GH":"#,##0.00","ff-Latn-GM":"#,##0.00","ff-Latn-GN":"#,##0.00","ff-Latn-GW":"#,##0.00","ff-Latn-LR":"#,##0.00","ff-Latn-MR":"#,##0.00","ff-Latn-NE":"#,##0.00","ff-Latn-NG":"#,##0.00","ff-Latn-SL":"#,##0.00",fi:"#,##0.00",fil:"#,##0.00;(#,##0.00)",fo:"#,##0.00;(#,##0.00)","fo-DK":"#,##0.00;(#,##0.00)",fr:"#,##0.00;(#,##0.00)","fr-BE":"#,##0.00;(#,##0.00)","fr-BF":"#,##0.00;(#,##0.00)","fr-BI":"#,##0.00;(#,##0.00)","fr-BJ":"#,##0.00;(#,##0.00)","fr-BL":"#,##0.00;(#,##0.00)","fr-CA":"#,##0.00;(#,##0.00)","fr-CD":"#,##0.00;(#,##0.00)","fr-CF":"#,##0.00;(#,##0.00)","fr-CG":"#,##0.00;(#,##0.00)","fr-CH":"#,##0.00;(#,##0.00)","fr-CI":"#,##0.00;(#,##0.00)","fr-CM":"#,##0.00;(#,##0.00)","fr-DJ":"#,##0.00;(#,##0.00)","fr-DZ":"#,##0.00;(#,##0.00)","fr-GA":"#,##0.00;(#,##0.00)","fr-GF":"#,##0.00;(#,##0.00)","fr-GN":"#,##0.00;(#,##0.00)","fr-GP":"#,##0.00;(#,##0.00)","fr-GQ":"#,##0.00;(#,##0.00)","fr-HT":"#,##0.00;(#,##0.00)","fr-KM":"#,##0.00;(#,##0.00)","fr-LU":"#,##0.00;(#,##0.00)","fr-MA":"#,##0.00;(#,##0.00)","fr-MC":"#,##0.00;(#,##0.00)","fr-MF":"#,##0.00;(#,##0.00)","fr-MG":"#,##0.00;(#,##0.00)","fr-ML":"#,##0.00;(#,##0.00)","fr-MQ":"#,##0.00;(#,##0.00)","fr-MR":"#,##0.00;(#,##0.00)","fr-MU":"#,##0.00;(#,##0.00)","fr-NC":"#,##0.00;(#,##0.00)","fr-NE":"#,##0.00;(#,##0.00)","fr-PF":"#,##0.00;(#,##0.00)","fr-PM":"#,##0.00;(#,##0.00)","fr-RE":"#,##0.00;(#,##0.00)","fr-RW":"#,##0.00;(#,##0.00)","fr-SC":"#,##0.00;(#,##0.00)","fr-SN":"#,##0.00;(#,##0.00)","fr-SY":"#,##0.00;(#,##0.00)","fr-TD":"#,##0.00;(#,##0.00)","fr-TG":"#,##0.00;(#,##0.00)","fr-TN":"#,##0.00;(#,##0.00)","fr-VU":"#,##0.00;(#,##0.00)","fr-WF":"#,##0.00;(#,##0.00)","fr-YT":"#,##0.00;(#,##0.00)",fur:"#,##0.00",fy:"#,##0.00;(#,##0.00)",ga:"#,##0.00;(#,##0.00)","ga-GB":"#,##0.00;(#,##0.00)",gd:"#,##0.00;(#,##0.00)",gl:"#,##0.00",gsw:"#,##0.00","gsw-FR":"#,##0.00","gsw-LI":"#,##0.00",gu:"#,##,##0.00;(#,##,##0.00)",guz:"#,##0.00;(#,##0.00)",gv:"#,##0.00",ha:"#,##0.00","ha-GH":"#,##0.00","ha-NE":"#,##0.00",haw:"#,##0.00;(#,##0.00)",he:"#,##0.00",hi:"#,##,##0.00","hi-Latn":"#,##,##0.00",hr:"#,##0.00","hr-BA":"#,##0.00",hsb:"#,##0.00",hu:"#,##0.00",hy:"#,##0.00",ia:"#,##0.00;(#,##0.00)",id:"#,##0.00",ig:"#,##0.00;(#,##0.00)",ii:"#,##0.00",is:"#,##0.00",it:"#,##0.00","it-CH":"#,##0.00","it-SM":"#,##0.00","it-VA":"#,##0.00",ja:"#,##0.00;(#,##0.00)",jgo:"#,##0.00",jmc:"#,##0.00",jv:"#,##0.00",ka:"#,##0.00",kab:"#,##0.00",kam:"#,##0.00;(#,##0.00)",kde:"#,##0.00;(#,##0.00)",kea:"#,##0.00;(#,##0.00)",kgp:"#,##0.00",khq:"#,##0.00",ki:"#,##0.00;(#,##0.00)",kk:"#,##0.00",kkj:"#,##0.00",kl:"#,##0.00;-#,##0.00",kln:"#,##0.00;(#,##0.00)",km:"#,##0.00;(#,##0.00)",kn:"#,##0.00;(#,##0.00)",ko:"#,##0.00;(#,##0.00)","ko-KP":"#,##0.00;(#,##0.00)",kok:"#,##0.00;(#,##0.00)",ks:"#,##0.00","ks-Arab":"#,##0.00","ks-Deva":"#,##0.00",ksb:"#,##0.00",ksf:"#,##0.00",ksh:"#,##0.00",ku:"#,##0.00;(#,##0.00)",kw:"#,##0.00",ky:"#,##0.00",lag:"#,##0.00",lb:"#,##0.00",lg:"#,##0.00",lkt:"#,##0.00",ln:"#,##0.00","ln-AO":"#,##0.00","ln-CF":"#,##0.00","ln-CG":"#,##0.00",lo:"#,##0.00;-#,##0.00",lrc:"#,##0.00","lrc-IQ":"#,##0.00",lt:"#,##0.00",lu:"#,##0.00",luo:"#,##0.00",luy:"#,##0.00;-#,##0.00",lv:"#,##0.00",mai:"#,##0.00",mas:"#,##0.00;(#,##0.00)","mas-TZ":"#,##0.00;(#,##0.00)",mer:"#,##0.00;(#,##0.00)",mfe:"#,##0.00",mg:"#,##0.00",mgh:"#,##0.00",mgo:"#,##0.00",mi:"#,##0.00",mk:"#,##0.00",ml:"#,##0.00;(#,##0.00)",mn:"#,##0.00",mni:"#,##0.00","mni-Beng":"#,##0.00",mr:"#,##0.00;(#,##0.00)",ms:"#,##0.00;(#,##0.00)","ms-BN":"#,##0.00;(#,##0.00)","ms-ID":"#,##0.00","ms-SG":"#,##0.00;(#,##0.00)",mt:"#,##0.00",mua:"#,##0.00;(#,##0.00)",my:"#,##0.00",mzn:"#,##0.00",naq:"#,##0.00",nb:"#,##0.00;(#,##0.00)","nb-SJ":"#,##0.00;(#,##0.00)",nd:"#,##0.00;(#,##0.00)",nds:"#,##0.00","nds-NL":"#,##0.00",ne:"#,##,##0.00","ne-IN":"#,##,##0.00",nl:"#,##0.00;(#,##0.00)","nl-AW":"#,##0.00;(#,##0.00)","nl-BE":"#,##0.00;(#,##0.00)","nl-BQ":"#,##0.00;(#,##0.00)","nl-CW":"#,##0.00;(#,##0.00)","nl-SR":"#,##0.00;(#,##0.00)","nl-SX":"#,##0.00;(#,##0.00)",nmg:"#,##0.00",nn:"#,##0.00",nnh:"#,##0.00",no:"#,##0.00;(#,##0.00)",nus:"#,##0.00;(#,##0.00)",nyn:"#,##0.00",om:"#,##0.00","om-KE":"#,##0.00",or:"#,##0.00;(#,##0.00)",os:"#,##0.00","os-RU":"#,##0.00",pa:"#,##0.00","pa-Arab":"#,##0.00","pa-Guru":"#,##0.00",pcm:"#,##0.00",pl:"#,##0.00;(#,##0.00)",ps:"#,##0.00;(#,##0.00)","ps-PK":"#,##0.00;(#,##0.00)",pt:"#,##0.00","pt-AO":"#,##0.00;(#,##0.00)","pt-CH":"#,##0.00;(#,##0.00)","pt-CV":"#,##0.00;(#,##0.00)","pt-GQ":"#,##0.00;(#,##0.00)","pt-GW":"#,##0.00;(#,##0.00)","pt-LU":"#,##0.00;(#,##0.00)","pt-MO":"#,##0.00;(#,##0.00)","pt-MZ":"#,##0.00;(#,##0.00)","pt-PT":"#,##0.00;(#,##0.00)","pt-ST":"#,##0.00;(#,##0.00)","pt-TL":"#,##0.00;(#,##0.00)",qu:"#,##0.00","qu-BO":"#,##0.00","qu-EC":"#,##0.00",rm:"#,##0.00",rn:"#,##0.00",ro:"#,##0.00;(#,##0.00)","ro-MD":"#,##0.00;(#,##0.00)",rof:"#,##0.00",ru:"#,##0.00","ru-BY":"#,##0.00","ru-KG":"#,##0.00","ru-KZ":"#,##0.00","ru-MD":"#,##0.00","ru-UA":"#,##0.00",rw:"#,##0.00",rwk:"#,##0.00",sa:"#,##0.00",sah:"#,##0.00",saq:"#,##0.00;(#,##0.00)",sat:"#,##0.00","sat-Olck":"#,##0.00",sbp:"#,##0.00",sc:"#,##0.00",sd:"#,##0.00","sd-Arab":"#,##0.00","sd-Deva":"#,##0.00",se:"#,##0.00","se-FI":"#,##0.00","se-SE":"#,##0.00",seh:"#,##0.00",ses:"#,##0.00",sg:"#,##0.00;-#,##0.00",shi:"#,##0.00","shi-Latn":"#,##0.00","shi-Tfng":"#,##0.00",si:"#,##0.00;(#,##0.00)",sk:"#,##0.00;(#,##0.00)",sl:"#,##0.00;(#,##0.00)",smn:"#,##0.00",sn:"#,##0.00;(#,##0.00)",so:"#,##0.00;(#,##0.00)","so-DJ":"#,##0.00;(#,##0.00)","so-ET":"#,##0.00;(#,##0.00)","so-KE":"#,##0.00;(#,##0.00)",sq:"#,##0.00;(#,##0.00)","sq-MK":"#,##0.00;(#,##0.00)","sq-XK":"#,##0.00;(#,##0.00)",sr:"#,##0.00;(#,##0.00)","sr-Cyrl":"#,##0.00;(#,##0.00)","sr-Cyrl-BA":"#,##0.00;(#,##0.00)","sr-Cyrl-ME":"#,##0.00;(#,##0.00)","sr-Cyrl-XK":"#,##0.00;(#,##0.00)","sr-Latn":"#,##0.00;(#,##0.00)","sr-Latn-BA":"#,##0.00;(#,##0.00)","sr-Latn-ME":"#,##0.00;(#,##0.00)","sr-Latn-XK":"#,##0.00;(#,##0.00)",su:"#,##0.00","su-Latn":"#,##0.00",sv:"#,##0.00","sv-AX":"#,##0.00","sv-FI":"#,##0.00",sw:"#,##0.00","sw-CD":"#,##0.00","sw-KE":"#,##0.00","sw-UG":"#,##0.00",ta:"#,##0.00;(#,##0.00)","ta-LK":"#,##0.00;(#,##0.00)","ta-MY":"#,##0.00;(#,##0.00)","ta-SG":"#,##0.00;(#,##0.00)",te:"#,##0.00;(#,##0.00)",teo:"#,##0.00;(#,##0.00)","teo-KE":"#,##0.00;(#,##0.00)",tg:"#,##0.00",th:"#,##0.00;(#,##0.00)",ti:"#,##0.00","ti-ER":"#,##0.00",tk:"#,##0.00",to:"#,##0.00",tr:"#,##0.00;(#,##0.00)","tr-CY":"#,##0.00;(#,##0.00)",tt:"#,##0.00",twq:"#,##0.00",tzm:"#,##0.00",ug:"#,##0.00;(#,##0.00)",uk:"#,##0.00",und:"#,##0.00",ur:"#,##0.00;(#,##0.00)","ur-IN":"#,##0.00;(#,##0.00)",uz:"#,##0.00","uz-Arab":"#,##0.00","uz-Cyrl":"#,##0.00","uz-Latn":"#,##0.00",vai:"#,##0.00;(#,##0.00)","vai-Latn":"#,##0.00;(#,##0.00)","vai-Vaii":"#,##0.00;(#,##0.00)",vi:"#,##0.00",vun:"#,##0.00",wae:"#,##0.00",wo:"#,##0.00",xh:"#,##0.00",xog:"#,##0.00",yav:"#,##0.00;(#,##0.00)",yi:"#,##0.00",yo:"#,##0.00;(#,##0.00)","yo-BJ":"#,##0.00;(#,##0.00)",yrl:"#,##0.00","yrl-CO":"#,##0.00","yrl-VE":"#,##0.00",yue:"#,##0.00;(#,##0.00)","yue-Hans":"#,##0.00;(#,##0.00)","yue-Hant":"#,##0.00;(#,##0.00)",zgh:"#,##0.00",zh:"#,##0.00;(#,##0.00)","zh-Hans":"#,##0.00;(#,##0.00)","zh-Hans-HK":"#,##0.00;(#,##0.00)","zh-Hans-MO":"#,##0.00;(#,##0.00)","zh-Hans-SG":"#,##0.00;(#,##0.00)","zh-Hant":"#,##0.00;(#,##0.00)","zh-Hant-HK":"#,##0.00;(#,##0.00)","zh-Hant-MO":"#,##0.00;(#,##0.00)",zu:"#,##0.00;(#,##0.00)"};var nhe=["standard","accounting"],ihe=20,ohe=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,AT={},hH=r=>{var e=hs.locale()+"/"+JSON.stringify(r);return AT[e]||(AT[e]=new Intl.NumberFormat(hs.locale(),r).format),AT[e]},ahe=r=>new Intl.NumberFormat(hs.locale(),{style:"currency",currency:r});const she={engine:function(){return"intl"},_formatNumberCore:function(r,e,t){return e==="exponential"?this.callBase.apply(this,arguments):hH(this._normalizeFormatConfig(e,t,r))(r)},_normalizeFormatConfig:function(r,e,t){var n;if(r==="decimal"){var i=String(t).split(".")[1];n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:i&&i.length,round:t<0?"ceil":"floor"}}else n=this._getPrecisionConfig(e.precision);if(r==="percent")n.style="percent";else if(r==="currency"){var o,a=(o=e.useCurrencyAccountingStyle)!==null&&o!==void 0?o:Fr().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||Fr().defaultCurrency,n.currencySign=nhe[+a]}return n},_getPrecisionConfig:function(r){var e;return r===null?e={minimumFractionDigits:0,maximumFractionDigits:ihe}:e={minimumFractionDigits:r||0,maximumFractionDigits:r||0},e},format:function(r,e){return typeof r!="number"?r:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=Fr().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?hH(e)(r):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(r){var e=ahe(r);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(r){var e=ohe.exec(r)||[],t=e[1]?"before":"after",n=e[1]||e[4]||"",i=e[2]||e[3]||"";return{position:t,symbol:n,delimiter:i}},getCurrencySymbol:function(r){r||(r=Fr().defaultCurrency);var e=this._getCurrencySymbolInfo(r);return{symbol:e.symbol}},getOpenXmlCurrencyFormat:function(r){var e=r||Fr().defaultCurrency,t=this._getCurrencySymbolInfo(e).symbol,n=hs.getValueByClosestLocale(i=>rhe[i]);return the(t,n)}};var lhe=typeof Intl<"u",uhe=4,Ny=10,pH=["currency","fixedpoint","exponential","percent","decimal"],PT={1:"K",2:"M",3:"B",4:"T"},fH={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},Lr=ms({engine:function(){return"base"},numericFormats:pH,defaultLargeNumberFormatPostfixes:PT,_parseNumberFormatString:function(r){var e={};if(!(!r||typeof r!="string")){var t=r.toLowerCase().split(" ");if(U(t,(n,i)=>{pH.includes(i)?e.formatType=i:i in fH&&(e.power=fH[i])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType)return e}},_calculateNumberPower:function(r,e,t,n){var i=Math.abs(r),o=0;if(i>1)for(;i&&i>=e&&(n===void 0||o<n);)o++,i/=e;else if(i>0&&i<1)for(;i<1&&(t===void 0||o>t);)o--,i*=e;return o},_getNumberByPower:function(r,e,t){for(var n=r;e>0;)n/=t,e--;for(;e<0;)n*=t,e++;return n},_formatNumber:function(r,e,t){e.power==="auto"&&(e.power=this._calculateNumberPower(r,1e3,0,uhe)),e.power&&(r=this._getNumberByPower(r,e.power,1e3));var n=this.defaultLargeNumberFormatPostfixes[e.power]||"",i=this._formatNumberCore(r,e.formatType,t);return i=i.replace(/(\d|.$)(\D*)$/,"$1"+n+"$2"),i},_formatNumberExponential:function(r,e){var t=this._calculateNumberPower(r,Ny),n=this._getNumberByPower(r,t,Ny);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=Ny&&(t++,n/=Ny);var i=(t>=0?"+":"")+t.toString();return this._formatNumberCore(n,"fixedpoint",e)+"E"+i},_addZeroes:function(r,e){var t=Math.pow(10,e),n=r<0?"-":"";r=(Math.abs(r)*t>>>0)/t;for(var i=r.toString();i.length<e;)i="0"+i;return n+i},_addGroupSeparators:function(r){var e=r.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,Fr().thousandsSeparator)+(e[1]?Fr().decimalSeparator+e[1]:"")},_formatNumberCore:function(r,e,t){return e==="exponential"?this._formatNumberExponential(r,t):(e!=="decimal"&&t.precision!==null&&(t.precision=t.precision||0),e==="percent"&&(r*=100),t.precision!==void 0&&(e==="decimal"?r=this._addZeroes(r,t.precision):r=t.precision===null?r.toPrecision():K6(r,t.precision)),e!=="decimal"?r=this._addGroupSeparators(r):r=r.toString().replace(".",Fr().decimalSeparator),e==="percent"&&(r+="%"),r)},_normalizeFormat:function(r){return r?(typeof r=="function"||Nt(r)||(r={type:r}),r):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(r,e){var t=this.format(90,"decimal");if(typeof r!="string"||t[1]==="0")return r;var n=e?t[1]:"0",i=e?"0":t[1],o=e?t[0]:"9",a=new RegExp("["+n+"-"+o+"]","g");return r.replace(a,s=>String.fromCharCode(s.charCodeAt(0)+(i.charCodeAt(0)-n.charCodeAt(0))))},getNegativeEtalonRegExp:function(r){var e=this._getSeparators(),t=new RegExp("[0-9"+$c(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),n=this.format(-1,r).replace(t,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(i=>{n=n.replace(new RegExp("\\".concat(i),"g"),"\\".concat(i))}),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign:function(r,e){if(!e)return r.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;var t=this.getNegativeEtalonRegExp(e);return r.match(t)?-1:1},format:function(r,e){if(typeof r!="number"||typeof e=="number")return r;if(e=e&&e.formatter||e,typeof e=="function")return e(r);e=this._normalizeFormat(e),e.type||(e.type="decimal");var t=this._parseNumberFormatString(e.type);if(!t){var n=this._getSeparators();return n.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits(Zde(e.type,n)(r))}return this._formatNumber(r,t,e)},parse:function(r,e){if(r){if(e&&e.parser)return e.parser(r);r=this.convertDigits(r,!0),e&&typeof e!="string"&&br.log("W0011");var t=this.getDecimalSeparator(),n=new RegExp("[^0-9"+$c(t)+"]","g"),i=r.replace(n,"").replace(t,".").replace(/\.$/g,"");if(i==="."||i==="")return null;if(this._calcSignificantDigits(i)>15)return NaN;var o=+i*this.getSign(r,e);e=this._normalizeFormat(e);var a=this._parseNumberFormatString(e.type),s=a==null?void 0:a.power;if(s){if(s==="auto"){var l=r.match(/\d(K|M|B|T)/);l&&(s=Object.keys(PT).find(u=>PT[u]===l[1]))}o*=Math.pow(10,3*s)}return(a==null?void 0:a.formatType)==="percent"&&(o/=100),o}},_calcSignificantDigits:function(r){var[e,t]=r.split("."),n=o=>{for(var a=-1,s=0;s<o.length;s++)if(o[s]!=="0"){a=s;break}return a>-1?o.length-a:0},i=0;return e&&(i+=n(e.split(""))),t&&(i+=n(t.split("").reverse())),i}});Lr.inject(ehe);lhe&&Lr.inject(she);function Wa(r,e){for(;r.length<e;)r="0"+r;return r}var eg={3:"abbreviated",4:"wide",5:"narrow"},lP={y:function(r,e,t){var n=r[t?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),Wa(n.toString(),e)},M:function(r,e,t,n){var i=r[t?"getUTCMonth":"getMonth"](),o=eg[e];return o?n.getMonthNames(o,"format")[i]:Wa((i+1).toString(),Math.min(e,2))},L:function(r,e,t,n){var i=r[t?"getUTCMonth":"getMonth"](),o=eg[e];return o?n.getMonthNames(o,"standalone")[i]:Wa((i+1).toString(),Math.min(e,2))},Q:function(r,e,t,n){var i=r[t?"getUTCMonth":"getMonth"](),o=Math.floor(i/3),a=eg[e];return a?n.getQuarterNames(a)[o]:Wa((o+1).toString(),Math.min(e,2))},E:function(r,e,t,n){var i=r[t?"getUTCDay":"getDay"](),o=eg[e<3?3:e];return n.getDayNames(o)[i]},a:function(r,e,t,n){var i=r[t?"getUTCHours":"getHours"](),o=i<12?0:1,a=eg[e];return n.getPeriodNames(a)[o]},d:function(r,e,t){return Wa(r[t?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(r,e,t){return Wa(r[t?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(r,e,t){var n=r[t?"getUTCHours":"getHours"]();return Wa((n%12||12).toString(),Math.min(e,2))},m:function(r,e,t){return Wa(r[t?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(r,e,t){return Wa(r[t?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(r,e,t){return Wa(r[t?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(r,e,t){var n=t?0:r.getTimezoneOffset(),i=n>0?"-":"+",o=Math.abs(n),a=Math.floor(o/60),s=o%60,l=Wa(a.toString(),2),u=Wa(s.toString(),2);return i+l+(e>=3?":":"")+(e>1||s?u:"")},X:function(r,e,t){return t||!r.getTimezoneOffset()?"Z":lP.x(r,e,t)},Z:function(r,e,t){return lP.X(r,e>=5?3:2,t)}},Y6=function(r,e){return function(t){var n,i,o,a=0,s=!1,l,u="";if(!t)return null;if(!r)return t;var c=r[r.length-1]==="Z"||r.slice(-3)==="'Z'";for(n=0;n<r.length;n++)o=r[n],i=lP[o],l=o===r[n+1],a++,l||(i&&!s&&(u+=i(t,a,c,e)),a=0),o==="'"&&!l?s=!s:(s||!i)&&(u+=o),o==="'"&&l&&n++;return u}},che="",X6=" .,:;/\\<>()-[]"+che,dhe=". m.",Wc=function(r){var e=r&&Lr.convertDigits(r,!1).charCodeAt(0),t=Lr.convertDigits("0",!1).charCodeAt(0);return t<=e&&e<t+10},hhe=function(r,e,t,n){var i=r[t],o=r[t+1];if(!n&&(i==="."||i===" "&&r.slice(t-1,t+3)===dhe||i==="-"&&!Wc(o)))return!0;var a=n&&e.some(s=>r[t]!==s[t]);return X6.indexOf(i)<0&&n===Wc(i)&&(!n||a)},phe=function(r,e){if(!Wc(r[e]))for(;e>0&&!Wc(r[e-1])&&(r[e-1]==="."||X6.indexOf(r[e-1])<0);)e--;return e},fhe=function(r,e,t,n){var i=0,o=[],a=function(s){return r[i]!==s[i]&&(n===void 0||Wc(r[i])===n)};for(Array.isArray(e)||(e=[e]),i=0;i<r.length;i++)if(t.indexOf(i)<0&&e.filter(a).length){i=phe(r,i);do{if(n=Wc(r[i]),!o.length&&!n&&Wc(e[0][i]))break;o.push(i),t.unshift(i),i++}while(r[i]&&hhe(r,e,i,n));break}return o.length===1&&(r[t[0]-1]==="0"||r[t[0]-1]==="")&&t.unshift(t[0]-1),o},vhe=function(r,e,t,n){var i=e[0],o=i<n.length?n[i]:i;return e.forEach(function(a,s){r=r.substr(0,o+s)+(t.length>1?t[s]:t)+r.substr(o+s+1)}),e.length===1&&(r=r.replace("0"+t,t+t),r=r.replace(""+t,t+t)),r},ghe=function(r,e,t,n){var i,o,a;if(!Wc(r[e[0]]||"0")){for(var s=Math.max(e.length<=3?3:4,t.length);e.length>s;){for(o=e.pop(),a=n[o],n[o]=-1,i=o+1;i<n.length;i++)n[i]--;r=r.substr(0,a)+r.substr(a+1)}for(o=e[e.length-1]+1,a=o<n.length?n[o]:o;e.length<s;){for(e.push(e[e.length-1]+1),i=o;i<n.length;i++)n[i]++;r=r.substr(0,a)+" "+r.substr(a)}}return r=vhe(r,e,t,n),r},vH=function(r,e){return Array.isArray(r)?r.map(function(t){return(e(t)||"").toString()}):(e(r)||"").toString()},mhe=/[a-zA-Z]/g,_he=function(r,e,t,n){var i=e.split("").map(function(o,a){return t.indexOf(a)<0&&(o.match(mhe)||o==="'")?n[a]:-1});return r=r.split("").map(function(o,a){var s=o,l=i.indexOf(a)>=0,u=a>0&&i.indexOf(a-1)>=0,c=i.indexOf(a+1)>=0;return l&&(u||(s="'"+s),c||(s+="'")),s}).join(""),r},Q6=function(r){var e=[],t=vH(new Date(2009,8,8,6,5,4),r),n=t.split("").map(function(s,l){return l}),i=t,o={},a=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(i&&(a.forEach(function(s){var l=fhe(t,vH(s.date,r),e,s.isDigit),u=s.pattern==="M"&&!o.d?"L":s.pattern;i=ghe(i,l,u,n),o[u]=l.length}),i=_he(i,t,e,n),e.length))return i},_u={3:"abbreviated",4:"wide",5:"narrow"},gH=function(r,e){return r>2?Object.keys(_u).map(function(t){return["format","standalone"].map(function(n){return e.getMonthNames(_u[t],n).join("|")}).join("|")}).join("|"):r===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},Che={":":function(r,e){var t=r>1?"{".concat(r,"}"):"",n=$c(e.getTimeSeparator());return n!==":"&&(n="".concat(n,"|:")),"".concat(n).concat(t)},y:function(r){return r===2?"[0-9]{".concat(r,"}"):"[0-9]+?"},M:gH,L:gH,Q:function(r,e){return r>2?e.getQuarterNames(_u[r],"format").join("|"):"0?[1-4]"},E:function(r,e){return"\\D*"},a:function(r,e){return e.getPeriodNames(_u[r<3?3:r],"format").join("|")},d:function(r){return r===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(r){return r===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(r){return r===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(r){return r===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(r){return r===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(r){return"[0-9]{1,".concat(r,"}")},w:function(r){return r===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},iu=Number,uP=function(r,e){return r.map(t=>t.toLowerCase()).indexOf(e.toLowerCase())},mH=function(r,e,t){return e>2?["format","standalone"].map(function(n){return Object.keys(_u).map(function(i){var o=t.getMonthNames(_u[i],n);return uP(o,r)})}).reduce(function(n,i){return n.concat(i)}).filter(function(n){return n>=0})[0]:iu(r)-1},yhe={y:function(r,e){var t=iu(r);return e===2?t<30?2e3+t:1900+t:t},M:mH,L:mH,Q:function(r,e,t){return e>2?t.getQuarterNames(_u[e],"format").indexOf(r):iu(r)-1},E:function(r,e,t){var n=t.getDayNames(_u[e<3?3:e],"format");return uP(n,r)},a:function(r,e,t){var n=t.getPeriodNames(_u[e<3?3:e],"format");return uP(n,r)},d:iu,H:iu,h:iu,m:iu,s:iu,S:function(r,e){for(e=Math.max(e,3),r=r.slice(0,3);e<3;)r+="0",e++;return iu(r)}},Hb=["y","M","d","h","m","s","S"],fL={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(r,e,t){var n=r.getHours(),i=t.h;i!==void 0&&i!==n&&n--,!e&&n===12?n=0:e&&n!==12&&(n+=12),r.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},She=function(r,e){var t=r[e];if(!t)return 0;var n=0;do e++,n++;while(r[e]===t);return n},whe=function(r,e){for(var t="",n=0;n<e;n++)t+=r;return t},Z6=function(r,e){for(var t="",n="",i,o=[],a=function(){n&&(o.push("'".concat(n,"'")),t+="".concat($c(n),")"),n="")},s=0;s<r.length;s++){var l=r[s],u=l==="'",c=Che[l];if(!(u&&(i=!i,r[s-1]!=="'")))if(c&&!i){var d=She(r,s),h=whe(l,d);a(),o.push(h),t+="(".concat(c(d,e),")"),s+=d-1}else n||(t+="("),n+=l}return a(),Ehe(o)||Dx.warn("The following format may be parsed incorrectly: ".concat(r,".")),{patterns:o,regexp:new RegExp("^".concat(t,"$"),"i")}},bhe=["d","H","h","m","s","w","M","L","Q"],Ehe=function(r){var e=i=>{if(!i)return!1;var o=i[0];return["y","S"].includes(o)||bhe.includes(o)&&i.length<3},t=!0,n=0;return r.every((i,o,a)=>(e(i)&&((s=>s[0]!=="S"&&s.length!==2)(i)&&(t=++n<2),e(a[o+1])||(n=0)),t))},xhe=function(){return fL},Ihe=function(r,e,t,n,i){var o=e[0],a=fL[o],s=yhe[o];if(a&&s){var l=s(t,e.length,n);i[e]=l,r[a]?r[a](l):a(r,l,i)}},The=function(r,e,t){var n=fL[e],i="g"+n.substr(1),o=t[i]();r[n](o)},Rhe=function(r){return r.map(function(e){return e[0]==="'"?"":e[0]==="H"?"h":e[0]})},Ohe=function(r){var e=r.map(function(t){return Hb.indexOf(t)});return Math.max.apply(Math,e)},Dhe=function(r){var e=r.filter(function(t){return Hb.indexOf(t)<0});return Hb.concat(e)},Ahe=function(r,e){var t=Z6(r,e);return function(n){var i=t.regexp.exec(n);if(i){var o=new Date,a=new Date(o.getFullYear(),0,1),s=Rhe(t.patterns),l=Ohe(s),u=Dhe(s),c={};return u.forEach(function(d,h){if(!(!d||h<Hb.length&&h>l)){var p=s.indexOf(d);if(p>=0){var f=t.patterns[p],v=i[p+1];Ihe(a,f,v,e,c)}else The(a,d,o)}}),a}return null}},Phe=["January","February","March","April","May","June","July","August","September","October","November","December"],Mhe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Fhe=["AM","PM"],Lhe=["Q1","Q2","Q3","Q4"],_H=(r,e)=>{var t={abbreviated:3,short:2,narrow:1};return Gn(r,n=>n.substr(0,t[e]))};const Tf={getMonthNames:function(r){return _H(Phe,r)},getDayNames:function(r){return _H(Mhe,r)},getQuarterNames:function(r){return Lhe},getPeriodNames:function(r){return Fhe}},Nhe={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var khe=/[\u200E\u200F]/g,Vhe=/[\u202F]/g,Ud=r=>e=>{if(!r.timeZoneName){var t=e.getFullYear(),n=String(t).length<3,i=n?t+400:t,o=new Date(Date.UTC(i,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&o.setFullYear(t);var a=$({timeZone:"UTC"},r);return cP(o,a)}return cP(e,r)},MT={},Bhe=r=>{var e=hs.locale()+"/"+JSON.stringify(r);return MT[e]||(MT[e]=new Intl.DateTimeFormat(hs.locale(),r).format),MT[e]};function cP(r,e){return Bhe(e)(r).replace(khe,"").replace(Vhe," ")}var dP=r=>new Intl.NumberFormat(hs.locale()).format(r),Hhe=(()=>{var r={};return e=>{if(!(e in r)){if(dP(0)==="0")return r[e]=!1,!1;r[e]={};for(var t=0;t<10;++t)r[e][dP(t)]=t}return r[e]}})(),ky=r=>{var e=Hhe(hs.locale());return e?r.split("").map(t=>t in e?String(e[t]):t).join(""):r},CH=r=>r.replace(/(\D)0+(\d)/g,"$1$2"),Ghe=(r,e)=>CH(r)===CH(e),hP=r=>r.replace("d","de "),vL={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(vL,"shortdateshorttime",{get:function(){var r=Intl.DateTimeFormat(hs.locale()).resolvedOptions();return{year:r.year,month:r.month,day:r.day,hour:"numeric",minute:"numeric"}}});var $he=r=>typeof r=="string"&&vL[r.toLowerCase()],J6={standalone:function(r,e){var t=new Date(1999,r,13,1),n=Ud({month:e})(t);return n},format:function(r,e){var t=new Date(0,r,13,1),n=hP(Ud({day:"numeric",month:e})(t)),i=n.split(" ").filter(o=>o.indexOf("13")<0);return i.length===1?i[0]:i.length===2?i[0].length>i[1].length?i[0]:i[1]:J6.standalone(r,e)}};const Whe={engine:function(){return"intl"},getMonthNames:function(r,e){var t={wide:"long",abbreviated:"short",narrow:"narrow"}[r||"wide"];return e=e==="format"?e:"standalone",Array.apply(null,new Array(12)).map((n,i)=>J6[e](i,t))},getDayNames:function(r){var e=(t=>Array.apply(null,new Array(7)).map((n,i)=>Ud({weekday:t})(new Date(0,0,i))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[r||"wide"]);return e},getPeriodNames:function(){var r=Ud({hour:"numeric",hour12:!0});return[1,13].map(e=>{var t=dP(1),n=r(new Date(0,0,1,e)).split(t);if(n.length!==2)return"";var i=n[0].length>n[1].length?n[0]:n[1];return i.trim()})},format:function(r,e){if(r){if(!e)return r;typeof e!="function"&&!e.formatter&&(e=e.type||e);var t=$he(e);if(t)return Ud(t)(r);var n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,arguments):Ud(e)(r)}},parse:function(r,e){var t;return e&&!e.parser&&typeof r=="string"&&(r=hP(r),t=n=>hP(this.format(n,e))),this.callBase(r,t||e)},_parseDateBySimpleFormat:function(r,e){r=ky(r);var t=this.getFormatParts(e),n=r.split(/\D+/).filter(a=>a.length>0);if(t.length===n.length){var i=this._generateDateArgs(t,n),o=a=>{var s=((l,u)=>{var c=u?12:0;return new Date(l.year,l.month,l.day,(l.hours+c)%24,l.minutes,l.seconds)})(i,a);if(Ghe(ky(this.format(s,e)),r))return s};return o(!1)||o(!0)}},_generateDateArgs:function(r,e){var t=new Date,n={year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:0,minutes:0,seconds:0};return r.forEach((i,o)=>{var a=e[o],s=parseInt(a,10);i==="month"&&(s-=1),n[i]=s}),n},formatUsesMonthName:function(r){return typeof r=="object"&&!(r.type||r.format)?r.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(r){return typeof r=="object"&&!(r.type||r.format)?r.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return ky(cP(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(r){if(typeof r=="string")return this.callBase(r);var e=$({},vL[r.toLowerCase()]),t=new Date(2001,2,4,5,6,7),n=Ud(e)(t);return n=ky(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(i=>({name:i.name,index:n.indexOf(i.value)})).filter(i=>i.index>-1).sort((i,o)=>i.index-o.index).map(i=>i.name)}};var zhe=0,Uhe=typeof Intl<"u",FT={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},jhe={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},kt=ms({engine:function(){return"base"},_getPatternByFormat:function(r){return FT[r.toLowerCase()]},_expandPattern:function(r){return this._getPatternByFormat(r)||r},formatUsesMonthName:function(r){return this._expandPattern(r).indexOf("MMMM")!==-1},formatUsesDayName:function(r){return this._expandPattern(r).indexOf("EEEE")!==-1},getFormatParts:function(r){var e=this._getPatternByFormat(r)||r,t=[];return U(e.split(/\W+/),(n,i)=>{U(jhe,(o,a)=>{a.includes(i)&&t.push(o)})}),t},getMonthNames:function(r){return Tf.getMonthNames(r)},getDayNames:function(r){return Tf.getDayNames(r)},getQuarterNames:function(r){return Tf.getQuarterNames(r)},getPeriodNames:function(r){return Tf.getPeriodNames(r)},getTimeSeparator:function(){return":"},is24HourFormat:function(r){for(var e=new Date(2017,0,20,11,0,0,0),t=new Date(2017,0,20,23,0,0,0),n=this.format(e,r),i=this.format(t,r),o=0;o<n.length;o++)if(n[o]!==i[o])return!isNaN(parseInt(n[o]))},format:function(r,e){if(r){if(!e)return r;var t;if(typeof e=="function")t=e;else if(e.formatter)t=e.formatter;else if(e=e.type||e,ft(e))return e=FT[e.toLowerCase()]||e,Lr.convertDigits(Y6(e,this)(r));if(t)return t(r)}},parse:function(r,e){var t=this,n,i;if(r){if(!e)return this.parse(r,"shortdate");if(e.parser)return e.parser(r);if(typeof e=="string"&&!FT[e.toLowerCase()])n=e;else{i=a=>{var s=t.format(a,e);return Lr.convertDigits(s,!0)};try{n=Q6(i)}catch{}}if(n)return r=Lr.convertDigits(r,!0),Ahe(n,this)(r);br.log("W0012");var o=new Date(r);if(!(!o||isNaN(o.getTime())))return o}},firstDayOfWeekIndex:function(){var r=hs.getValueByClosestLocale(e=>Nhe[e]);return r===void 0?zhe:r}});Uhe&&kt.inject(Whe);const eY=ms({format:function(r,e){var t=ft(e)&&e!==""||Nt(e)||Ne(e),n=Tr(r)||Zo(r);if(!t||!n)return L(r)?r.toString():"";if(Ne(e))return e(r);if(ft(e)&&(e={type:e}),Tr(r))return Lr.format(r,e);if(Zo(r))return kt.format(r,e)},getTimeFormat:function(r){return r?"longtime":"shorttime"},_normalizeFormat:function(r){return Array.isArray(r)?r.length===1?r[0]:function(e){return r.map(function(t){return kt.format(e,t)}).join(" ")}:r},getDateFormatByDifferences:function(r,e){var t=[],n=e&&r.millisecond&&!(r.year||r.month||r.day);return n?t.push(function(i){return i.getSeconds()+i.getMilliseconds()/1e3+"s"}):r.millisecond&&t.push("millisecond"),(r.hour||r.minute||!n&&r.second)&&t.unshift(this.getTimeFormat(r.second)),r.year&&r.month&&r.day?e&&e==="month"?"monthandyear":(t.unshift("shortdate"),this._normalizeFormat(t)):r.year&&r.month?"monthandyear":r.year&&r.quarter?"quarterandyear":r.year?"year":r.quarter?"quarter":r.month&&r.day?(e?t.unshift(function(i){return kt.getMonthNames("abbreviated")[i.getMonth()]+" "+kt.format(i,"day")}):t.unshift("monthandday"),this._normalizeFormat(t)):r.month?"month":r.day?(e?t.unshift("day"):t.unshift(function(i){return kt.format(i,"dayofweek")+", "+kt.format(i,"day")}),this._normalizeFormat(t)):this._normalizeFormat(t)},getDateFormatByTicks:function(r){var e,t,n;if(r.length>1)for(e=qe.getDatesDifferences(r[0],r[1]),n=1;n<r.length-1;n++)t=qe.getDatesDifferences(r[n],r[n+1]),e.count<t.count&&(e=t);else e={year:!0,month:!0,day:!0,hour:r[0].getHours()>0,minute:r[0].getMinutes()>0,second:r[0].getSeconds()>0,millisecond:r[0].getMilliseconds()>0};var i=this.getDateFormatByDifferences(e);return i},getDateFormatByTickInterval:function(r,e,t){var n,i=function(s,l,u){switch(l){case"year":case"quarter":s.month=u;case"month":s.day=u;case"week":case"day":s.hour=u;case"hour":s.minute=u;case"minute":s.second=u;case"second":s.millisecond=u}};t=ft(t)?t.toLowerCase():t;var o=qe.getDatesDifferences(r,e);r!==e&&function(s,l,u){!u.getMilliseconds()&&u.getSeconds()?u.getSeconds()-l.getSeconds()===1&&(s.millisecond=!0,s.second=!1):!u.getSeconds()&&u.getMinutes()?u.getMinutes()-l.getMinutes()===1&&(s.second=!0,s.minute=!1):!u.getMinutes()&&u.getHours()?u.getHours()-l.getHours()===1&&(s.minute=!0,s.hour=!1):!u.getHours()&&u.getDate()>1?u.getDate()-l.getDate()===1&&(s.hour=!0,s.day=!1):u.getDate()===1&&u.getMonth()?u.getMonth()-l.getMonth()===1&&(s.day=!0,s.month=!1):!u.getMonth()&&u.getFullYear()&&u.getFullYear()-l.getFullYear()===1&&(s.month=!0,s.year=!1)}(o,r>e?e:r,r>e?r:e),n=qe.getDateUnitInterval(o),i(o,n,!0),n=qe.getDateUnitInterval(t||"second"),i(o,n,!1),o[{week:"day"}[n]||n]=!0;var a=this.getDateFormatByDifferences(o);return a}}),tY=new HF;var LT="dxComponents",Khe="dxPrivateComponent",Vy=new WeakMap,qhe=0,DC=function(r,e){if(L(e)){Vy.set(r,e);return}if(!Vy.has(r)){var t=Khe+qhe++;return Vy.set(r,t),t}return Vy.get(r)};function rY(r,e,t){var n=on(r.get(0)),i=DC(e.constructor);n[i]=e,t&&B.one(r,yo,function(){t.call(e)}),n[LT]||(n[LT]=[]),n[LT].push(i)}function nY(r,e){var t=DC(e);return on(r.get(0),t)}var Kt=function(r,e,t){t?e[r]=t:t=e,DC(t,r),tY.fire(r,t)},Yhe=function(r,e){E.fn[r]=function(t){var n=typeof t=="string",i;if(n){var o=t,a=[].slice.call(arguments).slice(1);this.each(function(){var s=e.getInstance(this);if(!s)throw br.Error("E0009",r);var l=s[o],u=l.apply(s,a);i===void 0&&(i=u)})}else this.each(function(){var s=e.getInstance(this);s?s.option(t):new e(this,t)}),i=this;return i}};tY.add(Yhe);var Rf=ar(),iY=Rt(),Xhe=Ul.add,Qhe=ed,Zhe=Mx,E_=new X,oY="link[rel=dx-theme]",Jhe="data-theme",epe="data-active",yH="dx-hairlines",aY="any",Cu,pP,yu,da,Dc,SH=15e3,NT="dx.";function gL(){if(!yt())return null;var r=E("<div>",Cu).addClass("dx-theme-marker").appendTo(Cu.documentElement),e;try{return e=iY.getComputedStyle(r.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,NT.length)!==NT)?null:e.substr(NT.length)}finally{r.remove()}}function wH(r){var e,t,n=!0;Dc=r;function i(){Dc=null,clearInterval(t),n=!0,Rf.fire(),Rf.empty(),E_.resolve()}if(bH()||!SH)i();else{if(!n){Dc&&(Dc=r);return}e=Date.now(),n=!1,t=setInterval(function(){var o=bH(),a=!o&&Date.now()-e>SH;a&&Ht.log("W0004",Dc),(o||a)&&i()},10)}}function bH(){if(!Dc)return!0;var r=Dc===aY;if(E_.state()==="resolved"&&r)return!0;var e=gL();return e&&r?!0:e===Dc}function tpe(){var r=E(oY,Cu);r.length&&(yu={},pP=E(XF("<link rel=stylesheet>"),Cu),r.each(function(){var e=E(this,Cu),t=e.attr(Jhe),n=e.attr("href"),i=e.attr(epe)==="true";yu[t]={url:n,isActive:i}}),r.last().after(pP),r.remove())}function rpe(r){var e=r?r.split("."):[],t=null;if(yu){if(r in yu)return r;U(yu,function(n,i){var o=n.split(".");if(!(e[0]&&o[0]!==e[0])&&!(e[1]&&e[1]!==o[1])&&!(e[2]&&e[2]!==o[2])&&((!t||i.isActive)&&(t=n),i.isActive))return!1})}return t}function npe(r){try{r!==Cu&&(yu=null)}catch{yu=null}Cu=r}function sY(r){r=r||{},npe(r.context||ce.getDocument()),Cu&&(tpe(),da=void 0,mo(r))}function mo(r){if(!arguments.length)return da=da||gL(),da;uY(Qhe()),r=r||{},typeof r=="string"&&(r={theme:r});var e=r._autoInit,t=r.loadCallback,n;if(da=rpe(r.theme||da),da&&(n=yu[da]),t&&Rf.add(t),n)pP.attr("href",yu[da].url),(Rf.has()||E_.state()!=="resolved"||r._forceTimeout)&&wH(da);else if(e)yt()&&wH(aY),Rf.fire(),Rf.empty();else throw Ht.Error("E0021",da);E_.done(()=>lY(Qq(),da))}function ipe(r){r=r||mo();var e=[],t=r&&r.split(".");return t&&(e.push("dx-theme-"+t[0],"dx-theme-"+t[0]+"-typography"),t.length>1&&e.push("dx-color-scheme-"+t[1]+(Ma(r)?"-"+t[2]:""))),e}var Hw;function lY(r,e){Hw=ipe(e).join(" "),E(r).addClass(Hw),function(){var t=yt()&&iY.devicePixelRatio;if(!(!t||t<2)){var n=E("<div>");n.css("border",".5px solid transparent"),E("body").append(n),Vt(n)===1&&(E(r).addClass(yH),Hw+=" "+yH),n.remove()}}()}function uY(r){E(r).removeClass(Hw)}function zx(r,e){return e||(e=da||gL()),new RegExp(r).test(e)}function Ma(r){return Hi(r)||Zi(r)}function Hi(r){return zx("material",r)}function Zi(r){return zx("fluent",r)}function cY(r){return zx("generic",r)}function ope(r){return zx("compact",r)}function ape(r,e){var t=ce.getDocument(),n=t.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=r,t.body.appendChild(n);var i=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var o=n.offsetWidth;return n.parentNode.removeChild(n),i!==o}function spe(r,e){return new Promise(t=>{var n=()=>{clearInterval(i),clearTimeout(o),t()},i=setInterval(()=>{ape(r,e)&&n()},15),o=setTimeout(n,2e3)})}function EH(){if(sY({_autoInit:!0,_forceTimeout:!0}),E(oY,Cu).length)throw Ht.Error("E0022")}yt()?EH():Xhe(EH);Zhe.add(function(r,e){E_.done(function(){uY(e),lY(r)})});Ye.changed.add(function(){sY({_autoInit:!0})});class $o{constructor(e,t){t=t||{},this._action=e,this._context=t.context||Rt(),this._beforeExecute=t.beforeExecute,this._afterExecute=t.afterExecute,this._component=t.component,this._validatingTargetName=t.validatingTargetName;var n=this._excludeValidators={};if(t.excludeValidators)for(var i=0;i<t.excludeValidators.length;i++)n[t.excludeValidators[i]]=!0}execute(){var e={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},t=this._beforeExecute,n=this._afterExecute,i=e.args[0]||{};if(this._validateAction(e)&&(t==null||t.call(this._context,e),!e.cancel)){var o=this._executeAction(e);if(!i.cancel)return n==null||n.call(this._context,e),o}}_validateAction(e){var t=this._excludeValidators,{executors:n}=$o;for(var i in n)if(!t[i]){var o,a=n[i];if((o=a.validate)===null||o===void 0||o.call(a,e),e.cancel)return!1}return!0}_executeAction(e){var t,{executors:n}=$o;for(var i in n){var o,a=n[i];if((o=a.execute)===null||o===void 0||o.call(a,e),e.handled){t=e.result;break}}return t}static registerExecutor(e,t){if(Nt(e)){U(e,$o.registerExecutor);return}$o.executors[e]=t}static unregisterExecutor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];U(t,function(){delete $o.executors[this]})}}$o.executors={};var xH=r=>e=>{if(e.args.length){var t=e.args[0],n=t[e.validatingTargetName]||t.element;n&&r(E(n))&&(e.cancel=!0)}};$o.registerExecutor({disabled:{validate:xH(r=>r.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:xH(r=>r.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:r=>{r.action||(r.result=void 0,r.handled=!0)}},func:{execute:r=>{Ne(r.action)&&(r.result=r.action.call(r.context,r.args[0]),r.handled=!0)}}});var lpe=function(r,e){return 1/r===1/e},upe=function(r,e){if(r=wi(r,!0),e=wi(e,!0),r&&e&&Pa(r)&&Pa(e))return e.is(r);var t=r!==r,n=e!==e;return t&&n?!0:r===0&&e===0?lpe(r,e):r===null||typeof r!="object"||ce.isElementNode(r)?r===e:!1},kT={},nv=r=>{var e=Ye.current();return r.reduce((t,n)=>{var{device:i,options:o}=n,a=i||{},s=Ne(a)?a(e):dpe(e,a);return s&&$(!0,t,o),t},{})},cpe=(r,e)=>typeof r!="string"?r:{[r]:e},dpe=(r,e)=>go(e)||vq(r,[e]).length>0,IH=r=>r.substr(r.lastIndexOf(".")+1),TH=r=>r.substr(0,r.lastIndexOf(".")),hpe=function(r,e){return kT[e]=kT[e]||Ar(e),kT[e](r,{functionsAsIs:!0})},ppe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return r},VT={},BT={};class fpe{constructor(e,t){this._options=e,this._optionsByReference=t,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(e,t){$(!0,e,t);for(var n in this._optionsByReference)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}_setPreparedValue(e,t,n,i){var o=this.get(this._options,e,!1);if(!upe(o,t)){var a=ap(e);!i&&this._changingCallback(e,o,t),BT[e]=BT[e]||kF(e),BT[e](this._options,t,{functionsAsIs:!0,merge:L(n)?n:!this._optionsByReference[e],unwrapObservables:a.length>1&&!!this._optionsByReference[a[0]]}),!i&&this._changedCallback(e,t,o)}}_prepareRelevantNames(e,t,n,i){if(Nt(n))for(var o in n)this._prepareRelevantNames(e,"".concat(t,".").concat(o),n[o]);this._namePreparedCallbacks(e,t,n,i)}get(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return VT[t]=VT[t]||Ar(t),VT[t](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,t,n,i){e=cpe(e,t);for(var o in e)this._prepareRelevantNames(e,o,e[o],i);for(var a in e)this._setPreparedValue(a,e[a],n,i)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}dispose(){this._changingCallback=Z,this._changedCallback=Z}}class vpe{constructor(e,t,n,i){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=t,this._deprecated=i,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new fpe(e,n),this._optionManager.onRelevantNamesPrepared((o,a,s,l)=>this._setRelevantNames(o,a,s,l)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){var e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(var e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,nv(e)}_notifyDeprecated(e){var t=this._deprecated[e];t&&this._deprecatedCallback(e,t)}_setRelevantNames(e,t,n,i){if(t){var o=this._normalizeName(t,i);o&&o!==t&&(this._setField(e,o,n),this._clearField(e,t))}}_setField(e,t,n){var i="",o=null;do i=i?".".concat(i):"",i=IH(t)+i,t=TH(t),o=t?this._optionManager.get(e,t,!1):e;while(!o);o[i]=n}_clearField(e,t){delete e[t];var n=TH(t),i=n?this._optionManager.get(e,n,!1):e;i&&delete i[IH(t)]}_normalizeName(e,t){if(this._deprecatedNames.length&&e){for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){var i=this._deprecated[e];if(i)return!t&&this._notifyDeprecated(e),i.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){var t=this._getByRules(e);this.silent(t)}dispose(){this._deprecatedCallback=Z,this._startChangeCallback=Z,this._endChangeCallback=Z,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){var t=this.silent(e),n=this.initial(e),i=Ne(t)&&Ne(n);return i?t.toString()===n.toString():Mr(t,n)}initial(e){return hpe(this._initial,e)}option(e,t){var n=arguments.length<2&&Aa(e)!=="object";if(n)return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,t)}finally{this._endChangeCallback()}}silent(e,t){var n=arguments.length<2&&Aa(e)!=="object";if(n)return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,t,void 0,!0)}reset(e){if(e){var t=ap(e),n=t.reduce((o,a)=>o?o[a]:this.initial(a),null),i=pt(n)?b({},n):n;this._optionManager.set(e,i,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(t=>e===this._deprecated[t].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,t){var n=arguments.length<2;if(n)return this._cachedOptions[e];this._cachedOptions[e]=$(this._cachedOptions[e],t)}}class gpe{constructor(){this._postponedOperations={}}add(e,t,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{var i=new X;this._postponedOperations[e]={fn:t,completePromise:i,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(var e in this._postponedOperations){var t=this._postponedOperations[e];L(t)&&(t.promises&&t.promises.length?$e(...t.promises).done(t.fn).then(t.completePromise.resolve):t.fn().done(t.completePromise.resolve))}this._postponedOperations={}}}var RH=r=>r.charAt(2).toLowerCase()+r.substr(3),mpe=r=>r.indexOf("_",0)===0,dY=tr.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(r){this._options.applyRules(r)},_convertRulesToOptions:r=>nv(r),_isInitialOptionValue(r){return this._options.isInitial(r)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:e,_disposingCallbacks:t}=r;this.NAME=DC(this.constructor),this._eventsStrategy=lp.create(this,r.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||ar(),this._disposingCallbacks=t||ar(),this.postponedOperations=new gpe,this._createOptions(r)},_createOptions(r){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new vpe(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,t,n)=>this._initialized&&this._optionChanging(e,t,n)),this._options.onDeprecated((e,t)=>this._logDeprecatedOptionWarning(e,t)),this._options.onChanged((e,t,n)=>this._notifyOptionChanged(e,t,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),r&&r.onInitializing&&r.onInitializing.apply(this,[r]),this._setOptionsByDevice(r.defaultOptionsRules),this._initOptions(r)}finally{this.endUpdate()}},_initOptions(r){this.option(r)},_init(){this._createOptionChangedAction(),this.on("disposing",r=>{this._disposingCallbacks.fireWith(this,[r])})},_logDeprecatedOptionWarning(r,e){var t=e.message||"Use the '".concat(e.alias,"' option instead");br.log("W0001",this.NAME,r,e.since,t)},_logDeprecatedComponentWarning(r,e){br.log("W0000",this.NAME,r,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(r){switch(r.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:Z,_notifyOptionChanged(r,e,t){if(this._initialized)for(var n=[r].concat(this._options.getAliasesByName(r)),i=0;i<n.length;i++){var o=n[i],a={name:ap(o)[0],fullName:o,value:e,previousValue:t};mpe(o)||(this._optionChangedCallbacks.fireWith(this,[$(this._defaultActionArgs(),a)]),this._optionChangedAction($({},a))),!this._disposed&&this._cancelOptionChange!==o&&this._optionChanged(a)}},initialOption(r){return this._options.initial(r)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(r,e){var t;return n=>(L(n)||(n={}),Nt(n)||(n={actionValue:n}),t=t||new $o(r,$({},e,this._defaultActionConfig())),t.execute.call(t,$(n,this._defaultActionArgs())))},_createActionByOption(r,e){var t=this,n,i,o;e=$({},e);var a=function(){if(!i){if(e=e||{},typeof r!="string")throw br.Error("E0008");r.indexOf("on")===0&&(i=RH(r)),o=t.option(r)}if(!(!n&&!o&&!e.beforeExecute&&!e.afterExecute&&!t._eventsStrategy.hasEvent(i))){if(!n){var l=e.beforeExecute;e.beforeExecute=function(){for(var f=arguments.length,v=new Array(f),g=0;g<f;g++)v[g]=arguments[g];l&&l.apply(t,v),t._eventsStrategy.fireEvent(i,v[0].args)},n=t._createAction(o,e)}for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];if(Fr().wrapActionsBeforeExecute){var h=t.option("beforeActionExecute")||Z,p=h(t,n,e)||n;return p.apply(t,c)}return n.apply(t,c)}};if(Fr().wrapActionsBeforeExecute)return a;var s=this.option("onActionCreated")||Z;return s(this,a,e)||a},on(r,e){return this._eventsStrategy.on(r,e),this},off(r,e){return this._eventsStrategy.off(r,e),this},hasActionSubscription:function(r){return!!this._options.silent(r)||this._eventsStrategy.hasEvent(RH(r))},isOptionDeprecated(r){return this._options.isDeprecated(r)},_setOptionWithoutOptionChange(r,e){this._cancelOptionChange=r,this.option(r,e),this._cancelOptionChange=!1},_getOptionValue(r,e){var t=this.option(r);return Ne(t)?t.bind(e)():t},option(){return this._options.option(...arguments)},resetOption(r){this.beginUpdate(),this._options.reset(r),this.endUpdate()}}),mL=function(r){return function(e){for(var t=E(e||"body"),n=t.filter(".dx-visibility-change-handler").add(t.find(".dx-visibility-change-handler")),i=0;i<n.length;i++)B.triggerHandler(n[i],r)}},_L=mL("dxshown"),_pe=mL("dxhiding"),bl=mL("dxresize"),Cpe=ar({syncStrategy:!0});class up{render(e){e=e||{};var t=e.onRendered;delete e.onRendered;var n;return e.renovated&&e.transclude&&this._element?n=E("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),Cpe.fire(n,e.container),t&&t(),n}_ensureResultInContainer(e,t){if(t){var n=E(t),i=gu(n.get(0),e.get(0));if(n.append(e),!i){var o=ce.getBody().contains(n.get(0));o&&_L(e)}}}_renderCore(){throw br.Error("E0001")}}class iv extends up{constructor(e){super(),this._render=e}_renderCore(e){return Lx(this._render(e))}}class _h extends up{_renderCore(){return E()}}class CL extends up{constructor(e){super(),this.name=e}}var hY={},Gw;function ype(r,e){hY[r]=e}function Spe(r){if(ft(r)){if(Gw=hY[r],!Gw)throw br.Error("E0020",r)}else Gw=r}function OH(){return Gw}ype("default",{compile:r=>Lx(r),render:(r,e,t)=>r.clone()});Spe("default");let wpe=class extends up{constructor(e){super(),this._element=e}_renderCore(e){var t=e.transclude;return!t&&!this._compiledTemplate&&(this._compiledTemplate=OH().compile(this._element)),E("<div>").append(t?this._element:OH().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return E(this._element).clone()}};function bpe(r){return r.reduce((e,t)=>{var n,i=((n=e.get(t))!==null&&n!==void 0?n:0)+1;return e.set(t,i),e},new Map)}var Epe=function(r){return Array.isArray(r)?r:[r]},xpe=function(r){return[...new Set(r)]},DH=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=bpe(e);return r.filter(n=>{var i=t.get(n);return i&&t.set(n,i-1),!i})},x_=function(r,e,t,n){var i={},{useLegacyVisibleIndex:o}=Fr(),a=0,s=l=>!L(l[e])&&(!n||n(l));r.forEach(l=>{var u=l[e];u>=0?(i[u]=i[u]||[],l===t?i[u].unshift(l):i[u].push(l)):l[e]=void 0}),o||r.forEach(l=>{if(s(l)){for(;i[a];)a++;i[a]=[l],a++}}),a=0,VA(i,function(l,u){u.forEach(c=>{l>=0&&(c[e]=a++)})}),o&&r.forEach(l=>{s(l)&&(l[e]=a++)})},Ipe=(r,e)=>r.reduce((t,n)=>{var i,o=e(n);return t[o]=(i=t[o])!==null&&i!==void 0?i:[],t[o].push(n),t},{}),pY=(r,e)=>{var t=E(r).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(t).map(n=>{var i=E(n).attr("data-options")||"";return{element:n,options:Fr().optionsParser(i)[e]}}).filter(n=>!!n.options)},Tpe=r=>{var e=Ipe(r,n=>n.options.name);if(e[void 0])throw br.Error("E0023");var t={};return Object.keys(e).forEach(n=>{var i,o=(i=vq(Ye.current(),e[n],a=>a.options)[0])===null||i===void 0?void 0:i.element;o&&(t[n]=o)}),t},fY=r=>{var e=r.render.bind(r);return $({},r,{render(t){var n=e(t);return t&&t.onRendered&&t.onRendered(),n}})},Rpe=r=>{var e=r.render.bind(r);return $({},r,{render(t){var n=E(t.container);return e(b({},t,{container:ut(n)}))}})},Ope=r=>{var e=[];return"model"in r&&e.push(r.model),"index"in r&&e.push(r.index),e.push(r.container),e},Dpe=r=>typeof r=="string"?Lx(r):r,AH=r=>Pa(r)&&r[0]||r,Ape=r=>new wpe(r),Ppe=(r,e,t,n)=>{var i=null;return(!n||n.indexOf(r)===-1)&&(i=e[r],i&&!(i instanceof up)&&(Ne(i.render)&&(i=Rpe(i)),t||(i=fY(i)))),i},PH=(r,e,t,n,i,o)=>r==null?new _h:r instanceof CL?o[r.name]:r instanceof up?r:Ne(r.render)&&!Pa(r)?n?r:fY(r):r.nodeType||Pa(r)?e(E(r)):Ppe(r,t,n,i)||o[r]||e(r),Mpe=3,Fpe="template",Lpe="dxTemplate",Npe="dx-template-wrapper",kpe=new iv(r=>{var{model:e,parent:t}=r,n=e.widget;if(!n)return E();var i=E("<div>"),o=e.options||{};return t?t._createComponent(i,n,o):i[n](o),i});let MH=class{constructor(e,t){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=t||Fpe,this._createElement=e||Ape,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.skipImmediate||t(e()),Z},templates:{"dx-polymorph-widget":kpe},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=$({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){var t=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:t,anonymousTemplateMeta:n}}_extractTemplates(e){var t=pY(e,Lpe),n=Tpe(t);return t.forEach(i=>{var{element:o,options:{name:a}}=i;o===n[a]?E(o).addClass(Npe).detach():E(o).remove()}),Object.keys(n).map(i=>({name:i,template:this._createTemplate(n[i])}))}_extractAnonymousTemplate(e){var t=e.contents().detach(),n=t.filter((i,o)=>{var a=o.nodeType===Mpe,s=E(o).text().trim().length<1;return!(a&&s)});return n.length>0?{template:this._createTemplate(t),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){var t=this._tempTemplates.filter(i=>i.source===AH(e))[0];if(t)return t.template;var n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:AH(e)}),n}_createTemplate(e){return this._createElement(Dpe(e))}getTemplate(e,t,n,i){var{isAsyncTemplate:o,skipTemplates:a}=n;return Ne(e)?new iv(s=>{var l=e.apply(i,Ope(s));if(!L(l))return new _h;var u=!1,c=PH(l,h=>h.nodeType||Pa(h)&&!E(h).is("script")?new iv(()=>h):(u=!0,this._createTemplate(h)),t,o,a,this._defaultTemplates),d=c.render(s);return u&&c.dispose&&c.dispose(),d}):PH(e,this._createTemplateIfNeeded,t,o,a,this._defaultTemplates)}};var FH="compositionstart",Vpe="compositionend",Bpe="keydown",HT="KeyboardProcessor",vY=r=>({keyName:Jr(r),key:r.key,code:r.code,ctrl:r.ctrlKey,location:r.location,metaKey:r.metaKey,shift:r.shiftKey,alt:r.altKey,which:r.which,originalEvent:r}),yL=tr.inherit({_keydown:fe(Bpe,HT),_compositionStart:fe(FH,HT),_compositionEnd:fe(Vpe,HT),ctor:function(r){r=r||{},r.element&&(this._element=E(r.element)),r.focusTarget&&(this._focusTarget=r.focusTarget),this._handler=r.handler,this._element&&(this._processFunction=e=>{var t=E(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!t.includes(e.target),i=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,i||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),B.on(this._element,this._keydown,this._processFunction),B.on(this._element,this._compositionStart,this._toggleProcessingWithContext),B.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(B.off(this._element,this._keydown,this._processFunction),B.off(this._element,this._compositionStart,this._toggleProcessingWithContext),B.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(r){this._handler(vY(r))},toggleProcessing:function(r){var{type:e}=r;this._isComposing=e===FH,this._isComposingJustFinished=!this._isComposing}});yL.createKeyDownOptions=vY;function Bn(r,e){return e?fe(r,e):r}function fP(r,e){return typeof r=="function"?r(e):r.execute(e)}var LH={on:(r,e,t,n)=>{var{selector:i,showTimeout:o,hideTimeout:a,namespace:s}=n;B.on(r,Bn("dxactive",s),i,{timeout:o},l=>fP(e,{event:l,element:l.currentTarget})),B.on(r,Bn("dxinactive",s),i,{timeout:a},l=>fP(t,{event:l,element:l.currentTarget}))},off:(r,e)=>{var{namespace:t,selector:n}=e;B.off(r,Bn("dxactive",t),n),B.off(r,Bn("dxinactive",t),n)}},Gb={on:function(r,e){var{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.on(r,Bn("dxresize",t),e)},off:function(r){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.off(r,Bn("dxresize",e))}},NH={on:(r,e,t,n)=>{var{selector:i,namespace:o}=n;B.on(r,Bn("dxhoverend",o),i,a=>t(a)),B.on(r,Bn("dxhoverstart",o),i,a=>fP(e,{element:a.target,event:a}))},off:(r,e)=>{var{selector:t,namespace:n}=e;B.off(r,Bn("dxhoverstart",n),t),B.off(r,Bn("dxhoverend",n),t)}},$b={on:(r,e,t,n)=>{var{namespace:i}=n;B.on(r,Bn("dxhiding",i),t),B.on(r,Bn("dxshown",i),e)},off:(r,e)=>{var{namespace:t}=e;B.off(r,Bn("dxhiding",t)),B.off(r,Bn("dxshown",t))}},$w={on:(r,e,t,n)=>{var{namespace:i}=n;B.on(r,Bn("focusin",i),e),B.on(r,Bn("focusout",i),t)},off:(r,e)=>{var{namespace:t}=e;B.off(r,Bn("focusin",t)),B.off(r,Bn("focusout",t))},trigger:r=>B.trigger(r,"focus")},kH={on:function(r,e){var{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.on(r,Bn("dxclick",t),e)},off:function(r){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.off(r,Bn("dxclick",e))}},VH={on:function(r,e){var{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.on(r,Bn("click",t),e)},off:function(r){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.off(r,Bn("click",e))}},Hpe=0,tg={},Gpe=()=>"keyboardProcessorId".concat(Hpe++),zc={on:(r,e,t)=>{var n=Gpe();return tg[n]=new yL({element:r,focusTarget:e,handler:t}),n},off:r=>{r&&tg[r]&&(tg[r].dispose(),delete tg[r])},_getProcessor:r=>tg[r]};function $pe(r){return new Uint8Array(atob(r).split("").map(e=>e.charCodeAt(0)))}function Wpe(r){var e,t;return new Uint8Array((t=(e=r.match(/.{1,2}/g))===null||e===void 0?void 0:e.map(n=>parseInt(n,16)))!==null&&t!==void 0?t:[])}function zpe(r){for(var e=new Uint8Array(r.length),t=0;t<r.length;t+=1)e[t]=255&r.charCodeAt(t);return e}function Upe(r){for(var e=new Uint8Array(4*r.length),t=0;t<e.length;t+=1)e[t]=r[t>>2]>>>8*(3-t%4);return e}function jpe(r){for(var e=new Uint32Array(1+(r.length-1>>2)),t=0;t<r.length;t+=1)e[t>>2]|=r[t]<<8*(3-t%4);return e}function BH(r,e){return(r<<e|r>>>32-e)>>>0}function HH(r,e){var t=new Uint8Array(r.length+e.length);return t.set(r,0),t.set(e,r.length),t}var gY={e:65537,n:new Uint8Array([200,219,153,203,140,7,228,253,193,243,62,137,139,60,68,242,48,142,113,88,185,235,253,105,80,74,32,170,96,74,111,250,7,205,154,3,146,115,153,53,45,132,123,56,61,208,184,201,63,24,109,223,0,179,169,102,139,224,73,233,45,173,138,66,98,88,69,76,177,111,113,218,192,33,101,152,25,134,34,173,32,82,230,44,247,200,253,170,192,246,30,12,96,205,100,249,181,93,0,231])},Kpe="2D293FRQFEus9BTrBCkD5A",qpe="3021300906052b0e03021a05000414";function Ype(r){var e=(8*gY.n.length+6)/8,t=HH(Wpe(qpe),r);if(t.length+10>e)throw Error("Key is too short for SHA1 signing algorithm");var n=new Uint8Array(e-t.length);return n.fill(255,0,n.length-1),n[0]=0,n[1]=1,n[n.length-1]=0,HH(n,t)}function Xpe(r){try{var e=BigInt(0),t=BigInt(1),n=BigInt(8),i=c=>c.reduce((d,h)=>(d<<n)+BigInt(h),e),o=i(r.actual),a=i(r.signature),s=BigInt(r.key.e),l=i(r.key.n),u=((c,d,h)=>{for(var p=t,f=c,v=d;v;)v&t&&(p=p*f%h),f=f*f%h,v>>=t;return p})(a,s,l);return u===o}catch{return!0}}function Qpe(r){var e=new Uint8Array(r.length+1);e.set(zpe(r)),e[e.length-1]=128;var t=jpe(new Uint8Array(e)),n=new Uint32Array(16*Math.ceil((t.length+2)/16));return n.set(t,0),n[n.length-1]=8*(e.length-1),n}function Zpe(r){for(var e=Qpe(r),t=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),n=0;n<e.length;n+=16){for(var i=new Uint32Array(80),o=0;o<16;o+=1)i[o]=e[n+o];for(var a=16;a<80;a+=1){var s=i[a-3]^i[a-8]^i[a-14]^i[a-16];i[a]=s<<1|s>>>31}for(var l=t[0],u=t[1],c=t[2],d=t[3],h=t[4],p=0;p<80;p+=1){var[f,v]=p<20?[u&c|~u&d,1518500249]:p<40?[u^c^d,1859775393]:p<60?[u&c|u&d|c&d,2400959708]:[u^c^d,3395469782],g=BH(l,5)+f+h+v+i[p];h=d,d=c,c=BH(u,30),u=l,l=g}t[0]+=l,t[1]+=u,t[2]+=c,t[3]+=d,t[4]+=h}return Upe(t)}var ps;(function(r){r.corrupted="corrupted",r.verified="verified",r.internal="internal"})(ps||(ps={}));var Jpe=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]])}return t},efe=".",tfe=1,rfe=3,GH={kind:ps.corrupted,error:"general"},nfe={kind:ps.corrupted,error:"verification"},ife={kind:ps.corrupted,error:"decoding"},ofe={kind:ps.corrupted,error:"deserialization"},afe={kind:ps.corrupted,error:"payload"},sfe={kind:ps.corrupted,error:"version"},vP=!1;function lfe(r){var{text:e,signature:t}=r;return Xpe({key:gY,signature:$pe(t),actual:Ype(Zpe(e))})}function ufe(r){if(r===void 0)return GH;var e=r.split(efe);if(e.length!==2||e[0].length===0||e[1].length===0)return GH;if(!lfe({text:e[0],signature:e[1]}))return nfe;var t="";try{t=atob(e[0])}catch{return ife}var n={};try{n=JSON.parse(t)}catch{return ofe}var{customerId:i,maxVersionAllowed:o,format:a,internalUsageId:s}=n,l=Jpe(n,["customerId","maxVersionAllowed","format","internalUsageId"]);return s!==void 0?{kind:ps.internal,internalUsageId:s}:i===void 0||o===void 0||a===void 0?afe:a!==tfe?sfe:{kind:ps.verified,payload:b({customerId:i,maxVersionAllowed:o},l)}}function cfe(r){var{licenseKey:e,version:t}=r,n=!1;try{var[i,o,a]=t.split(".").map(Number);if(n=isNaN(a)||a<rfe,!e)return{preview:n,error:"W0019"};var s=ufe(e);return s.kind===ps.corrupted?{preview:n,error:"W0021"}:s.kind===ps.internal?{preview:n,internal:!0,error:s.internalUsageId===Kpe?void 0:"W0020"}:i&&o?10*i+o>s.payload.maxVersionAllowed?{preview:n,error:"W0020"}:{preview:n,error:void 0}:{preview:n,error:"W0021"}}catch{return{preview:n,error:"W0021"}}}function dfe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uq;if(!vP){vP=!0;var{preview:t,internal:n,error:i}=cfe({licenseKey:r,version:e});if(i){br.log(t?"W0022":i);return}t&&!n&&br.log("W0022")}}function $H(){return vP}const hfe={validateLicense:dfe};var{abstract:By}=dY,jl=dY.inherit({_getDefaultOptions(){return $(this.callBase(),{width:void 0,height:void 0,rtlEnabled:Fr().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?MH.createDefaultOptions():{})},ctor(r,e){this._customClass=null,this._createElement(r),rY(this._$element,this,this._dispose),this.callBase(e);var t=$H();hfe.validateLicense(Fr().licenseKey),!t&&$H()&&Fr({licenseKey:""})},_createElement(r){this._$element=E(r)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(r){this.option("_ignoreFunctionValueDeprecation")||r.forEach(e=>{Ne(this.option(e))&&br.log("W0017",e)})},_visibilityChanged:By,_dimensionChanged:By,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(r){this.callBase([].concat(this.constructor._classCustomRules||[],r||[]))},_isInitialOptionValue(r){var e=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),r);return!e&&this.callBase(r)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var r=this._windowResizeCallBack=this._dimensionChanged.bind(this);kh.add(r)}},_isDimensionChangeSupported(){return this._dimensionChanged!==By},_renderComponent(){this._initMarkup(),yt()&&this._render()},_initMarkup(){var{rtlEnabled:r}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(r),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers(),Zse(this.$element())},_renderElementAttributes(){var{elementAttr:r}=this.option()||{},e=$({},r),t=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(t),this._customClass=t},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var r=this.$element();r.addClass("dx-visibility-change-handler")}},_renderDimensions(){var r=this.$element(),e=r.get(0),t=this._getOptionValue("width",e),n=this._getOptionValue("height",e);this._isCssUpdateRequired(e,n,t)&&r.css({width:t===null?"":t,height:n===null?"":n})},_isCssUpdateRequired:(r,e,t)=>!!(L(t)||L(e)||r.style.width||r.style.height),_attachDimensionChangeHandlers(){var r=this.$element(),e="".concat(this.NAME,"VisibilityChange");Gb.off(r,{namespace:e}),Gb.on(r,()=>this._dimensionChanged(),{namespace:e})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var r=this.$element(),e="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),$b.off(r,{namespace:e}),$b.on(r,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:e})}},_isVisible(){var r=this.$element();return r.is(":visible")},_checkVisibilityChanged(r){var e=this._isVisible();e&&(r==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):r==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==By&&yt()},_clean:Z,_modelByElement(){var{modelByElement:r}=this.option(),e=this.$element();return r?r(e):void 0},_invalidate(){if(this._isUpdateAllowed())throw br.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&kh.remove(this._windowResizeCallBack)},_toggleRTLDirection(r){var e=this.$element();e.toggleClass("dx-rtl",r)},_createComponent(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=ho(this._getSynchronizableOptionsForCreateComponent(),c=>!(c in t)),{integrationOptions:i}=this.option(),{nestedComponentOptions:o}=this.option();o=o||Z;var a=$({integrationOptions:i},o(this));n.forEach(c=>a[c]=this.option(c)),this._extendConfig(t,a);var s=void 0;if(ft(e)){var l=E(r)[e](t);s=l[e]("instance")}else r&&(s=e.getInstance(r),s?s.option(t):s=new e(r,t));if(s){var u=c=>{var{name:d,value:h}=c;n.includes(d)&&s.option(d,h)};this.on("optionChanged",u),s.on("disposing",()=>this.off("optionChanged",u))}return s},_extendConfig(r,e){U(e,(t,n)=>{!Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=n)})},_defaultActionConfig(){var r=this.$element(),e=this._modelByElement(r);return $(this.callBase(),{context:e})},_defaultActionArgs(){var r=this.$element(),e=this._modelByElement(r),t=this.element();return $(this.callBase(),{element:t,model:e})},_optionChanged(r){switch(r.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(r)}},_removeAttributes(r){for(var e=r.attributes,t=e.length-1;t>=0;t--){var n=e[t];if(n){var{name:i}=n;(!i.indexOf("aria-")||i.indexOf("dx-")!==-1||i==="role"||i==="style"||i==="tabindex")&&r.removeAttribute(i)}}},_removeClasses(r){r.className=r.className.split(" ").filter(e=>e.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(r){r?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var r=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(r)},$element(){return this._$element},element(){var r=this.$element();return ut(r)},dispose(){var r=this.$element().get(0);CC(r,!0),r.textContent="",this._removeAttributes(r),this._removeClasses(r)},resetOption(r){if(this.callBase(r),r==="width"||r==="height"){var e=this.initialOption(r);!L(e)&&this.$element().css(r,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:r={}}=this.option(),{createTemplate:e}=r;this._templateManager=new MH(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:r,anonymousTemplateMeta:e}=this._templateManager.extractTemplates(this.$element()),t=this.option("integrationOptions.templates.".concat(e.name));r.forEach(n=>{var{name:i,template:o}=n;this._options.silent("integrationOptions.templates.".concat(i),o)}),e.name&&!t&&(this._options.silent("integrationOptions.templates.".concat(e.name),e.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(r){return this._getTemplate(this.option(r))},_getTemplate(r){var e=this.option("integrationOptions.templates"),t=this.option("templatesRenderAsynchronously"),n=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(r,e,{isAsyncTemplate:t,skipTemplates:n},this)},_saveTemplate(r,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+r,this._templateManager._createTemplate(e))},_useTemplates:()=>!0});jl.getInstance=function(r){return nY(E(r),this)};jl.defaultOptions=function(r){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(r)};function mY(r,e,t){function n(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}r=n(r),e=n(e);var i=Math.max(r.length,e.length);isFinite(t)&&(i=Math.min(i,t));for(var o=0;o<i;o++){var a=parseInt(r[o]||0,10),s=parseInt(e[o]||0,10);if(a<s)return-1;if(a>s)return 1}return 0}var Wb="dxactive",gP="dxinactive",pfe=30,ffe=400,Hy=tr.inherit({ctor:function(r,e){this._timeout=r,this._fire=e},start:function(){var r=this;this._schedule(function(){r.force()})},_schedule:function(r){this.stop(),this._timer=setTimeout(r,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),Os,SL=Vx.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new Hy(0,Z),this._inactive=new Hy(0,Z)},configure:function(r,e){switch(e){case Wb:r.activeTimeout=r.timeout;break;case gP:r.inactiveTimeout=r.timeout}this.callBase(r)},start:function(r){if(Os){var e=gu(this.getElement().get(0),Os.getElement().get(0)),t=!Os._active.fired();if(e&&t){this._cancel();return}Os._inactive.force()}Os=this,this._initEvents(r),this._active.start()},_initEvents:function(r){var e=this,t=this._getEmitterTarget(r),n=Nh(r),i=Ye.isSimulator(),o=i||!n,a=an(this.activeTimeout,pfe),s=an(this.inactiveTimeout,ffe);this._active=new Hy(o?a:0,function(){e._fireEvent(Wb,r,{target:t})}),this._inactive=new Hy(o?s:0,function(){e._fireEvent(gP,r,{target:t}),Os=null})},cancel:function(r){this.end(r)},end:function(r){var e=r.type!==Yt.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),Os===this&&(Os=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),Os=null,this._cancel(),this._inactive.force.bind(this._inactive)}});SL.lock=function(r){var e=Os?Os.lockInactive():Z;r.done(e)};Iv({emitter:SL,events:[Wb,gP]});var vfe=SL.lock,_Y="dxHoverStart",AC="dxhoverstart",gfe=fe(Yt.enter,_Y),CY="dxHoverEnd",PC="dxhoverend",mfe=fe(Yt.leave,CY),yY=tr.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(r){on(r,this._handlerArrayKeyPath,{})},add:function(r,e){var t=this,n=function(i){t._handler(i)};B.on(r,this._originalEventName,e.selector,n),on(r,this._handlerArrayKeyPath)[e.guid]=n},_handler:function(r){SC(r)||Ye.isSimulator()||ld({type:this._eventName,originalEvent:r,delegateTarget:r.delegateTarget})},remove:function(r,e){var t=on(r,this._handlerArrayKeyPath)[e.guid];B.off(r,this._originalEventName,e.selector,t)},teardown:function(r){Px(r,this._handlerArrayKeyPath)}}),_fe=yY.inherit({ctor:function(){this._eventNamespace=_Y,this._eventName=AC,this._originalEventName=gfe,this.callBase()},_handler:function(r){var e=r.pointers||[];e.length||this.callBase(r)}}),Cfe=yY.inherit({ctor:function(){this._eventNamespace=CY,this._eventName=PC,this._originalEventName=mfe,this.callBase()}});_s(AC,new _fe);_s(PC,new Cfe);function WH(r,e,t){r=r==="role"||r==="id"?r:"aria-".concat(r),e=L(e)?e.toString():null,t.attr(r,e)}var ai=jl.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return $(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var r=Ye.real(),e=r.platform,t=r.version;return e==="ios"&&mY(t,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(r,e){var t=ai.getOptionsFromContainer(e);r&&r.option(t),this._options.cache(e.name,t)},_bindInnerWidgetOptions(r,e){var t=()=>this._options.silent(e,$({},r.option()));t(),r.on("optionChanged",t)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:r,visible:e}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(r),this._toggleVisibility(e),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:r}=this.option();this.$element().attr("title",r||null)},_renderContent(){jn(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:Z,_fireContentReadyAction:Bf(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(r){this.$element().toggleClass("dx-state-invisible",!r)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var r=this._focusTarget(),{accessKey:e}=this.option();r.attr("accesskey",e)},_isFocusable(){var{focusStateEnabled:r,disabled:e}=this.option();return r&&!e},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(r){var e=E(this._focusTarget()).toArray();return e.includes(r)},_findActiveTarget(r){return r.find(this._activeStateUnit).not(".dx-state-disabled")},_getActiveElement(){var r=this._eventBindingTarget();return this._activeStateUnit?this._findActiveTarget(r):r},_renderFocusTarget(){var{tabIndex:r}=this.option();this._focusTarget().attr("tabIndex",r)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(r){r.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(r,!0),excludeValidators:["readOnly"]})({event:r})},_focusOutHandler(r){r.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(r,!1),excludeValidators:["readOnly","disabled"]})({event:r})},_updateFocusState(r,e){var{target:t}=r;this._isFocusTarget(t)&&this._toggleFocusClass(e,E(t))},_toggleFocusClass(r,e){var t=e&&e.length?e:this._focusTarget();t.toggleClass("dx-state-focused",r)},_hasFocusClass(r){var e=E(r||this._focusTarget());return e.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:r,onKeyboardHandled:e}=this.option(),t=this._getKeyboardListeners().length,n=!!e,i=r||t||n;i&&(this._keyboardListenerId=zc.on(this._keyboardEventBindingTarget(),this._focusTarget(),o=>this._keyboardHandler(o)))},_keyboardHandler(r,e){if(!e){var{originalEvent:t,keyName:n,which:i}=r,o=this._supportedKeys(t),a=o[n]||o[i];if(a!==void 0){var s=a.bind(this),l=s(t,r);if(!l)return!1}}var u=this._getKeyboardListeners(),{onKeyboardHandled:c}=this.option();return u.forEach(d=>d&&d._keyboardHandler(r)),c&&c(r),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var r=this._focusTarget();r.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){zc.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:r}=this.option(),e=this._activeStateUnit,t=this._eventBindingTarget();NH.off(t,{selector:e,namespace:"UIFeedback"}),r&&NH.on(t,new $o(n=>{var{event:i,element:o}=n;this._hoverStartHandler(i),this.option("hoveredElement",E(o))},{excludeValidators:["readOnly"]}),n=>{this.option("hoveredElement",null),this._hoverEndHandler(n)},{selector:e,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:r}=this.option(),e=this._activeStateUnit,t=this._eventBindingTarget();LH.off(t,{namespace:"UIFeedback",selector:e}),r&&LH.on(t,new $o(n=>{var{event:i,element:o}=n;return this._toggleActiveState(E(o),!0,i)}),new $o(n=>{var{event:i,element:o}=n;return this._toggleActiveState(E(o),!1,i)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:e,namespace:"UIFeedback"})},_detachFocusEvents(){var r=this._focusEventTarget();$w.off(r,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var r=this._focusEventTarget();$w.on(r,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(e,t)=>E(t).is(KA)})},_hoverStartHandler:Z,_hoverEndHandler:Z,_toggleActiveState(r,e){this.option("isActive",e),r.toggleClass("dx-state-active",e)},_updatedHover(){var r=this._options.silent("hoveredElement");this._hover(r,r)},_findHoverTarget(r){return r&&r.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(r,e){var{hoverStateEnabled:t,disabled:n,isActive:i}=this.option();if(e=this._findHoverTarget(e),e&&e.toggleClass("dx-state-hover",!1),r&&t&&!n&&!i){var o=this._findHoverTarget(r);o&&o.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(r){this.$element().toggleClass("dx-state-disabled",!!r),this.setAria("disabled",r||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(r,e){if(this[r]){if(Nt(e[0])){U(e[0],(o,a)=>this._setWidgetOption(r,[o,a]));return}var t=e[0],n=e[1];e.length===1&&(n=this.option(t));var i=this["".concat(r,"OptionMap")];this[r].option(i?i(t):t,n)}},_optionChanged(r){var{name:e,value:t,previousValue:n}=r;switch(e){case"disabled":this._toggleDisabledState(t),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(t,n);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(t),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(t?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(r)}},_isVisible(){var{visible:r}=this.option();return this.callBase()&&r},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(r){if(arguments.length===0)return this._isReady;this._isReady=r},setAria(){if(!Nt(arguments.length<=0?void 0:arguments[0]))WH(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var r=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();U(arguments.length<=0?void 0:arguments[0],(e,t)=>WH(e,t,r))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){$w.trigger(this._focusTarget())},registerKeyHandler(r,e){var t=this._supportedKeys();this._supportedKeys=()=>$(t,{[r]:e})}});ai.getOptionsFromContainer=r=>{var{name:e,fullName:t,value:n}=r,i={};if(e===t)i=n;else{var o=t.split(".").pop();i[o]=n}return i};var yfe=_C(),Sfe="dx-loadindicator",wfe="dx-loadindicator-wrapper",bfe="dx-loadindicator-content",Efe="dx-loadindicator-icon",zH="dx-loadindicator-segment",xfe="dx-loadindicator-segment-inner",Ife="dx-loadindicator-image",Ra=ai.inherit({_getDefaultOptions:function(){return $(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var r=mo();return this.callBase().concat([{device:function(){var e=Ye.real(),t=e.platform==="android"&&!/chrome/i.test(yfe.userAgent);return t},options:{viaImage:!0}},{device:function(){return Ma(r)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return cY(r)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(Sfe)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=E("<div>").addClass(wfe),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=E("<div>").addClass(bfe),this._$wrapper.append(this._$content)},_renderMarkup:function(){var{viaImage:r,indicatorSrc:e}=this.option();QA()&&!r&&!e?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var r=this.option("_animatingSegmentInner");this._$indicator=E("<div>").addClass(Efe),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var t=E("<div>").addClass(zH).addClass(zH+e);r&&t.append(E("<div>").addClass(xfe)),this._$indicator.append(t)}},_renderMarkupForImage:function(){var{indicatorSrc:r}=this.option();r?(this._$wrapper.addClass(Ife),this._$wrapper.css("backgroundImage","url("+r+")")):QA()&&this._renderMarkupForAnimation()},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var r=this.option("width"),e=this.option("height");if(r||e){r=gt(this.$element()),e=Dt(this.$element());var t=Math.min(e,r);this._$wrapper.css({height:t,width:t,fontSize:t})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(r){switch(r.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(r)}}});Kt("dxLoadIndicator",Ra);var wL="dxTranslator",Tfe=/matrix(3d)?\((.+?)\)/,Rfe=/translate(?:3d)?\((.+?)\)/,os=function(r){r=E(r);var e=Ub(r);return{left:e.x,top:e.y}};function zb(r){return Aa(r)==="string"&&r[r.length-1]==="%"}function SY(r,e){r.length&&on(r.get(0),wL,e)}var bL=function(r){r.length&&Px(r.get(0),wL)},MC=function(r){r.x=r.x||0,r.y=r.y||0;var e=zb(r.x)?r.x:r.x+"px",t=zb(r.y)?r.y:r.y+"px";return"translate("+e+", "+t+")"},Ub=function(r){var e=r.length?on(r.get(0),wL):null;if(!e){var t=r.css("transform")||MC({x:0,y:0}),n=t.match(Tfe),i=n&&n[1];n?(n=n[2].split(","),i==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},SY(r,e)}return e},ci=function(r,e){r=E(r);var t=e.left,n=e.top,i;t===void 0?(i=Ub(r),i.y=n||0):n===void 0?(i=Ub(r),i.x=t||0):(i={x:t||0,y:n||0,z:0},SY(r,i)),r.css({transform:MC(i)}),(zb(t)||zb(n))&&bL(r)},FC=function(r,e){r=E(r);var t,n={left:0,top:0,transform:"none"};e&&(t=r.css("transition"),n.transition="none"),r.css(n),bL(r),e&&(r.get(0).offsetHeight,r.css("transition",t))},Ofe=function(r){var e=r.match(Rfe);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e},UH=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,jH={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},Dfe=function(r,e,t,n){var i=3*r,o=3*(t-r)-i,a=1-i-o,s=3*e,l=3*(n-e)-s,u=1-s-l,c=function(h){return h*(i+h*(o+h*a))},d=function(h){return i+h*(2*o+3*h*a)};return function(h){return function(p){return p*(s+p*(l+p*u))}(function(p){for(var f=p,v=0,g;v<14&&(g=c(f)-p,!(Math.abs(g)<.001));)f-=g/d(f),v++;return f}(h))}},mP={},Afe=function(r){r=jH[r]||r;var e=r.match(UH),t;e||(t="linear",e=jH[t].match(UH)),e=e.slice(1,5);for(var n=0;n<e.length;n++)e[n]=parseFloat(e[n]);var i=t||"cubicbezier_"+e.join("_").replace(/\./g,"p");return Ne(mP[i])||(mP[i]=function(o,a,s,l,u){return l*Dfe(e[0],e[1],e[2],e[3])(a/u)+s}),i};function Pfe(r){return mP[r]}var KH=Rt(),Mfe=/left|right/,Ffe=/top|bottom/,qH=/fit|flip|none/,Lfe=/scale\(.+?\)/,Nfe=Gr.safari,_P=function(r){var e={h:"center",v:"center"},t=bv(r);return t&&U(t,function(){var n=String(this).toLowerCase();Mfe.test(n)?e.h=n:Ffe.test(n)&&(e.v=n)}),e},YH=function(r,e){return gq(r,e)},kfe=function(r){var e=bv(r),t=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return qH.test(t)||(t="none"),qH.test(n)||(n=t),{h:t,v:n}},XH=function(r){switch(r){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},CP=function(r){switch(r){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return r}},yP=function(r,e){var t=0;return r.myLocation<e.min&&(t+=e.min-r.myLocation),r.myLocation>e.max&&(t+=r.myLocation-e.max),t},QH=function(r,e,t){return e.myLocation<t.min?r==="h"?"left":"top":e.myLocation>t.max?r==="h"?"right":"bottom":"none"},SP=function(r){r.myLocation=r.atLocation+XH(r.atAlign)*r.atSize-XH(r.myAlign)*r.mySize+r.offset},Gy={fit:function(r,e){var t=!1;r.myLocation>e.max&&(r.myLocation=e.max,t=!0),r.myLocation<e.min&&(r.myLocation=e.min,t=!0),r.fit=t},flip:function(r,e){if(r.flip=!1,!(r.myAlign==="center"&&r.atAlign==="center")&&(r.myLocation<e.min||r.myLocation>e.max)){var t=$({},r,{myAlign:CP(r.myAlign),atAlign:CP(r.atAlign),offset:-r.offset});SP(t),t.oversize=yP(t,e),(t.myLocation>=e.min&&t.myLocation<=e.max||r.oversize>t.oversize)&&(r.myLocation=t.myLocation,r.oversize=t.oversize,r.flip=!0)}},flipfit:function(r,e){this.flip(r,e),this.fit(r,e)},none:function(r){r.oversize=0}},wY,bY=function(){var r=E("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(E("body")),e=r.get(0).offsetWidth-r.get(0).clientWidth;r.remove(),wY=e},Vfe={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},EY=function(r,e){var t=E(r),n=t.offset(),i=$(!0,{},Vfe,{h:{location:n.left},v:{location:n.top}});if(!e)return i;var o=_P(e.my),a=_P(e.at),s=E(e.of).length&&e.of||KH,l=YH(e.offset,e.precise),u=kfe(e.collision),c=e.boundary,d=YH(e.boundaryOffset,e.precise),h={mySize:er(t),myAlign:o.h,atAlign:a.h,offset:l.h,collision:u.h,boundaryOffset:d.h},p={mySize:Vt(t),myAlign:o.v,atAlign:a.v,offset:l.v,collision:u.v,boundaryOffset:d.v};if(s.preventDefault)h.atLocation=s.pageX,p.atLocation=s.pageY,h.atSize=0,p.atSize=0;else if(s=E(s),bn(s[0]))h.atLocation=s.scrollLeft(),p.atLocation=s.scrollTop(),Ye.real().deviceType==="phone"&&s[0].visualViewport?(h.atLocation=Math.max(h.atLocation,s[0].visualViewport.offsetLeft),p.atLocation=Math.max(p.atLocation,s[0].visualViewport.offsetTop),h.atSize=s[0].visualViewport.width,p.atSize=s[0].visualViewport.height):(h.atSize=s[0].innerWidth>s[0].outerWidth?s[0].innerWidth:gt(s),p.atSize=s[0].innerHeight>s[0].outerHeight||Nfe?s[0].innerHeight:Dt(s));else if(s[0].nodeType===9)h.atLocation=0,p.atLocation=0,h.atSize=gt(s),p.atSize=Dt(s);else{var f=Dn(s.get(0)),v=xY(s);h.atLocation=v.left,p.atLocation=v.top,h.atSize=Math.max(f.width,er(s)),p.atSize=Math.max(f.height,Vt(s))}SP(h),SP(p);var g=function(){var C=E(KH),y=gt(C),w=Dt(C),T=C.scrollLeft(),S=C.scrollTop(),x=ce.getDocumentElement(),I=Vh?x.clientWidth/y:1,R=Vh?x.clientHeight/w:1;wY===void 0&&bY();var D=y,A=w;if(c&&!bn(c)){var V=E(c),F=V.offset();T=F.left,S=F.top,D=gt(V),A=Dt(V)}return{h:{min:T+h.boundaryOffset,max:T+D/I-h.mySize-h.boundaryOffset},v:{min:S+p.boundaryOffset,max:S+A/R-p.mySize-p.boundaryOffset}}}();h.oversize=yP(h,g.h),p.oversize=yP(p,g.v),h.collisionSide=QH("h",h,g.h),p.collisionSide=QH("v",p,g.v),Gy[h.collision]&&Gy[h.collision](h,g.h),Gy[p.collision]&&Gy[p.collision](p,g.v);var m=function(C){return e.precise?C:Math.round(C)};return $(!0,i,{h:{location:m(h.myLocation),oversize:m(h.oversize),fit:h.fit,flip:h.flip,collisionSide:h.collisionSide},v:{location:m(p.myLocation),oversize:m(p.oversize),fit:p.fit,flip:p.flip,collisionSide:p.collisionSide},precise:e.precise}),i},ZH=function(r,e,t,n){var i=L(r.style)&&!ce.isNode(r.style),o=n?t.replace(e,""):t;if(i)Dq(r,o,!1);else{var a=ce.createAttribute("style");a.value=o,r.setAttributeNode(a)}},xY=function r(e){var t,n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=i.get(0);if(!o)return e.offset();var a=((t=o.getAttribute)===null||t===void 0?void 0:t.call(o,"style"))||"",s=(n=a.match(Lfe))===null||n===void 0?void 0:n[0],l;return s?(ZH(o,s,a,!0),l=r(e,i.parent()),ZH(o,s,a,!1)):l=r(e,i.parent()),l},I_=function(r,e){var t=E(r);if(!e)return t.offset();FC(t,!0);var n=xY(t),i=e.h&&e.v?e:EY(t,e),o=function(a){return e.precise?a:Math.round(a)};return ci(t,{left:i.h.location-o(n.left),top:i.v.location-o(n.top)}),i},Bfe=function(r){return r=E(r).get(0),bn(r)?null:r&&"pageY"in r&&"pageX"in r?{top:r.pageY,left:r.pageX}:E(r).offset()};I_.inverseAlign||(I_.inverseAlign=CP);I_.normalizeAlign||(I_.normalizeAlign=_P);const js={calculateScrollbarWidth:bY,calculate:EY,setup:I_,offset:Bfe};var IY=Rt(),zm=fe(yo,"dxFX"),Hfe=/^([+-])=(.*)/i,T_="dxAnimData",EL="dxAnimQueue",As="transform",Gfe={initAnimation:function(r,e){r.css({transitionProperty:"none"}),typeof e.from=="string"?r.addClass(e.from):bP(r,e.from);var t=this,n=new X,i=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){t._finishTransition(r),i?$e(n,i).always(function(){t._cleanup(r,e)}):t._cleanup(r,e),n.resolveWith(r,[e,r])}},this._completeAnimationCallback(r,e).done(function(){e.transitionAnimation.finish()}).fail(function(){n.rejectWith(r,[e,r])}),e.duration||e.transitionAnimation.finish(),r.css("transform")},animate:function(r,e){return this._startAnimation(r,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(r,e){var t=this,n=Date.now()+e.delay,i=new X,o=new X,a=new X,s,l=r6()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(s),clearTimeout(u),B.off(r,l),B.off(r,zm)},B.one(r,l,function(){Date.now()-n>=e.duration&&o.reject()}),B.off(r,zm),B.on(r,zm,function(){t.stop(r,e),i.reject()});var u=setTimeout(function(){s=setTimeout(function(){a.reject()},e.duration+e.delay+nn._simulatedTransitionEndDelay),$e(o,a).fail((function(){i.resolve()}).bind(this))});return i.promise()},_startAnimation:function(r,e){r.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?r[0].className+=" "+e.to:e.to&&bP(r,e.to)},_finishTransition:function(r){r.css("transition","none")},_cleanup:function(r,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(r.removeClass(e.from),r.removeClass(e.to))},stop:function(r,e,t){e&&(t?e.transitionAnimation.finish():(Nt(e.to)&&U(e.to,function(n){r.css(n,r.css(n))}),this._finishTransition(r),this._cleanup(r,e)))}},JH={initAnimation:function(r,e){bP(r,e.from)},animate:function(r,e){var t=new X,n=this;return e?(U(e.to,function(i){e.from[i]===void 0&&(e.from[i]=n._normalizeValue(r.css(i)))}),e.to[As]&&(e.from[As]=n._parseTransform(e.from[As]),e.to[As]=n._parseTransform(e.to[As])),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:Afe(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),uu(e.frameAnimation.animationFrameId),t.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}var i=$({},this.currentValue);i[As]&&(i[As]=Gn(i[As],function(o,a){if(a==="translate")return MC(o);if(a==="scale")return"scale("+o+")";if(a.substr(0,a.length-1)==="rotate")return a+"("+o+"deg)"}).join(" ")),r.css(i)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){n._startAnimation(r,e)},e.delay)):n._startAnimation(r,e),t.promise()):t.reject().promise()},_startAnimation:function(r,e){B.off(r,zm),B.on(r,zm,function(){e.frameAnimation&&uu(e.frameAnimation.animationFrameId)}),this._animationStep(r,e)},_parseTransform:function(r){var e={};return U(r.match(/\w+\d*\w*\([^)]*\)\s*/g),function(t,n){var i=Ofe(n),o=n.match(/scale\((.+?)\)/),a=n.match(/(rotate.)\((.+)deg\)/);i&&(e.translate=i),o&&o[1]&&(e.scale=parseFloat(o[1])),a&&a[1]&&(e[a[1]]=parseFloat(a[2]))}),e},stop:function(r,e,t){var n=e&&e.frameAnimation;n&&(uu(n.animationFrameId),clearTimeout(n.delayTimeout),t&&n.finish(),delete e.frameAnimation)},_animationStep:function(r,e){var t=e&&e.frameAnimation;if(t){var n=new Date().valueOf();if(n>=t.startTime+t.duration){t.finish();return}t.currentValue=this._calcStepValue(t,n-t.startTime),t.draw();var i=this;t.animationFrameId=w_(function(){i._animationStep(r,e)})}},_calcStepValue:function(r,e){return function t(n,i){var o=Array.isArray(i)?[]:{};return U(i,function(a,s){if(typeof s=="string"&&parseFloat(s)===!1)return!0;o[a]=typeof s=="object"?t(n[a],s):function(l){var u=e/r.duration,c=e,d=1*n[l],h=i[l]-n[l],p=r.duration;return Pfe(r.easing)(u,c,d,h,p)}(a)}),o}(r.from,r.to)},_normalizeValue:function(r){var e=parseFloat(r);return e===!1?r:e}},$fe={initAnimation:function(){},animate:function(){return new X().resolve().promise()},stop:Z,isSynchronous:!0},Wfe=function(r){r=r||{};var e={transition:XA()?Gfe:JH,frame:JH,noAnimation:$fe},t=r.strategy||"transition";return r.type==="css"&&!XA()&&(t="noAnimation"),e[t]},TY=function(r,e,t,n){U(["from","to"],function(){if(!t(r[this]))throw br.Error("E0010",e,this,n)})},RY=function(r,e){return TY(r,e,function(t){return Nt(t)},"a plain object")},zfe=function(r,e){return TY(r,e,function(t){return typeof t=="string"},"a string")},Ufe={setup:function(){}},jfe={validateConfig:function(r){zfe(r,"css")},setup:function(){}},Kfe={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},GT={validateConfig:function(r){RY(r,"slide")},setup:function(r,e){var t=os(r);if(e.type!=="slide"){var n=e.type==="slideIn"?e.from:e.to;n.position=$({of:IY},Kfe[e.direction]),wP(r,n)}this._setUpConfig(t,e.from),this._setUpConfig(t,e.to),bL(r)},_setUpConfig:function(r,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(r,e)},_initNewPosition:function(r,e){var t={left:e.left,top:e.top};delete e.left,delete e.top;var n=this._getRelativeValue(t.left);n!==void 0?t.left=n+r.left:e.left=0,n=this._getRelativeValue(t.top),n!==void 0?t.top=n+r.top:e.top=0,e[As]=MC({x:t.left,y:t.top})},_getRelativeValue:function(r){var e;if(typeof r=="string"&&(e=Hfe.exec(r)))return parseInt(e[1]+"1")*e[2]}},$T={setup:function(r,e){var t,n,i=e.from,o=e.to,a=e.type==="fadeOut"?1:0,s=e.type==="fadeOut"?0:1,l=Nt(i)?String((t=i.opacity)!==null&&t!==void 0?t:a):String(i),u=Nt(o)?String((n=o.opacity)!==null&&n!==void 0?n:s):String(o);switch(e.skipElementInitialStyles||(l=r.css("opacity")),e.type){case"fadeIn":u=1;break;case"fadeOut":u=0}e.from={visibility:"visible",opacity:l},e.to={opacity:u}}},qfe={validateConfig:function(r){RY(r,"pop")},setup:function(r,e){var t=e.from,n=e.to,i="opacity"in t?t.opacity:r.css("opacity"),o="opacity"in n?n.opacity:1,a="scale"in t?t.scale:0,s="scale"in n?n.scale:1;e.from={opacity:i};var l=Ub(r);e.from[As]=this._getCssTransform(l,a),e.to={opacity:o},e.to[As]=this._getCssTransform(l,s)},_getCssTransform:function(r,e){return MC(r)+"scale("+e+")"}},OY={custom:Ufe,slide:GT,slideIn:GT,slideOut:GT,fade:$T,fadeIn:$T,fadeOut:$T,pop:qfe,css:jfe},Yfe=function(r){var e=OY[r.type];if(!e)throw br.Error("E0011",r.type);return e},Xfe={type:"custom",from:{},to:{},duration:400,start:Z,complete:Z,easing:"ease",delay:0},Qfe={duration:400,easing:"ease",delay:0};function Zfe(){var r=this.element,e=this.config;if(wP(r,e.from),wP(r,e.to),this.configurator.setup(r,e),r.data(T_,this),this.strategy.initAnimation(r,e),e.start){var t=ut(r);e.start.apply(this,[t,e])}}var Jfe=function(r){var e=r.element,t=r.config;if(e.removeData(T_),t.complete){var n=ut(e);t.complete.apply(this,[n,t])}r.deferred.resolveWith(this,[e,t])},eve=function(){var r=this,e=r.element,t=r.config;return r.isStarted=!0,r.strategy.animate(e,t).done(function(){Jfe(r)}).fail(function(){r.deferred.rejectWith(this,[e,t])})},tve=function(r){var e=this.element,t=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,t,r)},WT=fe(yo,"dxFXStartAnimation"),rve=function(r){B.off(r.element,WT),B.on(r.element,WT,function(){nn.stop(r.element)}),r.deferred.always(function(){B.off(r.element,WT)})},DY=function(r,e){var t=e.type==="css"?Qfe:Xfe,n=$(!0,{},t,e),i=Yfe(n),o=Wfe(n),a={element:E(r),config:n,configurator:i,strategy:o,isSynchronous:o.isSynchronous,setup:Zfe,start:eve,stop:tve,deferred:new X};return Ne(i.validateConfig)&&i.validateConfig(n),rve(a),a},nve=function(r,e){var t=E(r);if(!t.length)return new X().resolve().promise();var n=DY(t,e);return ive(t,n),n.deferred.promise()};function ive(r,e){var t=xL(r);ove(r,t),t.push(e),Ux(r)||IL(r,t)}function xL(r){return r.data(EL)||[]}function ove(r,e){r.data(EL,e)}var AY=function(r){r.removeData(EL)};function Ux(r){return!!r.data(T_)}function IL(r,e){if(e=xL(r),!!e.length){var t=e.shift();e.length===0&&AY(r),ave(t).done(function(){Ux(r)||IL(r)})}}function ave(r){return r.setup(),r.isSynchronous?r.start():r.startTimeout=setTimeout(function(){r.start()}),r.deferred.promise()}function wP(r,e){if(!(!e||!e.position)){var t=E(IY),n=0,i=0,o=js.calculate(r,e.position),a=r.offset(),s=r.position();s.top>a.top&&(i=t.scrollTop()),s.left>a.left&&(n=t.scrollLeft()),$(e,{left:o.h.location-a.left+s.left-n,top:o.v.location-a.top+s.top-i}),delete e.position}}function bP(r,e){U(e,function(t,n){try{r.css(t,Ne(n)?n():n)}catch{}})}var sve=function(r,e){var t=E(r),n=xL(t);U(n,function(o,a){a.config.delay=0,a.config.duration=0,a.isSynchronous=!0}),Ux(t)||IL(t,n);var i=t.data(T_);i&&i.stop(e),t.removeData(T_),AY(t)},nn={off:!1,animationTypes:OY,animate:nve,createAnimation:DY,isAnimating:Ux,stop:sve,_simulatedTransitionEndDelay:100},lve=Ul.add,eG=Math.abs,zT=0,UT=1,rg=2,jb=10,uve=0,cve=180,dve=function(){return sp("pointer-events")},hve=Uu(function(){var r=Ye.real().deviceType==="desktop";if(!dve()||!r)return Z;var e=E("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return B.subscribeGlobal(e,"dxmousewheel",function(t){t.preventDefault()}),lve(function(){e.appendTo("body")}),function(t,n){e.css("pointerEvents",t?"all":"none"),t&&e.css("cursor",n)}}),pve=function(r,e){var t=hve();t(r,e)},LC=Vx.inherit({gesture:!0,configure:function(r){this.getElement().css("msTouchAction",r.immediate?"pinch-zoom":""),this.callBase(r)},allowInterruptionByMouseWheel:function(){return this._stage!==rg},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=zT},start:function(r){if(r._needSkipEvent||Gq(r)){this._cancel(r);return}this._startEvent=Fc(r),this._startEventData=gn(r),this._stage=UT,this._init(r),this._setupImmediateTimer()},_setupImmediateTimer:function(){var r;if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate){if(this.immediateTimeout===0){this._immediateAccepted=!0;return}this._immediateTimer=setTimeout((function(){this._immediateAccepted=!0}).bind(this),(r=this.immediateTimeout)!==null&&r!==void 0?r:cve)}},move:function(r){if(this._stage===UT&&this._directionConfirmed(r)){if(this._stage=rg,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(r),this._adjustStartEvent(r),this._start(this._startEvent),this._stage===zT)return;this._requestAccept(r),this._move(r),this._forgetAccept()}else this._stage===rg&&(this._clearSelection(r),this._move(r))},_directionConfirmed:function(r){var e=this._getTouchBoundary(r),t=rh(this._startEventData,gn(r)),n=eG(t.x),i=eG(t.y),o=this._validateMove(e,n,i),a=this._validateMove(e,i,n),s=this.getDirection(r),l=s==="both"&&(o||a),u=s==="horizontal"&&o,c=s==="vertical"&&a;return l||u||c||this._immediateAccepted},_validateMove:function(r,e,t){return e&&e>=r&&(this.immediate?e>=t:!0)},_getTouchBoundary:function(r){return this.immediate||uo(r)?uve:jb},_adjustStartEvent:function(r){var e=this._getTouchBoundary(r),t=rh(this._startEventData,gn(r));this._startEvent.pageX+=rv(t.x)*e,this._startEvent.pageY+=rv(t.y)*e},_resetActiveElement:function(){Ye.real().platform==="ios"&&this.getElement().find(":focus").length&&xv()},_toggleGestureCover:function(r){this._toggleGestureCoverImpl(r)},_toggleGestureCoverImpl:function(r){var e=this._stage===rg;e&&pve(r,this.getElement().css("cursor"))},_clearSelection:function(r){uo(r)||SC(r)||wue()},end:function(r){this._toggleGestureCover(!1),this._stage===rg?this._end(r):this._stage===UT&&this._stop(r),this._stage=zT},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:Z,_start:Z,_move:Z,_stop:Z,_end:Z});LC.initialTouchBoundary=jb;LC.touchBoundary=function(r){if(L(r)){jb=r;return}return jb};var Gh="dxdragstart",td="dxdrag",$h="dxdragend",jx="dxdragenter",Kx="dxdragleave",TL="dxdrop",$y="dxDragEventsCount",cu=[],Of=[],EP=[],RL={setup:function(r,e){var t=cu.includes(r);t||(cu.push(r),Of.push([]),EP.push(e||{}))},add:function(r,e){var t=cu.indexOf(r);this.updateEventsCounter(r,e.type,1);var n=e.selector;Of[t].includes(n)||Of[t].push(n)},updateEventsCounter:function(r,e,t){if([jx,Kx,TL].indexOf(e)>-1){var n=on(r,$y)||0;on(r,$y,Math.max(0,n+t))}},remove:function(r,e){this.updateEventsCounter(r,e.type,-1)},teardown:function(r){var e=on(r,$y);if(!e){var t=cu.indexOf(r);cu.splice(t,1),Of.splice(t,1),EP.splice(t,1),Px(r,$y)}}};_s(jx,RL);_s(Kx,RL);_s(TL,RL);var fve=function(r){var e=cu.indexOf(r.get(0)),t=Of[e].filter(i=>i),n=r.find(t.join(", "));return Of[e].includes(void 0)&&(n=n.add(r)),n},vve=function(r){var e=cu.indexOf(r.get(0));return EP[e]},gve=function(r,e){return r.itemPositionFunc?r.itemPositionFunc(e):e.offset()},mve=function(r,e){return r.itemSizeFunc?r.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},_ve=LC.inherit({ctor:function(r){this.callBase(r),this.direction="both"},_init:function(r){this._initEvent=r},_start:function(r){if(r=this._fireEvent(Gh,this._initEvent),this._maxLeftOffset=r.maxLeftOffset,this._maxRightOffset=r.maxRightOffset,this._maxTopOffset=r.maxTopOffset,this._maxBottomOffset=r.maxBottomOffset,r.targetElements||r.targetElements===null){var e=Epe(r.targetElements||[]);this._dropTargets=Gn(e,function(t){return E(t).get(0)})}else this._dropTargets=cu},_move:function(r){var e=gn(r),t=this._calculateOffset(e);r=this._fireEvent(td,r,{offset:t}),this._processDropTargets(r),r._cancelPreventDefault||r.preventDefault()},_calculateOffset:function(r){return{x:this._calculateXOffset(r),y:this._calculateYOffset(r)}},_calculateXOffset:function(r){if(this.direction!=="vertical"){var e=r.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(r){if(this.direction!=="horizontal"){var e=r.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(r,e,t){return e!=null&&(r=Math.max(r,-e)),t!=null&&(r=Math.min(r,t)),r},_processDropTargets:function(r){var e=this._findDropTarget(r),t=e===this._currentDropTarget;t||(this._fireDropTargetEvent(r,Kx),this._currentDropTarget=e,this._fireDropTargetEvent(r,jx))},_fireDropTargetEvent:function(r,e){if(this._currentDropTarget){var t={type:e,originalEvent:r,draggingElement:this._$element.get(0),target:this._currentDropTarget};ld(t)}},_findDropTarget:function(r){var e=this,t;return U(cu,function(n,i){if(e._checkDropTargetActive(i)){var o=E(i);U(fve(o),function(a,s){var l=E(s);e._checkDropTarget(vve(o),l,E(t),r)&&(t=s)})}}),t},_checkDropTargetActive:function(r){var e=!1;return U(this._dropTargets,function(t,n){return e=e||n===r||gu(n,r),!e}),e},_checkDropTarget:function(r,e,t,n){var i=e.get(0)===E(n.target).get(0);if(i)return!1;var o=gve(r,e);if(n.pageX<o.left||n.pageY<o.top)return!1;var a=mve(r,e);return n.pageX>o.left+a.width||n.pageY>o.top+a.height||t.length&&t.closest(e).length||r.checkDropTarget&&!r.checkDropTarget(e,n)?!1:e},_end:function(r){var e=gn(r);this._fireEvent($h,r,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(r,TL),delete this._currentDropTarget}});Iv({emitter:_ve,events:[Gh,td,$h]});var tG=function(){var r=[];return{add:function(e){r.includes(e)||r.push(e)},remove:function(e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)},fire:function(){var e=r.pop(),t=!!e;return t&&e(),t},hasCallback:function(){return r.length>0}}}(),Ww=1500,Uc=[],Cve=r=>(Ww=an(r,Ww),Ww),PY=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ww,e=Uc.length,t=(e?Uc[e-1]:r)+1;return Uc.push(t),t},xP=r=>{var e=Uc.indexOf(r);e>=0&&Uc.splice(e,1)},yve=r=>Uc.length&&Uc[Uc.length-1]===r,jT="dx-swatch-",Sve=r=>{var e=E(r),t=e.closest('[class^="'.concat(jT,'"], [class*=" ').concat(jT,'"]')),n=ed();if(!t.length)return n;var i=new RegExp("(\\s|^)(".concat(jT,".*?)(\\s|$)")),o=t[0].className.match(i)[2],a=n.children("."+o);return a.length||(a=E("<div>").addClass(o).appendTo(n)),a};const MY={getSwatchContainer:Sve};var wve=Rt(),FY={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},rG={h:0,v:0};class LY{constructor(e){var{position:t,container:n,visualContainer:i,$root:o,$content:a,$wrapper:s,onPositioned:l,onVisualPositionChanged:u,restorePosition:c,_fixWrapperPosition:d,_skipContentPositioning:h}=e;this._props={position:t,container:n,visualContainer:i,restorePosition:c,onPositioned:l,onVisualPositionChanged:u,_fixWrapperPosition:d,_skipContentPositioning:h},this._$root=o,this._$content=a,this._$wrapper=s,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(n),this.updatePosition(t),this.updateVisualContainer(i)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){var e=this._props.restorePosition;this.restorePositionOnNextRender(e)}updatePosition(e){this._props.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=e,this._$markupContainer=e?E(e):MY.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=e,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(ci(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&js.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var e=bn(this.$visualContainer.get(0))||this._props._fixWrapperPosition,t=e?"fixed":"absolute";this._$wrapper.css("position",t)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=os(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),FC(this._$content);var e=this._$wrapper.css("overflow");if(this._$wrapper.css("overflow","hidden"),!this._props._skipContentPositioning){var t=js.setup(this._$content,this._position);this._initialPosition=t}this._$wrapper.css("overflow",e),this.detectVisualPositionChange()}_raisePositionedEvents(e){var t=this._previousVisualPosition,n=this._visualPosition,i=(t==null?void 0:t.top)!==n.top||(t==null?void 0:t.left)!==n.left;i&&this._props.onVisualPositionChanged({previousPosition:t,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var e,t=(e=this._position)!==null&&e!==void 0?e:{boundaryOffset:rG};this._$content.css("margin","".concat(t.v,"px ").concat(t.h,"px"))}_getVisualContainer(){var e,t,n=this._props.container,i=this._props.visualContainer,o=Ise((e=this._props.position)===null||e===void 0?void 0:e.of)?this._props.position.of.target:(t=this._props.position)===null||t===void 0?void 0:t.of;return E(i||n||o||wve)}_normalizePosition(e){var t={boundaryOffset:rG};return L(e)?$(!0,{},t,this._positionToObject(e)):t}_positionToObject(e){return ft(e)?$({},FY[e]):e}}var bve=Ul.add,Rp=Rt(),nG=Mx,Eve="dx-overlay",xve="dx-overlay-wrapper",Ive="dx-overlay-content",Tve="dx-overlay-shader",iG="dx-inner-overlay",KT="dx-state-invisible",Rve="content",Ove="dx-rtl",IP=[],qT="dx-prevent-safari-scrolling",Dve="tab";bve(()=>{B.subscribeGlobal(ce.getDocument(),Yt.down,r=>{for(var e=IP.length-1;e>=0;e--)if(!IP[e]._proxiedDocumentDownHandler(r))return})});var Ks=ai.inherit({_supportedKeys:function(){return $(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return $(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:$({},FY.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_hideOnParentScrollTarget:void 0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!yt()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),$(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),$(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(r,e){this.callBase(r,e),e&&(e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),e.elementAttr&&!e._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),"preventScrollEvents"in e&&!e._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo())},_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=E("<div>").addClass(xve),this._$content=E("<div>").addClass(Ive),this._initInnerOverlayClass();var r=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(r.attr("class")),r.addClass(Eve),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:e=>{this._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()},warnPositionAsFunction(){Ne(this.option("position"))&&br.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(iG,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(r){this._hideTopOverlayHandler=r},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var r=this._getActionsList();U(r,(e,t)=>{this._actions[t]=this._createActionByOption(t,{excludeValidators:["disabled","readOnly"]})||Z})},_initHideOnOutsideClickHandler:function(){var r=this;this._proxiedDocumentDownHandler=function(){return r._documentDownHandler(...arguments)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(r){this._showAnimationProcessing&&this._stopAnimation();var e=E(Rp.document).is(r.target)||gu(Rp.document,r.target),t=E(r.target).closest(".".concat(iG)).length,n=e&&!t&&!(this._$content.is(r.target)||gu(this._$content.get(0),r.target));return n&&this._shouldHideOnOutsideClick(r)&&this._outsideClickHandler(r),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(r){var{hideOnOutsideClick:e}=this.option();return Ne(e)?e(r):e},_outsideClickHandler(r){this.option("shading")&&r.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return Rve},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new _h}),this.callBase()},_isTopOverlay:function(){for(var r=this._overlayStack(),e=r.length-1;e>=0;e--){var t=r[e]._findTabbableBounds();if(t.first||t.last)return r[e]===this}return!1},_overlayStack:function(){return IP},_zIndexInitValue:function(){return Ks.baseZIndex()},_toggleViewPortSubscription:function(r){var e=this;nG.remove(this._viewPortChangeHandle),r&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},nG.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:r}=this.option(),e=$({},r),t=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(t),this._customWrapperClass=t},_renderVisibilityAnimate:function(r){return this._stopAnimation(),r?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_toggleBodyScroll:Z,_animateShowing:function(){var r,e,t,n=this,i=(r=this._getAnimationConfig())!==null&&r!==void 0?r:{},o=this._normalizeAnimation(i.show,"to"),a=(e=o==null?void 0:o.start)!==null&&e!==void 0?e:Z,s=(t=o==null?void 0:o.complete)!==null&&t!==void 0?t:Z;this._animate(o,function(){if(!n._isAnimationPaused){n.option("focusStateEnabled")&&B.trigger(n._focusTarget(),"focus");for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];s.call(n,...u),n._showAnimationProcessing=!1,n._isHidden=!1,n._actions.onShown(),n._toggleSafariScrolling(),n._showingDeferred.resolve()}},function(){if(!n._isAnimationPaused){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];a.call(n,...u),n._showAnimationProcessing=!0}})},_processShowingHidingCancel:function(r,e,t){wv(r)?r.then(n=>{n?t():e()}).catch(()=>e()):r?t():e()},_show:function(){if(this._showingDeferred=new X,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new X().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{var r=()=>{this._stopAnimation(),this._toggleBodyScroll(this.option("enableBodyScroll")),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass(KT,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var e={cancel:!1};this._actions.onShowing(e),this._processShowingHidingCancel(e.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass(KT,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this._toggleBodyScroll(!0),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(r)):r()}return this._showingDeferred.promise()},_normalizeAnimation:function(r,e){return r&&(r=$({type:"slide",skipElementInitialStyles:!0},r),pt(r[e])&&$(r[e],{position:this._positionController.position})),r},_animateHiding:function(){var r,e,t,n=this,i=(r=this._getAnimationConfig())!==null&&r!==void 0?r:{},o=this._normalizeAnimation(i.hide,"from"),a=(e=o==null?void 0:o.start)!==null&&e!==void 0?e:Z,s=(t=o==null?void 0:o.complete)!==null&&t!==void 0?t:Z;this._animate(o,function(){var l;n._$content.css("pointerEvents",""),n._renderVisibility(!1);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];s.call(n,...c),n._hideAnimationProcessing=!1,(l=n._actions)===null||l===void 0||l.onHidden(),n._hidingDeferred.resolve()},function(){n._$content.css("pointerEvents","none");for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];a.call(n,...u),n._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new X().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new X;var r={cancel:!1};return this._isShowingActionCanceled?(delete this._isShowingActionCanceled,this._hidingDeferred.reject()):(this._actions.onHiding(r),this._toggleSafariScrolling(),this._toggleBodyScroll(!0),this._processShowingHidingCancel(r.cancel,()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()},()=>{this._isHidingActionCanceled=!0,this._toggleBodyScroll(this.option("enableBodyScroll")),this.option("visible",!0),this._hidingDeferred.resolve()})),this._hidingDeferred.promise()},_forceFocusLost:function(){var r=ce.getActiveElement(),e=!!this._$content.find(r).length;e&&xv()},_animate:function(r,e,t){r?(t=t||r.start||Z,nn.animate(this._$content,$({},r,{start:t,complete:e}))):e()},_stopAnimation:function(){nn.stop(this._$content,!0)},_renderVisibility:function(r){r&&this._isParentHidden()||(this._currentVisible=r,this._stopAnimation(),r||_pe(this._$content),r?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),_L(this._$content),bl(this._$content)):(this._toggleVisibility(r),this._$content.toggleClass(KT,!r),this._updateZIndexStackPosition(r),this._moveFromContainer()),this._toggleShading(r),this._toggleSubscriptions(r))},_updateZIndexStackPosition:function(r){var e=this._overlayStack(),t=e.indexOf(this);r?(t===-1&&(this._zIndex=PY(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):t!==-1&&(e.splice(t,1),xP(this._zIndex))},_toggleShading:function(r){this._$wrapper.toggleClass(Tve,r&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(r&&this.option("shading"))},_initTabTerminatorHandler:function(){var r=this;this._proxiedTabTerminatorHandler=function(){r._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(r){var e=fe("keydown",this.NAME);r?B.on(ce.getDocument(),e,this._proxiedTabTerminatorHandler):B.off(ce.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var r=this._$wrapper.find("*"),e=r.length-1,t={first:null,last:null},n=0;n<=e&&(!t.first&&r.eq(n).is(S1)&&(t.first=r.eq(n)),!t.last&&r.eq(e-n).is(S1)&&(t.last=r.eq(e-n)),!(t.first&&t.last));n++);return t},_tabKeyHandler:function(r){if(!(Jr(r)!==Dve||!this._isTopOverlay())){var e=this._findTabbableBounds(),t=e.first,n=e.last,i=!r.shiftKey&&r.target===n.get(0),o=r.shiftKey&&r.target===t.get(0),a=e.length===0,s=!gu(this._$wrapper.get(0),r.target);if(i||o||a||s){r.preventDefault();var l=r.shiftKey?n:t;B.trigger(l,"focusin"),B.trigger(l,"focus")}}},_toggleSubscriptions:function(r){yt()&&(this._toggleHideTopOverlayCallback(r),this._toggleHideOnParentsScrollSubscription(r))},_toggleHideTopOverlayCallback:function(r){this._hideTopOverlayHandler&&(r?tG.add(this._hideTopOverlayHandler):tG.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(r){var e,t=fe("scroll",this.NAME),{prevTargets:n,handler:i}=(e=this._parentsScrollSubscriptionInfo)!==null&&e!==void 0?e:{};B.off(n,t,i);var o=this.option("hideOnParentScroll");if(r&&o){var a=this._getHideOnParentScrollTarget().parents();Ye.real().deviceType==="desktop"&&(a=a.add(Rp)),B.on(a,t,i),this._parentsScrollSubscriptionInfo.prevTargets=a}},_hideOnParentsScrollHandler:function(r){var e=!1,t=this.option("hideOnParentScroll");Ne(t)&&(e=t(r)),!e&&!this._showAnimationProcessing&&this.hide()},_getHideOnParentScrollTarget:function(){var r=E(this.option("_hideOnParentScrollTarget"));return r.length?r:this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var r=!this._currentVisible&&this.option("deferRendering"),e=this.option("visible")&&this._isParentHidden();if(e){this._isHidden=!0;return}this._contentAlreadyRendered||r||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var r=this.$element().parent();if(r.is(":visible"))return!1;var e=!1;return r.add(r.parents()).each(function(){var t=E(this);if(t.css("display")==="none")return e=!0,!1}),e||!ce.getBody().contains(r.get(0))},_renderContentImpl:function(){var r=new X,e=this.option("contentTemplate"),t=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return t&&t.render({container:ut(this.$content()),noModel:!0,transclude:n,onRendered:()=>{r.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}}),this._toggleWrapperScrollEventsSubscription(this.option("preventScrollEvents")),r.done(()=>{this.option("visible")&&this._moveToContainer()}),r.promise()},_getPositionControllerConfig(){var{container:r,visualContainer:e,_fixWrapperPosition:t,restorePosition:n,_skipContentPositioning:i}=this.option();return{container:r,visualContainer:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:n,_fixWrapperPosition:t,_skipContentPositioning:i}},_initPositionController(){this._positionController=new LY(this._getPositionControllerConfig())},_toggleWrapperScrollEventsSubscription:function(r){var e=fe(td,this.NAME);B.off(this._$wrapper,e),r&&B.on(this._$wrapper,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(t){t||this._toggleGestureCoverImpl(t)},_clearSelection:Z,isNative:!0},t=>{var n=t.originalEvent.originalEvent,{type:i}=n||{},o=i==="wheel",a=i==="mousemove",s=o&&!ii(t);t._cancelPreventDefault=!0,n&&t.cancelable!==!1&&(!a&&!o||s)&&t.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists(){var r=this._positionController.$container;if(r!==void 0){var e=r.length>0;e||Ht.log("W1021",this.NAME)}},_moveToContainer:function(){var r=this._positionController.$container;this._$wrapper.appendTo(r),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(r){var{visible:e}=this.option();e&&yt()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return bn(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var r=this.option("visible"),e=E(ce.getBody()),t=Ye.real().platform==="ios"&&Gr.safari,n=this._isAllWindowCovered(),i=e.hasClass(qT),o=!i&&r&&n,a=i&&(!r||!n||this._disposed);t&&(a?(e.removeClass(qT),Rp.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):o&&(this._cachedBodyScrollTop=Rp.pageYOffset,e.addClass(qT)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var r=this._positionController.$visualContainer,e=ce.getDocumentElement(),t=bn(r.get(0)),n=t?e.clientWidth:er(r),i=t?Rp.innerHeight:Vt(r);this._$wrapper.css({width:n,height:i})},_renderDimensions:function(){var r=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",r),maxWidth:this._getOptionValue("maxWidth",r),minHeight:this._getOptionValue("minHeight",r),maxHeight:this._getOptionValue("maxHeight",r),width:this._getOptionValue("width",r),height:this._getOptionValue("height",r)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=zc.on(this._$content,null,r=>this._keyboardHandler(r))},_keyboardHandler:function(r){var e=r.originalEvent,t=E(e.target);(t.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(r){r?this.option("visible")&&this._renderVisibilityAnimate(r):this._renderVisibilityAnimate(r)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var r=this.option();!this._contentAlreadyRendered&&!r.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){nn.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&xP(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(r){this._$content.toggleClass(Ove,r)},_optionChanged:function(r){var{value:e,name:t}=r;if(this._getActionsList().includes(t)){this._initActions();return}switch(t){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(e).done(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.resolveWith(this)}).fail(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.reject()});break;case"container":this._positionController.updateContainer(e),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(e),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":case"_hideOnParentScrollTarget":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(r);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=e;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(e);break;default:this.callBase(r)}},toggle:function(r){r=r===void 0?!this.option("visible"):r;var e=new X;if(r===this.option("visible"))return e.resolveWith(this,[r]).promise();var t=new X;return this._animateDeferred=t,this.option("visible",r),t.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,e.reject()}),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return ut(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),bl(this._$content)):this.callBase()}});Ks.baseZIndex=r=>Cve(r);Kt("dxOverlay",Ks);var Ave="dx-loadpanel",Pve="dx-loadpanel-wrapper",oG="dx-loadpanel-indicator",aG="dx-loadpanel-message",Mve="dx-loadpanel-content",Fve="dx-loadpanel-content-wrapper",Lve="dx-loadpanel-pane-hidden",OL=Ks.inherit({_supportedKeys:function(){return $(this.callBase(),{escape:Z})},_getDefaultOptions:function(){return $(this.callBase(),{message:J.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return Hi()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}},{device:function(){return Zi()},options:{width:"auto",height:"auto"}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(Ave),this.$wrapper().addClass(Pve),this._setWrapperAria()},_setWrapperAria(){var{message:r}=this.option(),e=Ma()?r:null,t=r?e:J.format("Loading"),n={role:"alert",label:t};this.setAria(n,this.$wrapper())},_renderContentImpl:function(){this.callBase(),this.$content().addClass(Mve),this._$loadPanelContentWrapper=E("<div>").addClass(Fve),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var r=this.option("delay");if(!r)return this.callBase();var e=new X,t=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){t().done(function(){e.resolve()})},r),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var r=this.option("message");if(r){var e=E("<div>").addClass(aG).text(r);this._$loadPanelContentWrapper.append(e)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=E("<div>").addClass(oG).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Ra,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+aG).remove(),this.$content().find("."+oG).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(Lve,!this.option("showPane"))},_optionChanged:function(r){switch(r.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),this._setWrapperAria();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(r)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});Kt("dxLoadPanel",OL);var Nve=["year","month","day"],kve=["year","month","day","hour","minute"],TP=function(r){return r==="date"||r==="datetime"},YT=function(r){var e,t=[],n=["year","month","day","hour","minute","second"],i=r.headerFilter&&r.headerFilter.groupInterval,o=i==="quarter"?"month":i;if(TP(r.dataType)&&i!==null)return t=r.dataType==="datetime"?kve:Nve,e=n.indexOf(o),e>=0&&(t=n.slice(0,e),t.push(i)),t;if(L(i))return Array.isArray(i)?i:[i]};const Wh=function(){var r=function(i,o){var a=i.dataField||i.selector;return o==="search"&&(a=i.displayField||i.calculateDisplayValue||a),a},e=function(i,o){var a,s,l,u=r(this,o);if(Array.isArray(i)&&L(i[0])&&L(i[1]))return s=[u,">=",i[0]],l=[u,"<=",i[1]],TP(this.dataType)&&(c=i[1],c.getHours()+c.getMinutes()+c.getSeconds()+c.getMilliseconds()<1)&&(a=new Date(i[1].getTime()),this.dataType==="date"&&a.setDate(i[1].getDate()+1),l=[u,"<",a]),[s,"and",l];var c},t=function(i,o,a){var s,l,u,c=function(h){return Zo(h)?[h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()]:Gn((""+h).split("/"),function(p,f){return f===1?Number(p)-1:Number(p)})}(i),d=r(this,a);switch(a==="headerFilter"?u=YT(this)[c.length-1]:this.dataType==="datetime"&&(u="minute"),u){case"year":s=new Date(c[0],0,1),l=new Date(c[0]+1,0,1);break;case"month":s=new Date(c[0],c[1],1),l=new Date(c[0],c[1]+1,1);break;case"quarter":s=new Date(c[0],3*c[1],1),l=new Date(c[0],3*c[1]+3,1);break;case"hour":s=new Date(c[0],c[1],c[2],c[3]),l=new Date(c[0],c[1],c[2],c[3]+1);break;case"minute":s=new Date(c[0],c[1],c[2],c[3],c[4]),l=new Date(c[0],c[1],c[2],c[3],c[4]+1);break;case"second":s=new Date(c[0],c[1],c[2],c[3],c[4],c[5]),l=new Date(c[0],c[1],c[2],c[3],c[4],c[5]+1);break;default:s=new Date(c[0],c[1],c[2]),l=new Date(c[0],c[1],c[2]+1)}switch(o){case"<":return[d,"<",s];case"<=":return[d,"<",l];case">":return[d,">=",l];case">=":return[d,">=",s];case"<>":return[[d,"<",s],"or",[d,">=",l]];default:return[[d,">=",s],"and",[d,"<",l]]}},n=function(i,o,a){var s=r(this,a),l=YT(this);if(a==="headerFilter"&&l&&L(i)){var u=(""+i).split("/"),c=Number(u[u.length-1]),d=l[u.length-1],h=[s,">=",c],p=[s,"<",c+d],f=[h,"and",p];return f}return[s,o||"=",i]};return{defaultCalculateFilterExpression:function(i,o,a){var s=this,l=r(s,a),u=s.calculateDisplayValue&&a==="search",c=u&&s.lookup&&s.lookup.dataType||s.dataType,d=null;if((a==="headerFilter"||a==="filterBuilder")&&i===null)d=[l,o||"=",null],c==="string"&&(d=[d,o==="="?"or":"and",[l,o||"=",""]]);else if(c==="string"&&(!s.lookup||u))d=[l,o||"contains",i];else{if(o==="between")return e.apply(s,[i,a]);if(TP(c)&&L(i))return t.apply(s,arguments);if(c==="number")return n.apply(s,arguments);d=[l,o||"=",i]}return d},getGroupInterval:YT}}();var Vve="dx-selection-disabled",Bve="dx-datagrid-group-opened",Hve="dx-datagrid-group-closed",Gve="dx-datagrid-expand",$ve="nodata",Wve="infinite",sG="virtual",zve="scrolling.legacyMode",lG="scrolling.mode",Uve="scrolling.rowRenderingMode",jve={year:r=>r&&r.getFullYear(),month:r=>r&&r.getMonth()+1,day:r=>r&&r.getDate(),quarter:r=>r&&Math.floor(r.getMonth()/3)+1,hour:r=>r&&r.getHours(),minute:r=>r&&r.getMinutes(),second:r=>r&&r.getSeconds()},Kve=function(){var r=arguments[1],e=this.calculateCellValue(r);if(!L(e))return null;if(NY(this.dataType)){var t=arguments[0];return jve[t](e)}if(this.dataType==="number"){var n=arguments[0];return Math.floor(Number(e)/n)*n}},qve=function(r,e){return Ne(r)&&Ne(e)&&r.originalCallback&&e.originalCallback?r.originalCallback===e.originalCallback&&r.columnIndex===e.columnIndex:r===e};function NY(r){return r==="date"||r==="datetime"}var uG=function(r){r.get(0).textContent=""},XT=function(r){r=r||[];for(var e=Tu(r),t=0;t<r.length;t++)r&&r[t]&&r[t].isExpanded!==void 0&&(e[t].isExpanded=r[t].isExpanded),r&&r[t]&&r[t].groupInterval!==void 0&&(e[t].groupInterval=r[t].groupInterval);return e},kY=function(r,e){var t=eY.format(r,e.format)||r&&r.toString()||"",n={value:r,valueText:e.getDisplayFormat?e.getDisplayFormat(t):t,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,n):n.valueText},cG=function(r,e){var t=r.displayFormat||r.columnCaption&&e["".concat(r.summaryType,"OtherColumn")]||e[r.summaryType];return kY(r.value,{format:r.valueFormat,getDisplayFormat:n=>t?kl(t,n,r.columnCaption):n,customizeText:r.customizeText})},dG=function(r){var e=r.data&&r.data(),t=e&&e.dxComponents,n=t&&t[0];return n&&e[n]},Yve=function r(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}return Ne(e)&&e.columnIndex>=0&&Ne(t)&&t.columnIndex>=0?e.columnIndex===t.columnIndex&&wi(e.filterValue)===wi(t.filterValue)&&wi(e.selectedFilterOperation)===wi(t.selectedFilterOperation):wi(e)==wi(t)};function Xve(r){return Array.isArray(r)||(r=[r]),r.map((e,t)=>ft(e)?{selector:e,isExpanded:t<r.length-1}:e)}const ye={renderNoDataText(r){if(r=r||this.element(),!!r){var e=this.addWidgetPrefix($ve),t=r.find(".".concat(e)).last(),n=this._dataController.isEmpty(),i=this._dataController.isLoading();t.length||(t=E("<span>").addClass(e)),t.parent().is(r)||t.appendTo(r),n&&!i?t.removeClass("dx-hidden").text(this._getNoDataText()):t.addClass("dx-hidden")}},renderLoadPanel(r,e,t){var n;this._loadPanel&&this._loadPanel.$element().remove(),n=this.option("loadPanel"),n&&(n.enabled==="auto"?!t:n.enabled)?(n=$({shading:!1,message:n.text,container:e},n),this._loadPanel=this._createComponent(E("<div>").appendTo(e),OL,n)):this._loadPanel=null},calculateLoadPanelPosition(r){var e=E(Rt());return Dt(r)>Dt(e)?{of:e,boundary:r,collision:"fit"}:{of:r}},getIndexByKey(r,e,t){var n=-1;if(r!==void 0&&Array.isArray(e)){t=arguments.length<=2?"key":t;for(var i=0;i<e.length;i++){var o=L(t)?e[i][t]:e[i];if(Mr(r,o)){n=i;break}}}return n},combineFilters(r,e){var t,n=[];e=e||"and";for(var i=0;i<r.length;i++)if(r[i]){if(((t=r[i])===null||t===void 0?void 0:t.length)===1&&r[i][0]==="!"){if(e==="and")return["!"];if(e==="or")continue}n.length&&n.push(e),n.push(r[i])}if(n.length===1&&(n=n[0]),n.length)return n},checkChanges(r,e){for(var t=0,n=0;n<e.length;n++)r[e[n]]&&t++;return r.length&&r.length===t},equalFilterParameters:Yve,proxyMethod(r,e,t){r[e]||(r[e]=function(){var n=this._dataSource;return n?n[e].apply(n,arguments):t})},formatValue:kY,getFormatOptionsByColumn:(r,e)=>({format:r.format,getDisplayFormat:r.getDisplayFormat,customizeText:r.customizeText,target:e,trueText:r.trueText,falseText:r.falseText}),getDisplayValue(r,e,t,n){return r.displayValueMap&&r.displayValueMap[e]!==void 0?r.displayValueMap[e]:r.calculateDisplayValue&&t&&n!=="group"?r.calculateDisplayValue(t):r.lookup&&!(n==="group"&&(r.calculateGroupValue||r.calculateDisplayValue))?r.lookup.calculateCellValue(e):e},getGroupRowSummaryText(r,e){for(var t="(",n=0;n<r.length;n++){var i=r[n];t+=(n>0?", ":"")+cG(i,e)}return t+")"},getSummaryText:cG,normalizeSortingInfo:XT,getFormatByDataType(r){switch(r){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(r,e){var t=[],n=r.dataField||r.name,i=Wh.getGroupInterval(r);return i?(U(i,(o,a)=>{t.push(e?{selector:n,groupInterval:a,isExpanded:o<i.length-1}:Kve.bind(r,a))}),t):(e?t=[{selector:n,isExpanded:!1}]:(t=function(o){var a=r.calculateCellValue(o);return(a===void 0||a==="")&&(a=null),a},r.sortingMethod&&(t=[{selector:t,compare:r.sortingMethod.bind(r)}])),t)},equalSortParameters(r,e,t){if(r=XT(r),e=XT(e),Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;for(var n=0;n<r.length;n++)if(!qve(r[n].selector,e[n].selector)||r[n].desc!==e[n].desc||r[n].groupInterval!==e[n].groupInterval||!t&&!!r[n].isExpanded!=!!e[n].isExpanded)return!1;return!0}return(!r||!r.length)==(!e||!e.length)},getPointsByColumns(r,e,t,n){for(var i=r.length,o=!1,a,s,l=n||0,u=[],c,d=0;d<=i;d++){d<i&&(a=r.eq(d),s=a.offset(),c=a.css("direction")==="rtl");var h={index:l,x:s?s.left+(!t&&c^d===i?Dn(a[0]).width:0):0,y:s?s.top+(t&&d===i?Dn(a[0]).height:0):0,columnIndex:l};if(!t&&d>0){var p=r.eq(d-1).offset();p.top<h.y&&(h.y=p.top)}e&&(o=e(h)),o||u.push(h),l++}return u},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(r,e){var t=E(r);if(L(e.value)&&!(e.data&&e.data.isContinuation)&&!e.row.isNewRow){var n=e.component.getView("rowsView");t.addClass(Gve).addClass(Vve),E("<div>").addClass(e.value?Bve:Hve).appendTo(t),n.setAria("label",e.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),t)}else uG(t)}}),setEmptyText:uG,isDateType:NY,getSelectionRange(r){try{if(r)return{selectionStart:r.selectionStart,selectionEnd:r.selectionEnd}}catch{}return{}},setSelectionRange(r,e){try{r&&r.setSelectionRange&&r.setSelectionRange(e.selectionStart,e.selectionEnd)}catch{}},focusAndSelectElement(r,e){var t=e.is(":focus");B.trigger(e,"focus");var n=r.option("editing.selectTextOnEditStart"),i=e.get(0);if(!t&&n&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){var o=dG(e.closest(".dx-texteditor"));$e(o&&o._loadItemDeferred).done(()=>{i.select()})}},getWidgetInstance:dG,getLastResizableColumnIndex(r,e){var t=r.some(s=>s&&!s.command&&!s.fixed&&s.allowResizing!==!1),n;for(n=r.length-1;r[n];n--){var i=r[n],o=e&&e[n],a=!t||i.allowResizing!==!1;if(!i.command&&!i.fixed&&o!=="adaptiveHidden"&&a)break}return n},isElementInCurrentGrid(r,e){if(e&&e.length){var t=e.closest(".".concat(r.getWidgetContainerClass())).parent();return t.is(r.component.$element())}return!1},isVirtualRowRendering(r){var e=r.option(Uve),t=r.option(lG)===sG,n=r.option(lG)===Wve;return r.option(zve)===!1&&(t||n)?!0:e===sG},getPixelRatio:r=>r.devicePixelRatio||1,getContentHeightLimit(r){return r.mozilla?8e6:15e6/this.getPixelRatio(Rt())},normalizeLookupDataSource(r){var e;return r.items?e=r.items:(e=r.dataSource,Ne(e)&&!Xi.isWrapped(e)&&(e=e({}))),Tv(e)},getWrappedLookupDataSource(r,e,t){if(!e)return[];var n=this.normalizeLookupDataSource(r.lookup);if(r.calculateCellValue!==r.defaultCalculateCellValue)return n;var i=e.remoteOperations().groupPaging,o=r.displayField&&ft(r.displayField),a,s,l,u=(d,h)=>{var p,f=(p=h.skip)!==null&&p!==void 0?p:0,v=h.take?f+h.take:d.length;return d.slice(f,v)},c=b(b({},n),{__dataGridSourceFilter:t,load:d=>{var h=new X;return(p=>{var f=Xve(o?[r.dataField,r.displayField]:r.dataField),v=new X,g=a&&(!i||p.skip===l&&p.take===s);return g?v.resolve(u(a,p)):(l=p.skip,s=p.take,e.load({filter:t,group:f,take:i?p.take:void 0,skip:i?p.skip:void 0}).done(m=>{a=m,v.resolve(i?m:u(m,p))}).fail(v.fail)),v})(d).done(p=>{if(p.length===0){h.resolve([]);return}var f=this.combineFilters(p.flatMap(g=>g.key).map(g=>[r.lookup.valueExpr,g]),"or"),v=new Ou(b(b(b({},n),d),{filter:this.combineFilters([f,d.filter],"and"),paginate:!1}));v.load().done(h.resolve).fail(h.fail)}).fail(h.fail),h},key:r.lookup.valueExpr,byKey(d){var h=X();return this.load({filter:[r.lookup.valueExpr,"=",d]}).done(p=>{h.resolve(p[0])}),h.promise()}});return c},logHeaderFilterDeprecatedWarningIfNeed(r){var e=r._logDeprecatedOptionWarning.bind(r);L(r.option("headerFilter.allowSearch"))&&e("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),L(r.option("headerFilter.searchTimeout"))&&e("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});var t=r.NAME==="dxPivotGrid"?"dataSource.fields":"columns",n=r.option(t);if(Array.isArray(n)){var i=o=>{o.forEach(a=>{var s,l=a.headerFilter||{};L(l.allowSearch)&&e("".concat(t,"[].headerFilter.allowSearch"),{since:"23.1",alias:"".concat(t,"[].headerFilter.search.enabled")}),L(l.searchMode)&&e("".concat(t,"[].headerFilter.searchMode"),{since:"23.1",alias:"".concat(t,"[].headerFilter.search.mode")}),!((s=a.columns)===null||s===void 0)&&s.length&&i(a.columns)})};i(n)}}};var hG="scroll-container",Qve="scrollable-simulated",Zve="group-space",Jve="content",ege="table",tge="table-fixed",rge="content-fixed",ng="dx-row",QT="dx-group-row",nge="dx-group-cell",ZT="dx-master-detail-row",ige="filter-row",oge="dx-error-row",age="cell-updated-animation",VY="0.0001px",JT="dxCellHintVisible",sge="dx-field-item-content",lge={render(r){r.container.append(r.content)}},uge=function(r,e){var t,n,i;function o(a){return setTimeout(()=>{t=n=null},a)}B.on(e,"touchstart touchend",".dx-row",a=>{clearTimeout(i),a.type==="touchstart"?(t=a.target,n=a.currentTarget,i=o(1e3)):i=o()}),B.on(e,[sr,EC,Yt.down].join(" "),".dx-row",r.createAction(a=>{var{event:s}=a;t&&(s.target=t,s.currentTarget=n),E(s.target).closest("a").length||(a.rowIndex=r.getRowIndex(s.currentTarget),a.rowIndex>=0&&(a.rowElement=ut(E(s.currentTarget)),a.columns=r.getColumns(),s.type===Yt.down?r._rowPointerDown(a):s.type===sr?r._rowClick(a):r._rowDblClick(a)))}))},Wy=function(r){return r==="auto"?"":Tr(r)?"".concat(r,"px"):r},pG=function(r,e,t){r.style.width=r.style.maxWidth=e.width==="auto"?"":t},cge=function(r,e){if(!(!r||!e)){var t=r.attributes,n=e.attributes,i;for(i=0;i<t.length;i++){var o=t[i].nodeName;e.hasAttribute(o)||r.removeAttribute(o)}for(i=0;i<n.length;i++)r.setAttribute(n[i].nodeName,n[i].nodeValue)}},dge=function(r){r.resolve()},BY=r=>typeof r=="number"?"".concat(r.toFixed(3),"px"):r==="adaptiveHidden"?VY:r,hge=kr.View.inherit(zue);class NC extends hge{_createScrollableOptions(){var e=this.option("scrolling"),t=this.option("scrolling.useNative"),n=$({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return t===void 0&&(t=!0),t==="auto"?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!t,n.useSimulatedScrollbar=!t),n}_updateCell(e,t){t.rowType&&this._cellPrepared(e,t)}_createCell(e){var{column:t}=e,n=t.alignment||ud(this.option("rtlEnabled")),i=ce.createElement("td");i.style.textAlign=n;var o=E(i);return e.rowType==="data"&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,o),t.cssClass&&o.addClass(t.cssClass),Array.isArray(t.elementAttr)&&t.elementAttr.forEach(a=>{var{name:s,value:l}=a;o.attr(s,l)}),t.command==="expand"&&(o.addClass(t.cssClass),o.addClass(this.addWidgetPrefix(Zve))),t.colspan>1?o.attr("colSpan",t.colspan):!t.isBand&&t.visibleWidth!=="auto"&&this.option("columnAutoWidth")&&((t.width||t.minWidth)&&(i.style.minWidth=Wy(t.minWidth||t.width)),t.width&&pG(i,t,Wy(t.width))),o}_createRow(e,t){t=t||"tr";var n=E("<".concat(t,">")).addClass(ng);return this.setAria("role","row",n),n}_isAltRow(e){return e&&e.dataIndex%2===1}_createTable(e,t){var n=E("<table>").addClass(this.addWidgetPrefix(ege)).addClass(this.addWidgetPrefix(tge));if(e&&!t?(n.attr("id","dx-".concat(new dn)).append(this._createColGroup(e)),Gr.safari&&n.append(E("<thead>").append("<tr>")),this.setAria("role","presentation",n)):this.setAria("hidden",!0,n),this.setAria("role","presentation",E("<tbody>").appendTo(n)),t)return n;Gr.mozilla&&B.on(n,"mousedown","td",o=>{o.ctrlKey&&o.preventDefault()}),this.option("cellHintEnabled")&&B.on(n,"mousemove",".dx-row > td",this.createAction(o=>{var a=o.event,s=E(a.target),l=E(a.currentTarget),u=l.parent(),c=this._columnsController.getVisibleColumns(),d=u.data("options"),h=l.index(),p=d&&d.cells&&d.cells[h],f=p?p.column:c[h],v=u.hasClass("dx-header-row"),g=u.hasClass("dx-data-row"),m=u.hasClass(ZT),C=u.hasClass(QT),y=u.hasClass(this.addWidgetPrefix(ige)),w=g&&(!f||f.cellTemplate),T=g&&p&&(d.isEditing||p.isEditing||(f==null?void 0:f.showEditorAlways)),S=v&&(!f||f.headerCellTemplate),x=C&&(!f||f.groupIndex&&f.groupCellTemplate),I=!m&&!y&&!T&&!w&&!S&&!x;if(I){s.data(JT)&&(s.removeAttr("title"),s.data(JT,!1));var R=s[0].scrollWidth-s[0].clientWidth;R>0&&!L(s.attr("title"))&&(s.attr("title",s.text()),s.data(JT,!0))}}));var i=o=>{var a=E(o.currentTarget),s=E(o.target).closest(".".concat(sge)),l=a.parent(),u=l.data("options"),c=u&&u.cells&&u.cells[a.index()];if(a.closest("table").is(o.delegateTarget)){var d=$({},c,{cellElement:ut(a),event:o,eventType:o.type});if(d.rowIndex=this.getRowIndex(l),s.length){var h=s.data("dx-form-item");h.column&&(d.column=h.column,d.columnIndex=this._columnsController.getVisibleIndex(d.column.index))}return d}};return B.on(n,"mouseover",".dx-row > td",o=>{var a=i(o);a&&this.executeAction("onCellHoverChanged",a)}),B.on(n,"mouseout",".dx-row > td",o=>{var a=i(o);a&&this.executeAction("onCellHoverChanged",a)}),B.on(n,sr,".dx-row > td",o=>{var a=i(o);a&&this.executeAction("onCellClick",a)}),B.on(n,EC,".dx-row > td",o=>{var a=i(o);a&&this.executeAction("onCellDblClick",a)}),uge(this,n),n}_rowPointerDown(){}_rowClick(){}_rowDblClick(){}_createColGroup(e){for(var t=E("<colgroup>"),n=0;n<e.length;n++)for(var i=e[n].colspan||1,o=0;o<i;o++)t.append(this._createCol(e[n]));return t}_createCol(e){var t=e.visibleWidth||e.width;t==="adaptiveHidden"&&(t=VY);var n=E("<col>");return GA(n,t),n}renderDelayedTemplates(e){var t=this._delayedTemplates,n=t.filter(o=>!o.async),i=t.filter(o=>o.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(i)}_renderDelayedTemplatesCoreAsync(e){if(e.length){var t=Rt().setTimeout(()=>{this._templateTimeouts.delete(t),this._renderDelayedTemplatesCore(e,!0)});this._templateTimeouts.add(t)}}_renderDelayedTemplatesCore(e,t,n){for(var i=new Date;e.length;){var o=e.shift(),{options:a}=o,s=ce.getRootNode(E(a.container).get(0)),l=this.needWaitAsyncTemplates();if((!t||E(a.container).closest(s).length||l)&&(n&&(a.change=n),o.template.render(a)),t&&new Date-i>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(e,t){var n;if(e&&e.render&&!Pa(e))n={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render(o){e.render(o.container,o.model,o.change),o.deferred&&o.deferred.resolve()}};else if(Ne(e))n={render(o){var a=e(ut(o.container),o.model,o.change);a&&(a.nodeType||Pa(a))&&o.container.append(a),o.deferred&&o.deferred.resolve()}};else{var i=ft(e)?e:E(e).attr("id");i?(this._templatesCache[i]||(this._templatesCache[i]=this.getTemplate(e)),n=this._templatesCache[i]):n=this.getTemplate(e)}return n}renderTemplate(e,t,n,i,o){var a,s=this._processTemplate(t,n),{column:l}=n,u=n.rowType==="data",c=new X,d={container:e,model:n,deferred:c,onRendered:()=>{this.isDisposed()?c.reject():c.resolve()}};if(s){n.component=this.component;var h=l&&(l.renderAsync&&u||this.option("renderAsync")&&(l.renderAsync!==!1&&(l.command||l.showEditorAlways)&&u||n.rowType==="filter")),p=(a=n.renderAsync)!==null&&a!==void 0?a:h;(s.allowRenderToDetachedContainer||i)&&!p?s.render(d):this._delayedTemplates.push({template:s,options:d,async:p}),this._templateDeferreds.add(c),B.on(e,yo,dge.bind(null,c))}else c.reject();return c.promise().always(()=>{this._templateDeferreds.delete(c)})}_getBodies(e){return E(e).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(e){var t,n=!!this.option().rowTemplate;return n&&!!(!((t=this._getBodies(e))===null||t===void 0)&&t.filter(".".concat(ng)).length)}_wrapRowIfNeed(e,t,n){var i=n?e||this._tableElement:this._tableElement||e,o=this._needWrapRow(i);if(o){var a=E("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",a),a.append(t)}return t}_appendRow(e,t,n){n=n||lge,n.render({content:t,container:e})}_resizeCore(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}_renderCore(e){var t=this.element().parent();(!t||t.parent().length)&&this.renderDelayedTemplates(e)}_renderTable(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();var t=e.change&&e.change.changeType,n=this._createTable(e.columns,t==="append"||t==="prepend"||t==="update");return this._renderRows(n,e),n}_renderRows(e,t){for(var n=this._getRows(t.change),i=t.change&&t.change.columnIndices||[],o=t.change&&t.change.changeTypes||[],a=0;a<n.length;a++)this._renderRow(e,$({row:n[a],columnIndices:i[a],changeType:o[a]},t))}_renderRow(e,t){t.columnIndices||(t.row.cells=[]);var n=this._createRow(t.row),i=this._wrapRowIfNeed(e,n);t.changeType!=="remove"&&this._renderCells(n,t),this._appendRow(e,i);var o=$({columns:t.columns},t.row);this._addWatchMethod(o,t.row),this._rowPrepared(i,o,t.row)}_needRenderCell(e,t){return!t||t.indexOf(e)>=0}_renderCells(e,t){for(var n=0,{row:i}=t,{columns:o}=t,a=0;a<o.length;a++)this._needRenderCell(a,t.columnIndices)&&this._renderCell(e,$({column:o[a],columnIndex:n,value:i.values&&i.values[n],oldValue:i.oldValues&&i.oldValues[n]},t)),o[a].colspan>1?n+=o[a].colspan:n++}_updateCells(e,t,n){var i=e.children(),o=t.children(),a=this.option("highlightChanges"),s=this.addWidgetPrefix(age);n.forEach((l,u)=>{var c=i.eq(l),d=o.eq(u);c.replaceWith(d),a&&!d.hasClass("dx-command-expand")&&d.addClass(s)}),cge(e.get(0),t.get(0))}_setCellAriaAttributes(e,t){if(t.rowType!=="freeSpace"){this.setAria("role","gridcell",e);var n=this._columnsController.getColumnIndexOffset(),i=t.columnIndex+n+1;this.setAria("colindex",i,e)}}_renderCell(e,t){var n=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){var i=t.row.cells.findIndex(a=>a.columnIndex===n.columnIndex);t.row.cells[i]=n}}else t.row.cells.push(n);var o=this._createCell(n);return this._setCellAriaAttributes(o,n),this._renderCellContent(o,n,t),e.get(0).appendChild(o.get(0)),o}_renderCellContent(e,t,n){var i=this._getCellTemplate(t);$e(!i||this.renderTemplate(e,i,t,void 0,n.change)).done(()=>{this._updateCell(e,t)})}_getCellTemplate(e){}_getRows(e){return[]}_getCellOptions(e){var t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t}_addWatchMethod(e,t){if(this.option("repaintChangesOnly")){var n=[];return t=t||e,t.watch=t.watch||function(i,o,a){var s=i(t.data),l=function(u){u&&a&&a(u);var c=i(t.data);JSON.stringify(s)!==JSON.stringify(c)&&(u&&o(c),s=c)};return n.push(l),function(){var u=n.indexOf(l);u>=0&&n.splice(u,1)}},t.update=t.update||function(i,o){i&&(this.data=e.data=i.data,this.rowIndex=e.rowIndex=i.rowIndex,this.dataIndex=e.dataIndex=i.dataIndex,this.isExpanded=e.isExpanded=i.isExpanded,e.row&&!o&&(e.row=i)),n.forEach(a=>{a(i)})},t!==e&&(e.watch=t.watch.bind(t)),e}}_cellPrepared(e,t){t.cellElement=ut(E(e)),this.executeAction("onCellPrepared",t)}_rowPrepared(e,t,n){on(e.get(0),"options",t),t.rowElement=ut(e),this.executeAction("onRowPrepared",t)}_columnOptionChanged(e){var{optionNames:t}=e;if(ye.checkChanges(t,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),i=n.map(o=>o.visibleWidth||o.width);this.setColumnWidths({widths:i,optionNames:t});return}this._requireReady||this.render()}getCellIndex(e){var t=e.length?e[0].cellIndex:-1;return t}getTableElements(){return this._tableElement||E()}getTableElement(e){return this._tableElement}setTableElement(e,t){this._tableElement=e}optionChanged(e){switch(super.optionChanged(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":case"keyboardNavigation":this._invalidate(!0,!0),e.handled=!0}}init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:e=>{this._afterRowPrepared(e)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}_afterRowPrepared(e){}_handleDataChanged(){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}scrollTo(e){var t=this.element(),n=t&&t.children(".".concat(this.addWidgetPrefix(hG))).not(".".concat(this.addWidgetPrefix(rge)));L(e)&&L(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))}_getContent(e){var t;return(t=this._tableElement)===null||t===void 0?void 0:t.parent()}_removeContent(e){var t=this._getContent(e);t!=null&&t.length&&t.remove()}_wrapTableInScrollContainer(e,t){var n=E("<div>"),i=this.option("scrolling.useNative");return(i===!1||i==="auto"&&!Bh)&&n.addClass(this.addWidgetPrefix(Qve)),B.on(n,"scroll",()=>{var o=n.scrollLeft();o!==this._scrollLeft&&this.scrollChanged.fire({left:o},this.name)}),n.addClass(this.addWidgetPrefix(Jve)).addClass(this.addWidgetPrefix(hG)).append(e).appendTo(this.element()),this.setAria("role","presentation",n),n}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&this.option("renderAsync")===!1}waitAsyncTemplates(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=new X,n=e||this.needWaitAsyncTemplates();if(!n)return t.resolve();var i=()=>$e.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?t.reject():this._templateDeferreds.size>0?i():t.resolve()}).fail(t.reject);return i(),t.promise()}_updateContent(e,t,n){return this.waitAsyncTemplates().done(()=>{this._removeContent(n),this.setTableElement(e,n),this._wrapTableInScrollContainer(e,n)})}_findContentElement(){}_getWidths(e){if(!e)return[];var t=[],n=e.toArray();return n.forEach(i=>{var o=i.offsetWidth;if(i.getBoundingClientRect){var a=Dn(i);a.width>i.offsetWidth-1&&(o=a.width)}t.push(o)}),t}getColumnWidths(e){if((this.option("forceApplyBindings")||Z)(),e=e??this.getTableElement(),e)for(var t=e.children("tbody:not(.dx-header)").children(),n=0;n<t.length;n++){var i=t.eq(n),o=i.hasClass(QT),a=i.hasClass(ZT),s=i.hasClass(oge),l=i.get(0).style.display!=="none"&&!i.hasClass("dx-state-invisible"),u=!o&&!a&&!s;if(l&&u){var c=i.children("td"),d=this._getWidths(c);return d}}return[]}getVisibleColumnIndex(e,t){return e}setColumnWidths(e){var{widths:t,optionNames:n}=e,i=this.getTableElement();if(!(!(i!=null&&i.length)||!t)){var o=this.getColumns(),a=this.option("columnAutoWidth"),s=i.children("colgroup").children("col");s.toArray().forEach(l=>l.removeAttribute("style")),o.forEach((l,u)=>{if(a&&l.width&&!l.command)for(var c=Wy(l.visibleWidth||l.width),d=Wy(l.minWidth||c),h=i.children().children(".dx-row").not(".".concat(ZT)),p=0;p<h.length;p++){var f=this.getVisibleColumnIndex(u,p);if(f>=0){var v=h.eq(p),g=v.hasClass(QT)?v.find("td[aria-colindex='".concat(f+1,"']:not(.").concat(nge,")")):v.find("td").eq(f);if(g.length){var m=g.get(0);pG(m,l,c),m.style.minWidth=d}}}var C=BY(t[u]);L(C)&&GA(s.eq(u),C)})}}getCellElements(e){return this._getCellElementsCore(e)}_getCellElementsCore(e){if(!(e<0)){var t=this._getRowElements().eq(e);return t.children()}}_getCellElement(e,t){var n=this.getCellElements(e),i=this._getVisibleColumnIndex(n,e,t);if(!(!(n!=null&&n.length)||i<0)){var o=n.eq(i);return o.length>0?o:void 0}}_getRowElement(e){var t=this,n=E(),i=t.getTableElements();if(U(i,(o,a)=>{n=n.add(t._getRowElements(E(a)).eq(e))}),n.length)return n}getCellElement(e,t){var n=this._getCellElement(e,t);if(n)return ut(n)}getRowElement(e){var t=this._getRowElement(e),n=[];if(t&&!ut(t).get)for(var i=0;i<t.length;i++)n.push(t[i]);else n=t;return n}_getVisibleColumnIndex(e,t,n){if(ft(n)){var i=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(i)}return n}getColumnElements(){}getColumns(e){return this._columnsController.getVisibleColumns(e)}getCell(e,t,n){var i=t||this._getRowElements(),o;if(i.length>0&&e.rowIndex>=0&&(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<i.length?e.rowIndex:i.length-1),o=n||this.getCellElements(e.rowIndex),(o==null?void 0:o.length)>0))return o.eq(o.length>e.columnIndex?e.columnIndex:o.length-1)}getRowsCount(){var e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0}_getRowElementsCore(e){if(e=e||this.getTableElement(),e){var t=this.option().rowTemplate||this.option("dataRowTemplate"),n=t&&e.find("> tbody.".concat(ng));return n&&n.length?n:e.find("> tbody > "+".".concat(ng,", > .").concat(ng))}return E()}_getRowElements(e){return this._getRowElementsCore(e)}getRowIndex(e){return this._getRowElements().index(e)}getBoundingRect(){}getName(){}setScrollerSpacing(e){var t=this.element(),n=this.option("rtlEnabled");t&&t.css({paddingLeft:n?e:"",paddingRight:n?"":e})}isScrollbarVisible(e){var t=this.element(),n=this._tableElement;return t&&n?e?er(n)-gt(t)>0:Vt(n)-Dt(t)>0:!1}isDisposed(){var e;return(e=this.component)===null||e===void 0?void 0:e._disposed}dispose(){var e,t;if(yt()){var n=Rt();(e=this._templateTimeouts)===null||e===void 0||e.forEach(i=>n.clearTimeout(i)),(t=this._templateTimeouts)===null||t===void 0||t.clear()}}}var eR="text-content",pge="headers",fge="nowrap",vge=".dx-row",fG="dx-header-row",gge="dx-column-lines",mge="context-menu-sort-asc",_ge="context-menu-sort-desc",Cge="context-menu-sort-none",yge="dx-cell-focus-disabled",tR="dx-visibility-hidden",vG="dx-text-content-alignment-",Sge="dx-sort-indicator",wge="dx-sort-index-indicator",bge=".dx-header-filter",Ege="dx-header-filter-indicator",xge="dx-header-multi-row",Ige="dx-link",HY={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:NC.inherit(function(){var r=function(n,i,o){var a=E("<div>").addClass(n.addWidgetPrefix(eR));n.setAria("role","presentation",a),e(n,i,o.column,a);var s=n.option("showColumnLines"),l=n.getController("columns").getHeaderContentAlignment(o.column.alignment);return a[s||l==="right"?"appendTo":"prependTo"](i)};function e(n,i,o,a){var s=n._getIndicatorElements(i,!0),l=n._getIndicatorElements(i),u=s&&s.length,c=n._getColumnAlignment(o.alignment),d=".".concat(n._getIndicatorClassName("sort")),h=".".concat(n._getIndicatorClassName("sortIndex")),p=l.filter(d),f=l.children().filter(h);a=a||i.children(".".concat(n.addWidgetPrefix(eR))),a.toggleClass(vG+c,u>0).toggleClass(vG+(c==="left"?"right":"left"),u>0&&o.alignment==="center").toggleClass(Sge,!!p.length).toggleClass(wge,!!f.length).toggleClass(Ege,!!l.filter(".".concat(n._getIndicatorClassName("headerFilter"))).length)}var t={_createTable(){var n=this.callBase.apply(this,arguments);return B.on(n,"mousedown selectstart",this.createAction(i=>{var{event:o}=i;o.shiftKey&&o.preventDefault()})),n},_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate(n){var i=this;return function(o,a){var{caption:s}=n,l=!n.command||s&&n.command!=="expand";if(n.command==="empty")i._renderEmptyMessage(o,a);else if(l){var u=r(i,o,a);u.text(s)}else n.command&&o.html("&nbsp;")}},_renderEmptyMessage(n,i){var o=this._getEmptyHeaderText();if(!o){n.html("&nbsp;");return}var a=r(this,n,i),s=o.includes("{0}");if(s){var[l,u]=o.split("{0}"),c=J.format("dxDataGrid-emptyHeaderColumnChooserText"),d=this.component.getView("columnChooserView"),h=E("<a>").text(c).addClass(Ige);B.on(h,"click",this.createAction(()=>d.showColumnChooser())),a.append(ce.createTextNode(l)).append(h).append(ce.createTextNode(u))}else a.text(o)},_getEmptyHeaderText(){var n=!!this.component.getView("columnChooserView").hasHiddenColumns(),i=!!this.component.getView("headerPanel").hasGroupedColumns();switch(!0){case(n&&i):return J.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case i:return J.format("dxDataGrid-emptyHeaderWithGroupPanelText");case n:return J.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}},_getHeaderTemplate(n){return n.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(n)}},_processTemplate(n,i){var o=this,a,{column:s}=i,l=o.callBase(n);return i.rowType==="header"&&l&&s.headerCellTemplate&&!s.command?a={render(u){var c=r(o,u.container,u.model);l.render($({},u,{container:c}))}}:a=l,a},_handleDataChanged(n){n.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell(n,i){var o=this.callBase(n,i);return i.row.rowType==="header"&&(o.addClass(yge),this._isLegacyKeyboardNavigation()||i.column&&!i.column.type&&o.attr("tabindex",this.option("tabindex")||0)),o},_setCellAriaAttributes(n,i){this.callBase(n,i),i.rowType==="header"&&(i.column.type||this.setAria("role","columnheader",n),i.column&&!i.column.command&&!i.column.isBand&&(n.attr("id",i.column.headerId),this.setAria("label","".concat(J.format("dxDataGrid-ariaColumn")," ").concat(i.column.caption),n)))},_createRow(n){var i=this.callBase.apply(this,arguments);return i.toggleClass(gge,this.option("showColumnLines")),n.rowType==="header"&&(i.addClass(fG),this._isLegacyKeyboardNavigation()||Hm("columnHeaders",this,i,"td",this._handleActionKeyDown.bind(this))),i},_handleActionKeyDown(n){var{event:i}=n,o=E(i.target);if(this._lastActionElement=i.target,o.is(bge)){var a=this.getController("headerFilter"),s=o.closest("td"),l=this.getColumnIndexByElement(s);l>=0&&a.showHeaderFilterMenu(l,!1)}else{var u=o.closest(vge);this._processHeaderAction(i,u)}i.preventDefault()},_renderCore(){var n=this.element(),i={};if(!(this._tableElement&&!this._dataController.isLoaded()&&!this._hasRowElements)){n.addClass(this.addWidgetPrefix(pge)).toggleClass(this.addWidgetPrefix(fge),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",n);var o=this._updateContent(this._renderTable({change:i}),i);return this.getRowCount()>1&&n.addClass(xge),this.callBase.apply(this,arguments),o}},_renderRows(){(this._dataController.isLoaded()||this._hasRowElements)&&(this.callBase.apply(this,arguments),this._hasRowElements=!0)},_renderRow(n,i){var o=this.getRowCount()===1?null:i.row.rowIndex;i.columns=this.getColumns(o),this.callBase(n,i)},_createCell(n){var{column:i}=n,o=this.callBase.apply(this,arguments);return i.rowspan>1&&n.rowType==="header"&&o.attr("rowSpan",i.rowspan),o},_getRows(){var n=[],i=this.getRowCount();if(this.option("showColumnHeaders"))for(var o=0;o<i;o++)n.push({rowType:"header",rowIndex:o});return n},_getCellTemplate(n){if(n.rowType==="header")return this._getHeaderTemplate(n.column)},_columnOptionChanged(n){var{changeTypes:i}=n,{optionNames:o}=n;if(i.grouping||i.groupExpanding){i.grouping&&(this._isGroupingChanged=!0);return}this.callBase(n),(o.width||o.visible)&&this.resizeCompleted.fire()},_isElementVisible:n=>n&&n.visible,_alignCaptionByCenter(n){var i=this._getIndicatorContainer(n,!0);i&&i.length&&(i.filter(".".concat(tR)).remove(),i=this._getIndicatorContainer(n),i.clone().addClass(tR).css("float","").insertBefore(n.children(".".concat(this.addWidgetPrefix(eR)))))},_updateCell(n,i){i.rowType==="header"&&i.column.alignment==="center"&&this._alignCaptionByCenter(n),this.callBase.apply(this,arguments)},_updateIndicator(n,i,o){var a=this.callBase.apply(this,arguments);return i.alignment==="center"&&this._alignCaptionByCenter(n),e(this,n,i),a},_getIndicatorContainer(n,i){var o=this.callBase(n);return i?o:o.filter(":not(.".concat(tR,")"))},_isSortableElement:()=>!0,getHeadersRowHeight(){var n=this.getTableElement(),i=n&&n.find(".".concat(fG));return i&&i.toArray().reduce((o,a)=>o+Dt(a),0)||0},getHeaderElement(n){var i=this.getColumnElements();return i&&i.eq(n)},getColumnElements(n,i){var o=this,a,s=o._columnsController,l=o.getRowCount();if(o.option("showColumnHeaders")){if(l>1&&(!L(n)||L(i))){var u=[],c=L(i)?s.getChildrenByBandColumn(i,!0):s.getVisibleColumns();return U(c,(d,h)=>{var p=L(n)?n:s.getRowIndex(h.index);a=o._getCellElement(p,s.getVisibleIndex(h.index,p)),a&&u.push(a.get(0))}),E(u)}if(!n||n<l)return o.getCellElements(n||0)}},getColumnIndexByElement(n){var i=this.getCellIndex(n),o=n.closest(".dx-row"),{rowIndex:a}=o[0],s=this.getColumns(a)[i];return s?s.index:-1},getVisibleColumnIndex(n,i){var o=this.getColumns()[n];return o?this._columnsController.getVisibleIndex(o.index,i):-1},getColumnWidths(){var n=this.getColumnElements();return n&&n.length?this._getWidths(n):this.callBase.apply(this,arguments)},allowDragging(n){var i=n&&this._columnsController.getRowIndex(n.index),o=this.getColumns(i),a=this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering");return a&&n.allowReordering&&o.length>1},getBoundingRect(){var n=this.getColumnElements();if(n&&n.length){var i=this.getTableElement().offset();return{top:i.top}}return null},getName:()=>"headers",getColumnCount(){var n=this.getColumnElements();return n?n.length:0},isVisible(){return this.option("showColumnHeaders")},optionChanged(n){switch(n.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),n.handled=!0;break;default:this.callBase(n)}},getHeight(){return this.getElementHeight()},getContextMenuItems(n){var i=this,{column:o}=n;if(n.row&&(n.row.rowType==="header"||n.row.rowType==="detailAdaptive")){var a=i.option("sorting");if(a&&a.mode!=="none"&&o&&o.allowSorting){var s=function(l){setTimeout(()=>{i._columnsController.changeSortOrder(o.index,l.itemData.value)})};return[{text:a.ascendingText,value:"asc",disabled:o.sortOrder==="asc",icon:mge,onItemClick:s},{text:a.descendingText,value:"desc",disabled:o.sortOrder==="desc",icon:_ge,onItemClick:s},{text:a.clearText,value:"none",disabled:!o.sortOrder,icon:Cge,onItemClick:s}]}}},getRowCount(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity(n,i,o){var a,s,l=this.getRowCount(),u=this._columnsController.getColumns(),c=u&&u[n],d=c&&c.isBand&&c.index,h=(f,v)=>{f.ownerBand===d&&(s.eq(v).css({opacity:i}),f.isBand&&this.setRowsOpacity(f.index,i,a+1))};if(L(d)){for(o=o||0,a=o;a<l;a++)if(s=this.getCellElements(a),s){var p=this.getColumns(a);p.forEach(h)}}}};return t}())}};const at=b(b(b({},kr),ye),{modules:[]});HY.views.columnHeadersView;at.registerModule("columnHeaders",HY);var GY=["filterValues","filterType","fixed","fixedPosition"],Kb=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(GY),Tge={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},Rge="dx-command-expand",gG=Number.MAX_SAFE_INTEGER||9007199254740991,jc="groupExpand",Oge="detailExpand",rR=/columns\[(\d+)\]\.?/gi,Dge={visible:!0,showInColumnChooser:!0},Age={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},Pge={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},pf="group",ff="columnChooser",$Y="number",WY="yyyy/MM/dd",Mge="yyyy/MM/dd HH:mm:ss",zY=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,UY=/^(\d{2}):(\d{2})(:(\d{2}))?$/,mG=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],Fge=/^(\d{4})\/(\d{2})\/(\d{2})$/,Lge=3,jY=function(r,e){var t;return ft(r)&&!e&&(t=kge(r)),t||Nge(r)};function Ki(r){return+r||0}function Nge(r){var e=KY(r)===WY,t=!Zo(r)&&Date.parse(r);if(!t&&e){var n=r.match(Fge);if(n){var i=new Date(Ki(n[1]),Ki(n[2]),Ki(n[3]));return i.setFullYear(Ki(n[1])),i.setMonth(Ki(n[2])-1),i.setDate(Ki(n[3])),i}}return Tr(t)?new Date(t):r}function kge(r){var e=r.match(zY);if(!e)return e=r.match(UY),e?new Date(0,0,0,Ki(e[1]),Ki(e[2]),Ki(e[4])):void 0;var t=Ki(e[1]),n=--e[3],i=e[5],o=0,a=0,s=h=>(t<100&&h.setFullYear(t),h);o=Ki(e[14]),a=Ki(e[16]),e[13]==="-"&&(o=-o,a=-a);var l=Ki(e[6])-o,u=Ki(e[8])-a,c=Ki(e[10]),d=function(h){return h=h||"",Ki(h)*Math.pow(10,Lge-h.length)}(e[11]);return e[12]?s(new Date(Date.UTC(t,n,i,l,u,c,d))):s(new Date(t,n,i,l,u,c,d))}var Vge=function(r,e){var t=r.match(zY),n="";if(!t)return t=r.match(UY),t?t[3]?"HH:mm:ss":"HH:mm":void 0;for(var i=1;i<mG.length;i++)t[i]&&(n+=mG[i]||t[i]);return t[12]==="Z"&&(n+="'Z'"),t[14]&&(t[15]?n+="xxx":t[16]?n+="xx":n+="x"),n},Bge=function(r){return typeof r=="number"?new Date(r):jY(r,!Fr().forceIsoDateParsing)},Hge=function(r,e){return e?Zo(r)?e===$Y?r&&r.valueOf?r.valueOf():null:Y6(e,Tf)(r):null:r},KY=function(r){if(typeof r=="number")return $Y;if(ft(r)){var e;return Fr().forceIsoDateParsing&&(e=Vge(r)),e||(r.indexOf(":")>=0?Mge:WY)}else if(r)return null};const On={dateParser:jY,deserializeDate:Bge,serializeDate:Hge,getDateSerializationFormat:KY};var qY=function(r){r.filterOperations=r.defaultFilterOperations},Gge=1,qx=function(r,e,t,n){var i={};if(e){ft(e)&&(e={dataField:e}),r.setName(e);var o={};if(e.command)o=rs(i,e);else{i=r.getCommonSettings(e),t&&t.name&&t.dataField&&(e=$({},e,{dataField:t.dataField}));var a=r._createCalculatedColumnOptions(e,n);e.type||(o={headerId:"dx-col-".concat(Gge++)}),o=rs(o,Dge),rs(o,i),rs(o,a),rs(o,e),rs(o,{selector:null})}return e.filterOperations===e.defaultFilterOperations&&qY(o),o}},vf=function r(e,t,n){var i=[];return t&&U(t,(o,a)=>{var s=e._columnsUserState&&DL(a,e._columnsUserState[o])&&e._columnsUserState[o],l=qx(e,a,s,n);l&&(n&&(l.ownerBand=n),i.push(l),l.columns&&(i=i.concat(r(e,l.columns,l)),delete l.columns,l.hasColumns=!0))}),i},nh=function(r,e){for(var t=[],n=e[r];n;)t.unshift(n),r=n.index,n=e[r];return t},$ge=function r(e,t,n){var i=[],o=t[e];if(o)for(var a=0;a<o.length;a++){var s=o[a];(!L(s.groupIndex)||s.showWhenGrouped)&&(i.push(s),n&&s.isBand&&(i=i.concat(r(s.index,t,n))))}return i},Wge=function(r,e){var t,n,i=r.getBandColumnsCache(),o=function(s){var l=t?t.index:void 0;return s.ownerBand===l};if(i.isPlain)t=r._columns[e[0]];else{n=r._columns.filter(o);for(var a=0;a<e.length;a++)t=n[e[a]],t&&(n=r._columns.filter(o))}return t},zge=function(r,e){var t=[],n,i=r.getBandColumnsCache(),o=function(s){return s.ownerBand===e.ownerBand};if(i.isPlain){var a=r._columns.indexOf(e);a>=0&&(t=["columns[".concat(a,"]")])}else for(n=r._columns.filter(o);n.length&&n.indexOf(e)!==-1;)t.unshift("columns[".concat(n.indexOf(e),"]")),e=i.columnParentByIndex[e.index],n=e?r._columns.filter(o):[];return t.join(".")},Uge=function r(e,t){var n=0,i=e.getChildrenByBandColumn(t,!0);return U(i,(o,a)=>{a.isBand?(a.colspan=a.colspan||r(e,a.index),n+=a.colspan||1):n+=1}),n},jge=function(r,e,t){for(var n,i=0;i<e.length;i++){var o=e[i];(o.visible||o.command)&&(o.isBand&&(o.colspan=o.colspan||Uge(r,o.index)),(!o.isBand||!o.colspan)&&(n=r.getRowCount(),!o.command&&(!L(o.groupIndex)||o.showWhenGrouped)&&(n-=nh(o.index,t.columnParentByIndex).length),n>1&&(o.rowspan=n)))}},nR=function(r){var e=Aa(r);return e!=="string"&&e!=="boolean"&&e!=="number"&&e!=="date"&&e!=="object"&&(e=void 0),e},_G=function(r,e){switch(r){case"date":case"datetime":return On.getDateSerializationFormat(e);case"number":if(ft(e))return"string";if(Tr(e))return null}},CG=function(r,e){r.deserializeValue||(ye.isDateType(e)&&(r.deserializeValue=function(t){return On.deserializeDate(t)},r.serializeValue=function(t){return ft(t)?t:On.serializeDate(t,this.serializationFormat)}),e==="number"&&(r.deserializeValue=function(t){var n=parseFloat(t);return isNaN(n)?t:n},r.serializeValue=function(t,n){return n==="filter"?t:L(t)&&this.serializationFormat==="string"?t.toString():t}))},Kge=function(r,e){switch(r){case"number":return"right";case"boolean":return"center";default:return ud(e)}},qge=function(r){return r.value===!0?this.trueText||"true":r.value===!1?this.falseText||"false":r.valueText||""},yG=function(r){if(r==="boolean")return qge},Yge=function(r,e){for(var t=r._getFirstItems(e),n,i={},o=[],a=0;a<t.length;a++)if(t[a])for(n in t[a])(!Ne(t[a][n])||Xi.isWrapped(t[a][n]))&&(i[n]=!0);for(n in i)if(n.indexOf("__")!==0){var s=qx(r,n);o.push(s)}return o},YY=function(r){U(r._columns,(e,t)=>{t.index=e}),U(r._columns,(e,t)=>{pt(t.ownerBand)&&(t.ownerBand=t.ownerBand.index)}),U(r._commandColumns,(e,t)=>{t.index=-(e+1)})},XY=function(r,e){x_(r._columns,"groupIndex",e,t=>{var{grouped:n}=t;return delete t.grouped,n})},Xge=function(r,e){U(r._columns,(t,n)=>{L(n.sortIndex)&&!qb(n.sortOrder)&&delete n.sortIndex}),x_(r._columns,"sortIndex",e,t=>!L(t.groupIndex)&&qb(t.sortOrder))},Qge=function(r,e){for(var t,n=[],i=r.getBandColumnsCache(),o=[],a=r._columns.filter(u=>!u.command),s=0;s<a.length;s++){t=a[s];var l=nh(s,i.columnParentByIndex);l.length?o.push(t):n.push(t)}x_(o,"visibleIndex",e),x_(n,"visibleIndex",e)},iR=function(r,e,t){var n=pt(e)?e.rowIndex:null,i=t===pf?r.getGroupColumns():t===ff?r.getChooserColumns():r.getVisibleColumns(n),o;return e=pt(e)?e.columnIndex:e,o=i[e],o&&o.type===jc&&(o=r._columns.filter(a=>o.type===a.type)[0]||o),o&&L(o.index)?o.index:-1},Zge=function(r,e,t){var n=r.getGroupColumns(),i;if(t>=0)for(i=0;i<n.length;i++)n[i].groupIndex>=t&&n[i].groupIndex++;else for(t=0,i=0;i<n.length;i++)t=Math.max(t,n[i].groupIndex+1);return t};function DL(r,e){return r&&e&&e.name===(r.name||r.dataField)&&(e.dataField===r.dataField||r.name)}var SG=function(r){var e=r._columnsUserState,t=r._ignoreColumnOptionNames||[],n=r._columns,i={},o=[],a=!0,s=[],l,u,c;function d(v,g){if(g)for(var m=0;m<Kb.length;m++){var C=Kb[m];t.includes(C)||(C==="dataType"?v[C]=v[C]||g[C]:GY.includes(C)?C in g&&(v[C]=g[C]):(C==="selectedFilterOperation"&&g[C]&&(v.defaultSelectedFilterOperation=v[C]||null),v[C]=g[C]))}}function h(v,g){for(var m=g.name||g.dataField,C=i[m]||0,y=0;y<v.length;y++)if(DL(g,v[y]))if(C)C--;else return i[m]=i[m]||0,i[m]++,y;return-1}if(e){for(c=0;c<n.length;c++)u=h(e,n[c]),a=a&&u>=0,s.push(u);for(c=0;c<n.length;c++)l=n[c],u=s[c],(r._hasUserState||a)&&d(l,e[u]),u>=0&&L(e[u].initialIndex)?o[u]=l:o.push(l);var p=!1;for(c=0;c<e.length;c++){var f=e[c];f.added&&h(n,f)<0&&(l=qx(r,f.added),d(l,f),o.push(l),f.added.columns&&(p=!0))}p&&(YY(r),o=vf(r,o)),gf(r,o)}},Gd=function(r,e){YY(r),XY(r,e),Xge(r,e),QY(r),Qge(r,e)},Yx=function(r){r.resetColumnsCache()};function gf(r,e){r._previousColumns=r._columns,r._columns=e,Yx(r),r.updateColumnDataTypes()}var sl=function(r,e,t,n){var i,o=r._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:n};t=t||"all",t=t.split(".")[0];var{changeTypes:a}=o;e&&!a[e]&&(a[e]=!0,a.length++);var{optionNames:s}=o;t&&!s[t]&&(s[t]=!0,s.length++),(n===void 0||n!==o.columnIndex)&&(L(n)&&((i=o.columnIndices)!==null&&i!==void 0||(o.columnIndices=[]),L(o.columnIndex)&&o.columnIndices.push(o.columnIndex),o.columnIndices.push(n)),delete o.columnIndex),r._columnChanges=o,Yx(r)},ig=function(r){var e=r.option("onColumnsChanging"),t=r._columnChanges,n=["dataField","lookup","dataType","columns"];r.isInitialized()&&!r._updateLockCount&&t&&(e&&(r._updateLockCount++,e($({component:r.component},t)),r._updateLockCount--),r._columnChanges=void 0,i=t.optionNames,i&&n.some(o=>i[o])?(r._reinitAfterLookupChanges=t==null?void 0:t.optionNames.lookup,r.reinit(),r._reinitAfterLookupChanges=void 0):r.columnsChanged.fire(t));var i},Jge=function(r,e,t,n){var i=n>=0;if(t>=0)i||(e.lastSortOrder=e.sortOrder);else{var o=r.option("sorting.mode"),a=e.lastSortOrder;if(o==="single"){var s=r._columns.some(l=>l!==e&&L(l.sortIndex));s&&(a=void 0)}e.sortOrder=a}},eme=function(r,e){var{value:t}=e,{optionName:n}=e,{prevValue:i}=e,{fullOptionName:o}=e,a="".concat(o,".").concat(n);!Tge[n]&&r._skipProcessingColumnsChange!==a&&(r._skipProcessingColumnsChange=a,r.component._notifyOptionChanged(a,t,i),r._skipProcessingColumnsChange=!1)},oR=function(r,e,t,n,i){var o=Ar(t),a=e.index,s,l,u;if(arguments.length===3)return o(e,{functionsAsIs:!0});var c=o(e,{functionsAsIs:!0});if(!Mr(c,n,{maxDepth:5})){t==="groupIndex"||t==="calculateGroupValue"?(l="grouping",Jge(r,e,n,c)):t==="sortIndex"||t==="sortOrder"||t==="calculateSortValue"?l="sorting":l="columns";var d=kF(t);d(e,n,{functionsAsIs:!0});var h=zge(r,e);Pge[t]&&(Gd(r,e),n=o(e)),(t==="name"||t==="allowEditing")&&r._checkColumns(),!L(c)&&!L(n)&&t.indexOf("buffer")!==0&&(i=!0),i?Yx(r):(!Kb.includes(t)&&t!=="visibleWidth"&&(s=r.option("columns"),u=r.getColumnByPath(h,s),ft(u)&&(u=s[a]={dataField:u}),u&&DL(u,e)&&d(u,n,{functionsAsIs:!0})),sl(r,l,t,a)),h&&eme(r,{fullOptionName:h,optionName:t,value:n,prevValue:c})}};function qb(r){return r==="asc"||r==="desc"}var tme=function(r){var e=r._getExpandColumnOptions();r.addCommandColumn(e)},rme=function(r,e){if(this.dataField){var t=this.dataField.split("."),n=t.length-1;this.serializeValue&&(e=this.serializeValue(e));for(var i=0;i<n;i++){var o=t[i];r=r[o]=r[o]||{}}r[t[n]]=e}},nme=function r(e,t,n){var i=[];return t=t||0,e[t]&&U(e[t],(o,a)=>{(a.ownerBand===n||a.type===jc)&&(!a.isBand||!a.colspan?(!a.command||t<1)&&i.push(a):i.push.apply(i,r(e,t+1,a.index)))}),i},ime=function(r){var e=1,t=r.getBandColumnsCache(),{columnParentByIndex:n}=t;return r._columns.forEach(i=>{var o=nh(i.index,n),a=o.filter(s=>!s.visible);i.visible&&!a.length&&(e=Math.max(e,o.length+1))}),e},RP=(r,e)=>{var t=r._columns.filter(n=>n.type===e.type);return!!t.length},wG=function(r,e){var t=r.option("rtlEnabled");return e.command&&!RP(r,e)||!e.fixedPosition?t?"right":"left":e.fixedPosition},bG=function(r,e,t,n){var i,o=this.getRowCount(),a=r[n]&&r[n].rowspan,s=e.filter(l=>l.type===t);return r.forEach((l,u)=>{l.type===t&&(i=u,a=r[u+1]?r[u+1].rowspan:o)}),a>1&&(s=Gn(s,l=>$({},l,{rowspan:a}))),s.unshift.apply(s,L(i)?[i,1]:[n,0]),r.splice.apply(r,s),a||1},ome=function(r){var e;for(e=0;r>1;e++)r/=10;return e},EG=function(r,e){for(var t=r?r.toString():"0";t.length<e;)t="0".concat(t);return t},xG=(r,e,t,n)=>{for(var i,o,a=e.slice().map(p=>$({},p)),s=r._isColumnFixing(),l=t.slice().map(p=>$({fixed:s},p)),u=p=>t.reduce((f,v,g)=>{var m=n&&p.type===jc?"expand":p.type;return v.type===m||v.command===p.command?g:f},-1),c=p=>p.command!==t[o].command,d=0;d<e.length;d++)if(i=e[d],o=i&&(i.type||i.command)?u(i):-1,o>=0)if(n)a[d]=$({fixed:s},t[o],i),i.type!==jc&&(l=l.filter(c));else{var h={visibleIndex:i.visibleIndex,index:i.index,headerId:i.headerId,allowFixing:i.groupIndex===0,allowReordering:i.groupIndex===0,groupIndex:i.groupIndex};a[d]=$({},i,t[o],i.type===jc&&h)}return e.length&&n&&l.length&&(a=a.concat(l)),a},IG=(r,e)=>L(e.fixed)||!e.type?e.fixed:r._isColumnFixing(),ame=r=>{r.forEach(e=>{L(e.ownerBand)&&(e.ownerBand=r[e.ownerBand])})},QY=r=>{r._bandColumnsCache=void 0},TG=(r,e)=>{var t=ft(e)&&e.substr(0,e.indexOf(":")),n;if(e!==void 0)return t&&(e=e.substr(t.length+1)),t?n=r.filter(i=>"".concat(i[t])===e)[0]:["index","name","dataField","caption"].some(i=>(n=r.filter(o=>o[i]===e)[0],!!n)),n},sme=(r,e)=>{if(e!=="asc"&&e!=="desc")return r;var t=e==="asc"?1:-1;return r.sort((n,i)=>{var o=n.caption||"",a=i.caption||"";return t*o.localeCompare(a)}),r},lme=function(r,e){var t=Lr.parse(r);if(Tr(t)){var n=Lr.format(t,e),i=Lr.format(t,"decimal");if(n===r||i===r)return t}};class ume extends kr.Controller{_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:Rge,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(e){var t,n=[];return e&&e.items().length>0&&(t=ye.normalizeSortingInfo(e.group()).length,n=function i(o,a){if(!o||!a)return o;for(var s=0;s<o.length;s++){var l=i(o[s].items||o[s].collapsedItems,a-1);if(l&&l.length)return l}}(e.items(),t)||[]),n}_endUpdateCore(){!this._skipProcessingColumnsChange&&ig(this)}init(e){var t=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!t,this._isColumnsFromOptions?(gf(this,t?vf(this,t):[]),SG(this)):gf(this,this._columnsUserState?vf(this,this._columnsUserState):this._columns),tme(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):Gd(this),this._checkColumns()}callbackNames(){return["columnsChanged"]}getColumnByPath(e,t){var n,i=[];return e.replace(rR,(o,a)=>(i.push(parseInt(a)),"")),i.length&&(t?n=i.reduce((o,a)=>o&&o.columns&&o.columns[a],{columns:t}):n=Wge(this,i)),n}optionChanged(e){var t;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value!==e.previousValue&&!this.option("columns")&&(!Array.isArray(e.value)||!Array.isArray(e.previousValue))&&(this._columns=[]);break;case"columns":t=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),t=!0)),t&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":e.handled=!0;var n=e.fullName==="columnWidth"&&["width"];this.reinit(n);break;case"rtlEnabled":this.reinit();break;default:super.optionChanged(e)}}_columnOptionChanged(e){var t={},n=this.getColumnByPath(e.fullName),i=e.fullName.replace(rR,"");n&&(i?t[i]=e.value:t=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,t),this._skipProcessingColumnsChange=!1)}_updateRequireResize(e){var{component:t}=this;e.fullName.replace(rR,"")==="width"&&t._updateLockCount&&(t._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]}applyDataSource(e,t,n){var i=e&&e.isLoaded();if(this._dataSource=e,!this._dataSourceApplied||this._dataSourceColumnsCount===0||t||this.option("regenerateColumnsByVisibleItems")){if(i){if(!this._isColumnsFromOptions){var o=Yge(this,e);o.length&&(gf(this,o),this._dataSourceColumnsCount=this._columns.length,SG(this))}return this.updateColumns(e,t,n)}this._dataSourceApplied=!1,Gd(this)}else if(i&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(e))return sl(this,"columns"),ig(this),new X().reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,QY(this)}reinit(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(e){var t,n,i=(!e||!e.type)&&this.option("commonColumnSettings")||{},o=(t=this.option("grouping"))!==null&&t!==void 0?t:{},a=(n=this.option("groupPanel"))!==null&&n!==void 0?n:{};return $({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:o.autoExpandAll,allowCollapsing:o.allowCollapsing,allowGrouping:a.allowColumnDragging&&a.visible||o.contextMenuEnabled},i)}isColumnOptionUsed(e){for(var t=0;t<this._columns.length;t++)if(this._columns[t][e])return!0}isAllDataTypesDefined(e){var t=this._columns;if(!t.length)return!1;for(var n=0;n<t.length;n++)if(!(!t[n].dataField&&t[n].calculateCellValue===t[n].defaultCalculateCellValue)&&(!t[n].dataType||e&&t[n].deserializeValue&&t[n].serializationFormat===void 0))return!1;return!0}getColumns(){return this._columns}isBandColumnsUsed(){return this.getColumns().some(e=>e.isBand)}getGroupColumns(){var e=[];return U(this._columns,function(){L(this.groupIndex)&&(e[this.groupIndex]=this)}),e}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=L(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]}getVisibleColumns(e,t){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=L(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]}getFilteringColumns(){return this.getColumns().filter(e=>(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)).map(e=>{var t=$(!0,{},e);return L(t.dataField)||(t.dataField=t.name),t.filterOperations=e.filterOperations!==e.defaultFilterOperations?t.filterOperations:null,t})}getColumnIndexOffset(){return 0}_getFixedColumnsCore(){var e=[],t=this.getRowCount(),n=this._isColumnFixing(),i={command:"transparent"},o=0,a,s,l;if(n)for(var u=0;u<=t;u++){a=0,l=null,s=null;for(var c=this.getVisibleColumns(u,!0),d=0;d<c.length;d++){var h=c[d-1],p=c[d];p.fixed?h&&h.fixed&&wG(this,h)!==wG(this,p)?L(s)||(s=d):l=p.fixedPosition:(u===0&&(p.isBand&&p.colspan?o+=p.colspan:o++),a++,L(s)||(s=d))}if(u===0&&(a===0||a>=c.length))return[];L(s)||(s=l==="right"?0:c.length),e[u]=c.slice(0),i.colspan||(i.colspan=o),e[u].splice(s,a,i)}return e.map(f=>f.map(v=>{var g=b({},v);return g.headerId&&(g.headerId+="-fixed"),g}))}_isColumnFixing(){var e=this.option("columnFixing.enabled");return!e&&U(this._columns,(t,n)=>{if(n.fixed)return e=!0,!1}),e}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){var e=this._getExpandColumnsCore(),t,n=e.filter(s=>s.groupIndex===0)[0],i=n&&n.fixed,o=this._isColumnFixing(),a=this.option("rtlEnabled");return e.length&&(t=this.columnOption("command:expand")),e=Gn(e,s=>$({},s,{visibleWidth:null,minWidth:null,cellTemplate:L(s.groupIndex)?null:s.cellTemplate,headerCellTemplate:null,fixed:!L(s.groupIndex)||!i?o:!0,fixedPosition:a?"right":"left"},t,{index:s.index,type:s.type||jc})),e}getBandColumnsCache(){if(!this._bandColumnsCache){var e=this._columns,t={},n={},i=!0;e.forEach(o=>{var{ownerBand:a}=o,s=pt(a)?a.index:a,l=e[s];o.hasColumns&&(i=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),l?n[o.index]=l:s=-1,t[s]=t[s]||[],t[s].push(o)}),this._bandColumnsCache={isPlain:i,columnChildrenByIndex:t,columnParentByIndex:n}}return this._bandColumnsCache}_isColumnVisible(e){return e.visible&&this.isParentColumnVisible(e.index)}_isColumnInGroupPanel(e){return L(e.groupIndex)&&!e.showWhenGrouped}hasVisibleDataColumns(){var e=this._columns;return e.some(t=>{var n=this._isColumnVisible(t),i=this._isColumnInGroupPanel(t),o=!!t.command;return n&&!i&&!o})}_compileVisibleColumnsCore(){var e=this.getBandColumnsCache(),t=xG(this,this._columns,this._commandColumns,!0);jge(this,t,e);var n=this._getIndexedColumns(t),i=this._getVisibleColumnsFromIndexed(n),o=!this.hasVisibleDataColumns();return o&&this._columns.length&&i[i.length-1].push({command:"empty"}),i}_getIndexedColumns(e){for(var t=this.option("rtlEnabled"),n=this.getRowCount(),i=ome(e.length),o=this.getBandColumnsCache(),a=[],s=[],l=0;l<n;l+=1)s[l]=[{}],a[l]=[{},{},{}];return e.forEach(u=>{var c,d,h,p,{visibleIndex:f}=u,v,g=nh(u.index,o.columnParentByIndex),m=this._isColumnVisible(u),C=this._isColumnInGroupPanel(u);if(m&&!C){var y=g.length;if(f<0)f=-f,v=s[y];else if(u.fixed=(d=(c=g[0])===null||c===void 0?void 0:c.fixed)!==null&&d!==void 0?d:u.fixed,u.fixedPosition=(p=(h=g[0])===null||h===void 0?void 0:h.fixedPosition)!==null&&p!==void 0?p:u.fixedPosition,u.fixed){var w=!!u.command&&!RP(this,u),T=u.fixedPosition==="right";t&&!w&&(T=!T),v=T?a[y][2]:a[y][0]}else v=a[y][1];if(g.length){f=EG(f,i);for(var S=g.length-1;S>=0;S-=1)f=EG(g[S].visibleIndex,i)+f}v[f]=v[f]||[],v[f].push(u)}}),{positiveIndexedColumns:a,negativeIndexedColumns:s}}_getVisibleColumnsFromIndexed(e){for(var t=this,{positiveIndexedColumns:n,negativeIndexedColumns:i}=e,o=[],a=this.getRowCount(),s=xG(this,this.getExpandColumns(),this._columns),l=0,u=0,c=function(h){o.push([]),VA(i[h],(v,g)=>{o[h].unshift.apply(o[h],g)});var p=o[h].length,f=n[h];f.forEach(v=>{VA(v,(g,m)=>{o[h].push.apply(o[h],m)})}),u<=h&&(u+=bG.call(t,o[h],s,Oge,p)),l<=h&&(l+=bG.call(t,o[h],s,jc,p))},d=0;d<a;d+=1)c(d);return o.push(nme(o)),o}getInvisibleColumns(e,t){var n=this,i=[],o;return e=e||n._columns,U(e,(a,s)=>{if(s.ownerBand===t){if(s.isBand){s.visible?o=n.getInvisibleColumns(n.getChildrenByBandColumn(s.index),s.index):o=n.getChildrenByBandColumn(s.index),o.length&&(i.push(s),i=i.concat(o));return}s.visible||i.push(s)}}),i}getChooserColumns(e){var t=e?this.getColumns():this.getInvisibleColumns(),n=t.filter(o=>o.showInColumnChooser),i=this.option("columnChooser.sortOrder");return sme(n,i)}allowMoveColumn(e,t,n,i){var o=iR(this,e,n),a=this._columns[o];return a&&(a.allowReordering||a.allowGrouping||a.allowHiding)?n===i?n===ff?!1:(e=pt(e)?e.columnIndex:e,t=pt(t)?t.columnIndex:t,e!==t&&e+1!==t):n===pf&&i!==ff||i===pf?a&&a.allowGrouping:n===ff||i===ff?a&&a.allowHiding:!0:!1}moveColumn(e,t,n,i){var o={},a,s=iR(this,e,n),l=iR(this,t,i),u;if(s>=0){var c=this._columns[s];if(t=pt(t)?t.columnIndex:t,u=l>=0?this._columns[l].groupIndex:-1,L(c.groupIndex)&&n===pf&&(u>c.groupIndex&&u--,i!==pf?o.groupIndex=void 0:(a=c.groupIndex,delete c.groupIndex,XY(this))),i===pf)o.groupIndex=Zge(this,c,u),c.groupIndex=a;else if(t>=0){var d=this._columns[l];!d||c.ownerBand!==d.ownerBand||IG(this,c)^IG(this,d)?o.visibleIndex=gG:o.visibleIndex=d.visibleIndex}var h=i!==ff;c.visible!==h&&(o.visible=h),this.columnOption(c.index,o)}}changeSortOrder(e,t){var n={},i=this.option("sorting"),o=i&&i.mode,a=o==="single"||!t,s=o==="single"||o==="multiple",l=this._columns[e];s&&l&&l.allowSorting&&(a&&!L(l.groupIndex)&&U(this._columns,function(u){u!==e&&this.sortOrder&&(L(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),qb(t)?l.sortOrder!==t&&(n.sortOrder=t):t==="none"?l.sortOrder&&(n.sortIndex=void 0,n.sortOrder=void 0):function(u){if(t==="ctrl"){if(!("sortOrder"in u&&"sortIndex"in u))return!1;n.sortOrder=void 0,n.sortIndex=void 0}else L(u.groupIndex)||L(u.sortIndex)?n.sortOrder=u.sortOrder==="desc"?"asc":"desc":n.sortOrder="asc";return!0}(l)),this.columnOption(l.index,n)}getSortDataSourceParameters(e){var t=[],n=[];return U(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&L(this.sortIndex)&&!L(this.groupIndex)&&(t[this.sortIndex]=this)}),U(t,function(){var i=this&&this.sortOrder;if(qb(i)){var o={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(o.compare=this.sortingMethod.bind(this)),n.push(o)}}),n.length>0?n:null}getGroupDataSourceParameters(e){var t=[];return U(this.getGroupColumns(),function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){var i={selector:n,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),t.push(i)}}),t.length>0?t:null}refresh(e){var t=[];return U(this._columns,function(){var{lookup:n}=this;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&t.push(n.update())}}),$e.apply(E,t).done(Yx.bind(null,this))}_updateColumnOptions(e,t){e.selector=e.selector||function(o){return e.calculateCellValue(o)},this._reinitAfterLookupChanges&&this._previousColumns?(e.selector.columnIndex=t,e.selector.originalCallback=this._previousColumns[t].selector.originalCallback):(e.selector.columnIndex=t,e.selector.originalCallback=e.selector),U(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(o,a)=>{var s=e[a];if(Ne(s))if(s.originalCallback)e[a].context.column=e;else{var l={column:e};e[a]=function(u){return s.call(l.column,u)},e[a].originalCallback=s,e[a].columnIndex=t,e[a].context=l}}),ft(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=Ar(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),CG(e,e.dataType);var{lookup:n}=e;n&&CG(n,n.dataType);var i=n?n.dataType:e.dataType;i&&(e.alignment=e.alignment||Kge(i,this.option("rtlEnabled")),e.format=e.format||ye.getFormatByDataType(i),e.customizeText=e.customizeText||yG(i),e.defaultFilterOperations=e.defaultFilterOperations||!n&&Age[i]||[],L(e.filterOperations)||qY(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=L(e.showEditorAlways)?e.showEditorAlways:i==="boolean"&&!e.cellTemplate&&!e.lookup)}updateColumnDataTypes(e){var t=this,n=t.option("dateSerializationFormat"),i=t._getFirstItems(e),o=!1;return U(t._columns,(a,s)=>{var l,u,c,d,h,{lookup:p}=s;if(ye.isDateType(s.dataType)&&s.serializationFormat===void 0&&(s.serializationFormat=n),p&&ye.isDateType(p.dataType)&&s.serializationFormat===void 0&&(p.serializationFormat=n),s.calculateCellValue&&i.length){if(!s.dataType||p&&!p.dataType){for(l=0;l<i.length;l++)u=s.calculateCellValue(i[l]),s.dataType||(h=nR(u),c=c||h,c&&h&&c!==h&&(c="string")),p&&!p.dataType&&(h=nR(ye.getDisplayValue(s,u,i[l])),d=d||h,d&&h&&d!==h&&(d="string"));(c||d)&&(c&&(s.dataType=c),p&&d&&(p.dataType=d),o=!0)}if(s.serializationFormat===void 0||p&&p.serializationFormat===void 0)for(l=0;l<i.length;l++)u=s.calculateCellValue(i[l],!0),s.serializationFormat===void 0&&(s.serializationFormat=_G(s.dataType,u)),p&&p.serializationFormat===void 0&&(p.serializationFormat=_G(p.dataType,p.calculateCellValue(u,!0)))}t._updateColumnOptions(s,a)}),o}_customizeColumns(e){var t=this.option("customizeColumns");if(t){var n=e.some(i=>pt(i.ownerBand));n&&Gd(this),t(e),gf(this,vf(this,e))}}updateColumns(e,t,n){if(t||this.updateSortingGrouping(e),!e||e.isLoaded()){var i=e?e.sort()||[]:this.getSortDataSourceParameters(),o=e?e.group()||[]:this.getGroupDataSourceParameters(),a=e==null?void 0:e.lastLoadOptions().filter;n||this._customizeColumns(this._columns),Gd(this);var s=this._columns;return $e(this.refresh(!0)).always(()=>{this._columns===s&&(this._updateChanges(e,{sorting:i,grouping:o,filtering:a}),ig(this))})}}_updateChanges(e,t){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),ye.equalSortParameters(t.sorting,this.getSortDataSourceParameters())||sl(this,"sorting"),ye.equalSortParameters(t.grouping,this.getGroupDataSourceParameters())||sl(this,"grouping");var n=this.getController("data");n&&!ye.equalFilterParameters(t.filtering,n.getCombinedFilter())&&sl(this,"filtering"),sl(this,"columns")}updateSortingGrouping(e,t){var n=this,i,o,a=function(h,p,f){U(h,(v,g)=>{if(delete g[f],p)for(var m=0;m<p.length;m++){var{selector:C}=p[m],{isExpanded:y}=p[m];if(C===g.dataField||C===g.name||C===g.selector||C===g.calculateCellValue||C===g.calculateGroupValue||C===g.calculateDisplayValue){t?g.sortOrder="sortOrder"in g?g.sortOrder:p[m].desc?"desc":"asc":g.sortOrder=g.sortOrder||(p[m].desc?"desc":"asc"),y!==void 0&&(g.autoExpandGroup=y),g[f]=m;break}}})};if(e){i=ye.normalizeSortingInfo(e.sort());var s=ye.normalizeSortingInfo(e.group()),l=n.getGroupDataSourceParameters(),u=n.getSortDataSourceParameters(),c=!ye.equalSortParameters(s,l,!0),d=!c&&!ye.equalSortParameters(s,l);n._columns.length||(U(s,(h,p)=>{n._columns.push(p.selector)}),U(i,(h,p)=>{Ne(p.selector)||n._columns.push(p.selector)}),gf(n,vf(n,n._columns))),(t||!l&&!n._hasUserState)&&(c||d)&&(a(n._columns,s,"groupIndex"),t&&(c&&sl(n,"grouping"),d&&sl(n,"groupExpanding"),o=!0)),(t||!u&&!n._hasUserState)&&!ye.equalSortParameters(i,u)&&(a(n._columns,i,"sortIndex"),t&&(sl(n,"sorting"),o=!0)),o&&ig(n)}}updateFilter(e,t,n,i){if(!Array.isArray(e))return e;if(e=$([],e),n=e.columnIndex!==void 0?e.columnIndex:n,i=e.filterValue!==void 0?e.filterValue:i,ft(e[0])&&e[0]!=="!"){var o=this.columnOption(e[0]);t?Fr().forceIsoDateParsing&&o&&o.serializeValue&&e.length>1&&(e[e.length-1]=o.serializeValue(e[e.length-1],"filter")):o&&o.selector&&(e[0]=o.selector,e[0].columnIndex=o.index)}else Ne(e[0])&&(e[0].columnIndex=n,e[0].filterValue=i,e[0].selectedFilterOperation=e.selectedFilterOperation);for(var a=0;a<e.length;a++)e[a]=this.updateFilter(e[a],t,n,i);return e}columnCount(){return this._columns?this._columns.length:0}columnOption(e,t,n,i){var o=this,a=o._columns.concat(o._commandColumns),s=TG(a,e);if(s){if(arguments.length===1)return $({},s);if(ft(t)){if(arguments.length===2)return oR(o,s,t);oR(o,s,t,n,i)}else pt(t)&&U(t,(l,u)=>{oR(o,s,l,u,i)});ig(o)}}clearSorting(){var e=this.columnCount();this.beginUpdate();for(var t=0;t<e;t++)this.columnOption(t,"sortOrder",void 0),delete TG(this._columns,t).sortOrder;this.endUpdate()}clearGrouping(){var e=this.columnCount();this.beginUpdate();for(var t=0;t<e;t++)this.columnOption(t,"groupIndex",void 0);this.endUpdate()}getVisibleIndex(e,t){for(var n=this.getVisibleColumns(t),i=n.length-1;i>=0;i--)if(n[i].index===e)return i;return-1}getVisibleIndexByColumn(e,t){var n=this.getVisibleColumns(t),i=n.filter(o=>o.index===e.index&&o.command===e.command)[0];return n.indexOf(i)}getVisibleColumnIndex(e,t){var n=this.columnOption(e,"index");return this.getVisibleIndex(n,t)}addColumn(e){var t=qx(this,e),n=this._columns.length;this._columns.push(t),t.isBand&&(this._columns=vf(this,this._columns),t=this._columns[n]),t.added=e,Gd(this,t),this.updateColumns(this._dataSource),this._checkColumns()}deleteColumn(e){var t=this.columnOption(e);if(t&&t.index>=0){if(ame(this._columns),this._columns.splice(t.index,1),t.isBand){var n=this.getChildrenByBandColumn(t.index).map(i=>i.index);this._columns=this._columns.filter(i=>n.indexOf(i.index)<0)}Gd(this),this.updateColumns(this._dataSource)}}addCommandColumn(e){var t=this._commandColumns.filter(n=>n.command===e.command)[0];t||(t=e,this._commandColumns.push(t))}getUserState(){var e=this._columns,t=[],n;function i(o,a){e[n][a]!==void 0&&(t[n][a]=e[n][a])}for(n=0;n<e.length;n++)t[n]={},U(Kb,i);return t}setName(e){e.name=e.name||e.dataField||e.type}setUserState(e){var t=this._dataSource,n=this.option("stateStoring.ignoreColumnOptionNames");if(e==null||e.forEach(this.setName),!n){n=[];var i=this.getCommonSettings();this.option("columnChooser.enabled")||n.push("visible"),this.option("sorting.mode")==="none"&&n.push("sortIndex","sortOrder"),i.allowGrouping||n.push("groupIndex"),i.allowFixing||n.push("fixed","fixedPosition"),i.allowResizing||n.push("width","visibleWidth");var o=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&o&&n.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&o&&n.push("filterValues","filterType")}this._columnsUserState=e,this._ignoreColumnOptionNames=n,this._hasUserState=!!e,sl(this,"filtering"),this.init(!0),t&&(t.sort(this.getSortDataSourceParameters()),t.group(this.getGroupDataSourceParameters()))}_checkColumns(){var e={},t=!1,n=[];this._columns.forEach(i=>{var o,{name:a}=i,s=(o=i.columns)===null||o===void 0?void 0:o.length,l=i.allowEditing&&(i.dataField||i.setCellValue)&&!s;a?(e[a]&&n.push('"'.concat(a,'"')),e[a]=!0):l&&(t=!0)}),n.length&&Ht.log("E1059",n.join(", ")),t&&Ht.log("E1060")}_createCalculatedColumnOptions(e,t){var n={},{dataField:i}=e;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,i=null),i){if(ft(i)){var o=Ar(i);n={caption:Lh(i),calculateCellValue(a,s){var l=o(a);return this.deserializeValue&&!s?this.deserializeValue(l):l},setCellValue:rme,parseValue(a){var s,l;return this.dataType==="number"?ft(a)&&this.format?s=lme(a.trim(),this.format):L(a)&&Tr(a)&&(s=Number(a)):this.dataType==="boolean"?a===this.trueText?s=!0:a===this.falseText&&(s=!1):ye.isDateType(this.dataType)?(l=kt.parse(a,this.format),l&&(s=l)):s=a,s}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return Wh.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(a,s){var l;return this.calculateFilterExpression&&(l=this.calculateFilterExpression.apply(this,arguments)),Ne(l)&&(l=[l,"=",!0]),l&&(l.columnIndex=this.index,l.filterValue=a,l.selectedFilterOperation=s),l},(!i||!ft(i))&&$(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),t&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue(a,s){return this.valueExpr&&(a=this.valueMap&&this.valueMap[a]),this.deserializeValue&&!s?this.deserializeValue(a):a},updateValueMap(){if(this.valueMap={},this.items)for(var a=Ar(this.valueExpr),s=Ar(this.displayExpr),l=0;l<this.items.length;l++){var u=this.items[l],c=s(u);this.valueMap[a(u)]=c,this.dataType=this.dataType||nR(c)}},update(){var a=this,{dataSource:s}=a;if(s)if(Ne(s)&&!Xi.isWrapped(s)&&(s=s({})),Nt(s)||s instanceof Rl||Array.isArray(s)){if(a.valueExpr){var l=Tv(s);return l.paginate=!1,s=new Ou(l),s.load().done(u=>{a.items=u,a.updateValueMap&&a.updateValueMap()})}}else Ht.log("E1016");else a.updateValueMap&&a.updateValueMap()}}),n.resizedCallbacks=ar(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),U(n,a=>{if(Ne(n[a])&&a.indexOf("default")!==0){var s="default".concat(a.charAt(0).toUpperCase()).concat(a.substr(1));n[s]=n[a]}}),n}getRowCount(){return this._rowCount=this._rowCount||ime(this),this._rowCount}getRowIndex(e,t){var n=this._columns[e],i=this.getBandColumnsCache();return n&&(t||n.visible&&!(n.command||L(n.groupIndex)))?nh(e,i.columnParentByIndex).length:0}getChildrenByBandColumn(e,t){var n=this.getBandColumnsCache(),i=$ge(e,n.columnChildrenByIndex,!t);return t?i.filter(o=>o.visible&&!o.command).sort((o,a)=>o.visibleIndex-a.visibleIndex):i}isParentBandColumn(e,t){var n=!1,i=this._columns[e],o=this.getBandColumnsCache(),a=i&&nh(e,o.columnParentByIndex);return a&&U(a,(s,l)=>{if(l.index===t)return n=!0,!1}),n}isParentColumnVisible(e){var t=!0,n=this.getBandColumnsCache(),i=e>=0&&nh(e,n.columnParentByIndex);return i&&U(i,(o,a)=>(t=t&&a.visible,t)),t}getColumnId(e){return e.command&&e.type===jc?RP(this,e)?"type:".concat(e.type):"command:".concat(e.command):e.index}getCustomizeTextByDataType(e){return yG(e)}getHeaderContentAlignment(e){var t=this.option("rtlEnabled");return t?e==="left"?"right":"left":e}}var RG={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:J.format("dxDataGrid-trueText"),falseText:J.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:ume}};at.registerModule("columns",{defaultOptions:()=>$(!0,{},RG.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:RG.controllers});var zw=function(r,e){var t=e(r);if(pt(t))try{return JSON.stringify(t)}catch{return t}return t},cme=function(r,e,t,n){var i=zw(r,n);return e[t[i]]},dme=function(r,e){if(r.length!==e.length)return!1;for(var t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0},ZY=function(r,e,t,n){var i={},o={},a=0,s=0,l=[];r.forEach(function(C,y){var w=zw(C,t);i[w]=y}),e.forEach(function(C,y){var w=zw(C,t);o[w]=y});for(var u=Math.max(r.length,e.length),c=0;c<u+a;c++){var d=e[c],h=c-a+s,p=r[h],f=!d||p&&!cme(p,e,o,t);if(f)p&&(l.push({type:"remove",key:t(p),index:c,oldItem:p}),s++,c--);else{var v=zw(d,t),g=i[v],m=r[g];if(!m)a++,l.push({type:"insert",data:d,index:c});else if(g===h)n(m,d)||l.push({type:"update",data:d,key:t(d),index:c,oldItem:m});else return}}return l},hme={load:()=>X().reject(),loadSingle:()=>X().reject(),loadFromStore:()=>X().reject(),loadNextPage:()=>X().reject(),loadOptions:Z,userData:Z,cancel:Z,cancelAll:Z,filter:Z,addSearchFilter:Z,group:Z,paginate:Z,pageSize:Z,pageIndex:Z,resetDataSourcePageIndex:Z,totalCount:Z,isLastPage:Z,isLoading:Z,isLoaded:Z,searchValue:Z,searchOperation:Z,searchExpr:Z,select:Z,key:Z,keyOf:Z,store:Z,items:Z,applyMapFunction:Z,getDataSource:Z,reload:Z,on:Z,off:Z};let pme=class{constructor(e){if(!e)return hme;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,t){return arguments.length<2&&(t=e,e=this.key()),this._dataSource.loadSingle(e,t)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,t){this._dataSource.on(e,t)}off(e,t){this._dataSource.off(e,t)}};var OG="_dataSourceOptions",DG="_dataSourceChangedHandler",AG="_dataSourceLoadErrorHandler",PG="_dataSourceLoadingChangedHandler",MG="_dataSourceFromUrlLoadMode",FG="_getSpecificDataSourceOption",LG="_normalizeDataSource",Xx={postCtor:function(){this.on("disposing",(function(){this._disposeDataSource()}).bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var r=FG in this?this[FG]():this.option("dataSource"),e,t;this._disposeDataSource(),r&&(r instanceof Ou?(this._isSharedDataSource=!0,this._dataSource=r):(e=OG in this?this[OG]():{},t=this._dataSourceType?this._dataSourceType():Ou,r=Tv(r,{fromUrlLoadMode:MG in this&&this[MG]()}),this._dataSource=new t($(!0,{},e,r))),LG in this&&(this._dataSource=this[LG](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var r,e=(r=this.option)===null||r===void 0?void 0:r.call(this,"_dataController"),t=this._dataSource;e?this._dataController=e:this._dataController=new pme(t)},_addDataSourceHandlers:function(){DG in this&&this._addDataSourceChangeHandler(),AG in this&&this._addDataSourceLoadErrorHandler(),PG in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this.readyWatcher=(function(r){this._ready&&this._ready(!r)}).bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)},_addDataSourceChangeHandler:function(){var r=this._dataSource;this._proxiedDataSourceChangedHandler=(function(e){this[DG](r.items(),e)}).bind(this),r.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[AG].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[PG].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){var r=this._dataSource;r&&(r.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():r.load())},_loadSingle:function(r,e){return r=r==="this"?this._dataSource.key()||"this":r,this._dataSource.loadSingle(r,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},NG=function(r,e,t){var n=r._dataSource;if(n){if(t!==void 0){var i=r._getPagingOptionValue(e);if(i!==t){e==="pageSize"&&n.pageIndex(0),n[e](t),r._skipProcessingPagingChange=!0,r.option("paging.".concat(e),t),r._skipProcessingPagingChange=!1;var o=n.pageIndex();return r._isPaging=e==="pageIndex",n[e==="pageIndex"?"load":"reload"]().done(()=>{r._isPaging=!1,r.pageChanged.fire(o)})}return X().resolve().promise()}return n[e]()}return 0},fme=kr.Controller.inherit(Xx);let vme=class extends fme{init(){var e=this;e._items=[],e._cachedProcessedItems=null,e._columnsController=this.getController("columns"),e._isPaging=!1,e._currentOperationTypes=null,e._dataChangedHandler=t=>{e._currentOperationTypes=this._dataSource.operationTypes(),e._handleDataChanged(t),e._currentOperationTypes=null},e._columnsChangedHandler=e._handleColumnsChanged.bind(e),e._loadingChangedHandler=e._handleLoadingChanged.bind(e),e._loadErrorHandler=e._handleLoadError.bind(e),e._customizeStoreLoadOptionsHandler=e._handleCustomizeStoreLoadOptions.bind(e),e._changingHandler=e._handleChanging.bind(e),e._dataPushedHandler=e._handleDataPushed.bind(e),e._columnsController.columnsChanged.add(e._columnsChangedHandler),e._isLoading=!1,e._isCustomLoading=!1,e._repaintChangesOnly=void 0,e._changes=[],e.createAction("onDataErrorOccurred"),e.dataErrorOccurred.add(t=>e.executeAction("onDataErrorOccurred",{error:t})),e._refreshDataSource(),this.postCtor()}_getPagingOptionValue(e){return this._dataSource[e]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(e){if(e==="dataErrorOccurred")return{stopOnFalse:!0}}publicMethods(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){var t=e.value!==e.previousValue;if(t){var n=this.store();n&&(n._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(e){return!0}optionChanged(e){var t=this,n,i;function o(){e.handled=!0}if(e.name==="dataSource"&&e.name===e.fullName&&this._handleDataSourceChange(e)){o();return}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":o();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":o(),t.reset();break;case"paging":if(n=t.dataSource(),n&&(i=t._setPagingOptions(n),i)){var a=n.pageIndex();this._isPaging=i.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,t.pageChanged.fire(a)})}o();break;case"rtlEnabled":t.reset();break;case"columns":n=t.dataSource(),n&&n.isLoading()&&e.name===e.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:super.optionChanged(e)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(e){return this.combinedFilter(void 0,e)}combinedFilter(e,t){if(!this._dataSource)return e;var n=e??this._dataSource.filter(),i=this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined();if(i){var o=this._calculateAdditionalFilter();n=o?ye.combineFilters([o,n]):n}var a=this._dataSource.remoteOperations().filtering||t;return n=this._columnsController.updateFilter(n,a),n}waitReady(){return this._updateLockCount?(this._readyDeferred=new X,this._readyDeferred):$e()}_endUpdateCore(){var e=this._changes;if(e.length){this._changes=[];var t=e.every(n=>n.repaintChangesOnly);this.updateItems(e.length===1?e[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(e){var t,n=this._columnsController,i=this._dataSource,{storeLoadOptions:o}=e;e.isCustomLoading&&!o.isLoadingAll||(o.filter=this.combinedFilter(o.filter),((t=o.filter)===null||t===void 0?void 0:t.length)===1&&o.filter[0]==="!"&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(i),this._columnsUpdating=!0,n.updateSortingGrouping(i,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,o.sort=n.getSortDataSourceParameters(),o.group=n.getGroupDataSourceParameters(),i.sort(o.sort),i.group(o.group),o.sort=n.getSortDataSourceParameters(!i.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!i.remoteOperations().grouping))}_handleColumnsChanged(e){var t=this,{changeTypes:n}=e,{optionNames:i}=e,o,a,s;if(n.sorting||n.grouping)t._dataSource&&!t._columnsUpdating&&(t._dataSource.group(t._columnsController.getGroupDataSourceParameters()),t._dataSource.sort(t._columnsController.getSortDataSourceParameters()),t.reload());else if(n.columns&&(a=t._columnsController.columnOption(e.columnIndex,"filterValues"),(i.filterValues||i.filterType&&Array.isArray(a)||i.filterValue||i.selectedFilterOperation||i.allowFiltering)&&(o=t._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(a)||e.columnIndex===void 0||L(o)||!i.selectedFilterOperation||i.filterValue)&&(t._applyFilter(),s=!0)),!t._needApplyFilter&&!ye.checkChanges(i,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&t._columnsController.columnsChanged.add(function u(c){var d;t._columnsController.columnsChanged.remove(u),t.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:(d=c==null?void 0:c.changeTypes)===null||d===void 0?void 0:d.virtualColumnsScrolling})}),L(i.visible))){var l=t._columnsController.columnOption(e.columnIndex);l&&(L(l.filterValue)||L(l.filterValues))&&(t._applyFilter(),s=!0)}!s&&n.filtering&&!this._needApplyFilter&&t.reload()}_handleDataChanged(e){var t=this,n=t._dataSource,i=t._columnsController,o=!1;this._useSortingGroupingFromColumns=!1,n&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,$e(t._columnsController.applyDataSource(n)).done(()=>{t._isLoading&&t._handleLoadingChanged(!1),o&&e&&e.isDelayed&&(e.isDelayed=!1),t._isDataSourceApplying=!1;var a=t._needApplyFilter;t._needApplyFilter=!1,a&&!t._isAllDataTypesDefined&&(s=t._calculateAdditionalFilter(),s&&s.length)?(Ht.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(e,!0);var s}).fail(()=>{t._isDataSourceApplying=!1}),t._isDataSourceApplying&&(o=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=i.isAllDataTypesDefined())}_handleLoadingChanged(e){this._isLoading=e,this._fireLoadingChanged()}_handleLoadError(e){this.dataErrorOccurred.fire(e)}_handleDataPushed(e){this.pushed.fire(e)}fireError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.dataErrorOccurred.fire(Ht.Error.apply(Ht,t))}_setPagingOptions(e){var t=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),i=this.option("paging.enabled"),o=this.option("scrolling.mode"),a=o==="infinite",s=o==="virtual",l=i||s||a,u=!1,c=!1,d=!1;return e.requireTotalCount(!a),i!==void 0&&e.paginate()!==l&&(e.paginate(l),u=!0),n!==void 0&&e.pageSize()!==n&&(e.pageSize(n),c=!0),t!==void 0&&e.pageIndex()!==t&&(e.pageIndex(t),d=!0),u||c||d?{isPaginateChanged:u,isPageSizeChanged:c,isPageIndexChanged:d}:!1}_getSpecificDataSourceOption(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e}_initDataSource(){var e=this._dataSource;super._initDataSource();var t=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,t){var n=this._setPagingOptions(t);this._isPaging=n==null?void 0:n.isPageIndexChanged,this.setDataSource(t)}else e&&this.updateItems()}_loadDataSource(){var e=this,t=e._dataSource,n=new X;return $e(this._columnsController.refresh(!0)).always(()=>{t?t.load().done(function(){e._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()}_beforeProcessItems(e){return e.slice(0)}getRowIndexDelta(){return 0}getDataIndex(e){var t=this._items,n=e.changeType==="append"&&t.length>0?t[t.length-1]:null;return L(n==null?void 0:n.dataIndex)?n.dataIndex+1:0}_processItems(e,t){var n=this,i=n.getRowIndexDelta(),{changeType:o}=t,a=n._columnsController.getVisibleColumns(null,o==="loadingAll"),s=this.getDataIndex(t),l={visibleColumns:a,dataIndex:s},u=[];return U(e,(c,d)=>{L(d)&&(l.rowIndex=c-i,d=n._processItem(d,l),u.push(d))}),u}_processItem(e,t){return e=this._generateDataItem(e,t),e=this._processDataItem(e,t),e.dataIndex=t.dataIndex++,e}_generateDataItem(e,t){return{rowType:"data",data:e,key:this.keyOf(e)}}_processDataItem(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e}generateDataValues(e,t,n){for(var i=[],o,a=0;a<t.length;a++){var s=t[a];o=n?void 0:null,s.command||(s.calculateCellValue?o=s.calculateCellValue(e):s.dataField&&(o=e[s.dataField])),i.push(o)}return i}_applyChange(e){e.changeType==="update"?this._applyChangeUpdate(e):this.items().length&&e.repaintChangesOnly&&e.changeType==="refresh"?this._applyChangesOnly(e):e.changeType==="refresh"&&this._applyChangeFull(e)}_applyChangeFull(e){this._items=e.items.slice(0)}_getRowIndices(e){var t=e.rowIndices.slice(0),n=this.getRowIndexDelta();t.sort((a,s)=>a-s);for(var i=0;i<t.length;i++){var o=t[i];e.allowInvisibleRowIndices&&(o+=n),o<0&&(t.splice(i,1),i--)}return t}_applyChangeUpdate(e){var t=this,{items:n}=e,i=t._getRowIndices(e),o=t.getRowIndexDelta(),a=t.option("repaintChangesOnly"),s=-1,l=0,u;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var c=function(d,h,p){var f=d&&h&&Mr(d.key,h.key);return f&&p&&(f=d.rowType===h.rowType&&(h.rowType!=="detail"||d.isEditing===h.isEditing)),f};U(i,(d,h)=>{var p;if(h+=l+o,s!==h){s=h;var f=t._items[h],v=t._items[h+1],g=n[h],m=n[h+1],C=c(f,v)||c(g,m);if(g&&(g.rowIndex=h,e.items.push(g)),f&&g&&c(f,g,C))u="update",t._items[h]=g,f.visible!==g.visible?e.items.splice(-1,1,{visible:g.visible}):a&&!e.isFullUpdate&&(p=t._partialUpdateRow(f,g,h-o));else if(g&&!f||m&&c(f,m,C))u="insert",t._items.splice(h,0,g),l++;else if(f&&!g||v&&c(g,v,C))u="remove",t._items.splice(h,1),l--,s=-1;else if(g)u="update",t._items[h]=g;else return;e.rowIndices.push(h-o),e.changeTypes.push(u),e.columnIndices.push(p)}})}_isCellChanged(e,t,n,i,o){if(JSON.stringify(e.values[i])!==JSON.stringify(t.values[i]))return!0;function a(s,l){return s.modifiedValues?s.modifiedValues[l]!==void 0:!1}return a(e,i)!==a(t,i)}_getChangedColumnIndices(e,t,n,i){var o;if(e.rowType===t.rowType){if(t.rowType!=="group"&&t.rowType!=="groupFooter"&&(o=[],t.rowType!=="detail"))for(var a=0;a<e.values.length;a++)this._isCellChanged(e,t,n,a,i)&&o.push(a);if(t.rowType==="group"&&e.cells){var s=t.isExpanded===e.isExpanded&&t.data.isContinuation===e.data.isContinuation&&t.data.isContinuationOnNextPage===e.data.isContinuationOnNextPage;s&&(o=e.cells.map((l,u)=>{var c;return((c=l.column)===null||c===void 0?void 0:c.type)!=="groupExpand"?u:-1}).filter(l=>l>=0))}}return o}_partialUpdateRow(e,t,n,i){var o=this._getChangedColumnIndices(e,t,n,i);return o!=null&&o.length&&this.option("dataRowTemplate")&&(o=void 0),o&&(e.cells&&e.cells.forEach((a,s)=>{var l=o.indexOf(s)>=0;!l&&a&&a.update&&a.update(t)}),t.update=e.update,t.watch=e.watch,t.cells=e.cells,i&&(t.oldValues=e.values),e.update&&e.update(t)),o}_isItemEquals(e,t){var n,i,o,a;if(JSON.stringify(e.values)!==JSON.stringify(t.values)||["modified","isNewRow","removed","isEditing"].some(c=>e[c]!==t[c]))return!1;if(e.rowType==="group"||e.rowType==="groupFooter"){var s=e.isExpanded===t.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(t.summaryCells),u=((n=e.data)===null||n===void 0?void 0:n.isContinuation)===((i=t.data)===null||i===void 0?void 0:i.isContinuation)&&((o=e.data)===null||o===void 0?void 0:o.isContinuationOnNextPage)===((a=t.data)===null||a===void 0?void 0:a.isContinuationOnNextPage);if(!s||!l||!u)return!1}return!0}_applyChangesOnly(e){var t,n=[],i=[],o=[],a=[],s={},l=(t=e==null?void 0:e.isLiveUpdate)!==null&&t!==void 0?t:!0;function u(p){if(p)return"".concat(p.rowType,",").concat(JSON.stringify(p.key))}var c=this._items,d=c.slice();e.items.forEach((p,f)=>{var v=u(p);s[v]=f,p.rowIndex=f});var h=ZY(d,e.items,u,(p,f)=>this._isItemEquals(p,f)?(p.cells&&(p.update&&p.update(f),p.cells.forEach(v=>{v&&v.update&&v.update(f,!0)})),!0):!1);if(!h){this._applyChangeFull(e);return}h.forEach(p=>{switch(p.type){case"update":var{index:f}=p,v=p.data,{oldItem:g}=p,m=this._partialUpdateRow(g,v,f,l);n.push(f),o.push("update"),a.push(v),c[f]=v,i.push(m);break;case"insert":n.push(p.index),o.push("insert"),a.push(p.data),i.push(void 0),c.splice(p.index,0,p.data);break;case"remove":n.push(p.index),o.push("remove"),c.splice(p.index,1),a.push(p.oldItem),i.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=n,e.columnIndices=i,e.changeTypes=o,e.items=a,d.length&&(e.isLiveUpdate=!0),this._correctRowIndices(p=>{var f=this._rowIndexOffset||0,v=this.getRowIndexOffset(),g=d[p-f],m=u(g),C=s[m];return C>=0?C+v-p:0})}_correctRowIndices(e){}_afterProcessItems(e,t){return e}_updateItemsCore(e){var t,n=this._dataSource,i=e.changeType||"refresh";if(e.changeType=i,n){var o=this._cachedProcessedItems;e.useProcessedItemsCache&&o?t=o:(t=e.items||n.items(),t=this._beforeProcessItems(t),t=this._processItems(t,e),this._cachedProcessedItems=t),t=this._afterProcessItems(t,e),e.items=t;var a=this._items.length===t.length&&this._items;this._applyChange(e);var s=this.getRowIndexDelta();U(this._items,(l,u)=>{var c;u.rowIndex=l-s,a&&(u.cells=(c=a[l].cells)!==null&&c!==void 0?c:[]);var d=t[l];d&&(u.loadIndex=d.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(e){var t=this.getVisibleRows(),n=this.dataSource();n&&e.changes.forEach(i=>{if(i.type==="insert"&&i.index>=0){for(var o=0,a=0;a<i.index;a++){var s=t[a];s&&(s.rowType==="data"||s.rowType==="group")&&o++}i.index=o}})}updateItems(e,t){var n;if(e=e||{},this._repaintChangesOnly!==void 0)e.repaintChangesOnly=(n=e.repaintChangesOnly)!==null&&n!==void 0?n:this._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||this._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=this.option("repaintChangesOnly");else if(t){var i=this.dataSource().operationTypes();e.repaintChangesOnly=i&&!i.grouping&&!i.filtering&&this.option("repaintChangesOnly"),e.isDataChanged=!0,i&&(i.reload||i.paging||i.groupExpanding)&&(e.needUpdateDimensions=!0)}if(this._updateLockCount&&!e.cancel){this._changes.push(e);return}this._updateItemsCore(e),!e.cancel&&this._fireChanged(e)}loadingOperationTypes(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}}_fireChanged(e){this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),jn(()=>{this.changed.fire(e)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){var e=this._dataSource;return e?(e.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})):new X().resolve()}resetFilterApplying(){this._isFilterApplying=!1}filter(e){var t=this._dataSource,n=t&&t.filter();if(arguments.length===0)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,!ye.equalFilterParameters(n,e)&&(t&&t.filter(e),this._applyFilter())}clearFilter(e){var t=this._columnsController,n=function(i){for(var o=t.columnCount(),a=0;a<o;a++)t.columnOption(a,i,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":n("filterValues");break;case"row":n("filterValue")}else this.filter(null),this.searchByText(""),n("filterValue"),n("bufferedFilterValue"),n("filterValues");this.component.endUpdate()}_fireDataSourceChanged(){var e=this;e.changed.add(function t(){e.changed.remove(t),e.dataSourceChanged.fire()})}_getDataSourceAdapter(){}_createDataSourceAdapterCore(e,t){var n=this._getDataSourceAdapter(),i=n.create(this.component);return i.init(e,t),i}isLocalStore(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.store();return e instanceof TC}isCustomStore(e){return e=e||this.store(),e instanceof Gx}_createDataSourceAdapter(e){var t=this.option("remoteOperations"),n=e.store(),i={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return pt(t)&&t.groupPaging&&(t=$({},i,t)),t==="auto"&&(t=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),t===!0&&(t=i),this._createDataSourceAdapterCore(e,t)}setDataSource(e){var t=this._dataSource;!e&&t&&(t.cancelAll(),t.changed.remove(this._dataChangedHandler),t.loadingChanged.remove(this._loadingChangedHandler),t.loadError.remove(this._loadErrorHandler),t.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),t.changing.remove(this._changingHandler),t.pushed.remove(this._dataPushedHandler),t.dispose(this._isSharedDataSource)),e&&(e=this._createDataSourceAdapter(e)),this._dataSource=e,e&&(this._fireDataSourceChanged(),this._isLoading=!e.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),e.changed.add(this._dataChangedHandler),e.loadingChanged.add(this._loadingChangedHandler),e.loadError.add(this._loadErrorHandler),e.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),e.changing.add(this._changingHandler),e.pushed.add(this._dataPushedHandler))}items(e){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){var e=this._dataSource;return e&&e.store()}loadAll(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,i=new X,o=n._dataSource;if(o)if(e){var a={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t?null:n.getCombinedFilter(),group:o.group(),sort:o.sort()}};o._handleDataLoaded(a),$e(a.data).done(l=>{var u;l=n._beforeProcessItems(l),i.resolve(n._processItems(l,{changeType:"loadingAll"}),(u=a.extra)===null||u===void 0?void 0:u.summary)}).fail(i.reject)}else if(o.isLoading())i.reject();else{var s=$({},o.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});o.load(s).done((l,u)=>{l=n._beforeProcessItems(l),l=n._processItems(l,{changeType:"loadingAll"}),i.resolve(l,u&&u.summary)}).fail(i.reject)}else i.resolve([]);return i}getKeyByRowIndex(e,t){var n=this.items(t)[e];if(n)return n.key}getRowIndexByKey(e,t){return ye.getIndexByKey(e,this.items(t))}keyOf(e){var t=this.store();if(t)return t.keyOf(e)}byKey(e){var t=this.store(),n=this.getRowIndexByKey(e),i;if(t)return n>=0&&(i=new X().resolve(this.items()[n].data)),i||t.byKey(e)}key(){var e=this.store();if(e)return e.key()}getRowIndexOffset(e){return 0}getDataByKeys(e){var t=this,n=new X,i=[],o=[];return U(e,(a,s)=>{i.push(t.byKey(s).done(l=>{o[a]=l}))}),$e.apply(E,i).always(()=>{n.resolve(o)}),n}pageIndex(e){return NG(this,"pageIndex",e)}pageSize(e){return NG(this,"pageSize",e)}beginCustomLoading(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(e){e===!0?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var t=this,n=t.getDataSource(),{changesOnly:i}=e,o=new X,a=function(){t._repaintChangesOnly=!!i};return $e(!e.lookup||t._columnsController.refresh()).always(()=>{e.load||e.reload?(n&&n.on("customizeLoadResult",a),$e(t.reload(e.reload,i)).always(()=>{n&&n.off("customizeLoadResult",a),t._repaintChangesOnly=void 0}).done(o.resolve).fail(o.reject)):(t.updateItems({repaintChangesOnly:e.changesOnly}),o.resolve())}),o.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this._dataSource&&this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher),this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(e,t){e=Array.isArray(e)?e:[e],(e.length>1||L(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!t})}skipProcessingPagingChange(e){return this._skipProcessingPagingChange&&(e==="paging.pageIndex"||e==="paging.pageSize")}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){var e=this.pageIndex(),t=this.pageCount();return e===t-1}load(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.load()}reload(e,t){var n;return(n=this._dataSource)===null||n===void 0?void 0:n.reload(e,t)}push(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.push(...arguments)}itemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.itemsCount():0}totalItemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalItemsCount():0}hasKnownLastPage(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.hasKnownLastPage():!0}isLoaded(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.isLoaded():!0}totalCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalCount():0}};var JY={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}),controllers:{data:vme}};const gme=kr.Controller.inherit(function(){function r(s,l){if(s&&(s=s.slice(0),l))for(var u=0;u<s.length;u++)s[u]=$({key:s[u].key},s[u]),s[u].items=r(s[u].items,l-1);return s}function e(s,l,u){var c={reload:!0,fullReload:!0};return l&&(c={sorting:!ye.equalSortParameters(s.sort,l.sort),grouping:!ye.equalSortParameters(s.group,l.group,!0),groupExpanding:!ye.equalSortParameters(s.group,l.group)||l.groupExpand,filtering:!ye.equalFilterParameters(s.filter,l.filter),pageIndex:s.pageIndex!==l.pageIndex,skip:s.skip!==l.skip,take:s.take!==l.take,pageSize:s.pageSize!==l.pageSize,fullReload:u,reload:!1,paging:!1},c.reload=u||c.sorting||c.grouping||c.filtering,c.paging=c.pageIndex||c.pageSize||c.take),c}function t(s,l){var u=ye.normalizeSortingInfo(s.group||s.storeLoadOptions.group||s.loadOptions.group).length,c=[];if(n(c,s,u))return c;l&&function(d,h,p){var f,v,g=d.length,{storeLoadOptions:m}=h;if(m.skip!==void 0&&m.take&&!p){var C=[];n(C,h,p,!0);var y=C.length;(g||y)&&(h.skip=(f=h.skip)!==null&&f!==void 0?f:m.skip,h.take=(v=h.take)!==null&&v!==void 0?v:m.take),g&&(m.skip+=g,m.take-=g,h.cachedDataPartBegin=d),y&&(m.take-=y,h.cachedDataPartEnd=C.reverse())}}(c,s,u)}function n(s,l,u,c){var d,h,p,f,v,{storeLoadOptions:g}=l,m=(h=(d=l.take)!==null&&d!==void 0?d:g.take)!==null&&h!==void 0?h:0,C=(p=l.cachedData)===null||p===void 0?void 0:p.items;if(m&&C){for(var y=(v=(f=l.skip)!==null&&f!==void 0?f:g.skip)!==null&&v!==void 0?v:0,w=0;w<m;w++){var T=c?m-1-w:w,S=T+y,x=C[S];if(x===void 0&&S in C)return!0;var I=i(l,x,u,T,m);if(I)s.push(I);else return!1}return!0}return!1}function i(s,l,u,c,d){if(u&&l){var h=c===0&&s.skips||[],p=c===d-1&&s.takes||[];return function f(v,g,m,C){if(g&&v){var y=b({},v),w=m[0]||0,T=C[0],{items:S}=v;if(S){if(T===void 0&&!S[w])return;y.items=[],m.length&&(y.isContinuation=!0),T&&(y.isContinuationOnNextPage=v.count>T);for(var x=0;T===void 0?S[x+w]:x<T;x++){var I=S[x+w],R=x+1===T,D=f(I,g-1,x===0?m.slice(1):[],R?C.slice(1):[]);if(D!==void 0)y.items.push(D);else return}}return y}return v}(l,u,h,p)}return l}function o(s,l,u,c){if(u&&l){var d=b({},l);delete d.isContinuation,delete d.isContinuationOnNextPage;var h=c[0]||0;return l.items&&(d.items=(s==null?void 0:s.items)||{},l.items.forEach((p,f)=>{var v=f+h,g=f===0?c.slice(1):[];d.items[v]=o(d.items[v],p,u-1,g)})),d}return l}var a={init(s,l){var u=this;u._dataSource=s,u._remoteOperations=l||{},u._isLastPage=!s.isLastPage(),u._hasLastPage=!1,u._currentTotalCount=0,u._cachedData={items:{}},u._lastOperationTypes={},u._eventsStrategy=s._eventsStrategy,u._totalCountCorrection=0,u._isLoadingAll=!1,u.changed=ar(),u.loadingChanged=ar(),u.loadError=ar(),u.customizeStoreLoadOptions=ar(),u.changing=ar(),u.pushed=ar(),u._dataChangedHandler=u._handleDataChanged.bind(u),u._customizeStoreLoadOptionsHandler=u._handleCustomizeStoreLoadOptions.bind(u),u._dataLoadedHandler=u._handleDataLoaded.bind(u),u._loadingChangedHandler=u._handleLoadingChanged.bind(u),u._loadErrorHandler=u._handleLoadError.bind(u),u._pushHandler=u._handlePush.bind(u),u._changingHandler=u._handleChanging.bind(u),s.on("changed",u._dataChangedHandler),s.on("customizeStoreLoadOptions",u._customizeStoreLoadOptionsHandler),s.on("customizeLoadResult",u._dataLoadedHandler),s.on("loadingChanged",u._loadingChangedHandler),s.on("loadError",u._loadErrorHandler),s.on("changing",u._changingHandler),s.store().on("beforePush",u._pushHandler),U(s,(c,d)=>{!u[c]&&Ne(d)&&(u[c]=function(){return this._dataSource[c].apply(this._dataSource,arguments)})})},remoteOperations(){return this._remoteOperations},dispose(s){var l=this._dataSource,u=l.store();l.off("changed",this._dataChangedHandler),l.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),l.off("customizeLoadResult",this._dataLoadedHandler),l.off("loadingChanged",this._loadingChangedHandler),l.off("loadError",this._loadErrorHandler),l.off("changing",this._changingHandler),u&&u.off("beforePush",this._pushHandler),s||l.dispose()},refresh(s,l){var u=this._dataSource;l.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!u.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache(){this._cachedData={items:{}}},_needClearStoreDataCache(){var s=this.remoteOperations(),l=e(this._lastLoadOptions||{},{}),u=Object.keys(s).every(c=>!l[c]||!s[c]);return!u},push(s,l){var u=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&gh({keyInfo:u,data:this._cachedStoreData,changes:s}),l||this._applyBatch(s),this.pushed.fire(s)},getDataIndexGetter(){if(!this._dataIndexGetter){var s,l,u=this.store();this._dataIndexGetter=c=>{var d=l&&l!==this._cachedStoreData;if(!s||d){l=this._cachedStoreData||[],s={};for(var h=0;h<l.length;h++)s[Vl(u.keyOf(l[h]))]=h}return s[Vl(u.keyOf(c))]}}return this._dataIndexGetter},_getKeyInfo(){return this.store()},_needToCopyDataObject:()=>!0,_applyBatch(s,l){var u=this._getKeyInfo(),c=this._dataSource,d=ye.normalizeSortingInfo(this.group()).length,h=this.option("editing.refreshMode")==="reshape",p=this.option("scrolling.mode")==="virtual";s=s.filter(m=>!c.paginate()||m.type!=="insert"||m.index!==void 0);var f=()=>d?this.itemsCount():this.items().length,v=f();gh({keyInfo:u,data:this._items,changes:s,groupCount:d,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),gh({keyInfo:u,data:c.items(),changes:s,groupCount:d,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()});var g=this._currentTotalCount>0||(l||!h)&&p;g&&(this._totalCountCorrection+=f()-v),s.splice(0,s.length)},_handlePush(s){var{changes:l}=s;this.push(l,!0)},_handleChanging(s){this.changing.fire(s),this._applyBatch(s.changes,!0)},_needCleanCacheByOperation(s,l){var u=["filtering","sorting","paging"],c=u.indexOf(s),d=c>=0?u.slice(c):[s];return d.some(h=>l[h])},_customizeRemoteOperations(s,l){var u=this._cachedStoreData,c=this._cachedPagingData,d=this._cachedData;(s.storeLoadOptions.filter&&!s.remoteOperations.filtering||s.storeLoadOptions.sort&&!s.remoteOperations.sorting)&&(s.remoteOperations={filtering:s.remoteOperations.filtering,summary:s.remoteOperations.summary}),l.fullReload?(u=void 0,c=void 0,d={items:{}}):(l.reload?(c=void 0,d={items:{}}):l.groupExpanding&&(d={items:{}}),U(l,(h,p)=>{p&&this._needCleanCacheByOperation(h,s.remoteOperations)&&(u=void 0,c=void 0)})),c&&(s.remoteOperations.paging=!1),s.cachedStoreData=u,s.cachedPagingData=c,s.cachedData=d,s.isCustomLoading||(this._cachedStoreData=u,this._cachedPagingData=c,this._cachedData=d)},_handleCustomizeStoreLoadOptions(s){var l;this._handleDataLoading(s),((l=s.data)===null||l===void 0?void 0:l.length)!==0&&(s.data=t(s,!0)||s.cachedStoreData)},_handleDataLoading(s){var l=this._dataSource,u=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(s),s.delay=this.option("loadingTimeout"),s.originalStoreLoadOptions=s.storeLoadOptions,s.remoteOperations=$({},this.remoteOperations());var c=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(s.delay=void 0);var d=$({pageIndex:this.pageIndex(),pageSize:this.pageSize()},s.storeLoadOptions),h=e(d,u,c);if(this._customizeRemoteOperations(s,h),!s.isCustomLoading){var p=this._isRefreshing;s.pageIndex=l.pageIndex(),s.lastLoadOptions=d,s.operationTypes=h,this._loadingOperationTypes=h,this._isRefreshing=!0,$e(p||this._isRefreshed||this.refresh(s,h)).done(()=>{this._lastOperationId===s.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{l.cancel(s.operationId)}).always(()=>{this._isRefreshing=!1}),l.cancel(this._lastOperationId),this._lastOperationId=s.operationId,this._isRefreshing&&l.cancel(this._lastOperationId)}this._handleDataLoadingCore(s)},_handleDataLoadingCore(s){var{remoteOperations:l}=s;s.loadOptions={};var u=s.cachedData.extra,c={filter:!l.filtering,sort:!l.sorting,group:!l.grouping,summary:!l.summary,skip:!l.paging,take:!l.paging,requireTotalCount:u&&"totalCount"in u||!l.paging,langParams:!l.filtering||!l.sorting};U(s.storeLoadOptions,(d,h)=>{c[d]&&(s.loadOptions[d]=h,delete s.storeLoadOptions[d])}),u&&(s.extra=u)},_handleDataLoaded(s){var l,u,{loadOptions:c}=s,d=s.remoteOperations&&!s.remoteOperations.paging,{cachedData:h}=s,{storeLoadOptions:p}=s,f=this.option("cacheEnabled")!==!1&&p,v=f&&!s.isCustomLoading&&h&&(!d||p.group),g=f&&d,m=g&&!s.isCustomLoading;if(!c){this._dataSource.cancel(s.operationId);return}d&&(s.skip=c.skip,s.take=c.take,delete c.skip,delete c.take),c.group&&(c.group=s.group||c.group);var C=ye.normalizeSortingInfo(s.group||p.group||c.group).length;s.cachedDataPartBegin&&(s.data=s.cachedDataPartBegin.concat(s.data)),s.cachedDataPartEnd&&(s.data=s.data.concat(s.cachedDataPartEnd)),(!v||!t(s))&&(g&&s.cachedPagingData?s.data=r(s.cachedPagingData,C):(m&&(this._cachedStoreData?s.mergeStoreLoadData&&(s.data=this._cachedStoreData=this._cachedStoreData.concat(s.data)):this._cachedStoreData=r(s.data,ye.normalizeSortingInfo(p.group).length)),new TC(s.data).load(c).done(y=>{s.data=y,m&&(this._cachedPagingData=r(s.data,C))}).fail(y=>{s.data=new X().reject(y)})),c.requireTotalCount&&d&&(s.extra=Nt(s.extra)?s.extra:{},s.extra.totalCount=s.data.length),s.extra&&s.extra.totalCount>=0&&(p.requireTotalCount===!1||c.requireTotalCount===!1)&&(s.extra.totalCount=-1),!c.data&&(p.requireTotalCount||((u=(l=s.extra)===null||l===void 0?void 0:l.totalCount)!==null&&u!==void 0?u:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(s),v&&(h.extra=h.extra||$({},s.extra),$e(s.data).done(y=>{(function(w,T,S){for(var x,I,R,D,{storeLoadOptions:A}=w,V=(I=(x=w.skip)!==null&&x!==void 0?x:A.skip)!==null&&I!==void 0?I:0,F=(D=(R=w.take)!==null&&R!==void 0?R:A.take)!==null&&D!==void 0?D:0,P=0;P<F;P++){var M=P+V,N=w.cachedData.items,H=P===0&&w.skips||[];N[M]=o(N[M],T[P],S,H)}})(s,y,C)}))),$e(s.data).done(()=>{s.lastLoadOptions&&(this._lastLoadOptions=s.lastLoadOptions,Object.keys(s.operationTypes).forEach(y=>{this._lastOperationTypes[y]=this._lastOperationTypes[y]||s.operationTypes[y]}))}),s.storeLoadOptions=s.originalStoreLoadOptions},_handleDataLoadedCore(s){s.remoteOperations&&!s.remoteOperations.paging&&Array.isArray(s.data)&&(s.skip!==void 0&&(s.data=s.data.slice(s.skip)),s.take!==void 0&&(s.data=s.data.slice(0,s.take)))},_handleLoadingChanged(s){this.loadingChanged.fire(s)},_handleLoadError(s){this.loadError.fire(s),this.changed.fire({changeType:"loadError",error:s})},_loadPageSize(){return this.pageSize()},_handleDataChanged(s){var l,u=this._dataSource,c=!1,d=!s||L(s.changeType),h=this.itemsCount();d&&(this._isLastPage=!h||!this._loadPageSize()||h<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),u.totalCount()>=0?u.pageIndex()>=this.pageCount()&&(u.pageIndex(this.pageCount()-1),this.pageIndex(u.pageIndex()),this.resetPagesCache(),u.load(),c=!0):d&&(l=u.pageIndex()*this.pageSize()+h,l>this._currentTotalCount&&(this._currentTotalCount=l,(u.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),h===0&&u.pageIndex()>=this.pageCount()&&(u.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(u.load(),c=!0))),c||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(s),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks(s){var l=this;l._isCustomLoading=!0,s.always(()=>{l._isCustomLoading=!1})},loadingOperationTypes(){return this._loadingOperationTypes},operationTypes(){return this._operationTypes},lastLoadOptions(){return this._lastLoadOptions||{}},isLastPage(){return this._isLastPage},_dataSourceTotalCount(){return this._dataSource.totalCount()},totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection(){return this._totalCountCorrection},itemsCount(){return this._dataSource.items().length},totalItemsCount(){return this.totalCount()},pageSize(){var s=this._dataSource;return!arguments.length&&!s.paginate()?0:s.pageSize.apply(s,arguments)},pageCount(){var s=this.totalItemsCount()-this._totalCountCorrection,l=this.pageSize();return l&&s>0?Math.max(1,Math.ceil(s/l)):1},hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore(s,l){var u=this._dataSource,c=new X;if(u)return l=l||u.store(),l.load(s).done((d,h)=>{d&&!Array.isArray(d)&&Array.isArray(d.data)&&(h=d,d=d.data),c.resolve(d,h)}).fail(c.reject),c},isCustomLoading(){return!!this._isCustomLoading},load(s){var l=this,u=l._dataSource,c=new X;if(s){var d=u.store(),h=u.loadOptions(),p={storeLoadOptions:$({},s,{langParams:h==null?void 0:h.langParams}),isCustomLoading:!0};return U(d._customLoadOptions()||[],(f,v)=>{v in p.storeLoadOptions||(p.storeLoadOptions[v]=h[v])}),this._isLoadingAll=s.isLoadingAll,l._scheduleCustomLoadCallbacks(c),u._scheduleLoadCallbacks(c),l._handleCustomizeStoreLoadOptions(p),function(f,v){L(v)?VF(f,v):f()}(()=>{if(!u.store())return c.reject("canceled");$e(p.data||l.loadFromStore(p.storeLoadOptions)).done((f,v)=>{p.data=f,p.extra=v||{},l._handleDataLoaded(p),s.requireTotalCount&&p.extra.totalCount===void 0&&(p.extra.totalCount=d.totalCount(p.storeLoadOptions)),$e(p.data,p.extra.totalCount).done((g,m)=>{p.extra.totalCount=m,c.resolve(g,p.extra)}).fail(c.reject)}).fail(c.reject)},l.option("loadingTimeout")),c.fail(function(){l._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return u.load()},reload(s){return s?this._dataSource.reload():this._dataSource.load()},getCachedStoreData(){return this._cachedStoreData}};return a}());var aR=gme;const kC={extend(r){aR=aR.inherit(r)},create:r=>new aR(r)};var sR,lR,mme=(lR=(sR=JY.controllers)===null||sR===void 0?void 0:sR.data)===null||lR===void 0?void 0:lR.inherit({_getDataSourceAdapter:()=>kC,_getSpecificDataSourceOption(){var r=this.option("dataSource");return r&&!Array.isArray(r)&&this.option("keyExpr")&&Ht.log("W1011"),this.callBase()}});at.registerModule("data",{defaultOptions:JY.defaultOptions,controllers:{data:mme}});var kG="dx-sort",VG="dx-sort-none",_me="dx-sort-up",Cme="dx-sort-down",yme="dx-sort-index",BG="dx-sort-index-icon",Sme="action";const e9={_applyColumnState(r){var e,t,n=this.option("sorting.mode"),{rootElement:i}=r,{column:o}=r,a=this._getIndicatorContainer(i);if(r.name==="sort"){i.find(".".concat(kG)).remove(),!a.children().length&&a.remove();var s=n!=="none"&&o.allowSorting,l=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");return!L(o.groupIndex)&&(s||L(o.sortOrder))&&(e=o.sortOrder==="asc"?"ascending":"descending",t=this.callBase(r).toggleClass(_me,o.sortOrder==="asc").toggleClass(Cme,o.sortOrder==="desc"),l&&this.option("sorting.showSortIndexes")&&o.sortIndex>=0&&(E("<span>").addClass(BG).text(o.sortIndex+1).appendTo(t),t.addClass(yme)),s&&r.rootElement.addClass(this.addWidgetPrefix(Sme))),this._setAriaSortAttribute(o,e,i,l),t}return this.callBase(r)},_setAriaSortAttribute(r,e,t,n){if(t.removeAttr("aria-roledescription"),r.isGrouped){var i=this.localize("dxDataGrid-ariaNotSortedColumn");L(r.sortOrder)&&(i=r.sortOrder==="asc"?this.localize("dxDataGrid-ariaSortedAscendingColumn"):this.localize("dxDataGrid-ariaSortedDescendingColumn")),this.setAria("roledescription",i,t)}else if(!L(r.sortOrder))this.setAria("sort","none",t);else if(this.setAria("sort",e,t),n&&r.sortIndex>=0){var o=J.format("dxDataGrid-ariaColumnHeader"),a=J.format("dxDataGrid-ariaSortIndex",r.sortIndex+1),s="".concat(o,", ").concat(a);this.setAria("roledescription",s,t)}},_getIndicatorClassName(r){return r==="sort"?kG:r==="sortIndex"?BG:this.callBase(r)},_renderIndicator(r){var{column:e}=r,t=r.container,n=r.indicator;if(r.name==="sort"){var i=this.option("rtlEnabled");if(L(e.sortOrder)||n&&n.addClass(VG),t.children().length&&(!i&&r.columnAlignment==="left"||i&&r.columnAlignment==="right")){t.prepend(n);return}}this.callBase(r)},_updateIndicator(r,e,t){if(!(t==="sort"&&L(e.groupIndex)))return this.callBase.apply(this,arguments)},_getIndicatorElements(r,e){var t=this.callBase(r);return e?t:t&&t.not(".".concat(VG))}};var wme="dxDataGridColumnHeadersView",bme=$({},e9,{_createRow(r){var e=this.callBase(r);return r.rowType==="header"&&B.on(e,fe(sr,wme),"td",this.createAction(t=>{this._processHeaderAction(t.event,e)})),e},_processHeaderAction(r,e){if(E(r.currentTarget).parent().get(0)===e.get(0)){var t=this,n=null,i=E(r.currentTarget),o=i.parent().index(),a=-1;[].slice.call(t.getCellElements(o)).some((h,p)=>{if(h===i.get(0))return a=p,!0});var s=t._columnsController.getVisibleColumns(o),l=s[a],u=t.getController("editing"),c=t.option("editing.mode"),d=u&&u.isEditing()&&(c==="batch"||c==="cell");d||!t._isSortableElement(E(r.target))||l&&!L(l.groupIndex)&&!l.command&&(r.shiftKey?n="shift":ii(r)&&(n="ctrl"),setTimeout(()=>{t._columnsController.changeSortOrder(l.index,n)}))}},_renderCellContent(r,e){var{column:t}=e;!t.command&&e.rowType==="header"&&this._applyColumnState({name:"sort",rootElement:r,column:t,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged(r){var{changeTypes:e}=r;if(e.length===1&&e.sorting){this._updateIndicators("sort");return}this.callBase(r)},optionChanged(r){switch(r.name){case"sorting":this._invalidate(),r.handled=!0;break;default:this.callBase(r)}}}),Eme=$({},e9,{_createGroupPanelItem(r,e){var t=this,n=t.callBase(...arguments);return B.on(n,fe(sr,"dxDataGridHeaderPanel"),t.createAction(()=>{t._processGroupItemAction(e.index)})),t._applyColumnState({name:"sort",rootElement:n,column:{alignment:t.option("rtlEnabled")?"right":"left",allowSorting:e.allowSorting,sortOrder:e.sortOrder==="desc"?"desc":"asc",isGrouped:!0},showColumnLines:!0}),n},_processGroupItemAction(r){setTimeout(()=>this.getController("columns").changeSortOrder(r))},optionChanged(r){switch(r.name){case"sorting":this._invalidate(),r.handled=!0;break;default:this.callBase(r)}}}),xme={defaultOptions:()=>({sorting:{mode:"single",ascendingText:J.format("dxDataGrid-sortingAscendingText"),descendingText:J.format("dxDataGrid-sortingDescendingText"),clearText:J.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:bme,headerPanel:Eme}}};at.registerModule("sorting",xme);var Ime=tr.abstract,Tme=Ye.real(),t9="scroll",AL="dxscrollinit",PL="dxscrollstart",ML="dxscroll",FL="dxscrollend",LL="dxscrollstop",NL="dxscrollcancel",r9=tr.inherit(function(){var r=fe(t9,"dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1,this._proxiedScroll=t=>{this._disposed||this._scroll(t)},B.on(this._element,r,this._proxiedScroll)},_scroll:Ime,check:function(e,t){this._locked&&t()},dispose:function(){this._disposed=!0,B.off(this._element,r,this._proxiedScroll)}}}()),n9=r9.inherit({ctor:function(r,e){this.callBase(r),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var r=this;this._timer=setTimeout(function(){r._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),HG=n9.inherit({ctor:function(r){this.callBase(r,400),this._lastWheelDirection=null},check:function(r,e){this._checkDirectionChanged(r),this.callBase(r,e)},_checkDirectionChanged:function(r){if(!uo(r)){this._lastWheelDirection=null;return}var e=r.shiftKey||!1,t=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!t}}),OP=n9.inherit({ctor:function(r){this.callBase(r,400)}});(function(){var{ios:r,android:e}=Tme;(r||e)&&(OP=r9.inherit({_scroll:function(){this._locked=!0;var t=this;uu(this._scrollFrame),this._scrollFrame=w_(function(){t._locked=!1})},check:function(t,n){uu(this._scrollFrame),uu(this._checkFrame);var i=this,o=this.callBase;this._checkFrame=w_(function(){o.call(i,t,n),i._locked=!1})},dispose:function(){this.callBase(),uu(this._scrollFrame),uu(this._checkFrame)}}))})();var Rme=LC.inherit(function(){var r=Math.round(16.666666666666668);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new OP(e),this._wheelLocker=new HG(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new OP(e.scrollTarget),this._wheelLocker=new HG(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,(function(){uo(e)&&this._accept(e)}).bind(this)),this._pointerLocker.check(e,(function(){var t=this.isNative&&Nh(e);!uo(e)&&!t&&this._accept(e)}).bind(this)),this._fireEvent(AL,e),this._prevEventData=gn(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=gn(e),this._fireEvent(PL,e),this._prevEventData=gn(e)},_move:function(e){var t=gn(e);this._fireEvent(ML,e,{delta:rh(this._prevEventData,t)});var n=rh(this._savedEventData,t);n.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=gn(e)},_end:function(e){var t=rh(this._prevEventData,gn(e)),n={x:0,y:0};if(!uo(e)&&t.time<100){var i=rh(this._savedEventData,this._prevEventData),o=r/i.time;n={x:i.x*o,y:i.y*o}}this._fireEvent(FL,e,{velocity:n})},_stop:function(e){this._fireEvent(LL,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(NL,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());Iv({emitter:Rme,events:[AL,PL,ML,FL,LL,NL]});const Op={init:AL,start:PL,move:ML,end:FL,stop:LL,cancel:NL,scroll:t9};var Ome=tr.abstract,i9=tr.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,uu(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=w_(this._proxiedStepCore)},_step:Ome,_isFinished:Z,_stop:Z,_complete:Z,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),DP="dxScrollbar",o9="dx-scrollable-scrollbar",GG="".concat(o9,"-active"),Dme="dx-scrollable-scroll",Ame="dx-scrollable-scroll-content",Pme="dx-scrollbar-hoverable",$G="horizontal",Mme=15,Xl={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},Df=null,a9=ai.inherit({_getDefaultOptions:function(){return $(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:Xl.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(Pme,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=E("<div>").addClass(Dme),E("<div>").addClass(Ame).appendTo(this._$thumb),this.$element().addClass(o9).append(this._$thumb)},isThumb:function(r){return!!this.$element().find(r).length},_isHoverMode:function(){var r=this.option("visibilityMode");return(r===Xl.onHover||r===Xl.always)&&this.option("expandable")},_renderDirection:function(){var r=this.option("direction");this.$element().addClass("dx-scrollbar-"+r),this._dimension=r===$G?"width":"height",this._prop=r===$G?"left":"top"},_attachPointerDownHandler:function(){B.on(this._$thumb,fe(Yt.down,DP),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(GG),Df=this},feedbackOff:function(){this.$element().removeClass(GG),Df=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(r){this.option("visibilityMode")===Xl.onScroll&&this._$thumb.css("opacity"),r=this._adjustVisibility(r),this.option().visible=r,this._$thumb.toggleClass("dx-state-invisible",!r)},_adjustVisibility:function(r){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case Xl.onScroll:break;case Xl.onHover:r=r||!!this._isHovered;break;case Xl.never:r=!1;break;case Xl.always:r=!0}return r},moveTo:function(r){if(!this._isHidden()){Nt(r)&&(r=r[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(r),ci(this._$thumb,e)}},_calculateScrollBarPosition:function(r){return-r*this._thumbRatio},_update:function(){var r=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),t=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(t)&&(t=r,n=e),this._baseContainerToContentRatio=n?t/n:t,this._realContainerToContentRatio=e?r/e:r;var i=Math.round(Math.max(Math.round(r*this._realContainerToContentRatio),Mme));this._thumbRatio=(r-i)/(this.option("scaleRatio")*(e-r)),this.option(this._dimension,i/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===Xl.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(r){return Nt(r)?r[this._dimension]||0:r},_clean:function(){this.callBase(),this===Df&&(Df=null),B.off(this._$thumb,"."+DP)},_optionChanged:function(r){if(!this._isHidden())switch(r.name){case"containerSize":case"contentSize":this.option()[r.name]=this._normalizeSize(r.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:Bf(function(){this._adjustVisibility()&&this.option("visible",!0)})});Ul.add(function(){B.subscribeGlobal(ce.getDocument(),fe(Yt.up,DP),function(){Df&&Df.feedbackOff()})});var s9="dxSimulatedScrollable",Fme="dxScrollableStrategy",zy=s9+"Cursor",uR=s9+"Keyboard",cR="dx-scrollable-simulated",Lme="dx-scrollable-scrollbars-alwaysvisible",Nme="dx-scrollable-scrollbar",Js="vertical",Ai="horizontal",Yb=.92,l9=.5,u9=1,kme=Math.round(1e3/60),Vme=40,Bme=500,Hme=u9/5,Gme=400,$me=Gme/kme,Wme=(1-Math.pow(Yb,$me))/(1-Yb),Ql={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},c9=i9.inherit({ctor:function(r){this.callBase(),this.scroller=r},VELOCITY_LIMIT:u9,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?Yb:l9},_complete:function(){this.scroller._scrollComplete()}}),zme=c9.inherit({VELOCITY_LIMIT:Hme,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return Yb},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),d9=tr.inherit({ctor:function(r){this._initOptions(r),this._initAnimators(),this._initScrollbar()},_initOptions:function(r){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=r.direction===Ai?"x":"y",this._prop=r.direction===Ai?"left":"top",this._dimension=r.direction===Ai?"width":"height",this._scrollProp=r.direction===Ai?"scrollLeft":"scrollTop",U(r,(e,t)=>{this["_"+e]=t})},_initAnimators:function(){this._inertiaAnimator=new c9(this),this._bounceAnimator=new zme(this)},_initScrollbar:function(){this._scrollbar=new a9(E("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(r){return r===!0?"onScroll":r===!1?"never":r},_scrollStep:function(r){var e=this._location;this._location+=r,this._suppressBounce(),this._move(),!(Math.abs(e-this._location)<1)&&B.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(r){return r=r!==void 0?r:this._location,Math.max(Math.min(r,this._maxOffset),this._minOffset)},_move:function(r){this._location=r!==void 0?r*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var r=this._location;this._$container[this._scrollProp](-r/this._getScaleRatio()),this._moveContentByTranslator(r)},_getScaleRatio:function(){if(yt()&&!this._scaleRatio){var r=this._$element.get(0),e=this._getRealDimension(r,this._dimension),t=this._getBaseDimension(r,this._dimension);this._scaleRatio=Math.round(e/t*100)/100}return this._scaleRatio||1},_getRealDimension:function(r,e){return Math.round(Dn(r)[e])},_getBaseDimension:function(r,e){var t="offset"+S_(e);return r[t]},_moveContentByTranslator:function(r){var e,t=-this._maxScrollPropValue;if(r>0?e=r:r<=t?e=r-t:e=r%1,this._translateOffset!==e){var n={};if(n[this._prop]=e,this._translateOffset=e,e===0){FC(this._$content);return}ci(this._$content,n)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var r=this._bounceLocation=this._boundLocation(),e=r-this._location;this._velocity=e/Wme},_inBounds:function(r){return r=r!==void 0?r:this._location,this._boundLocation(r)===r},_crossBoundOnNextStep:function(){var r=this._location,e=r+this._velocity;return r<this._minOffset&&e>=this._minOffset||r>this._maxOffset&&e<=this._maxOffset},_initHandler:function(r){this._stopScrolling(),this._prepareThumbScrolling(r)},_stopScrolling:Bf(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(r){if(!uo(r.originalEvent)){var e=E(r.originalEvent.target),t=this._isScrollbar(e);t&&this._moveToMouseLocation(r),this._thumbScrolling=t||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(r){return this._isThumb(r)},_moveToMouseLocation:function(r){var e=r["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],t=this._location+e/this._containerToContentRatio()-Dt(this._$container)/2;this._scrollStep(-Math.round(t))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(r){this._crossThumbScrolling||(this._thumbScrolling&&(r[this._axis]=-Math.round(r[this._axis]/this._containerToContentRatio())),this._scrollBy(r))},_scrollBy:function(r){r=r[this._axis],this._inBounds()||(r*=l9),this._scrollStep(r)},_scrollByHandler:function(r){this._scrollBy(r),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(r){return this._completeDeferred=new X,this._velocity=r[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),qi(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),jn(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(os(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:a1(function(){var r=this._containerSize(),e=this._contentSize(),t=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);jn(()=>{this._scrollbar.option({containerSize:r,contentSize:e,baseContainerSize:t,baseContentSize:n,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:Bf(a1(Bf(function(){var r=this._boundLocation(),e=r!==this._location;this._location=r,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(r){this._scrollAction=r.scroll,this._bounceAction=r.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var r=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",e=this._getRealDimension(this._$content.get(0),this._dimension);if(!r){var t=this._$content[0]["scroll"+S_(this._dimension)]*this._getScaleRatio();e=Math.max(t,e)}return e},_validateEvent:function(r){var e=E(r.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(r){return this._scrollByThumb&&this._scrollbar.isThumb(r)},_isScrollbar:function(r){return this._scrollByThumb&&r&&r.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:Z}),xs,Dp,h9=tr.inherit({ctor:function(r){this._init(r)},_init:function(r){this._component=r,this._$element=r.$element(),this._$container=E(r.container()),this._$wrapper=r._$wrapper,this._$content=r.$content(),this.option=r.option.bind(r),this._createActionByOption=r._createActionByOption.bind(r),this._isLocked=r._isLocked.bind(r),this._isDirection=r._isDirection.bind(r),this._allowedDirection=r._allowedDirection.bind(r),this._getMaxOffset=r._getMaxOffset.bind(r)},render:function(){this._$element.addClass(cR),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(Ai)&&this._createScroller(Ai),this._isDirection(Js)&&this._createScroller(Js),this._$element.toggleClass(Lme,this.option("showScrollbar")==="always")},_createScroller:function(r){this._scrollers[r]=new d9(this._scrollerOptions(r))},_scrollerOptions:function(r){return{direction:r,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(r){for(var e in this._scrollers){var t=this._getPropByDirection(e);if(L(r[t])){var n=this._scrollers[e];r[t]*=n._getScaleRatio()}}return r},_isAnyThumbScrolling:function(r){var e=!1;return this._eventHandler("isThumbScrolling",r).done(function(t,n){e=t||n}),e},handleInit:function(r){this._suppressDirections(r),this._eventForUserAction=r,this._eventHandler("init",r)},_suppressDirections:function(r){if(uo(r.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(e,t){var n=E(r.originalEvent.target),i=e._validateEvent(r)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[t]=i})},_isContent:function(r){return!!r.closest(this._$element).length},_prepareDirections:function(r){r=r||!1,this._validDirections={},this._validDirections[Ai]=r,this._validDirections[Js]=r},_eachScroller:function(r){r=r.bind(this),U(this._scrollers,function(e,t){r(t,e)})},handleStart:function(r){this._eventForUserAction=r,this._eventHandler("start").done(this._startAction)},_saveActive:function(){Dp=this},_resetActive:function(){Dp===this&&(Dp=null)},handleMove:function(r){if(this._isLocked()){r.cancel=!0,this._resetActive();return}this._saveActive(),r.preventDefault&&r.preventDefault(),this._adjustDistance(r,r.delta),this._eventForUserAction=r,this._eventHandler("move",r.delta)},_adjustDistance:function(r,e){e.x*=this._validDirections[Ai],e.y*=this._validDirections[Js];var t=this._tryGetDevicePixelRatio();t&&uo(r.originalEvent)&&(e.x=Math.round(e.x/t*100)/100,e.y=Math.round(e.y/t*100)/100)},_tryGetDevicePixelRatio:function(){if(yt())return Rt().devicePixelRatio},handleEnd:function(r){return this._resetActive(),this._refreshCursorState(r.originalEvent&&r.originalEvent.target),this._adjustDistance(r,r.velocity),this._eventForUserAction=r,this._eventHandler("end",r.velocity).done(this._endAction)},handleCancel:function(r){return this._resetActive(),this._eventForUserAction=r,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){B.off(this._$element,".".concat(uR)),!this.option("disabled")&&this.option("useKeyboard")&&B.on(this._$element,fe("keydown",uR),this._keyDownHandler.bind(this))},_keyDownHandler:function(r){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{Jr(r)===Ql.TAB&&this._eachScroller(t=>{t._updateHandler()})}),!!this._$container.is(ce.getActiveElement(this._$container.get(0)))){var e=!0;switch(Jr(r)){case Ql.DOWN:this._scrollByLine({y:1});break;case Ql.UP:this._scrollByLine({y:-1});break;case Ql.RIGHT:this._scrollByLine({x:1});break;case Ql.LEFT:this._scrollByLine({x:-1});break;case Ql.PAGE_DOWN:this._scrollByPage(1);break;case Ql.PAGE_UP:this._scrollByPage(-1);break;case Ql.HOME:this._scrollToHome();break;case Ql.END:this._scrollToEnd();break;default:e=!1}e&&(r.stopPropagation(),r.preventDefault())}},_scrollByLine:function(r){var e=this._tryGetDevicePixelRatio(),t=Vme;e&&(t=Math.abs(t/e*100)/100),this.scrollBy({top:(r.y||0)*-t,left:(r.x||0)*-t})},_scrollByPage:function(r){var e=this._wheelProp(),t=this._dimensionByProp(e),n={},i=t==="width"?gt:Dt;n[e]=r*-i(this._$container),this.scrollBy(n)},_dimensionByProp:function(r){return r==="left"?"width":"height"},_getPropByDirection:function(r){return r===Ai?"left":"top"},_scrollToHome:function(){var r=this._wheelProp(),e={};e[r]=0,this._component.scrollTo(e)},_scrollToEnd:function(){var r=this._wheelProp(),e=this._dimensionByProp(r),t={},n=e==="width"?gt:Dt;t[r]=n(this._$content)-n(this._$container),this._component.scrollTo(t)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(r){var e=this._createActionByOption(r);return()=>{e($(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:r,vertical:e}=this._scrollers,t=this._getScrollOffset();return this._scrollOffset={top:e&&t.top,left:r&&t.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:r&&r._reachedMax(),reachedRight:r&&r._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(r){var e=[].slice.call(arguments).slice(1),t=Gn(this._scrollers,n=>n["_"+r+"Handler"].apply(n,e));return $e.apply(E,t).promise()},location:function(){var r=os(this._$content);return r.top-=this._$container.scrollTop(),r.left-=this._$container.scrollLeft(),r},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){B.off(this._$element,".".concat(zy)),!this.option("disabled")&&this._isHoverMode()&&(B.on(this._$element,fe("mouseenter",zy),this._cursorEnterHandler.bind(this)),B.on(this._$element,fe("mouseleave",zy),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(r){r=r||{},r.originalEvent=r.originalEvent||{},!(Dp||r.originalEvent._hoverHandled)&&(xs&&xs._cursorLeaveHandler(),xs=this,this._eventHandler("cursorEnter"),r.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(r){xs!==this||Dp===xs||(this._eventHandler("cursorLeave"),xs=null,this._refreshCursorState(r&&r.relatedTarget))},_refreshCursorState:function(r){if(!(!this._isHoverMode()&&(!r||Dp))){var e=E(r),t=e.closest(".".concat(cR,":not(.dx-state-disabled)")),n=t.length&&t.data(Fme);xs&&xs!==n&&xs._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var r=this._eventHandler("update").done(this._updateAction);return $e(r,qi(()=>{var e=this._allowedDirections();return jn(()=>{var t=e.vertical?"pan-x":"";t=e.horizontal?"pan-y":t,t=e.vertical&&e.horizontal?"none":t,this._$container.css("touchAction",t)}),$e().promise()}))},_allowedDirections:function(){var r=this.option("bounceEnabled"),e=this._scrollers[Js],t=this._scrollers[Ai];return{vertical:e&&(e._minOffset<0||r),horizontal:t&&(t._minOffset<0||r)}},_updateBounds:function(){this._scrollers[Ai]&&this._scrollers[Ai]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==Js},updateRtlPosition:function(r){if(r&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){var e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)}},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:r,scrollLeft:e}=this._$container.get(0),t=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===t&&this._rtlConfig.clientWidth===r&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=r,this._rtlConfig.windowPixelRatio=t}},_getWindowDevicePixelRatio:function(){return yt()?Rt().devicePixelRatio:1},scrollBy:function(r){var e=this._scrollers[Js],t=this._scrollers[Ai];e&&(r.top=e._boundLocation(r.top+e._location)-e._location),t&&(r.left=t._boundLocation(r.left+t._location)-t._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:r.left,y:r.top}),this._endAction(),this._updateRtlConfig()},validate:function(r){return uo(r)&&ii(r)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:uo(r)?this._validateWheel(r):this._validateMove(r)},_validateWheel:function(r){var e=this._scrollers[this._wheelDirection(r)],t=e._reachedMin(),n=e._reachedMax(),i=!t||!n,o=!t&&!n,a=t&&r.delta>0,s=n&&r.delta<0,l=i&&(o||a||s);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},Bme)),l},_validateMove:function(r){return!this.option("scrollByContent")&&!E(r.target).closest(".".concat(Nme)).length?!1:this._allowedDirection()},getDirection:function(r){return uo(r)?this._wheelDirection(r):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===Ai?"left":"top"},_wheelDirection:function(r){switch(this.option("direction")){case Ai:return Ai;case Js:return Js;default:return r&&r.shiftKey?Ai:Js}},dispose:function(){this._resetActive(),xs===this&&(xs=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(cR),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){B.off(this._$element,".".concat(zy)),B.off(this._$container,".".concat(uR))}}),WG="dxNativeScrollable",dR="dx-scrollable-native",Ume="dx-scrollable-scrollbar-simulated",jme="dx-scrollable-scrollbars-hidden",og="vertical",Uy="horizontal",Kme=500,kL=tr.inherit({ctor:function(r){this._init(r)},_init:function(r){this._component=r,this._$element=r.$element(),this._$container=E(r.container()),this._$content=r.$content(),this._direction=r.option("direction"),this._useSimulatedScrollbar=r.option("useSimulatedScrollbar"),this.option=r.option.bind(r),this._createActionByOption=r._createActionByOption.bind(r),this._isLocked=r._isLocked.bind(r),this._isDirection=r._isDirection.bind(r),this._allowedDirection=r._allowedDirection.bind(r),this._getMaxOffset=r._getMaxOffset.bind(r),this._isRtlNativeStrategy=r._isRtlNativeStrategy.bind(r)},render:function(){var r=Ye.real(),e=r.platform;this._$element.addClass(dR).addClass(dR+"-"+e).toggleClass(jme,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(r){r&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(Ume),this._renderScrollbar(og),this._renderScrollbar(Uy)},_renderScrollbar:function(r){this._isDirection(r)&&(this._scrollbars[r]=new a9(E("<div>").appendTo(this._$element),{direction:r,expandable:this._component.option("scrollByThumb")}))},handleInit:Z,handleStart:Z,handleMove:function(r){if(this._isLocked()){r.cancel=!0;return}this._allowedDirection()&&(r.originalEvent.isScrollingEvent=!0)},handleEnd:Z,handleCancel:Z,handleStop:Z,_eachScrollbar:function(r){r=r.bind(this),U(this._scrollbars||{},function(e,t){r(t,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:r,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-r):this._isReachedLeft(r),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(r)):this._isReachedRight(r),reachedTop:this._isDirection(og)?Math.round(e)>=0:void 0,reachedBottom:this._isDirection(og)?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:r,left:e}=this.location();return{top:-r,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(r){return this._isRtlNativeStrategy()?this._getMaxOffset().left+r:r},_isReachedLeft:function(r){return this._isDirection(Uy)?Math.round(r)>=0:void 0},_isReachedRight:function(r){return this._isDirection(Uy)?Math.round(Math.abs(r)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:r}=this.option();return r!=="never"&&r!==!1},handleScroll:function(r){this._eventForUserAction=r,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:r,left:e}=this._getScrollOffset();this._eachScrollbar(function(t){t.moveTo({top:-r,left:-e}),t.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout((function(){this._eachScrollbar(function(r){r.option("visible",!1)})}).bind(this),Kme)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:Z,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:Dt(this._$container),width:gt(this._$container)},this._componentContentSize={height:Dt(this._component.$content()),width:gt(this._component.$content())},this._contentSize={height:Dt(this._$content),width:gt(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(r,e){var t=e===og?"height":"width";r.option({containerSize:this._containerSize[t],contentSize:this._componentContentSize[t]}),r.update()})},_allowedDirections:function(){return{vertical:this._isDirection(og)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(Uy)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var r=this._$element.get(0).className,e=new RegExp(dR+"\\S*","g");e.test(r)&&this._$element.removeClass(r.match(e).join(" ")),B.off(this._$element,"."+WG),B.off(this._$container,"."+WG),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(r){r.$element().remove()})},scrollBy:function(r){var e=this.location();this._$container.scrollTop(Math.round(-e.top-r.top)),this._$container.scrollLeft(Math.round(-e.left-r.left))},validate:function(r){return this.option("disabled")||uo(r)&&this._isScrolledInMaxDirection(r)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(r){var e=this._$container.get(0),t;return r.delta>0?t=r.shiftKey?!e.scrollLeft:!e.scrollTop:r.shiftKey?t=e.scrollLeft>=this._getMaxOffset().left:t=e.scrollTop>=this._getMaxOffset().top,t},getDirection:function(){return this._allowedDirection()}}),p9=function(){return[{device:function(){return!Bh},options:{useNative:!1}},{device:function(r){return!Ye.isSimulator()&&Ye.real().deviceType==="desktop"&&r.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:Vh,showScrollbar:"onHover"}}]};function f9(r,e){for(var t={left:0,top:0},n=e;(i=n)!==null&&i!==void 0&&i.offsetParent&&!n.classList.contains(r);){var i,o=n.offsetParent,a=n.getBoundingClientRect(),s=o.getBoundingClientRect();t.left+=a.left-s.left,t.top+=a.top-s.top,n=n.offsetParent}return t}var Xb="vertical",v9="horizontal",hR="both",g9="dx-scrollable-content";function qme(r,e,t,n,i){var o=b({top:0,left:0,right:0,bottom:0},i),a=e===Xb,s=a?"top":"left",l=a?"bottom":"right",u=a?"height":"width",c=t["offset".concat(S_(u))],d=t["client".concat(S_(u))],h=t.getBoundingClientRect()[u],p=r.getBoundingClientRect()[u],f=1;Math.abs(h-c)>1&&(f=h/c);var v=f9(g9,r)[s]/f,g=n[s],m=g-v+o[s],C=g-v-p/f+d-o[l];return m<=0&&C>=0?g:g-(Math.abs(m)>Math.abs(C)?C:m)}var ll="dxScrollable",Yme="dxScrollableStrategy",zG="dx-scrollable",Xme="dx-scrollable-disabled",Qme="dx-scrollable-container",Zme="dx-scrollable-wrapper",UG="dx-scrollable-content",el="vertical",Zl="horizontal",pR="both",Oa=jl.inherit({_getDefaultOptions:function(){return $(this.callBase(),{disabled:!1,onScroll:null,direction:el,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(p9(),[{device:function(){return Bh&&Ye.real().platform==="android"&&!Gr.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(r){this.callBase(r),"useSimulatedScrollbar"in r||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(r){r?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var r=this.$element().addClass(zG),e=this._$container=E("<div>").addClass(Qme),t=this._$wrapper=E("<div>").addClass(Zme),n=this._$content=E("<div>").addClass(UG);n.append(r.contents()).appendTo(e),e.appendTo(t),t.appendTo(r)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(r){this._strategy.updateRtlPosition(r)},_getMaxOffset:function(){var{scrollWidth:r,clientWidth:e,scrollHeight:t,clientHeight:n}=E(this.container()).get(0);return{left:r-e,top:t-n}},_attachEventHandlers:function(){var r=this._strategy,e={getDirection:r.getDirection.bind(r),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};B.off(this._$wrapper,"."+ll),B.on(this._$wrapper,fe(Op.init,ll),e,this._initHandler.bind(this)),B.on(this._$wrapper,fe(Op.start,ll),r.handleStart.bind(r)),B.on(this._$wrapper,fe(Op.move,ll),r.handleMove.bind(r)),B.on(this._$wrapper,fe(Op.end,ll),r.handleEnd.bind(r)),B.on(this._$wrapper,fe(Op.cancel,ll),r.handleCancel.bind(r)),B.on(this._$wrapper,fe(Op.stop,ll),r.handleStop.bind(r)),B.off(this._$container,"."+ll),B.on(this._$container,fe("scroll",ll),r.handleScroll.bind(r))},_validate:function(r){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(r))},_moveIsAllowed(r){return this._strategy.validate(r)},handleMove(r){this._strategy.handleMove(r)},_prepareDirections(r){this._strategy._prepareDirections(r)},_initHandler:function(){var r=this._strategy;r.handleInit.apply(r,arguments)},_renderDisabledState:function(){this.$element().toggleClass(Xme,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+Zl).removeClass("dx-scrollable-"+el).removeClass("dx-scrollable-"+pR).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(Yme,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new kL(this):new h9(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(r){switch(r.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(r),this._updateRtlPosition();break;default:this.callBase(r)}},_resetInactiveDirection:function(){var r=this._getInactiveProp();if(!(!r||!yt())){var e=this.scrollOffset();e[r]=0,this.scrollTo(e)}},_getInactiveProp:function(){var r=this.option("direction");if(r===el)return"left";if(r===Zl)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(r){if(Nt(r)){var e=an(r.left,r.x),t=an(r.top,r.y);return{left:L(e)?-e:void 0,top:L(t)?-t:void 0}}else{var n=this.option("direction");return{left:n!==el?-r:void 0,top:n!==Zl?-r:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(r){var e=this.option("direction");return r===el?e!==Zl:r===Zl?e!==el:e===r},_updateAllowedDirection:function(){var r=this._strategy._allowedDirections();this._isDirection(pR)&&r.vertical&&r.horizontal?this._allowedDirectionValue=pR:this._isDirection(Zl)&&r.horizontal?this._allowedDirectionValue=Zl:this._isDirection(el)&&r.vertical?this._allowedDirectionValue=el:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return ut(this._$content)},container:function(){return ut(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:r,rtlEnabled:e}=this.option();return r&&e},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return Dt(this._$container)},scrollHeight:function(){return Vt(this.$content())},clientWidth:function(){return gt(this._$container)},scrollWidth:function(){return er(this.$content())},update:function(){if(this._strategy)return $e(this._strategy.update()).done((function(){this._updateAllowedDirection()}).bind(this))},scrollBy:function(r){r=this._normalizeLocation(r),!(!r.top&&!r.left)&&(this._updateIfNeed(),this._strategy.scrollBy(r))},scrollTo:function(r){r=this._normalizeLocation(r),this._updateIfNeed();var e=this._location();this.option("useNative")||(r=this._strategy._applyScaleRatio(r),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var t=this._normalizeLocation({left:e.left-an(r.left,e.left),top:e.top-an(r.top,e.top)});!t.top&&!t.left||this._strategy.scrollBy(t)},scrollToElement:function(r,e){var t=E(r),n=this.$content().find(r).length,i=t.parents("."+zG).length-t.parents("."+UG).length===0;if(!(!n||!i)){var o={top:0,left:0},a=this.option("direction");a!==el&&(o.left=this.getScrollElementPosition(t,Zl,e)),a!==Zl&&(o.top=this.getScrollElementPosition(t,el,e)),this.scrollTo(o)}},getScrollElementPosition:function(r,e,t){var n=this.scrollOffset();return qme(r.get(0),e,E(this.container()).get(0),n,t)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!Oa.IS_RENOVATED_WIDGET}});Kt(ll,Oa);var Jme="rowsview",e_e="content",t_e="nowrap",fR="dx-group-row",jG="dx-group-cell",r_e="dx-data-row",jy="dx-freespace-row",n_e="dx-row-lines",KG="dx-column-lines",qG="dx-row-alt",YG="dx-last-row-border",i_e="dx-empty",o_e="row-inserted-animation",a_e=200;function XG(r){return r?Math.round(r.scrollWidth()-r.clientWidth()):0}function QG(r){var{rowType:e,column:t}=r;return e==="group"&&L(t.groupIndex)&&!t.showWhenGrouped&&!t.command}function ZG(r){var{element:e,watch:t,getter:n,callBack:i}=r;if(t){var o=t(n,i);B.on(e,yo,o)}}var s_e=function(r,e){var t=Vw(e.text)&&e.rowType==="data",{text:n}=e,i=r.get(0);t?ye.setEmptyText(r):e.column.encodeHtml?i.textContent=n:i.innerHTML=n},l_e=function(r){var e=r.getScrollable();return e?Math.ceil(parseFloat(E(e.content()).css("paddingBottom"))):0};class u_e extends NC{_getDefaultTemplate(e){switch(e.command){case"empty":return function(t){t.html("&nbsp;")};default:return s_e}}_getDefaultGroupTemplate(e){var t=this.option("summary.texts");return function(n,i){var{data:o}=i,a="".concat(i.column.caption,": ").concat(i.text),s=n.get(0);i.summaryItems&&i.summaryItems.length&&(a+=" ".concat(ye.getGroupRowSummaryText(i.summaryItems,t))),o&&(i.groupContinuedMessage&&i.groupContinuesMessage?a+=" (".concat(i.groupContinuedMessage,". ").concat(i.groupContinuesMessage,")"):i.groupContinuesMessage?a+=" (".concat(i.groupContinuesMessage,")"):i.groupContinuedMessage&&(a+=" (".concat(i.groupContinuedMessage,")"))),e.encodeHtml?s.textContent=a:s.innerHTML=a}}_update(e){}_updateCell(e,t){QG(t)&&e.addClass(jG),super._updateCell.apply(this,arguments)}_getCellTemplate(e){var{column:t}=e,n;return QG(e)?n=t.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(t)}:(e.rowType==="data"||t.command)&&t.cellTemplate?n=t.cellTemplate:n={allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(t)},n}_createRow(e,t){var n=super._createRow.apply(this,arguments);if(e){var i=e.rowType==="group",o=e.rowType==="data";o&&n.addClass(r_e),o&&this.option("showRowLines")&&n.addClass(n_e),this.option("showColumnLines")&&n.addClass(KG),e.visible===!1&&n.hide(),i&&(n.addClass(fR),this.setAria("role","row",n),this.setAriaExpandedAttribute(n,e))}return n}_rowPrepared(e,t,n){t.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass(qG),ZG({element:e.get(0),watch:t.watch,getter:()=>this._isAltRow(n),callBack:i=>{e.toggleClass(qG,i)}})),this._setAriaRowIndex(t,e),ZG({element:e.get(0),watch:t.watch,getter:()=>t.rowIndex,callBack:()=>this._setAriaRowIndex(t,e)})),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(e,t){var{component:n}=this,i=n.option("scrolling.mode")==="standard"&&!ye.isVirtualRowRendering(n),o=e.rowIndex+1;i?o=n.pageIndex()*n.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,t)}setAriaExpandedAttribute(e,t){var n=t.isExpanded?this.localize("dxDataGrid-ariaExpandedRow"):this.localize("dxDataGrid-ariaCollapsedRow");this.setAria("roledescription",n,e)}_afterRowPrepared(e){var t=e.args[0],n=this._dataController,i=n.getVisibleRows()[t.rowIndex],o=this.option("integrationOptions.watchMethod");if(!(!t.data||t.rowType!=="data"||t.isNewRow||!this.option("twoWayBindingEnabled")||!o||!i)){var a=o(()=>n.generateDataValues(t.data,t.columns),()=>{n.repaintRows([i.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});B.on(t.rowElement,yo,a)}}_renderScrollable(e){var t=this.element();if(t.children().length||t.append("<div>"),(e||!this._loadPanel)&&this._renderLoadPanel(t,t.parent(),this._dataController.isLocalStore()),(e||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),i=!0,o=0;o<n.length;o++)if(!n[o].width&&!n[o].minWidth){i=!1;break}(this.option("columnAutoWidth")||this._hasHeight||i||this._columnsController._isColumnFixing())&&this._renderScrollableCore(t)}}_handleScroll(e){var t=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;var i=e.scrollOffset.left;t&&(this._scrollRight=XG(e.component)-this._scrollLeft,n&&(i=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(b(b({},e.scrollOffset),{left:i}),this.name)}_renderScrollableCore(e){var t=this._createScrollableOptions(),n=this._handleScroll.bind(this);t.onScroll=n,this._scrollable=this._createComponent(e,Oa,t),this._scrollableContainer=this._scrollable&&E(this._scrollable.container())}_renderLoadPanel(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ye.renderLoadPanel.apply(this,arguments)}_renderContent(e,t,n){return e.empty().append(t),this._findContentElement()}_updateContent(e,t,n){return this._contentChanges.push({newTableElement:e,change:t,isFixedTableRendering:n}),this.waitAsyncTemplates().done(()=>{var i=this._contentChanges;this._contentChanges=[],i.forEach(o=>{var{newTableElement:a,change:s,isFixedTableRendering:l}=o,u=this.getTableElement(l),c=this._findContentElement(l),d=s==null?void 0:s.changeType,h=[],p=this.option("highlightChanges"),f=this.addWidgetPrefix(o_e);switch(d){case"update":U(s.rowIndices,(v,g)=>{var m,C=this._getRowElements(a).eq(v),y=(m=s.changeTypes)===null||m===void 0?void 0:m[v],w=s.items&&s.items[v];h.push(()=>{var T,S=this._getRowElements(u),x=S.eq(g);switch(y){case"update":if(w){var I=(T=s.columnIndices)===null||T===void 0?void 0:T[v];L(w.visible)&&w.visible!==x.is(":visible")?x.toggle(w.visible):I?this._updateCells(x,C,I):x.replaceWith(C)}break;case"insert":if(S.length)x.length?C.insertBefore(x):C.insertAfter(S.last());else if(u){var R=C.is("tbody")?u:u.children("tbody");C.prependTo(R)}p&&s.isLiveUpdate&&C.addClass(f);break;case"remove":x.remove()}})}),U(h,function(){this()}),a.remove();break;default:this.setTableElement(a,l),c.addClass(this.addWidgetPrefix(e_e)),this._setGridRole(c),this._renderContent(c,a,l)}})}).fail(()=>{this._contentChanges=[]})}_getGridRoleName(){return"grid"}_setGridRole(e){var t,n=!(!((t=this._dataController)===null||t===void 0)&&t.isEmpty()),i=this._getGridRoleName();e!=null&&e.length&&n&&this.setAria("role",i,e)}_createEmptyRow(e,t,n){var i,o=this._createRow(),a=t?this.getFixedColumns():this.getColumns();o.addClass(e).toggleClass(KG,this.option("showColumnLines"));for(var s=0;s<a.length;s++)i=this._createCell({column:a[s],rowType:"freeSpace",columnIndex:s,columns:a}),Tr(n)&&i.css("height",n),o.append(i);return this.setAria("role","presentation",o),o}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(e,t,n){var i=this._getBodies(e),o=!i.length||t.is("tbody"),a=o?e:i;if(n==="top"){if(a.first().prepend(t),o){var s=a.children("colgroup");a.prepend(s)}}else a.last().append(t)}_renderFreeSpaceRow(e,t){var n=this._createEmptyRow(jy);n=this._wrapRowIfNeed(e,n,(t==null?void 0:t.changeType)==="refresh"),this._appendEmptyRow(e,n)}_checkRowKeys(e){var t=this,n=t._getRows(e),i=t._dataController.store()&&t._dataController.store().key();i&&n.some(o=>{if(o.rowType==="data"&&o.key===void 0)return t._dataController.fireError("E1046",i),!0})}_needUpdateRowHeight(e){return e>0&&!this._rowHeight}_getRowsHeight(e){e=e||this._tableElement;var t=e.children("tbody").children().not(".dx-virtual-row").not(".".concat(jy));return t.toArray().reduce((n,i)=>n+Dn(i).height,0)}_updateRowHeight(){var e=this.getTableElement(),t=this._dataController.items().length;if(e&&this._needUpdateRowHeight(t)){var n=this._getRowsHeight(e);this._rowHeight=n/t}}_findContentElement(e){var t=this.element(),n=this.getScrollable();if(t)return n&&(t=E(n.content())),t.children().first()}_getRowElements(e){var t=super._getRowElements(e);return t&&t.not(".".concat(jy))}_getFreeSpaceRowElements(e){var t=e||this.getTableElements();return t&&t.children("tbody").children(".".concat(jy))}_getNoDataText(){return this.option("noDataText")}_rowClick(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",$({evaluate(n){var i=Ar(n);return i(t.data)}},e,t))}_rowDblClick(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",$({},e,t))}_getColumnsCountBeforeGroups(e){for(var t=0;t<e.length;t++)if(e[t].type==="groupExpand")return t;return 0}_getGroupCellOptions(e){var t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(e,t){t.row.rowType==="group"?this._renderGroupedCells(e,t):t.row.values&&super._renderCells(e,t)}_renderGroupedCells(e,t){for(var{row:n}=t,i,{columns:o}=t,{rowIndex:a}=n,s,l=this._getGroupCellOptions(t),u=0;u<=l.columnIndex;u++)u===l.columnIndex&&o[u].allowCollapsing&&t.scrollingMode!=="infinite"?(s=!!n.isExpanded,i=o[u]):(s=null,i={command:"expand",cssClass:o[u].cssClass}),this._needRenderCell(u,t.columnIndices)&&this._renderCell(e,{value:s,row:n,rowIndex:a,column:i,columnIndex:u,columnIndices:t.columnIndices,change:t.change});var c=ud(this.option("rtlEnabled")),d=$({},o[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:c});l.colspan>1&&(d.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,t.columnIndices)&&this._renderCell(e,{value:n.values[n.groupIndex],row:n,rowIndex:a,column:d,columnIndex:l.columnIndex+1,columnIndices:t.columnIndices,change:t.change})}_renderRows(e,t){var n=this.option("scrolling.mode");super._renderRows(e,$({scrollingMode:n},t)),this._checkRowKeys(t.change),this._renderFreeSpaceRow(e,t.change),this._hasHeight||this.updateFreeSpaceRowHeight(e)}_renderDataRowByTemplate(e,t,n){var{row:i}=t,o=$({columns:t.columns},i),a=this._createRow(i,"tbody");a.appendTo(e),this.renderTemplate(a,n,o,!0,t.change),this._rowPrepared(a,o,t.row)}_renderRow(e,t){var{row:n}=t,{rowTemplate:i}=this.option(),o=this.option("dataRowTemplate");n.rowType==="data"&&o?this._renderDataRowByTemplate(e,t,o):(n.rowType==="data"||n.rowType==="group")&&!L(n.groupIndex)&&i?this.renderTemplate(e,i,$({columns:t.columns},n),!0):super._renderRow(e,t)}_renderTable(e){var t=this,n=super._renderTable(e);return L(t.getTableElement())?t._renderScrollable():(t.setTableElement(n),t._renderScrollable(!0),t.resizeCompleted.add(function i(){var o=t.getScrollable();o&&t.element().closest(Rt().document).length&&(t.resizeCompleted.remove(i),o._visibilityChanged(!0))})),n}_createTable(){var e=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&e.appendTo(this.component.$element()),e}_renderCore(e){var t=this.element();t.addClass(this.addWidgetPrefix(Jme)).toggleClass(this.addWidgetPrefix(t_e),!this.option("wordWrapEnabled")),t.toggleClass(i_e,this._dataController.isEmpty()),this.setAria("role","presentation",t);var n=this._renderTable({change:e}),i=this._updateContent(n,e);return super._renderCore(e),this._lastColumnWidths=null,i}_getRows(e){return e&&e.items||this._dataController.items()}_getCellOptions(e){var{column:t}=e,{row:n}=e,{data:i}=n,o=n&&n.summaryCells,{value:a}=e,s=ye.getDisplayValue(t,a,i,n.rowType),l=super._getCellOptions(e);if(l.value=a,l.oldValue=e.oldValue,l.displayValue=s,l.row=n,l.key=n.key,l.data=i,l.rowType=n.rowType,l.values=n.values,l.text=t.command?"":ye.formatValue(s,t),l.rowIndex=n.rowIndex,l.summaryItems=o&&o[e.columnIndex],l.resized=t.resizedCallbacks,L(t.groupIndex)&&!t.command){var u=this.option("grouping.texts"),c=this.option("scrolling.mode");c!=="virtual"&&c!=="infinite"&&(l.groupContinuesMessage=i&&i.isContinuationOnNextPage&&u&&u.groupContinuesMessage,l.groupContinuedMessage=i&&i.isContinuation&&u&&u.groupContinuedMessage)}return l}_setRowsOpacityCore(e,t,n,i){var o=this._columnsController,a=o.getColumns(),s=a&&a[n],l=s&&s.isBand&&s.index;U(e,(u,c)=>{if(!E(c).hasClass(fR))for(var d=0;d<t.length&&!((Tr(l)&&o.isParentBandColumn(t[d].index,l)||t[d].index===n)&&(e.eq(u).children().eq(d).css({opacity:i}),!Tr(l)));d++);})}_getDevicePixelRatio(){return Rt().devicePixelRatio}renderNoDataText(){return ye.renderNoDataText.apply(this,arguments)}getCellOptions(e,t){var n=this._dataController.items()[e],i,o;return n&&(ft(t)?o=this._columnsController.columnOption(t):o=this._columnsController.getVisibleColumns()[t],o&&(i=this._getCellOptions({value:o.calculateCellValue(n.data),rowIndex:n.rowIndex,row:n,column:o}))),i}getRow(e){if(e>=0){var t=this._getRowElements();if(t.length>e)return E(t[e])}}updateFreeSpaceRowHeight(e){var t=this._dataController,n=t.items(!0).length,i=this._findContentElement(),o=this._getFreeSpaceRowElements(e);if(o&&i&&t.totalCount()>=0){var a=!1;if(n>0)if(this._hasHeight)o.hide(),qi(()=>{var u=this.getScrollbarWidth(!0),c=Dt(this.element())-u,d=Vt(i),h=c-d>0,p=this._getRowsHeight(i.children().first()),f=e||this.getTableElements(),v=Math.ceil(parseFloat(f.css("borderTopWidth"))),g=this._getHeightCorrection(),m=c-p-v-g;h&&jn(()=>{o.css("height",m),a=!0,o.show()}),jn(()=>this._updateLastRowBorder(a))});else{var s=t.pageSize()-n,l=this.option("scrolling.mode");s>0&&t.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(_T(o,s*this._rowHeight),a=!0),!a&&e?_T(o,0):o.toggle(a),this._updateLastRowBorder(a)}else o.css("height",0),o.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){var e=Gr.webkit&&this._getDevicePixelRatio()>=2,t=Gr.chrome&&Gr.version>=91,n=Gr.mozilla&&Gr.version>=70&&!this.option("showRowLines");return e||n||t?1:0}_columnOptionChanged(e){var{optionNames:t}=e;e.changeTypes.grouping||(t.width||t.visibleWidth)&&(super._columnOptionChanged(e),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}init(){var e=this,t=e.getController("data");super.init(),e._editorFactoryController=e.getController("editorFactory"),e._rowHeight=0,e._scrollTop=0,e._scrollLeft=-1,e._scrollRight=0,e._hasHeight=void 0,e._contentChanges=[],t.loadingChanged.add((n,i)=>{e.setLoading(n,i)}),t.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_handleDataChanged(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return gt(this.element())-this.getScrollbarWidth()}getScrollbarWidth(e){var t=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return t&&(e?(n=t.clientHeight?t.offsetHeight-t.clientHeight:0,n+=l_e(this)):n=t.clientWidth?t.offsetWidth-t.clientWidth:0),n>0?n:0}_fireColumnResizedCallbacks(){for(var e=this._lastColumnWidths||[],t=[],n=this.getColumns(),i=0;i<n.length;i++)t[i]=n[i].visibleWidth,n[i].resizedCallbacks&&!L(n[i].groupIndex)&&e[i]!==t[i]&&n[i].resizedCallbacks.fire(t[i]);this._lastColumnWidths=t}_updateLastRowBorder(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(YG):this.element().removeClass(YG)}_updateScrollable(){var e=Oa.getInstance(this.element());e&&(e.update(),(e.option("useNative")||!(e!=null&&e.isRenovated()))&&this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){var e=this.getScrollable(),t=e&&e.scrollOffset().left,n=this.option("rtlEnabled");if(n){var i=XG(e),o=i-t;o!==this._scrollRight&&(this._scrollLeft=i-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})}_resizeCore(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),jn(()=>{e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),qi(()=>{e._updateScrollable()})})}scrollTo(e){var t=this.element(),n=t&&Oa.getInstance(t);n&&n.scrollTo(e)}height(e){var t=this.element();if(arguments.length===0)return t?Vt(t,!0):0;L(e)&&t&&(this.hasHeight(e!=="auto"),_T(t,e))}hasHeight(e){if(arguments.length===0)return!!this._hasHeight;this._hasHeight=e}setLoading(e,t){var n=this._loadPanel,i=this._dataController,o=this.option("loadPanel")||{},a=i.isLoaded()?o.animation:null,s=this.element();if(yt()&&(!n&&t!==void 0&&i.isLocalStore()&&o.enabled==="auto"&&s&&(this._renderLoadPanel(s,s.parent()),n=this._loadPanel),n)){var l={message:t||o.text,animation:a,visible:e};e&&(l.position=ye.calculateLoadPanelPosition(s)),clearTimeout(this._hideLoadingTimeoutID),n.option("visible")&&!e?this._hideLoadingTimeoutID=setTimeout(()=>{n.option(l)},a_e):n.option(l)}}setRowsOpacity(e,t){var n=this._getRowElements().not(".".concat(fR))||[];this._setRowsOpacityCore(n,this.getColumns(),e,t)}_getCellElementsCore(e){var t=super._getCellElementsCore.apply(this,arguments);if(t){var n=t.filter(".".concat(jG)).index();if(n>=0&&t.length>n+1)return t.slice(0,n+1)}return t}_getBoundaryVisibleItemIndex(e,t){var n=0,i=0,o=0,a=this._scrollTop,s=this._findContentElement(),l=s&&s.offset().top,u=this.getController("data"),c=u.items(),d=this.getTableElement();if(c.length&&d){var h=this._getRowElements(d).filter(":visible");if(!e){var p=Vt(this._hasHeight?this.element():Rt());a+=p}for(n=0;n<c.length;n++){i=o;var f=E(h).eq(n);if(f.length&&(o=f.offset(),o=(e?o.top:o.top+Vt(f))-l,o>a)){n&&(t||2*a<Math.round(o+i))&&n--;break}}n&&n===c.length&&n--}return n}getTopVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!0,e)}getBottomVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!1,e)}getTopVisibleRowData(){var e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data}_scrollToElement(e,t){var n=this.getScrollable();n&&n.scrollToElement(e,t)}optionChanged(e){switch(super.optionChanged(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),e.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,e.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,e.fullName!=="loadPanel.enabled"),e.handled=!0;break;case"noDataText":this.renderNoDataText(),e.handled=!0}}setAriaOwns(e,t){var n,i=this._findContentElement(),o=this.getTableElement();o!=null&&o.length&&this.setAria("owns","".concat(e??""," ").concat((n=o.attr("id"))!==null&&n!==void 0?n:""," ").concat(t??"").trim(),i)}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(){}_restoreErrorRow(){}}var m9={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:J.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:J.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:u_e}};m9.views.rowsView;at.registerModule("rows",m9);var JG="dx-inkripple",e$="dx-inkripple-wave",_9="dx-inkripple-showing",C9="dx-inkripple-hiding",c_e=2,d_e=4e3,vR=300,h_e=1e3,y9=0,S9=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:e,waveSizeCoefficient:t,isCentered:n,wavesNumber:i}=r;return{waveSizeCoefficient:t||c_e,isCentered:n||!1,wavesNumber:i||1,durations:g_e(e??!0)}},VL=function(r){var e=S9(r);return{showWave:b9.bind(this,e),hideWave:x9.bind(this,e)}},p_e=function(r){var e=r.children("."+JG);return e.length===0&&(e=E("<div>").addClass(JG).appendTo(r)),e},w9=function(r,e){for(var t=p_e(E(r)),n=t.children("."+e$).toArray(),i=n.length;i<e;i++){var o=E("<div>").appendTo(t).addClass(e$);n.push(o[0])}return E(n)},f_e=function(r,e){var t=E(e.element),n=er(t),i=Vt(t),o=parseInt(Math.sqrt(n*n+i*i)),a=Math.min(d_e,parseInt(o*r.waveSizeCoefficient)),s,l;if(r.isCentered)s=(n-a)/2,l=(i-a)/2;else{var u=e.event,c=t.offset(),d=u.pageX-c.left,h=u.pageY-c.top;s=d-a/2,l=h-a/2}return{left:s,top:l,height:a,width:a}};function b9(r,e){var t=w9(e.element,r.wavesNumber).eq(e.wave||y9);r.hidingTimeout&&clearTimeout(r.hidingTimeout),E9(t),t.css(f_e(r,e)),r.showingTimeout=setTimeout(v_e.bind(this,r,t),0)}function v_e(r,e){var t=r.durations.showingScale+"ms";e.addClass(_9).css("transitionDuration",t)}function g_e(r){return{showingScale:r?h_e:vR,hidingScale:vR,hidingOpacity:vR}}function E9(r){r.removeClass(C9).css("transitionDuration","")}function x9(r,e){r.showingTimeout&&clearTimeout(r.showingTimeout);var t=w9(e.element,e.wavesNumber).eq(e.wave||y9),n=r.durations,i=n.hidingScale+"ms, "+n.hidingOpacity+"ms";t.addClass(C9).removeClass(_9).css("transitionDuration",i);var o=Math.max(n.hidingScale,n.hidingOpacity);r.hidingTimeout=setTimeout(E9.bind(this,t),o)}var ag="dx-icon",m_e="dx-svg-icon",VC=r=>!r||typeof r!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(r)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(r)?"image":/^[\w-_]+$/.test(r)?"dxIcon":/^\s?([\w-_:]\s?)+$/.test(r)?"fontIcon":!1,Du=r=>{switch(VC(r)){case"image":return E("<img>").attr("src",r).addClass(ag);case"fontIcon":return E("<i>").addClass("".concat(ag," ").concat(r));case"dxIcon":return E("<i>").addClass("".concat(ag," ").concat(ag,"-").concat(r));case"svg":return E("<i>").addClass("".concat(ag," ").concat(m_e)).append(r);default:return null}};function __e(r){return class{constructor(){throw new Error("Module '".concat(r,"' not found"))}static getInstance(){}}}var t$=__e("TextBox");const zh={_getDefaultOptions:function(){return $(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var r=this.$element(),e=this.option("searchEnabled"),t=this._addWidgetPrefix("search"),n=this._addWidgetPrefix("with-search");if(!e){r.removeClass(n),this._removeSearchBox();return}var i=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(i):(r.addClass(n),this._$searchEditorElement=E("<div>").addClass(t).prependTo(r),this._searchEditor=this._createComponent(this._$searchEditorElement,t$,i))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var r=this,e=r.option("searchEditorOptions"),t=J.format("Search");return $({mode:"search",placeholder:t,tabIndex:r.option("tabIndex"),value:r.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":t},onValueChanged:function(n){var i=r.option("searchTimeout");r._valueChangeDeferred=new X,clearTimeout(r._valueChangeTimeout),r._valueChangeDeferred.done((function(){this.option("searchValue",n.value)}).bind(r)),n.event&&n.event.type==="input"&&i?r._valueChangeTimeout=setTimeout(function(){r._valueChangeDeferred.resolve()},i):r._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(r,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(r,e)},getOperationBySearchMode:function(r){return r==="equals"?"=":r},_optionChanged:function(r){switch(r.name){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){Ht.log("W1009");return}r.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(r.value)):this._dataSource[r.name](r.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(r)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_cleanAria:function(){var r=this.$element();this.setAria({role:null,activedescendant:null},r),r.attr("tabIndex",null)},_clean(){this.callBase(),this._cleanAria()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(r){t$=r}};var{ios:C_e,mac:y_e}=Ye.real(),S_e=C_e||y_e,w_e=function(r){var e;try{e={start:r.selectionStart,end:r.selectionEnd}}catch{e={start:0,end:0}}return e},b_e=function(r,e){var t=ce.getBody();if(!(!t.contains(r)&&!t.contains(r.getRootNode().host)))try{r.selectionStart=e.start,r.selectionEnd=e.end}catch{}},E_e=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(r=E(r).get(0),!L(e))return w_e(r);!t&&S_e&&ce.getActiveElement(r)!==r||b_e(r,e)},mf=" ",I9=tr.inherit({ctor:function(r){this._value=mf,$(this,r)},next:function(r){if(!arguments.length)return this._next;this._next=r},text:Z,value:Z,rawValue:Z,handle:Z,_prepareHandlingArgs:function(r,e){var t,n,i;e=e||{};var o=Object.prototype.hasOwnProperty.call(r,"value")?"value":"text";return r[o]=(t=e.str)!==null&&t!==void 0?t:r[o],r.start=(n=e.start)!==null&&n!==void 0?n:r.start,r.length=(i=e.length)!==null&&i!==void 0?i:r.length,r.index=r.index+1,r},reset:Z,clear:Z,first:function(r){return r=r||0,this.next().first(r+1)},isAccepted:function(){return!1},adjustedCaret:function(r,e,t){return e?this._adjustedForward(r,0,t):this._adjustedBackward(r,0,t)},_adjustedForward:Z,_adjustedBackward:Z,isValid:Z}),x_e=I9.inherit({next:Z,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),T9=I9.inherit({text:function(){return(this._value!==mf?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(r){var e=Object.prototype.hasOwnProperty.call(r,"value")?r.value:r.text;if(!e||!e.length||!r.length)return 0;if(r.start)return this.next().handle(this._prepareHandlingArgs(r,{start:r.start-1}));var t=e[0],n=e.substring(1);return this._tryAcceptChar(t,r),this._accepted()?this.next().handle(this._prepareHandlingArgs(r,{str:n,length:r.length-1}))+1:this.handle(this._prepareHandlingArgs(r,{str:n,length:r.length-1}))},clear:function(r){this._tryAcceptChar(mf,r),this.next().clear(this._prepareHandlingArgs(r))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(r,e){if(this._accepted(!1),!!this._isAllowed(r,e)){var t=r===mf?this.maskChar:r;e.fullText=e.fullText.substring(0,e.index)+t+e.fullText.substring(e.index+1),this._accepted(!0),this._value=r}},_accepted:function(r){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!r},first:function(r){return this._value===mf?r||0:this.callBase(r)},_isAllowed:function(r,e){return r===mf?!0:this._isValid(r,e)},_isValid:function(r,e){var t=this.allowedChars;return t instanceof RegExp?t.test(r):Ne(t)?t(r,e.index,e.fullText):Array.isArray(t)?t.includes(r):t===r},isAccepted:function(r){return r===0?this._accepted():this.next().isAccepted(r-1)},_adjustedForward:function(r,e,t){return e>=r?e:this.next()._adjustedForward(r,e+1,t)||e+1},_adjustedBackward:function(r,e){return e>=r-1?r:this.next()._adjustedBackward(r,e+1)||e+1},isValid:function(r){return this._isValid(this._value,r)&&this.next().isValid(this._prepareHandlingArgs(r))}}),r$=T9.inherit({value:function(){return this.next().value()},handle:function(r){var e=Object.prototype.hasOwnProperty.call(r,"value"),t=e?r.value:r.text;if(!t.length||!r.length)return 0;if(r.start||e)return this.next().handle(this._prepareHandlingArgs(r,{start:r.start&&r.start-1}));var n=t[0],i=t.substring(1);this._tryAcceptChar(n);var o=this._isAllowed(n)?this._prepareHandlingArgs(r,{str:i,length:r.length-1}):r;return this.next().handle(o)+1},clear:function(r){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(r))},_tryAcceptChar:function(r){this._accepted(this._isValid(r))},_isValid:function(r){return r===this.maskChar},first:function(r){return r=r||0,this.next().first(r+1)},_adjustedForward:function(r,e,t){return e>=r&&t===this.maskChar?e:r===e+1&&this._accepted()?r:this.next()._adjustedForward(r,e+1,t)},_adjustedBackward:function(r,e){return e>=r-1?0:this.next()._adjustedBackward(r,e+1)},isValid:function(r){return this.next().isValid(this._prepareHandlingArgs(r))}}),I_e=/^[\d\w.+_-]+@[\d\w._-]+\.[\w]+$/i,kn={valid:"valid",invalid:"invalid",pending:"pending"};class cd{constructor(){this.NAME="base"}defaultMessage(e){return J.getFormatter("validation-".concat(this.NAME))(e)}defaultFormattedMessage(e){return J.getFormatter("validation-".concat(this.NAME,"-formatted"))(e)}_isValueEmpty(e){return!BC.required.validate(e,{})}validate(e,t){var n=Array.isArray(e)?e:[e],i=!0;return n.length?n.every(o=>(i=this._validate(o,t),i)):i=this._validate(null,t),i}}class T_e extends cd{constructor(){super(),this.NAME="required"}_validate(e,t){return!L(e)||e===!1?!1:(e=String(e),(t.trim||!L(t.trim))&&(e=e.trim()),e!=="")}}class R_e extends cd{constructor(){super(),this.NAME="numeric"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:t.useCultureSettings&&ft(e)?!isNaN(Lr.parse(e)):Tr(e)}}class O_e extends cd{constructor(){super(),this.NAME="range"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=BC.numeric.validate(e,t),i=L(e)&&e!=="",o=n?parseFloat(e):i&&e.valueOf(),a=t.min,s=t.max;if(!(n||Zo(e))&&!i)return!1;if(L(a))return L(s)?o>=a&&o<=s:o>=a;if(L(s))return o<=s;throw br.Error("E0101")}}class D_e extends cd{constructor(){super(),this.NAME="stringLength"}_validate(e,t){var n;return e=String((n=e)!==null&&n!==void 0?n:""),(t.trim||!L(t.trim))&&(e=e.trim()),t.ignoreEmptyValue&&this._isValueEmpty(e)?!0:BC.range.validate(e.length,$({},t))}}class R9 extends cd{constructor(){super(),this.NAME="custom"}validate(e,t){if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=t.validator,i=n&&Ne(n.option)&&n.option("dataGetter"),o=Ne(i)&&i(),a={value:e,validator:n,rule:t};return o&&$(a,o),t.validationCallback(a)}}class A_e extends R9{constructor(){super(),this.NAME="async"}validate(e,t){if(L(t.reevaluate)||$(t,{reevaluate:!0}),t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=t.validator,i=n&&Ne(n.option)&&n.option("dataGetter"),o=Ne(i)&&i(),a={value:e,validator:n,rule:t};o&&$(a,o);var s=t.validationCallback(a);if(!wv(s))throw br.Error("E0103");return this._getWrappedPromise(ui(s).promise())}_getWrappedPromise(e){var t=new X;return e.then(function(n){t.resolve(n)},function(n){var i={isValid:!1};L(n)&&(ft(n)?i.message=n:pt(n)&&L(n.message)&&ft(n.message)&&(i.message=n.message)),t.resolve(i)}),t.promise()}}class P_e extends cd{constructor(){super(),this.NAME="compare"}_validate(e,t){if(!t.comparisonTarget)throw br.Error("E0102");if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;$(t,{reevaluate:!0});var n=t.comparisonTarget(),i=t.comparisonType||"==";switch(i){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}}class M_e extends cd{constructor(){super(),this.NAME="pattern"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=t.pattern;return ft(n)&&(n=new RegExp(n)),n.test(e)}}class F_e extends cd{constructor(){super(),this.NAME="email"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:BC.pattern.validate(e,$({},t,{pattern:I_e}))}}var BC={required:new T_e,numeric:new R_e,range:new O_e,stringLength:new D_e,custom:new R9,async:new A_e,compare:new P_e,pattern:new M_e,email:new F_e},L_e=tr.inherit({ctor(r){this.group=r,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new lp(this)},validate(){var r={isValid:!0,brokenRules:[],validators:[],status:kn.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),U(this.validators,(e,t)=>{var n=t.validate();r.isValid=r.isValid&&n.isValid,n.brokenRules&&(r.brokenRules=r.brokenRules.concat(n.brokenRules)),r.validators.push(t),n.status===kn.pending&&this._addPendingValidator(t),this._subscribeToChangeEvents(t)}),this._pendingValidators.length?r.status=kn.pending:(r.status=r.isValid?kn.valid:kn.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(r)),this._updateValidationInfo(r),$({},this._validationInfo.result)},_subscribeToChangeEvents(r){r.on("validating",this._onValidatorStatusChanged),r.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(r){r.off("validating",this._onValidatorStatusChanged),r.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){U(this.validators,(r,e)=>{this._unsubscribeFromChangeEvents(e)})},_updateValidationInfo(r){this._validationInfo.result=r,r.status===kn.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new X,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(r){var e=ho(this._pendingValidators,function(t){return t===r})[0];e||this._pendingValidators.push(r)},_removePendingValidator(r){var e=this._pendingValidators.indexOf(r);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules(r){var e=[];return U(this.validators,function(t,n){var i=ho(r,function(o){return o.validator===n});i.length&&(e=e.concat(i))}),e},_updateBrokenRules(r){if(this._validationInfo.result){var e=this._validationInfo.result.brokenRules,t=ho(e,function(n){return n.validator!==r.validator});r.brokenRules&&(e=t.concat(r.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged(r){if(r.status===kn.pending){this._addPendingValidator(r.validator);return}this._resolveIfComplete(r)},_resolveIfComplete(r){if(this._removePendingValidator(r.validator),this._updateBrokenRules(r),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?kn.valid:kn.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===kn.valid;var e=$({},this._validationInfo.result,{complete:null}),t=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),t&&setTimeout(()=>{t.resolve(e)})}},_raiseValidatedEvent(r){this._eventsStrategy.fireEvent("validated",[r])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(r){var e=this.validators.indexOf(r);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:r}))},registerValidator(r){this.validators.includes(r)||(this.validators.push(r),this._synchronizeValidationInfo())},reset(){U(this.validators,function(r,e){e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(r,e){return this._eventsStrategy.on(r,e),this},off(r,e){return this._eventsStrategy.off(r,e),this}}),yr={groups:[],getGroupConfig(r){var e=ho(this.groups,function(t){return t.group===r});if(e.length)return e[0]},findGroup(r,e){var t,n,i=(t=r.data())===null||t===void 0||(n=t.dxComponents)===null||n===void 0?void 0:n.includes("dxValidationGroup"),o=i&&r.dxValidationGroup("instance");if(o)return o;var a=r.parents(".dx-validationgroup").first();return a.length?a.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup()},addGroup(r){var e=this.getGroupConfig(r);return e||(e=new L_e(r),this.groups.push(e)),e},removeGroup(r){var e=this.getGroupConfig(r),t=this.groups.indexOf(e);return t>-1&&this.groups.splice(t,1),e},_setDefaultMessage(r){var{rule:e,validator:t,name:n}=r;L(e.message)||(t.defaultFormattedMessage&&L(n)?e.message=t.defaultFormattedMessage(n):e.message=t.defaultMessage())},_addBrokenRule(r){var{result:e,rule:t}=r;e.brokenRule||(e.brokenRule=t),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(t)},validate(r,e,t){var n,i={name:t,value:r,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:kn.valid,complete:null},o=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,a=[];return U(e||[],(s,l)=>{var u=BC[l.type],c;if(u){if(L(l.isValid)&&l.value===r&&!l.reevaluate)return l.isValid?!0:(i.isValid=!1,this._addBrokenRule({result:i,rule:l}),!1);if(l.value=r,l.type==="async")return a.push({rule:l,ruleValidator:u}),!0;if(c=u.validate(r,l),l.isValid=c,c||(i.isValid=!1,this._setDefaultMessage({rule:l,validator:u,name:t}),this._addBrokenRule({result:i,rule:l})),!l.isValid)return!1}else throw br.Error("E0100")}),i.isValid&&!i.brokenRules&&a.length&&(i=this._validateAsyncRules({value:r,items:a,result:i,name:t})),this._synchronizeGroupValidationInfo(o,i),i.status=i.pendingRules?kn.pending:i.isValid?kn.valid:kn.invalid,i},_synchronizeGroupValidationInfo(r,e){var t;if(r){var n=yr.getGroupConfig(r._validationGroup);n._updateBrokenRules.call(n,{validator:r,brokenRules:(t=e.brokenRules)!==null&&t!==void 0?t:[]})}},_validateAsyncRules(r){var{result:e,value:t,items:n,name:i}=r,o=[];return U(n,(a,s)=>{var l=s.ruleValidator.validate(t,s.rule);if(!wv(l))this._updateRuleConfig({rule:s.rule,ruleResult:this._getPatchedRuleResult(l),validator:s.ruleValidator,name:i});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(s.rule);var u=l.then(c=>{var d=this._getPatchedRuleResult(c);return this._updateRuleConfig({rule:s.rule,ruleResult:d,validator:s.ruleValidator,name:i}),d});o.push(u)}}),o.length&&(e.complete=Promise.all(o).then(a=>this._getAsyncRulesResult({result:e,values:a}))),e},_updateRuleConfig(r){var{rule:e,ruleResult:t,validator:n,name:i}=r;e.isValid=t.isValid,t.isValid||(L(t.message)&&ft(t.message)&&t.message.length?e.message=t.message:this._setDefaultMessage({rule:e,validator:n,name:i}))},_getPatchedRuleResult(r){var e;return pt(r)?(e=$({},r),L(e.isValid)||(e.isValid=!0)):e={isValid:__(r)?r:!0},e},_getAsyncRulesResult(r){var{values:e,result:t}=r;return U(e,(n,i)=>{if(i.isValid===!1){t.isValid=i.isValid;var o=t.pendingRules[n];this._addBrokenRule({result:t,rule:o})}}),t.pendingRules=null,t.complete=null,t.status=t.isValid?kn.valid:kn.invalid,t},registerValidatorInGroup(r,e){var t=yr.addGroup(r);t.registerValidator.call(t,e)},_shouldRemoveGroup(r,e){var t=r===void 0,n=r&&r.NAME==="dxValidationGroup";return!t&&!n&&!e.length},removeRegisteredValidator(r,e){var t=yr.getGroupConfig(r);if(t){t.removeRegisteredValidator.call(t,e);var n=t.validators;this._shouldRemoveGroup(r,n)&&this.removeGroup(r)}},initValidationOptions(r){var e={};return r&&["isValid","validationStatus","validationError","validationErrors"].forEach(t=>{t in r&&$(e,this.synchronizeValidationOptions({name:t,value:r[t]},r))}),e},synchronizeValidationOptions(r,e){var{name:t,value:n}=r;switch(t){case"validationStatus":var i=n===kn.valid||n===kn.pending;return e.isValid!==i?{isValid:i}:{};case"isValid":var{validationStatus:o}=e,a=o;return n&&o===kn.invalid?a=kn.valid:!n&&o!==kn.invalid&&(a=kn.invalid),a!==o?{validationStatus:a}:{};case"validationErrors":var s=!n||!n.length?null:n[0];return e.validationError!==s?{validationError:s}:{};case"validationError":var{validationErrors:l}=e;if(!n&&l)return{validationErrors:null};if(n&&!l)return{validationErrors:[n]};if(n&&l&&n!==l[0])return l[0]=n,{validationErrors:l.slice()}}return{}},validateGroup(r){var e=yr.getGroupConfig(r);if(!e)throw br.Error("E0110");return e.validate()},resetGroup(r){var e=yr.getGroupConfig(r);if(!e)throw br.Error("E0110");return e.reset()}};yr.initGroups();var Ky="dx-invalid-message",N_e="dx-invalid-message-auto",k_e="dx-invalid-message-always",V_e="dx-invalid-message-content",B_e=100,BL=Ks.inherit({_getDefaultOptions(){return $(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,preventScrollEvents:!1,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:r}=this.option();this.option("position.of",r)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var r=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(r)},_toggleVisibilityClasses:function(r){r?(this.$element().addClass(Ky),this.$wrapper().addClass(Ky)):(this.$element().removeClass(Ky),this.$wrapper().removeClass(Ky))},_updateContentId(){var{container:r,contentId:e}=this.option(),t=e??E(r).attr("aria-describedby");this.$content().addClass(V_e).attr("id",t)},_renderInnerHtml(r){var e=r&&E(r);e==null||e.html(this._textMarkup)},_getTextMarkup(){var r,e=(r=this.option("validationErrors"))!==null&&r!==void 0?r:[],t="";return e.forEach(n=>{var i,o=t?"<br />":"";t+=o+lq((i=n==null?void 0:n.message)!==null&&i!==void 0?i:"")}),t},_toggleModeClass(){var r=this.option("mode");this.$wrapper().toggleClass(N_e,r==="auto").toggleClass(k_e,r==="always")},updateMaxWidth(){var r=this.option("target"),e=er(r),t="100%";e&&(t=Math.max(e,B_e)),this.option({maxWidth:t})},_getPositionsArray:function(r,e){switch(r){case"top":return["".concat(e," bottom"),"".concat(e," top")];case"left":return["right","left"];case"right":return["left","right"];default:return["".concat(e," top"),"".concat(e," bottom")]}},_updatePosition:function(){var{positionSide:r,rtlEnabled:e,offset:t,boundary:n}=this.option(),i=ud(e),o=this._getPositionsArray(r,i),a=b({},t);this.$element().addClass("dx-invalid-message-".concat(r)),e&&r!=="left"&&r!=="right"&&(a.h=-a.h),r==="top"&&(a.v=-a.v),r==="left"&&(a.h=-a.h),this.option("position",{offset:a,boundary:n,my:o[0],at:o[1],collision:"none flip"})},_optionChanged(r){var{name:e,value:t,previousValue:n}=r;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(r);break;case"boundary":this.option("position.boundary",t);break;case"mode":this._toggleModeClass(t);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass("dx-invalid-message-".concat(n)),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(r);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(r)}}});Kt("dxValidationMessage",BL);var n$="dx-invalid-message-auto",H_e="dx-state-readonly",G_e="dx-invalid",$_e="dx-show-invalid-badge",i$="dx-validation-target",W_e="valid",o$="invalid",z_e="editorReadOnly",U_e=["outlined","filled","underlined"],a$={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},qs=ai.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=ar(),this.callBase.apply(this,arguments)},_createElement:function(r){this.callBase(r);var e=this.$element();e&&on(e[0],i$,this)},_initOptions:function(r){this.callBase.apply(this,arguments),this.option(yr.initValidationOptions(r))},_init:function(){this._initialValue=this.option("value"),this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var r=this.$element();r.addClass($_e)},_getDefaultOptions:function(){return $(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:W_e,validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0,isDirty:!1})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),$(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var r;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(r=this.option("_onMarkupRendered"))===null||r===void 0||r()},_raiseValueChangeAction:function(r,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(r,e))},_valueChangeArgs:function(r,e){return{value:r,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(r){this._valueChangeEventInstance=r},_focusInHandler:function(r){var e=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&e){var t,n=(t=this._validationMessage)===null||t===void 0?void 0:t.$wrapper();n==null||n.removeClass(n$),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>n==null?void 0:n.addClass(n$),150)}return this.callBase(r)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var r=this.option("stylingMode"),e=this._getStylingModePrefix(),t=U_e.map(a=>e+a);t.forEach(a=>this.$element().removeClass(a));var n=e+r;if(t.indexOf(n)===-1){var i=this._getDefaultOptions().stylingMode,o=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(o||i)}this.$element().addClass(n)},_getValidationErrors:function(){var r=this.option("validationErrors");return!r&&this.option("validationError")&&(r=[this.option("validationError")]),r},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(r){this.$element().toggleClass(G_e,r),this.setAria(o$,r||void 0)},_renderValidationState:function(){var r=this.option("isValid")&&this.option("validationStatus")!==o$,e=this._getValidationErrors(),t=this.$element();if(this._toggleValidationClasses(!r),!(!yt()||this.option("_showValidationMessage")===!1)&&(this._disposeValidationMessage(),!r&&e)){var{validationMessageMode:n,validationMessageOffset:i,validationBoundary:o,rtlEnabled:a}=this.option();this._$validationMessage=E("<div>").appendTo(t);var s="dx-".concat(new dn);this.setAria("describedby",s),this._validationMessage=new BL(this._$validationMessage,$({validationErrors:e,rtlEnabled:a,target:this._getValidationMessageTarget(),visualContainer:t,mode:n,positionSide:this._getValidationMessagePosition(),offset:i,boundary:o,contentId:s},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessagePosition:function(){return this.option("validationMessagePosition")},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var r=this.option("readOnly");this._toggleBackspaceHandler(r),this.$element().toggleClass(H_e,!!r),this.setAria("readonly",r||void 0)},_toggleBackspaceHandler:function(r){var e=this._keyboardEventBindingTarget(),t=fe("keydown",z_e);B.off(e,t),r&&B.on(e,t,n=>{Jr(n)==="backspace"&&n.preventDefault()})},_dispose:function(){var r=this.$element()[0];on(r,i$,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(r){var e=this._getSubmitElement();e&&(r.length>0?e.attr("name",r):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(r){var e,{name:t,value:n}=r,i=a$[t]?a$[t]:t;(e=this._validationMessage)===null||e===void 0||e.option(i,n)},_hasActiveElement:Z,_optionChanged:function(r){var e;switch(r.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":r.value!=r.previousValue&&(this.option("isDirty",this._initialValue!==r.value),this.validationRequest.fire({value:r.value,editor:this})),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(r.value,r.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(r),(e=this._validationMessage)===null||e===void 0||e.updateMaxWidth();break;case"name":this._setSubmitElementName(r.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(yr.synchronizeValidationOptions(r,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(r);break;case"rtlEnabled":this._setValidationMessageOption(r),this.callBase(r);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,r);break;case"_showValidationMessage":case"isDirty":break;default:this.callBase(r)}},_resetToInitialValue:function(){this.option("value",this._initialValue)},blur:function(){this._hasActiveElement()&&xv()},clear:function(){var r=this._getDefaultOptions();this.option("value",r.value)},reset:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=r),this._resetToInitialValue(),this.option("isDirty",!1),this.option("isValid",!0)}});qs.isEditor=r=>r instanceof qs;class Qx{constructor(e,t,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=t,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=E("<div>").appendTo(e)}_addToContainer(e){var{$placeMarker:t,$container:n}=this;t?t.replaceWith(e):e.appendTo(n)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:e,options:t}=this;return t.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:e,$placeMarker:t}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),t&&t.remove()}render(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){var{instance:t,$element:n}=this._create();this.instance=t,this._attachEvents(t,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var j_e=Yt.down,K_e="dx-state-invisible",q_e="dx-clear-button-area",Y_e="dx-icon-clear",X_e="dx-icon",Q_e="dx-show-clear-button";class Z_e extends Qx{_create(){var e=E("<span>").addClass(q_e).append(E("<span>").addClass(X_e).addClass(Y_e));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){var{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,t){var{editor:n}=this,i=n.NAME;B.on(t,fe(j_e,i),o=>{o.preventDefault(),o.pointerType!=="mouse"&&n._clearValueHandler(o)}),B.on(t,fe(sr,i),o=>n._clearValueHandler(o))}_legacyRender(e,t){e.toggleClass(Q_e,t)}update(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!e&&super.update();var{editor:t,instance:n}=this,i=t.$element(),o=this._isVisible();n&&n.toggleClass(K_e,!o),this._legacyRender(i,o)}}var R_=Array.isArray;function Qb(r){var e=typeof r;return e==="string"||e==="number"}function wr(r){return r==null}function O_(r){return r===null||r===!1||r===!0||r===void 0}function mn(r){return typeof r=="function"}function D_(r){return typeof r=="string"}function J_e(r){return typeof r=="number"}function _o(r){return r===null}function eCe(r){return r===void 0}function dd(r,e){var t={};if(r)for(var n in r)t[n]=r[n];if(e)for(var i in e)t[i]=e[i];return t}function HL(r){return!_o(r)&&typeof r=="object"}var di={},tCe="$F";function GL(r){return r.substr(2).toLowerCase()}function O9(r,e){r.appendChild(e)}function $L(r,e,t){_o(t)?O9(r,e):r.insertBefore(e,t)}function rCe(r,e){return e?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r)}function nCe(r,e,t){r.replaceChild(e,t)}function D9(r,e){r.removeChild(e)}function A9(r){for(var e=0;e<r.length;e++)r[e]()}function iCe(r,e,t){var n=r.children;return t&4?n.$LI:t&8192?r.childFlags===2?n:n[e?0:n.length-1]:n}function ss(r,e){for(var t;r;){if(t=r.flags,t&2033)return r.dom;r=iCe(r,e,t)}return null}function HC(r,e){do{var t=r.flags;if(t&2033){D9(e,r.dom);return}var n=r.children;if(t&4&&(r=n.$LI),t&8&&(r=n),t&8192)if(r.childFlags===2)r=n;else{for(var i=0,o=n.length;i<o;++i)HC(n[i],e);return}}while(r)}function P9(r,e,t){do{var n=r.flags;if(n&2033){$L(e,r.dom,t);return}var i=r.children;if(n&4&&(r=i.$LI),n&8&&(r=i),n&8192)if(r.childFlags===2)r=i;else{for(var o=0,a=i.length;o<a;++o)P9(i[o],e,t);return}}while(r)}function M9(r,e,t){return r.constructor.getDerivedStateFromProps?dd(t,r.constructor.getDerivedStateFromProps(e,t)):t}var A_={v:!1},s$={componentComparator:null,createVNode:null,renderComplete:null};function Um(r,e){r.textContent=e}function F9(r,e){return HL(r)&&r.event===e.event&&r.data===e.data}function L9(r,e){for(var t in e)eCe(r[t])&&(r[t]=e[t]);return r}function WL(r,e){return!!mn(r)&&(r(e),!0)}var jm="$";function Zx(r,e,t,n,i,o,a,s){this.childFlags=r,this.children=e,this.className=t,this.dom=null,this.flags=n,this.key=i===void 0?null:i,this.props=o===void 0?null:o,this.ref=a===void 0?null:a,this.type=s}function Tn(r,e,t,n,i,o,a,s){var l=i===void 0?1:i,u=new Zx(l,n,t,r,a,o,s,e);return l===0&&k9(u,u.children),u}function oCe(r,e,t){if(r&4)return t;var n=(r&32768?e.render:e).defaultHooks;return wr(n)?t:wr(t)?n:L9(t,n)}function aCe(r,e,t){var n=(r&32768?e.render:e).defaultProps;return wr(n)?t:wr(t)?dd(n,null):L9(t,n)}function sCe(r,e){return r&12?r:e.prototype&&e.prototype.render?4:e.render?32776:8}function $r(r,e,t,n,i){r=sCe(r,e);var o=new Zx(1,null,null,r,n,aCe(r,e,t),oCe(r,e,i),e);return o}function GC(r,e){return new Zx(1,wr(r)||r===!0||r===!1?"":r,null,16,e,null,null,null)}function Ku(r,e,t){var n=Tn(8192,8192,null,r,e,null,t,null);switch(n.childFlags){case 1:n.children=Jx(),n.childFlags=2;break;case 16:n.children=[GC(r)],n.childFlags=4;break}return n}function Jo(r){var e=r.props;if(e){var t=r.flags;t&481&&(e.children!==void 0&&wr(r.children)&&k9(r,e.children),e.className!==void 0&&(wr(r.className)&&(r.className=e.className||null),e.className=void 0)),e.key!==void 0&&(r.key=e.key,e.key=void 0),e.ref!==void 0&&(t&8?r.ref=dd(r.ref,e.ref):r.ref=e.ref,e.ref=void 0)}return r}function lCe(r){var e=r.children,t=r.childFlags;return Ku(t===2?hi(e):e.map(hi),t,r.key)}function hi(r){var e=r.flags&-16385,t=r.props;if(e&14&&!_o(t)){var n=t;t={};for(var i in n)t[i]=n[i]}return e&8192?lCe(r):new Zx(r.childFlags,r.children,r.className,e,r.key,t,r.ref,r.type)}function Jx(){return GC("",null)}function N9(r,e,t,n){for(var i=r.length;t<i;t++){var o=r[t];if(!O_(o)){var a=n+jm+t;if(R_(o))N9(o,e,0,a);else{if(Qb(o))o=GC(o,a);else{var s=o.key,l=D_(s)&&s[0]===jm;(o.flags&81920||l)&&(o=hi(o)),o.flags|=65536,l?s.substring(0,n.length)!==n&&(o.key=n+s):_o(s)?o.key=a:o.key=n+s}e.push(o)}}}}function uCe(r){switch(r){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case tCe:return 8192;default:return 1}}function k9(r,e){var t,n=1;if(O_(e))t=e;else if(Qb(e))n=16,t=e;else if(R_(e)){for(var i=e.length,o=0;o<i;++o){var a=e[o];if(O_(a)||R_(a)){t=t||e.slice(0,o),N9(e,t,o,"");break}else if(Qb(a))t=t||e.slice(0,o),t.push(GC(a,jm+o));else{var s=a.key,l=(a.flags&81920)>0,u=_o(s),c=D_(s)&&s[0]===jm;l||u||c?(t=t||e.slice(0,o),(l||c)&&(a=hi(a)),(u||c)&&(a.key=jm+o),t.push(a)):t&&t.push(a),a.flags|=65536}}t=t||e,t.length===0?n=1:n=8}else t=e,t.flags|=65536,e.flags&81920&&(t=hi(e)),n=2;return r.children=t,r.childFlags=n,r}function e0(r){return O_(r)||Qb(r)?GC(r,null):R_(r)?Ku(r,0,null):r.flags&16384?hi(r):r}var Ed="http://www.w3.org/1999/xlink",gR="http://www.w3.org/XML/1998/namespace",l$={"xlink:actuate":Ed,"xlink:arcrole":Ed,"xlink:href":Ed,"xlink:role":Ed,"xlink:show":Ed,"xlink:title":Ed,"xlink:type":Ed,"xml:base":gR,"xml:lang":gR,"xml:space":gR};function t0(r){return{onClick:r,onDblClick:r,onFocusIn:r,onFocusOut:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onMouseDown:r,onMouseMove:r,onMouseUp:r,onTouchEnd:r,onTouchMove:r,onTouchStart:r}}var V9=t0(0),AP=t0(null),B9=t0(!0);function u$(r,e){var t=e.$EV;return t||(t=e.$EV=t0(null)),t[r]||++V9[r]===1&&(AP[r]=mCe(r)),t}function H9(r,e){var t=e.$EV;t&&t[r]&&(--V9[r]===0&&(document.removeEventListener(GL(r),AP[r]),AP[r]=null),t[r]=null)}function cCe(r,e,t,n){if(mn(t))u$(r,n)[r]=t;else if(HL(t)){if(F9(e,t))return;u$(r,n)[r]=t}else H9(r,n)}function dCe(r){return mn(r.composedPath)?r.composedPath()[0]:r.target}function G9(r,e,t,n){var i=dCe(r);do{if(e&&i.disabled)return;var o=i.$EV;if(o){var a=o[t];if(a&&(n.dom=i,a.event?a.event(a.data,r):a(r),r.cancelBubble))return}i=i.parentNode}while(!_o(i))}function hCe(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function pCe(){return this.defaultPrevented}function fCe(){return this.cancelBubble}function $9(r){var e={dom:document};return r.isDefaultPrevented=pCe,r.isPropagationStopped=fCe,r.stopPropagation=hCe,Object.defineProperty(r,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function vCe(r){return function(e){if(e.button!==0){e.stopPropagation();return}G9(e,!0,r,$9(e))}}function gCe(r){return function(e){G9(e,!1,r,$9(e))}}function mCe(r){var e=r==="onClick"||r==="onDblClick"?vCe(r):gCe(r);return document.addEventListener(GL(r),e),e}function _Ce(r,e){var t=document.createElement("i");return t.innerHTML=e,t.innerHTML===r.innerHTML}function c$(r,e,t){if(r[e]){var n=r[e];n.event?n.event(n.data,t):n(t)}else{var i=e.toLowerCase();r[i]&&r[i](t)}}function $C(r,e){var t=function(n){var i=this.$V;if(i){var o=i.props||di,a=i.dom;if(D_(r))c$(o,r,n);else for(var s=0;s<r.length;++s)c$(o,r[s],n);if(mn(e)){var l=this.$V,u=l.props||di;e(u,a,!1,l)}}};return Object.defineProperty(t,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),t}function Ch(r,e,t){var n="$"+e,i=r[n];if(i){if(i[1].wrapped)return;r.removeEventListener(i[0],i[1]),r[n]=null}mn(t)&&(r.addEventListener(e,t),r[n]=[e,t])}function zL(r){return r==="checkbox"||r==="radio"}var CCe=$C("onInput",UL),yCe=$C(["onClick","onChange"],UL);function W9(r){r.stopPropagation()}W9.wrapped=!0;function SCe(r,e){zL(e.type)?(Ch(r,"change",yCe),Ch(r,"click",W9)):Ch(r,"input",CCe)}function UL(r,e){var t=r.type,n=r.value,i=r.checked,o=r.multiple,a=r.defaultValue,s=!wr(n);t&&t!==e.type&&e.setAttribute("type",t),!wr(o)&&o!==e.multiple&&(e.multiple=o),!wr(a)&&!s&&(e.defaultValue=a+""),zL(t)?(s&&(e.value=n),wr(i)||(e.checked=i)):s&&e.value!==n?(e.defaultValue=n,e.value=n):wr(i)||(e.checked=i)}function mm(r,e){if(r.type==="option")wCe(r,e);else{var t=r.children,n=r.flags;if(n&4)mm(t.$LI,e);else if(n&8)mm(t,e);else if(r.childFlags===2)mm(t,e);else if(r.childFlags&12)for(var i=0,o=t.length;i<o;++i)mm(t[i],e)}}function wCe(r,e){var t=r.props||di,n=r.dom;n.value=t.value,t.value===e||R_(e)&&e.indexOf(t.value)!==-1?n.selected=!0:(!wr(e)||!wr(t.selected))&&(n.selected=t.selected||!1)}var bCe=$C("onChange",z9);function ECe(r){Ch(r,"change",bCe)}function z9(r,e,t,n){var i=!!r.multiple;!wr(r.multiple)&&i!==e.multiple&&(e.multiple=i);var o=r.selectedIndex;o===-1&&(e.selectedIndex=-1);var a=n.childFlags;if(a!==1){var s=r.value;J_e(o)&&o>-1&&e.options[o]&&(s=e.options[o].value),t&&wr(s)&&(s=r.defaultValue),mm(n,s)}}var xCe=$C("onInput",U9),ICe=$C("onChange");function TCe(r,e){Ch(r,"input",xCe),e.onChange&&Ch(r,"change",ICe)}function U9(r,e,t){var n=r.value,i=e.value;if(wr(n)){if(t){var o=r.defaultValue;!wr(o)&&o!==i&&(e.defaultValue=o,e.value=o)}}else i!==n&&(e.defaultValue=n,e.value=n)}function j9(r,e,t,n,i,o){r&64?UL(n,t):r&256?z9(n,t,i,e):r&128&&U9(n,t,i),o&&(t.$V=e)}function RCe(r,e,t){r&64?SCe(e,t):r&256?ECe(e):r&128&&TCe(e,t)}function K9(r){return r.type&&zL(r.type)?!wr(r.checked):!wr(r.value)}function pi(){return{current:null}}function Zb(r){r&&!WL(r,null)&&r.current&&(r.current=null)}function WC(r,e,t){r&&(mn(r)||r.current!==void 0)&&t.push(function(){!WL(r,e)&&r.current!==void 0&&(r.current=e)})}function Ns(r,e){Su(r),HC(r,e)}function Su(r){var e=r.flags,t=r.children,n;if(e&481){n=r.ref;var i=r.props;Zb(n);var o=r.childFlags;if(!_o(i))for(var a=Object.keys(i),s=0,l=a.length;s<l;s++){var u=a[s];B9[u]&&H9(u,r.dom)}o&12?P_(t):o===2&&Su(t)}else t&&(e&4?(mn(t.componentWillUnmount)&&t.componentWillUnmount(),Zb(r.ref),t.$UN=!0,Su(t.$LI)):e&8?(n=r.ref,!wr(n)&&mn(n.onComponentWillUnmount)&&n.onComponentWillUnmount(ss(r,!0),r.props||di),Su(t)):e&1024?Ns(t,r.ref):e&8192&&r.childFlags&12&&P_(t))}function P_(r){for(var e=0,t=r.length;e<t;++e)Su(r[e])}function Uw(r){r.textContent=""}function jw(r,e,t){P_(t),e.flags&8192?HC(e,r):Uw(r)}function OCe(r){var e=r.event;return function(t){e(r.data,t)}}function DCe(r,e,t,n){if(HL(t)){if(F9(e,t))return;t=OCe(t)}Ch(n,GL(r),t)}function ACe(r,e,t){if(wr(e)){t.removeAttribute("style");return}var n=t.style,i,o;if(D_(e)){n.cssText=e;return}if(!wr(r)&&!D_(r)){for(i in e)o=e[i],o!==r[i]&&n.setProperty(i,o);for(i in r)wr(e[i])&&n.removeProperty(i)}else for(i in e)o=e[i],n.setProperty(i,o)}function PCe(r,e,t,n){var i=r&&r.__html||"",o=e&&e.__html||"";i!==o&&!wr(o)&&!_Ce(n,o)&&(_o(t)||(t.childFlags&12?P_(t.children):t.childFlags===2&&Su(t.children),t.children=null,t.childFlags=1),n.innerHTML=o)}function PP(r,e,t,n,i,o,a){switch(r){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!t;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[r]=!!t;break;case"defaultChecked":case"value":case"volume":if(o&&r==="value")break;var s=wr(t)?"":t;n[r]!==s&&(n[r]=s);break;case"style":ACe(e,t,n);break;case"dangerouslySetInnerHTML":PCe(e,t,a,n);break;default:B9[r]?cCe(r,e,t,n):r.charCodeAt(0)===111&&r.charCodeAt(1)===110?DCe(r,e,t,n):wr(t)?n.removeAttribute(r):i&&l$[r]?n.setAttributeNS(l$[r],r,t):n.setAttribute(r,t);break}}function q9(r,e,t,n,i){var o=!1,a=(e&448)>0;a&&(o=K9(t),o&&RCe(e,n,t));for(var s in t)PP(s,null,t[s],n,i,o,null);a&&j9(e,r,n,t,!0,o)}function Y9(r,e,t){var n=e0(r.render(e,r.state,t)),i=t;return mn(r.getChildContext)&&(i=dd(t,r.getChildContext())),r.$CX=i,n}function X9(r,e,t,n,i,o){var a=new e(t,n),s=a.$N=!!(e.getDerivedStateFromProps||a.getSnapshotBeforeUpdate);if(a.$SVG=i,a.$L=o,r.children=a,a.$BS=!1,a.context=n,a.props===di&&(a.props=t),s)a.state=M9(a,t,a.state);else if(mn(a.componentWillMount)){a.$BR=!0,a.componentWillMount();var l=a.$PS;if(!_o(l)){var u=a.state;if(_o(u))a.state=l;else for(var c in l)u[c]=l[c];a.$PS=null}a.$BR=!1}return a.$LI=Y9(a,t,n),a}function jL(r,e){var t=r.props||di;return r.flags&32768?r.type.render(t,r.ref,e):r.type(t,e)}function vi(r,e,t,n,i,o){var a=r.flags|=16384;a&481?Z9(r,e,t,n,i,o):a&4?LCe(r,e,t,n,i,o):a&8?(NCe(r,e,t,n,i,o),e8(r,o)):a&512||a&16?Q9(r,e,i):a&8192?FCe(r,t,e,n,i,o):a&1024&&MCe(r,t,e,i,o)}function MCe(r,e,t,n,i){vi(r.children,r.ref,e,!1,null,i);var o=Jx();Q9(o,t,n),r.dom=o.dom}function FCe(r,e,t,n,i,o){var a=r.children,s=r.childFlags;s&12&&a.length===0&&(s=r.childFlags=2,a=r.children=Jx()),s===2?vi(a,t,e,n,i,o):yh(a,t,e,n,i,o)}function Q9(r,e,t){var n=r.dom=document.createTextNode(r.children);_o(e)||$L(e,n,t)}function Z9(r,e,t,n,i,o){var a=r.flags,s=r.props,l=r.className,u=r.childFlags,c=r.dom=rCe(r.type,n=n||(a&32)>0),d=r.children;if(!wr(l)&&l!==""&&(n?c.setAttribute("class",l):c.className=l),u===16)Um(c,d);else if(u!==1){var h=n&&r.type!=="foreignObject";u===2?(d.flags&16384&&(r.children=d=hi(d)),vi(d,c,t,h,null,o)):(u===8||u===4)&&yh(d,c,t,h,null,o)}_o(e)||$L(e,c,i),_o(s)||q9(r,a,s,c,n),WC(r.ref,c,o)}function yh(r,e,t,n,i,o){for(var a=0;a<r.length;++a){var s=r[a];s.flags&16384&&(r[a]=s=hi(s)),vi(s,e,t,n,i,o)}}function LCe(r,e,t,n,i,o){var a=X9(r,r.type,r.props||di,t,n,o);vi(a.$LI,e,a.$CX,n,i,o),J9(r.ref,a,o)}function NCe(r,e,t,n,i,o){vi(r.children=e0(jL(r,t)),e,t,n,i,o)}function kCe(r){return function(){r.componentDidMount()}}function J9(r,e,t){WC(r,e,t),mn(e.componentDidMount)&&t.push(kCe(e))}function VCe(r,e){return function(){r.onComponentDidMount(ss(e,!0),e.props||di)}}function e8(r,e){var t=r.ref;wr(t)||(WL(t.onComponentWillMount,r.props||di),mn(t.onComponentDidMount)&&e.push(VCe(t,r)))}function BCe(r,e,t,n,i,o){Su(r),e.flags&r.flags&2033?(vi(e,null,n,i,null,o),nCe(t,e.dom,r.dom)):(vi(e,t,n,i,ss(r,!0),o),HC(r,t))}function Au(r,e,t,n,i,o,a){var s=e.flags|=16384;r.flags!==s||r.type!==e.type||r.key!==e.key||s&2048?r.flags&16384?BCe(r,e,t,n,i,a):vi(e,t,n,i,o,a):s&481?zCe(r,e,n,i,s,a):s&4?KCe(r,e,t,n,i,o,a):s&8?qCe(r,e,t,n,i,o,a):s&16?YCe(r,e):s&512?e.dom=r.dom:s&8192?$Ce(r,e,t,n,i,a):WCe(r,e,n,a)}function HCe(r,e,t){r!==e&&(r!==""?t.firstChild.nodeValue=e:Um(t,e))}function GCe(r,e){r.textContent!==e&&(r.textContent=e)}function $Ce(r,e,t,n,i,o){var a=r.children,s=e.children,l=r.childFlags,u=e.childFlags,c=null;u&12&&s.length===0&&(u=e.childFlags=2,s=e.children=Jx());var d=(u&2)!==0;if(l&12){var h=a.length;(l&8&&u&8||d||!d&&s.length>h)&&(c=ss(a[h-1],!1).nextSibling)}KL(l,u,a,s,t,n,i,c,r,o)}function WCe(r,e,t,n){var i=r.ref,o=e.ref,a=e.children;if(KL(r.childFlags,e.childFlags,r.children,a,i,t,!1,null,r,n),e.dom=r.dom,i!==o&&!O_(a)){var s=a.dom;D9(i,s),O9(o,s)}}function zCe(r,e,t,n,i,o){var a=e.dom=r.dom,s=r.props,l=e.props,u=!1,c=!1,d;if(n=n||(i&32)>0,s!==l){var h=s||di;if(d=l||di,d!==di){u=(i&448)>0,u&&(c=K9(d));for(var p in d){var f=h[p],v=d[p];f!==v&&PP(p,f,v,a,n,c,r)}}if(h!==di)for(var g in h)wr(d[g])&&!wr(h[g])&&PP(g,h[g],null,a,n,c,r)}var m=e.children,C=e.className;r.className!==C&&(wr(C)?a.removeAttribute("class"):n?a.setAttribute("class",C):a.className=C),i&4096?GCe(a,m):KL(r.childFlags,e.childFlags,r.children,m,a,t,n&&e.type!=="foreignObject",null,r,o),u&&j9(i,e,a,d,!1,c);var y=e.ref,w=r.ref;w!==y&&(Zb(w),WC(y,a,o))}function UCe(r,e,t,n,i,o){Su(r),yh(e,t,n,i,ss(r,!0),o),HC(r,t)}function KL(r,e,t,n,i,o,a,s,l,u){switch(r){case 2:switch(e){case 2:Au(t,n,i,o,a,s,u);break;case 1:Ns(t,i);break;case 16:Su(t),Um(i,n);break;default:UCe(t,n,i,o,a,u);break}break;case 1:switch(e){case 2:vi(n,i,o,a,s,u);break;case 1:break;case 16:Um(i,n);break;default:yh(n,i,o,a,s,u);break}break;case 16:switch(e){case 16:HCe(t,n,i);break;case 2:Uw(i),vi(n,i,o,a,s,u);break;case 1:Uw(i);break;default:Uw(i),yh(n,i,o,a,s,u);break}break;default:switch(e){case 16:P_(t),Um(i,n);break;case 2:jw(i,l,t),vi(n,i,o,a,s,u);break;case 1:jw(i,l,t);break;default:var c=t.length|0,d=n.length|0;c===0?d>0&&yh(n,i,o,a,s,u):d===0?jw(i,l,t):e===8&&r===8?QCe(t,n,i,o,a,c,d,s,l,u):XCe(t,n,i,o,a,c,d,s,u);break}break}}function jCe(r,e,t,n,i){i.push(function(){r.componentDidUpdate(e,t,n)})}function t8(r,e,t,n,i,o,a,s,l){var u=r.state,c=r.props,d=!!r.$N,h=mn(r.shouldComponentUpdate);if(d&&(e=M9(r,t,e!==u?dd(u,e):e)),a||!h||h&&r.shouldComponentUpdate(t,e,i)){!d&&mn(r.componentWillUpdate)&&r.componentWillUpdate(t,e,i),r.props=t,r.state=e,r.context=i;var p=null,f=Y9(r,t,i);d&&mn(r.getSnapshotBeforeUpdate)&&(p=r.getSnapshotBeforeUpdate(c,u)),Au(r.$LI,f,n,r.$CX,o,s,l),r.$LI=f,mn(r.componentDidUpdate)&&jCe(r,c,u,p,l)}else r.props=t,r.state=e,r.context=i}function KCe(r,e,t,n,i,o,a){var s=e.children=r.children;if(!_o(s)){s.$L=a;var l=e.props||di,u=e.ref,c=r.ref,d=s.state;if(!s.$N){if(mn(s.componentWillReceiveProps)){if(s.$BR=!0,s.componentWillReceiveProps(l,n),s.$UN)return;s.$BR=!1}_o(s.$PS)||(d=dd(d,s.$PS),s.$PS=null)}t8(s,d,l,t,n,i,!1,o,a),c!==u&&(Zb(c),WC(u,s,a))}}function qCe(r,e,t,n,i,o,a){var s=!0,l=e.props||di,u=e.ref,c=r.props,d=!wr(u),h=r.children;if(d&&mn(u.onComponentShouldUpdate)&&(s=u.onComponentShouldUpdate(c,l)),s!==!1){d&&mn(u.onComponentWillUpdate)&&u.onComponentWillUpdate(c,l);var p=e0(jL(e,n));Au(h,p,t,n,i,o,a),e.children=p,d&&mn(u.onComponentDidUpdate)&&u.onComponentDidUpdate(c,l)}else e.children=h}function YCe(r,e){var t=e.children,n=e.dom=r.dom;t!==r.children&&(n.nodeValue=t)}function XCe(r,e,t,n,i,o,a,s,l){for(var u=o>a?a:o,c=0,d,h;c<u;++c)d=e[c],h=r[c],d.flags&16384&&(d=e[c]=hi(d)),Au(h,d,t,n,i,s,l),r[c]=d;if(o<a)for(c=u;c<a;++c)d=e[c],d.flags&16384&&(d=e[c]=hi(d)),vi(d,t,n,i,s,l);else if(o>a)for(c=u;c<o;++c)Ns(r[c],t)}function QCe(r,e,t,n,i,o,a,s,l,u){var c=o-1,d=a-1,h=0,p=r[h],f=e[h],v,g;e:{for(;p.key===f.key;){if(f.flags&16384&&(e[h]=f=hi(f)),Au(p,f,t,n,i,s,u),r[h]=f,++h,h>c||h>d)break e;p=r[h],f=e[h]}for(p=r[c],f=e[d];p.key===f.key;){if(f.flags&16384&&(e[d]=f=hi(f)),Au(p,f,t,n,i,s,u),r[c]=f,c--,d--,h>c||h>d)break e;p=r[c],f=e[d]}}if(h>c){if(h<=d)for(v=d+1,g=v<a?ss(e[v],!0):s;h<=d;)f=e[h],f.flags&16384&&(e[h]=f=hi(f)),++h,vi(f,t,n,i,g,u)}else if(h>d)for(;h<=c;)Ns(r[h++],t);else ZCe(r,e,n,o,a,c,d,h,t,i,s,l,u)}function ZCe(r,e,t,n,i,o,a,s,l,u,c,d,h){var p,f,v,g=0,m=s,C=s,y=o-s+1,w=a-s+1,T=new Int32Array(w+1),S=y===n,x=!1,I=0,R=0;if(i<4||(y|w)<32)for(g=m;g<=o;++g)if(p=r[g],R<w){for(s=C;s<=a;s++)if(f=e[s],p.key===f.key){if(T[s-C]=g+1,S)for(S=!1;m<g;)Ns(r[m++],l);I>s?x=!0:I=s,f.flags&16384&&(e[s]=f=hi(f)),Au(p,f,l,t,u,c,h),++R;break}!S&&s>a&&Ns(p,l)}else S||Ns(p,l);else{var D={};for(g=C;g<=a;++g)D[e[g].key]=g;for(g=m;g<=o;++g)if(p=r[g],R<w)if(s=D[p.key],s!==void 0){if(S)for(S=!1;g>m;)Ns(r[m++],l);T[s-C]=g+1,I>s?x=!0:I=s,f=e[s],f.flags&16384&&(e[s]=f=hi(f)),Au(p,f,l,t,u,c,h),++R}else S||Ns(p,l);else S||Ns(p,l)}if(S)jw(l,d,r),yh(e,l,t,u,c,h);else if(x){var A=JCe(T);for(s=A.length-1,g=w-1;g>=0;g--)T[g]===0?(I=g+C,f=e[I],f.flags&16384&&(e[I]=f=hi(f)),v=I+1,vi(f,l,t,u,v<i?ss(e[v],!0):c,h)):s<0||g!==A[s]?(I=g+C,f=e[I],v=I+1,P9(f,l,v<i?ss(e[v],!0):c)):s--}else if(R!==w)for(g=w-1;g>=0;g--)T[g]===0&&(I=g+C,f=e[I],f.flags&16384&&(e[I]=f=hi(f)),v=I+1,vi(f,l,t,u,v<i?ss(e[v],!0):c,h))}var Jl,qy,d$=0;function JCe(r){var e=0,t=0,n=0,i=0,o=0,a=0,s=0,l=r.length;for(l>d$&&(d$=l,Jl=new Int32Array(l),qy=new Int32Array(l));t<l;++t)if(e=r[t],e!==0){if(n=Jl[i],r[n]<e){qy[t]=n,Jl[++i]=t;continue}for(o=0,a=i;o<a;)s=o+a>>1,r[Jl[s]]<e?o=s+1:a=s;e<r[Jl[o]]&&(o>0&&(qy[t]=Jl[o-1]),Jl[o]=t)}o=i+1;var u=new Int32Array(o);for(a=Jl[o-1];o-- >0;)u[o]=a,a=qy[a],Jl[o]=0;return u}var eye=typeof document<"u";eye&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function tye(r,e,t,n){var i=[],o=e.$V;A_.v=!0,wr(o)?wr(r)||(r.flags&16384&&(r=hi(r)),vi(r,e,n,!1,null,i),e.$V=r,o=r):wr(r)?(Ns(o,e),e.$V=null):(r.flags&16384&&(r=hi(r)),Au(o,r,e,n,!1,null,i),o=e.$V=r),A9(i),A_.v=!1,mn(t)&&t(),mn(s$.renderComplete)&&s$.renderComplete(o,e)}function r0(r,e,t,n){t===void 0&&(t=null),n===void 0&&(n=di),tye(r,e,t,n)}var Kw=[],rye=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(r){window.setTimeout(r,0)},MP=!1;function r8(r,e,t,n){var i=r.$PS;if(mn(e)&&(e=e(i?dd(r.state,i):r.state,r.props,r.context)),wr(i))r.$PS=e;else for(var o in e)i[o]=e[o];if(r.$BR)mn(t)&&r.$L.push(t.bind(r));else{if(!A_.v&&Kw.length===0){i8(r,n),mn(t)&&t.call(r);return}if(Kw.indexOf(r)===-1&&Kw.push(r),n&&(r.$F=!0),MP||(MP=!0,rye(n8)),mn(t)){var a=r.$QU;a||(a=r.$QU=[]),a.push(t)}}}function nye(r){for(var e=r.$QU,t=0;t<e.length;++t)e[t].call(r);r.$QU=null}function n8(){var r;for(MP=!1;r=Kw.shift();)if(!r.$UN){var e=r.$F;r.$F=!1,i8(r,e),r.$QU&&nye(r)}}function i8(r,e){if(e||!r.$BR){var t=r.$PS;r.$PS=null;var n=[];A_.v=!0,t8(r,dd(r.state,t),r.props,ss(r.$LI,!0).parentNode,r.context,r.$SVG,e,null,n),A9(n),A_.v=!1}else r.state=r.$PS,r.$PS=null}var zC=function(e,t){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||di,this.context=t||di};zC.prototype.forceUpdate=function(e){this.$UN||r8(this,{},e,!0)};zC.prototype.setState=function(e,t){this.$UN||this.$BS||r8(this,e,t,!1)};zC.prototype.render=function(e,t,n){return null};const bc={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const r=this.callbacks;this.callbacks=[],r.forEach(e=>e())}}},mR=(r,e)=>{if(!(r instanceof Object&&e instanceof Object))return r===e;const n=Object.keys(r),i=Object.keys(e);return n.length!==i.length?!1:!n.some(a=>r[a]!==e[a])};class Cs extends zC{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,t){this._pendingContext=t??{}}shouldComponentUpdate(e,t){return!mR(this.props,e)||!mR(this.state,t)||!mR(this.context,this._pendingContext)}}class Kl extends Cs{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){bc.lock()}componentWillUpdate(e,t,n){bc.lock()}componentDidMount(){bc.callbacks.push(()=>{this._effects=this.createEffects()}),bc.callEffects()}componentDidUpdate(){bc.callbacks.push(()=>this.updateEffects()),bc.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}}class UC extends Kl{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){const e=this.vDomElement,t=e.className.length?e.className.split(" "):[],n=t.filter(o=>e.dxClasses.previous.indexOf(o)<0),i=e.dxClasses.previous.filter(o=>t.indexOf(o)<0);n.forEach(o=>{const a=e.dxClasses.removed.indexOf(o);a>-1?e.dxClasses.removed.splice(a,1):e.dxClasses.added.push(o)}),i.forEach(o=>{const a=e.dxClasses.added.indexOf(o);a>-1?e.dxClasses.added.splice(a,1):e.dxClasses.removed.push(o)})}componentDidMount(){const e=ss(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=e!=null&&e.className.length?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const e=this.vDomElement;e!==null&&(e.dxClasses.added.forEach(t=>e.classList.add(t)),e.dxClasses.removed.forEach(t=>e.classList.remove(t)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,t){const n=super.shouldComponentUpdate(e,t);return n&&this.vDomUpdateClasses(),n}}let iye=0;const o8=function(r){const e=iye++;return{id:e,defaultValue:r,Provider:class extends zC{getChildContext(){return Object.assign(Object.assign({},this.context),{[e]:this.props.value||r})}render(){return this.props.children}}}};class Zr{constructor(e,t){this.dependency=t,this.effect=e,this.destroy=e()}update(e){const t=this.dependency;e&&(this.dependency=e),(!e||e.some((n,i)=>t[i]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const jC=()=>new Zr(()=>{n8()},[]),oye="a runtime error occured! Use Inferno in development environment to find the error.";function aye(r){return r==null}function sye(r){return r===null||r===!1||r===!0||r===void 0}function lye(r){return typeof r=="function"}function Af(r){return r===null}function uye(r){throw r||(r=oye),new Error(`Inferno Error: ${r}`)}function cye(r,e){const t=document.createElement("i");return t.innerHTML=e,t.innerHTML===r.innerHTML}function dye(r){let e,t;for(;r;){if(e=r.flags,e&2033)return r.dom;t=r.children,e&8192?r=r.childFlags===2?t:t[t.length-1]:e&4?r=t.$LI:r=t}return null}function hye(r,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&cye(r,e.dangerouslySetInnerHTML.__html))}function pye(r,e,t,n,i,o,a){const s=r.type,l=r.ref,u=r.props||di;let c;if(o){const d=X9(r,s,u,n,i,a),h=d.$LI;c=M_(h,e,t,d.$CX,i,a),J9(l,d,a)}else{const d=e0(jL(r,n));c=M_(d,e,t,n,i,a),r.children=d,e8(r,a)}return c}function a8(r,e,t,n,i,o){const a=r.childFlags,s=r.children,l=r.props,u=r.flags;if(a!==1){if(a===2)Af(t)?vi(s,e,n,i,null,o):(t=M_(s,e,t,n,i,o),t=t?t.nextSibling:null);else if(a===16)Af(t)?e.appendChild(document.createTextNode(s)):e.childNodes.length!==1||t.nodeType!==3?e.textContent=s:t.nodeValue!==s&&(t.nodeValue=s),t=null;else if(a&12){let c=!1;for(let d=0,h=s.length;d<h;++d){const p=s[d];Af(t)||c&&(p.flags&16)>0?vi(p,e,n,i,t,o):(t=M_(p,e,t,n,i,o),t=t?t.nextSibling:null),c=(p.flags&16)>0}}if(!(u&8192)){let c=null;for(;t;)c=t.nextSibling,e.removeChild(t),t=c}}else!Af(e.firstChild)&&!hye(e,l)&&(e.textContent="",u&448&&(e.defaultValue=""))}function fye(r,e,t,n,i,o){const a=r.props,s=r.className,l=r.flags,u=r.ref;return i=i||(l&32)>0,t.nodeType!==1?(Z9(r,null,n,i,null,o),e.replaceChild(r.dom,t)):(r.dom=t,a8(r,t,t.firstChild,n,i,o),Af(a)||q9(r,l,a,t,i),aye(s)?t.className!==""&&t.removeAttribute("class"):i?t.setAttribute("class",s):t.className=s,WC(u,t,o)),r.dom}function s8(r,e,t){if(t.nodeType!==3)e.replaceChild(r.dom=document.createTextNode(r.children),t);else{const n=r.children;t.nodeValue!==n&&(t.nodeValue=n),r.dom=t}return r.dom}function vye(r,e,t,n,i,o){const a=r.children;return r.childFlags===2?(s8(a,e,t),a.dom):(a8(r,e,t,n,i,o),dye(a[a.length-1]))}function M_(r,e,t,n,i,o){const a=r.flags|=16384;return a&14?pye(r,e,t,n,i,(a&4)>0,o):a&481?fye(r,e,t,n,i,o):a&16?s8(r,e,t):a&512?r.dom=t:a&8192?vye(r,e,t,n,i,o):(uye(),null)}function gye(r,e,t){let n=e.firstChild;if(Af(n))r0(r,e,t);else{const i=[];for(sye(r)||(n=M_(r,e,n,{},!1,i));n&&(n=n.nextSibling);)e.removeChild(n);if(i.length>0){let o;for(;(o=i.shift())!==void 0;)o()}}e.$V=r,lye(t)&&t()}function h$(r){return r==null}function mye(r){return typeof r=="string"}function p$(r){return r===void 0}var _ye={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function qw(r,e,t){var n=arguments,i,o=null,a=null,s=null,l=0,u,c=arguments.length-2;if(c===1)i=t;else if(c>1)for(i=[];c-- >0;)i[c]=n[c+2];if(mye(r)){if(l=uCe(r),!h$(e)){u={};for(var d in e)d==="className"||d==="class"?s=e[d]:d==="key"?a=e.key:d==="children"&&p$(i)?i=e.children:d==="ref"?o=e.ref:(d==="contenteditable"&&(l|=4096),u[d]=e[d])}}else{if(l=2,p$(i)||(e||(e={}),e.children=i),!h$(e)){u={};for(var h in e)h==="key"?a=e.key:h==="ref"?o=e.ref:_ye[h]===1?(o||(o={}),o[h]=e[h]):u[h]=e[h]}return $r(l,r,u,a,o)}return l&8192?Ku(c===1?[i]:i,0,a):Tn(l,r,s,i,0,u,a,o)}const Cye=r=>{var e,t;return((e=r.container)===null||e===void 0?void 0:e.get(0))||((t=r.item)===null||t===void 0?void 0:t.get(0))};function yye(r,e,t){setTimeout(()=>{r0(qw(r,e),Cye(e))},0)}const Sye=(r,e,t)=>{const n=e[r];return!!n&&typeof n!="string"},wye=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),bye=r=>typeof r=="number"?!0:!Number.isNaN(Number(r)),Eye=(r,e)=>wye.has(r)?e:`${e}px`,xye=/[A-Z]/g,Iye=r=>r.replace(xye,"-$&").toLowerCase();function qL(r){if(r instanceof Object)return Object.entries(r).reduce((e,[t,n])=>(e[Iye(t)]=bye(n)?Eye(t,n):n,e),{})}var f$=r=>{var{parentNode:e}=r;if(e){var t=r.nextSibling;CC(r),e.$V=r.$V,r0(null,e),e.insertBefore(r,t),r.innerHTML="",delete e.$V}delete r.$V};const Ap=ms({createElement:(r,e)=>qw(r,e),remove:f$,onAfterRender:()=>{bc.callEffects()},onPreRender:()=>{bc.lock()},render:(r,e,t,n)=>{if(n)r0(qw(r,e),t);else{var{parentNode:i}=t,o=t==null?void 0:t.nextSibling,a=ce.createElement("div");a.appendChild(t);var s=ce.createDocumentFragment().appendChild(a),l=!!t.$V;l&&f$(t),gye(qw(r,e),s),t.$V=s.$V,i&&i.insertBefore(t,o)}}});var Tye=(r,e)=>Object.keys(r).length!==Object.keys(e).length?!1:Object.keys(r).every(t=>r[t]===e[t]),Rye=["isEqual"];function Oye(r){return!!r.toArray}function Dye(r,e){var t,n={template:e,model:b({},r)},i=(t=r.data)!==null&&t!==void 0?t:{},{isEqual:o}=i,a=se(i,Rye);return o&&(n.model.data=a,n.isEqual=o),n}function Aye(r,e){var t,{data:n,index:i}=(t=r.model)!==null&&t!==void 0?t:{data:{}};n&&Object.keys(n).forEach(a=>{n[a]&&ce.isNode(n[a])&&(n[a]=ut(E(n[a])))});var o=r.template.render(b({container:e,transclude:r.transclude},{renovated:r.renovated},r.transclude?{}:{model:n},!r.transclude&&Number.isFinite(i)?{index:i}:{}));return o===void 0?[]:Oye(o)?o.toArray():[E(o).get(0)]}function Pye(r,e){e.forEach(t=>{var n=!!r.find(i=>t===i);!n&&t.parentNode&&E(t).remove()})}let v$=class extends Kl{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var e=ss(this.$LI,!0);if(!(e!=null&&e.parentNode))return()=>{};var t=e.parentNode,n=E(t),i=n.contents().toArray(),o=Aye(this.props,ut(n));return Iue(E(e),E(o)),()=>{var a=E(t).contents().toArray();Pye(i,a),t.appendChild(e)}}shouldComponentUpdate(e){var{model:t,template:n}=this.props,{isEqual:i,model:o,template:a}=e,s=i??Tye;if(n!==a)return!0;if(!L(t)||!L(o))return t!==o;var{data:l,index:u}=t,{data:c,index:d}=o;return u!==d?!0:!s(l,c)}createEffects(){return[new Zr(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}};function _R(r){return Array.isArray(r)?[...r]:b({},r)}function l8(r,e,t){var n=t.length>0&&e&&r!==e?_R(e):_R(r),i=t[0];return t.length>1?n[i]=l8(r[i],e==null?void 0:e[i],t.slice(1)):i&&(Nt(r[i])?n[i]=_R(r[i]):n[i]=r[i]),n}function Mye(r,e,t,n){var i=e[t],o=r[t],a=r;Nt(i)||t!==n&&Array.isArray(i)?a[t]=l8(i,o,ap(n).slice(1)):a[t]=i}var CR=(r,e)=>t=>{Object.prototype.hasOwnProperty.call(r,t)&&r[t]===void 0&&(r[t]=e(t))};class KC extends jl{constructor(e,t){super(e,t),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var e=this.getSupportedKeyNames(),t=e.length>0,n=typeof this._viewComponent.prototype.keyDown=="function";if(t&&!n)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var e;return(e=this._viewRef)===null||e===void 0?void 0:e.current}_checkContentReadyOption(e){var t=this._getContentReadyOptions().reduce((n,i)=>(n[i]=!0,n),{});return this._checkContentReadyOption=n=>!!t[n],this._checkContentReadyOption(e)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){var e=this._getViewComponentDefaultProps();return $(!0,super._getDefaultOptions(),e,this._propsInfo.twoWay.reduce((t,n)=>{var[i,o,a]=n;return b({},t,{[i]:e[o],[a]:s=>this.option(i,s)})},{}),this._propsInfo.templates.reduce((t,n)=>b({},t,{[n]:null}),{}))}_getUnwrappedOption(){var e={};return Object.keys(this.option()).forEach(t=>{e[t]=this.option(t)}),e}_initializeComponent(){var e;super._initializeComponent(),(e=this._templateManager)===null||e===void 0||e.addDefaultTemplates(this.getDefaultTemplates());var t=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(t),this._propsInfo.templates.forEach(n=>{this._componentTemplates[n]=this._createTemplateComponent(this._props[n])}),Object.keys(this._getActionConfigsFull()).forEach(n=>this._addAction(n)),this._viewRef=pi(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var e=this.getProps();this._renderWrapper(e)}_renderWrapper(e){var t=this.$element()[0];this._isNodeReplaced||Ap.onPreRender(),Ap.render(this._viewComponent,e,t,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,Ap.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(e,t){this._options.silent(e,t)}_render(){}_removeWidget(){Ap.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var e=this.$element()[0];if(!this._elementAttr){var{attributes:t}=e,n=Array.from(t).filter(s=>{var l;return!this._propsInfo.templates.includes(s.name)&&((l=t[s.name])===null||l===void 0?void 0:l.specified)}).reduce((s,l)=>{var{name:u,value:c}=l,d=s,h=u in e;return d[u]=c===""&&h?e[u]:c,d},{});this._elementAttr=n,this._storedClasses=e.getAttribute("class")||""}for(var i=e.style,o={},a=0;a<i.length;a+=1)o[i[a]]=i.getPropertyValue(i[a]);return this._elementAttr.style=o,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(e){var{allowNull:t,elements:n,props:i,twoWay:o}=this._propsInfo,a=this._getViewComponentDefaultProps(),s=Object.keys(a),l=this._getDefaultOptions(),{children:u,onKeyboardHandled:c,ref:d}=e,h=c?(f,v)=>{c(v)}:void 0,p={ref:d,children:u,onKeyDown:h};return[...i,...this._getAdditionalProps()].forEach(f=>{Object.prototype.hasOwnProperty.call(e,f)&&(p[f]=e[f])}),t.forEach(CR(p,()=>null)),s.forEach(CR(p,f=>l[f])),o.forEach(f=>{var[v,g]=f;CR(p,()=>l[g])(v)}),n.forEach(f=>{if(f in p){var v=p[f];Pa(v)&&(p[f]=this._patchElementParam(v))}}),p}getSupportedKeyNames(){return[]}prepareStyleProp(e){return typeof e.style=="string"?b({},e,{style:{},cssText:e.style}):e}getProps(){var e,t,{elementAttr:n}=this.option(),i=this._patchOptionValues(b({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(o=>{i[o]=this._componentTemplates[o]}),this.prepareStyleProp(b({},i,this.elementAttr,n,{className:[...((e=this.elementAttr.class)!==null&&e!==void 0?e:"").split(" "),...((t=n==null?void 0:n.class)!==null&&t!==void 0?t:"").split(" ")].filter((o,a,s)=>o&&s.indexOf(o)===a).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return b({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var e=Object.values(this._templatesInfo),t={};return e.forEach(n=>{t[n]="dx-renovation-template-mock"}),t}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(e){var t=Object.entries(this._templatesInfo).reduce((n,i)=>{var o,[a,s]=i;return b({},n,{[a]:(o=e[a])!==null&&o!==void 0?o:s})},{});return b({},e,t)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var e={},t=this.getSupportedKeyNames();return t.forEach(n=>{e[n]=i=>this.viewRef.keyDown(yL.createKeyDownOptions(i))}),e}_addAction(e,t){var n=t;if(!n){var i=this._createActionByOption(e,this._getActionConfigsFull()[e]);n=o=>(Object.keys(o).forEach(a=>{L(o[a])&&ce.isNode(o[a])&&(o[a]=ut(E(o[a])))}),i(o))}this._actionsMap[e]=n}_optionChanged(e){var{fullName:t,name:n,previousValue:i,value:o}=e;Mye(this._props,this.option(),n,t),this._propsInfo.templates.includes(n)&&o!==i&&(this._componentTemplates[n]=this._createTemplateComponent(o)),n&&this._getActionConfigsFull()[n]&&this._addAction(n),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(t),super._optionChanged(e),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?Ap.createElement(v$,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(e){if(e){var t=this._getTemplate(e);if(!(ft(t)&&t==="dx-renovation-template-mock"))return n=>Ap.createElement(v$,Dye(n,t))}}_wrapKeyDownHandler(e){return t=>{var{keyName:n,originalEvent:i,which:o}=t,a=this.customKeyHandlers,s=a[n]||a[o];if(s!==void 0){var l=s.bind(this),u=l(i,t);if(!u)return i.cancel=!0,i}return e==null?void 0:e(i,t)}}_toPublicElement(e){return ut(E(e))}_patchElementParam(e){try{var t=E(e),n=t==null?void 0:t.get(0);return n!=null&&n.nodeType?n:e}catch{return e}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return b({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(e,t){this.customKeyHandlers[e]=t}setAria(e,t){this._aria[e]=t,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}KC.IS_RENOVATED_WIDGET=!1;KC.IS_RENOVATED_WIDGET=!0;class Fye extends KC{get _validationGroupConfig(){return yr.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var e=super.getProps();e.onClick=n=>{var{event:i}=n;this._clickAction({event:i,validationGroup:this._validationGroupConfig})};var t=VC(e.icon);return t==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,t){var n=this.viewRef;t?n.activate():n.deactivate()}_getSubmitAction(){var e=!0,t="valid";return this._createAction(n=>{var{event:i,submitInput:o}=n;if(e){var a=this._validationGroupConfig;if(a!==void 0&&a!==""){var s=a.validate();t=s.status,s.status==="pending"&&(e=!1,this.option("disabled",!0),s.complete.then(l=>{var{status:u}=l;this.option("disabled",!1),t=u,t==="valid"&&o.click(),e=!0}))}}t!=="valid"&&i.preventDefault(),i.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var e=this.$element().find(".dx-button-content"),t=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");t.length&&(t.addClass("dx-button-content"),t.append(n),e.replaceWith(t))}_patchOptionValues(e){return super._patchOptionValues(b({},e,{templateData:e._templateData}))}_findGroup(){var e=this.$element(),t=this.option("validationGroup");return t!==void 0&&t!==""?t:yr.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){switch(e.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(e)}}function as(r){return Object.keys(r).filter(e=>r[e]).join(" ")}var Lye=["iconTemplate","position","source"],Nye=r=>{var{iconClassName:e,props:{iconTemplate:t,source:n},sourceType:i}=r;return Ku([i==="dxIcon"&&Tn(1,"i",e),i==="fontIcon"&&Tn(1,"i",e),i==="image"&&Tn(1,"img",e,null,1,{alt:"",src:n}),t&&Tn(1,"i",e,t({}),0)],0)},kye={position:"left",source:""},Vye=r=>r&&(r.defaultProps?e=>Jo($r(2,r,b({},e))):r);class u8 extends Cs{constructor(e){super(e),this.state={}}get sourceType(){return VC(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var e={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:t}=this.props;return this.sourceType==="dxIcon"?as(b({},e,{["dx-icon-".concat(t)]:!0})):this.sourceType==="fontIcon"?as(b({},e,{[String(t)]:!!t})):this.sourceType==="image"?as(e):this.sourceType==="svg"?as(b({},e,{"dx-svg-icon":!0})):""}get restAttributes(){var e=this.props,t=se(e,Lye);return t}render(){var e=this.props;return Nye({props:b({},e,{iconTemplate:Vye(e.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}u8.defaultProps=kye;var Bye=["config"],Hye=r=>Jo(Tn(1,"div","dx-inkripple",null,1,b({},r.restAttributes))),Gye={config:Object.freeze({})};class c8 extends Cs{constructor(e){super(e),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:e}=this.props;return S9(e)})()}get restAttributes(){var e=this.props,t=se(e,Bye);return t}hideWave(e){x9(this.getConfig,e)}showWave(e){b9(this.getConfig,e)}componentWillUpdate(e,t,n){this.props.config!==e.config&&(this.__getterCache.getConfig=void 0)}render(){var e=this.props;return Hye({props:b({},e),getConfig:this.getConfig,restAttributes:this.restAttributes})}}c8.defaultProps=Gye;function cp(r){return(e,t,n,i)=>{var o=i?fe(r,i):r;if(t)return B.on(e,o,n,t),()=>{B.off(e,o,t)}}}var $ye=cp(sr),Wye=cp("dxactive"),zye=cp("dxinactive"),Uye=cp("dxhoverstart"),jye=cp("dxhoverend"),Kye=cp("focusin"),qye=cp("focusout"),n0={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},Si=o8(void 0),Yye=["children","rtlEnabled"],Xye=r=>r.props.children,Qye={};class d8 extends Cs{constructor(e){super(e),this.state={},this.__getterCache={}}getChildContext(){return b({},this.context,{[Si.id]:this.config||Si.defaultValue})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config={rtlEnabled:this.props.rtlEnabled}}get restAttributes(){var e=this.props,t=se(e,Yye);return t}componentWillUpdate(e,t,n){this.props.rtlEnabled!==e.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var e=this.props;return Xye({props:b({},e),config:this.config,restAttributes:this.restAttributes})}}d8.defaultProps=Qye;function Zye(r,e){return r!==void 0?r:(e==null?void 0:e.rtlEnabled)!==void 0?e.rtlEnabled:Fr().rtlEnabled}function Jye(r,e){var t=L(r),n=L(Fr().rtlEnabled)&&!t&&!L(e==null?void 0:e.rtlEnabled);return t&&r!==(e==null?void 0:e.rtlEnabled)||n}var eSe=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],tSe=400,rSe=30,nSe=r=>Object.keys(r).reduce((e,t)=>r[t]?b({},e,{[t==="role"||t==="id"?t:"aria-".concat(t)]:String(r[t])}):e,{}),iSe=r=>{var e=Jo(Tn(1,"div",r.cssClasses,r.props.children,0,b({},r.attributes,{tabIndex:r.tabIndex,title:r.props.hint,style:qL(r.styles)}),null,r.widgetElementRef));return r.shouldRenderConfigProvider?$r(2,d8,{rtlEnabled:r.rtlEnabled,children:e}):e},Jb=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(n0),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:tSe,_feedbackShowTimeout:rSe,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0})));class i0 extends UC{constructor(e){super(e),this.widgetElementRef=pi(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return this.context[Si.id]?this.context[Si.id]:Si.defaultValue}createEffects(){return[new Zr(this.setRootElementRef,[]),new Zr(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new Zr(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new Zr(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new Zr(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new Zr(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new Zr(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new Zr(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new Zr(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new Zr(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new Zr(this.windowResizeEffect,[this.props.onDimensionChanged]),new Zr(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new Zr(this.checkDeprecation,[this.props.height,this.props.width]),new Zr(this.applyCssTextEffect,[this.props.cssText]),jC()]}updateEffects(){var e,t,n,i,o,a,s,l,u,c,d,h,p;(e=this._effects[1])===null||e===void 0||e.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(t=this._effects[2])===null||t===void 0||t.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(n=this._effects[3])===null||n===void 0||n.update([this.props.disabled,this.props.name,this.props.onClick]),(i=this._effects[4])===null||i===void 0||i.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(o=this._effects[5])===null||o===void 0||o.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(a=this._effects[6])===null||a===void 0||a.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(s=this._effects[7])===null||s===void 0||s.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(u=this._effects[9])===null||u===void 0||u.update([this.props.name,this.props.onDimensionChanged]),(c=this._effects[10])===null||c===void 0||c.update([this.props.onDimensionChanged]),(d=this._effects[11])===null||d===void 0||d.update([this.props.name,this.props.onVisibilityChange]),(h=this._effects[12])===null||h===void 0||h.update([this.props.height,this.props.width]),(p=this._effects[13])===null||p===void 0||p.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:e,rootElementRef:t}=this.props;t&&(t.current=this.widgetElementRef.current),e==null||e(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:e,activeStateEnabled:t,activeStateUnit:n,disabled:i,onActive:o}=this.props,a=n;if(t&&!i)return Wye(this.widgetElementRef.current,s=>{this.setState(l=>({active:!0})),o==null||o(s)},{timeout:e,selector:a},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:e,activeStateEnabled:t,activeStateUnit:n,onInactive:i}=this.props,o=n;if(t)return zye(this.widgetElementRef.current,a=>{this.state.active&&(this.setState(s=>({active:!1})),i==null||i(a))},{timeout:e,selector:o},"UIFeedback")}clickEffect(){var{disabled:e,name:t,onClick:n}=this.props,i=t;if(n&&!e)return kH.on(this.widgetElementRef.current,n,{namespace:i}),()=>kH.off(this.widgetElementRef.current,{namespace:i})}focusInEffect(){var{disabled:e,focusStateEnabled:t,name:n,onFocusIn:i}=this.props,o="".concat(n,"Focus");if(t&&!e)return Kye(this.widgetElementRef.current,a=>{a.isDefaultPrevented()||(this.setState(s=>({focused:!0})),i==null||i(a))},null,o)}focusOutEffect(){var{focusStateEnabled:e,name:t,onFocusOut:n}=this.props,i="".concat(t,"Focus");if(e)return qye(this.widgetElementRef.current,o=>{!o.isDefaultPrevented()&&this.state.focused&&(this.setState(a=>({focused:!1})),n==null||n(o))},null,i)}hoverStartEffect(){var{activeStateUnit:e,disabled:t,hoverStateEnabled:n,onHoverStart:i}=this.props,o=e;if(n&&!t)return Uye(this.widgetElementRef.current,a=>{!this.state.active&&this.setState(s=>({hovered:!0})),i==null||i(a)},{selector:o},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:e,hoverStateEnabled:t,onHoverEnd:n}=this.props,i=e;if(t)return jye(this.widgetElementRef.current,o=>{this.state.hovered&&(this.setState(a=>({hovered:!1})),n==null||n(o))},{selector:i},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:e,onKeyDown:t}=this.props;if(e&&t){var n=zc.on(this.widgetElementRef.current,this.widgetElementRef.current,i=>t(i));return()=>zc.off(n)}}resizeEffect(){var e="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:t}=this.props;if(t)return Gb.on(this.widgetElementRef.current,t,{namespace:e}),()=>Gb.off(this.widgetElementRef.current,{namespace:e})}windowResizeEffect(){var{onDimensionChanged:e}=this.props;if(e)return kh.add(e),()=>{kh.remove(e)}}visibilityEffect(){var{name:e,onVisibilityChange:t}=this.props,n="".concat(e,"VisibilityChange");if(t)return $b.on(this.widgetElementRef.current,()=>t(!0),()=>t(!1),{namespace:n}),()=>$b.off(this.widgetElementRef.current,{namespace:n})}checkDeprecation(){var{height:e,width:t}=this.props;Ne(t)&&br.log("W0017","width"),Ne(e)&&br.log("W0017","height")}applyCssTextEffect(){var{cssText:e}=this.props;e!==""&&(this.widgetElementRef.current.style.cssText=e)}get shouldRenderConfigProvider(){var{rtlEnabled:e}=this.props;return Jye(e,this.config)}get rtlEnabled(){var{rtlEnabled:e}=this.props;return Zye(e,this.config)}get attributes(){var{aria:e,disabled:t,focusStateEnabled:n,visible:i}=this.props,o=n&&!t&&this.props.accessKey;return b({},$({},o&&{accessKey:o}),nSe(b({},e,{disabled:t,hidden:!i})),$({},this.restAttributes))}get styles(){var{height:e,width:t}=this.props,n=this.restAttributes.style||{},i=tv("width",Ne(t)?t():t),o=tv("height",Ne(e)?e():e);return b({},n,{height:o??n.height,width:i??n.width})}get cssClasses(){var{activeStateEnabled:e,addWidgetClass:t,className:n,classes:i,disabled:o,focusStateEnabled:a,hoverStateEnabled:s,onVisibilityChange:l,visible:u}=this.props,c=!!a&&!o,d=!!s&&!o,h=!!e&&!o,p={"dx-widget":!!t,[String(i)]:!!i,[String(n)]:!!n,"dx-state-disabled":!!o,"dx-state-invisible":!u,"dx-state-focused":!!this.state.focused&&c,"dx-state-active":!!this.state.active&&h,"dx-state-hover":!!this.state.hovered&&d&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!l};return as(p)}get tabIndex(){var{disabled:e,focusStateEnabled:t,tabIndex:n}=this.props,i=t&&!e;return i?n:void 0}get restAttributes(){var e=this.props,t=se(e,eSe);return t}focus(){$w.trigger(this.widgetElementRef.current)}blur(){var e=ce.getActiveElement(this.widgetElementRef.current);this.widgetElementRef.current===e&&e.blur()}activate(){this.setState(e=>({active:!0}))}deactivate(){this.setState(e=>({active:!1}))}render(){var e=this.props;return iSe({props:b({},e),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}i0.defaultProps=Jb;var oSe=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],aSe=["outlined","text","contained"],sSe=r=>{var{icon:e,iconPosition:t,stylingMode:n,text:i,type:o}=r,a=n&&aSe.includes(n),s={"dx-button":!0,["dx-button-mode-".concat(a?n:"contained")]:!0,["dx-button-".concat(o??"normal")]:!0,"dx-button-has-text":!!i,"dx-button-has-icon":!!e,"dx-button-icon-right":t!=="left"};return as(s)},lSe=r=>{var{children:e,iconPosition:t,iconTemplate:n,template:i,text:o}=r.props,a=!r.props.template&&!e&&o!=="",s=t==="left",l=!r.props.template&&!e&&(r.iconSource||r.props.iconTemplate)&&$r(2,u8,{source:r.iconSource,position:t,iconTemplate:n});return Jo($r(2,i0,b({accessKey:r.props.accessKey,activeStateEnabled:r.props.activeStateEnabled,aria:r.aria,className:r.props.className,classes:r.cssClasses,disabled:r.props.disabled,focusStateEnabled:r.props.focusStateEnabled,height:r.props.height,hint:r.props.hint,hoverStateEnabled:r.props.hoverStateEnabled,onActive:r.onActive,onClick:r.onWidgetClick,onInactive:r.onInactive,onKeyDown:r.keyDown,rtlEnabled:r.props.rtlEnabled,tabIndex:r.props.tabIndex,visible:r.props.visible,width:r.props.width},r.restAttributes,{children:Tn(1,"div","dx-button-content",[r.props.template&&i({data:r.buttonTemplateData}),!r.props.template&&e,s&&l,a&&Tn(1,"span","dx-button-text",o,0),!s&&l,r.props.useSubmitBehavior&&Tn(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,r.submitInputRef),r.props.useInkRipple&&$r(2,c8,{config:r.inkRippleConfig},null,r.inkRippleRef)],0,null,null,r.contentRef)}),null,r.widgetRef))},uSe=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(n0),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),h8=ppe([{device:()=>Ye.real().deviceType==="desktop"&&!Ye.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Hi(mo()),options:{useInkRipple:!0}}]),g$=r=>r&&(r.defaultProps?e=>Jo($r(2,r,b({},e))):r);let eE=class extends UC{constructor(e){super(e),this.state={},this.contentRef=pi(),this.inkRippleRef=pi(),this.submitInputRef=pi(),this.widgetRef=pi(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this),this.emitClickEvent=this.emitClickEvent.bind(this)}createEffects(){return[new Zr(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),jC()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){var{onSubmit:e,useSubmitBehavior:t}=this.props;if(t&&e)return VH.on(this.submitInputRef.current,n=>e({event:n,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>VH.off(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(e){var{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){var{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){var{onClick:t,useSubmitBehavior:n}=this.props;t==null||t({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){var{onKeyDown:t}=this.props,{keyName:n,originalEvent:i,which:o}=e,a=t==null?void 0:t(e);if(a!=null&&a.cancel)return a;(n==="space"||o==="space"||n==="enter"||o==="enter")&&(i.preventDefault(),this.emitClickEvent())}emitClickEvent(){this.contentRef.current.click()}get aria(){var{icon:e,text:t}=this.props,n=t??"";if(!t&&e){var i=VC(e);switch(i){case"image":var o=!e.includes("base64")&&/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/.test(e);n=o?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break;case"dxIcon":n=J.format(y_(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":var a,s,l=(a=(s=/<title>(.*?)<\/title>/.exec(e))===null||s===void 0?void 0:s[1])!==null&&a!==void 0?a:"";n=l}}return b({role:"button"},n?{label:n}:{})}get cssClasses(){return sSe(this.props)}get iconSource(){var{icon:e}=this.props;return e??""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:e,text:t}=this.props;return!t&&e?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:e,templateData:t,text:n}=this.props;return b({icon:e,text:n},t)}get restAttributes(){var e=this.props,t=se(e,oSe);return t}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e,t,n){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var e=this.props;return lSe({props:b({},e,{template:g$(e.template),iconTemplate:g$(e.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,emitClickEvent:this.emitClickEvent,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}};eE.defaultProps=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(uSe),Object.getOwnPropertyDescriptors(b({},nv(h8)))));var m$=[];function cSe(r){m$.push(r),eE.defaultProps=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(eE.defaultProps),Object.getOwnPropertyDescriptors(nv(h8)),Object.getOwnPropertyDescriptors(nv(m$))))}let gi=class extends Fye{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}activate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.activate(...arguments)}deactivate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return eE}};Kt("dxButton",gi);gi.defaultOptions=cSe;var _$="dx-custom-button-hovered";class dSe extends Qx{_attachEvents(e,t){var{editor:n}=this;B.on(t,AC,()=>{n.$element().addClass(_$)}),B.on(t,PC,()=>{n.$element().removeClass(_$)}),B.on(t,sr,i=>{i.stopPropagation()})}_create(){var{editor:e}=this,t=E("<div>");this._addToContainer(t);var n=e._createComponent(t,gi,$({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:t,instance:n}}_prepareIntegrationOptions(e){return $({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){var e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){var{editor:e}=this;return e.option("visible")}_isDisabled(){var e=this.options.disabled!==void 0;return e?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var hSe="dx-texteditor-buttons-container";function pSe(r){(()=>{if(!r||typeof r!="object"||Array.isArray(r))throw Ht.Error("E1053")})(),(()=>{if(!("name"in r))throw Ht.Error("E1054")})(),(()=>{var{name:e}=r;if(typeof e!="string")throw Ht.Error("E1055")})(),(()=>{var{location:e}=r;"location"in r&&e!=="after"&&e!=="before"&&(r.location="after")})()}function C$(r,e){if(r.indexOf(e)!==-1)throw Ht.Error("E1055",e);r.push(e)}function fSe(r,e){return!!e.find(t=>t.name===r)}class vSe{constructor(e,t){this.buttons=[],this.defaultButtonsInfo=t,this.editor=e}_compileButtonInfo(e){var t=[];return e.map(n=>{var i=typeof n=="string";i||pSe(n);var o=i||fSe(n.name,this.defaultButtonsInfo);if(o){var a=this.defaultButtonsInfo.find(l=>{var{name:u}=l;return u===n||u===n.name});if(!a)throw Ht.Error("E1056",this.editor.NAME,n);return C$(t,n),a}else{var{name:s}=n;return C$(t,s),$(n,{Ctor:dSe})}})}_createButton(e){var{Ctor:t,options:n,name:i}=e,o=new t(i,this.editor,n);return this.buttons.push(o),o}_renderButtons(e,t,n){var i=null,o=e?this._compileButtonInfo(e):this.defaultButtonsInfo;return o.forEach(a=>{var{location:s="after"}=a;s===n&&this._createButton(a).render((i=i||E("<div>").addClass(hSe),n==="before"?t.prepend(i):t.append(i),i))}),i}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){var t=this.buttons.find(n=>{var{name:i}=n;return i===e});return t&&t.instance}renderAfterButtons(e,t){return this._renderButtons(e,t,"after")}renderBeforeButtons(e,t){return this._renderButtons(e,t,"before")}updateButtons(e){this.buttons.forEach(t=>{(!e||e.indexOf(t.name)!==-1)&&t.update()})}}var y$="dx-texteditor-label",S$="dx-texteditor-with-label",w$="dx-texteditor-label-outside",b$="dx-texteditor-with-floating-label",E$="dx-texteditor-with-before-buttons",gSe="dx-label-before",mSe="dx-label",_Se="dx-label-after";class CSe{constructor(e){this.NAME="dxLabel",this._props=e,this._id="".concat(y$,"-").concat(new dn),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=E("<div>").addClass(gSe),this._$labelSpan=E("<span>"),this._$label=E("<div>").addClass(mSe).append(this._$labelSpan),this._$after=E("<div>").addClass(_Se),this._$root=E("<div>").addClass(y$).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach(),this._attachEvents()}_attachEvents(){var e=fe(sr,this.NAME),t=fe(AC,this.NAME),n=fe(Wb,this.NAME);B.off(this._$labelSpan,e),B.off(this._$labelSpan,t),B.off(this._$labelSpan,n),this._isVisible()&&this._isOutsideMode()&&(B.on(this._$labelSpan,e,i=>{var o=Rt().getSelection().toString();o===""&&(this._props.onClickHandler(),i.preventDefault())}),B.on(this._$labelSpan,t,i=>{this._props.onHoverHandler(i)}),B.on(this._$labelSpan,n,i=>{this._props.onActiveHandler(i)}))}_updateEditorLabelClass(e){if(this._props.$editor.removeClass(b$).removeClass(w$).removeClass(S$),e){var t=this._props.mode==="floating"?b$:S$;this._props.$editor.addClass(t),this._isOutsideMode()&&this._props.$editor.addClass(w$)}}_isOutsideMode(){return this._props.mode==="outside"}_updateEditorBeforeButtonsClass(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(E$),e){var t=this._props.containsButtonsBefore?E$:"";this._props.$editor.addClass(t)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){if(this._isVisible()){var e,t=(e=this._props.beforeWidth)!==null&&e!==void 0?e:this._props.getBeforeWidth();this._$before.css({width:t}),this._updateLabelTransform()}}_updateLabelTransform(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(this._$labelSpan.css("transform",""),this._isVisible()&&this._isOutsideMode()){var t=this._props.rtlEnabled?1:-1,n=t*(gt(this._$before)+e);this._$labelSpan.css("transform","translateX(".concat(n,"px)"))}}_updateMaxWidth(){if(this._isVisible()&&!this._isOutsideMode()){var e,t=(e=this._props.containerWidth)!==null&&e!==void 0?e:this._props.getContainerWidth();this._$label.css({maxWidth:t})}}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}}var x$=Rt(),ySe={observe:Z,unobserve:Z,disconnect:Z};class SSe{constructor(){if(!yt()||!x$.ResizeObserver)return ySe;this._callbacksMap=new Map,this._observer=new x$.ResizeObserver(e=>{e.forEach(t=>{var n;(n=this._callbacksMap.get(t.target))===null||n===void 0||n(t)})})}observe(e,t){this._callbacksMap.set(e,t),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}var Sh=new SSe,wSe="dx-texteditor",bSe="dx-texteditor-input-container",p8="dx-texteditor-input",ESe="."+p8,xSe="dx-texteditor-container",ISe="dx-texteditor-buttons-container",I$="dx-placeholder",TSe="dx-texteditor-empty",RSe="dx-state-invisible",OSe="dx-pending-indicator",T$="dx-validation-pending",DSe="dx-valid",Yy=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],ASe=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],PSe=CSe;function R$(r){if(L(r)&&!Array.isArray(r))throw Ht.Error("E1053")}var MSe=qs.inherit({ctor:function(r,e){e&&R$(e.buttons),this._buttonCollection=new vSe(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return $(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(r){return L(r)&&r!==!1?r:""},stylingMode:Fr().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var r=mo();return Hi(r)},options:{labelMode:"floating",stylingMode:Fr().editorStylingMode||"filled"}},{device:function(){var r=mo();return Zi(r)},options:{labelMode:"outside"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:Z_e}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(ESe).first()},_isFocused:function(){return Jc(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+ISe).eq(0)},_isControlKey:function(r){return ASe.indexOf(r)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(wSe),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=E("<div>").addClass(xSe).appendTo(this.$element()),this._$textEditorInputContainer=E("<div>").addClass(bSe).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(T$);var r=this._getInputContainer(),e=E("<div>").addClass(OSe).appendTo(r);this._pendingIndicator=this._createComponent(e,Ra)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(T$))},_renderValidationState:function(){this.callBase();var r=this.option("validationStatus")==="pending";r?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),this._toggleValidMark()},_renderButtonContainers:function(){var r=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(r,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(r,this._$buttonsContainer)},_cleanButtonContainers:function(){var r,e;(r=this._$beforeButtonsContainer)===null||r===void 0||r.remove(),(e=this._$afterButtonsContainer)===null||e===void 0||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var r=E("<input>");return this._applyInputAttributes(r,this.option("inputAttr")),r},_setSubmitElementName:function(r){var e=this.option("inputAttr.name");return this.callBase(r||e||"")},_applyInputAttributes:function(r,e){var t=$(this._getDefaultAttributes(),e);r.attr(t).addClass(p8),this._setInputMinHeight(r)},_setInputMinHeight:function(r){r.css("minHeight",this.option("height")?"0":"")},_getPlaceholderAttr(){var{ios:r,mac:e}=Ye.real(),{placeholder:t}=this.option(),n=t||(r||e?" ":null);return n},_getDefaultAttributes(){var r={autocomplete:"off",placeholder:this._getPlaceholderAttr()};return r},_updateButtons:function(r){this._buttonCollection.updateButtons(r)},_updateButtonsStyling:function(r){U(this.option("buttons"),(e,t)=>{var{options:n,name:i}=t;if(n&&!n.stylingMode&&this.option("visible")){var o=this.getButton(i);o.option&&o.option("stylingMode",r==="underlined"?"text":"contained")}})},_renderValue:function(){var r=this._renderInputValue();return r.promise()},_renderInputValue:function(r){var e;r=(e=r)!==null&&e!==void 0?e:this.option("value");var t=this.option("text"),n=this.option("displayValue"),i=this.option("displayValueFormatter");return n!==void 0&&r!==null?t=i(n):L(t)||(t=i(r)),this.option("text",t),this._input().val()!==(L(t)?t:"")?this._renderDisplayText(t):this._toggleEmptinessEventHandler(),new X().resolve()},_renderDisplayText:function(r){this._input().val(r),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var r=this._input().get(0).validity;if(r)return r.valid}return!0},_toggleEmptiness:function(r){this.$element().toggleClass(TSe,r),this._togglePlaceholder(r)},_togglePlaceholder:function(r){this.$element().find(".".concat(I$)).eq(0).toggleClass(RSe,!r)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(r){this.callBase.apply(this,arguments);var e=this._input();e.prop("disabled",r)},_toggleTabIndex:function(){var r=this._input(),e=this.option("disabled"),t=this.option("focusStateEnabled");e||!t?r.attr("tabIndex",-1):r.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(Sh.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return gt(this._getLabelContainer())},_getLabelBeforeWidth:function(){var r=this._$beforeButtonsContainer&&gt(this._$beforeButtonsContainer);return r??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_getFieldElement(){return this._getLabelContainer()},_setFieldAria(r){var{"aria-label":e}=this.option("inputAttr"),t=this._label.getId(),n=e?void 0:t;if(n||r){var i={labelledby:n,label:e};this.setAria(i,this._getFieldElement())}},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=E(this._getLabelContainer()).get(0);var{label:r,labelMode:e,labelMark:t,rtlEnabled:n}=this.option(),i={onClickHandler:()=>{this.focus()},onHoverHandler:o=>{o.stopPropagation()},onActiveHandler:o=>{o.stopPropagation()},$editor:this.$element(),text:r,mark:t,mode:e,rtlEnabled:n,containsButtonsBefore:!!this._$beforeButtonsContainer,getContainerWidth:()=>this._getLabelContainerWidth(),getBeforeWidth:()=>this._getLabelBeforeWidth()};this._label=new PSe(i),this._setFieldAria(),this._labelContainerElement&&Sh.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var r=this._input(),e=this.option("placeholder"),t={id:e?"dx-".concat(new dn):void 0,"data-dx_placeholder":e},n=this._$placeholder=E("<div>").attr(t);n.insertAfter(r),n.addClass(I$)},_attachPlaceholderEvents:function(){var r=fe(Yt.up,this.NAME);B.on(this._$placeholder,r,()=>{B.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||E()},_clearValueHandler:function(r){var e=this._input();r.stopPropagation(),this._saveValueChangeEvent(r),this._clearValue(),!this._isFocused()&&B.trigger(e,"focus"),B.trigger(e,"input")},_clearValue:function(){this.clear()},_renderEvents:function(){var r=this._input();U(Yy,(e,t)=>{if(this.hasActionSubscription("on"+t)){var n=this._createActionByOption("on"+t,{excludeValidators:["readOnly"]});B.on(r,fe(t.toLowerCase(),this.NAME),i=>{this._disposed||n({event:i})})}})},_refreshEvents:function(){var r=this._input();U(Yy,(e,t)=>{B.off(r,fe(t.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(r){var e=this._input(),t=r.ctrlKey&&Jr(r)==="enter",n=e.val()!==this.option("value");t&&n&&B.trigger(e,"change")},_getValueChangeEventOptionName:function(){return"valueChangeEvent"},_renderValueChangeEvent:function(){var r=fe(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=fe(this.option(this._getValueChangeEventOptionName()),"".concat(this.NAME,"ValueChange")),t=fe("keydown","".concat(this.NAME,"TextChange")),n=this._input();B.on(n,r,this._keyPressHandler.bind(this)),B.on(n,e,this._valueChangeEventHandler.bind(this)),B.on(n,t,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var r=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");B.off(this._input(),r),B.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(r){return r===this._input().get(0)},_preventNestedFocusEvent:function(r){if(r.isDefaultPrevented())return!0;var e=this._isNestedTarget(r.relatedTarget);return r.type==="focusin"?e=e&&this._isNestedTarget(r.target)&&!this._isInput(r.target):e||this._toggleFocusClass(!1,this.$element()),e&&r.preventDefault(),e},_isNestedTarget:function(r){return!!this.$element().find(r).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(r){this._preventNestedFocusEvent(r),this.callBase.apply(this,arguments)},_focusOutHandler:function(r){this._preventNestedFocusEvent(r),this.callBase.apply(this,arguments)},_toggleFocusClass:function(r,e){this.callBase(r,this._focusClassTarget(e))},_hasFocusClass:function(r){return this.callBase(E(r||this.$element()))},_renderEmptinessEvent:function(){var r=this._input();B.on(r,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var r=this._input().val(),e=(r===""||r===null)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(r,e){this.option("readOnly")||(this._saveValueChangeEvent(r),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),B.off(this._input(),"keyup.onEnterKey.dxTextEditor"),B.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(r){this._disposed||Jr(r)==="enter"&&this._enterKeyAction({event:r})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(ce.getActiveElement(this._input()[0]))},_optionChanged:function(r){var{name:e,fullName:t,value:n}=r,i=e.replace("on","");if(Yy.includes(i)){this._refreshEvents();return}switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(r),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0),this._input().attr({placeholder:this._getPlaceholderAttr()});break;case"label":this._label.updateText(n),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setFieldAria();break;case"width":this.callBase(r),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(r);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(r);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":t===e&&R$(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(r),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(r)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(r){var e=this._input();r==="search"&&(r="text");try{e.prop("type",r)}catch{e.prop("type","text")}},getButton(r){return this._buttonCollection.getButton(r)},focus:function(){B.trigger(this._input(),"focus")},clear:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var r=this._getDefaultOptions();this.option("value")===r.value?(this._options.silent("text",""),this._renderValue()):this.option("value",r.value)},_resetToInitialValue(){this.option("value")===this._initialValue?(this._options.silent("text",this._initialValue),this._renderValue()):this.callBase(),this._disposePendingIndicator(),this._showValidMark=!1,this._toggleValidMark()},_toggleValidMark(){this.$element().toggleClass(DSe,!!this._showValidMark)},reset:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length?this.callBase(r):this.callBase()},on:function(r,e){var t=this.callBase(r,e),n=r.charAt(0).toUpperCase()+r.substr(1);return Yy.indexOf(n)>=0&&this._refreshEvents(),t}}),yR="dxMask",FSe="blur beforedeactivate",f8=" ",LSe=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],NSe=["historyUndo","historyRedo"],kSe=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function VSe(r){return f8.repeat(r)}class BSe{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(this._editorOption("valueChangeEvent").split(" ").includes("change")){var e=this._editorInput(),t=fe(FSe,yR);B.on(e,t,n=>{this.editor._changeHandler(n)})}}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){var{originalEvent:t}=e;if(t){var{inputType:n}=t;if(NSe.includes(n))this._handleHistoryInputEvent();else if(LSe.includes(n))this._handleBackwardDeleteInputEvent();else{var i=this._editorCaret();if(!i.end)return;this._clearSelectedText(),this._autoFillHandler(t),this._editorCaret(i),this._handleInsertTextInputEvent(t.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}}_handleHistoryInputEvent(){var e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText();var e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret();var t=this._editorCaret();t.start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(){var e,t,n=((e=this._prevCaret)===null||e===void 0?void 0:e.end)-((t=this._prevCaret)===null||t===void 0?void 0:t.start)||1,i=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:i.start,length:n,text:VSe(n)}))}_handleInsertTextInputEvent(e){var t,n,i=e??"";this.editor.setForwardDirection();var o=this._updateEditorMask({start:(t=(n=this._prevCaret)===null||n===void 0?void 0:n.start)!==null&&t!==void 0?t:0,length:i.length||1,text:i});o||this._editorCaret(this._prevCaret)}_updateEditorMask(e){var t=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){var{start:i,end:o}=this._editorCaret(),a=n-t,s=n>1;s&&t===1&&this._editorCaret({start:i+a,end:o+a}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{var e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:e,end:e})},0)}}_focusOutHandler(e){this.editor._changeHandler(e),this._editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){var{editor:t}=this;t._maskKeyHandler(e,()=>{t._hasSelection()||t._handleKey(f8)})}_cutHandler(e){var t=this._editorCaret(),n=this._editorInput().val().substring(t.start,t.end);this.editor._maskKeyHandler(e,()=>ZA(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{var e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)})}_pasteHandler(e){var{editor:t}=this;if(!this._editorOption("disabled")){var n=this._editorCaret();t._maskKeyHandler(e,()=>{var i=ZA(e),o=t._maskRulesChain.text().substring(n.end),a=t._handleChain({text:i,start:n.start,length:i.length}),s=n.start+a;t._handleChain({text:o,start:s,length:o.length}),t._caret({start:s,end:s})})}}_autoFillHandler(e){var{editor:t}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(t._maskKeyHandler(e,()=>{t._handleChain({text:n,start:0,length:n.length})}),t._validateMask())})}_isAutoFill(){var e=this._editorInput();if(Gr.webkit){var t,n=e.get(0);return(t=n==null?void 0:n.matches(":-webkit-autofill"))!==null&&t!==void 0?t:!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}getHandler(e){return t=>{var n;(n=this["_".concat(e,"Handler")])===null||n===void 0||n.call(this,t)}}attachEvents(){var e=this._editorInput();kSe.forEach(t=>{var n=fe(t.toLowerCase(),yR);B.on(e,n,this.getHandler(t))}),this._attachChangeEventHandler()}detachEvents(){B.off(this._editorInput(),".".concat(yR))}clean(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var O$=E_e,D$=" ",HSe="\\",A$="dx-texteditor-masked",SR="forward",GSe="backward",$Se="drop",WSe={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(r){return Xy(r)},l:function(r){return Xy(r)||M$(r)},C:/\S/,c:/./,A:function(r){return Xy(r)||P$(r)},a:function(r){return Xy(r)||P$(r)||M$(r)}};function P$(r){return/[0-9]/.test(r)}function Xy(r){var e=r.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function M$(r){return r===" "}var YL=MSe.inherit({_getDefaultOptions:function(){return $(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:J.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var r=this,e={del:r._maskStrategy.getHandler("del"),enter:r._changeHandler},t=r.callBase();return U(e,function(n,i){var o=t[n];t[n]=function(a){r.option("mask")&&i.call(r,a),o&&o(a)}}),t},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=new BSe(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var r=this._onMouseWheel!==Z;if(r){var e=this._input(),t=fe(bC,this.NAME),n=this._createAction((function(i){var{event:o}=i;Jc(e)&&!ii(o)&&(this._onMouseWheel(o),o.preventDefault(),o.stopPropagation())}).bind(this));B.off(e,t),B.on(e,t,function(i){n({event:i})})}},_onMouseWheel:Z,_useMaskBehavior(){return!!this.option("mask")},_attachDropEventHandler(){var r=this._useMaskBehavior();if(r){var e=fe($Se,this.NAME),t=this._input();B.off(t,e),B.on(t,e,n=>n.preventDefault())}},_render(){this._renderMask(),this.callBase(),this._attachDropEventHandler(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=E("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(A$),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(A$),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_changeHandler:function(r){var e=this._input(),t=e.val();if(t!==this._changedValue){this._changedValue=t;var n=Fc(r,{type:"change"});B.trigger(e,n)}},_parseMask:function(){this._maskRules=$({},WSe,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(r){var e=this.option("mask");if(r>=e.length)return new x_e;var t=e[r],n=t===HSe,i=n?new r$({maskChar:e[r+1]}):this._getMaskRule(t);return i.next(this._parseMaskRule(r+1+n)),i},_getMaskRule:function(r){var e;return U(this._maskRules,function(t,n){if(t===r)return e={pattern:t,allowedChars:n},!1}),L(e)?new T9($({maskChar:this.option("maskChar")||" "},e)):new r$({maskChar:r})},_renderMaskedValue:function(){if(this._maskRulesChain){var r=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:r.length};e[this._isMaskedValueMode()?"text":"value"]=r,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(r,e,t){if(t===void 0)return r;var n=r.slice(0,e.start),i=r.slice(e.end),o=n+t+i;return o},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(r){r=r||this._caret(),this._renderValue(),this._caret(r)},_isValueEmpty:function(){return Vw(this._value)},_shouldShowMask:function(){var r=this.option("showMaskMode");return r==="onFocus"?Jc(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var r=this._maskRulesChain.text();this.option("text",r),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(r)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var r=this._maskRulesChain.value(),e=Vw(r)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(r){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(r),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(r){return this._isControlKey(Jr(r))||ii(r)},_handleChain:function(r){var e=this._maskRulesChain.handle(this._normalizeChainArguments(r));return this._updateMaskInfo(),e},_normalizeChainArguments:function(r){return r=r||{},r.index=0,r.fullText=this._maskRulesChain.text(),r},_convertToValue:function(r){return this._isMaskedValueMode()?r=this._replaceMaskCharWithEmpty(r||this._textValue||""):r=r||this._value||"",r},_replaceMaskCharWithEmpty:function(r){return r.replace(new RegExp(this.option("maskChar"),"g"),D$)},_maskKeyHandler:function(r,e){if(!this.option("readOnly")){this.setForwardDirection(),r.preventDefault(),this._handleSelection();var t=this._input().val(),n=()=>{t!==this._input().val()&&B.trigger(this._input(),"input")},i=e();i?i.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())}},_handleKey:function(r,e){this._direction(e||SR),this._adjustCaret(r),this._handleKeyChain(r),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var r=this._caret(),e=new Array(r.end-r.start+1).join(D$);this._handleKeyChain(e)}},_handleKeyChain:function(r){var e=this._caret(),t=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,i=t===n?1:n-t;this._handleChain({text:r,start:t,length:i})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var r=this._caret().start;return this._adjustCaret(),!r||r!==this._caret().start},_adjustCaret:function(r){var e=this._caret().start,t=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,t,r);this._caret({start:n,end:n})},_moveCaret:function(){var r=this._caret().start,e=r+(this.isForwardDirection()?0:-1),t=this._maskRulesChain.isAccepted(e)?r+(this.isForwardDirection()?1:-1):r;this._caret({start:t,end:t})},_caret:function(r,e){var t=this._input();if(t.length){if(!arguments.length)return O$(t);O$(t,r,e)}},_hasSelection:function(){var r=this._caret();return r.start!==r.end},_direction:function(r){if(!arguments.length)return this._typingDirection;this._typingDirection=r},setForwardDirection:function(){this._direction(SR)},setBackwardDirection:function(){this._direction(GSe)},isForwardDirection:function(){return this._direction()===SR},_updateMaskInfo(){this._textValue=this._maskRulesChain.text(),this._value=this._maskRulesChain.value()},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var r=Vw(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:r,validationError:r?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(r){if(!r){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(r){switch(r.name){case"mask":this._updateMaskOption(),this._processEmptyMask(r.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(r),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(r)}},clear:function(){var{value:r}=this._getDefaultOptions();this.option("value")===r&&this._renderMaskedValue(),this.callBase()}});Kt("dxTextEditor",YL);var zSe=Rt(),USe=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],jSe="dx-textbox",F$="dx-searchbox",KSe="dx-icon",qSe="dx-icon-search",qC=YL.inherit({ctor:function(r,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return $(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(jSe),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var r=this._getMaxLength();r&&r>0?this._input().attr("maxLength",r):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var r=this._$element;this.option("mode")==="search"?(r.addClass(F$),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(r.removeClass(F$),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var r=E("<div>").addClass(KSe).addClass(qSe);r.prependTo(this._input().parent()),this._$searchIcon=r},_getLabelContainerWidth:function(){if(this._$searchIcon){var r=this._input().parent();return gt(r)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var r=this.callBase();return this._$searchIcon&&(r+=er(this._$searchIcon)),r},_optionChanged:function(r){switch(r.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(r),this._updateLabelWidth();break;case"mask":this.callBase(r),this._toggleMaxLengthProp();break;default:this.callBase(r)}},_onKeyDownCutOffHandler:function(r){var e=this._getMaxLength();if(e&&!r.ctrlKey&&!this._hasSelection()){var t=E(r.target),n=Jr(r);return this._cutOffExtraChar(t),t.val().length<e||USe.includes(n)||zSe.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(r){var e=E(r.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(r){var e=this._getMaxLength(),t=r.val();e&&t.length>e&&r.val(t.substr(0,e))},_getMaxLength:function(){var r=!!this.option("mask");return r?null:this.option("maxLength")}});Kt("dxTextBox",qC);var YSe=tr.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(r,e){var t=this;U(r,function(n,i){var o=L(e)?e:t._getParentId(i),a=t._convertItemToNode(i,o);t._dataStructure.push(a),t._checkForDuplicateId(a.internalFields.key),t._indexByKey[a.internalFields.key]=t._dataStructure.length-1,t._itemHasChildren(i)&&t._convertItemsToNodes(t._dataAccessors.getters.items(i),a.internalFields.key)})},_checkForDuplicateId:function(r){if(L(this._indexByKey[r]))throw Ht.Error("E1040",r)},_getParentId:function(r){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(r):void 0},_itemHasChildren:function(r){if(this._dataType!=="plain"){var e=this._dataAccessors.getters.items(r);return e&&e.length}},_getUniqueKey:function(r){var e=this._dataAccessors.getters.key,t=e(r),n=e&&(t||t===0)&&Bm(t);return n?t:this.getItemsCount()},_convertItemToNode:function(r,e){this._itemsCount++,r.visible!==!1&&this._visibleItemsCount++;var t={internalFields:{disabled:this._dataAccessors.getters.disabled(r,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(r,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(r,{defaultValue:!1}),key:this._getUniqueKey(r),parentKey:L(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(r),childrenKeys:[]}};return $(t,r),delete t.items,t},setChildrenKeys:function(){var r=this;U(this._dataStructure,function(e,t){if(t.internalFields.parentKey!==r._rootValue){var n=r.getParentNode(t);n&&n.internalFields.childrenKeys.push(t.internalFields.key)}})},_makeObjectFromPrimitive:function(r){if(Bm(r)){var e=r;r={},this._dataAccessors.setters.key(r,e)}return r},_convertToPublicNode:function(r,e){if(!r)return null;var t={text:this._dataAccessors.getters.display(r),key:r.internalFields.key,selected:r.internalFields.selected,expanded:r.internalFields.expanded,disabled:r.internalFields.disabled,parent:e||null,itemData:r.internalFields.item,children:[],items:[]};return t.parent&&(t.parent.children.push(t),t.parent.items.push(t)),t},convertToPublicNodes:function(r,e){if(!r.length)return[];var t=this,n=[];return U(r,function(i,o){o=Bm(o)?t._getByKey(o):o;var a=t._convertToPublicNode(o,e);a.children=t.convertToPublicNodes(o.internalFields.childrenKeys,a),n.push(a),o.internalFields.publicNode=a}),n},setDataAccessors:function(r){this._dataAccessors=r},_getByKey:function(r){return this._dataStructure[this.getIndexByKey(r)]||null},getParentNode:function(r){return this._getByKey(r.internalFields.parentKey)},getByKey:function(r,e){if(e==null)return null;var t=null,n=this,i=function(o,a){return U(o,function(s,l){var u=l.internalFields&&l.internalFields.key||n._dataAccessors.getters.key(l);if(u.toString()===a.toString())return t=l,!1}),t};return i(r,e)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var r=this;this._indexByKey={},U(this._dataStructure,function(e,t){r._checkForDuplicateId(t.internalFields.key),r._indexByKey[t.internalFields.key]=e})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},U(this._dataStructure,function(r,e){e.internalFields.childrenKeys=[]})},getIndexByKey:function(r){return this._indexByKey[r]},createPlainStructure:function(r,e,t){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=t,this._indexByKey={},this._convertItemsToNodes(r),this.setChildrenKeys(),this._dataStructure}}),Pp="expanded",xd="selected",XSe="disabled";zh.setEditorClass(qC);var QSe=tr.inherit({ctor:function(r){this.options={},$(this.options,this._defaultOptions(),r),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(r,e){this.options[r]=e,r==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new YSe,onNodeChanged:Z,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(xd)},_updateExpansion:function(r){this.options.recursiveExpansion&&(r?this._updateOneBranch(r):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(Pp)},_updateNodesKeysArray:function(r){var e=this,t=[];return U(e._getDataBySelectionMode(),function(n,i){e._isNodeVisible(i)&&i.internalFields[r]&&(r===Pp||e.options.multipleSelection?t.push(i.internalFields.key):(t.length&&e.toggleSelection(t[0],!1,!0),t=[i.internalFields.key]))}),t},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(r){return r.internalFields.item.visible!==!1},_getByKey:function(r,e){return r===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(r,e)},_setChildrenSelection:function(){var r=this;U(this._dataStructure,function(e,t){if(t.internalFields.childrenKeys.length){var n=t.internalFields.selected;n===!0&&r._toggleChildrenSelection(t,n)}})},_setParentSelection:function(){var r=this;U(this._dataStructure,function(e,t){var n=r.options.dataConverter.getParentNode(t);n&&t.internalFields.parentKey!==r.options.rootValue&&r._iterateParents(t,function(i){var o=r._calculateSelectedState(i);r._setFieldState(i,xd,o)})})},_setParentExpansion:function(){var r=this;U(this._dataStructure,function(e,t){t.internalFields.expanded&&r._updateOneBranch(t.internalFields.key)})},_updateOneBranch:function(r){var e=this,t=this.getNodeByKey(r);e._iterateParents(t,function(n){e._setFieldState(n,Pp,!0)})},_iterateChildren:function(r,e,t,n){if(Ne(t)){var i=this,o=r.internalFields.key;n=n||[],n.indexOf(o)===-1&&(n.push(o),U(r.internalFields.childrenKeys,function(a,s){var l=i.getNodeByKey(s);t(l),l.internalFields.childrenKeys.length&&e&&i._iterateChildren(l,e,t,n)}))}},_iterateParents:function(r,e,t){if(!(r.internalFields.parentKey===this.options.rootValue||!Ne(e))){t=t||[];var n=r.internalFields.key;if(t.indexOf(n)===-1){t.push(n);var i=this.options.dataConverter.getParentNode(r);i&&(e(i),i.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(i,e,t))}}},_calculateSelectedState:function(r){for(var e=r.internalFields.childrenKeys.length,t=0,n=0,i=!1,o=0;o<=e-1;o++){var a=this.getNodeByKey(r.internalFields.childrenKeys[o]),s=a.internalFields.item.visible===!1,l=a.internalFields.selected;if(s){n++;continue}l?t++:l===void 0&&(t+=.5)}return t&&(i=t===e-n?!0:void 0),i},_toggleChildrenSelection:function(r,e){var t=this;this._iterateChildren(r,!0,function(n){t._isNodeVisible(n)&&t._setFieldState(n,xd,e)})},_setFieldState:function(r,e,t){r.internalFields[e]!==t&&(r.internalFields[e]=t,r.internalFields.publicNode&&(r.internalFields.publicNode[e]=t),this.options.dataAccessors.setters[e](r.internalFields.item,t),this.options.onNodeChanged(r))},_markChildren:function(r){var e=this;U(r,function(t,n){var i=e.getIndexByKey(n),o=e.getNodeByKey(n);e._dataStructure[i]=0,o.internalFields.childrenKeys.length&&e._markChildren(o.internalFields.childrenKeys)})},_removeNode:function(r){var e=this.getNodeByKey(r);this._dataStructure[this.getIndexByKey(r)]=0,this._markChildren(e.internalFields.childrenKeys);var t=this,n=0,i=$([],this._dataStructure);U(i,function(o,a){a||(t._dataStructure.splice(o-n,1),n++)})},_addNode:function(r){var e=this.options.dataConverter,t=e._convertItemToNode(r,this.options.dataAccessors.getters.parentKey(r));this._dataStructure=this._dataStructure.concat(t),this._initialDataStructure=this._initialDataStructure.concat(t),e._dataStructure=e._dataStructure.concat(t)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(r){var e=null;return U(this._dataStructure,function(t,n){if(n.internalFields.item===r)return e=n,!1}),e},getNodesByItems:function(r){var e=this,t=[];return U(r,function(n,i){var o=e.getNodeByItem(i);o&&t.push(o)}),t},getNodeByKey:function(r,e){return this._getByKey(e||this._getDataBySelectionMode(),r)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(r){return r.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(r){return po(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",r]).toArray()},getIndexByKey:function(r){return this.options.dataConverter.getIndexByKey(r)},addItem:function(r){this._addNode(r),this._updateFields()},removeItem:function(r){this._removeNode(r),this._updateFields()},toggleSelection:function(r,e,t){var n=this._isSingleModeUnselect(e),i=this._getByKey(t||n?this._initialDataStructure:this._dataStructure,r);this._setFieldState(i,xd,e),this.options.recursiveSelection&&!t&&(e?this._setChildrenSelection():this._toggleChildrenSelection(i,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(xd)},_isSingleModeUnselect:function(r){return!this.options.multipleSelection&&!r},toggleNodeDisabledState:function(r,e){var t=this.getNodeByKey(r);this._setFieldState(t,XSe,e)},toggleSelectAll:function(r){if(L(r)){var e=this,t=e._selectedNodesKeys[e._selectedNodesKeys.length-1],n=e._isSingleModeUnselect(r)?this._initialDataStructure:this._dataStructure;U(n,function(i,o){e._isNodeVisible(o)&&e._setFieldState(o,xd,r)}),e._selectedNodesKeys=e._updateNodesKeysArray(xd),!r&&e.options.selectionRequired&&e.toggleSelection(t,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(r,e){var t=this.getNodeByKey(r);this._setFieldState(t,Pp,e),e&&this._updateExpansion(r),this._expandedNodesKeys=this._updateNodesKeysArray(Pp)},isFiltered:function(r){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[r]).length},_createCriteria:function(r,e,t){var n=[];return Array.isArray(r)?(U(r,function(i,o){n.push([o,t,e],"or")}),n.pop(),n):[r,t,e]},_filterDataStructure:function(r,e){var t=this.options.searchExpr||this.options.dataAccessors.getters.display,n=zh.getOperationBySearchMode(this.options.searchMode),i=this._createCriteria(t,r,n);return e=e||this._initialDataStructure,po(e,{langParams:this.options.langParams}).filter(i).toArray()},search:function(r){var e=this,t=this._filterDataStructure(r),n=this.options.dataConverter;return function i(o,a){for(var s=o.length;a<s;){var l=o[a];if(l.internalFields.parentKey===e.options.rootValue){a++;continue}var u=n.getParentNode(l);if(!u){Ht.log("W1007",l.internalFields.parentKey,l.internalFields.key),a++;continue}if(u.internalFields.expanded||e._setFieldState(u,Pp,!0),o.includes(u)){a++;continue}o.splice(a,0,u),i(o,a)}}(t,0),this.options.sort&&(t=Ru.queryByOptions(po(t),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),n._indexByKey={},U(t,function(i,o){o.internalFields.childrenKeys=[],n._indexByKey[o.internalFields.key]=i}),n._dataStructure=t,n.setChildrenKeys(),n._dataStructure}}),ZSe="dx-state-invisible",JSe="dx-state-disabled",ewe="dx-item-content-placeholder",twe=function(r,e,t){var n=function(o){i!==o&&(t(o,i),i=o)},i;return{dispose:r(e,n),force:function(){n(e())}}},dp=tr.inherit({ctor:function(r,e,t){this._$element=r,this._options=e,this._rawData=t,rY(r,this,this._dispose),this._render()},_render:function(){var r=E("<div>").addClass(ewe);this._$element.append(r),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(r,e){var t=this._rawData,n=this._options.fieldGetter(r),i=twe(this._options.watchMethod(),function(){return n(t)},(function(o,a){this._dirty=!0,e(o,a)}).bind(this));this._watchers.push(i)},setDataField:function(){if(this._dirty=!1,U(this._watchers,function(r,e){e.force()}),this._dirty)return!0},_renderDisabled:function(r,e){this._$element.toggleClass(JSe,!!r),this._$element.attr("aria-disabled",!!r),this._updateOwnerFocus(r)},_updateOwnerFocus:function(r){var e=this._options.owner;e&&r&&e._resetItemFocus(this._$element)},_renderVisible:function(r,e){this._$element.toggleClass(ZSe,r!==void 0&&!r)},_dispose:function(){U(this._watchers,function(r,e){e.dispose()})}});dp.getInstance=function(r){return nY(r,this)};var L$=Math.abs,XL="dxhold",rwe=750,N$=5,nwe=Vx.inherit({start:function(r){this._startEventData=gn(r),this._startTimer(r)},_startTimer:function(r){var e="timeout"in this?this.timeout:rwe;this._holdTimer=setTimeout((function(){this._requestAccept(r),this._fireEvent(XL,r,{target:r.target}),this._forgetAccept()}).bind(this),e)},move:function(r){this._touchWasMoved(r)&&this._cancel(r)},_touchWasMoved:function(r){var e=rh(this._startEventData,gn(r));return L$(e.x)>N$||L$(e.y)>N$},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});Iv({emitter:nwe,bubble:!0,events:[XL]});const rd={name:XL};var QL="dxContexMenu",iwe=fe("contextmenu",QL),owe=fe(rd.name,QL),ZL="dxcontextmenu",awe=tr.inherit({setup:function(r){var e=E(r);B.on(e,iwe,this._contextMenuHandler.bind(this)),(Vh||Ye.isSimulator())&&B.on(e,owe,this._holdHandler.bind(this))},_holdHandler:function(r){Nh(r)&&!Ye.isSimulator()||this._fireContextMenu(r)},_contextMenuHandler:function(r){this._fireContextMenu(r)},_fireContextMenu:function(r){return ld({type:ZL,originalEvent:r})},teardown:function(r){B.off(r,"."+QL)}});_s(ZL,new awe);var v8=ZL,swe=function(r,e,t,n,i){var o,a=((s,l,u)=>l(()=>s,u))(r,e,function(s){if(o&&o(),Bm(s)){i(s);return}o=function(l,u,c,d,h){var p={},f=c.slice(),v=c.map(function(g){var m=d[g];return u(m?()=>m(l):()=>l[g],function(C){if(p[g]=C,f.length){var y=f.indexOf(g);y>=0&&f.splice(y,1)}f.length||h(p)})});return function(){v.forEach(g=>g())}}(s,e,t,n,i)});return function(){o&&o(),a&&a()}};class hp extends up{constructor(e,t,n,i){super(),this._render=e,this._fields=t,this._fieldsMap=i||{},this._watchMethod=n}_renderCore(e){var t=E(e.container),n=swe(e.model,this._watchMethod,this._fields,this._fieldsMap,i=>{t.empty(),this._render(t,i,e.model)});return B.on(t,yo,n),t.contents()}}var lwe="dx-collection",Qy="dx-item",k$="-content",V$="dx-item-content-placeholder",uwe="dxItemData",cwe="dxItemIndex",dwe="tmpl-",hwe="dxItem",pwe="dx-item-selected",fwe="dx-item-response-wait",vwe="dx-empty-collection",B$="dx-template-wrapper",gwe=/^([^.]+\[\d+\]\.)+([\w.]+)$/,mwe="item",wR="up",bR="down",H$="left",G$="right",_we="pageup",Cwe="pagedown",$$="last",W$="first",g8=ai.inherit({_activeStateUnit:"."+Qy,_supportedKeys:function(){var r=function(e,t){ii(t)||(t.preventDefault(),t.stopPropagation(),this._moveFocus(e,t))};return $(this.callBase(),{space:function(e){e.preventDefault(),this._enterKeyHandler(e)},enter:this._enterKeyHandler,leftArrow:r.bind(this,H$),rightArrow:r.bind(this,G$),upArrow:r.bind(this,wR),downArrow:r.bind(this,bR),pageUp:r.bind(this,wR),pageDown:r.bind(this,bR),home:r.bind(this,W$),end:r.bind(this,$$)})},_enterKeyHandler:function(r){var e=E(this.option("focusedElement"));if(e.length){var t=this._getItemData(e);t!=null&&t.onClick&&this._itemEventHandlerByHandler(e,t.onClick,{event:r}),this._itemClickHandler($({},r,{target:e.get(0),currentTarget:e.get(0)}))}},_getDefaultOptions:function(){return $(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:J.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(r){return r?r.disabled:void 0},visibleExpr:function(r){return r?r.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var r=this.option("displayExpr");this._displayGetter=r?Ar(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return mwe},_initDefaultItemTemplate:function(){var r=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new hp((function(e,t){Nt(t)?this._prepareDefaultItemTemplate(t,e):(r&&Ne(r.text)&&(t=r.text(t)),e.text(String(an(t,""))))}).bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),r)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(r,e){L(r.text)&&e.text(r.text),L(r.html)&&e.html(r.html)},_initItemsFromMarkup:function(){var r=pY(this.$element(),hwe);if(!(!r.length||this.option("items").length)){var e=r.map(t=>{var{element:n,options:i}=t,o=/\S/.test(n.innerHTML)&&!i.template;return o?i.template=this._prepareItemTemplate(n):E(n).remove(),i});this.option("items",e)}},_prepareItemTemplate:function(r){var e=dwe+new dn,t=E(r).detach().clone().removeAttr("data-options").addClass(B$);return this._saveTemplate(e,t),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(r){if(this.callBase.apply(this,arguments),!!this._isFocusTarget(r.target)){var e=E(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var t=this._getActiveItem();t.length&&this.option("focusedElement",ut(t))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var r=E(this.option("focusedElement"));this._updateFocusedItemState(r,!1)},_findActiveTarget(r){return r.find(this._activeStateUnit)},_getActiveItem:function(r){var e=E(this.option("focusedElement"));if(e.length)return e;var t=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,n=this._getActiveElement(),i=n.length-1;return t<0&&(t=r?i:0),n.eq(t)},_moveFocus:function(r){var e=this._getAvailableItems(),t;switch(r){case _we:case wR:t=this._prevItem(e);break;case Cwe:case bR:t=this._nextItem(e);break;case G$:t=this.option("rtlEnabled")?this._prevItem(e):this._nextItem(e);break;case H$:t=this.option("rtlEnabled")?this._nextItem(e):this._prevItem(e);break;case W$:t=e.first();break;case $$:t=e.last();break;default:return!1}t.length!==0&&this.option("focusedElement",ut(t))},_getVisibleItems:function(r){return r=r||this._itemElements(),r.filter(":visible")},_getAvailableItems:function(r){return this._getVisibleItems(r)},_prevItem:function(r){var e=this._getActiveItem(),t=r.index(e),n=r.last(),i=E(r[t-1]),o=this.option("loopItemFocus");return i.length===0&&o&&(i=n),i},_nextItem:function(r){var e=this._getActiveItem(!0),t=r.index(e),n=r.first(),i=E(r[t+1]),o=this.option("loopItemFocus");return i.length===0&&o&&(i=n),i},_selectFocusedItem:function(r){this.selectItem(r)},_updateFocusedItemState:function(r,e,t){var n=E(r);n.length&&(this._refreshActiveDescendant(),this._refreshItemId(n,t),this._toggleFocusClass(e,n)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(r){this.setAria("activedescendant",L(this.option("focusedElement"))?this.getFocusedItemId():null,r)},_refreshItemId:function(r,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),r):this.setAria("id",null,r)},_isDisabled:r=>r&&E(r).attr("aria-disabled")==="true",_setFocusedItem:function(r){if(!(!r||!r.length)){this._updateFocusedItemState(r,!0),this.onFocusedItemChanged(this.getFocusedItemId());var{selectOnFocus:e}=this.option(),t=this._isDisabled(r);e&&!t&&this._selectFocusedItem(r)}},_findItemElementByItem:function(r){var e=E(),t=this;return this.itemElements().each(function(){var n=E(this);if(n.data(t._itemDataKey())===r)return e=n,!1}),e},_getIndexByItem:function(r){return this.option("items").indexOf(r)},_itemOptionChanged:function(r,e,t,n){var i=this._findItemElementByItem(r);if(i.length){this.constructor.ItemClass.getInstance(i).setDataField(e,t)||this._refreshItem(i,r);var o=e==="disabled"&&t;o&&this._resetItemFocus(i)}},_resetItemFocus(r){r.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(r){var e=this._getItemData(r),t=r.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+t,e,null,r)},_updateParentActiveDescendant:Z,_optionChanged:function(r){if(r.name==="items"){var e=r.fullName.match(gwe);if(e&&e.length){var t=e[e.length-1],n=r.fullName.replace("."+t,""),i=this.option(n);this._itemOptionChanged(i,t,r.value,r.previousValue);return}}switch(r.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(r.previousValue,!1,!0),this._setFocusedItem(E(r.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(r)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(r){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=e.concat(r.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",r.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer:function(){E(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return Qy},_itemContentClass:function(){return this._itemClass()+k$},_selectedItemClass:function(){return pwe},_itemResponseWaitClass:function(){return fwe},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return uwe},_itemIndexKey:function(){return cwe},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(lwe),this._prepareContent()},_prepareContent:Bf(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_getPointerEvent:()=>Yt.down,_attachClickEvent(){var r=this._itemSelector(),e=this._getPointerEvent(),t=fe(sr,this.NAME),n=fe(e,this.NAME),i=new $o(o=>{var{event:a}=o;this._itemPointerDownHandler(a)});B.off(this._itemContainer(),t,r),B.off(this._itemContainer(),n,r),B.on(this._itemContainer(),t,r,o=>this._itemClickHandler(o)),B.on(this._itemContainer(),n,r,o=>{i.execute({element:E(o.target),event:o})})},_itemClickHandler:function(r,e,t){this._itemDXEventHandler(r,"onItemClick",e,t)},_itemPointerDownHandler:function(r){this.option("focusStateEnabled")&&(this._itemFocusHandler=(function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!r.isDefaultPrevented()){var e=E(r.target),t=e.closest(this._itemElements()),n=this._closestFocusable(e);t.length&&this._isFocusTarget(n==null?void 0:n.get(0))&&this.option("focusedElement",ut(t))}}).bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(r){if(r.is(KA))return r;for(r=r.parent();r.length&&!ce.isDocument(r.get(0))&&!ce.isDocumentFragment(r.get(0));){if(r.is(KA))return r;r=r.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var r=this._itemContainer(),e=this._itemSelector(),t=fe(rd.name,this.NAME);B.off(r,t,e),B.on(r,t,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(r){this._shouldFireHoldEvent()?this._itemDXEventHandler(r,"onItemHold"):r.cancel=!0},_attachContextMenuEvent:function(){var r=this._itemContainer(),e=this._itemSelector(),t=fe(v8,this.NAME);B.off(r,t,e),B.on(r,t,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(r){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(r,"onItemContextMenu"):r.cancel=!0},_renderContentImpl:function(){var r=this.option("items")||[];this._renderedItemsCount?this._renderItems(r.slice(this._renderedItemsCount)):this._renderItems(r)},_renderItems:function(r){r.length&&U(r,(function(e,t){this._renderItem(this._renderedItemsCount+e,t)}).bind(this)),this._renderEmptyMessage()},_getItemsContainer:function(){return this._itemContainer()},_setAttributes(r){var e=b({},this.option("_itemAttributes")),{class:t}=e;if(t){var n=r.get(0).className;e.class=[n,t].join(" ")}r.attr(e)},_renderItem:function(r,e,t,n){var i,o=(i=r==null?void 0:r.item)!==null&&i!==void 0?i:r;t=t||this._getItemsContainer();var a=this._renderItemFrame(o,e,t,n);this._setElementData(a,e,o),this._setAttributes(a),this._attachItemClickEvent(e,a);var s=this._getItemContent(a),l=this._renderItemContent({index:o,itemData:e,container:ut(s),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),u=this;return $e(l).done(function(c){u._postprocessRenderItem({itemElement:a,itemContent:c,itemData:e,itemIndex:o}),u._executeItemRenderAction(r,e,ut(a))}),a},_getItemContent:function(r){var e=r.find("."+V$);return e.removeClass(V$),e},_attachItemClickEvent:function(r,e){!r||!r.onClick||B.on(e,sr,(function(t){this._itemEventHandlerByHandler(e,r.onClick,{event:t})}).bind(this))},_renderItemContent:function(r){var e=this._getItemTemplateName(r),t=this._getTemplate(e);this._addItemContentClasses(r);var n=E(this._createItemByTemplate(t,r));return n.hasClass(B$)?this._renderItemContentByNode(r,n):r.container},_renderItemContentByNode:function(r,e){return E(r.container).replaceWith(e),r.container=ut(e),this._addItemContentClasses(r),e},_addItemContentClasses:function(r){var e=[Qy+k$,r.contentClass];E(r.container).addClass(e.join(" "))},_appendItemToContainer:function(r,e,t){e.appendTo(r)},_renderItemFrame:function(r,e,t,n){var i=E("<div>");if(new this.constructor.ItemClass(i,this._itemOptions(),e||{}),n&&n.length?n.replaceWith(i):this._appendItemToContainer.call(this,t,i,r),this.option("useItemTextAsTitle")){var o=this._displayGetter?this._displayGetter(e):e;i.attr("title",o)}return i},_itemOptions:function(){var r=this;return{watchMethod:function(){return r.option("integrationOptions.watchMethod")},owner:r,fieldGetter:function(e){var t=r.option(e+"Expr"),n=Ar(t);return n}}},_postprocessRenderItem:Z,_executeItemRenderAction:function(r,e,t){this._getItemRenderAction()({itemElement:t,itemIndex:r,itemData:e})},_setElementData:function(r,e,t){r.addClass([Qy,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),t)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(r){var e=r.itemData,t=r.templateProperty||this.option("itemTemplateProperty"),n=e&&e[t];return n||r.defaultTemplateName},_createItemByTemplate:function(r,e){return r.render({model:e.itemData,container:e.container,index:e.index,onRendered:this._onItemTemplateRendered(r,e)})},_onItemTemplateRendered:function(){return Z},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(r){r=r||this.option("items");var e=this.option("noDataText"),t=!e||r&&r.length||this._dataController.isLoading();t&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),t||(this._$noData=this._$noData||E("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(e):this._$noData.html(e)),this.$element().toggleClass(vwe,!t)},_itemDXEventHandler:function(r,e,t,n){this._itemEventHandler(r.target,e,$(t,{event:r}),n)},_itemEventHandler:function(r,e,t,n){var i=this._createActionByOption(e,$({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(r,i,t)},_itemEventHandlerByHandler:function(r,e,t,n){var i=this._createAction(e,$({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(r,i,t)},_itemEventHandlerImpl:function(r,e,t){var n=this._closestItemElement(E(r)),i=$({},t);return e($(t,this._extendActionArgs(n),i))},_extendActionArgs:function(r){return{itemElement:ut(r),itemIndex:this._itemElements().index(r),itemData:this._getItemData(r)}},_closestItemElement:function(r){return E(r).closest(this._itemSelector())},_getItemData:function(r){return E(r).data(this._itemDataKey())},_getSummaryItemsSize(r,e,t){var n=0;return e&&U(e,function(i,o){r==="width"?n+=er(o,t||!1):r==="height"&&(n+=Vt(o,t||!1))}),n},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new dn),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(Xx);g8.ItemClass=dp;var Eo=tr.abstract,ywe=tr.inherit({ctor:function(r){this._collectionWidget=r},getIndexByItemData:Eo,getItemDataByIndex:Eo,getKeysByItems:Eo,getItemsByKeys:Eo,itemsGetter:Eo,getKeyByIndex:function(r){var e=this._denormalizeItemIndex(r);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(r,e){return this._collectionWidget._isKeySpecified()?Mr(r,e):r===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:Eo,getNormalizedIndex:function(r){return this._isNormalizedItemIndex(r)?r:this._isItemIndex(r)?this._normalizeItemIndex(r):this._isNode(r)?this._getNormalizedItemIndex(r):this._normalizeItemIndex(this.getIndexByItemData(r))},getIndex:function(r){return this._isNormalizedItemIndex(r)?this._denormalizeItemIndex(r):this._isItemIndex(r)?r:this._isNode(r)?this._denormalizeItemIndex(this._getNormalizedItemIndex(r)):this.getIndexByItemData(r)},getItemElement:function(r){if(this._isNormalizedItemIndex(r))return this._getItemByNormalizedIndex(r);if(this._isItemIndex(r))return this._getItemByNormalizedIndex(this._normalizeItemIndex(r));if(this._isNode(r))return E(r);var e=this._normalizeItemIndex(this.getIndexByItemData(r));return this._getItemByNormalizedIndex(e)},_isNode:r=>ce.isNode(r&&Pa(r)?r.get(0):r),deleteItemAtIndex:Eo,itemPlacementFunc:function(r,e){return this._itemsFromSameParent(r,e)&&r<e?"after":"before"},moveItemAtIndexToIndex:Eo,_isNormalizedItemIndex:function(r){return typeof r=="number"&&Math.round(r)===r},_isItemIndex:Eo,_getNormalizedItemIndex:Eo,_normalizeItemIndex:Eo,_denormalizeItemIndex:Eo,_getItemByNormalizedIndex:Eo,_itemsFromSameParent:Eo}),JL=ywe.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(r){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(r)):this._getPlainItems().indexOf(r)},getItemDataByIndex:function(r){return this._getPlainItems()[r]},deleteItemAtIndex:function(r){this._getPlainItems().splice(r,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(r){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),t=r;if(e){t=[];for(var n=0;n<r.length;n++)t.push(e(r[n]))}return t},getIndexByKey:function(r){var e=this._cache,t=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=t),typeof r=="object"){for(var n=0,i=t.length;n<i;n++)if(this._equalKeys(r,t[n]))return n}else return t.indexOf(r);return-1},getItemsByKeys:function(r,e){return(e||r).slice()},moveItemAtIndexToIndex:function(r,e){var t=this._getPlainItems(),n=t[r];t.splice(r,1),t.splice(e,0,n)},_isItemIndex:function(r){return typeof r=="number"&&Math.round(r)===r},_getNormalizedItemIndex:function(r){return this._collectionWidget._itemElements().index(r)},_normalizeItemIndex:function(r){return r},_denormalizeItemIndex:function(r){return r},_getItemByNormalizedIndex:function(r){return r>-1?this._collectionWidget._itemElements().eq(r):null},_itemsFromSameParent:function(){return!0}});class m8{constructor(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,t){this.options[e]=t}onSelectionChanged(){var e=this.options.addedItemKeys,t=this.options.removedItemKeys,n=this.options.addedItems,i=this.options.removedItems,o=this.options.selectedItems,a=this.options.selectedItemKeys,s=this.options.onSelectionChanged||Z;this._clearItemKeys(),s({selectedItems:o,selectedItemKeys:a,addedItemKeys:e,removedItemKeys:t,addedItems:n,removedItems:i})}equalKeys(e,t){return this.options.equalByReference&&pt(e)&&pt(t)?e===t:Mr(e,t)}getSelectableItems(e){return e.filter(function(t){return!(t!=null&&t.disabled)})}_clearSelection(e,t,n,i){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,n,i)}_removeTemplateProperty(e){return Array.isArray(e)?e.map(t=>this._removeTemplateProperty(t)):(pt(e)&&delete e.template,e)}_loadFilteredData(e,t,n,i){var o=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,a=this.options.maxFilterLengthInRequest&&o>this.options.maxFilterLengthInRequest,s=new X,l={filter:a?void 0:e,select:a?this.options.dataFields():n||this.options.dataFields()};return e&&e.length===0?s.resolve([]):this.options.load(l).done(function(u){var c=Nt(u)?u.data:u;t&&!i?c=c.filter(t):a&&(c=po(c).filter(e).toArray()),s.resolve(c)}).fail(s.reject.bind(s)),s}updateSelectedItemKeyHash(e){for(var t=0;t<e.length;t++){var n=Vl(e[t]);if(!pt(n)){this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[];var i=this.options.keyHashIndices[n];i.push(t)}}}_isAnyItemSelected(e){for(var t=0;t<e.length;t++)if(this.options.isItemSelected(e[t]))return;return!1}_getFullSelectAllState(){var e=this.options.plainItems(),t=this.options.filter(),n=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(a=>!(a!=null&&a.disabled));t&&(n=po(n).filter(t).toArray());var i=n.length,o=e.length-this.getSelectableItems(e).length;if(!i)return this._isAnyItemSelected(e);if(i>=this.options.totalCount()-o)return!0}_getVisibleSelectAllState(){for(var e=this.getSelectableItems(this.options.plainItems()),t=!1,n=!1,i=0;i<e.length;i++){var o=e[i],a=this.options.getItemData(o),s=this.options.keyOf(a);this.options.isSelectableItem(o)&&(this.isItemKeySelected(s)?t=!0:n=!0)}return t?n?void 0:!0:!1}}class Swe extends m8{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){var e=new X,t=this,n=this.options.key(),i=ft(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,i).done(function(o){var a=o.map(function(s){return t.options.keyOf(s)});e.resolve(a)}).fail(e.reject),e.promise()}selectedItemKeys(e,t,n,i){if(i){var o=this.options.filter(),a=!o||JSON.stringify(o)===JSON.stringify(this.options.selectionFilter)&&n;a?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,o,i)}else{t||this._setOption("selectionFilter",[]);for(var s=0;s<e.length;s++)n?this.removeSelectedItem(e[s]):this.addSelectedItem(e[s],i,!t)}return this.onSelectionChanged(),new X().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null);for(var t=0;t<e.length;t++)this.addSelectedItem(e[t])}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){var t=this.options.selectionFilter;return t?!!po([e]).filter(t).toArray().length:!0}_getKeyExpr(){var e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e}_normalizeKey(e){var t=this.options.key();return Array.isArray(t)&&t.length===1?e[t[0]]:e}_getFilterByKey(e){var t=this._getKeyExpr(),n=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n.push([t[i],"=",e[t[i]]]),i!==t.length-1&&n.push("and")}return n}addSelectedItem(e,t,n){var i=this._getFilterByKey(e);this._addSelectionFilter(!1,i,t,n)}removeSelectedItem(e){var t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)}validate(){var e=this.options.key;if(e&&e()===void 0)throw Ht.Error("E1042","Deferred selection")}_findSubFilter(e,t){if(!e)return-1;for(var n=JSON.stringify(t),i=0;i<e.length;i++){var o=e[i];if(o&&JSON.stringify(o)===n)return i}return-1}_isLastSubFilter(e,t){return e&&t?this._findSubFilter(e,t)===e.length-1||this._findSubFilter([e],t)===0:!1}_addFilterOperator(e,t){return e.length>1&&ft(e[1])&&e[1]!==t&&(e=[e]),e.length&&e.push(t),e}_denormalizeFilter(e){return e&&ft(e[0])&&(e=[e]),e}_isOnlyNegativeFiltersLeft(e){return e.every((t,n)=>n%2===0?Array.isArray(t)&&t[0]==="!":t==="and")}_addSelectionFilter(e,t,n,i){var o,a=e?["!",t]:t,s=e?"and":"or",l=!0,u=this.options.selectionFilter||[];if(u=this._denormalizeFilter(u),(o=u)!==null&&o!==void 0&&o.length&&!i){var c=this._removeSameFilter(u,t,e,n),d=this._removeSameFilter(u,t,!e),h=e&&(c!==-1||d!==-1)&&this._isOnlyNegativeFiltersLeft(u);h&&(u=[]);var p=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(u,d);l=t.length&&!p}l&&(u=this._addFilterOperator(u,s),u.push(a)),u=this._normalizeFilter(u),this._setOption("selectionFilter",!e&&!u.length?null:u)}_normalizeFilter(e){return e&&e.length===1&&(e=e[0]),e}_removeFilterByIndex(e,t,n){var i=e[1];t>0?e.splice(t-1,2):e.splice(t,2),n&&i==="and"&&e.splice(0,e.length)}_isSimpleKeyFilter(e,t){return e.length===3&&e[0]===t&&e[1]==="="}_isKeyFilter(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);var t=this._getKeyExpr();if(Array.isArray(t)){if(e.length!==2*t.length-1)return!1;for(var n=0;n<t.length;n++)if(n>0&&e[2*n-1]!=="and"||!this._isSimpleKeyFilter(e[2*n],t[n]))return!1;return!0}return this._isSimpleKeyFilter(e,t)}_hasKeyFiltersOnlyStartingFromIndex(e,t){if(t>=0){for(var n=t;n<e.length;n++)if(typeof e[n]!="string"&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,t,n,i){if(t=n?["!",t]:t,JSON.stringify(t)===JSON.stringify(e))return e.splice(0,e.length),0;var o=this._findSubFilter(e,t);if(o>=0)return this._removeFilterByIndex(e,o,i),o;for(var a=0;a<e.length;a++)if(Array.isArray(e[a])&&e[a].length>2){var s=this._removeSameFilter(e[a],t,!1,i);if(s>=0)return e[a].length?e[a].length===1&&(e[a]=e[a][0]):this._removeFilterByIndex(e,a,i),s}return-1}getSelectAllState(){var e=this.options.filter(),t=this.options.selectionFilter;if(!t)return!0;if(!t.length)return!1;if(!(!e||!e.length)){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,e))return!0;if(this._isLastSubFilter(t,["!",e]))return!1}}loadSelectedItemsWithFilter(){var e=this.options.filter(),t=this.options.selectionFilter,n=e?[e,"and",t]:t;return this._loadFilteredData(n)}}var z$=function(r,e){this.getLocalFilter=function(a,s,l,u){return s=s===void 0?Mr:s,i.bind(this,s,a,l,u)},this.getExpr=function(a){if(a){var s;return r.forEach(function(l,u){s=s||[];var c;u>0&&s.push(e?"and":"or"),ft(a)?c=o(a,l):c=function(d,h){for(var p=[],f=0,v=d.length;f<v;f++){var g=d[f],m=h&&h[g],C=o(g,m);if(!C)break;f>0&&p.push(e?"or":"and"),p.push(C)}return p}(a,l),s.push(c)}),s&&s.length===1&&(s=s[0]),s}},this.getCombinedFilter=function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=this.getExpr(a),c=u;return(l||e)&&s&&(u?(c=[],c.push(u),c.push(s)):c=s),c};var t,n=function(a,s,l){return Array.isArray(l)?a.map(u=>s(u)):a};function i(a,s,l,u,c){var d=s(c),h,p;if(!l&&(h=Vl(d),!pt(h))){var f=function(v,g){if(!t){t={};for(var m=n(r,v,g),C=0;C<m.length;C++)t[Vl(m[C])]=!0}return t}(s,u);return f[h]?!e:!!e}for(p=0;p<r.length;p++)if(a(r[p],d))return!e;return!!e}function o(a,s){if(s!==void 0)return[a,e?"<>":"=",s]}};class wwe extends m8{constructor(e){super(e),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,t){var n=this.options.keyOf,i,o,a;if(n){var s=t&&e.length>1&&!this.options.equalByReference;for(s&&(i={}),a=0;a<e.length;a++){var l=e[a],u=n(l);t?(o=this.removeSelectedItem(u,i,l==null?void 0:l.disabled),i&&o>=0&&(i[o]=!0)):this.addSelectedItem(u,l)}s&&this._batchRemoveSelectedItems(i)}}_batchRemoveSelectedItems(e){var t=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var i=0;i<t.length;i++)e[i]||(this.options.selectedItemKeys.push(t[i]),this.options.selectedItems.push(n[i]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,t,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=new X,s=this.options.key();if(!e.length&&!n)return a.resolve([]),a;if(n&&t&&!i)return a.resolve(this.getSelectedItems()),a;var l=new z$(e,n),u=l.getCombinedFilter(s,i,o),c=[];if(t){var d=this.options.selectedItems;c=u&&e.length!==d.length?po(d).filter(u).toArray():d.slice(0)}var h=c.length?c:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),p=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,s);return h=h.filter(p),c.length||!n&&h.length===e.length?a.resolve(h):a=this._loadFilteredData(u,p,null,n),a}_replaceSelectionUpdate(e){var t=[],n=this.options.keyOf;if(n){for(var i=0;i<e.length;i++){var o=e[i],a=n(o);t.push(a)}this.setSelectedItems(t,e)}}_warnOnIncorrectKeys(e){for(var t=this.options.allowNullValue,n=0;n<e.length;n++){var i=e[n];(!t||i!==null)&&!this.isItemKeySelected(i)&&Ht.log("W1002",i)}}_isMultiSelectEnabled(){var e=this.options.mode;return e==="all"||e==="multiple"}_requestInProgress(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"}_concatRequestsItems(e,t,n,i){var o,a=t?e:[];return i?o=i:o=DH(e,this.options.selectedItemKeys),{addedItems:n.added.concat(o),removedItems:n.removed.concat(a),keys:e}}_collectLastRequestData(e,t,n,i){var o=t&&n,a={added:[],removed:[]},s=this._isMultiSelectEnabled(),l=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(o?(this._lastLoadDeferred.reject(),l={}):dme(e,this.options.selectedItemKeys)||(a.added=l.addedItems,a.removed=l.removedItems,t||this._lastLoadDeferred.reject())),l=this._concatRequestsItems(e,t,a,this._shouldMergeWithLastRequest?void 0:i)),l}_updateKeysByLastRequestData(e,t,n){var i=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!t&&!n){var o,a;i=DH(e.concat((o=this._lastRequestData)===null||o===void 0?void 0:o.addedItems),(a=this._lastRequestData)===null||a===void 0?void 0:a.removedItems),i=xpe(i)}return i}_loadSelectedItems(e,t,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this,s=new X,l=a.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,n,i),$e(a._lastLoadDeferred).always(function(){var u=a._updateKeysByLastRequestData(e,t,n);a._shouldMergeWithLastRequest=!1,a._loadSelectedItemsCore(u,t,n,l,o).done(s.resolve).fail(s.reject)}),a._lastLoadDeferred=s,s}selectedItemKeys(e,t,n,i,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=this,l=s._loadSelectedItems(e,n,i,o,a);return l.done(function(u){t?s._preserveSelectionUpdate(u,n):s._replaceSelectionUpdate(u),s.onSelectionChanged()}),l}addSelectedItem(e,t){if(L(t)&&!this.options.ignoreDisabledItems&&t.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}var n=this._getKeyHash(e);this._indexOfSelectedItemKey(n)===-1&&(!pt(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))}_getSelectedIndexByKey(e,t){for(var n=this.options.selectedItemKeys,i=0;i<n.length;i++)if((!t||!t[i])&&this.equalKeys(n[i],e))return i;return-1}_getSelectedIndexByHash(e,t){var n=this.options.keyHashIndices[e];return n&&n.length>1&&t&&(n=n.filter(function(i){return!t[i]})),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,t){var n;return this.options.equalByReference?n=this.options.selectedItemKeys.indexOf(e):pt(e)?n=this._getSelectedIndexByKey(e,t):n=this._getSelectedIndexByHash(e,t),n}_shiftSelectedKeyIndices(e){for(var t=e;t<this.options.selectedItemKeys.length;t++){var n=this.options.selectedItemKeys[t],i=Vl(n),o=this.options.keyHashIndices[i];if(o)for(var a=0;a<o.length;a++)o[a]>e&&o[a]--}}removeSelectedItem(e,t,n){if(!(!this.options.ignoreDisabledItems&&n)){var i=this._getKeyHash(e),o=!!t,a=this._indexOfSelectedItemKey(i,t);if(a<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[a]),o)||(this.options.selectedItemKeys.splice(a,1),this.options.selectedItems.splice(a,1),pt(i)||!this.options.keyHashIndices))return a;var s=this.options.keyHashIndices[i];return s&&(s.shift(),s.length||delete this.options.keyHashIndices[i],this._shiftSelectedKeyIndices(a)),a}}_updateAddedItemKeys(e,t){for(var n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(t[n]))}_updateRemovedItemKeys(e,t,n){for(var i=0;i<t.length;i++)this.isItemKeySelected(t[i])||(this.options.removedItemKeys.push(t[i]),this.options.removedItems.push(n[i]))}_isItemSelectionInProgress(e,t){var n=t&&this._lastRequestData&&this._requestInProgress();if(n){var i,o=(i=this._lastRequestData.addedItems)!==null&&i!==void 0?i:[];return o.includes(e)}else return!1}_getKeyHash(e){return this.options.equalByReference?e:Vl(e)}setSelectedItems(e,t){this._updateAddedItemKeys(e,t);var n=this.options.selectedItemKeys,i=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,n,i)}isItemDataSelected(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.options.keyOf(e);return this.isItemKeySelected(n,t)}isItemKeySelected(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this._isItemSelectionInProgress(e,t.checkPending);if(!n){var i=this._getKeyHash(e),o=this._indexOfSelectedItemKey(i);n=o!==-1}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){var e=this.options.key(),t=this.getSelectedItemKeys(),n=this.options.filter();if(!t.length)return X().resolve([]);var i=new z$(t),o=i.getCombinedFilter(e,n,!0);return this._loadFilteredData(o)}}let _8=class{constructor(e){this.options=$(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new Swe(this.options):new wwe(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:Z,key:Z,keyOf:function(e){return e},load:function(){return new X().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:Z,filter:Z}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(e===void 0)return this.options.selectionFilter;var t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()}setSelection(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,t,n,i,o){var a;return e=(a=e)!==null&&a!==void 0?a:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,n,i,o)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,t){this._selectionStrategy.addSelectedItem(t,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,t){this._selectionStrategy.setSelectedItems(e,t)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e,t,n){var i,o,a,s=this.options.plainItems(),l=s[e],u,c=(i=(o=this.options).allowLoadByRange)===null||i===void 0?void 0:i.call(o),d,h=!1,p=!1,f=y=>y>=0&&!s.filter(w=>w.loadIndex===y).length;if(c&&L(l)&&(d=l.loadIndex-e,e=l.loadIndex,h=f(this._focusedItemIndex),L(this._shiftFocusedItemIndex)&&(p=f(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(l))return!1;var v=this.options.getItemData(l),g=this.options.keyOf(v);if(t=t||{},t.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)h||p?(a=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,a&&(u=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):a=this.changeItemSelectionWhenShiftKeyPressed(e,s,d);else if(t.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!n){var m=this._selectionStrategy.isItemDataSelected(v);this.options.mode==="single"&&this.clearSelectedItems(),m?this._removeSelectedItem(g):this._addSelectedItem(v,g)}a=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var C=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],g);(this.options.selectedItemKeys.length!==1||!C)&&(this._setSelectedItems([g],[v]),a=!0)}if(a)return $e(u).done(()=>{this._focusedItemIndex=e,!n&&this.onSelectionChanged()}),!0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return this.options.mode==="single"||this.options.mode==="multiple"}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e,t){return this._selectionStrategy.isItemKeySelected(e,t)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){var t=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),n=new X,i=t.skip;return this.options.load(t).done(o=>{this.changeItemSelectionWhenShiftKeyPressed(e,o,i),n.resolve()}),n.promise()}changeItemSelectionWhenShiftKeyPressed(e,t,n){var i=!1,o,a=L(n),s=a?this._focusedItemIndex-n:this._focusedItemIndex,l=this.options.keyOf,u=t[s],c=this.options.getItemData(u),d=l(c),h=u&&this.isItemDataSelected(c);L(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var p,f,v,g;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(o=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,v=a?this._focusedItemIndex-n:this._focusedItemIndex,g=a?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=v;s!==g;s+=o)(a||this.isDataItem(t[s]))&&(f=l(this.options.getItemData(t[s])),this._removeSelectedItem(f),i=!0);if(e!==this._shiftFocusedItemIndex)for(o=e<this._shiftFocusedItemIndex?1:-1,v=a?e-n:e,g=a?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=v;s!==g;s+=o)(a||this.isDataItem(t[s]))&&(p=this.options.getItemData(t[s]),f=l(p),this._addSelectedItem(p,f),i=!0);return(a||this.isDataItem(u))&&!h&&(this._addSelectedItem(c,d),i=!0),i}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}_onePageSelectAll(e){for(var t=this._selectionStrategy.getSelectableItems(this.options.plainItems()),n=0;n<t.length;n++){var i=t[n];if(this.isDataItem(i)){var o=this.options.getItemData(i),a=this.options.keyOf(o),s=this.isItemSelected(a);!s&&!e&&this._addSelectedItem(o,a),s&&e&&this._removeSelectedItem(a)}}return this.onSelectionChanged(),new X().resolve()}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}};var ER="dxItemDeleting",Yw=-1,Is=function(r){return r!==Yw},pp=g8.inherit({_setOptionsByReference:function(){this.callBase(),$(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return $(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:Yw,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(r,e){this._userOptions=e||{},this.callBase(r,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=Ar(this.option("keyExpr"))},_getKeysByItems:function(r){return this._editStrategy.getKeysByItems(r)},_getItemsByKeys:function(r,e){return this._editStrategy.getItemsByKeys(r,e)},_getKeyByIndex:function(r){return this._editStrategy.getKeyByIndex(r)},_getIndexByKey:function(r){return this._editStrategy.getIndexByKey(r)},_getIndexByItemData:function(r){return this._editStrategy.getIndexByItemData(r)},_isKeySpecified:function(){return!!this._dataController.key()},_getCombinedFilter:function(){return this._dataController.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf:function(r){var e=r;return this.option("keyExpr")?e=this._keyGetter(r):this._dataController.store()&&(e=this._dataController.keyOf(r)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var r=this,e=r._editStrategy.itemsGetter;this._selection=new _8({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(t){(t.addedItemKeys.length||t.removedItemKeys.length)&&(r.option("selectedItems",r._getItemsByKeys(t.selectedItemKeys,t.selectedItems)),r._updateSelectedItems(t))},filter:r._getCombinedFilter.bind(r),totalCount:function(){var t=r.option("items"),n=r._dataController.totalCount();return n>=0?n:r._getItemsCount(t)},key:r.key.bind(r),keyOf:r.keyOf.bind(r),load:function(t){var n,i=r._dataController;return t.customQueryParams=(n=i.loadOptions())===null||n===void 0?void 0:n.customQueryParams,t.userData=i.userData(),i.store()?i.loadFromStore(t).done(function(o){if(!r._disposed){var a=D6(o).data;i.applyMapFunction(a)}}):new X().resolve(this.plainItems())},dataFields:function(){return r._dataController.select()},plainItems:e.bind(r._editStrategy)})},_getItemsCount:function(r){return r.reduce((e,t)=>e+(t.items?this._getItemsCount(t.items):1),0)},_initEditStrategy:function(){var r=JL;this._editStrategy=new r(this)},_getSelectedItemIndices:function(r){var e=this,t=[];return r=r||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),U(r,function(n,i){var o=e._getIndexByKey(i);Is(o)&&t.push(o)}),e._editStrategy.endCache(),t},_initMarkup:function(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(r){r=r||this._chooseSelectOption();var e,t,n,i;switch(r){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),L(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(i=this.option("selectedItems")||[],t=i.length?this._editStrategy.getIndexByItemData(i[0]):Yw,this.option("selectionRequired")&&!Is(t))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",i[0]),this._setOptionWithoutOptionChange("selectedIndex",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(i));break;case"selectedItem":if(e=this.option("selectedItem"),t=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!Is(t))return this._syncSelectionOptions("selectedIndex");L(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",Yw));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var o=this._getIndexByKey(n[0]);if(!Is(o))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return new X().resolve().promise()},_chooseSelectOption:function(){var r="selectedIndex",e=(function(t){var n=this.option(t),i=L(n)&&n.length;return i||t in this._userOptions}).bind(this);return e("selectedItems")?r="selectedItems":e("selectedItem")?r="selectedItem":e("selectedItemKeys")&&(r="selectedItemKeys"),r},_compareKeys:function(r,e){if(r.length!==e.length)return!1;for(var t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var r=this.option("selectedItems");if(r.length>1||!r.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),t=r[0]===void 0?e[0]:r[0];return t===void 0&&(t=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&t&&t.items&&(t.items=[t.items[0]]),this._selection.setSelection(this._getKeysByItems([t])),this._setOptionWithoutOptionChange("selectedItems",[t]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(r))}else{var n=this._getKeysByItems(this.option("selectedItems")),i=this._selection.getSelectedItemKeys();this._compareKeys(i,n)||this._selection.setSelection(n)}return new X().resolve().promise()},_itemClickHandler:function(r){var e=new X().resolve(),t=this.callBase;this._createAction((function(n){var i;e=(i=this._itemSelectHandler(n.event))!==null&&i!==void 0?i:e}).bind(this),{validatingTargetName:"itemElement"})({itemElement:E(r.currentTarget),event:r}),e.always(()=>{t.apply(this,arguments)})},_itemSelectHandler:function(r){var e,t;if(this.option("selectByClick")){var n=r.currentTarget;return this.isItemSelected(n)?this.unselectItem(r.currentTarget):t=this.selectItem(r.currentTarget),(e=t)===null||e===void 0?void 0:e.promise()}},_selectedItemElement:function(r){return this._itemElements().eq(r)},_postprocessRenderItem:function(r){if(this.option("selectionMode")!=="none"){var e=E(r.itemElement),t=this._editStrategy.getNormalizedIndex(e),n=this._isItemSelected(t);this._processSelectableItem(e,n)}},_processSelectableItem:function(r,e){r.toggleClass(this._selectedItemClass(),e),this._setAriaSelectionAttribute(r,String(e))},_updateSelectedItems:function(r){var e=this,t=r.addedItemKeys,n=r.removedItemKeys;if(e._rendered&&(t.length||n.length)){var i=e._selectionChangePromise;if(!e._rendering){var o=[],a,s=[];e._editStrategy.beginCache();for(var l=0;l<t.length;l++)a=e._getIndexByKey(t[l]),o.push(a),e._addSelection(a);for(var u=0;u<n.length;u++)a=e._getIndexByKey(n[u]),s.push(a),e._removeSelection(a);e._editStrategy.endCache(),e._updateSelection(o,s)}$e(i).done(function(){e._fireSelectionChangeEvent(r.addedItems,r.removedItems)})}},_fireSelectionChangeEvent:function(r,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:r,removedItems:e})},_updateSelection:Z,_setAriaSelectionAttribute:function(r,e){this.setAria("selected",e,r)},_removeSelection:function(r){var e=this._editStrategy.getItemElement(r);Is(r)&&(this._processSelectableItem(e,!1),B.triggerHandler(e,"stateChanged",!1))},_addSelection:function(r){var e=this._editStrategy.getItemElement(r);Is(r)&&(this._processSelectableItem(e,!0),B.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(r){var e=this._getKeyByIndex(r);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(r){switch(r.name){case"selectionMode":this._invalidate();break;case"dataSource":(!r.value||Array.isArray(r.value)&&!r.value.length)&&this.option("selectedItemKeys",[]),this.callBase(r);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(r.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(r)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(r){if(r.data(ER))return new X().resolve().promise();r.data(ER,!0);var e=new X,t={cancel:!1},n=this._itemEventHandler(r,"onItemDeleting",t,{excludeValidators:["disabled","readOnly"]});return $e(n).always((function(i){var o=!n,a=!o&&n.state()==="resolved",s=!!arguments.length,l=o||a&&!s||a&&i;$e(ui(t.cancel)).always(function(){r.data(ER,!1)}).done(function(u){l&&!u?e.resolve():e.reject()}).fail(e.reject)}).bind(this)),e.promise()},_deleteItemFromDS:function(r){var e=this._dataController,t=new X,n=this.option("disabled"),i=e.store();if(!i)return new X().resolve().promise();if(!i.remove)throw Ht.Error("E1011");return this.option("disabled",!0),i.remove(e.keyOf(this._getItemData(r))).done(function(o){o!==void 0?t.resolve():t.reject()}).fail(function(){t.reject()}),t.always((function(){this.option("disabled",n)}).bind(this)),t},_tryRefreshLastPage:function(){var r=new X;return this._isLastPage()||this.option("grouped")?r.resolve():this._refreshLastPage().done(function(){r.resolve()}),r.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete:function(r){var e=this._getKeyByIndex(r);this._selection.deselect([e])},_updateIndicesAfterIndex:function(r){for(var e=this._itemElements(),t=r+1;t<e.length;t++)E(e[t]).data(this._itemIndexKey(),t-1)},_simulateOptionChange:function(r){var e=this.option(r);e instanceof Ou||this._optionChangedAction({name:r,fullName:r,value:e})},isItemSelected:function(r){return this._isItemSelected(this._editStrategy.getNormalizedIndex(r))},selectItem:function(r){if(this.option("selectionMode")!=="none"){var e=this._editStrategy.getNormalizedIndex(r);if(Is(e)){var t=this._getKeyByIndex(e);if(!this._selection.isItemSelected(t)){if(this.option("selectionMode")==="single")return this._selection.setSelection([t]);var n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,t],[t])}}}},unselectItem:function(r){var e=this._editStrategy.getNormalizedIndex(r);if(Is(e)){var t=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&t.length<=1)){var n=this._getKeyByIndex(e);this._selection.isItemSelected(n,{checkPending:!0})&&this._selection.deselect([n])}}},_deleteItemElementByIndex:function(r){this._updateSelectionAfterDelete(r),this._updateIndicesAfterIndex(r),this._editStrategy.deleteItemAtIndex(r)},_afterItemElementDeleted:function(r,e){var t=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(t),this._itemEventHandler(r,"onItemDeleted",e,{beforeExecute:function(){r.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(r){var e=this,t=new X,n=this._editStrategy.getItemElement(r),i=this._editStrategy.getNormalizedIndex(r),o=this._itemResponseWaitClass();return Is(i)?this._waitDeletingPrepare(n).done(function(){n.addClass(o);var a=e._extendActionArgs(n);e._deleteItemFromDS(n).done(function(){e._deleteItemElementByIndex(i),e._afterItemElementDeleted(n,a),e._tryRefreshLastPage().done(function(){t.resolveWith(e)})}).fail(function(){n.removeClass(o),t.rejectWith(e)})}).fail(function(){t.rejectWith(e)}):t.rejectWith(e),t.promise()},reorderItem:function(r,e){var t=new X,n=this,i=this._editStrategy,o=i.getItemElement(r),a=i.getItemElement(e),s=i.getNormalizedIndex(r),l=i.getNormalizedIndex(e),u=this._dataController.getDataSource()?"dataSource":"items",c=Is(s)&&Is(l)&&s!==l;return c?t.resolveWith(this):t.rejectWith(this),t.promise().done(function(){a[i.itemPlacementFunc(s,l)](o),i.moveItemAtIndexToIndex(s,l),this._updateIndicesAfterIndex(s),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),u==="items"&&n._simulateOptionChange(u),n._itemEventHandler(o,"onItemReordered",{fromIndex:i.getIndex(s),toIndex:i.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),bwe="dx-state-disabled",Ewe="dx-item-url",C8=pp.inherit({_getDefaultOptions:function(){return $(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var r=this._createDataAdapterAccessors();this._dataAdapter=new QSe($({dataAccessors:{getters:r.getters,setters:r.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:Z,_getItemExtraPropNames:Z,_initDynamicTemplates:function(){var r=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new hp(this._addContent.bind(this),r,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_addContent:function(r,e){r.html(e.html).append(this._getIconContainer(e)).append(this._getTextContainer(e))},_getLinkContainer:function(r,e,t){var{linkAttr:n,url:i}=t,o=pt(n)?n:{};return E("<a>").addClass(Ewe).attr(b({},o,{href:i})).append(r).append(e)},_getIconContainer:function(r){if(r.icon){var e=Du(r.icon);return e.is("img")&&e.attr("alt","".concat(this.NAME," item icon")),e}},_getTextContainer:function(r){return E("<span>").text(r.text)},_initAccessors:function(){var r=this;U(this._getAccessors(),function(e,t){r._compileAccessor(t)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(r){var e=this,t=[];return U(r.internalFields.childrenKeys,function(n,i){var o=e._dataAdapter.getNodeByKey(i);t.push(o)}),t},_hasChildren:function(r){return r&&r.internalFields.childrenKeys.length},_compileAccessor:function(r){var e="_"+r+"Getter",t="_"+r+"Setter",n=this.option(r+"Expr");if(n){if(Ne(n)){this[t]=function(i,o){i[n()]=o},this[e]=function(i){return i[n()]};return}}else{this[e]=Z,this[t]=Z;return}this[e]=Ar(n),this[t]=kF(n)},_createDataAdapterAccessors:function(){var r=this,e={getters:{},setters:{}};return U(this._getAccessors(),function(t,n){var i="_"+n+"Getter",o="_"+n+"Setter",a=n==="parentId"?"parentKey":n;e.getters[a]=r[i],e.setters[a]=r[o]}),e.getters.display=this._displayGetter?this._displayGetter:t=>t.text,e},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:Z,_renderItemFrame:function(r,e){var t=this.callBase.apply(this,arguments);return t.toggleClass(bwe,!!this._disabledGetter(e)),t},_optionChanged:function(r){switch(r.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(r);break;default:this.callBase(r)}}});class xwe extends JL{_getPlainItems(){return Gn(this._collectionWidget.option("items"),function e(t){return t.items?[t].concat(Gn(t.items,e)):t})}_stringifyItem(e){return JSON.stringify(e,(t,n)=>t==="template"?this._getTemplateString(n):n)}_getTemplateString(e){var t;return typeof e=="object"?t=E(e).text():t=e.toString(),t}}var YC="dx-menu",Iwe=YC+"-no-icons",Twe="dx-menu-base",ls=YC+"-item",Rwe=ls+"-content",xR=ls+"-selected",U$=ls+"-wrapper",Owe=YC+"-items-container",Dwe=ls+"-expanded",Awe=YC+"-separator",Pwe=YC+"-last-group-item",Mwe=ls+"-has-text",Fwe=ls+"-has-icon",Lwe=ls+"-has-submenu",y8=ls+"-popout",Nwe=y8+"-container",S8=ls+"-text",kwe="single",Vwe={show:50,hide:300},Bwe="".concat(S8,"-with-url"),Hwe="dx-icon-with-url",Gwe="dx-item-url";class eN extends C8{_getDefaultOptions(){return $(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return ls}_setAriaSelectionAttribute(){}_selectedItemClass(){return xR}_widgetClass(){return Twe}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return $(super._supportedKeys(),{space:()=>{var e=E(this.option("focusedElement"));!e.length||!this._isSelectionEnabled()||this.selectItem(e[0])},pageUp:Z,pageDown:Z})}_isSelectionEnabled(){return this.option("selectionMode")===kwe}_init(){this._activeStateUnit=".".concat(ls),super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(e,t,n){var{linkAttr:i,url:o}=n;return e==null||e.addClass(Hwe),t==null||t.addClass(Bwe),super._getLinkContainer(e,t,{linkAttr:i,url:o})}_addContent(e,t){var{html:n,url:i}=t;if(i){e.html(n);var o=this._getLinkContainer(this._getIconContainer(t),this._getTextContainer(t),t);e.append(o)}else super._addContent(e,t);e.append(this._getPopoutContainer(t)),this._addContentClasses(t,e.parent())}_getTextContainer(e){var{text:t}=e;if(t){var n=E("<span>").addClass(S8),i=Nt(e)?t:String(e);return n.text(i)}}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(e){var t=e.items,n;if(t&&t.length){var i=E("<div>").addClass(y8);n=E("<span>").addClass(Nwe).append(i)}return n}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(e){if(e){var t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}}_renderSelectedItem(){var e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],n=this.option("selectedItem");if(!t){this._selectByItem(n);return}var i=this._dataAdapter.getNodeByKey(t);if(i.selectable!==!1){if(!n){this.option("selectedItem",i.internalFields.item);return}n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(n))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=VL()}_toggleActiveState(e,t,n){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var i={element:e,event:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}}_getShowSubmenuMode(){var e=this.option("showSubmenuMode");return e=pt(e)?e.name:e,this._isDesktopDevice()?e:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return Ye.real().deviceType==="desktop"}_initEditStrategy(){var e=xwe;this._editStrategy=new e(this)}_addCustomCssClass(e){e.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(U$)}_hoverStartHandler(e){var t=this._getItemElementByEventArgs(e);!t||this._isItemDisabled(t)||(e.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),this._getSubmenuDelay("show"))))}_getAvailableItems(e){return super._getAvailableItems(e).filter(function(){return E(this).css("visibility")!=="hidden"})}_isItemDisabled(e){return this._disabledGetter(e.data(this._itemDataKey()))}_showSubmenu(e){this._addExpandedClass(e)}_addExpandedClass(e){E(e).addClass(Dwe)}_getSubmenuDelay(e){var{delay:t}=this.option("showSubmenuMode");return L(t)?pt(t)?t[e]:t:Vwe[e]}_getItemElementByEventArgs(e){var t=E(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;for(;!t.hasClass(this._itemClass());)if(t=t.parent(),t.hasClass("dx-submenu"))return null;return t}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(e){return e&&e.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(e,t){if(e.length){this.hasIcons=!1;var n=this._renderContainer(this.$element(),t),i=-1,o=-1;U(e,(a,s)=>{var l=s.visible!==!1;l&&i<0&&(i=a);var u=i<a&&(s.beginGroup||a===o);u&&(o=l?a:a+1),a===o&&i<a&&this._renderSeparator(n),this._renderItem(a,s,n)}),this.hasIcons||n.addClass(Iwe)}}_renderContainer(e){var t=E("<ul>");return this.setAria("role","none",t),t.appendTo(e).addClass(Owe)}_createDOMElement(e){var t=E("<li>");return this.setAria("role","none",t),t.appendTo(e).addClass(U$)}_renderItem(e,t,n,i){var o=this.option("items"),a=i||this._createDOMElement(n);o[e+1]&&o[e+1].beginGroup&&a.addClass(Pwe);var s=super._renderItem(e,t.internalFields.item,a);t.internalFields.item===this.option("selectedItem")&&s.addClass(xR),s.attr("tabIndex",-1),this._hasSubmenu(t)&&this.setAria("haspopup","true",s)}_renderItemFrame(e,t,n){var i=n.children(".".concat(ls));return i.length?i:super._renderItemFrame.apply(this,arguments)}_refreshItem(e,t){var n=this._dataAdapter.getNodeByItem(t),i=e.data(this._itemIndexKey()),o=e.closest("ul"),a=e.closest("li");this._renderItem(i,n,o,a)}_addContentClasses(e,t){var n=e.text?!!e.text.length:!1,i=!!e.icon,o=e.items?!!e.items.length:!1;t.toggleClass(Mwe,n),t.toggleClass(Fwe,i),this.hasIcons||(this.hasIcons=i),t.toggleClass(Lwe,o)}_getItemContent(e){var t=super._getItemContent(e);return t.length||(t=e.children(".".concat(Rwe))),t}_postprocessRenderItem(e){var t=E(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();if(!n.length||!this._selectedGetter(e.itemData)||!this._isItemSelectable(e.itemData)){this._setAriaSelectionAttribute(t,"false");return}var i=this._dataAdapter.getNodeByItem(e.itemData);i.internalFields.key===n[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(t,"true")):this._setAriaSelectionAttribute(t,"false")}_isItemSelectable(e){return e.selectable!==!1}_renderSeparator(e){E("<li>").appendTo(e).addClass(Awe)}_itemClickHandler(e){if(!e._skipHandling){var t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:t.bind(this)}),e._skipHandling=!0}}_itemClick(e){var{event:t,itemData:n}=e.args[0],i=this._getItemElementByEventArgs(t),o=i.find(".".concat(Gwe)).get(0);n.url&&o&&o.click()}_updateSubmenuVisibilityOnClick(e){this._updateSelectedItemOnClick(e),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(e.args[0].itemElement)}_updateSelectedItemOnClick(e){var t=e.args?e.args[0]:e;if(this._isItemSelectAllowed(t.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),!i||i.internalFields.item!==t.itemData?this.selectItem(t.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectAllowed(e){var t=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return mq()}_optionChanged(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":var t=this._dataAdapter.getNodeByItem(e.value),n=this._dataAdapter.getSelectedNodesKeys()[0];if(t&&t.internalFields.key!==n){if(t.selectable===!1)break;n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(t,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(e)}}_toggleItemSelection(e,t){var n=this._getElementByItem(e.internalFields.item);n&&E(n).toggleClass(xR),this._dataAdapter.toggleSelection(e.internalFields.key,t)}_getElementByItem(e){var t;return U(this._itemElements(),(n,i)=>E(i).data(this._itemDataKey())!==e?!0:(t=i,!1)),t}_updateSelectedItems(e,t){(e||t)&&this._fireSelectionChangeEvent(t,e)}_fireSelectionChangeEvent(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})}selectItem(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),o=this._dataAdapter.getNodeByItem(t);o.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(o,!0),this._updateSelectedItems(i,t),this._setOptionWithoutOptionChange("selectedItem",t))}unselectItem(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))}}eN.ItemClass=dp;var w8="dx-menu",Km=w8+"-item",Mp=Km+"-expanded",$we="dx-menu-phone-overlay",Zy=w8+"-items-container",j$=Km+"-wrapper",xo="dx-submenu",Wwe="dx-context-menu",zwe="dx-has-context-menu",Uwe="dx-state-disabled",jwe="dx-state-focused",K$="dx-state-hover",Kwe="dx-overlay-content",b8="up",E8="down",qwe="left",Ywe="right",x8="first",I8="last",q$=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Xwe=[b8,E8,x8,I8],Y$="dxcontextmenu",Qwe=Rt();class tN extends eN{getShowEvent(e){var t=null;return pt(e)?e.name!==null&&(t=e.name||Y$):t=e,t}getShowDelay(e){return pt(e)&&e.delay}_getDefaultOptions(){return $(super._getDefaultOptions(),{showEvent:Y$,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!yt(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),$(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},U(q$,(e,t)=>{this._actions[t]=this._createActionByOption(t)||Z})}_setOptionsByReference(){super._setOptionsByReference(),$(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():E()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return $(super._supportedKeys(),{space:()=>{var e=E(this.option("focusedElement"));this.hide(),!(!e.length||!this._isSelectionEnabled())&&this.selectItem(e[0])},escape:this.hide})}_getActiveItem(){var e=this._getAvailableItems(),t=e.filter(".".concat(jwe)),n=e.filter(".".concat(K$)),i=n.closest(".".concat(Zy));return i.find(".".concat(Km)).index(t)>=0?t:n.length?n:super._getActiveItem()}_moveFocus(e){var t=this._getItemsByLocation(e),n=this._getActiveItem(!0),i=this.itemsContainer().find(".".concat(K$)),o=E(this.option("focusedElement")),a=!!(o.length||i.length),s;switch(e){case b8:s=a?this._prevItem(t):n,this._setFocusedElement(s),n.is(t.first())&&this._actions.onLeftFirstItem(n);break;case E8:s=a?this._nextItem(t):n,this._setFocusedElement(s),n.is(t.last())&&this._actions.onLeftLastItem(n);break;case Ywe:s=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(t,e),this._setFocusedElement(s);break;case qwe:s=this.option("rtlEnabled")?this._expandSubmenuHandler(t,e):this._hideSubmenuHandler(),this._setFocusedElement(s);break;case x8:s=t.first(),this._setFocusedElement(s);break;case I8:s=t.last(),this._setFocusedElement(s);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&e.length!==0&&this.option("focusedElement",ut(e))}_getItemsByLocation(e){var t=this._getActiveItem(!0),n;return Xwe.includes(e)&&(n=t.closest(".".concat(Zy)).children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(L(this._overlay)){var e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){var e=this._getActiveItem(!0),t=e.parents(".".concat(Mp)).first();return t.length?(this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest(".".concat(xo))),t):(this._actions.onCloseRootSubmenu(e),e)}_expandSubmenuHandler(e,t){var n=this._getActiveItem(!0),i=this._getItemData(n),o=this._dataAdapter.getNodeByItem(i),a=this._hasSubmenu(o),s=n.children(".".concat(xo));if(a&&!n.hasClass(Uwe))return(!s.length||s.css("visibility")==="hidden")&&this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(n)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(zwe),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent(E("<div>").appendTo(this._$element),Ks,e);var t=this._overlay.$content();t.addClass(Wwe),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var e=this._itemContainer(),t=fe(v8,this.NAME);B.off(e,t,".".concat(xo)),B.on(e,t,".".concat(xo),(n=>{n.stopPropagation(),n.preventDefault(),B.off(e,t,".".concat(xo))}).bind(this))}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){Ye.current().phone&&e.addClass($we)}_detachShowContextMenuEvents(e){var t=this.getShowEvent(this.option("showEvent"));if(t){var n=fe(t,this.NAME);this._showContextMenuEventHandler?B.off(ce.getDocument(),n,e,this._showContextMenuEventHandler):B.off(E(e),n)}}_attachShowContextMenuEvents(){var e=this._getTarget(),t=this.getShowEvent(this.option("showEvent"));if(t){var n=fe(t,this.NAME),i=this._createAction(a=>{var s=this.getShowDelay(this.option("showEvent"));s?setTimeout(()=>this._show(a.event),s):this._show(a.event)},{validatingTargetName:"target"}),o=a=>i({event:a,target:E(a.currentTarget)});i=this._createAction(i),Pa(e)||e.nodeType||bn(e)?(this._showContextMenuEventHandler=void 0,B.on(e,n,o)):(this._showContextMenuEventHandler=o,B.on(ce.getDocument(),n,e,this._showContextMenuEventHandler))}}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,t){var n=t||this._itemContainer();e=E("<div>"),e.appendTo(n).addClass(xo).css("visibility",t?"hidden":"visible"),e.parent().hasClass(Kwe)||this._addCustomCssClass(e);var i=super._renderContainer(e);return t?i:this.option("width")?i.css("minWidth",this.option("width")):this.option("height")?i.css("minHeight",this.option("height")):i}_renderSubmenuItems(e,t){this._renderItems(this._getChildNodes(e),t),this._actions.onSubmenuCreated({itemElement:ut(t),itemData:e.internalFields.item,submenuElement:ut(t.children(".".concat(xo)))})}_getOverlayOptions(){var e=this.option("position"),t={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:n=>this._hideOnOutsideClickHandler(n),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:Qwe};return t}_overlayShownActionHandler(e){this._actions.onShown(e)}_overlayHidingActionHandler(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){this._actions.onHidden(e)}_shouldHideOnOutsideClick(e){var{closeOnOutsideClick:t,hideOnOutsideClick:n}=this.option();return Ne(n)?n(e):Ne(t)?t(e):n||t}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(ce.isDocument(e.target))return!0;var t=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),i=this._searchActiveItem(e.target),o=this.$element().parents(".".concat(Km)),a=i[0]===o[0]&&i.length&&o.length,s=this._isIncludeOverlay(t,n)&&i.length;return s||a?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(i),!1):!0}_getActiveItemsContainer(e){return E(e).closest(".".concat(Zy))}_getItemsContainers(){return this._overlay.$content().find(".".concat(Zy))}_searchActiveItem(e){return E(e).closest(".".concat(Km)).eq(0)}_isIncludeOverlay(e,t){var n=!1;return U(t,(i,o)=>{e.is(o)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){var t=e.find(".".concat(xo)),n=$([],this._shownSubmenus);t.length>0&&U(n,(i,o)=>{var a=this._searchActiveItem(o.context).parent();a.parent().is(e.parent().parent())&&!a.is(e.parent())&&this._hideSubmenu(o)})}_showSubmenu(e){var t=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!!this._hasSubmenu(t)){var n=e.children(".".concat(xo)),i=n.length;super._showSubmenu(e),i||this._renderSubmenuItems(t,e),this._isSubmenuVisible(n)||this._drawSubmenu(e)}}_hideSubmenusOnSameLevel(e){var t=e.parent(".".concat(j$)).siblings().find(".".concat(Mp));t.length&&(t.removeClass(Mp),this._hideSubmenu(t.find(".".concat(xo))))}_hideSubmenuGroup(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}_isSubmenuVisible(e){return e.css("visibility")==="visible"}_drawSubmenu(e){var t=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(xo)),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&(L(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),t&&nn.stop(n),js.setup(n,i),t&&(Nt(t.to)&&(t.to.position=i),this._animate(n,t)),n.css("visibility","visible"))}_animate(e,t){nn.animate(e,t)}_getSubmenuPosition(e){var t=this.option("submenuDirection").toLowerCase(),n=e.parent(".".concat(j$)),i={collision:"flip",of:n,offset:{h:0,v:-1}};switch(t){case"left":i.at="left top",i.my="right top";break;case"right":i.at="right top",i.my="left top";break;default:this.option("rtlEnabled")?(i.at="left top",i.my="right top"):(i.at="right top",i.my="left top")}return i}_updateSubmenuVisibilityOnClick(e){if(e.args.length){var t=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(t);if(n){var i=E(e.args[0].itemElement),o=i.find(".".concat(xo)),a=this._hasSubmenu(n)&&!o.length;if(a&&(this._renderSubmenuItems(n,i),o=i.find(".".concat(xo))),!(i.context===o.context&&o.css("visibility")==="visible")){this._updateSelectedItemOnClick(e);var s=t&&t.closeMenuOnClick===!1;if(!(!t||t.disabled||s))if(o.length===0){var l=E(i.parents(".".concat(xo))[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(o)&&this._hideSubmenu(o),this._showSubmenu(i)}}}}_hideSubmenu(e){var t=$([],this._shownSubmenus);U(t,(n,i)=>{(e.is(i)||gu(e[0],i[0]))&&(i.parent().removeClass(Mp),this._hideSubmenuCore(i))})}_hideSubmenuCore(e){var t=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}_stopAnimate(e){nn.stop(e,!0)}_hideAllShownSubmenus(){var e=$([],this._shownSubmenus),t=this._overlay.$content().find(".".concat(Mp));t.removeClass(Mp),U(e,(n,i)=>{this._hideSubmenu(i)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){if(q$.includes(e.name)){this._initActions();return}switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){var t={jQEvent:e},n=new X().reject().promise();if(this._actions.onShowing(t),t.cancel)return n;var i=this._positionContextMenu(e);if(i){var o;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",i),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(e==null||(o=e.originalEvent)===null||o===void 0?void 0:o.type)===rd.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return n}_setAriaAttributes(){this._overlayContentId="dx-".concat(new dn),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||E(ce.getDocument())}_getContextMenuPosition(){return $({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(e){var t=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning");e&&e.preventDefault&&n&&(t.of=e);var o={position:t,event:e};return i(o),o.cancel?t=null:o.event&&(o.event.cancel=!0,e.preventDefault()),t}_refresh(){if(!yt())super._refresh();else if(this._overlay){var e=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh()}_hide(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||new X().reject().promise()}toggle(e){var t=this.option("visible");return e=e===void 0?!t:e,this._renderVisibility(e)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}Kt("dxContextMenu",tN);var Zwe="dx-context-menu",Jwe={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},ebe=["columnHeadersView","rowsView","footerView","headerPanel"],tbe=kr.ViewController.inherit({init(){this.createAction("onContextMenuPreparing")},getContextMenuItems(r){if(!r)return!1;var e=this,t=E(r.target),n,i,o,a;return U(ebe,function(){var s,l,u=e.getView(this);if(n=u&&u.element(),n&&(n.is(t)||n.find(t).length)){o=t.closest(".dx-row > td, .dx-row > tr"),i=o.parent();var c=u.getRowIndex(i),d=o[0]&&o[0].cellIndex,h=i.data("options"),p={event:r,targetElement:ut(t),target:Jwe[this],rowIndex:c,row:u._getRows()[c],columnIndex:d,column:(l=(s=h==null?void 0:h.cells)===null||s===void 0?void 0:s[d])===null||l===void 0?void 0:l.column};if(p.items=u.getContextMenuItems&&u.getContextMenuItems(p),e.executeAction("onContextMenuPreparing",p),e._contextMenuPrepared(p),a=p.items,a)return!1}}),a},_contextMenuPrepared:Z}),rbe=kr.View.inherit({_renderCore(){var r=this,e=r.element().addClass(Zwe);this.setAria("role","presentation",e),this._createComponent(e,tN,{onPositioning(t){var{event:n}=t,i=t.component,o=r.getController("contextMenu").getContextMenuItems(n);o?(i.option("items",o),n.stopPropagation()):t.cancel=!0},onItemClick(t){t.itemData.onItemClick&&t.itemData.onItemClick(t)},cssClass:r.getWidgetContainerClass(),target:r.component.$element()})}}),nbe={defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:tbe},views:{contextMenuView:rbe}};at.registerModule("contextMenu",nbe);var sg="dx-error-row",X$="dx-error-message",ibe="dx-closebutton",obe="action",abe=kr.ViewController.inherit({init(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow(r,e){var t=this,n,i,o=this._renderErrorMessage(r);return e?(n=E("<tr>").attr("role","row").addClass(sg),i=E("<div>").addClass(ibe).addClass(t.addWidgetPrefix(obe)),B.on(i,sr,t.createAction(a=>{var s=a.event,l,u=E(s.currentTarget).closest(".".concat(sg)).index();s.stopPropagation(),U(e,(c,d)=>{l=E(d).children("tbody").children("tr").eq(u),t.removeErrorRow(l)}),t.getController("resizing")&&t.getController("resizing").fireContentReadyAction()})),E("<td>").attr({colSpan:t.getController("columns").getVisibleColumns().length,role:"gridcell"}).prepend(i).append(o).appendTo(n),n):o},_renderErrorMessage(r){var e=r.url?r.message.replace(r.url,""):r.message||r,t=E("<div>").attr("role","alert").attr("aria-roledescription",J.format("dxDataGrid-ariaError")).addClass(X$).text(e);return r.url&&E("<a>").attr("href",r.url).text(r.url).appendTo(t),t},renderErrorRow(r,e,t){var n=this,i,o;if(t)return t.find(".".concat(X$)).remove(),i=n._createErrorRow(r),t.prepend(i),i;var a=e>=0||!n._columnHeadersView.isVisible()?n._rowsView:n._columnHeadersView,s=a.getTableElements();U(s,(u,c)=>{if(i=n._createErrorRow(r,s),o=o||i,e>=0){var d=a._getRowElements(E(c)).eq(e);n.removeErrorRow(d.next()),i.insertAfter(d)}else{var h=E(c).children("tbody"),p=h.children("tr");n._columnHeadersView.isVisible()?(n.removeErrorRow(p.last()),E(c).append(i)):(n.removeErrorRow(p.first()),h.first().prepend(i))}});var l=n.getController("resizing");return l&&l.fireContentReadyAction(),o},removeErrorRow(r){if(!r){var e=this._columnHeadersView&&this._columnHeadersView.element();if(r=e&&e.find(".".concat(sg)),!r||!r.length){var t=this._rowsView.element();r=t&&t.find(".".concat(sg))}}r&&r.hasClass(sg)&&r.remove()},optionChanged(r){switch(r.name){case"errorRowEnabled":r.handled=!0;break;default:this.callBase(r)}}}),sbe={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:abe},extenders:{controllers:{data:{init(){var r=this,e=r.getController("errorHandling");r.callBase(),r.dataErrorOccurred.add((t,n)=>{r.option("errorRowEnabled")&&e.renderErrorRow(t,void 0,n)}),r.changed.add(t=>{if(!(t&&t.changeType==="loadError")){var n=r.getController("errorHandling"),i=r.getController("editing");i&&!i.hasChanges()&&n&&n.removeErrorRow()}})}}}}};at.registerModule("errorHandling",sbe);var Q$="borders",lbe="table-fixed",ube="important-margin",T8="dx-gridbase-container",cbe="tr.dx-group-row",Jy="adaptiveHidden",rN=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],lg=function(r){return ft(r)&&r.endsWith("%")},dbe=function(r){return ft(r)&&r.endsWith("px")},R8=function(r,e){var t=r._rowsView.contentWidth(),n=r._getTotalWidth(e,t);return t-n},hbe=function(r,e,t,n){return R8(r,n.map((i,o)=>o===e?t:i))},pbe=function(r,e){iue(r,!0),ye.setSelectionRange(r,e)},fbe={_initPostRenderHandlers(){this._refreshSizesHandler||(this._refreshSizesHandler=r=>{var e=new X().resolve(null),t=r==null?void 0:r.changeType,n=r==null?void 0:r.isDelayed,i=t&&t!=="updateSelection"&&t!=="updateFocusedRow"&&t!=="pageIndex"&&!n;this._dataController.changed.remove(this._refreshSizesHandler),this._checkSize()&&(e=this._refreshSizes(r)),i&&$e(e).done(()=>{this._setAriaLabel(),this.fireContentReadyAction()})},this._dataController.changed.add(()=>{this._dataController.changed.add(this._refreshSizesHandler)}))},_refreshSizes(r){var e,t=new X().resolve(null),n=r==null?void 0:r.changeType,i=r==null?void 0:r.isDelayed,o=this._dataController.items();if(!r||n==="refresh"||n==="prepend"||n==="append")i||(t=this.resize());else if(n==="update"){if(((e=r.changeTypes)===null||e===void 0?void 0:e.length)===0)return t;(o.length>1||r.changeTypes[0]!=="insert")&&!(o.length===0&&r.changeTypes[0]==="remove")&&!r.needUpdateDimensions?(t=new X,this._waitAsyncTemplates().done(()=>{qi(()=>jn(()=>qi(()=>{this._setScrollerSpacing(),this._rowsView.resize(),t.resolve()})))}).fail(t.reject)):t=this.resize()}return t},fireContentReadyAction(){this.component._fireContentReadyAction()},_getWidgetAriaLabel:()=>"dxDataGrid-ariaDataGrid",_setAriaLabel(){var r=Math.max(0,this._dataController.totalItemsCount());this.component.setAria("label",J.format(this._getWidgetAriaLabel(),r,this.component.columnCount()),this.component.$element().children(".".concat(T8)))},_getBestFitWidths(){var r,e=this._rowsView,t=this._columnHeadersView,n=e.getColumnWidths();if(!(n!=null&&n.length)){var i=t.getTableElement();t.setTableElement((r=e.getTableElement())===null||r===void 0?void 0:r.children(".dx-header")),n=t.getColumnWidths(),t.setTableElement(i)}return n},_setVisibleWidths(r,e){var t=this._columnsController;t.beginUpdate(),U(r,(n,i)=>{var o=t.getColumnId(i);t.columnOption(o,"visibleWidth",e[n])}),t.endUpdate()},_toggleBestFitModeForView(r,e,t){if(!(!r||!r.isVisible())){var n=this._rowsView.getTableElements(),i=r.getTableElements();U(n,(o,a)=>{var s,l=E(a),u=i.eq(o);u&&u.length&&(t?s=u.children("tbody").appendTo(l):s=l.children(".".concat(e)).appendTo(u),s.toggleClass(e,t),s.toggleClass(this.addWidgetPrefix("best-fit"),t))})}},_toggleBestFitMode(r){var e=this._rowsView.getTableElement(),t=this._rowsView.getTableElements().eq(1);e&&(e.css("tableLayout",r?"auto":"fixed"),e.children("colgroup").css("display",r?"none":""),U(t.find(cbe),(n,i)=>{E(i).css("display",r?"none":"")}),t.toggleClass(this.addWidgetPrefix(lbe),!r),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",r),this._toggleBestFitModeForView(this._footerView,"dx-footer",r),this._needStretch()&&(e.get(0).style.width=r?"auto":""))},_toggleContentMinHeight(r){var e=this._rowsView.getScrollable(),t=this._rowsView._findContentElement();(e==null?void 0:e.option("useNative"))===!1&&(r===!0&&(this._prevContentMinHeight=t.get(0).style.minHeight),L(this._prevContentMinHeight)&&t.css({minHeight:r?ye.getContentHeightLimit(Gr):this._prevContentMinHeight}))},_synchronizeColumns(){var r=this._columnsController,e=r.getVisibleColumns(),t=this.option("columnAutoWidth"),n=this.option("wordWrapEnabled"),i=e.some(p=>!L(p.width)),o=this._needBestFit(),a=!1,s,l=!1,u=[],c,d;!o&&U(e,(p,f)=>{if(f.width==="auto")return o=!0,!1}),U(e,(p,f)=>{if(f.minWidth)return a=!0,!1}),this._setVisibleWidths(e,[]);var h=this.component.$element();o&&(c=ce.getActiveElement(h.get(0)),d=ye.getSelectionRange(c),this._toggleBestFitMode(!0),s=!0),this._toggleContentMinHeight(n),h&&h.get(0)&&this._maxWidth&&(delete this._maxWidth,h[0].style.maxWidth=""),qi(()=>{if(o?(u=this._getBestFitWidths(),U(e,(f,v)=>{var g=r.getColumnId(v);r.columnOption(g,"bestFitWidth",u[f],!0)})):a&&(u=this._getBestFitWidths()),U(e,function(f){var{width:v}=this;v!=="auto"&&(L(v)?u[f]=Tr(v)||dbe(v)?parseFloat(v):v:t||(u[f]=void 0))}),s&&(this._toggleBestFitMode(!1),s=!1,c&&c!==ce.getActiveElement())){var p=Dn(c).bottom<0;p||pbe(c,d)}l=this._correctColumnWidths(u,e),t&&(function(){var f;U(e,(v,g)=>{g.type==="groupExpand"&&(f=u[v])}),U(e,(v,g)=>{g.type==="groupExpand"&&f&&(u[v]=f)})}(),this._needStretch()&&this._processStretch(u,e)),jn(()=>{(o||l||i)&&this._setVisibleWidths(e,u),n&&this._toggleContentMinHeight(!1)})})},_needBestFit(){return this.option("columnAutoWidth")},_needStretch(){return this._columnsController.getVisibleColumns().some(r=>r.width==="auto"&&!r.command)},_getAverageColumnsWidth(r){var e=R8(this,r),t=r.filter(n=>n===void 0).length;return e/t},_correctColumnWidths(r,e){var t=this,n,i=!1,o=!1,a=!1,s=t.component.$element(),l=t._hasWidth,u=function(){var g=n,m=e[g],C=r[g]===Jy,y=r[g],{minWidth:w}=m;if(w){if(y===void 0){var T=t._getAverageColumnsWidth(r);y=T}else if(lg(y)){var S=hbe(t,g,w,r);S<0&&(y=-1)}}var x=t._getRealColumnWidth(g,r.map((I,R)=>g===R?y:I));w&&!C&&x<w&&(r[g]=w,a=!0,n=-1),L(m.width)||(o=!0),lg(m.width)&&(i=!0)};for(n=0;n<e.length;n++)u();if(!o&&r.length){var c=t._rowsView.element(),d=t._rowsView.contentWidth(),h=t._rowsView.getScrollbarWidth(),p=t._getTotalWidth(r,d);if(p<d){var f=ye.getLastResizableColumnIndex(e,r);if(f>=0&&(r[f]="auto",a=!0,l===!1&&!i)){var v=t.option("showBorders")?Math.ceil(er(c)-WA(c)):0;t._maxWidth=p+h+v,s.css("maxWidth",t._maxWidth)}}}return a},_processStretch(r,e){var t=this._rowsView.contentWidth(),n=this._getTotalWidth(r,t),i={length:0};if(r.length){U(e,function(u){(this.width||r[u]===Jy)&&(i[u]=!0,i.length++)});var o=t-n,a=Math.floor(o/(r.length-i.length)),s=o-a*(r.length-i.length);if(o>=0)for(var l=0;l<r.length;l++)i[l]||(r[l]+=a,s>0&&(s<1?(r[l]+=s,s=0):(r[l]++,s--)))}},_getRealColumnWidth(r,e,t){var n=1,i=e[r];if(!lg(i))return parseFloat(i);var o=e.reduce((u,c,d)=>lg(c)?u+parseFloat(c):u,0),a=e.reduce((u,c)=>!c||c===Jy||lg(c)?u:u+parseFloat(c),0);t=t||this._rowsView.contentWidth();var s=t-a,l=o*t/100;return a>0&&l+a>=t&&(n=l>s?s/l:1),parseFloat(i)*t*n/100},_getTotalWidth(r,e){for(var t=0,n=0;n<r.length;n++){var i=r[n];i&&i!==Jy&&(t+=this._getRealColumnWidth(n,r,e))}return Math.ceil(t)},_getGroupElement(){return this.component.$element().children().get(0)},updateSize(r){var e=E(r),t=this.addWidgetPrefix(ube);if(this._hasHeight===void 0&&e&&e.is(":visible")&&gt(e)){var n=e.children(".".concat(this.getWidgetContainerClass()));n.length&&n.detach(),this._hasHeight=!!Dt(e);var i=gt(e);e.addClass(t),this._hasWidth=gt(e)===i,e.removeClass(t),n.length&&n.appendTo(e)}},publicMethods:()=>["resize","updateDimensions"],_waitAsyncTemplates(){var r,e,t;return $e((r=this._columnHeadersView)===null||r===void 0?void 0:r.waitAsyncTemplates(!0),(e=this._rowsView)===null||e===void 0?void 0:e.waitAsyncTemplates(!0),(t=this._footerView)===null||t===void 0?void 0:t.waitAsyncTemplates(!0))},resize(){if(!this.component._requireResize){var r=new X;return this._waitAsyncTemplates().done(()=>{$e(this.updateDimensions()).done(r.resolve).fail(r.reject)}).fail(r.reject),r.promise()}},updateDimensions(r){var e=this;if(e._initPostRenderHandlers(),!!e._checkSize(r)){var t=e._resizeDeferred,n=e._resizeDeferred=new X;return $e(t).always(()=>{jn(()=>{e._dataController.isLoaded()&&e._synchronizeColumns(),e._resetGroupElementHeight(),qi(()=>{jn(()=>{qi(()=>{e._updateDimensionsCore()})})})}).done(n.resolve).fail(n.reject)}),n.promise()}},_resetGroupElementHeight(){var r=this._getGroupElement(),e=this._rowsView.getScrollable();r&&r.style.height&&(!e||!e.scrollTop())&&(r.style.height="")},_checkSize(r){var e=this.component.$element(),t=e.is(":visible"),n=this._lastWidth!==gt(e)||this._lastHeight!==Dt(e)||this._devicePixelRatio!==Rt().devicePixelRatio;return t&&(!r||n)},_setScrollerSpacingCore(){var r=this,e=r._rowsView.getScrollbarWidth(),t=r._rowsView.getScrollbarWidth(!0);jn(()=>{r._columnHeadersView&&r._columnHeadersView.setScrollerSpacing(e),r._footerView&&r._footerView.setScrollerSpacing(e),r._rowsView.setScrollerSpacing(e,t)})},_setScrollerSpacing(){var r=this._rowsView.getScrollable(),e=this.option("scrolling.useNative")===!0;!r||e?jn(()=>{qi(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()},_setAriaOwns(){var r,e,t,n=(r=this._columnHeadersView)===null||r===void 0?void 0:r.getTableElement(),i=(e=this._footerView)===null||e===void 0?void 0:e.getTableElement();(t=this._rowsView)===null||t===void 0||t.setAriaOwns(n==null?void 0:n.attr("id"),i==null?void 0:i.attr("id"))},_updateDimensionsCore(){var r=this,e=r._dataController,t=r.getController("editorFactory"),n=r._rowsView,i=r.component.$element(),o=this._getGroupElement(),a=Dt(i),s=r.option("height")||i.get(0).style.height,l=!!s&&s!=="auto",u=parseInt(i.css("maxHeight")),c=u&&a>=u,d=o&&o.scrollHeight===o.offsetHeight;r.updateSize(i),jn(()=>{var h=r._hasHeight||!!u||l;if(n.hasHeight(h),this._setAriaOwns(),c&&!d&&E(o).css("height",u),!e.isLoaded()){n.setLoading(e.isLoading());return}qi(()=>{r._updateLastSizes(i),r._setScrollerSpacing(),U(rN,(p,f)=>{var v=r.getView(f);v&&v.resize()}),t&&t.resize()})})},_updateLastSizes(r){this._lastWidth=gt(r),this._lastHeight=Dt(r),this._devicePixelRatio=Rt().devicePixelRatio},optionChanged(r){switch(r.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":r.handled=!0;return;default:this.callBase(r)}},init(){this._prevContentMinHeight=null,this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}},vbe=kr.ViewController.inherit(fbe),gbe=kr.ViewController.inherit({_scrollChangedHandler(r,e,t){for(var n=0;n<r.length;n++)r[n]&&r[n].name!==t&&r[n].scrollTo({left:e.left,top:e.top})},init(){for(var r=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],e=0;e<r.length;e++){var t=r[e];t&&t.scrollChanged.add(this._scrollChangedHandler.bind(this,r))}}}),mbe=kr.View.inherit({_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView(r){return this.component._views[r]},element(){return this._groupElement},optionChanged(r){L(this._groupElement)&&r.name==="showBorders"?(this._groupElement.toggleClass(this.addWidgetPrefix(Q$),!!r.value),r.handled=!0):this.callBase(r)},_renderViews(r){var e=this;U(rN,(t,n)=>{var i=e.getView(n);i&&i.render(r)})},_getTableRoleName:()=>"group",render(r){var e=!this._groupElement,t=this._groupElement||E("<div>").addClass(this.getWidgetContainerClass());t.addClass(T8),t.toggleClass(this.addWidgetPrefix(Q$),!!this.option("showBorders")),this.setAria("role","presentation",r),this.component.setAria("role",this._getTableRoleName(),t),this._rootElement=r||this._rootElement,e&&(this._groupElement=t,yt()&&this.getController("resizing").updateSize(r),t.appendTo(r)),this._renderViews(t)},update(){var r=this._rootElement,e=this._groupElement,t=this.getController("resizing");r&&e&&(t.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}}),_be={defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:vbe,synchronizeScrolling:gbe},views:{gridView:mbe},VIEW_NAMES:rN};at.registerModule("gridView",_be);var Cbe=pp.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(r){var e=new X,t=new X;this._deferredItems[r.index]=t;var n=this.callBase.call(this,r);return t.done(()=>{e.resolve(n)}),e.promise()},_onItemTemplateRendered:function(r,e){return()=>{this._deferredItems[e.index].resolve()}},_postProcessRenderItems:Z,_renderItemsAsync(){var r=new X;return $e.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),r.resolve()}),r.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),O8="dx-toolbar",IR="dx-toolbar-before",ybe="dx-toolbar-center",Z$="dx-toolbar-after",Sbe="dx-toolbar-mini",wbe="dx-toolbar-item",ug="dx-toolbar-label",bbe="dx-toolbar-button",Ebe="dx-toolbar-items-container",xbe="dx-toolbar-group",J$="dx-toolbar-compact",eW="text",Ibe="default",Tbe="contained",Rbe="dxToolbarItemDataKey",Obe=15;class D8 extends Cbe{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(e=>e!=="disabled")}_initTemplates(){super._initTemplates();var e=new hp((function(t,n,i){if(Nt(n)){var{text:o,html:a,widget:s}=n;if(o&&t.text(o).wrapInner("<div>"),a&&t.html(a),s==="dxDropDownButton"){var l;n.options=(l=n.options)!==null&&l!==void 0?l:{},L(n.options.stylingMode)||(n.options.stylingMode=this.option("useFlatButtons")?eW:Tbe)}if(s==="dxButton"){if(this.option("useFlatButtons")){var u,c;n.options=(u=n.options)!==null&&u!==void 0?u:{},n.options.stylingMode=(c=n.options.stylingMode)!==null&&c!==void 0?c:eW}if(this.option("useDefaultButtons")){var d,h;n.options=(d=n.options)!==null&&d!==void 0?d:{},n.options.type=(h=n.options.type)!==null&&h!==void 0?h:Ibe}}}else t.text(String(n));this._getTemplate("dx-polymorph-widget").render({container:t,model:i,parent:this})}).bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return $(super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Ma()},options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".".concat(IR),".".concat(ybe),".".concat(Z$)].join(","))}_itemClass(){return wbe}_itemDataKey(){return Rbe}_dimensionChanged(){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._renderItemsAsync(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(O8),this._$toolbarItemsContainer=E("<div>").addClass(Ebe).appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){var e=this._$toolbarItemsContainer;U(["before","center","after"],(t,n)=>{var i="dx-toolbar-".concat(n),o=e.find(".".concat(i));o.length||(this["_$".concat(n,"Section")]=E("<div>").addClass(i).attr("role","presentation").appendTo(e))})}_arrangeItems(e){var t;e=(t=e)!==null&&t!==void 0?t:gt(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var n=Dn(this._$beforeSection.get(0)),i=Dn(this._$afterSection.get(0));this._alignCenterSection(n,i,e);var o=this._$toolbarItemsContainer.find(".".concat(ug)).eq(0),a=o.parent();if(o.length){var s=n.width?n.width:o.position().left,l=a.hasClass(IR)?0:s,u=a.hasClass(Z$)?0:i.width,c=0;a.children().not(".".concat(ug)).each(function(){c+=er(this)});var d=e-c,h=Math.max(d-l-u,0);if(a.hasClass(IR))this._alignSection(this._$beforeSection,h);else{var p=er(o)-gt(o);o.css("maxWidth",h-p)}}}_alignCenterSection(e,t,n){this._alignSection(this._$centerSection,n-e.width-t.width);var i=this.option("rtlEnabled"),o=i?t:e,a=i?e:t,s=Dn(this._$centerSection.get(0));(o.right>s.left||s.right>a.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:a.width,float:o.width>a.width?"none":"right"})}_alignSection(e,t){var n=e.find(".".concat(ug)),i=n.toArray();t-=this._getCurrentLabelsPaddings(i);var o=this._getCurrentLabelsWidth(i),a=Math.abs(o-t);t<o?(i=i.reverse(),this._alignSectionLabels(i,a,!1)):this._alignSectionLabels(i,a,!0)}_alignSectionLabels(e,t,n){for(var i=function(c){return Dn(c).width},o=0;o<e.length;o++){var a=E(e[o]),s=Math.ceil(i(e[o])),l=void 0;n&&a.css("maxWidth","inherit");var u=Math.ceil(n?i(e[o]):s);if(u<t)l=n?u:0,t-=u;else{l=n?s+t:s-t,a.css("maxWidth",l);break}a.css("maxWidth",l)}}_applyCompactMode(){var e=this.$element();e.removeClass(J$),this.option("compactMode")&&this._getSummaryItemsSize("width",this.itemElements(),!0)>gt(e)&&e.addClass(J$)}_getCurrentLabelsWidth(e){var t=0;return e.forEach(function(n,i){t+=er(n)}),t}_getCurrentLabelsPaddings(e){var t=0;return e.forEach(function(n,i){t+=er(n)-gt(n)}),t}_renderItem(e,t,n,i){var o,a,s=(o=t.location)!==null&&o!==void 0?o:"center",l=n??this["_$".concat(s,"Section")],u=!!((a=t.text)!==null&&a!==void 0?a:t.html),c=super._renderItem(e,t,l,i);return c.toggleClass(bbe,!u).toggleClass(ug,u).addClass(t.cssClass),c}_renderGroupedItems(){U(this.option("items"),(e,t)=>{var n,i=t.items,o=E("<div>").addClass(xbe),a=(n=t.location)!==null&&n!==void 0?n:"center";!i||!i.length||(U(i,(s,l)=>{this._renderItem(s,l,o,null)}),this._$toolbarItemsContainer.find(".dx-toolbar-".concat(a)).append(o))})}_renderItems(e){var t=this.option("grouped")&&e.length&&e[0].items;t?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){var e;return(e=this.option("items"))!==null&&e!==void 0?e:[]}_renderContentImpl(){var e=this._getToolbarItems();this.$element().toggleClass(Sbe,e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return gt(this.$element())>0&&Dt(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,t,n){super._itemOptionChanged.apply(this,[e,t,n]),this._arrangeItems()}_optionChanged(e){var{name:t,value:n}=e;switch(t){case"width":super._optionChanged.apply(this,arguments),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged.apply(this,arguments)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){Hi()&&Promise.all([new Promise(e=>{var t=()=>{var i=!0;return this.$element().parents().each((o,a)=>{if(nn.isAnimating(E(a)))return i=!1,!1}),i&&e(),i},n=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>t()||n(),Obe)};n()}),(()=>{var e=this.$element().find(".".concat(ug)),t=[];return e.each((n,i)=>{var o=E(i).text(),a=E(i).css("fontWeight");t.push(spe(o,a))}),Promise.all(t)})()]).then(()=>{this._dimensionChanged()})}}Kt("dxToolbarBase",D8);var Dbe="dx-buttongroup",Abe=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],Pbe=function(r){var e=r.data&&r.data(),t=e&&e.dxComponents,n=t&&t[0];return n&&e[n]};function tE(r,e){var t;if(r){var n=r._findItemElementByItem(e);if(n.length){var i=r._getItemData(n),o=!!((t=i.options)!==null&&t!==void 0&&t.disabled||i.disabled||r.option("disabled")),{widget:a}=i;if(a&&Abe.indexOf(a)!==-1){var s=n.find(a.toLowerCase().replace("dx",".dx-"));if(s.length){var l,u,c=Pbe(s);if(!c)return;var d=(l=c._focusTarget)===null||l===void 0?void 0:l.call(c);if(a==="dxDropDownButton")d=d&&d.find(".".concat(Dbe));else{var h;d=(h=d)!==null&&h!==void 0?h:E(c.element())}var p=(u=i.options)===null||u===void 0?void 0:u.tabIndex;o?d.attr("tabIndex",-1):d.attr("tabIndex",p??0)}}}}}var Mbe="dx-toolbar-label";class Fbe{constructor(e){this._toolbar=e}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){var e;return(e=this._toolbar.option("items"))!==null&&e!==void 0?e:[]}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",this._toolbar.itemElements(),!0)}_arrangeItems(){var e=this._toolbar._$toolbarItemsContainer.find(".".concat(Mbe)).eq(0);if(e.length){var t=gt(this._toolbar.$element()),n=er(e)-gt(e);e.css("maxWidth",t-n)}}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}}var o0="dxswipestart",a0="dxswipe",XC="dxswipeend",Lbe={defaultItemSizeFunc:function(){return gt(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(r){var e=gn(r);return(e.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,r)},isFastSwipe:function(r){var e=gn(r);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},Nbe={defaultItemSizeFunc:function(){return Dt(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(r){var e=gn(r);return(e.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,r)},isFastSwipe:function(r){var e=gn(r);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},kbe={horizontal:Lbe,vertical:Nbe},Vbe=LC.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(r){this.callBase(r),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return kbe[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(r){this._tickData=gn(r)},_start:function(r){this._savedEventData=gn(r),r=this._fireEvent(o0,r),r.cancel||(this._maxLeftOffset=r.maxLeftOffset,this._maxRightOffset=r.maxRightOffset,this._maxTopOffset=r.maxTopOffset,this._maxBottomOffset=r.maxBottomOffset)},_move:function(r){var e=this._getStrategy(),t=gn(r),n=e.calcOffsetRatio.call(this,r);n=this._fitOffset(n,this.elastic),t.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=t),this._fireEvent(a0,r,{offset:n}),r.cancelable!==!1&&r.preventDefault()},_end:function(r){var e=this._getStrategy(),t=e.calcOffsetRatio.call(this,r),n=e.isFastSwipe.call(this,r),i=t,o=this._calcTargetOffset(t,n);i=this._fitOffset(i,this.elastic),o=this._fitOffset(o,!1),this._fireEvent(XC,r,{offset:i,targetOffset:o})},_fitOffset:function(r,e){var t=this._getStrategy(),n=t.getBounds.call(this);return r<-n[0]?e?(-2*n[0]+r)/3:-n[0]:r>n[1]?e?(2*n[1]+r)/3:n[1]:r},_calcTargetOffset:function(r,e){var t;return e?(t=Math.ceil(Math.abs(r)),r<0&&(t=-t)):t=Math.round(r),t}});Iv({emitter:Vbe,events:[o0,a0,XC]});var tW="dx-list-item-badge-container",Bbe="dx-list-item-badge",Hbe="dx-badge",TR="dx-list-item-chevron-container",Gbe="dx-list-item-chevron",$be=dp.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(r){if(this._$element.children("."+tW).remove(),!!r){var e=E("<div>").addClass(tW).append(E("<div>").addClass(Bbe).addClass(Hbe).text(r)),t=this._$element.children("."+TR).first();t.length>0?e.insertBefore(t):e.appendTo(this._$element)}},_renderShowChevron:function(r){if(this._$element.children("."+TR).remove(),!!r){var e=E("<div>").addClass(TR),t=E("<div>").addClass(Gbe);e.append(t).appendTo(this._$element)}}}),rW="dx-scrollview-pull-down-loading",RR="dx-scrollview-pull-down-ready",Wbe="dx-scrollview-pull-down-image",zbe="dx-scrollview-pull-down-indicator",Ube="dx-scrollview-pull-down-text",jbe="dx-scrollview-pull-down-text-visible",eS=0,cg=1,tS=2,OR=3,Kbe=400,qbe=kL.inherit({_init:function(r){this.callBase(r),this._$topPocket=r._$topPocket,this._$pullDown=r._$pullDown,this._$refreshingText=r._$refreshingText,this._$scrollViewContent=E(r.content()),this._$container=E(r.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=ar(),this.releaseCallbacks=ar(),this.reachBottomCallbacks=ar()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var r=E("<div>").addClass(Wbe),e=E("<div>").addClass(zbe),t=new Ra(E("<div>")).$element(),n=this._$pullDownText=E("<div>").addClass(Ube);this._$pullingDownText=E("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=E("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=E("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(r).append(e.append(t)).append(n)},_releaseState:function(){this._state=eS,this._refreshPullDownText()},_refreshPullDownText:function(){var r=this,e=[{element:this._$pullingDownText,visibleState:eS},{element:this._$pulledDownText,visibleState:cg},{element:this._$refreshingText,visibleState:tS}];U(e,function(t,n){var i=r._state===n.visibleState?"addClass":"removeClass";n.element[i](jbe)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var r=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(r.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var r=this.callBase();return r.vertical=r.vertical||this._pullDownEnabled,r},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===cg&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout((function(){this._pullDownRefreshing()}).bind(this),400))},_setPullDownOffset:function(r){ci(this._$topPocket,{top:r}),ci(this._$scrollViewContent,{top:r})},handleScroll:function(r){if(this.callBase(r),this._state!==tS){var e=this.location().top,t=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():t>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==OR&&(this._state=OR,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==cg&&(this._state=cg,this._$pullDown.addClass(RR),this._refreshPullDownText())},_stateReleased:function(){this._state!==eS&&(this._$pullDown.removeClass(rW).removeClass(RR),this._releaseState())},_pullDownRefreshing:function(){this._state!==tS&&(this._state=tS,this._$pullDown.addClass(rW).removeClass(RR),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(r){r&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=r},reachBottomEnable:function(r){this._reachBottomEnabled=r},pendingRelease:function(){this._state=cg},release:function(){var r=new X;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===OR&&(this._state=eS),this._releaseTimeout=setTimeout((function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),r.resolve()}).bind(this),Kbe),r.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),nW="dx-scrollview-pull-down-loading",Ybe="dx-scrollview-pull-down-indicator",Xbe="dx-scrollview-pull-down-refreshing",Qbe="dx-icon-pulldown",DR=0,Zbe=1,iW=2,AR=4,rS=5,Jbe=kL.inherit({_init:function(r){this.callBase(r),this._$topPocket=r._$topPocket,this._$pullDown=r._$pullDown,this._$scrollViewContent=E(r.content()),this._$container=E(r.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=ar(),this.releaseCallbacks=ar(),this.reachBottomCallbacks=ar()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var r=E("<div>").addClass(Ybe),e=new Ra(E("<div>")).$element();this._$icon=E("<div>").addClass(Qbe),this._$pullDown.empty().append(this._$icon).append(r.append(e))},_releaseState:function(){this._state=DR,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var r=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(r.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var r=this.callBase();return r.vertical=r.vertical||this._pullDownEnabled,r},handleInit:function(r){this.callBase(r),this._state===DR&&this._location===0&&(this._startClientY=gn(r.originalEvent).y,this._state=AR)},handleMove:function(r){this.callBase(r),this._deltaY=gn(r.originalEvent).y-this._startClientY,this._state===AR&&(this._pullDownEnabled&&this._deltaY>0?this._state=rS:this._complete()),this._state===rS&&(r.preventDefault(),this._movePullDown())},_movePullDown:function(){var r=this._getPullDownHeight(),e=Math.min(3*r,this._deltaY+this._getPullDownStartPosition()),t=180*e/r/3;this._$pullDown.css({opacity:1}).toggleClass(Xbe,e<r),ci(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+t+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===rS&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*Vt(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*Vt(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===AR||this._state===rS)&&this._releaseState()},handleScroll:function(r){if(this.callBase(r),this._state!==iW){var e=this.location().top,t=this._location-e;this._location=e,t>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==DR&&(this._$pullDown.removeClass(nW),this._releaseState())},_pullDownRefreshing:function(){this._state=iW,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(nW),ci(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(r){this._$topPocket.toggle(r),this._pullDownEnabled=r},reachBottomEnable:function(r){this._reachBottomEnabled=r},pendingRelease:function(){this._state=Zbe},release:function(){var r=new X;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout((function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),r.resolve()}).bind(this),800),r.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),eEe=Math,oW="dx-scrollview-pull-down-loading",PR="dx-scrollview-pull-down-ready",tEe="dx-scrollview-pull-down-image",rEe="dx-scrollview-pull-down-indicator",nEe="dx-scrollview-pull-down-text",iEe="dx-scrollview-pull-down-text-visible",dg=0,hg=1,MR=2,FR=3,oEe=d9.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=dg,this._refreshPullDownText()},_refreshPullDownText:function(){var r=this,e=[{element:this._$pullingDownText,visibleState:dg},{element:this._$pulledDownText,visibleState:hg},{element:this._$refreshingText,visibleState:MR}];U(e,function(t,n){var i=r._state===n.visibleState?"addClass":"removeClass";n.element[i](iEe)})},_initCallbacks:function(){this.pullDownCallbacks=ar(),this.releaseCallbacks=ar(),this.reachBottomCallbacks=ar()},_updateBounds:function(){var r=this._direction!=="horizontal";if(r){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var e=this._$container.get(0),t=this._$content.get(0);this._bottomBoundary=Math.max(t.clientHeight-this._bottomPocketSize-e.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==dg&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var r=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(r.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===hg?this._pullDownRefreshing():this._inBounds()&&this._state===FR?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==FR&&(this._state=FR,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return eEe.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==hg&&(this._state=hg,this._maxOffset=0,this._$pullDown.addClass(PR),this._refreshPullDownText())},_stateReleased:function(){this._state!==dg&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(oW).removeClass(PR),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==MR&&(this._state=MR,this._$pullDown.addClass(oW).removeClass(PR),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===dg&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=VF(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(r){this._reachBottomEnabled!==r&&(this._reachBottomEnabled=r,this._updateBounds())},_pullDownEnablingHandler:function(r){this._pullDownEnabled!==r&&(this._pullDownEnabled=r,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=Dt(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=hg},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),aEe=h9.inherit({_init:function(r){this.callBase(r),this._$pullDown=r._$pullDown,this._$topPocket=r._$topPocket,this._$bottomPocket=r._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=ar(),this.releaseCallbacks=ar(),this.reachBottomCallbacks=ar()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var r=E("<div>").addClass(tEe),e=E("<div>").addClass(rEe),t=new Ra(E("<div>")).$element(),n=this._$pullDownText=E("<div>").addClass(nEe);this._$pullingDownText=E("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=E("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=E("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(r).append(e.append(t)).append(n)},pullDownEnable:function(r){this._eventHandler("pullDownEnabling",r)},reachBottomEnable:function(r){this._eventHandler("reachBottomEnabling",r)},_createScroller:function(r){var e=this,t=e._scrollers[r]=new oEe(e._scrollerOptions(r));t.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),t.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),t.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(r){return $(this.callBase(r),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var r=this.callBase();return r.top+=Dt(this._$topPocket),r},dispose:function(){U(this._scrollers,function(){this.dispose()}),this.callBase()}}),fp="dx-scrollview",sEe=fp+"-content",lEe=fp+"-top-pocket",uEe=fp+"-bottom-pocket",cEe=fp+"-pull-down",nN=fp+"-scrollbottom",dEe=nN+"-indicator",hEe=nN+"-text",pEe=fp+"-loadpanel",fEe={pullDown:qbe,swipeDown:Jbe,simulated:aEe},vEe=!yt(),gEe={finishLoading:Z,release:Z,refresh:Z,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(r){if(r.name!=="onUpdated")return this.callBase.apply(this,arguments)}},iN=Oa.inherit(vEe?gEe:{_getDefaultOptions:function(){return $(this.callBase(),{pullingDownText:J.format("dxScrollView-pullingDownText"),pulledDownText:J.format("dxScrollView-pulledDownText"),refreshingText:J.format("dxScrollView-refreshingText"),reachBottomText:J.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var r=Ye.real();return r.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return Ma()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(fp),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var r=E("<div>").addClass(sEe);this._$content.wrapInner(r)},_initTopPocket:function(){var r=this._$topPocket=E("<div>").addClass(lEe),e=this._$pullDown=E("<div>").addClass(cEe);r.append(e),this._$content.prepend(r)},_initBottomPocket:function(){var r=this._$bottomPocket=E("<div>").addClass(uEe),e=this._$reachBottom=E("<div>").addClass(nN),t=E("<div>").addClass(dEe),n=new Ra(E("<div>")).$element(),i=this._$reachBottomText=E("<div>").addClass(hEe);this._updateReachBottomText(),e.append(t.append(n)).append(i),r.append(e),this._$content.append(r)},_initLoadPanel:function(){var r=E("<div>").addClass(pEe).appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(r,OL,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var r=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=fEe[r];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(r){var e=this.callBase.apply(this,arguments);return(r==="pullDown"||r==="reachBottom")&&this._tryRefreshPocketState(),e},_pullDownEnable:function(r){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(r),this._strategy.pullDownEnable(r),this._pullDownEnabled=r)},_reachBottomEnable:function(r){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(r),this._strategy.reachBottomEnable(r),this._reachBottomEnabled=r)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(r){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=r},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(r){switch(r.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(r)}},content:function(){return ut(this._$content.children().eq(1))},release:function(r){return r!==void 0&&this.toggleLoading(!r),this._strategy.release()},toggleLoading:function(r){this._reachBottomEnable(r)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});Kt("dxScrollView",iN);var nS="__dx_key__";const oN=pp.inherit({_getDefaultOptions:function(){return $(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var r;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{var t=this._dataController;t.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},(r=this._dataController)===null||r===void 0||r.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(r){var e=E(),t=this.key();return this.itemElements().each((n,i)=>{var o=E(i),a=this._getItemData(o);if(t?xC(t,this.keyOf(a),r):this._isItemEquals(a,r))return e=o,!1}),e},_dataSourceChangedHandler:function(r,e){e!=null&&e.changes?this._modifyByChanges(e.changes):(this.callBase(r,e),this._refreshItemsCache())},_isItemEquals:function(r,e){r&&r[nS]&&(r=r.data);try{return JSON.stringify(r)===JSON.stringify(e)}catch{return r===e}},_isItemStrictEquals:function(r,e){return this._isItemEquals(r,e)},_shouldAddNewGroup:function(r,e){var t=!1;return this.option("grouped")&&(r.length||(t=!0),U(r,(n,i)=>{i.type==="insert"&&(t=!0,U(e,(o,a)=>{if(i.data.key!==void 0&&i.data.key===a.key)return t=!1,!1}))})),t},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var r=ZY(this._itemsCache,this._editStrategy.itemsGetter(),e=>e&&e[nS]!==void 0?e[nS]:this.keyOf(e),this._isItemStrictEquals.bind(this));if(r&&this._itemsCache.length&&!this._shouldAddNewGroup(r,this._itemsCache))return this._modifyByChanges(r,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var r=this._editStrategy.itemsGetter();try{this._itemsCache=$(!0,[],r),this.key()||(this._itemsCache=this._itemsCache.map((e,t)=>({[nS]:r[t],data:e})))}catch{this._itemsCache=$([],r)}}},_dispose:function(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(r,e,t,n){if(n)this._renderItem(t.index,t.data,null,this._findItemElementByKey(t.key));else{var i=e[Hh(r,e,t.key)];i&&lL(r,e,t.key,t.data).done(()=>{this._renderItem(e.indexOf(i),i,null,this._findItemElementByKey(t.key))})}},_insertByChange:function(r,e,t,n){$e(n||uL(r,e,t.data,t.index)).done(()=>{var i;this._beforeItemElementInserted(t),this._renderItem((i=t.index)!==null&&i!==void 0?i:e.length,t.data),this._afterItemElementInserted(),this._correctionIndex++})},_updateSelectionAfterRemoveByChange:function(r){var e=this.option("selectedIndex");e>r?this.option("selectedIndex",e-1):e===r&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(r){var e=this.option("selectedIndex");r.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:Z,_removeByChange:function(r,e,t,n){var i=n?t.index:Hh(r,e,t.key),o=n?t.oldItem:e[i];if(o){var a=this._findItemElementByKey(t.key),s=this._extendActionArgs(a);this._waitDeletingPrepare(a).done(()=>{n?(this._updateIndicesAfterIndex(i-1),this._afterItemElementDeleted(a,s),this._updateSelectionAfterRemoveByChange(i)):(this._deleteItemElementByIndex(i),this._afterItemElementDeleted(a,s))}),this._correctionIndex--}},_modifyByChanges:function(r,e){var t=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},i=this._dataController,o=i.paginate(),a=i.group();(o||a)&&(r=r.filter(s=>s.type!=="insert"||s.index!==void 0)),r.forEach(s=>this["_".concat(s.type,"ByChange")](n,t,s,e)),this._renderedItemsCount=t.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(r,e,t){var n=r.children(this._itemSelector()).get(t);ce.insertElement(r.get(0),e.get(0),n)},_optionChanged:function(r){switch(r.name){case"items":var e=this._partialRefresh(r.value);e||this.callBase(r);break;case"dataSource":(!this.option("repaintChangesOnly")||!r.value)&&this.option("items",[]),this.callBase(r);break;case"repaintChangesOnly":break;default:this.callBase(r)}}});var mEe=r=>Array.isArray(r)&&r.every(e=>{var t=Object.keys(e).length===2,n="key"in e&&"items"in e;return t&&n&&Array.isArray(e.items)});const A8={_getSpecificDataSourceOption:function(){var r=this.option("dataSource"),e=!1,t={};return this._getGroupedOption()&&mEe(r)&&(t=r.reduce((n,i)=>{var o=i.items.map(a=>(pt(a)||(a={text:a},e=!0),"key"in a||(a.key=i.key),a));return n.concat(o)},[]),r={store:{type:"array",data:t},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(r.searchExpr="text")),r}};function P8(r){return r?Number(r.replace("px","")):0}function _Ee(r){var e,t;return r&&yt()?(e=(t=Rt()).getComputedStyle)===null||e===void 0?void 0:e.call(t,r):null}function CEe(r,e){var t=_Ee(r);return t?P8(t["margin".concat(S_(e))]):0}var yEe="dx-list",SEe="dx-list-items",Xw="dx-list-item",wEe="."+Xw,bEe="dx-list-item-icon-container",EEe="dx-list-item-icon",Fp="dx-list-group",LR="dx-list-group-header",iS="dx-list-group-body",xEe="dx-list-collapsible-groups",aW="dx-list-group-collapsed",IEe="dx-list-group-header-indicator",TEe="dx-has-next",REe="dx-list-next-button",OEe="dx-wrap-item-text",DEe=".dx-list-select-all",AEe="dxListItemData",sW=70,PEe=Ar("items"),aN=oN.inherit({_activeStateUnit:[wEe,DEe].join(","),_supportedKeys:function(){var r=this,e=function(n){var i=t(n),o=i.is(r.option("focusedElement"));o&&(function(a,s){var l=a.position().top;s==="prev"&&(l=a.position().top-Dt(r.$element())+Vt(a)),r.scrollTo(l)}(i,n),i=t(n)),r.option("focusedElement",ut(i)),r.scrollToItem(i)};function t(n){var i=r.scrollTop(),o=Dt(r.$element()),a=E(r.option("focusedElement")),s=!0;if(!a.length)return E();for(;s;){var l=a[n]();if(!l.length)break;var u=l.position().top+Vt(l)/2;s=u<o+i&&u>i,s&&(a=l)}return a}return $(this.callBase(),{leftArrow:Z,rightArrow:Z,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return $(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:J.format("dxList-pullingDownText"),pulledDownText:J.format("dxList-pulledDownText"),refreshingText:J.format("dxList-refreshingText"),pageLoadingText:J.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:J.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(r){return r?r.showChevron:void 0},badgeExpr:function(r){return r?r.badge:void 0}})},_defaultOptionsRules:function(){var r=mo();return this.callBase().concat(p9(),[{device:function(){return!Bh},options:{useNativeScrolling:!1}},{device:function(e){return!Bh&&!Ye.isSimulator()&&Ye.real().deviceType==="desktop"&&e.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Hi(r)},options:{useInkRipple:!0}},{device:function(){return Ma(r)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:""}}])},_visibilityChanged:function(r){r&&this._updateLoadingState(!0)},_itemClass:function(){return Xw},_itemDataKey:function(){return AEe},_itemContainer:function(){return this._$container},_getItemsContainer:function(){return this._$listContainer},_cleanItemContainer:function(){this.callBase();var r=this._getItemsContainer();E(r).empty(),r.appendTo(this._$container)},_saveSelectionChangeEvent:function(r){this._selectionChangeEventInstance=r},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._getItemsContainer().children("."+Fp).children("."+iS).children(this._itemSelector()):this._itemElementsCache=this._getItemsContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(r,e){var t=this.callBase(r,e);return t.done(function(){this._refreshItemElements()})},deleteItem:function(r){var e=this.callBase(r);return e.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(r){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(r.currentTarget)))return this.callBase(r)},_allowDynamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._$listContainer=E("<div>").addClass(SEe),this._initScrollView(),this._feedbackShowTimeout=sW,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var r=this._scrollBottomMode(),e=this._nextButtonMode();return $(this.callBase(),{paginate:an(r||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(r){return this._getItemsContainer().find(".".concat(Fp)).eq(r).find(".".concat(iS))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var r=this.option("scrollingEnabled"),e=r&&this.option("pullRefreshEnabled"),t=r&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),MEe(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!r,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:t?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=E(this._scrollView.content()),this._$listContainer.appendTo(this._$container),this._toggleWrapItemText(this.option("wrapItemText")),this._createScrollViewActions()},_toggleWrapItemText:function(r){this._$listContainer.toggleClass(OEe,r)},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(r){this._scrollAction&&this._scrollAction(r)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new hp(function(r,e){Nt(e)?e.key&&r.text(e.key):r.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(r,e){if(this.callBase(r,e),r.icon){var t=Du(r.icon).addClass(EEe),n=E("<div>").addClass(bEe);n.append(t),e.prepend(n)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(r){var e=this._dataController,t=this._scrollBottomMode()&&r&&!e.isLoading()&&!this._isLastPage();this._shouldContinueLoading(t)?this._infiniteDataLoading():(this._scrollView.release(!t&&!e.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataController.isLoaded()},_isDataSourceFirstLoadCompleted:function(r){return L(r)&&(this._isFirstLoadCompleted=r),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(r){this._loadIndicationSuppressed()||(r&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout((function(){var e=!this._itemElements().length,t=!e||this._isDataSourceFirstLoadCompleted();if(t){var n;(n=this._scrollView)===null||n===void 0||n.startLoading()}}).bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),r||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&yt()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(r){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=r},_scrollViewIsFull:function(){var r=this._scrollView;return!r||Dt(r.content())>Dt(r.container())},_pullDownHandler:function(r){this._pullRefreshAction(r);var e=this._dataController;e.getDataSource()&&!e.isLoading()?(this._clearSelectedItems(),e.pageIndex(0),e.reload()):this._updateLoadingState()},_shouldContinueLoading:function(r){var e,t,n=Dt(this._scrollView.content())-Dt(this._scrollView.container())<((e=(t=this._scrollView.scrollOffset())===null||t===void 0?void 0:t.top)!==null&&e!==void 0?e:0);return r&&(!this._scrollViewIsFull()||n)},_infiniteDataLoading:function(){var r=this.$element().is(":visible");r&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(r){this._pageLoadingAction(r);var e=this._dataController;!e.isLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(r){this.option("grouped")?(U(r,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),Hi()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var r=fe(sr,this.NAME),e="."+LR,t=this.$element(),n=this.option("collapsibleGroups");t.toggleClass(xEe,n),B.off(t,r,e),n&&B.on(t,r,e,(function(i){this._createAction((function(o){var a=E(o.event.currentTarget).parent();this._collapseGroupHandler(a),this.option("focusStateEnabled")&&this.option("focusedElement",ut(a.find("."+Xw).eq(0)))}).bind(this),{validatingTargetName:"element"})({event:i})}).bind(this))},_collapseGroupHandler:function(r,e){var t=new X;if(r.hasClass(aW)===e)return t.resolve();var n=r.children("."+iS),i=Vt(n),o=0;return i===0&&(Zc(n,"auto"),o=Vt(n)),r.toggleClass(aW,e),nn.animate(n,{type:"custom",from:{height:i},to:{height:o},duration:200,complete:(function(){this.updateDimensions(),this._updateLoadingState(!0),t.resolve()}).bind(this)}),t.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=E(),this.$element().addClass(yEe),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria({role:"group",roledescription:"list"},this.$element()),this.setAria({role:"group"},this._focusTarget()),this._setListAria()},_setListAria(){var{items:r}=this.option(),e=r!=null&&r.length?{role:"listbox",label:"Items"}:{role:void 0,label:void 0};this.setAria(e,this._$listContainer)},_focusTarget:function(){return this._itemContainer()},_renderInkRipple:function(){this._inkRipple=VL()},_toggleActiveState:function(r,e,t){this.callBase.apply(this,arguments);var n=this;if(this._inkRipple){var i={element:r,event:t};e?Hi()?this._inkRippleTimer=setTimeout(function(){n._inkRipple.showWave(i)},sW/2):n._inkRipple.showWave(i):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(i))}},_postprocessRenderItem:function(r){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(E(r.itemElement))},_attachSwipeEvent:function(r){var e=fe(XC,this.NAME);B.on(r,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(r){this._itemDXEventHandler(r,"onItemSwipe",{direction:r.offset<0?"left":"right"})},_nextButtonHandler:function(r){this._pageLoadingAction(r);var e=this._dataController;e.getDataSource()&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(r,e){var t=E("<div>").addClass(Fp).appendTo(this._getItemsContainer()),n="dx-".concat(new dn().toString()),i={role:"group",labelledby:n};this.setAria(i,t);var o=E("<div>").addClass(LR).attr("id",n).appendTo(t),a=this.option("groupTemplate"),s=this._getTemplate(e.template||a,e,r,o),l={index:r,itemData:e,container:ut(o)};this._createItemByTemplate(s,l),E("<div>").addClass(IEe).prependTo(o),this._renderingGroupIndex=r;var u=E("<div>").addClass(iS).appendTo(t);U(PEe(e)||[],(function(c,d){this._renderItem({group:r,item:c},d,u)}).bind(this)),this._groupRenderAction({groupElement:ut(t),groupIndex:r,groupData:e})},downInkRippleHandler:function(r){this._toggleActiveState(E(r.currentTarget),!0,r)},upInkRippleHandler:function(r){this._toggleActiveState(E(r.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var r="."+LR,e=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var t=[e,"dxpointerdown",r,this._downInkRippleHandler],n=[e,"dxpointerup dxpointerout",r,this._upInkRippleHandler];B.off(...t),B.on(...t),B.off(...n),B.on(...n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(r){this.callBase(r),this._scrollView.option("disabled",r||!this.option("scrollingEnabled"))},_toggleNextButton:function(r){var e=this._dataController,t=this._getNextButton();this.$element().toggleClass(TEe,r),r&&e.isLoaded()&&t.appendTo(this._itemContainer()),r||t.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var r=E("<div>").addClass(REe),e=E("<div>").appendTo(r);return this._createComponent(e,gi,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:Ma()?"default":void 0,integrationOptions:{}}),r},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!yt())this.callBase();else{var r=this._scrollView.scrollTop();this.callBase(),r&&this._scrollView.scrollTo(r)}},_optionChanged:function(r){switch(r.name){case"pageLoadMode":this._toggleNextButton(r.value),this._initScrollView();break;case"dataSource":this.callBase(r),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(r),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._toggleWrapItemText(r.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(r),this._scrollView.option(r.name,r.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(r),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(r);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"selectByClick":break;default:this.callBase(r)}},_extendActionArgs:function(r){if(!this.option("grouped"))return this.callBase(r);var e=r.closest("."+Fp),t=e.find("."+Xw);return $(this.callBase(r),{itemIndex:{group:e.index(),item:t.index(r)}})},expandGroup:function(r){var e=new X,t=this._getItemsContainer().find(".".concat(Fp)).eq(r);return this._collapseGroupHandler(t,!1).done((function(){e.resolveWith(this)}).bind(this)),e.promise()},collapseGroup:function(r){var e=new X,t=this._getItemsContainer().find(".".concat(Fp)).eq(r);return this._collapseGroupHandler(t,!0).done((function(){e.resolveWith(this)}).bind(this)),e},updateDimensions:function(){var r=this,e=new X;return r._scrollView?r._scrollView.update().done(function(){!r._scrollViewIsFull()&&r._updateLoadingState(!0),e.resolveWith(r)}):e.resolveWith(r),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(r){this._scrollView.scrollBy(r)},scrollTo:function(r){this._scrollView.scrollTo(r)},scrollToItem:function(r){var e=this._editStrategy.getItemElement(r),t=e==null?void 0:e.get(0);this._scrollView.scrollToElement(t,{bottom:CEe(t,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(A8);aN.ItemClass=$be;function MEe(){return iN}var NR="dx-toolbar-menu-action",FEe="dx-toolbar-hidden-button",lW="dx-toolbar-hidden-button-group",uW="dx-toolbar-menu-section",LEe="dx-toolbar-menu-custom",cW="dx-toolbar-menu-last-section",NEe="dx-scrollview-content";class kEe extends aN{_init(){super._init(),this._activeStateUnit=".".concat(NR,":not(.").concat(lW,")")}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){var e=this._itemContainer();U(["before","center","after","menu"],(t,n)=>{var i="_$".concat(n,"Section");this[i]||(this[i]=E("<div>").addClass(uW)),this[i].appendTo(e)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){var e=this.$element().find(".".concat(NEe));e.attr("role","menu")}_updateSections(){var e=this.$element().find(".".concat(uW));e.removeClass(cW),e.not(":empty").eq(-1).addClass(cW)}_renderItem(e,t,n,i){var o,a=(o=t.location)!==null&&o!==void 0?o:"menu",s=this["_$".concat(a,"Section")],l=super._renderItem(e,t,s,i);return this._getItemTemplateName({itemData:t})&&l.addClass(LEe),(a==="menu"||t.widget==="dxButton"||t.widget==="dxButtonGroup"||t.isAction)&&l.addClass(NR),t.widget==="dxButton"&&l.addClass(FEe),t.widget==="dxButtonGroup"&&l.addClass(lW),l.addClass(t.cssClass),l}_getItemTemplateName(e){var t=super._getItemTemplateName(e),n=e.itemData,i=n&&n.menuItemTemplate;return i||t}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(e,t,n){E(e.target).closest(".".concat(NR)).length&&super._itemClickHandler(e,t,n)}_clean(){this._getSections().empty(),super._clean()}}var oS=5;class VEe{constructor(e){this.init(e)}init(e){var{dragEnabled:t,handle:n,draggableElement:i,positionController:o}=e;this._positionController=o,this._draggableElement=i,this._handle=n,this._dragEnabled=t,this.unsubscribe(),t&&this.subscribe()}moveDown(e){this._moveTo(oS,0,e)}moveUp(e){this._moveTo(-oS,0,e)}moveLeft(e){this._moveTo(0,-oS,e)}moveRight(e){this._moveTo(0,oS,e)}subscribe(){var e=this._getEventNames();B.on(this._handle,e.startEventName,t=>{this._dragStartHandler(t)}),B.on(this._handle,e.updateEventName,t=>{this._dragUpdateHandler(t)}),B.on(this._handle,e.endEventName,t=>{this._dragEndHandler(t)})}unsubscribe(){var e=this._getEventNames();B.off(this._handle,e.startEventName),B.off(this._handle,e.updateEventName),B.off(this._handle,e.endEventName)}_getEventNames(){var e=fe(Gh,"overlayDrag"),t=fe(td,"overlayDrag"),n=fe($h,"overlayDrag");return{startEventName:e,updateEventName:t,endEventName:n}}_dragStartHandler(e){var t=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=t.top,e.maxBottomOffset=t.bottom,e.maxLeftOffset=t.left,e.maxRightOffset=t.right}_dragUpdateHandler(e){var t={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(t),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,t,n){if(this._dragEnabled){n.preventDefault(),n.stopPropagation();var i=this._fitOffsetIntoAllowedRange(e,t);this._moveByOffset(i),this._dragEndHandler(n)}}_fitOffsetIntoAllowedRange(e,t){var n=this._getAllowedOffsets();return{top:Ni(e,-n.top,n.bottom),left:Ni(t,-n.left,n.right)}}_getContainerDimensions(){var e=ce.getDocument(),t=this._positionController.$dragResizeContainer.get(0),n=er(t),i=Vt(t);return bn(t)&&(i=Math.max(e.body.clientHeight,i),n=Math.max(e.body.clientWidth,n)),{width:n,height:i}}_getContainerPosition(){var e=this._positionController.$dragResizeContainer.get(0);return bn(e)?{top:0,left:0}:zA(e)}_getElementPosition(){return zA(this._draggableElement)}_getInnerDelta(){var e=this._getContainerDimensions(),t=this._getElementDimensions();return{x:e.width-t.width,y:e.height-t.height}}_getOuterDelta(){var{width:e,height:t}=this._getElementDimensions(),n=this._positionController.outsideDragFactor;return{x:e*n,y:t*n}}_getFullDelta(){var e=this._getInnerDelta(),t=this._getOuterDelta();return{x:e.x+t.x,y:e.y+t.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var e=this._getFullDelta(),t=e.y>=0&&e.x>=0;if(!t)return{top:0,bottom:0,left:0,right:0};var n=this._getElementPosition(),i=this._getContainerPosition(),o=this._getOuterDelta();return{top:n.top-i.top+o.y,bottom:-n.top+i.top+e.y,left:n.left-i.left+o.x,right:-n.left+i.left+e.x}}_moveByOffset(e){var t=os(this._draggableElement),n={left:t.left+e.left,top:t.top+e.top};ci(this._draggableElement,n)}}var s0="dxResizable",BEe="dx-resizable",HEe="dx-resizable-resizing",aS="dx-resizable-handle",GEe="dx-resizable-handle-top",$Ee="dx-resizable-handle-bottom",WEe="dx-resizable-handle-left",zEe="dx-resizable-handle-right",sS="dx-resizable-handle-corner",UEe=fe(Gh,s0),jEe=fe(td,s0),KEe=fe($h,s0),qEe={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},M8=jl.inherit({_getDefaultOptions:function(){return $(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass(BEe)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var r=this.option("handles");if(!(r==="none"||!r)){var e=r==="all"?["top","bottom","left","right"]:r.split(" "),t={};U(e,(n,i)=>{t[i]=!0,this._renderHandle(i)}),t.bottom&&t.right&&this._renderHandle("corner-bottom-right"),t.bottom&&t.left&&this._renderHandle("corner-bottom-left"),t.top&&t.right&&this._renderHandle("corner-top-right"),t.top&&t.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(r){var e=E("<div>").addClass(aS).addClass(aS+"-"+r).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var r={};r[UEe]=this._dragStartHandler.bind(this),r[jEe]=this._dragHandler.bind(this),r[KEe]=this._dragEndHandler.bind(this),this._handles.forEach(e=>{B.on(e,r,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(r=>{B.off(r)})},_toggleEventHandlers:function(r){r?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var r=this.$element();return r.css("boxSizing")==="border-box"?{width:er(r),height:Vt(r)}:{width:gt(r),height:Dt(r)}},_dragStartHandler:function(r){var e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *")){r.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(r),this._elementLocation=os(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(r),this._resizeStartAction({event:r,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),r.targetElements=null},_toggleResizingClass:function(r){this.$element().toggleClass(HEe,r)},_renderDragOffsets:function(r){var e=this._getArea();if(e){var t=E(r.target).closest("."+aS),n=er(t),i=Vt(t),o=t.offset(),a=e.offset,s=this._getAreaScrollOffset();r.maxLeftOffset=this._leftMaxOffset=o.left-a.left-s.scrollX,r.maxRightOffset=this._rightMaxOffset=a.left+e.width-o.left-n+s.scrollX,r.maxTopOffset=this._topMaxOffset=o.top-a.top-s.scrollY,r.maxBottomOffset=this._bottomMaxOffset=a.top+e.height-o.top-i+s.scrollY}},_getBorderWidth:function(r,e){if(bn(r.get(0)))return 0;var t=r.css(qEe[e]);return parseInt(t)||0},_proportionate:function(r,e){var t=this._elementSize,n=r==="x"?t.width/t.height:t.height/t.width;return e*n},_getProportionalDelta:function(r){var{x:e,y:t}=r,n=this._proportionate("y",e);if(n>=t)return{x:e,y:n};var i=this._proportionate("x",t);return i>=e?{x:i,y:t}:{x:0,y:0}},_getDirectionName:function(r){var e=this._movingSides;return r==="x"?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea:function(r,e){var t,n=this._getDirectionName(r);return Math.min(e,(t=this["_".concat(n,"MaxOffset")])!==null&&t!==void 0?t:1/0)},_fitDeltaProportionally:function(r){var e=b({},r),t=this._elementSize,{minWidth:n,minHeight:i,maxWidth:o,maxHeight:a}=this.option(),s=()=>t.width+e.x,l=()=>t.height+e.y,u=f=>e[f]===this._fitIntoArea(f,e[f]),c=()=>mu(s(),n,o)&&u("x"),d=()=>mu(l(),i,a)&&u("y");if(!c()){var h=this._fitIntoArea("x",Ni(s(),n,o)-t.width);e={x:h,y:this._proportionate("y",h)}}if(!d()){var p=this._fitIntoArea("y",Ni(l(),i,a)-t.height);e={x:this._proportionate("x",p),y:p}}return c()&&d()?e:{x:0,y:0}},_fitDelta:function(r){var{x:e,y:t}=r,n=this._elementSize,{minWidth:i,minHeight:o,maxWidth:a,maxHeight:s}=this.option();return{x:Ni(n.width+e,i,a)-n.width,y:Ni(n.height+t,o,s)-n.height}},_getDeltaByOffset:function(r){var e=this._movingSides,t=this._isCornerHandler(e)&&this.option("keepAspectRatio"),n={x:r.x*(e.left?-1:1),y:r.y*(e.top?-1:1)};if(t){var i=this._getProportionalDelta(n),o=this._fitDeltaProportionally(i);n=o}else{var a=this._fitDelta(n),s=this._roundByStep(a);n=s}return n},_updatePosition:function(r,e){var{width:t,height:n}=e,i=this._elementLocation,o=this._movingSides,a=this.$element(),s=this._getElementSize(),l=r.y*(o.top?-1:1)-((s.height||n)-n),u=r.x*(o.left?-1:1)-((s.width||t)-t);ci(a,{top:i.top+(o.top?l:0),left:i.left+(o.left?u:0)})},_dragHandler:function(r){var e=this._getOffset(r),t=this._getDeltaByOffset(e),n=this._updateDimensions(t);this._updatePosition(t,n),this._triggerResizeAction(r,n)},_updateDimensions:function(r){var e=u=>u.substring(u.length-2)==="px",t=this.option("stepPrecision")==="strict",n=this._elementSize,i=n.width+r.x,o=n.height+r.y,a=this.$element().get(0).style,s=r.x||t||e(a.width),l=r.y||t||e(a.height);return s&&this.option({width:i}),l&&this.option({height:o}),{width:s?i:n.width,height:l?o:n.height}},_triggerResizeAction:function(r,e){var{width:t,height:n}=e;this._resizeAction({event:r,width:this.option("width")||t,height:this.option("height")||n,handles:this._movingSides}),bl(this.$element())},_isCornerHandler:r=>Object.values(r).reduce((e,t)=>e^t,0)===0,_getOffset:function(r){var e=r.offset,t=this._movingSides;return!t.left&&!t.right&&(e.x=0),!t.top&&!t.bottom&&(e.y=0),e},_roundByStep:function(r){return this.option("stepPrecision")==="strict"?this._roundStrict(r):this._roundNotStrict(r)},_getSteps:function(){return gq(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(r){var e=this._getSteps();return{x:r.x-r.x%e.h,y:r.y-r.y%e.v}},_roundStrict:function(r){var e=this._movingSides,t={x:r.x*(e.left?-1:1),y:r.y*(e.top?-1:1)},n=this._getSteps(),i=this._elementLocation,o=this._elementSize,a=e.left?i.left:i.left+o.width,s=e.top?i.top:i.top+o.height,l=(a+t.x)%n.h,u=(s+t.y)%n.v,c=Math.sign||(m=>(m=+m,m===0||isNaN(m)?m:m>0?1:-1)),d=(m,C)=>(1+.2*c(C))%1*m,h=(m,C)=>Math.abs(m)<.2*C,p=t.x-l,f=t.y-u;l>d(n.h,t.x)&&(p+=n.h),u>d(n.v,t.y)&&(f+=n.v);var v=(e.left||e.right)&&!h(t.x,n.h)?p:0,g=(e.top||e.bottom)&&!h(t.y,n.v)?f:0;return{x:v*(e.left?-1:1),y:g*(e.top?-1:1)}},_getMovingSides:function(r){var e=E(r.target),t=e.hasClass(sS+"-top-left"),n=e.hasClass(sS+"-top-right"),i=e.hasClass(sS+"-bottom-left"),o=e.hasClass(sS+"-bottom-right");return{top:e.hasClass(GEe)||t||n,left:e.hasClass(WEe)||t||i,bottom:e.hasClass($Ee)||i||o,right:e.hasClass(zEe)||n||o}},_getArea:function(){var r=this.option("area");return Ne(r)&&(r=r.call(this)),Nt(r)?this._getAreaFromObject(r):this._getAreaFromElement(r)},_getAreaScrollOffset:function(){var r=this.option("area"),e=!Ne(r)&&!Nt(r),t={scrollY:0,scrollX:0};if(e){var n=E(r)[0];bn(n)&&(t.scrollX=n.pageXOffset,t.scrollY=n.pageYOffset)}return t},_getAreaFromObject:function(r){var e={width:r.right-r.left,height:r.bottom-r.top,offset:{left:r.left,top:r.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(r){var e=E(r),t;return e.length&&(t={width:WA(e),height:Lb(e),offset:$({top:0,left:0},bn(e[0])?{}:e.offset())},this._correctAreaGeometry(t,e)),t},_correctAreaGeometry:function(r,e){var t=e?this._getBorderWidth(e,"left"):0,n=e?this._getBorderWidth(e,"top"):0;r.offset.left+=t+this._getBorderWidth(this.$element(),"left"),r.offset.top+=n+this._getBorderWidth(this.$element(),"top"),r.width-=er(this.$element())-WA(this.$element()),r.height-=Vt(this.$element())-Lb(this.$element())},_dragEndHandler:function(r){var e=this.$element();this._resizeEndAction({event:r,width:er(e),height:Vt(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(r){this.option("width",Ni(r,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(r){this.option("height",Ni(r,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(r){switch(r.name){case"disabled":this._toggleEventHandlers(!r.value),this.callBase(r);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":yt()&&this._renderWidth(er(this.$element()));break;case"minHeight":case"maxHeight":yt()&&this._renderHeight(Vt(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(r)}},_clean:function(){this.$element().find("."+aS).remove()},_useTemplates:function(){return!1}});Kt(s0,M8);var YEe=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],kR=Rt();class XEe extends LY{constructor(e){var{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:o,outsideDragFactor:a}=e,s=se(e,YEe);super(s),this._props=b({},this._props,{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:o,outsideDragFactor:a}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer()}set outsideDragFactor(e){this._props.outsideDragFactor=e}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)ci(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,t;(e=(t=this._props).forceApplyBindings)===null||e===void 0||e.call(t),super.positionContent()}}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return E(kR);if(this._props.dragAndResizeArea)return E(this._props.dragAndResizeArea);var e=Qq().get(0)||this._props.container;return e?this._$markupContainer:E(kR)}_getVisualContainer(){return this._props.fullScreen?E(kR):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}}var QEe={setOverflow:Z,restoreOverflow:Z},ZEe=()=>{if(!yt())return QEe;var r=Rt(),e=ce.getDocument().documentElement,t=ce.getBody(),n=Ye.real().platform==="ios",i={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null},o=()=>{var s=r.innerWidth-e.clientWidth;if(!(i.paddingRight||s<=0)){var l=r.getComputedStyle(t).getPropertyValue("padding-right"),u=parseInt(l,10);i.paddingRight=u,t.style.setProperty("padding-right","".concat(u+s,"px"))}},a=()=>{L(i.paddingRight)&&(i.paddingRight?t.style.setProperty("padding-right","".concat(i.paddingRight,"px")):t.style.removeProperty("padding-right"),i.paddingRight=null)};return{setOverflow:n?()=>{if(!(L(i.position)||t.style.position==="fixed")){var{scrollY:s,scrollX:l}=r;i.position=t.style.position,i.top=t.style.top,i.left=t.style.left,t.style.setProperty("position","fixed"),t.style.setProperty("top","".concat(-s,"px")),t.style.setProperty("left","".concat(-l,"px"))}}:()=>{o(),!(i.overflow||t.style.overflow==="hidden")&&(i.overflow=t.style.overflow,i.overflowX=t.style.overflowX,i.overflowY=t.style.overflowY,t.style.setProperty("overflow","hidden"))},restoreOverflow:n?()=>{if(L(i.position)){var s=-parseInt(t.style.top,10),l=-parseInt(t.style.left,10);["position","top","left"].forEach(u=>{i[u]?t.style.setProperty(u,i[u]):t.style.removeProperty(u)}),r.scrollTo(l,s),i.position=null}}:()=>{a(),["overflow","overflowX","overflowY"].forEach(s=>{if(L(i[s])){var l=s.replace(/(X)|(Y)/,u=>"-".concat(u.toLowerCase()));i[s]?t.style.setProperty(l,i[s]):t.style.removeProperty(l),i[s]=null}})}}},JEe=Rt(),VR="dx-popup",dW="dx-popup-wrapper",exe="dx-popup-fullscreen",txe="dx-popup-fullscreen-width",rxe="dx-popup-normal",nxe="dx-popup-content",ixe="dx-popup-content-scrollable",oxe="dx-state-disabled",axe="dx-popup-draggable",hW="dx-popup-title",sxe="dx-closebutton",pW="dx-popup-bottom",lxe="dx-has-close-button",uxe="dx-template-wrapper",cxe="dx-popup-flex-height",dxe="dx-popup-inherit-height",hxe="dx-toolbar-label",fW=["cancel","clear","done"],pxe="default",fxe="normal",vxe="text",vW="contained",gxe="outlined",mxe=Gr.safari&&mY(Gr.version,[11])<0,ec={static:"",inherit:dxe,flex:cxe},_xe=r=>{var e=Ye.current(),t=e.platform,n="bottom",i="before";if(t==="ios")switch(r){case"cancel":n="top";break;case"clear":n="top",i="after";break;case"done":i="after"}else if(t==="android")switch(r){case"cancel":case"done":i="after"}return{toolbar:n,location:i}},ql=Ks.inherit({_supportedKeys:function(){return $(this.callBase(),{upArrow:r=>{var e;(e=this._drag)===null||e===void 0||e.moveUp(r)},downArrow:r=>{var e;(e=this._drag)===null||e===void 0||e.moveDown(r)},leftArrow:r=>{var e;(e=this._drag)===null||e===void 0||e.moveLeft(r)},rightArrow:r=>{var e;(e=this._drag)===null||e===void 0||e.moveRight(r)}})},_getDefaultOptions:function(){return $(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(r){return Ye.real().deviceType==="desktop"&&r.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Ma()},options:{useFlatToolbarButtons:!0}},{device:function(){return Hi()},options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){var r=this.option("_wrapperClassExternal"),e=r?"".concat(dW," ").concat(r):dW;this.callBase(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(VR),this.$wrapper().addClass(e),this._$popupContent=this._$content.wrapInner(E("<div>").addClass(nxe)).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")},_render:function(){var r=this.option("fullScreen");this._toggleFullScreenClass(r),this.callBase()},_createBodyOverflowManager:function(){this._bodyOverflowManager=ZEe()},_toggleFullScreenClass:function(r){this.$overlayContent().toggleClass(exe,r).toggleClass(rxe,!r)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new _h,bottom:new _h})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(r){this._shouldSkipContentResize(r)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var r=this.option("animation");return["to","from"].some(e=>{var t,n=r==null||(t=r.show)===null||t===void 0?void 0:t[e];return pt(n)&&("width"in n||"height"in n)})},_updateResizeCallbackSkipCondition(){var r=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=e=>r&&this._showAnimationProcessing||this._areContentDimensionsRendered(e)},_observeContentResize:function(r){if(this.option("useResizeObserver")){var e=this._$content.get(0);r?Sh.observe(e,t=>{this._contentResizeHandler(t)}):Sh.unobserve(e)}},_areContentDimensionsRendered:function(r){var e,t,n,i=(e=r.contentBoxSize)===null||e===void 0?void 0:e[0];if(i){var o,a;return parseInt(i.inlineSize,10)===((o=this._renderedDimensions)===null||o===void 0?void 0:o.width)&&parseInt(i.blockSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.height)}var s=r.contentRect;return parseInt(s.width,10)===((t=this._renderedDimensions)===null||t===void 0?void 0:t.width)&&parseInt(s.height,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.height)},_renderContent(){this.callBase(),this._observeContentResize(!0)},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var r=this._getToolbarItems("top"),{title:e,showTitle:t}=this.option();if(t&&e&&r.unshift({location:Ye.current().ios?"center":"before",text:e}),t||r.length>0){this._$title&&this._$title.remove();var n=E("<div>").addClass(hW).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",r,n).addClass(hW),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(lxe,this._hasCloseButton())}else this._$title&&this._$title.detach();this._toggleAriaLabel()},_toggleAriaLabel(){var r,{title:e,showTitle:t}=this.option(),n=t&&!!e,i=n?new dn:null;(r=this._$title)===null||r===void 0||r.find(".".concat(hxe)).eq(0).attr("id",i),this.$overlayContent().attr("aria-labelledby",i)},_renderTemplateByType:function(r,e,t,n){var{rtlEnabled:i,useDefaultToolbarButtons:o,useFlatToolbarButtons:a,disabled:s}=this.option(),l=this._getTemplateByOption(r),u=l instanceof _h;if(u){var c=$({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),d=$(n,{items:e,rtlEnabled:i,useDefaultButtons:o,useFlatButtons:a,disabled:s,integrationOptions:c});this._getTemplate("dx-polymorph-widget").render({container:t,model:{widget:this._getToolbarName(),options:d}});var h=t.children("div");return t.replaceWith(h),h}else{var p=E(l.render({container:ut(t)}));return p.hasClass(uxe)&&(t.replaceWith(p),t=p),t}},_getToolbarName:function(){return"dxToolbarBase"},_renderVisibilityAnimate:function(r){return this.callBase(r)},_hide(){return this._observeContentResize(!1),this.callBase()},_executeTitleRenderAction:function(r){this._getTitleRenderAction()({titleElement:ut(r)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(r,e,t)=>{var n=E("<div>").addClass(sxe);this._createComponent(n,gi,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),E(t).append(n)}},_getToolbarItems:function(r){var e=this.option("toolbarItems"),t=[];this._toolbarItemClasses=[];var n=Ye.current().platform,i=0;return U(e,(o,a)=>{var s=L(a.shortcut),l=s?_xe(a.shortcut):a;if(s&&n==="ios"&&i<2&&(l.toolbar="top",i++),l.toolbar=a.toolbar||l.toolbar||"top",l&&l.toolbar===r){s&&$(l,{location:a.location},this._getToolbarItemByAlias(a));var u=n==="generic";a.shortcut==="done"&&u||a.shortcut==="cancel"&&!u?t.unshift(l):t.push(l)}}),r==="top"&&this._hasCloseButton()&&t.push(this._getCloseButton()),t},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:r=>r.toLowerCase()==="done"?"OK":y_(r,!0),_getToolbarButtonStylingMode:function(r){return Zi()?r==="done"?vW:gxe:this.option("useFlatToolbarButtons")?vxe:vW},_getToolbarButtonType:function(r){return Zi()&&r==="done"||this.option("useDefaultToolbarButtons")?pxe:fxe},_getToolbarItemByAlias:function(r){var e=this,t=r.shortcut;if(!fW.includes(t))return!1;var n=$({text:J.format(this._getLocalizationKey(t)),onClick:this._createToolbarItemAction(r.onClick),integrationOptions:{},type:this._getToolbarButtonType(t),stylingMode:this._getToolbarButtonStylingMode(t)},r.options||{}),i=VR+"-"+t;return this._toolbarItemClasses.push(i),{template:function(o,a,s){var l=E("<div>").addClass(i).appendTo(s);e._createComponent(l,gi,n)}}},_createToolbarItemAction:function(r){return this._createAction(r,{afterExecute:function(e){e.component.hide()}})},_renderBottom:function(){var r=this._getToolbarItems("bottom");if(r.length){this._$bottom&&this._$bottom.remove();var e=E("<div>").addClass(pW).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",r,e,{compactMode:!0}).addClass(pW),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(r){this.callBase(...arguments),this.$content().toggleClass(oxe,!!r)},_toggleClasses:function(){var r=fW;U(r,(e,t)=>{var n=VR+"-"+t;this._toolbarItemClasses.includes(n)?(this.$wrapper().addClass(n+"-visible"),this._$bottom.addClass(n)):(this.$wrapper().removeClass(n+"-visible"),this._$bottom.removeClass(n))})},_toggleFocusClass(r,e){if(this.callBase(r,e),r&&!yve(this._zIndex)){var t=PY(this._zIndexInitValue());xP(this._zIndex),this._zIndex=t,this._$wrapper.css("zIndex",t),this._$content.css("zIndex",t)}},_toggleContentScrollClass(){var r=!this.option("preventScrollEvents");this.$content().toggleClass(ixe,r)},_getPositionControllerConfig(){var{fullScreen:r,forceApplyBindings:e,dragOutsideBoundary:t,dragAndResizeArea:n,outsideDragFactor:i}=this.option();return $({},this.callBase(),{fullScreen:r,forceApplyBindings:e,dragOutsideBoundary:t,dragAndResizeArea:n,outsideDragFactor:i})},_initPositionController(){this._positionController=new XEe(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(r){var{visible:e,useResizeObserver:t}=this.option();if(e&&yt()){var n=this._showAnimationProcessing,i=n&&!(r!=null&&r.forceStopAnimation)&&t;this._isAnimationPaused=i||void 0,this._stopAnimation(),r!=null&&r.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(r==null?void 0:r.isDimensionChange),i&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(gt(this._$content),10),height:parseInt(Dt(this._$content),10)})},_renderGeometryImpl:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;r||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){var r=this._getOptionValue("height");r==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var r=this._getDragTarget(),e=this.option("dragEnabled");if(r){var t={dragEnabled:e,handle:r.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(t):this._drag=new VEe(t),this.$overlayContent().toggleClass(axe,e)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,M8,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:r=>{this._resizeEndHandler(r),this._observeContentResize(!0)},onResize:r=>{this._setContentHeight(),this._actions.onResize(r)},onResizeStart:r=>{this._observeContentResize(!1),this._actions.onResizeStart(r)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(r){var e=this._resizable.option("width"),t=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),t&&this._setOptionWithoutOptionChange("height",t),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(r.event),this._actions.onResizeEnd(r)},_setContentHeight:function(){(this.option("forceApplyBindings")||Z)();var r=this.$overlayContent().get(0),e=this._chooseHeightStrategy(r);this.$content().css(this._getHeightCssStyles(e,r)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:function(r,e){return r===ec.flex?-e:0},_chooseHeightStrategy:function(r){var e=r.style.width==="auto"||r.style.width==="",t=ec.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||mxe?t=ec.inherit:t=ec.flex),t},_getHeightCssStyles:function(r,e){var t={},n=this._getOptionValue("maxHeight",e),i=this._getOptionValue("minHeight",e),o=this._splitPopupHeight(),a=o.header+o.footer+o.contentVerticalOffsets+o.popupVerticalOffsets+this._heightStrategyChangeOffset(r,o.popupVerticalPaddings);if(r===ec.static){if(!this._isAutoHeight()||n||i){var s=this.option("fullScreen")?Math.min(Dn(e).height,Rt().innerHeight):Dn(e).height,l=s-a;t={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var u=E(this._positionController.$visualContainer).get(0),c=Mle(n,-a,u),d=Fle(i,-a,u);t={height:"auto",minHeight:d,maxHeight:c}}return t},_setHeightClasses:function(r,e){var t="";for(var n in ec)ec[n]!==e&&(t+=" "+ec[n]);r.removeClass(t).addClass(e)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var r=this.topToolbar(),e=this.bottomToolbar();return{header:v1(r&&r.get(0)),footer:v1(e&&e.get(0)),contentVerticalOffsets:yT(this.$overlayContent().get(0),!0),popupVerticalOffsets:yT(this.$content().get(0),!0),popupVerticalPaddings:yT(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),yt()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_dispose:function(){this.callBase(),this._toggleBodyScroll(!0)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(txe,er(this.$overlayContent())===gt(JEe))},_toggleSafariScrolling(){this.option("enableBodyScroll")&&this.callBase()},_toggleBodyScroll:function(r){if(this._bodyOverflowManager){var{setOverflow:e,restoreOverflow:t}=this._bodyOverflowManager;r?t():e()}},refreshPosition:function(){this._renderPosition()},_optionChanged:function(r){var e,{value:t,name:n}=r;switch(n){case"disabled":this.callBase(r),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this.option("visible")&&this._toggleBodyScroll(t);break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),bl(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),bl(this.$overlayContent());break;case"container":if(this.callBase(r),this.option("resizeEnabled")){var i;(i=this._resizable)===null||i===void 0||i.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(r),(e=this._resizable)===null||e===void 0||e.option(n,t);break;case"onTitleRendered":this._createTitleRenderAction(t);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var o=!r.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),o&&(this._renderGeometry(),bl(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=t,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=t,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=t;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),bl(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=t,this._toggleFullScreenClass(t),this._toggleSafariScrolling(),this._renderGeometry(),bl(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;case"preventScrollEvents":this.callBase(r),this._toggleContentScrollClass();break;default:this.callBase(r)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return ut(this.$content())},$overlayContent:function(){return this._$content},getFocusableElements:function(){return this.$wrapper().find("[tabindex]").filter((r,e)=>e.getAttribute("tabindex")>=0)}});Kt("dxPopup",ql);class sN extends ql{_getDefaultOptions(){return $(super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}sN.defaultOptions=function(r){ql.defaultOptions(r)};Kt("dxPopup",sN);var Cxe="dx-dropdownmenu",yxe="dx-dropdownmenu-popup",Sxe="dx-dropdownmenu-popup-wrapper",wxe="dx-dropdownmenu-list",bxe="dx-dropdownmenu-button",Exe=10,gW=3;class xxe extends ai{_supportedKeys(){var e={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(e=this._button._supportedKeys()),$(super._supportedKeys(),e,{tab:function(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return $(super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return Ma()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass(Cxe),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new CL("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){var e=this.$element().addClass(bxe);this._button=this._createComponent(e,gi,{icon:"overflow",template:"content",stylingMode:Zi()?"text":"contained",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:t=>{this.option("opened",!this.option("opened")),this._buttonClickAction(t)}})}_toggleActiveState(e,t,n){this._button._toggleActiveState(e,t,n)}_toggleMenuVisibility(e){var t=e??!this._popup.option("visible");e&&this._renderPopup(),this._popup.toggle(t),this.setAria("expanded",t)}_renderPopup(){if(!this._$popup){this._$popup=E("<div>").appendTo(this.$element());var{rtlEnabled:e,container:t,animation:n}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(i){var{component:o}=i;o.$wrapper().addClass(Sxe).addClass(yxe)},deferRendering:!1,contentTemplate:i=>this._renderList(i),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top ".concat(e?"left":"right"),at:"bottom ".concat(e?"left":"right"),collision:"fit flip",offset:{v:gW},of:this.$element()},animation:n,onOptionChanged:i=>{var{name:o,value:a}=i;o==="visible"&&this.option("opened",a)},container:t,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:i=>this._closeOutsideDropDownHandler(i),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}_getMaxHeight(){var e=this.$element(),t=e.offset().top,n=Vt(Rt()),i=Math.max(t,n-t-Vt(e));return Math.min(n,i-gW-Exe)}_closeOutsideDropDownHandler(e){var t=!E(e.target).closest(this.$element()).length;return t}_renderList(e){var t=E(e);t.addClass(wxe),this._list=this._createComponent(t,kEe,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:n=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(n)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(e,t,n){var i;(i=this._list)===null||i===void 0||i._itemOptionChanged(e,t,n),tE(this._list,e)}_getListDataSource(){var e;return(e=this.option("dataSource"))!==null&&e!==void 0?e:this.option("items")}_setListDataSource(){var e;(e=this._list)===null||e===void 0||e.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(e){super._toggleVisibility(e),this._button.option("visible",e)}_optionChanged(e){var t,n,i,{name:o,value:a}=e;switch(o){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":(t=this._list)===null||t===void 0||t.option(o,this._getTemplate(a));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":(n=this._list)===null||n===void 0||n.option(o,a),super._optionChanged(e);break;case"onItemRendered":(i=this._list)===null||i===void 0||i.option(o,a);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(a),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(o,a);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>tE(this._list,e))}}var mW="dx-state-invisible",Ixe="dx-toolbar-menu-container",Txe="dx-toolbar-button",lS="dx-toolbar-item-auto-hide",BR="dx-toolbar-item-invisible";class Rxe{constructor(e){this._toolbar=e}_initMarkup(){jn(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var e=E("<div>").appendTo(this._overflowMenuContainer()),t=this._toolbar._createActionByOption("onItemClick"),n=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(e,xxe,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>n,onItemClick:i=>{t(i)},container:this._toolbar.option("menuContainer"),onOptionChanged:i=>{var{name:o,value:a}=i;o==="opened"&&this._toolbar.option("overflowMenuVisible",a),o==="items"&&this._updateMenuVisibility(a)}})}}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=E("<div>").appendTo(this._toolbar._$afterSection).addClass(Txe).addClass(Ixe)}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(e){var t=e??this._getMenuItems(),n=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(n)}_toggleMenuVisibility(e){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass(mW,!e)}_renderMenuItems(){jn(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){var e;return ho((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],t=>!this._toolbar._isMenuItem(t))}_getHiddenItems(){return this._toolbar._itemContainer().children(".".concat(lS,".").concat(BR)).not(".".concat(mW))}_getMenuItems(){var e,t,n=ho((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],a=>this._toolbar._isMenuItem(a)),i=this._getHiddenItems();this._restoreItems=(t=this._restoreItems)!==null&&t!==void 0?t:[];var o=[].slice.call(i).map(a=>{var s=this._toolbar._getItemData(a),l=E(a),u=l.children();return $({menuItemTemplate:()=>{this._restoreItems.push({container:l,item:u});var c=E("<div>").addClass(lS);return c.append(u)}},s)});return[...o,...n]}_hasVisibleMenuItems(e){var t=e??this._toolbar.option("items"),n=!1,i=Ar("visible"),o=Ar("locateInMenu");return U(t,function(a,s){var l=i(s,{functionsAsIs:!0}),u=o(s,{functionsAsIs:!0});(l!==!1&&(u==="auto"||u==="always")||s.location==="menu")&&(n=!0)}),n}_arrangeItems(){var e;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),U((e=this._restoreItems)!==null&&e!==void 0?e:[],function(n,i){E(i.container).append(i.item)}),this._restoreItems=[];var t=gt(this._toolbar.$element());return this._hideOverflowItems(t),t}_hideOverflowItems(e){var t,n=this._toolbar.$element().find(".".concat(lS));if(n.length){e=(t=e)!==null&&t!==void 0?t:gt(this._toolbar.$element()),E(n).removeClass(BR);for(var i=this._getItemsWidth();n.length&&e<i;){var o=n.eq(-1);o.addClass(BR),i=this._getItemsWidth(),n.splice(-1,1)}}}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",[this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(e,t,n){if((t==="disabled"||t==="options.disabled")&&this._toolbar._isMenuItem(e)){var i;(i=this._menu)===null||i===void 0||i._itemOptionChanged(e,t,n);return}this.renderMenuItems()}_renderItem(e,t){e.locateInMenu==="auto"&&t.addClass(lS)}_optionChanged(e,t){var n,i,o,a,s;switch(e){case"disabled":(n=this._menu)===null||n===void 0||n.option(e,t);break;case"overflowMenuVisible":(i=this._menu)===null||i===void 0||i.option("opened",t);break;case"onItemClick":(o=this._menu)===null||o===void 0||o.option(e,t);break;case"menuContainer":(a=this._menu)===null||a===void 0||a.option("container",t);break;case"menuItemTemplate":(s=this._menu)===null||s===void 0||s.option("itemTemplate",t)}}}var Oxe="dx-toolbar-multiline",Dxe="dx-toolbar-text-auto-hide";let F8=class extends D8{_getDefaultOptions(){return $(super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(e){e!=="height"&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass(Oxe,this._isMultiline()),this._layoutStrategy=this._isMultiline()?new Fbe(this):new Rxe(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(e,t,n,i){var o=super._renderItem(e,t,n,i);this._layoutStrategy._renderItem(t,o);var{widget:a,showText:s}=t;return a==="dxButton"&&s==="inMenu"&&o.toggleClass(Dxe),o}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(!this.$element().is(":hidden")){var e=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(e)}}_itemOptionChanged(e,t,n){this._isMenuItem(e)||super._itemOptionChanged(e,t,n),this._layoutStrategy._itemOptionChanged(e,t,n),(t==="disabled"||t==="options.disabled")&&tE(this,e),t==="location"&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>tE(this,e))}_isMenuItem(e){return e.location==="menu"||e.locateInMenu==="always"}_isToolbarItem(e){return e.location===void 0||e.locateInMenu==="never"}_optionChanged(e){var{name:t,value:n}=e;switch(this._layoutStrategy._optionChanged(t,n),t){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:super._optionChanged.apply(this,arguments)}}updateDimensions(){this._dimensionChanged()}};Kt("dxToolbar",F8);var Axe="header-panel",_W="toolbar-button",Pxe="-ariaToolbar",CW=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"];class Mxe extends NC{_getToolbarItems(){return[]}_getButtonContainer(){return E("<div>").addClass(this.addWidgetPrefix(_W))}_getToolbarButtonClass(e){var t=e?" ".concat(e):"";return this.addWidgetPrefix(_W)+t}_getToolbarOptions(){var e=this.option("toolbar"),t={toolbarOptions:{items:this._getToolbarItems(),visible:e==null?void 0:e.visible,disabled:e==null?void 0:e.disabled,onItemRendered(o){var a=o.itemData.onItemRendered;a&&a(o)}}},n=e==null?void 0:e.items;if(t.toolbarOptions.items=this._normalizeToolbarItems(t.toolbarOptions.items,n),this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!L(t.toolbarOptions.visible)){var i=t.toolbarOptions.items;t.toolbarOptions.visible=!!(i!=null&&i.length)}return t.toolbarOptions}_normalizeToolbarItems(e,t){e.forEach(s=>{if(!CW.includes(s.name))throw new Error("Default toolbar item '".concat(s.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var n={location:"after"},i=Array.isArray(t);if(!L(t))return e;i||(t=[t]);var o={};e.forEach(s=>{o[s.name]=s});var a=t.map(s=>(ft(s)&&(s={name:s}),L(s.name)&&(L(o[s.name])?s=$(!0,{},o[s.name],s):CW.includes(s.name)&&(s=b(b({},s),{visible:!1}))),$(!0,{},n,s)));return i?a:a[0]}_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix(Axe));var t=J.format(this.component.NAME+Pxe),n=E("<div>").attr("aria-label",t).appendTo(e);this._toolbar=this._createComponent(n,F8,this._toolbarOptions)}}_columnOptionChanged(){}_handleDataChanged(){this._requireReady&&this.render()}_isDisabledDefinedByUser(e){var t,n=(t=this.option("toolbar"))===null||t===void 0?void 0:t.items,i=n==null?void 0:n.find(o=>(o==null?void 0:o.name)===e);return L(i==null?void 0:i.disabled)}init(){super.init(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})}render(){this._toolbarOptions=this._getToolbarOptions(),super.render.apply(this,arguments)}setToolbarItemDisabled(e,t){var n,i=this._toolbar,o=this._isDisabledDefinedByUser(e);if(!(!i||o)){var a=(n=i.option("items"))!==null&&n!==void 0?n:[],s=a.findIndex(u=>u.name===e);if(!(s<0)){var l=i.option("items[".concat(s,"]"));i.option("items[".concat(s,"].disabled"),t),l.options&&i.option("items[".concat(s,"].options.disabled"),t)}}}updateToolbarDimensions(){var e;(e=this._toolbar)===null||e===void 0||e.updateDimensions()}getHeaderPanel(){return this.element()}getHeight(){return this.getElementHeight()}optionChanged(e){if(e.name==="onToolbarPreparing"&&(this._invalidate(),e.handled=!0),e.name==="toolbar"&&(e.handled=!0,this._toolbar)){var t=ap(e.fullName),n=e.fullName.replace(/^toolbar\./,"");if(t.length===1){var i=this._getToolbarOptions();this._toolbar.option(i)}else if(t[1]==="items")if(t.length===2){var o=this._getToolbarOptions();this._toolbar.option("items",o.items)}else if(t.length===3){var a=this._normalizeToolbarItems(this._getToolbarItems(),e.value);this._toolbar.option(n,a)}else t.length>=4&&this._toolbar.option(n,e.value);else this._toolbar.option(n,e.value)}super.optionChanged(e)}isVisible(){return!!(this._toolbarOptions&&this._toolbarOptions.visible)}allowDragging(){}hasGroupedColumns(){}}var L8={defaultOptions:()=>({}),views:{headerPanel:Mxe},extenders:{controllers:{resizing:{_updateDimensionsCore(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};L8.views.headerPanel;at.registerModule("headerPanel",L8);var Fxe=".dx-row",Lxe="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";at.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var lN=ai.inherit({_activeStateUnit:Fxe,_getDefaultOptions(){var r=this.callBase();return U(at.modules,function(){Ne(this.defaultOptions)&&$(!0,r,this.defaultOptions())}),r},_setDeprecatedOptions(){this.callBase(),$(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'},"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>Ma(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>Gr.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:r=>r.deviceType!=="desktop",options:{grouping:{expandMode:"rowClick"}}}])},_init(){this.callBase(),ye.logHeaderFilterDeprecatedWarningIfNeed(this),at.processModules(this,at),at.callModuleItemsMethod(this,"init")},_clean:Z,_optionChanged(r){at.callModuleItemsMethod(this,"optionChanged",[r]),r.handled||this.callBase(r)},_dimensionChanged(){this.updateDimensions(!0)},_visibilityChanged(r){r&&this.updateDimensions()},_initMarkup(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl(){this.getView("gridView").update()},_renderContent(){var r=this;jn(()=>{r._renderContentImpl()})},_getTemplate(r){var e=r;return ft(e)&&e.startsWith("#")&&(e=E(r),Dx.warn(Lxe)),this.callBase(e)},_dispose(){this.callBase(),at.callModuleItemsMethod(this,"dispose")},isReady(){return this.getController("data").isReady()},beginUpdate(){this.callBase(),at.callModuleItemsMethod(this,"beginUpdate")},endUpdate(){at.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController(r){return this._controllers[r]},getView(r){return this._views[r]},focus(r){this.getController("keyboardNavigation").focus(r)}});lN.registerModule=at.registerModule.bind(at);Kt("dxDataGrid",lN);var Nxe=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,kxe=function r(e){e&&U(e,(t,n)=>{if(Nt(n)||Array.isArray(n))r(n);else if(typeof n=="string"){var i=Nxe.exec(n);i&&(e[t]=new Date(Date.UTC(+i[1],+i[2]-1,+i[3],+i[4],+i[5],+i[6])))}})},Vxe=kr.ViewController.inherit(function(){var r=function(t){var n=t.type==="sessionStorage"?Yq():Rt().localStorage;if(!n)throw new Error("E1007");return n},e=function(t){return L(t.storageKey)?t.storageKey:"storage"};return{_loadState(){var t=this.option("stateStoring");if(t.type==="custom")return t.customLoad&&t.customLoad();try{return JSON.parse(r(t).getItem(e(t)))}catch(n){Ht.log("W1022","State storing",n.message)}},_saveState(t){var n=this.option("stateStoring");if(n.type==="custom"){n.customSave&&n.customSave(t);return}try{r(n).setItem(e(n),JSON.stringify(t))}catch(i){Ht.log(i.message)}},publicMethods:()=>["state"],isEnabled(){return this.option("stateStoring.enabled")},init(){var t=this;return t._state={},t._isLoaded=!1,t._isLoading=!1,t._windowUnloadHandler=function(){t._savingTimeoutID!==void 0&&t._saveState(t.state())},B.on(Rt(),"unload",t._windowUnloadHandler),t},isLoaded(){return this._isLoaded},isLoading(){return this._isLoading},load(){this._isLoading=!0;var t=ui(this._loadState());return t.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(n=>{n!==null&&!go(n)&&this.state(n)}),t},state(t){if(!arguments.length)return $(!0,{},this._state);this._state=$({},t),kxe(this._state)},save(){var t=this;clearTimeout(t._savingTimeoutID),t._savingTimeoutID=setTimeout(()=>{t._saveState(t.state()),t._savingTimeoutID=void 0},t.option("stateStoring.savingTimeout"))},optionChanged(t){switch(t.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),t.handled=!0;break;default:this.callBase(t)}},dispose(){clearTimeout(this._savingTimeoutID),B.off(Rt(),"unload",this._windowUnloadHandler)}}}());const Bxe={StateStoringController:Vxe};var Hxe=r=>{var e=r.getView("pagerView"),t=r.getController("data"),n={allowedPageSizes:e?e.getPageSizes():void 0,filterPanel:{filterEnabled:r.option("filterPanel.filterEnabled")},filterValue:r.option("filterValue"),focusedRowKey:r.option("focusedRowEnabled")?r.option("focusedRowKey"):void 0};return $(n,t.getUserState())},Gxe=r=>{var e=r.getController("columns"),t=r.getController("selection"),n=r.getController("export"),i=r.getController("data");e&&e.columnsChanged.add(()=>{r.updateState({columns:e.getUserState()})}),t&&t.selectionChanged.add(o=>{r.updateState({selectedRowKeys:o.selectedRowKeys,selectionFilter:o.selectionFilter})}),i&&(r._initialPageSize=r.option("paging.pageSize"),r._initialFilterValue=r.option("filterValue"),i.changed.add(()=>{var o=Hxe(r);r.updateState(o)})),n&&n.selectionOnlyChanged.add(()=>{r.updateState({exportSelectionOnly:n.selectionOnly()})})},$xe=null,Wxe=(r,e)=>{var t=r.getController("filterSync"),n=r.getController("columns"),i=e.columns||e.filterValue!==void 0;return t?i?e.filterValue||t.getFilterValueFromColumns(e.columns):r._initialFilterValue||t.getFilterValueFromColumns(n.getColumns()):$xe},zxe={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:Bxe.StateStoringController},extenders:{views:{rowsView:{init(){var r=this,e=r.getController("data");r.callBase(),e.stateLoaded.add(()=>{if(e.isLoaded()&&!e.getDataSource()){r.setLoading(!1),r.renderNoDataText();var t=r.component.getView("columnHeadersView");t&&t.render(),r.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init(){this.callBase.apply(this,arguments),Gxe(this)},isLoading(){return this.callBase()||this.getController("data").isStateLoading()},state(r){var e=this.callBase.apply(this,arguments);return r!==void 0&&this.applyState($(!0,{},r)),e},updateState(r){if(this.isEnabled()){var e=this.state(),t=$({},e,r),n=Vl(e),i=Vl(t);Mr(n,i)||(r=$(!0,{},r),$(this._state,r),this.save())}else $(this._state,r)},applyState(r){var e,{allowedPageSizes:t}=r,{searchText:n}=r,{selectedRowKeys:i}=r,{selectionFilter:o}=r,a=this.getController("export"),s=this.getController("columns"),l=this.getController("data"),u=this.option("scrolling.mode"),c=u==="virtual"||u==="infinite",d=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector"),h=(e=this.getView("rowsView"))===null||e===void 0?void 0:e.hasHeight();this.component.beginUpdate(),s&&s.setUserState(r.columns),a&&a.selectionOnly(r.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",i||[]),this.option("selectionFilter",o),t&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=t),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",r.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",n||""),this.option("filterValue",Wxe(this,r)),this.option("filterPanel.filterEnabled",r.filterPanel?r.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",(!c||h)&&r.pageIndex||0),this.option("paging.pageSize",(!c||d)&&L(r.pageSize)?r.pageSize:this._initialPageSize),l&&l.reset()}},columns:{_shouldReturnVisibleColumns(){var r=this.callBase.apply(this,arguments),e=this.getController("stateStoring");return r&&(!e.isEnabled()||e.isLoaded())}},data:{callbackNames(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource(){var{callBase:r}=this,e=this.getController("stateStoring");if(e.isEnabled()&&!e.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var t=new X;return this._restoreStateTimeoutID=setTimeout(()=>{e.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{r.call(this),this.stateLoaded.fire(),t.resolve()}).fail(n=>{this.stateLoaded.fire(),this._handleLoadError(n||"Unknown error"),t.reject()})}),t.promise()}this.isStateLoading()||r.call(this)},isLoading(){var r=this.getController("stateStoring");return this.callBase()||r.isLoading()},isStateLoading(){return L(this._restoreStateTimeoutID)},isLoaded(){return this.callBase()&&!this.isStateLoading()},dispose(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged(r){var e=this.getController("stateStoring"),t=this.option("selection.deferred");e.isLoading()&&t||this.callBase.apply(this,arguments)}}}}};at.registerModule("stateStoring",zxe);var N8="dx-editor-cell",Uxe="dx-row",yW="dx-selection",Id="dx-select-checkbox",jxe="dx-select-checkboxes-hidden",k8="dx-command-select",Kxe="dx-selection-disabled",V8="dx-data-row",El="selection.showCheckBoxesMode",qm="selection.mode",SW=function(r,e){var t=r.getController("selection"),n=r.getView("rowsView"),i=E(e.target).closest(".".concat(V8)),o=n.getRowIndex(i);o<0||(r.option(El)==="onLongTap"?t.isSelectionWithCheckboxes()?t.stopSelectionWithCheckboxes():t.startSelectionWithCheckboxes():(r.option(El)==="onClick"&&t.startSelectionWithCheckboxes(),r.option(El)!=="always"&&t.changeItemSelection(o,{control:!0})))},qxe=function(r,e){var t=0,n=r._dataController.store(),i=n&&n.key(),o=Array.isArray(i);if(!e.length)return!1;if(o&&Array.isArray(e[0])&&e[1]==="and"){for(var a=0;a<e.length;a++)if(Array.isArray(e[a])){if(e[a][0]!==i[t]||e[a][1]!=="=")return!0;t++}return!1}return i!==e[0]},Yxe=(r,e)=>{var{component:t}=e,n=t.getView("rowsView");t.option("renderAsync")&&!t.option("selection.deferred")&&(e.value=t.isRowSelected(e.row.key)),n.renderSelectCheckBoxContainer(E(r),e)},Xxe=(r,e)=>{var{column:t}=e,n=E(r),i=e.component.getView("columnHeadersView");n.addClass(N8),i._renderSelectAllCheckBox(n,t),i._attachSelectAllCheckBoxClickEvent(n)};class Qxe extends kr.Controller{init(){var e,{deferred:t,selectAllMode:n,mode:i}=(e=this.option("selection"))!==null&&e!==void 0?e:{};this.option("scrolling.mode")==="infinite"&&!t&&i==="multiple"&&n==="allPages"&&Ht.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=i,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(e){this._deselectRemovedOnPush(e),this._updateSelectedOnPush(e)}_deselectRemovedOnPush(e){var t=this.option("selection.deferred"),n=e.filter(o=>o.type==="remove").map(o=>o.key);if(t){var i=this._dataController.items().filter(o=>o.isSelected).map(o=>o.key);n=n.filter(o=>i.find(a=>Mr(a,o)))}n.length&&this.deselectRows(n)}_updateSelectedOnPush(e){var t=this.option("selection.deferred");if(!t){var n=e.filter(o=>o.type==="update"),i=this.getSelectedRowsData();gh({keyInfo:this._selection.options,data:i,changes:n})}}_getSelectionConfig(){var e,t=this._dataController,n=this.getController("columns"),i=(e=this.option("selection"))!==null&&e!==void 0?e:{},{deferred:o}=i,a=this.option("scrolling.mode"),s=a==="virtual"||a==="infinite",l=this.option("selection.allowSelectAll"),u=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:o,maxFilterLengthInRequest:i.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange(){var c=n.getGroupColumns().length>0;return s&&!u&&!c&&l&&!o},key:()=>t==null?void 0:t.key(),keyOf:c=>t==null?void 0:t.keyOf(c),dataFields(){var c;return(c=t.dataSource())===null||c===void 0?void 0:c.select()},load(c){var d;return((d=t.dataSource())===null||d===void 0?void 0:d.load(c))||new X().resolve([])},plainItems:()=>t.items(!0),isItemSelected:c=>c.selected,isSelectableItem:c=>(c==null?void 0:c.rowType)==="data"&&!c.isNewRow,getItemData:c=>L(c==null?void 0:c.rowType)?(c==null?void 0:c.oldData)||(c==null?void 0:c.data):c,filter:()=>t.getCombinedFilter(o),totalCount:()=>t.totalCount(),getLoadOptions(c,d,h){var p,f,{sort:v,filter:g}=(f=(p=t.dataSource())===null||p===void 0?void 0:p.lastLoadOptions())!==null&&f!==void 0?f:{},m=Math.min(c,d),C=Math.max(c,d);L(h)&&(m=Math.min(h,m),C=Math.max(h,C));var y=C-m+1;return{skip:m,take:y,filter:g,sort:v}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){var e=this.getController("columns"),t=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:t,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:k8,width:"auto",cellTemplate:Yxe,headerCellTemplate:Xxe}),e.columnOption("command:select","visible",t)}_createSelection(){var e=this._getSelectionConfig();return new _8(e)}_fireSelectionChanged(e){var t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t),e&&this.executeAction("onSelectionChanged",e)}_updateCheckboxesState(e){var{isDeferredMode:t}=e,{selectionFilter:n}=e,{selectedItemKeys:i}=e,{removedItemKeys:o}=e;this.option(El)==="onClick"&&((t?n&&qxe(this,n):i.length>1)?this.startSelectionWithCheckboxes():(t?n&&!n.length:i.length===0&&o.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(e){var t,n=this.option("selection.deferred"),i=this._selection.selectionFilter(),o=this._dataController,a=o.items(!0),s=o.items();if(a){var l=this.isSelectionWithCheckboxes(),u=this.getChangedItemIndexes(a),c=this.getChangedItemIndexes(s);this._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:i,isDeferredMode:n}),(u.length||l!==this.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:c}),n?(this.option("selectionFilter",i),t={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",e.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,t={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),this._fireSelectionChanged(t)}}getChangedItemIndexes(e){for(var t=[],n=this.option("selection.deferred"),i=0,{length:o}=e;i<o;i++){var a=e[i],s=this.isRowSelected(n?a.data:a.key);this._selection.isDataItem(a)&&a.isSelected!==s&&t.push(i)}return t}callbackNames(){return["selectionChanged"]}optionChanged(e){switch(super.optionChanged(e),e.name){case"selection":var t=this._selectionMode;if(this.init(),e.fullName!=="selection.showCheckBoxesMode"){var n=this._selectionMode,i=this.option("selectedRowKeys");t!==n&&(n==="single"?i.length>1&&(i=[i[0]]):n!=="multiple"&&(i=[])),this.selectRows(i).always(()=>{this._fireSelectionChanged()})}this.getController("columns").updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var o=e.value||[];Array.isArray(o)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!o.length)&&this.selectRows(o),e.handled=!0}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(e){return this._selection.isItemSelected(e)}isSelectColumnVisible(){return this.option(qm)==="multiple"&&(this.option(El)==="always"||this.option(El)==="onClick"||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return this.option("selection.selectAllMode")==="page"}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return this.option(El)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){var e,t=(e=this.option("selectedRowKeys"))!==null&&e!==void 0?e:[];return!this.option("selection.deferred")&&t.length?this.selectedItemKeys(t):new X().resolve().promise()}selectedItemKeys(e,t,n,i){return this._selection.selectedItemKeys(e,t,n,i)}getSelectedRowKeys(){return this._selection.getSelectedItemKeys()}selectRows(e,t){return this.selectedItemKeys(e,t)}deselectRows(e){return this.selectedItemKeys(e,!0,!0)}selectRowsByIndexes(e){var t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),U(e,function(){var i=t[this];i&&i.rowType==="data"&&n.push(i.key)}),this.selectRows(n)}getSelectedRowsData(){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(e,t,n){t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0);var i=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(i,t,n)}focusedItemIndex(e){if(L(e))this._selection._focusedItemIndex=e;else return this._selection._focusedItemIndex}isSelectionWithCheckboxes(){return this.option(qm)==="multiple"&&(this.option(El)==="always"||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){return this.option(qm)==="multiple"&&!this.isSelectionWithCheckboxes()?(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0):!1}stopSelectionWithCheckboxes(){return this._isSelectionWithCheckboxes?(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0):!1}}var Zxe={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:Qxe},extenders:{controllers:{data:{init(){var r=this.getController("selection"),e=this.option("selection.deferred");this.callBase.apply(this,arguments),e&&r._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource(){var r=this;return r.callBase().always(()=>{r.getController("selection").refresh()})},_processDataItem(r,e){var t=this.getController("selection"),n=t.isSelectColumnVisible(),i=e.isDeferredSelection=e.isDeferredSelection===void 0?this.option("selection.deferred"):e.isDeferredSelection,o=this.callBase.apply(this,arguments);if(o.isSelected=t.isRowSelected(i?o.data:o.key),n&&o.values){for(var a=0;a<e.visibleColumns.length;a++)if(e.visibleColumns[a].command==="select"){o.values[a]=o.isSelected;break}}return o},refresh(r){var e=this,t=new X;return this.callBase.apply(this,arguments).done(()=>{!r||r.selection?e.getController("selection").refresh().done(t.resolve).fail(t.reject):t.resolve()}).fail(t.reject),t.promise()},_handleDataChanged(r){this.callBase.apply(this,arguments),(!r||r.changeType==="refresh")&&!this._repaintChangesOnly&&this.getController("selection").focusedItemIndex(-1)},_applyChange(r){if(r&&r.changeType==="updateSelection"){r.items.forEach((e,t)=>{var n=this._items[t];n&&(n.isSelected=e.isSelected,n.values=e.values)});return}return this.callBase.apply(this,arguments)},_endUpdateCore(){var r=this._changes,e=r.length>1&&r.every(n=>n.changeType==="updateSelection");if(e){var t=r.map(n=>n.itemIndexes||[]).reduce((n,i)=>n.concat(i));this._changes=[{changeType:"updateSelection",itemIndexes:t}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared(r){var e=r.event;e.originalEvent&&e.originalEvent.type!=="dxhold"||r.items&&r.items.length>0||SW(this,e)}}},views:{columnHeadersView:{init(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue(){var r=this.element(),e=r&&r.find(".".concat(Id));if(r&&e.length&&this.option("selection.mode")==="multiple"){var t=this.getController("selection").isSelectAll(),n=t!==!1,i=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():n;e.dxCheckBox("instance").option({visible:i,value:t})}},_handleDataChanged(r){this.callBase(r),(!r||r.changeType==="refresh"||r.repaintChangesOnly&&r.changeType==="update")&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})},_renderSelectAllCheckBox(r,e){var t=this,n=t.getController("selection"),i=t.getController("data").isEmpty(),o=E("<div>").appendTo(r).addClass(Id);return t.setAria("label",J.format("dxDataGrid-ariaSelectAll"),o),t.getController("editorFactory").createEditor(o,$({},e,{parentType:"headerRow",dataType:"boolean",value:n.isSelectAll(),editorOptions:{visible:!i&&(t.option("selection.allowSelectAll")||n.isSelectAll()!==!1)},tabIndex:t.option("useLegacyKeyboardNavigation")?-1:t.option("tabIndex")||0,setValue(a,s){var l=t.option("selection.allowSelectAll");s.component.option("visible",l||s.component.option("value")!==!1),!(!s.event||n.isSelectAll()===a)&&(s.value&&!l?s.component.option("value",!1):s.value?n.selectAll():n.deselectAll(),s.event.preventDefault())}})),o},_attachSelectAllCheckBoxClickEvent(r){B.on(r,sr,this.createAction(e=>{var{event:t}=e;E(t.target).closest(".".concat(Id)).length||B.trigger(E(t.currentTarget).children(".".concat(Id)),sr),t.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer(r,e){e.rowType==="data"&&!e.row.isNewRow?(r.addClass(N8),this._attachCheckBoxClickEvent(r),this._renderSelectCheckBox(r,e)):ye.setEmptyText(r)},_renderSelectCheckBox(r,e){var t=E("<div>").addClass(Id).appendTo(r);return this.setAria("label",J.format("dxDataGrid-ariaSelectRow"),t),this.getController("editorFactory").createEditor(t,$({},e.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:e.value,setValue(n,i){var o;((o=i==null?void 0:i.event)===null||o===void 0?void 0:o.type)==="keydown"&&B.trigger(i.element,sr,i)},row:e.row})),t},_attachCheckBoxClickEvent(r){B.on(r,sr,this.createAction(function(e){var t=this.getController("selection"),{event:n}=e,i=this.getRowIndex(E(n.currentTarget).closest(".".concat(Uxe)));i>=0&&(t.startSelectionWithCheckboxes(),t.changeItemSelection(i,{shift:n.shiftKey}),E(n.target).closest(".".concat(Id)).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[i]}))}))},_update(r){var e=this,t=e.getTableElements();r.changeType==="updateSelection"?t.length>0&&(U(t,(n,i)=>{U(r.itemIndexes||[],(o,a)=>{var s;if(r.items[a]&&(s=e._getRowElements(E(i)).eq(a),s.length)){var{isSelected:l}=r.items[a];s.toggleClass(yW,l===void 0?!1:l).find(".".concat(Id)).dxCheckBox("option","value",l),e.setAria("selected",l,s)}})}),e._updateCheckboxesClass()):e.callBase(r)},_createTable(){var r=this,e=r.option("selection.mode"),t=r.callBase.apply(r,arguments);return e!=="none"&&((r.option(El)==="onLongTap"||!Vh)&&B.on(t,fe(rd.name,"dxDataGridRowsView"),".".concat(V8),r.createAction(n=>{SW(r.component,n.event),n.event.stopPropagation()})),B.on(t,"mousedown selectstart",r.createAction(n=>{var{event:i}=n;i.shiftKey&&i.preventDefault()}))),t},_createRow(r){var e=this.callBase.apply(this,arguments);if(r){var{isSelected:t}=r;t&&e.addClass(yW);var n=this.option(qm);n!=="none"&&this.setAria("selected",t,e)}return e},_rowClick(r){var e=r.event,t=E(e.target).closest(".".concat(Kxe)).length;this.isClickableElement(E(e.target))||(!t&&(this.option(qm)!=="multiple"||this.option(El)!=="always")&&this.getController("selection").changeItemSelection(r.rowIndex,{control:ii(e),shift:e.shiftKey})&&(e.preventDefault(),r.handled=!0),this.callBase(r))},isClickableElement(r){var e=r.closest(".".concat(k8)).length;return!!e},_renderCore(r){var e=this.callBase(r);return this._updateCheckboxesClass(),e},_updateCheckboxesClass(){var r=this.getTableElements(),e=this.getController("selection"),t=e.isSelectColumnVisible()&&!e.isSelectionWithCheckboxes();U(r,(n,i)=>{E(i).toggleClass(jxe,t)})}}}}};at.registerModule("selection",Zxe);function Jxe(r,e){var t,n,i=(t=(n=r.getRootNode)===null||n===void 0?void 0:n.call(r))!==null&&t!==void 0?t:document;return i.querySelector(e)}var wW="dx-invalid-message-auto",bW="dx-validation-target";let uN=class extends KC{getProps(){var e=super.getProps();return e.onFocusIn=()=>{var t=this.option("validationMessageMode")==="auto";if(t){var n=E(Jxe(this.element(),".dx-invalid-message.dx-overlay-wrapper"));n==null||n.removeClass(wW),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n==null||n.addClass(wW)},150)}},e.saveValueChangeEvent=t=>{this._valueChangeEventInstance=t},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=ar(),on(this.$element()[0],bW,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_init(){super._init(),this._initialValue=this.option("value")}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(yr.initValidationOptions(e))}_getDefaultOptions(){return $(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,t){var n=$({},e.option()),i=()=>this._silent(t,n);i(),e.on("optionChanged",i)}_raiseValidation(e,t){var n=!L(e)&&!L(t);e!==t&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,t){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:t,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){var{name:t,previousValue:n,value:i}=e;switch(t&&this._getActionConfigs()[t]!==void 0&&this._addAction(t),t){case"value":this._raiseValidation(i,n),this.option("isDirty",this._initialValue!==i),this._raiseValueChangeAction(i,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(yr.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}clear(){var{value:e}=this._getDefaultOptions();this.option({value:e})}reset(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this.option("value",this._initialValue),this.option("isDirty",!1),this.option("isValid",!0)}_dispose(){super._dispose(),on(this.element(),bW,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}};var e0e=qs.isEditor,B8=r=>e0e(r)||r instanceof uN;uN.isEditor=B8;qs.isEditor=B8;let t0e=class extends uN{_useTemplates(){return!1}_isFocused(){var e=this.$element()[0];return e.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var e=super.getProps();return e.value!==null&&(e.value=!!e.value),e}};var r0e=["dataSource","selectedRowKeys"],n0e={integrationOptions:!0};function pg(r,e,t){return{path:r,value:e,previousValue:t}}function EW(r,e,t,n,i,o){if(!n0e[n]){var a=Aa(e),s=Aa(t);if(e!==t)if(a!==s)r.push(pg(n,t,e));else if(a==="object")if(!Nt(t))r.push(pg(n,t,e));else{var l=xW(e,t,i,o);r.push(...l.map(d=>b({},d,{path:"".concat(n,".").concat(d.path)})))}else if(a==="array"){var u=o.some(d=>i.includes(d));if(u&&e!==t)r.push(pg(n,t,e));else if(e.length!==t.length)r.push(pg(n,t,e));else{var c=xW(e,t,i,o);[].push.apply(r,c.map(d=>b({},d,{path:"".concat(n).concat(d.path)})))}}else r.push(pg(n,t,e))}}var H8=r=>(e,t,n,i)=>{var o=[],a=Array.isArray(e)?s=>{EW(o,e[s],t[s],"[".concat(s,"]"),"".concat(n,".").concat(s),i)}:s=>{EW(o,e[s],t[s],s,"".concat(n,".").concat(s),i)};return r(e).forEach(a),Object.keys(t).filter(s=>!Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==t[s]).forEach(s=>{o.push({path:s,value:t[s],previousValue:e[s]})}),o},xW=H8(r=>Object.keys(r)),i0e={key:!0,ref:!0,children:!0,style:!0},o0e=H8(r=>Object.keys(r).filter(e=>!i0e[e]));function a0e(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r0e;return o0e(r,e,"",t)}var s0e=["valueChange"],l0e=["componentProps","componentType","templateNames"],G8=r=>Object.keys(r).reduce((e,t)=>(r[t]!==void 0&&(e[t]=r[t]),e),{}),u0e=r=>{var{props:{componentProps:{className:e}},restAttributes:t,widgetRef:n}=r;return G8(Tn(1,"div",e,null,1,b({},t),null,n))},c0e={};class l0 extends Kl{constructor(e){super(e),this.state={},this.widgetRef=pi(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return this.context[Si.id]?this.context[Si.id]:Si.defaultValue}createEffects(){return[new Zr(this.setupWidget,[]),new Zr(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var e;(e=this._effects[1])===null||e===void 0||e.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var e=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=e,()=>{e.dispose(),this.instance=null}}updateWidget(){var e=this.getInstance();if(e){var t=a0e(this.prevProps||{},this.properties);t.length&&(e.beginUpdate(),t.forEach(n=>{var{path:i,value:o}=n;e.option(i,o)}),e.endUpdate()),this.prevProps=this.properties}}get properties(){var e,t=G8(this.props.componentProps),{valueChange:n}=t,i=se(t,s0e),o=b({rtlEnabled:!!((e=this.config)!==null&&e!==void 0&&e.rtlEnabled),isRenovated:!0},i);n&&(o.onValueChanged=s=>{var{value:l}=s;return n(l)});var a=this.props.templateNames;return a.forEach(s=>{Sye(s,o)&&(o[s]=(l,u,c)=>{yye(this.props.componentProps[s],{item:l,index:u,container:c})})}),o}get restAttributes(){var e=this.props,t=se(e,l0e);return t}getInstance(){return this.instance}render(){var e=this.props;return u0e({props:b({},e),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}l0.defaultProps=c0e;var d0e=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],h0e=r=>{var{componentProps:e,restAttributes:t}=r;return Jo($r(2,l0,b({componentType:BL,componentProps:e,templateNames:[]},t)))},p0e=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(n0),Object.getOwnPropertyDescriptors({mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0})));class $8 extends Cs{constructor(e){super(e),this.state={}}get componentProps(){return this.props}get restAttributes(){var e=this.props,t=se(e,d0e);return t}render(){var e=this.props;return h0e({props:b({},e),componentProps:this.componentProps,restAttributes:this.restAttributes})}}$8.defaultProps=p0e;var f0e=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],v0e=r=>{var{classes:e,isValid:t,readOnly:n}=r,i={"dx-state-readonly":!!n,"dx-invalid":!t,["".concat(e)]:!!e};return as(i)},g0e=r=>{var{aria:e,cssClasses:t,isValidationMessageVisible:n,onFocusIn:i,props:{accessKey:o,activeStateEnabled:a,children:s,className:l,disabled:u,focusStateEnabled:c,height:d,hint:h,hoverStateEnabled:p,onClick:f,onKeyDown:v,rtlEnabled:g,tabIndex:m,validationMessageMode:C,validationMessagePosition:y,visible:w,width:T},restAttributes:S,rootElementRef:x,validationErrors:I,validationMessageGuid:R,validationMessageTarget:D,widgetRef:A}=r;return Jo($r(2,i0,b({rootElementRef:x,aria:e,classes:t,activeStateEnabled:a,focusStateEnabled:c,hoverStateEnabled:p,accessKey:o,className:l,rtlEnabled:g,hint:h,disabled:u,height:d,width:T,onFocusIn:i,onClick:f,onKeyDown:v,tabIndex:m,visible:w},S,{children:Ku([s,n&&$r(2,$8,{validationErrors:I,mode:C,positionSide:y,rtlEnabled:g,target:D,boundary:D,visualContainer:D,contentId:R})],0)}),null,A))},Ln=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(n0),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,isDirty:!1,inputAttr:Object.freeze({}),defaultValue:null,valueChange:()=>{}}))),m0e={get readOnly(){return Ln.readOnly},get name(){return Ln.name},get validationError(){return Ln.validationError},get validationErrors(){return Ln.validationErrors},get validationMessageMode(){return Ln.validationMessageMode},get validationMessagePosition(){return Ln.validationMessagePosition},get validationStatus(){return Ln.validationStatus},get isValid(){return Ln.isValid},get isDirty(){return Ln.isDirty},get inputAttr(){return Ln.inputAttr},get defaultValue(){return Ln.defaultValue},get valueChange(){return Ln.valueChange},get className(){return Ln.className},get activeStateEnabled(){return Ln.activeStateEnabled},get disabled(){return Ln.disabled},get focusStateEnabled(){return Ln.focusStateEnabled},get hoverStateEnabled(){return Ln.hoverStateEnabled},get tabIndex(){return Ln.tabIndex},get visible(){return Ln.visible},get aria(){return Jb.aria},get classes(){return Jb.classes}};class W8 extends UC{constructor(e){super(e),this.widgetRef=pi(),this.rootElementRef=pi(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new dn),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new Zr(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),jC()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(e=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){var{onFocusIn:t}=this.props;t==null||t(e)}get cssClasses(){return"".concat(v0e(b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var e,{isValid:t,validationStatus:n}=this.props,i=(e=this.validationErrors)!==null&&e!==void 0?e:[],o=t&&n!=="invalid";return!o&&i.length>0}get aria(){var{isValid:e,readOnly:t}=this.props,n={readonly:t?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),b({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:e,validationErrors:t}=this.props,n=t&&[...t];return!n&&e&&(n=[b({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){var e=b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),t=se(e,f0e);return t}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e,t,n){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var e=this.props;return g0e({props:b({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}}W8.defaultProps=m0e;function z8(r){var e,t=Rt();return r?(e=t.getComputedStyle)===null||e===void 0?void 0:e.call(t,r):null}var _0e=[[22,16],[18,16]],C0e=[[[12,8],[20,18]],[[16,10],[16,14]]];function U8(){var r=mo();return{isMaterialTheme:Hi(r),isCompactTheme:ope(r)}}function y0e(){var{isCompactTheme:r,isMaterialTheme:e}=U8();return _0e[+e][+r]}function S0e(r){var{isCompactTheme:e,isMaterialTheme:t}=U8();return C0e[+r][+t][+e]}function w0e(r,e){var t=S0e(e),n=y0e(),i=t/n;return Math.ceil(i*r)}var b0e=["isChecked","size"],E0e=r=>{var{cssStyles:e,elementRef:t}=r;return Tn(1,"span","dx-checkbox-icon",null,1,{style:qL(e)},null,t)},x0e={isChecked:!1};let j8=class extends Kl{constructor(e){super(e),this.state={},this.elementRef=pi(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new Zr(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:e,size:t}=this.props;if(yt()&&t){var n=this.getIconSize(t),i=w0e(n,e);this.setIconFontSize(i)}}setIconFontSize(e){var t=this.elementRef.current;t.style.fontSize="".concat(e,"px")}getIconSize(e){return Tr(e)?e:e.endsWith("px")?parseInt(e,10):this.getComputedIconSize()}getComputedIconSize(){var e=this.elementRef.current,t=z8(e),n=parseInt(t==null?void 0:t.width,10);return n}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:e}=this.props,t=tv("width",e),n=tv("height",e);return{height:n,width:t}})()}get restAttributes(){var e=this.props,t=se(e,b0e);return t}componentWillUpdate(e,t,n){super.componentWillUpdate(),this.props.size!==e.size&&(this.__getterCache.cssStyles=void 0)}render(){var e=this.props;return E0e({props:b({},e),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}};j8.defaultProps=x0e;var I0e=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],T0e=r=>{var{text:e,value:t}=r,n=t,i=n===null,o={"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":i};return as(o)},R0e=r=>{var{aria:e,cssClasses:t,editorRef:n,keyDown:i,onWidgetClick:o,props:{accessKey:a,activeStateEnabled:s,className:l,disabled:u,focusStateEnabled:c,height:d,hint:h,hoverStateEnabled:p,iconSize:f,isValid:v,name:g,onFocusIn:m,readOnly:C,rtlEnabled:y,tabIndex:w,text:T,validationError:S,validationErrors:x,validationMessageMode:I,validationMessagePosition:R,validationStatus:D,value:A,visible:V,width:F},restAttributes:P}=r;return Jo($r(2,W8,b({aria:e,classes:t,onClick:o,onKeyDown:i,accessKey:a,activeStateEnabled:s,focusStateEnabled:c,hoverStateEnabled:p,className:l,disabled:u,readOnly:C,hint:h,height:d,width:F,rtlEnabled:y,tabIndex:w,visible:V,validationError:S,validationErrors:x,validationMessageMode:I,validationMessagePosition:R,validationStatus:D,isValid:v,onFocusIn:m},P,{children:Ku([Jo(Tn(64,"input",null,null,1,b({type:"hidden",value:"".concat(A)},g&&{name:g}))),Tn(1,"div","dx-checkbox-container",[$r(2,j8,{size:f,isChecked:A===!0}),T&&Tn(1,"span","dx-checkbox-text",T,0)],0)],4)}),null,n))},$n=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(Ln),Object.getOwnPropertyDescriptors({text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),O0e={get text(){return $n.text},get enableThreeStateBehavior(){return $n.enableThreeStateBehavior},get activeStateEnabled(){return $n.activeStateEnabled},get hoverStateEnabled(){return $n.hoverStateEnabled},get focusStateEnabled(){return $n.focusStateEnabled},get defaultValue(){return $n.defaultValue},get valueChange(){return $n.valueChange},get readOnly(){return $n.readOnly},get name(){return $n.name},get validationError(){return $n.validationError},get validationErrors(){return $n.validationErrors},get validationMessageMode(){return $n.validationMessageMode},get validationMessagePosition(){return $n.validationMessagePosition},get validationStatus(){return $n.validationStatus},get isValid(){return $n.isValid},get isDirty(){return $n.isDirty},get inputAttr(){return $n.inputAttr},get className(){return $n.className},get disabled(){return $n.disabled},get tabIndex(){return $n.tabIndex},get visible(){return $n.visible},get aria(){return Jb.aria}};let rE=class extends UC{constructor(e){super(e),this.editorRef=pi(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[jC()]}onWidgetClick(e){var{enableThreeStateBehavior:t,readOnly:n,saveValueChangeEvent:i}=this.props;if(!n)if(i==null||i(e),t){var o;this.setState(s=>(o=(this.props.value!==void 0?this.props.value:s.value)===null||((this.props.value!==void 0?this.props.value:s.value)?!1:null),{value:o})),this.props.valueChange(o)}else{var a;this.setState(s=>{var l;return a=!((l=this.props.value!==void 0?this.props.value:s.value)!==null&&l!==void 0&&l),{value:a}}),this.props.valueChange(a)}}keyDown(e){var{onKeyDown:t}=this.props,{keyName:n,originalEvent:i,which:o}=e,a=t==null?void 0:t(e);if(a!=null&&a.cancel)return a;(n==="space"||o==="space")&&(i.preventDefault(),this.onWidgetClick(i))}get cssClasses(){return T0e(b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,t=(this.props.value!==void 0?this.props.value:this.state.value)===null,n={role:"checkbox",checked:t?"mixed":"".concat(e)};return b({},n,this.props.aria)}get restAttributes(){var e=b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),t=se(e,I0e);return t}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var e=this.props;return R0e({props:b({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}};function D0e(r){var e=["value"];return Object.keys(r).reduce((t,n)=>{var i=r[n],o=e.some(a=>a===n)?"default"+n.charAt(0).toUpperCase()+n.slice(1):n;return t[o]=i,t},{})}rE.defaultProps=O0e;var IW=[];function A0e(r){IW.push(r),rE.defaultProps=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(rE.defaultProps),Object.getOwnPropertyDescriptors(D0e(nv(IW)))))}class Uh extends t0e{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","isDirty","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return rE}}Kt("dxCheckBox",Uh);Uh.defaultOptions=A0e;var Ba="dx-treeview",ao="".concat(Ba,"-node"),eu="".concat(ao,"-container"),HR="".concat(ao,"-loadindicator"),tc="".concat(ao,"-container-opened"),fg="".concat(ao,"-is-leaf"),Pi="".concat(Ba,"-item"),P0e="".concat(Pi,"-with-checkbox"),M0e="".concat(Pi,"-with-custom-expander-icon"),F0e="".concat(Ba,"-custom-expander-icon-item-container"),L0e="".concat(Pi,"-without-checkbox"),N0e="".concat(Pi,"-data"),vg="".concat(Ba,"-toggle-item-visibility"),GR="".concat(Ba,"-custom-collapse-icon"),$R="".concat(Ba,"-custom-expand-icon"),k0e="".concat(Ba,"-loadindicator"),V0e="".concat(Ba,"-loadindicator-wrapper"),TW="".concat(Ba,"-toggle-item-visibility-opened"),uS="".concat(Ba,"-select-all-item"),RW="dx-state-invisible",gg="dx-state-disabled",B0e="dx-state-selected",WR="dxTreeView_expand",cS="data-item-id",H0e="dx-item-url",OW="dx-checkbox",G0e="dx-checkbox-icon",$0e="".concat(Ba,"-root-node"),W0e="".concat(Ba,"-expander-icon-stub"),z0e=C8.inherit({_supportedKeys:function(r){var e=i=>{var o=E(this.option("focusedElement"));if(o.length){i.target=o,i.currentTarget=o,this._itemClickHandler(i,o.children("."+Pi));var a=this._getEventNameByOption(this.option("expandEvent")),s=a===fe(sr,WR);s&&this._expandEventHandler(i)}},t=i=>{i.preventDefault();var o=E(this.option("focusedElement")),a=this._getCheckBoxInstance(o);if(!a.option("disabled")){var s=a.option("value");this._updateItemSelection(!s,o.find("."+Pi).get(0),!0)}},n=function(i,o){if(this.option("expandAllEnabled")){o.preventDefault();var a=E(this.option("focusedElement"));if(a.length){var s=this._getItemData(a.find(".".concat(Pi)));this._toggleExpandedNestedItems([s],i)}}};return $(this.callBase(),{enter:this._showCheckboxes()?t:e,space:this._showCheckboxes()?t:e,asterisk:n.bind(this,!0),minus:n.bind(this,!1)})},_toggleExpandedNestedItems:function(r,e){if(r)for(var t=0,n=r.length;t<n;t++){var i=r[t],o=this._dataAdapter.getNodeByItem(i);this._toggleExpandedState(o,e),this._toggleExpandedNestedItems(i.items,e)}},_getNodeElement:function(r,e){var t=this._encodeString(r.internalFields.key);if(e)return e.$nodeByKey||(e.$nodeByKey={},this.$element().find(".".concat(ao)).each(function(){var i=E(this),o=i.attr(cS);e.$nodeByKey[o]=i})),e.$nodeByKey[t]||E();var n=this.$element().get(0).querySelector("[".concat(cS,'="').concat(t,'"]'));return E(n)},_activeStateUnit:"."+Pi,_widgetClass:function(){return Ba},_getDefaultOptions:function(){var r=$(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:J.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return $(!0,r,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Bh},options:{useNativeScrolling:!1}}])},_initSelectedItems:Z,_syncSelectionOptions:mq,_fireSelectionChanged:function(){var r=this._selectionChangePromise;$e(r).done((function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}).bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(r){this._selectAllValueChangedAction({value:r})},_checkBoxModeChange:function(r,e){var t=this.option("searchEnabled"),n=this._selectAllEnabled(e),i=this._itemContainer(t,n);if(this._detachClickEvent(i),this._detachExpandEvent(i),!(e==="none"||r==="none")){var o=this._$selectAllItem&&this._$selectAllItem.length;switch(r){case"selectAll":o||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":o&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}},_removeSelection:function(){var r=this;U(this._dataAdapter.getFullData(),function(e,t){r._hasChildren(t)&&r._dataAdapter.toggleSelection(t.internalFields.key,!1,!0)})},_optionChanged:function(r){var{name:e,value:t,previousValue:n}=r;switch(e){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",t);break;case"showCheckBoxesMode":this._checkBoxModeChange(t,n),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",t);break;case"useNativeScrolling":this.getScrollable().option("useNative",t);break;case"items":delete this._$selectAllItem,this.callBase(r);break;case"dataSource":this.callBase(r),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._attachExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(r);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",r.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:this.callBase(r)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done((function(r){r&&r.length&&this.option("items",r)}).bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var r=this._filter;r.custom||(r.custom=this._dataSource.filter()),r.internal||(r.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return Ne(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(r){var e=this.option("createChildren").call(this,r);return Array.isArray(e)?new X().resolve(e).promise():e&&Ne(e.then)?ui(e):new X().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(r){var e=this.option("items");this._initialized&&this._isVirtualMode()&&e.length||this.option("items",r)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=E("<div>").addClass(k0e),this._createComponent(this._treeViewLoadIndicator,Ra,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(r){var e;if(this._isVirtualMode()&&(e=this._combineFilter(),this._dataSource.filter(e)),r&&!this._dataSource.isLoaded()){this.option("items",[]);var t=E("<div>").addClass(V0e);this._createTreeViewLoadIndicator().appendTo(t),this.itemsContainer().append(t),this._isVirtualMode()&&this._dataSource.filter()!==e&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",r=>{this.option().items=this.option("items").concat(r),this._dataAdapter.addItem(r),this._dataAdapter.isFiltered(r)&&this._updateLevel(this._parentIdGetter(r))}).on("removed",r=>{var e=this._dataAdapter.getNodeByKey(r);L(e)&&(this.option("items")[this._dataAdapter.getIndexByKey(e.internalFields.key)]=0,this._markChildrenItemsToRemove(e),this._removeItems(),this._dataAdapter.removeItem(r),this._updateLevel(this._parentIdGetter(e)))})},_markChildrenItemsToRemove:function(r){var e=r.internalFields.childrenKeys;U(e,(t,n)=>{this.option("items")[this._dataAdapter.getIndexByKey(n)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(n))})},_removeItems:function(){var r=$(!0,[],this.option("items")),e=0;U(r,(t,n)=>{n||(this.option("items").splice(t-e,1),e++)})},_updateLevel:function(r){var e=this._getContainerByParentKey(r);this._renderItems(e,this._dataAdapter.getChildrenNodes(r))},_getOldContainer:function(r){if(r.length)return r.children(".".concat(eu));var e=this.getScrollable();return e?E(e.content()).children():E()},_getContainerByParentKey:function(r){var e=this._dataAdapter.getNodeByKey(r),t=e?this._getNodeElement(e):[];this._getOldContainer(t).remove();var n=this._renderNodeContainer(t);if(this._isRootLevel(r)){var i=this.getScrollable();i||this._renderScrollableContainer(),E(i.content()).append(n)}return n},_isRootLevel:function(r){return r===this.option("rootValue")},_getAccessors:function(){var r=this.callBase();return r.push("hasItems"),r},_getDataAdapterOptions:function(){var r,e,t;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort(),langParams:(r=this._dataSource)===null||r===void 0||(e=r.loadOptions)===null||e===void 0||(t=e.call(r))===null||t===void 0?void 0:t.langParams}},_initMarkup(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this._setAriaRole()},_setAriaRole(){var{items:r}=this.option();r!=null&&r.length&&this.setAria({role:"tree"})},_renderContentImpl:function(){var r=this._renderNodeContainer();E(this.getScrollable().content()).append(r),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(r,this._dataAdapter.getRootNodes()),this._attachExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(r)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var r=this.getDataSource(),e=r&&!r.isLoaded()||this._skipContentReadyAndItemExpanded,t=this.getScrollable();t&&yt()&&t.update(),e||this.callBase(),t&&yt()&&t.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent(E("<div>").appendTo(this.$element()),Oa,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(r){var e=E("<ul>").addClass(eu);if(this.setAria("role","group",e),r&&r.length){var t=this._getItemData(r.children("."+Pi));this._expandedGetter(t)&&e.addClass(tc),e.appendTo(r)}return e},_createDOMElement:function(r,e){var t,n,i=E("<li>").addClass(ao).attr(cS,this._encodeString(e.internalFields.key)).prependTo(r),o={role:"treeitem",label:this._displayGetter(e.internalFields.item)||"",level:this._getLevel(r)},a=!!(e!=null&&(t=e.internalFields)!==null&&t!==void 0&&(n=t.childrenKeys)!==null&&n!==void 0&&n.length);return a&&(o.expanded=e.internalFields.expanded||!1),this.setAria(o,i),i},_getLevel:function(r){var e=r.parent();return e.hasClass("dx-scrollable-content")?1:parseInt(e.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_hasCustomExpanderIcons:function(){return this.option("expandIcon")||this.option("collapseIcon")},_selectAllEnabled:function(r){var e=r??this.option("showCheckBoxesMode");return e==="selectAll"&&!this._isSingleSelection()},_renderItems:function(r,e){for(var t=e.length-1,n=t;n>=0;n--)this._renderItem(n,e[n],r);this._renderedItemsCount+=e.length},_renderItem:function(r,e,t){var n=this._createDOMElement(t,e),i=e.internalFields,o=this._showCheckboxes();n.addClass(o?P0e:L0e),n.toggleClass(RW,i.item.visible===!1),this._hasCustomExpanderIcons()&&(n.addClass(M0e),t.addClass(F0e)),this.setAria("selected",i.selected,n),this._toggleSelectedClass(n,i.selected),i.disabled&&this.setAria("disabled",i.disabled,n),this.callBase(this._renderedItemsCount+r,i.item,n);var a=this._getNode(e.internalFields.parentKey);a||n.addClass($0e),i.item.visible!==!1&&this._renderChildren(n,e)},_setAriaSelectionAttribute:Z,_renderChildren:function(r,e){if(!this._hasChildren(e)){this._addLeafClass(r),E("<div>").addClass(W0e).appendTo(this._getItem(r));return}this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(r,e):this._renderDefaultExpanderIcons(r,e),this._shouldRenderSublevel(e.internalFields.expanded)&&this._loadSublevel(e).done(t=>{this._renderSublevel(r,this._getActualNode(e),t)})},_shouldRenderSublevel:function(r){return r||!this.option("deferRendering")},_getActualNode:function(r){return this._dataAdapter.getNodeByKey(r.internalFields.key)},_hasChildren:function(r){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(r.internalFields.item)!==!1:this.callBase(r)},_loadSublevel:function(r){var e=new X,t=this._getChildNodes(r);return t.length?e.resolve(t):this._loadNestedItems(r).done(n=>{e.resolve(this._dataAdapter.getNodesByItems(n))}),e.promise()},_getItemExtraPropNames:()=>["url","linkAttr"],_addContent:function(r,e){var{html:t,url:n}=e;if(n){r.html(t);var i=this._getLinkContainer(this._getIconContainer(e),this._getTextContainer(e),e);r.append(i)}else this.callBase(r,e)},_postprocessRenderItem(r){var{itemData:e,itemElement:t}=r;this._showCheckboxes()&&this._renderCheckBox(t,this._getNode(e)),this.callBase(r)},_renderSublevel:function(r,e,t){var n=this._renderNodeContainer(r,e),i=t.filter(a=>e.internalFields.childrenKeys.indexOf(a.internalFields.key)!==-1);if(this._renderItems(n,i),i.length&&!e.internalFields.selected){var o=i[0];this._updateParentsState(o,this._getNodeElement(o))}this._normalizeIconState(r,i.length),e.internalFields.expanded&&n.addClass(tc)},_executeItemRenderAction:function(r,e,t){var n=this._getNode(t);this._getItemRenderAction()({itemElement:t,itemIndex:r,itemData:e,node:this._dataAdapter.getPublicNode(n)})},_addLeafClass:function(r){r.addClass(fg)},_expandEventHandler:function(r){var e=E(r.currentTarget.parentNode);e.hasClass(fg)||this._toggleExpandedState(r.currentTarget,void 0,r)},_attachExpandEvent:function(){var r=this._getEventNameByOption(this.option("expandEvent")),e=this._itemContainer();this._detachExpandEvent(e),B.on(e,r,this._itemSelector(),this._expandEventHandler.bind(this))},_detachExpandEvent(r){B.off(r,".".concat(WR),this._itemSelector())},_getEventNameByOption:function(r){var e=r==="click"?sr:EC;return fe(e,WR)},_getNode:function(r){if(!L(r))return null;if(r.internalFields)return r;if(Bm(r))return this._dataAdapter.getNodeByKey(r);var e=E(r).get(0);return e?ce.isElementNode(e)?this._getNodeByElement(e):this._dataAdapter.getNodeByItem(e):null},_getNodeByElement:function(r){var e=E(r).closest("."+ao),t=this._decodeString(e.attr(cS));return this._dataAdapter.getNodeByKey(t)},_toggleExpandedState:function(r,e,t){var n=this._getNode(r);if(!n)return new X().reject().promise();if(n.internalFields.disabled)return new X().reject().promise();var i=n.internalFields.expanded;if(i===e)return new X().resolve().promise();if(this._hasChildren(n)){var o=this._getNodeElement(n);if(o.find(".".concat(HR,":not(.").concat(RW,")")).length)return new X().reject().promise();!i&&!this._nodeHasRenderedChildren(o)&&this._createLoadIndicator(o)}return L(e)||(e=!i),this._dataAdapter.toggleExpansion(n.internalFields.key,e),this._updateExpandedItemsUI(n,e,t)},_nodeHasRenderedChildren(r){var e=r.children(".".concat(eu));return e.not(":empty").length},_getItem:function(r){return r.children(".".concat(Pi)).eq(0)},_createLoadIndicator:function(r){var e=this._getItem(r);this._createComponent(E("<div>").addClass(HR),Ra,{}).$element().appendTo(e);var t=e.children(".".concat(vg,",.").concat($R));t.hide()},_renderExpanderIcon:function(r,e,t,n){t.appendTo(this._getItem(r)),t.addClass(n),e.internalFields.disabled&&t.addClass(gg),this._renderToggleItemVisibilityIconClick(t,e)},_renderDefaultExpanderIcons:function(r,e){var t=this._getItem(r),n=E("<div>").addClass(vg).appendTo(t);e.internalFields.expanded&&(n.addClass(TW),r.parent().addClass(tc)),e.internalFields.disabled&&n.addClass(gg),this._renderToggleItemVisibilityIconClick(n,e)},_renderCustomExpanderIcons:function(r,e){var{expandIcon:t,collapseIcon:n}=this.option(),i=Du(t??n),o=Du(n??t);this._renderExpanderIcon(r,e,i,$R),this._renderExpanderIcon(r,e,o,GR);var a=e.internalFields.expanded;a&&r.parent().addClass(tc),this._toggleCustomExpanderIcons(i,o,a)},_renderToggleItemVisibilityIconClick:function(r,e){var t=fe(sr,this.NAME);B.off(r,t),B.on(r,t,n=>(this._toggleExpandedState(e.internalFields.key,void 0,n),!1))},_toggleCustomExpanderIcons:function(r,e,t){e.toggle(t),r.toggle(!t)},_updateExpandedItemsUI:function(r,e,t){var n=this._getNodeElement(r),i=!n.length||e&&n.is(":hidden");if(this.option("expandNodesRecursive")&&i){var o=this._getNode(r.internalFields.parentKey);o&&this._updateExpandedItemsUI(o,e,t)}if(this._hasCustomExpanderIcons()){if(this._nodeHasRenderedChildren(n)){var s=this._getItem(n),l=s.children(".".concat($R)),u=s.children(".".concat(GR));this._toggleCustomExpanderIcons(l,u,e)}}else{var a=this._getItem(n).children(".".concat(vg));a.toggleClass(TW,e)}var c=n.children(".".concat(eu)),d=c.length>0,h=new X;return!e||d&&!c.is(":empty")?(this._animateNodeContainer(r,e,t,h),h.promise()):r.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(r,e,t,h),h.promise()):(this._renderSublevel(n,r,this._getChildNodes(r)),this._fireContentReadyAction(),this._animateNodeContainer(r,e,t,h),h.promise())},_loadNestedItemsWithUpdate:function(r,e,t,n){var i=this._getNodeElement(r);this._loadNestedItems(r).done(o=>{var a=this._getActualNode(r);if(this._renderSublevel(i,a,this._dataAdapter.getNodesByItems(o)),!o||!o.length){n.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(a,e,t,n)})},_loadNestedItems:function(r){if(this._useCustomChildrenLoader()){var e=this._dataAdapter.getPublicNode(r);return this._loadChildrenByCustomLoader(e).done(t=>{this._areNodesExists(t)||this._appendItems(t)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),r.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(t=>{this._areNodesExists(t)||this._appendItems(t)})):new X().resolve([]).promise()},_areNodesExists:function(r,e){var t=this.keyOf(r[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(t,n)},_appendItems:function(r){this.option().items=this.option("items").concat(r),this._initDataAdapter()},_animateNodeContainer:function(r,e,t,n){var i=this._getNodeElement(r),o=i.children(".".concat(eu));r&&n&&o.length===0&&n.resolve(),o.addClass(tc);var a=Dt(o);nn.stop(o,!0),nn.animate(o,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:e?0:a},to:{maxHeight:e?a:0},complete:(function(){o.css("maxHeight","none"),o.toggleClass(tc,e),this.setAria("expanded",e,i),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(e,r,t),n&&n.resolve()}).bind(this)})},_fireExpandedStateUpdatedEvent:function(r,e,t){if(!(!this._hasChildren(e)||this._skipContentReadyAndItemExpanded)){var n=r?"onItemExpanded":"onItemCollapsed";if(L(t))this._itemDXEventHandler(t,n,{node:this._dataAdapter.getPublicNode(e)});else{var i=this._getNodeElement(e);this._itemEventHandler(i,n,{event:t,node:this._dataAdapter.getPublicNode(e)})}}},_normalizeIconState:function(r,e){var t=r.find(".".concat(HR));if(t.length){var n;(n=Ra.getInstance(t))===null||n===void 0||n.option("visible",!1)}var i=this._getItem(r),o=i.children(".".concat(GR,",.").concat(vg));if(e){o.show();return}o.removeClass(vg),r.addClass(fg)},_emptyMessageContainer:function(){var r=this.getScrollable();return r?E(r.content()):this.callBase()},_renderContent:function(){var r=this.option("items");r&&r.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(r){var{selectAllText:e,focusStateEnabled:t}=this.option();r=r||this.$element().find(".".concat(eu)).first(),this._$selectAllItem=E("<div>").addClass(uS);var n=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Uh,{value:n,elementAttr:{"aria-label":"Select All"},text:e,focusStateEnabled:t,onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this),onInitialized:i=>{var{component:o}=i;o.registerKeyHandler("enter",()=>{o.option("value",!o.option("value"))})}}),this._toggleSelectedClass(this._$selectAllItem,n),r.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(r){this._toggleSelectAll(r),this._fireSelectAllValueChanged(r.value)},_toggleSelectAll:function(r){this._dataAdapter.toggleSelectAll(r.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(r,e){var t=E("<div>").appendTo(r);this._createComponent(t,Uh,{value:e.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":"Check State"},disabled:this._disabledGetter(e)})},_toggleSelectedClass:function(r,e){r.toggleClass(B0e,!!e)},_toggleNodeDisabledState:function(r,e){var t=this._getNodeElement(r),n=t.find("."+Pi).eq(0);if(this._dataAdapter.toggleNodeDisabledState(r.internalFields.key,e),n.toggleClass(gg,!!e),this._showCheckboxes()){var i=this._getCheckBoxInstance(t);i.option("disabled",!!e)}},_itemOptionChanged:function(r,e,t){var n=this._dataAdapter.getNodeByItem(r);e===this.option("disabledExpr")&&this._toggleNodeDisabledState(n,t)},_changeCheckboxValue:function(r){var e=E(r.element).closest(".".concat(ao)),t=this._getItem(e),n=this._getItemData(t),i=this._getNodeByElement(t),o=r.value;i&&i.internalFields.selected===o||this._updateItemSelection(o,n,r.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(r,e,t){var n=e.indexOf(r.key);return n>=0&&e.splice(n,1),t&&U(r.children,(function(i,o){this._isLastSelectedBranch(o,e,!0)}).bind(this)),r.parent&&this._isLastSelectedBranch(r.parent,e),e.length===0},_isLastRequired:function(r){var e=this.option("selectionRequired"),t=this._isSingleSelection(),n=this.getSelectedNodeKeys();if(e)return t?n.length===1:this._isLastSelectedBranch(r.internalFields.publicNode,n.slice(),!0)},_updateItemSelection:function(r,e,t){var n=this._getNode(e);if(!n||n.visible===!1)return!1;if(n.internalFields.selected===r)return!0;if(!r&&this._isLastRequired(n)){if(this._showCheckboxes()){var i=this._getNodeElement(n);this._getCheckBoxInstance(i).option("value",!0)}return!1}if(r&&this._isSingleSelection()){var o=this.getSelectedNodeKeys();U(o,(l,u)=>{this._dataAdapter.toggleSelection(u,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(u))})}this._dataAdapter.toggleSelection(n.internalFields.key,r);var a=this._dataAdapter.isAllSelected(),s=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==a;return this._updateItemsUI(),this._fireItemSelectionChanged(n,t),this._fireSelectionChanged(),s&&this._fireSelectAllValueChanged(a),!0},_fireItemSelectionChanged:function(r,e){var t=e||this._findItemElementByItem(r.internalFields.item),n=e?this._itemDXEventHandler:this._itemEventHandler;n.call(this,t,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(r),itemData:r.internalFields.item})},_getCheckBoxInstance:function(r){var e=this._getItem(r);return e.children(".".concat(OW)).dxCheckBox("instance")},_updateItemsUI:function(){var r={};if(U(this._dataAdapter.getData(),(t,n)=>{var i=this._getNodeElement(n,r),o=n.internalFields.selected;i.length&&(this._toggleSelectedClass(i,o),this.setAria("selected",o,i),this._showCheckboxes()&&this._getCheckBoxInstance(i).option("value",o))}),this._selectAllEnabled()){var e=this._$selectAllItem.dxCheckBox("instance");e.option("onValueChanged",void 0),e.option("value",this._dataAdapter.isAllSelected()),e.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(r,e){if(e){var t=this._dataAdapter.getNodeByKey(r.internalFields.parentKey),n=E(e.parents("."+ao)[0]);if(this._showCheckboxes()){var i=t.internalFields.selected;this._getCheckBoxInstance(n).option("value",i),this._toggleSelectedClass(n,i)}t.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(t,n)}},_itemEventHandlerImpl:function(r,e,t){var n=E(r).closest("."+ao).children("."+Pi);return e($(this._extendActionArgs(n),t))},_itemContextMenuHandler:function(r){this._createEventHandler("onItemContextMenu",r)},_itemHoldHandler:function(r){this._createEventHandler("onItemHold",r)},_createEventHandler:function(r,e){var t=this._getNodeByElement(e.currentTarget);this._itemDXEventHandler(e,r,{node:this._dataAdapter.getPublicNode(t)})},_itemClass:function(){return Pi},_itemDataKey:function(){return N0e},_attachClickEvent:function(){var r=this._itemContainer();this._detachClickEvent(r);var{clickEventNamespace:e,itemSelector:t,pointerDownEventNamespace:n,nodeSelector:i}=this._getItemClickEventData();B.on(r,e,t,o=>{E(o.target).hasClass(G0e)||E(o.target).hasClass(OW)||this._itemClickHandler(o,E(o.currentTarget))}),B.on(r,n,i,o=>{this._itemPointerDownHandler(o)})},_detachClickEvent:function(r){var{clickEventNamespace:e,itemSelector:t,pointerDownEventNamespace:n,nodeSelector:i}=this._getItemClickEventData();B.off(r,e,t),B.off(r,n,i)},_getItemClickEventData:function(){var r=".".concat(this._itemClass()),e=".".concat(ao,", .").concat(uS),t=fe(sr,this.NAME),n=fe(Yt.down,this.NAME);return{clickEventNamespace:t,itemSelector:r,pointerDownEventNamespace:n,nodeSelector:e}},_itemClick:function(r){var e=r.args[0],t=e.event.target[0]||e.event.target,n=t.getElementsByClassName(H0e)[0];e.itemData.url&&n&&n.click()},_itemClickHandler:function(r,e){var t=this._getItemData(e),n=this._getNodeByElement(e);this._itemDXEventHandler(r,"onItemClick",{node:this._dataAdapter.getPublicNode(n)},{beforeExecute:this._itemClick}),this.option("selectByClick")&&!r.isDefaultPrevented()&&this._updateItemSelection(!n.internalFields.selected,t,r)},_updateSelectionToFirstItem:function(r,e){for(var t=e;t>=0;){var n=E(r[t]);this._updateItemSelection(!0,n.find("."+Pi).get(0)),t--}},_updateSelectionToLastItem:function(r,e){for(var t=r.length,n=e;n<t;){var i=E(r[n]);this._updateItemSelection(!0,i.find("."+Pi).get(0)),n++}},focus:function(){if(this._selectAllEnabled()){B.trigger(this._$selectAllItem,"focus");return}this.callBase()},_focusInHandler:function(r){this._updateFocusState(r,!0);var e=E(r.target).hasClass(uS);if(e||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{var n=e?ut(this._$selectAllItem):E(this.option("focusedElement"));this._setFocusedItem(n)});return}var t=this._getActiveItem();this.option("focusedElement",ut(t.closest("."+ao)))},_itemPointerDownHandler:function(r){if(this.option("focusStateEnabled")){var e=E(r.target).closest("."+ao+", ."+uS);if(e.length){var t=e.hasClass(gg)?null:e;this.option("focusedElement",ut(t))}}},_findNonDisabledNodes:function(r){return r.not(function(){return E(this).children("."+Pi).hasClass(gg)})},_moveFocus:function(r,e){var t="up",n="down",i="first",o="last",a=this.option("rtlEnabled")?"right":"left",s=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(eu)).each(function(){nn.stop(this,!0)});var l=this._nodeElements();if(!(!l||!l.length))switch(r){case t:var u=this._prevItem(l);this.option("focusedElement",ut(u));var c=this._getNodeItemElement(u);this.getScrollable().scrollToElement(c),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,c);break;case n:var d=this._nextItem(l);this.option("focusedElement",ut(d));var h=this._getNodeItemElement(d);this.getScrollable().scrollToElement(h),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,h);break;case i:var p=l.first();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",ut(p)),this.getScrollable().scrollToElement(this._getNodeItemElement(p));break;case o:var f=l.last();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",ut(f)),this.getScrollable().scrollToElement(this._getNodeItemElement(f));break;case s:this._expandFocusedContainer();break;case a:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(r){return r.find("."+Pi).get(0)},_nodeElements:function(){return this.$element().find("."+ao).not(":hidden")},_expandFocusedContainer:function(){var r=E(this.option("focusedElement"));if(!(!r.length||r.hasClass(fg))){var e=r.find(".".concat(eu)).eq(0);if(e.hasClass(tc)){var t=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",ut(t)),this.getScrollable().scrollToElement(this._getNodeItemElement(t));return}var n=this._getNodeByElement(this._getItem(r));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(r){do r=r.parent().closest("."+ao);while(r.children(".dx-treeview-item.dx-state-disabled").length);return r},_collapseFocusedContainer:function(){var r=E(this.option("focusedElement"));if(r.length){var e=r.find(".".concat(eu)).eq(0);if(!r.hasClass(fg)&&e.hasClass(tc)){var t=this._getNodeByElement(this._getItem(r));this._toggleExpandedState(t,!1)}else{var n=this._getClosestNonDisabledNode(r);n.length&&this.option("focusedElement",ut(n)),this.getScrollable().scrollToElement(this._getNodeItemElement(n))}}},_encodeString:function(r){return ft(r)?encodeURI(r):r},_decodeString:function(r){return ft(r)?decodeURI(r):r},getScrollable:function(){return this._scrollable},updateDimensions:function(){var r=new X,e=this.getScrollable();return e?e.update().done(()=>{r.resolveWith(this)}):r.resolveWith(this),r.promise()},selectItem:function(r){return this._updateItemSelection(!0,r)},unselectItem:function(r){return this._updateItemSelection(!1,r)},expandItem:function(r){return this._toggleExpandedState(r,!0)},collapseItem:function(r){return this._toggleExpandedState(r,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(r=>{var e=this._dataAdapter.getNodeByKey(r);return this._dataAdapter.getPublicNode(e)})},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler:function(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll:function(){var r=this._dataAdapter.getData(),e=[];this._skipContentReadyAndItemExpanded=!0,r.forEach(t=>e.push(this._toggleExpandedState(t.internalFields.key,!0))),Promise.allSettled(e).then(()=>{var t;return(t=this._allItemsExpandedHandler)===null||t===void 0?void 0:t.call(this)})},collapseAll:function(){U(this._dataAdapter.getExpandedNodesKeys(),(function(r,e){this._toggleExpandedState(e,!1)}).bind(this))},scrollToItem:function(r){var e=this._getNode(r);if(!e)return new X().reject().promise();for(var t=[],n=e.internalFields.publicNode.parent;n!=null;)n.expanded||t.push(n.key),n=n.parent;var i=new X;return this._expandNodes(t.reverse()).always(()=>{var o=this._getNodeElement(e);o&&o.length?(this.scrollToElementTopLeft(o.get(0)),i.resolve()):i.reject()}),i.promise()},scrollToElementTopLeft:function(r){var e=this.getScrollable(),{scrollDirection:t,rtlEnabled:n}=this.option(),i={top:0,left:0},o=f9(g9,r);if(t!==Xb){var a=E(e.container()).get(0);i.left=n?o.left+r.offsetWidth-a.clientWidth:o.left}t!==v9&&(i.top=o.top),e.scrollTo(i)},_expandNodes:function(r){if(!r||r.length===0)return new X().resolve().promise();var e=new X,t=r.map(n=>this.expandItem(n));return $e.apply(E,t).done(()=>e.resolve()).fail(()=>e.reject()),e.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}});zh.setEditorClass(qC);var K8="dx-treeview",U0e="".concat(K8,"-node-container"),QC=z0e.inherit(zh).inherit({_addWidgetPrefix:function(r){return"".concat(K8,"-").concat(r)},_optionChanged:function(r){switch(r.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(r)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return $(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer:function(){return this.$element().find(".".concat(U0e)).first()},_updateSearch:function(){if(this._searchEditor){var r=this._getSearchEditorOptions();this._searchEditor.option(r)}},_repaintContainer:function(){var r=this._getNodeContainer(),e;r.length&&(r.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(r,e),this._fireContentReadyAction())},_focusTarget:function(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer:function(){this.$element().empty()},_itemContainer:function(r,e){var t;return(t=e)!==null&&t!==void 0||(e=this._selectAllEnabled()),e?this._getNodeContainer():this._scrollable&&r?E(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});Kt("dxTreeView",QC);var j0e="column-chooser",q8="column-chooser-button",DW="notouch-action",K0e="column-chooser-list",q0e="column-chooser-plain",Y0e="column-chooser-mode-drag",X0e="column-chooser-mode-select",Y8="column-chooser",AW="dx-column-chooser-item",Q0e=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],Z0e=function(r,e){var t=[],n=r.isSelectMode(),i=r.option("columnChooser.selection.recursive");return e.length&&U(e,(o,a)=>{var s={text:a.caption,cssClass:a.cssClass,allowHiding:a.allowHiding,expanded:!0,id:a.index,disabled:a.allowHiding===!1,parentId:L(a.ownerBand)?a.ownerBand:null},l=i&&a.hasColumns;n&&!l&&(s.selected=a.visible),t.push(s)}),t},J0e={renderShowColumnChooserButton(r){var e=this,t=e.addWidgetPrefix(q8),n=e.option("columnChooser.enabled"),i=r.find(".".concat(t)),o;n?i.length?i.show():(o=E("<div>").addClass(t).appendTo(r),e._createComponent(o,gi,{icon:Y8,onClick(){e.getView("columnChooserView").showColumnChooser()},hint:e.option("columnChooser.title"),integrationOptions:{}})):i.hide()},getPosition(){var r=this.getView("rowsView"),e=this.option("columnChooser.position");return L(e)?e:{my:"right bottom",at:"right bottom",of:r&&r.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}},eIe=kr.ViewController.inherit(J0e),tIe={_resizeCore:Z,_isWinDevice:()=>!!Ye.real().win,_initializePopupContainer(){var r=this,e=r.addWidgetPrefix(j0e),t=r.element().addClass(e),n=r.option("columnChooser"),i=mo(),o=cY(i),a=Hi(i),s={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:e},toolbarItems:[{text:n.title,toolbar:"top",location:o||a?"before":"center"}],position:r.getController("columnChooser").getPosition(),width:n.width,height:n.height,rtlEnabled:r.option("rtlEnabled"),onHidden(){r._isWinDevice()&&E("body").removeClass(r.addWidgetPrefix(DW))},container:n.container};o||a?$(s,{showCloseButton:!0}):s.toolbarItems[s.toolbarItems.length]={shortcut:"cancel"},L(this._popupContainer)?this._popupContainer.option(s):(r._popupContainer=r._createComponent(t,ql,s),r._popupContainer.on("optionChanged",l=>{l.name==="visible"&&r.renderCompleted.fire()})),this.setPopupAttributes()},setPopupAttributes(){var r=this.isSelectMode(),e=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:J.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(Y0e),!r).toggleClass(this.addWidgetPrefix(X0e),r),this._popupContainer.$content().addClass(this.addWidgetPrefix(K0e)),r&&!e&&this._popupContainer.$content().addClass(this.addWidgetPrefix(q0e))},_renderCore(r){if(this._popupContainer){var e=!this.isSelectMode();!this._columnChooserList||r==="full"?this._renderTreeView():e&&this._updateItems()}},_renderTreeView(){var r,e,t,n=this,i=this._popupContainer.$content(),o=this.option("columnChooser"),a=this.isSelectMode(),s=L(o.allowSearch)?o.allowSearch:(r=o.search)===null||r===void 0?void 0:r.enabled,l=L(o.searchTimeout)?o.searchTimeout:(e=o.search)===null||e===void 0?void 0:e.timeout,u={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:s,searchTimeout:l,searchEditorOptions:(t=o.search)===null||t===void 0?void 0:t.editorOptions};if(this._isWinDevice()&&(u.useNativeScrolling=!1),$(u,a?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)u.searchEnabled||(u.searchValue=""),this._columnChooserList.option(u),this._updateItems();else{this._columnChooserList=this._createComponent(i,QC,u),this._updateItems();var c=0;this._columnChooserList.on("optionChanged",d=>{var h=d.component.getScrollable();c=h.scrollTop()}),this._columnChooserList.on("contentReady",d=>{qi(()=>{var h=d.component.getScrollable();h.scrollTo({y:c}),n.renderCompleted.fire()})})}},_prepareDragModeConfig(){var r=this.option("columnChooser");return{noDataText:r.emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(e,t,n){E(n).text(e.text).parent().addClass(e.cssClass).addClass(AW)}}},_prepareSelectModeConfig(){var r=this,e=this.option("columnChooser.selection")||{},t=!1;return{selectByClick:e.selectByClick,selectNodesRecursive:e.recursive,showCheckBoxesMode:e.allowSelectAll?"selectAll":"normal",onSelectionChanged:n=>{if(!t){var i=(o=>{var a=(s,l)=>s.reduce((u,c)=>(u.push(c),c.children.length&&a(c.children,u),u),l);return a(o,[])})(n.component.getNodes());n.component.beginUpdate(),t=!0,((o,a)=>{a.filter(s=>s.itemData.allowHiding===!1).forEach(s=>o.component.selectItem(s.key))})(n,i),n.component.endUpdate(),t=!1,r.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(o=>{o.forEach(a=>{var s=a.itemData.id,l=a.selected!==!1;r._columnsController.columnOption(s,"visible",l)})})(i),r.component.endUpdate(),this._isUpdatingColumnVisibility=!1}}}},_updateItems(){var r=this.isSelectMode(),e=this._columnsController.getChooserColumns(r),t=Z0e(this,e);this._columnChooserList.option("items",t)},_updateItemsSelection(r){var e=r==null?void 0:r.map(t=>this._columnsController.columnOption(t));this._columnChooserList.beginUpdate(),e==null||e.forEach(t=>{var{visible:n,index:i}=t;n?this._columnChooserList.selectItem(i):this._columnChooserList.unselectItem(i)}),this._columnChooserList.endUpdate()},_columnOptionChanged(r){this.callBase(r);var e=this.isSelectMode();if(e&&this._columnChooserList&&this._isUpdatingColumnVisibility!==!0){var{optionNames:t}=r,n=t.visible&&t.length===1,i=L(r.columnIndex)?[r.columnIndex]:r.columnIndices,o=Q0e.some(a=>t[a])||r.changeTypes.columns&&t.all;o&&(this._updateItemsSelection(i),n||this._updateItems())}},optionChanged(r){switch(r.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(r)}},getColumnElements(){var r=[],e=this.isSelectMode(),t=this._columnsController.getChooserColumns(e),n=this._popupContainer&&this._popupContainer.$content(),i=n&&n.find(".dx-treeview-node");return i&&t.forEach(o=>{var a=i.filter("[data-item-id = '".concat(o.index,"']")),s=a.length?a.children(".".concat(AW)).get(0):null;r.push(s)}),E(r)},getName:()=>"columnChooser",getColumns(){return this._columnsController.getChooserColumns()},allowDragging(r){var e=this._columnsController.isParentColumnVisible(r.index),t=!r.visible&&r.allowHiding;return this.isColumnChooserVisible()&&e&&t},allowColumnHeaderDragging(r){var e=!this.isSelectMode();return e&&this.isColumnChooserVisible()&&r.allowHiding},getBoundingRect(){var r=this._popupContainer&&this._popupContainer.$overlayContent();if(r&&r.is(":visible")){var e=r.offset();return{left:e.left,top:e.top,right:e.left+er(r),bottom:e.top+Vt(r)}}return null},showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&E("body").addClass(this.addWidgetPrefix(DW))},hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible(){var r=this._popupContainer;return r&&r.option("visible")},isSelectMode(){return this.option("columnChooser.mode")==="select"},hasHiddenColumns(){var r=this.option("columnChooser.enabled"),e=this.getColumns().filter(t=>!t.visible);return r&&e.length},publicMethods:()=>["showColumnChooser","hideColumnChooser"]},rIe=NC.inherit(tIe),cN={defaultOptions:()=>({columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:J.format("dxDataGrid-columnChooserTitle"),emptyPanelText:J.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}),controllers:{columnChooser:eIe},views:{columnChooserView:rIe},extenders:{views:{headerPanel:{_getToolbarItems(){var r=this.callBase();return this._appendColumnChooserItem(r)},_appendColumnChooserItem(r){var e=this,t=e.option("columnChooser.enabled");if(t){var n=e.option("columnChooser.title"),i={widget:"dxButton",options:{icon:Y8,onClick:function(){e.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(o){E(o.element).addClass(e._getToolbarButtonClass(e.addWidgetPrefix(q8)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};r.push(i)}return r},optionChanged(r){switch(r.name){case"columnChooser":this._invalidate(),r.handled=!0;break;default:this.callBase(r)}},isVisible(){var r=this.option("columnChooser.enabled");return this.callBase()||r}},columnHeadersView:{allowDragging(r){var e=this.component.getView("columnChooserView"),t=!e.isSelectMode(),n=e.isColumnChooserVisible();return t&&n&&r.allowHiding||this.callBase(r)}}},controllers:{columns:{allowMoveColumn(r,e,t,n){var i=this.option("columnChooser.mode")==="select",o=i&&n==="columnChooser";return o?!1:this.callBase(r,e,t,n)}}}}};cN.controllers.columnChooser;cN.views.columnChooserView;at.registerModule("columnChooser",cN);function ih(r,e){for(var t=Tu(e.group),n=[],i=0;i<r.length;i++)n.push([t[i].selector,"=",r[i]]);return e.filter&&n.push(e.filter),ye.combineFilters(n)}function X8(r,e,t){for(var n=Tu(e.group),i=[],o=t?r.length-1:0;o<r.length;o++){for(var a=[],s=0;s<=o;s++){var{selector:l}=n[s];if(o===s&&(r[s]===null||r[s]===!1||r[s]===!0))r[s]===!1?a.push([l,"=",n[s].desc?!0:null]):(r[s]?!n[s].desc:n[s].desc)?a.push([l,"<>",r[s]]):(a.push([l,"<>",null]),a.push([l,"=",null]));else{var u=[l,o===s?n[s].desc?">":"<":"=",r[s]];u[1]==="<"?a.push([u,"or",[l,"=",null]]):a.push(u)}}i.push(at.combineFilters(a))}return i=at.combineFilters(i,"or"),at.combineFilters([i,e.filter])}var Q8=tr.inherit(function(){var r=function(t,n){var{hash:i}=t;return i&&i[JSON.stringify(n)]},e=function(t,n){var i=0,o=t.length-1;if(!t.length)return 0;do{var a=o+i>>1;t[a].offset>n?o=a:i=a}while(o-i>1);var s;for(s=i;s<=o&&!(t[s].offset>n);s++);return s};return{ctor(t){this._dataSource=t,this.reset()},reset(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection(){return this._totalCountCorrection},updateTotalItemsCount(t){this._totalCountCorrection=t||0},isGroupItemCountable(t){return!this._isVirtualPaging()||!t.isContinuation},_isVirtualPaging(){var t=this._dataSource.option("scrolling.mode");return t==="virtual"||t==="infinite"},itemsCount(){var t=this._dataSource,n=t._dataSource,i=at.normalizeSortingInfo(n.group()||[]).length,o=function a(s,l,u){var c=0;if(l)if(!u)c=l.length;else for(var d=0;d<l.length;d++)s.isGroupItemCountable(l[d])&&c++,c+=a(s,l[d].items,u-1);return c}(this,n.items(),i);return o},foreachGroups(t,n,i,o,a){var s=this;return function l(u,c,d,h){var p=[];function f(y,w,T,S){var x=w&&y(w,T);return x&&S.push(x),x}for(var v=0;v<u.length;v++){if(h.push(u[v].data),!d&&f(c,u[v].data,h,p)===!1)return!1;if(!u[v].data||u[v].data.isExpanded||i){var{children:g}=u[v],m=g.length&&l(g,c,d,h);if(m&&p.push(m),m===!1)return!1}if(d&&f(c,u[v].data,h,p)===!1)return!1;(!u[v].data||u[v].data.offset!==u[v].offset)&&(o=!0),h.pop()}var C=a&&h.slice(0);return o&&$e.apply(E,p).always(()=>{s._updateGroupInfoOffsets(u,C)})}(s._groupsInfo,t,n,[])},_updateGroupInfoOffsets(t,n){n=n||[];for(var i=0;i<t.length;i++){var o=t[i];if(o.data&&o.data.offset!==o.offset){o.offset=o.data.offset;for(var a=0;a<n.length;a++)n[a].offset=o.offset}}t.sort((s,l)=>s.offset-l.offset)},findGroupInfo(t){for(var n,i=this._groupsInfo,o=0;i&&o<t.length;o++)n=r(i,t[o]),i=n&&n.children;return n&&n.data},addGroupInfo(t){for(var n,{path:i}=t,o=this._groupsInfo,a=0;a<i.length;a++){if(n=r(o,i[a]),!n){n={key:i[a],offset:t.offset,data:{offset:t.offset,isExpanded:!0,path:i.slice(0,a+1)},children:[]};var s=e(o,t.offset);o.splice(s,0,n),o.hash=o.hash||{},o.hash[JSON.stringify(n.key)]=n}a===i.length-1&&(n.data=t,n.offset!==t.offset&&this._updateGroupInfoOffsets(o)),o=n.children}},allowCollapseAll:()=>!0,refresh(t){var{storeLoadOptions:n}=t,i=Tu(n.group||[]),o="_group"in this?Tu(this._group||[]):i,a=Math.min(o.length,i.length);this._group=n.group;for(var s=0;s<a;s++)if(o[s].selector!==i[s].selector){a=s;break}a?function l(u,c,d){for(var h=0;h<u.length;h++)c+1>=d?u[h].children=[]:l(u[h].children,c+1,d)}(this._groupsInfo,0,a):this.reset()},handleDataLoading(){},handleDataLoaded(t,n){n(t)},handleDataLoadedCore(t,n){n(t)}}}());function zR(r,e,t,n){if(n=n||0,e>1&&t>0){var i=r-Math.floor(r/e)*e||e;return i+=t-n-2,i<0&&(i+=e),Math.floor(i/(e-n-1))}return 0}var PW=Q8.inherit(function(){var r=function(d,h,p){return d.foreachGroups((f,v)=>{if(f.isExpanded)return h(f,v)},!0,!1,p,p)},e=function d(h,p,f,v,g,m,C){var y;if(v.items=v.items||[],v.paths=v.paths||[],v.count=v.count||0,v.lastCount=v.lastCount||0,!!f)for(var w=0;w<p.length;w++){var T=p[w];if(T.items!==void 0){if(g.push(T.key),m)y=!0;else{var S=h.findGroupInfo(g);y=S&&S.isExpanded}y?T.items?d(h,T.items,f-1,v,g,m,C):f===1&&T.count&&(!m||C)&&(v.items.push(T),v.paths.push(g.slice(0)),v.count+=v.lastCount,v.lastCount=T.count):(T.collapsedItems=T.items,T.items=null),g.pop()}}},t=function(d,h,p,f,v){var g=d.findGroupInfo(f),m;g?(p?g.count=h.count>0?h.count:h.items&&h.items.length||0:h.count=g.count||h.count,g.offset=v):(p&&(m=h.count>0?h.count:h.items.length),d.addGroupInfo({isExpanded:d._isGroupExpanded(f.length-1),path:f.slice(0),offset:v,count:m||0}))},n=function d(h,p,f,v,g,m,C){var y=p.group?p.group.length:0,w=y===v,T=p.remoteOperations.paging,S=0,x=0,I;if(g=g||0,m=m||[],T&&!C&&(S=g===0?p.skip||0:p.skips[g-1]||0),g>=v)return f.length;for(var R=0;R<f.length;R++){var D=f[R];if(D){if(m.push(D.key),!D.count&&!D.items||D.items===void 0||(t(h,D,w,m,S+R),I=D.items?d(h,p,D.items,v,g+1,m,R):D.count||-1,I<0))return-1;x+=I,m.pop()}}return x},i=function(d,h){return d&&d.length&&d[h]&&!!d[h].isExpanded},o=function(d,h,p){for(var f,v=p,g=0;g<d.length;g++)f=d[g].offset+1,g>0&&(f+=d[g-1].childrenTotalCount,h&&(f+=zR(v,h,f,g-1)*g)),v+=f;return v};function a(d,h,p,f){var v=h.items[f],g=d.skips&&d.skips[p],m=d.takes&&d.takes[p],C=f===h.items.length-1,y=f===0,w=y&&g||0,T=v.count>m+w;y&&g!==void 0&&(v.isContinuation=!0),C&&m!==void 0&&T&&(v.isContinuationOnNextPage=!0)}function s(d){return!Array.isArray(d)}function l(d){s(d.data)||(d.data=new X)}function u(d,h,p,f,v,g){h.isCustomLoading||(f={},e(d,g,p,f,[]),function(C,y,w){var T=w-1,S=C.group?C.group.length:0;y.skip=C.skips&&C.skips[T],C.takes&&C.takes[T]!==void 0&&(S===w?y.take=y.count?y.count-(y.skip||0):0:y.take=0,y.take+=C.takes[T])}(h,f,p));var m=h.group?h.group.length:0;f.paths.length&&m-p>0?(l(h),function(C,y,w,T,S,x){var I=y.group||[],R=I[S+1],D=[];U(w.paths,A=>{var V,F={requireTotalCount:!1,requireGroupCount:!0,group:[R],groupSummary:y.storeLoadOptions.groupSummary,filter:ih(w.paths[A],{filter:y.storeLoadOptions.filter,group:I}),select:y.storeLoadOptions.select,langParams:(V=y.storeLoadOptions)===null||V===void 0?void 0:V.langParams};A===0&&(F.skip=w.skip||0),A===w.paths.length-1&&(F.take=w.take);var P=F.take===0?[]:C._dataSource.loadFromStore(F);$e(P).done(M=>{var N=w.items[A];a(y,w,S,A),N.items=M}),D.push(P)}),$e.apply(null,D).done(()=>{n(C,y,x,T+1),u(C,y,T+1,w,S+1,x)})}(d,h,f,p,v,g)):f.paths.length&&h.storeLoadOptions.group?(l(h),function(C,y,w,T){var S=[],x=y.group||[];U(w.paths,(A,V)=>{S.push(ih(V,{group:y.isCustomLoading?y.storeLoadOptions.group:x}))});var{filter:I}=y.storeLoadOptions;y.storeLoadOptions.isLoadingAll||(I=at.combineFilters([I,at.combineFilters(S,"or")]));var R=$({},y.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:x.concat(at.normalizeSortingInfo(y.storeLoadOptions.sort||[])),filter:I}),D=C._dataSource.isLastLevelGroupItemsPagingLocal();D||(R.skip=w.skip,R.take=w.take),$e(w.take===0?[]:C._dataSource.loadFromStore(R)).done(A=>{D&&(A=C._dataSource.sortLastLevelGroupItems(A,x,w.paths),A=w.skip?A.slice(w.skip):A,A=w.take?A.slice(0,w.take):A),U(w.items,(V,F)=>{var P=F.count-(V===0&&w.skip||0),M=A.splice(0,P);a(y,w,x.length-1,V),F.items=M}),y.data.resolve(T)}).fail(y.data.reject)}(d,h,f,g)):s(h.data)&&h.data.resolve(g)}var c=function(d,h){var p=new X,f=!!(h.group&&h.group.length),v=$({skip:0,take:1,requireGroupCount:f,requireTotalCount:!f},h,{group:f?h.group:null});return d.load(v).done((g,m)=>{var C=m&&(f?m.groupCount:m.totalCount);if(!isFinite(C)){p.reject(Hn.Error(f?"E4022":"E4021"));return}p.resolve(C)}).fail(p.reject.bind(p)),p};return{updateTotalItemsCount(d){var h=0,p=d.extra&&d.extra.totalCount||0,f=d.extra&&d.extra.groupCount||0,v=this._dataSource.pageSize(),g=this._isVirtualPaging();r(this,m=>{m.childrenTotalCount=0}),r(this,(m,C)=>{var y=o(C,g?0:v,h),w=m.count+m.childrenTotalCount;g||(w+=zR(y,v,w,C.length-1)),C[C.length-2]?C[C.length-2].childrenTotalCount+=w:h+=w}),this.callBase(h-p+f)},_isGroupExpanded(d){var h=this._dataSource.group();return i(h,d)},_updatePagingOptions(d,h){var p=this._isVirtualPaging(),f=this._dataSource.pageSize(),v=[],g=[],m=0,C=0;d.take&&(r(this,y=>{y.childrenTotalCount=0,y.skipChildrenTotalCount=0}),r(this,(y,w)=>{var T,S=0,x=0,I=o(w,p?0:f,C),R=0,D=0,A=y.count+y.childrenTotalCount,V=A;h&&h(y,I);var F=d.skip-I;I<=d.skip+d.take&&A&&(T=d.take,p||(R=zR(I,f,A,w.length-1),A+=R*w.length,V+=R,f&&F>=0&&(S=w.length,x=w.length-1,D=Math.floor(F/f))),F>=0?(I+A>d.skip&&v.unshift(F-D*S-y.skipChildrenTotalCount),I+A>=d.skip+T&&g.unshift(T-S-y.childrenTotalCount+y.skipChildrenTotalCount)):I+A>=d.skip+T&&g.unshift(T+F-y.childrenTotalCount)),I<=d.skip&&(w[w.length-2]?w[w.length-2].skipChildrenTotalCount+=Math.min(V,F+1-D*x):m+=Math.min(V,F+1)),I<=d.skip+T&&(A=Math.min(V,F+T-(D+1)*x),w[w.length-2]?w[w.length-2].childrenTotalCount+=A:C+=A)}),d.skip-=m,d.take-=C-m),d.skips=v,d.takes=g},changeRowExpand(d){var h=this.findGroupInfo(d),p=this._dataSource,f=p.remoteOperations().groupPaging,v=at.normalizeSortingInfo(p.group());return h?(h.isExpanded=!h.isExpanded,f&&h.isExpanded&&d.length<v.length?c(p,{filter:ih(d,{filter:p.lastLoadOptions().filter,group:p.group()}),group:[v[d.length]],select:p.select()}).done(g=>{h.count=g}):new X().resolve()):new X().reject()},handleDataLoading(d){var{storeLoadOptions:h}=d,p=at.normalizeSortingInfo(h.group||d.loadOptions.group);if(!(d.isCustomLoading||!p.length)){if(d.remoteOperations.grouping){var f=this._dataSource.remoteOperations().paging;h.group=at.normalizeSortingInfo(h.group),h.group.forEach((v,g)=>{var m=g===h.group.length-1;v.isExpanded=!f||!m})}d.group=d.group||p,d.remoteOperations.paging?(d.skip=h.skip,d.take=h.take,h.requireGroupCount=!0,h.group=p.slice(0,1),this._updatePagingOptions(d),h.skip=d.skip,h.take=d.take):(d.skip=d.loadOptions.skip,d.take=d.loadOptions.take,this._updatePagingOptions(d))}},handleDataLoadedCore(d,h){var p=at.normalizeSortingInfo(d.storeLoadOptions.group||d.loadOptions.group).length,f=d.group?d.group.length:0,v,g={};if(d.isCustomLoading)h(d),e(this,d.data,p,g,[],d.isCustomLoading,d.storeLoadOptions.isLoadingAll);else{if(d.remoteOperations.paging||this.foreachGroups(m=>{m.count=0}),v=n(this,d,d.data,p),v<0){d.data=new X().reject(Ht.Error("E1037"));return}if(d.remoteOperations.paging||p&&d.extra&&d.loadOptions.requireTotalCount&&(d.extra.totalCount=v,d.extra.groupCount=d.data.length),f&&d.storeLoadOptions.requireGroupCount&&!isFinite(d.extra.groupCount)){d.data=new X().reject(Hn.Error("E4022"));return}this.updateTotalItemsCount(d),d.remoteOperations.paging||(this._updatePagingOptions(d),d.lastLoadOptions.skips=d.skips,d.lastLoadOptions.takes=d.takes),h(d),d.remoteOperations.paging||this._processPaging(d,p)}u(this,d,p,g,0,d.data)},_processSkips(d,h,p){if(p){var f=d[0],v=h[0],g=f&&f.items;v!==void 0&&(f.isContinuation=!0,g&&(f.items=g.slice(v),this._processSkips(f.items,h.slice(1),p-1)))}},_processTakes(d,h,p,f,v){if(!(!f||!d)){v=v||[];var g=d[d.length-1],m=g&&g.items,C=p[0],y=h[0];if(g){var w=g.count-(g.isContinuation&&y||0)||m.length;C!==void 0&&w>C&&(g.isContinuationOnNextPage=!0,v.forEach(T=>{T.isContinuationOnNextPage=!0}),m&&(m=m.slice(0,C),g.items=m)),v.push(g),this._processTakes(m,h.slice(1),p.slice(1),f-1,v)}}},_processPaging(d,h){this._processSkips(d.data,d.skips,h),this._processTakes(d.data,d.skips,d.takes,h)},isLastLevelGroupItemsPagingLocal:()=>!1,sortLastLevelGroupItems:d=>d,refresh(d,h){var p=this,f=p._dataSource,{storeLoadOptions:v}=d,g=d.group||d.storeLoadOptions.group,m=at.normalizeSortingInfo(p._group),C,y;function w(T,S){S.length===y+1&&(T.isExpanded=C)}for(y=0;y<m.length;y++)C=i(g,y),i(p._group,y)!==C&&p.foreachGroups(w);if(p.callBase.apply(this,arguments),g&&d.remoteOperations.paging&&h.reload)return r(p,T=>{var S=c(f,{filter:ih(T.path,{filter:v.filter,group:g}),group:g.slice(T.path.length),select:v.select}),x=c(f,{filter:X8(T.path,{filter:v.filter,group:g},!0),group:g.slice(T.path.length-1,T.path.length),select:v.select});return $e(x,S).done((I,R)=>{I=parseInt(I.length?I[0]:I),R=parseInt(R.length?R[0]:R),T.offset=I,T.count!==R&&(T.count=R,p.updateTotalItemsCount(d))})},!0)}}}()),UR=function(r,e){var t=new X,n=$({skip:0,take:1,requireTotalCount:!0},e);return r.load(n).done((i,o)=>{t.resolve(o&&o.totalCount)}).fail(t.reject.bind(t)),t},MW=Q8.inherit(function(){var r=function(o,a,s){return o.foreachGroups(l=>{if(!l.isExpanded)return a(l)},!1,!1,s,!0)},e=function(o,a){var s=0,l=a||0;return a&&(r(o,u=>{if(u.offset-s>=a)return!1;s+=u.count-1}),l+=s),l},t=function(o,a){if(o.length!==a.length)return!1;for(var s=0;s<o.length;s++)if(!xC(null,o[s],a[s]))return!1;return!0},n=function o(a,s,l,u,c){if(s){for(var d=0;d<s.length;d++){var h=s[d];if("key"in h&&h.items!==void 0){l.push(h.key),c&&t(c.path,l)&&!h.isContinuation&&(c.offset=u);var p=a.findGroupInfo(l);p&&!h.isContinuation&&(p.offset=u),p&&!p.isExpanded?u+=p.count:u=o(a,h.items,l,u,c),l.pop()}else u++}return u}},i=function o(a,s){var l=a.count||a.items.length;if(!a.count&&s>1){l=0;for(var u=0;u<a.items.length;u++)l+=o(a.items[u],s-1)}return l};return{handleDataLoading(o){var{storeLoadOptions:a}=o,s=[],l=0,u=!1,c,{group:d}=o.loadOptions,h=0;if(function(f,v){if(v.group){var g=at.normalizeSortingInfo(v.group),m=at.normalizeSortingInfo(f.sort);f.sort=Ru.arrangeSortingInfo(g,m),delete v.group}}(a,o.loadOptions),o.group=o.group||d,!o.isCustomLoading){var p=$({},a);p.skip=e(this,a.skip),p.skip&&p.take&&d&&(p.skip--,p.take++,u=!0),p.take&&d&&(c=p.take,p.take++),r(this,f=>{if(f.offset>=p.skip+p.take+h)return!1;f.offset>=p.skip+h&&f.count&&(h+=f.count-1,s.push(f),l+=f.count)}),U(s,function(){p.filter=function(f,v,g){for(var m=at.normalizeSortingInfo(g||v.group),C=[],y=0;y<f.length;y++){for(var w=[],T=0;T<=y;T++)w.push([m[T].selector,y===T?"<>":"=",f[T]]);C.push(at.combineFilters(w))}return C=at.combineFilters(C,"or"),at.combineFilters([C,v.filter])}(this.path,p,d)}),o.storeLoadOptions=p,o.collapsedGroups=s,o.collapsedItemsCount=l,o.skip=p.skip||0,o.skipFirstItem=u,o.take=c}},handleDataLoaded(o,a){var{collapsedGroups:s}=o,l=at.normalizeSortingInfo(o.group),u=l.length;function c(f,v,g,m,C){if(!(!f||!v.length||!g.length)){var y,w,T=wi(v[0],!0);for(w=0;w<f.length&&(y=wi(f[w].key,!0),!(C>=m.offset||T===y));w++)C+=i(f[w],g.length);(!f.length||T!==y)&&f.splice(w,0,{key:v[0],items:[],count:v.length===1?m.count:void 0}),c(f[w].items,v.slice(1),g.slice(1),m,C)}}if(o.collapsedItemsCount&&o.extra&&o.extra.totalCount>=0&&(o.extra._totalCountWasIncreasedByCollapsedItems||(o.extra.totalCount+=o.collapsedItemsCount,o.extra._totalCountWasIncreasedByCollapsedItems=!0)),a(o),u){var{data:d}=o,h=po(d);if(Ru.multiLevelGroup(h,l).enumerate().done(f=>{d=f}),s)for(var p=0;p<s.length;p++)c(d,s[p].path,l,s[p],o.skip);o.isCustomLoading||function f(v,g,m,C,y,w){for(var T=0,S=!1,x=0;x<g.length;x++){var I=g[x];if(I.items!==void 0){m.push(I.key);var R=v.findGroupInfo(m);if(R&&!R.isExpanded)I.collapsedItems=I.items,I.items=null,C+=R.count,w--,w<0&&T++,y&&(S=!0);else if(I.items){var D=f(v,I.items,m,C,y,w);y&&(D.offset-C>1?I.isContinuation=!0:S=!0),C=D.offset,w=D.take,w<0&&(I.items.length?I.isContinuationOnNextPage=!0:T++)}m.pop()}else y&&(S=!0),C++,w--,w<0&&T++;y=!1}return S&&g.splice(0,1),T&&g.splice(-T,T),{offset:C,take:w}}(this,d,[],o.skip,o.skipFirstItem,o.take),o.data=d}},isGroupItemCountable:o=>o.items===null,updateTotalItemsCount(){var o=0;r(this,a=>{a.count&&(o-=a.count-1)}),this.callBase(o)},changeRowExpand(o){var a=this,s=a._dataSource,l=s.beginPageIndex?s.beginPageIndex():s.pageIndex(),u=s.items(),c=e(a,l*s.pageSize()),d=a.findGroupInfo(o),h;return d&&!d.isExpanded?h=new X().resolve(d.count):h=UR(s,{filter:ih(o,{filter:s.filter(),group:s.group()})}),$e(h).done(p=>{p=parseInt(p.length?p[0]:p),d?(n(a,u,[],c),d.isExpanded=!d.isExpanded,d.count=p):(d={offset:-1,count:p,path:o,isExpanded:!1},n(a,u,[],c,d),d.offset>=0&&a.addGroupInfo(d)),a.updateTotalItemsCount()}).fail(function(){s._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:()=>!1,refresh(o,a){var s=this,{storeLoadOptions:l}=o,u=s._dataSource;if(this.callBase.apply(this,arguments),a.reload)return r(s,c=>{var d=UR(u,{filter:ih(c.path,l)}),h=UR(u,{filter:X8(c.path,l)});return $e(h,d).done((p,f)=>{p=parseInt(p.length?p[0]:p),f=parseInt(f.length?f[0]:f),c.offset=p,c.count!==f&&(c.count=f,s.updateTotalItemsCount())})},!0)}}}()),jR="dx-datagrid-group-panel",nIe="dx-group-panel-message",dS="dx-group-panel-item",FW="dx-toolbar-label",iIe="dx-toolbar-item",oIe="dx-datagrid-expand",aIe="dx-group-row",sIe=".dx-header-filter",lIe={init(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper(r){var e=this._grouping,t=this.option("grouping.autoExpandAll"),n=this.option("focusedRowEnabled"),i=r?r.remoteOperations:this.remoteOperations(),o=i.filtering&&i.sorting&&i.paging;o&&!i.grouping&&(t||!n)?(!e||e instanceof PW)&&(this._grouping=new MW(this)):(!e||e instanceof MW)&&(this._grouping=new PW(this))},totalItemsCount(){var r=this.callBase();return r>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?r+this._grouping.totalCountCorrection():r},itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll(){return this._grouping.allowCollapseAll()},isGroupItemCountable(r){return this._grouping.isGroupItemCountable(r)},isRowExpanded(r){var e=this._grouping.findGroupInfo(r);return e?e.isExpanded:!this._grouping.allowCollapseAll()},collapseAll(r){return this._collapseExpandAll(r,!1)},expandAll(r){return this._collapseExpandAll(r,!0)},_collapseExpandAll(r,e){var t=this._dataSource,n=t.group(),i=at.normalizeSortingInfo(n||[]);if(i.length){for(var o=0;o<i.length;o++)r===void 0||r===o?i[o].isExpanded=e:n&&n[o]&&(i[o].isExpanded=n[o].isExpanded);t.group(i),this._grouping.foreachGroups((a,s)=>{(r===void 0||r===s.length-1)&&(a.isExpanded=e)},!1,!0),this.resetPagesCache()}return!0},refresh(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand(r){var e=this._dataSource;if(e.group())return e.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(r).always(()=>{e.endLoading()})},_changeRowExpandCore(r){return this._grouping.changeRowExpand(r)},_hasGroupLevelsExpandState(r,e){if(r&&Array.isArray(r)){for(var t=0;t<r.length;t++)if(r[t].isExpanded===e)return!0}},_customizeRemoteOperations(r,e){var{remoteOperations:t}=r;r.storeLoadOptions.group?(t.grouping&&!r.isCustomLoading&&(!t.groupPaging||this._hasGroupLevelsExpandState(r.storeLoadOptions.group,!0))&&(t.paging=!1),!t.grouping&&(!t.sorting||!t.filtering||r.isCustomLoading||this._hasGroupLevelsExpandState(r.storeLoadOptions.group,!1))&&(t.paging=!1)):!r.isCustomLoading&&t.paging&&e.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading(r){return this.callBase(r),this._initGroupingHelper(r),this._grouping.handleDataLoading(r)},_handleDataLoaded(r){return this._grouping.handleDataLoaded(r,this.callBase.bind(this))},_handleDataLoadedCore(r){return this._grouping.handleDataLoadedCore(r,this.callBase.bind(this))}};kC.extend(lIe);var uIe={init(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems(r){var e=this._columnsController.getGroupColumns();return r=this.callBase(r),r.length&&e.length&&(r=this._processGroupItems(r,e.length)),r},_processItem(r,e){return L(r.groupIndex)&&ft(r.rowType)&&r.rowType.indexOf("group")===0?(r=this._processGroupItem(r,e),e.dataIndex=0):r=this.callBase.apply(this,arguments),r},_processGroupItem:r=>r,_processGroupItems(r,e,t){var n=this._columnsController.getGroupColumns(),i=n[n.length-e];if(!t){var o=this.option("scrolling.mode");t={collectContinuationItems:o!=="virtual"&&o!=="infinite",resultItems:[],path:[],values:[]}}var{resultItems:a}=t;if(t.data&&(t.collectContinuationItems||!t.data.isContinuation)&&a.push({rowType:"group",data:t.data,groupIndex:t.path.length-1,isExpanded:!!t.data.items,key:t.path.slice(0),values:t.values.slice(0)}),r)if(e===0)a.push.apply(a,r);else for(var s=0;s<r.length;s++){var l=r[s];l&&"items"in l?(t.data=l,t.path.push(l.key),t.values.push(i&&i.deserializeValue&&!i.calculateDisplayValue?i.deserializeValue(l.key):l.key),this._processGroupItems(l.items,e-1,t),t.data=void 0,t.path.pop(),t.values.pop()):a.push(l)}return a},publicMethods(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll(r){var e=this._dataSource;e&&e.collapseAll(r)&&(e.pageIndex(0),e.reload())},expandAll(r){var e=this._dataSource;e&&e.expandAll(r)&&(e.pageIndex(0),e.reload())},changeRowExpand(r){var e=this,t=e.isRowExpanded(r),n={key:r,expanded:t};return e.executeAction(t?"onRowCollapsing":"onRowExpanding",n),n.cancel?new X().resolve():$e(e._changeRowExpandCore(r)).done(()=>{n.expanded=!t,e.executeAction(t?"onRowCollapsed":"onRowExpanded",n)})},_changeRowExpandCore(r){var e=this,t=this._dataSource,n=new X;return t?$e(t.changeRowExpand(r)).done(()=>{e.load().done(n.resolve).fail(n.reject)}).fail(n.reject):n.resolve(),n},isRowExpanded(r){var e=this._dataSource;return e&&e.isRowExpanded(r)},expandRow(r){return this.isRowExpanded(r)?new X().resolve():this.changeRowExpand(r)},collapseRow(r){return this.isRowExpanded(r)?this.changeRowExpand(r):new X().resolve()},optionChanged(r){r.name==="grouping"&&(r.name="dataSource"),this.callBase(r)}},dN=function(r,e){var t=this._columnsController;switch(e.itemData.value){case"group":var n=t._dataSource.group()||[];t.columnOption(r.dataField,"groupIndex",n.length);break;case"ungroup":t.columnOption(r.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},Z8=r=>{var e=r==null?void 0:r.visible;return e==="auto"?Ye.current().deviceType==="desktop":!!e},J8=(r,e)=>{var t=Z8(r),n=(r==null?void 0:r.allowColumnDragging)&&e.allowGrouping;return t&&!!n},cIe={_getToolbarItems(){var r=this.callBase();return this._appendGroupingItem(r)},_appendGroupingItem(r){if(this._isGroupPanelVisible()){var e=!1,t={template:()=>{var n=E("<div>").addClass(jR);return this._updateGroupPanelContent(n),Hm("groupPanel",this,n,void 0,this._handleActionKeyDown.bind(this)),n},name:"groupPanel",onItemRendered:()=>{e&&this.renderCompleted.fire(),e=!0},location:"before",locateInMenu:"never",sortIndex:1};r.push(t),this.updateToolbarDimensions()}return r},_handleActionKeyDown(r){var{event:e}=r,t=E(e.target),n=t.closest(".".concat(dS)).index(),i=this._columnsController.getGroupColumns()[n],o=i&&i.index;t.is(sIe)?this.getController("headerFilter").showHeaderFilterMenu(o,!0):this._processGroupItemAction(o),e.preventDefault()},_isGroupPanelVisible(){return Z8(this.option("groupPanel"))},_renderGroupPanelItems(r,e){var t=this;r.empty(),U(e,(n,i)=>{t._createGroupPanelItem(r,i)}),JF(this)},_createGroupPanelItem(r,e){var t=E("<div>").addClass(e.cssClass).addClass(dS).data("columnData",e).appendTo(r).text(e.caption);return oue(this,t),t},_columnOptionChanged(r){if(!this._requireReady&&!at.checkChanges(r.optionNames,["width","visibleWidth"])){var e=this.element(),t=e&&e.find(".".concat(jR));t&&t.length&&(this._updateGroupPanelContent(t),this.updateToolbarDimensions(),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent(r){var e=this.getController("columns").getGroupColumns(),t=this.option("groupPanel");this._renderGroupPanelItems(r,e),t.allowColumnDragging&&!e.length&&(E("<div>").addClass(nIe).text(t.emptyPanelText).appendTo(r),r.closest(".".concat(iIe)).addClass(FW),r.closest(".".concat(FW)).css("maxWidth","none"))},allowDragging(r){var e=this.option("groupPanel");return J8(e,r)},getColumnElements(){var r=this.element();return r&&r.find(".".concat(dS))},getColumns(){return this.getController("columns").getGroupColumns()},getBoundingRect(){var r=this.element();if(r&&r.find(".".concat(jR)).length){var e=r.offset();return{top:e.top,bottom:e.top+Dt(r)}}return null},getName:()=>"group",getContextMenuItems(r){var e=this.option("grouping.contextMenuEnabled"),t=E(r.targetElement).closest(".".concat(dS)),n;if(t.length&&(r.column=t.data("columnData")),e&&r.column){var{column:i}=r,o=L(i.allowGrouping)?i.allowGrouping:!0;if(o){var a=L(i.groupIndex)&&i.groupIndex>-1,s=this.option("grouping.texts"),l=dN.bind(this,i);n=[{text:s.ungroup,value:"ungroup",disabled:!a,onItemClick:l},{text:s.ungroupAll,value:"ungroupAll",onItemClick:l}]}}return n},isVisible(){return this.callBase()||this._isGroupPanelVisible()},hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length},optionChanged(r){r.name==="groupPanel"?(this._invalidate(),r.handled=!0):this.callBase(r)}},dIe={getContextMenuItems(r){var e=this.option("grouping.contextMenuEnabled"),t;if(e&&r.row&&r.row.rowType==="group"){var n=this._columnsController,i=n.columnOption("groupIndex:".concat(r.row.groupIndex));if(i&&i.allowGrouping){var o=this.option("grouping.texts"),a=dN.bind(this,i);t=[],t.push({text:o.ungroup,value:"ungroup",onItemClick:a},{text:o.ungroupAll,value:"ungroupAll",onItemClick:a})}}return t},_rowClick(r){var e=this.option("grouping.expandMode"),t=this.option("scrolling.mode"),n=t!=="infinite"&&e==="rowClick"&&E(r.event.target).closest(".".concat(aIe)).length,i=E(r.event.target).closest(".".concat(oIe)).length;(n||i)&&this._changeGroupRowState(r),this.callBase(r)},_changeGroupRowState(r){var e=this.getController("data"),t=e.items()[r.rowIndex],n=this._columnsController.columnOption("groupIndex:".concat(t.groupIndex),"allowCollapsing");(t.rowType==="data"||t.rowType==="group"&&n!==!1)&&(e.changeRowExpand(t.key,!0),r.event.preventDefault(),r.handled=!0)}},hIe={getContextMenuItems(r){var e=this.option("grouping.contextMenuEnabled"),t=this.callBase(r);if(e&&r.row&&(r.row.rowType==="header"||r.row.rowType==="detailAdaptive")){var{column:n}=r;if(!n.command&&(!L(n.allowGrouping)||n.allowGrouping)){var i=this.option("grouping.texts"),o=L(n.groupIndex)&&n.groupIndex>-1,a=dN.bind(this,n);t=t||[],t.push({text:i.groupByThisColumn,value:"group",beginGroup:!0,disabled:o,onItemClick:a}),n.showWhenGrouped&&t.push({text:i.ungroup,value:"ungroup",disabled:!o,onItemClick:a}),t.push({text:i.ungroupAll,value:"ungroupAll",onItemClick:a})}}return t},allowDragging(r){var e=this.option("groupPanel");return J8(e,r)||this.callBase(r)}};at.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:J.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:J.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:J.format("dxDataGrid-groupHeaderText"),ungroup:J.format("dxDataGrid-ungroupHeaderText"),ungroupAll:J.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:J.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:uIe,columns:{_getExpandColumnOptions(){var r=this.callBase.apply(this,arguments);return r.cellTemplate=at.getExpandCellTemplate(),r}},editing:{_isProcessedItem:r=>L(r.groupIndex)&&ft(r.rowType)&&r.rowType.indexOf("group")===0}},views:{headerPanel:cIe,rowsView:dIe,columnHeadersView:hIe}}});var pIe="dx-master-detail-cell",LW="dx-master-detail-row",fIe="dx-cell-focus-disabled",vIe="dx-row-lines",gIe={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:{_getExpandColumnsCore(){var r=this.callBase();return this.option("masterDetail.enabled")&&r.push({type:"detailExpand",cellTemplate:ye.getExpandCellTemplate()}),r}},data:function(){var r=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")};return{init(){r(this),this.callBase()},expandAll(e){e<0?(this._isExpandAll=!0,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},collapseAll(e){e<0?(this._isExpandAll=!1,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},isRowExpanded(e){var t=ye.getIndexByKey(e,this._expandedItems);return Array.isArray(e)?this.callBase.apply(this,arguments):!!(this._isExpandAll^(t>=0&&this._expandedItems[t].visible))},_getRowIndicesForExpand(e){var t=this.getRowIndexByKey(e);return[t,t+1]},_changeRowExpandCore(e){var t;if(Array.isArray(e))t=this.callBase.apply(this,arguments);else{var n=ye.getIndexByKey(e,this._expandedItems);if(n>=0){var{visible:i}=this._expandedItems[n];this._expandedItems[n].visible=!i}else this._expandedItems.push({key:e,visible:!0});this.updateItems({changeType:"update",rowIndices:this._getRowIndicesForExpand(e)}),t=new X().resolve()}return t},_processDataItem(e,t){var n=this.callBase.apply(this,arguments);return n.isExpanded=this.isRowExpanded(n.key),t.detailColumnIndex===void 0&&(t.detailColumnIndex=-1,U(t.visibleColumns,(i,o)=>{if(o.command==="expand"&&!L(o.groupIndex))return t.detailColumnIndex=i,!1})),t.detailColumnIndex>=0&&(n.values[t.detailColumnIndex]=n.isExpanded),n},_processItems(e,t){var n=this,{changeType:i}=t,o=[];return e=n.callBase.apply(n,arguments),i==="loadingAll"?e:(i==="refresh"&&(n._expandedItems=ho(n._expandedItems,a=>a.visible)),U(e,(a,s)=>{o.push(s);var l=ye.getIndexByKey(s.key,n._expandedItems);s.rowType==="data"&&(s.isExpanded||l>=0)&&!s.isNewRow&&o.push({visible:s.isExpanded,rowType:"detail",key:s.key,data:s.data,values:[]})}),o)},optionChanged(e){var t,n;if(e.name==="masterDetail"){switch(e.name="dataSource",e.fullName){case"masterDetail":var i=e.value||{},o=e.previousValue||{};t=i.enabled!==o.enabled,n=i.autoExpandAll!==o.autoExpandAll;break;case"masterDetail.template":r(this);break;case"masterDetail.enabled":t=!0;break;case"masterDetail.autoExpandAll":n=!0}(t||n)&&r(this)}this.callBase(e)}}}(),resizing:{fireContentReadyAction(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids(r){var e=r.closest(".".concat(LW));e.length&&$e(this._updateMasterDataGrid(e,r)).done(()=>{this._updateParentDataGrids(e.parent())})},_updateMasterDataGrid(r,e){var t=E(r).data("options"),n=E(r).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(t&&n)return this._updateMasterDataGridCore(n,t)},_updateMasterDataGridCore(r,e){var t=X();if(r.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(r,e.rowIndex,E(e.rowElement)).done(t.resolve);else{if(r.option("scrolling.useNative")===!0){r.updateDimensions().done(()=>t.resolve(!0));return}var n=r.getScrollable();n?n==null||n.update().done(()=>t.resolve()):t.resolve()}return t.promise()},_updateFixedMasterDetailGrids(r,e,t){var n=X(),i=E(r.getRowElement(e)),o=E(r.getView("rowsView").getTableElements()),a=(i==null?void 0:i.length)===2&&Dt(i.eq(0))!==Dt(i.eq(1)),s=(o==null?void 0:o.length)===2&&Dt(o.eq(0))!==Dt(o.eq(1));if(a||s){var l=gt(t);return r.updateDimensions().done(()=>{var u=this.option("columnAutoWidth")&&r.option("scrolling.useNative")===!0,c=u&&l!==gt(t);u&&c?this.updateDimensions().done(()=>n.resolve(!0)):n.resolve(!0)}),n.promise()}return X().resolve()},_toggleBestFitMode(r){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var e=this._rowsView.getTableElement();e&&e.find(".dx-master-detail-cell").css("maxWidth",r?0:"")}}}},views:{rowsView:{_getCellTemplate(r){var{column:e}=r,t=this.getController("editing"),n=t&&t.isEditRow(r.rowIndex),i;return e.command==="detail"&&!n?i=this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(e)}:i=this.callBase.apply(this,arguments),i},_isDetailRow:r=>r&&r.rowType&&r.rowType.indexOf("detail")===0,_createRow(r){var e=this.callBase.apply(this,arguments);return r&&this._isDetailRow(r)&&(this.option("showRowLines")&&e.addClass(vIe),e.addClass(LW),L(r.visible)&&e.toggle(r.visible)),e},_renderCells(r,e){var{row:t}=e,n,i=this._columnsController.getVisibleColumns();t.rowType&&this._isDetailRow(t)?this._needRenderCell(0,e.columnIndices)&&(n=this._renderCell(r,{value:null,row:t,rowIndex:t.rowIndex,column:{command:"detail"},columnIndex:0,change:e.change}),n.addClass(fIe).addClass(pIe).attr("colSpan",i.length)):this.callBase.apply(this,arguments)}}}}};at.registerModule("masterDetail",gIe);var Qw=function(r){for(var e=0,t=0,n=0;n<r.length;++n)if(r[n]==="'"&&e++,r[n]==="."&&(++t,e%2===0))return{occurrence:t,index:n};return{occurrence:1,index:-1}},FP=function(r,e,t){for(var n=-1;t--&&n++<r.length;)n=r.indexOf(e,n);return n},LP=function(r,e){return e===-1?[r]:[r.slice(0,e),r.slice(e+1)]},mIe=function(r,e){return r&&P6(r/100,e)},nE=function(r,e){if(typeof e=="string"){var t=e.split(";"),n=Lr.getSign(r,e);t[1]=t[1]||"-"+t[0],e=t[n<0?1:0],e=(a=e,a.replace(/'([^']*)'/g,s=>s.split("").map(()=>" ").join("").substr(2)));var i=/^[^#0.,]*/.exec(e)[0].length,o=/[^#0.,]*$/.exec(e)[0].length;return{start:i,end:r.length-o}}else return{start:0,end:r.length};var a},NW=function(r,e){var t=Lr.getDecimalSeparator(),n=new RegExp("[^0-9"+$c(t)+"]","g"),i=e.slice(0,r);return i.replace(n,"").length},kW=function(r){return r.split("").reverse().join("")},VW=function(r,e){if(!r)return-1;for(var t=/[0-9]/g,n=1,i=null,o=t.exec(e);o;){if(i=o.index,n>=r)return i;n++,o=t.exec(e)}return i===null?e.length:i},_Ie=function(r){return r.replace(/[^0-9e]+$/,"")},oh=function(r,e){return r.start===void 0&&(r={start:r,end:r}),{start:r.start+e,end:r.end+e}},CIe=function(r,e,t,n){t=oh(t,0);var i=Lr.getDecimalSeparator(),o=yIe(r),a=Qw(n).occurrence,s=o?0:FP(r,i,a),l=FP(e,i,a),u=LP(r,s),c=LP(e,l),d=s!==-1&&t.start>s;if(d){var h=t.start-s-1,p=NW(h,u[1]),f=c[1]?l+1+VW(p,c[1])+1:e.length;return Ac(f,e,n)}else{var v=_Ie(c[0]),g=u[0].length-t.start,m=NW(g,kW(u[0])),C=VW(m,kW(v)),y=v.length-(C+1);return Ac(y,e,n)}};function yIe(r){return r.length===1&&!!r.match(/^[,.][0-9]*$/g)}var SIe=function(r,e,t){r=oh(r,0);var n=Ac(r,e,t);return r.start>=n.start&&r.end<=n.end};function Ac(r,e,t){r=oh(r,0);var n=nE(e,t),i={start:Ni(r.start,n.start,n.end),end:Ni(r.end,n.start,n.end)};return i}var wIe=function(r,e,t){var n=nE(r,t),i=nE(e,t);return i.start-n.start},bIe="dx-numberbox-spin",EIe="dx-numberbox-spin-button",xIe=100,e7="dxNumberBox",BW=fe(Yt.up,e7),HW=fe(Yt.cancel,e7),Lp=ai.inherit({_getDefaultOptions:function(){return $(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var r=bIe+"-"+this.option("direction");this.$element().addClass(EIe).addClass(r),this._spinIcon=E("<div>").addClass(r+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var r=fe(Yt.down,this.NAME),e=this.$element();B.off(e,r),B.on(e,r,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(r){r.preventDefault(),this._clearTimer(),B.on(this.$element(),rd.name,(function(){this._feedBackDeferred=new X,vfe(this._feedBackDeferred),this._spinChangeHandler({event:r}),this._holdTimer=setInterval(this._spinChangeHandler,xIe,{event:r})}).bind(this));var e=ce.getDocument();B.on(e,BW,this._clearTimer.bind(this)),B.on(e,HW,this._clearTimer.bind(this)),this._spinChangeHandler({event:r})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){B.off(this.$element(),rd.name);var r=ce.getDocument();B.off(r,BW),B.off(r,HW),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(r){switch(r.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(r)}}}),IIe="dx-numberbox-spin",TIe="dx-numberbox-spin-container",RIe="dx-numberbox-spin-touch-friendly";class OIe extends Qx{_attachEvents(e,t){var{editor:n}=this,i=fe(Yt.down,n.NAME),o=t.children(),a=n._createAction(s=>n._spinButtonsPointerDownHandler(s));B.off(t,i),B.on(t,i,s=>a({event:s})),Lp.getInstance(o.eq(0)).option("onChange",s=>n._spinUpChangeHandler(s)),Lp.getInstance(o.eq(1)).option("onChange",s=>n._spinDownChangeHandler(s))}_create(){var{editor:e}=this,t=E("<div>").addClass(TIe),n=E("<div>").appendTo(t),i=E("<div>").appendTo(t),o=this._getOptions();return this._addToContainer(t),e._createComponent(n,Lp,$({direction:"up"},o)),e._createComponent(i,Lp,$({direction:"down"},o)),this._legacyRender(e.$element(),this._isTouchFriendly(),o.visible),{instance:t,$element:t}}_getOptions(){var{editor:e}=this,t=this._isVisible(),n=e.option("disabled");return{visible:t,disabled:n}}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){var{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,t,n){e.toggleClass(RIe,t),e.toggleClass(IIe,n)}update(){var e=super.update();if(e){var{editor:t,instance:n}=this,i=t.$element(),o=this._isVisible(),a=this._isTouchFriendly(),s=n.children(),l=Lp.getInstance(s.eq(0)),u=Lp.getInstance(s.eq(1)),c=this._getOptions();l.option(c),u.option(c),this._legacyRender(i,a,o)}}}var DIe=Math,AIe="dx-numberbox",PIe=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],MIe="NumberBoxForceValueChange",FIe=YL.inherit({_supportedKeys:function(){return $(this.callBase(),{upArrow:function(r){ii(r)||(r.preventDefault(),r.stopPropagation(),this._spinUpChangeHandler(r))},downArrow:function(r){ii(r)||(r.preventDefault(),r.stopPropagation(),this._spinDownChangeHandler(r))},enter:function(){}})},_getDefaultOptions:function(){return $(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:J.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:OIe}])},_isSupportInputMode:function(){var r=parseFloat(Gr.version);return Gr.chrome&&r>=66||Gr.safari&&r>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().generic&&!Ye.isSimulator()},options:{useLargeSpinButtons:!1}},{device:(function(){return Ye.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(AIe),this.callBase()},_getDefaultAttributes:function(){var r=this.callBase();return r.inputmode="decimal",r},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=E("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(r){this._getSubmitElement().val(qse(r))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(r){this.callBase(r);var e=qA(r),t=/[\d.,eE\-+]/.test(e);if(!t){var n=Jr(r);return ii(r)||n&&PIe.includes(n)?void 0:(r.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(r){r.delta>0?this._spinValueChange(1,r):this._spinValueChange(-1,r)},_renderValue:function(){var r=this._input().val(),e=this.option("value");(!r.length||Number(r)!==e)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var t=L(e)?null:J.format("dxNumberBox-noDataText");return this.setAria({valuenow:an(e,""),valuetext:t}),this.option("text",this._input().val()),this._updateButtons(),new X().resolve()},_forceValueRender:function(){var r=this.option("value"),e=Number(r),t=isNaN(e)?"":this._applyDisplayValueFormatter(r);this._renderDisplayText(t)},_applyDisplayValueFormatter:function(r){return this.option("displayValueFormatter")(r)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:an(this.option("min"),""),valuemax:an(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var r=this._input();!this.option("useLargeSpinButtons")&&ce.getActiveElement()!==r[0]&&B.trigger(r,"focus")},_spinUpChangeHandler:function(r){this.option("readOnly")||this._spinValueChange(1,r.event||r)},_spinDownChangeHandler:function(r){this.option("readOnly")||this._spinValueChange(-1,r.event||r)},_spinValueChange:function(r,e){var t=parseFloat(this.option("step"));if(t!==0){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,t*r);var i=this.option("min"),o=this.option("max");L(i)&&(n=Math.max(i,n)),L(o)&&(n=Math.min(o,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(r,e){var t=/[,.](.*)/,n=t.test(r),i=t.test(e);if(n||i){var o=n?t.exec(r)[0].length:0,a=i?t.exec(e)[0].length:0,s=DIe.max(o,a);return r=this._round(r+e,s),r}return r+e},_round:function(r,e){e=e||0;var t=Math.pow(10,e);return r*=t,r=Math.round(r)/t,r},_renderValueChangeEvent:function(){this.callBase();var r=fe("focusout",MIe);B.off(this.element(),r),B.on(this.element(),r,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if(this.option("mode")!=="number"){var r=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));r.val(null),r.val(e)}},_valueChangeEventHandler:function(r){var e=this._input(),t=this._normalizeText(),n=this._parseValue(t),i=t!=="."&&t!=="-";if(this._isValueValid()&&!this._validateValue(n)){e.val(this._applyDisplayValueFormatter(n));return}i&&this.callBase(r,isNaN(n)?null:n),this._applyValueBoundaries(t,n),this.validationRequest.fire({value:n,editor:this})},_applyValueBoundaries:function(r,e){var t=this._isValueIncomplete(r),n=this._isValueInRange(r);!t&&!n&&e!==null&&Number(r)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(r){return r.replace(",",".")},_inputIsInvalid:function(){var r=this.option("mode")==="number",e=this._input().get(0).validity;return r&&e&&e.badInput},_renderDisplayText:function(r){this._inputIsInvalid()||this.callBase(r)},_isValueIncomplete:function(r){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(r)},_isValueInRange:function(r){return mu(r,this.option("min"),this.option("max"))},_isNumber:function(r){return this._parseValue(r)!==null},_validateValue:function(r){var e=this._normalizeText(),t=this._isValueValid(),n=!0,i=this._isNumber(e);return isNaN(Number(r))&&(n=!1),!r&&t?n=!0:!i&&!t&&(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var r=this._input().val().trim();return this._replaceCommaWithPoint(r)},_parseValue:function(r){var e=parseFloat(r);return isNaN(e)?null:Ni(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},clear:function(){this.option("value")===null?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)},_optionChanged:function(r){switch(r.name){case"value":this._validateValue(r.value),this._setSubmitValue(r.value),this.callBase(r),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(r)}}}),KR="dxNumberFormatter",hS=1,qR=-1,GW="-",mg="minus",LIe="input",$W=0,iE=FIe.inherit({_getDefaultOptions:function(){return $(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(r){return r==="del"},_supportedKeys:function(){return this._useMaskBehavior()?$(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,qR),rightArrow:this._arrowHandler.bind(this,hS),home:this._moveCaretToBoundaryEventHandler.bind(this,hS),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,qR)}):this.callBase()},_getTextSeparatorIndex:function(r){var e=Lr.getDecimalSeparator(),t=Qw(this.option("format")).occurrence;return FP(r,e,t)},_focusInHandler:function(r){this._preventNestedFocusEvent(r)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var t=this._getInputVal(),n=this._getTextSeparatorIndex(t);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(qR,r)}}).bind(this),$W)),this.callBase(r)},_focusOutHandler:function(r){var e=!this._preventNestedFocusEvent(r);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(r),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(r){var e=this._getFormatPattern(),t=this.option("value"),n=this._format(t,e)||"";return n!==r},_updateFormattedValue:function(){var r=this._getInputVal();this._hasValueBeenChanged(r)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&B.trigger(this._input(),"change"))},_arrowHandler:function(r,e){if(this._useMaskBehavior()){var t=this._getInputVal(),n=this._getFormatPattern(),i=oh(this._caret(),r);SIe(i,t,n)||(i=r===hS?i.end:i.start,e.preventDefault(),this._caret(Ac(i,t,n)))}},_moveCaretToBoundary:function(r){var e=nE(this._getInputVal(),this._getFormatPattern()),t=oh(r===hS?e.start:e.end,0);this._caret(t)},_moveCaretToBoundaryEventHandler:function(r,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(r),e&&e.preventDefault())},_shouldMoveCaret:function(r,e){var t=Lr.getDecimalSeparator(),n=r.charAt(e.end)===t,i=(this._lastKey===t||this._lastKey==="."||this._lastKey===",")&&n;return i},_getInputVal:function(){return Lr.convertDigits(this._input().val(),!0)},_keyboardHandler:function(r){if(this.clearCaretTimeout(),this._lastKey=Lr.convertDigits(qA(r),!0),this._lastKeyName=Jr(r),!this._shouldHandleKey(r.originalEvent))return this.callBase(r);var e=this._getInputVal(),t=this._caret(),n=this._lastKeyName===mg?"":this._lastKey,i=this._tryParse(e,t,n);return this._shouldMoveCaret(e,t)&&(this._moveCaret(1),r.originalEvent.preventDefault()),i===void 0?this._lastKeyName!==mg&&r.originalEvent.preventDefault():this._parsedValue=i,this.callBase(r)},_keyPressHandler:function(r){this._useMaskBehavior()||this.callBase(r)},_removeHandler:function(r){var e=this._caret(),t=this._getInputVal(),n=e.start,i=e.end;this._lastKey=qA(r),this._lastKeyName=Jr(r);var o=this._isDeleteKey(this._lastKeyName),a=!o;if(n===i){var s=n,l=a&&s>0||o&&s<t.length;if(l)o&&i++,a&&n--;else{r.preventDefault();return}}var u=t.slice(n,i);if(this._isStub(u)){if(this._moveCaret(o?1:-1),this._parsedValue<0||1/this._parsedValue===-1/0){this._revertSign(r),this._setTextByParsedValue();var c=this.option("valueChangeEvent").split(" ").includes("input");c&&B.trigger(this._input(),"input")}r.preventDefault();return}var d=Lr.getDecimalSeparator();if(u===d){var h=t.indexOf(d);this._isNonStubAfter(h+1)&&(this._moveCaret(o?1:-1),r.preventDefault());return}if(i-n<t.length){var p=this._replaceSelectedText(t,{start:n,end:i},""),f=p.search(/[0-9]/)<0;if(f&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}}var v=this._tryParse(t,{start:n,end:i},"");v===void 0?r.preventDefault():this._parsedValue=v},_isPercentFormat:function(){var r=this._getFormatPattern(),e=r.replace(/'[^']+'/g,"");return e.indexOf("%")!==-1},_parse:function(r,e){var t=this.option("format"),n=Ne(t.parser),i=n?t.parser:Lr.parse,o=0;if(!n){var a=Qw(e).index,s=this._getTextSeparatorIndex(r),l=a!==-1?a:e.length,u=s!==-1?s:r.length;u>l&&e.indexOf("#")===-1&&(o=u-l)}return r=r.substr(o),i(r,e)},_format:function(r,e){var t=this.option("format"),n=(t==null?void 0:t.formatter)||t,i=Ne(n)?n:Lr.format,o=r===null?"":i(r,e);return o},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var r=this.option("format"),e=Ne(r==null?void 0:r.parser),t=ft(r)&&(r.indexOf("0")>=0||r.indexOf("#")>=0),n=r==="exponential"||(r==null?void 0:r.type)==="exponential",i=e||t||n;this._currentFormat=i?r:Jde(o=>{var a=this._format(o,r);return Lr.convertDigits(a,!0)})},_getFormatForSign:function(r){var e=this._getFormatPattern();if(ft(e)){var t=e.split(";"),n=Lr.getSign(r,e);return t[1]=t[1]||"-"+t[0],n<0?t[1]:t[0]}else{var i=Lr.getSign(r);return i<0?"-":""}},_removeStubs:function(r,e){var t=this._getFormatForSign(r),n=Lr.getThousandsSeparator(),i=this._getStubs(t),o=r;if(i.length){var a=i[0],s=new RegExp("("+$c(i[1]||"")+")$","g"),l=new RegExp("[-"+$c(e?"":n)+"]","g");o=o.replace(a,"").replace(s,"").replace(l,"")}return o},_getStubs:function(r){var e=/[^']([#0.,]+)/g.exec(r),t=e&&e[0].trim();return r.split(t).map(function(n){return n.replace(/'/g,"")})},_truncateToPrecision:function(r,e){if(L(r)){var t=r.toString(),n=t.indexOf(".");if(t&&n>-1){var i=parseFloat(t.substr(0,n+e+1));return isNaN(i)?r:i}}return r},_tryParse:function(r,e,t){var n=e.start!==e.end,i=n&&e.start===0&&e.end===r.length,o=Lr.getDecimalSeparator();if(i&&t===o)return 0;var a=this._replaceSelectedText(r,e,t),s=this._getFormatPattern(),l=this._getParsedValue(a,s),u=!s.parser&&this._getPrecisionLimits(a).max,c=l!==this._parsedValue,d=t===o&&u===0,h=!n&&!c&&t!==GW&&!this._isValueIncomplete(a)&&this._isStub(t);if(!(d||h)&&(this._removeStubs(a)===""&&(l=Math.abs(0*this._parsedValue)),!isNaN(l))){var p=l===null?this._parsedValue:l;return l=u?this._truncateToPrecision(p,u):l,!s.parser&&this._isPercentFormat()?mIe(l,u):l}},_getParsedValue:function(r,e){var t=Lr.getSign(r,(e==null?void 0:e.formatter)||e),n=this._removeStubs(r,!0),i=this._parse(n,e),o=i<0?-1:1,a=Tr(i)&&t!==o?t*i:i;return a},_isValueIncomplete:function(r){if(!this._useMaskBehavior())return this.callBase(r);var e=this._caret(),t=Lr.getDecimalSeparator(),n=this._getTextSeparatorIndex(r),i=n>=0&&n<e.start,o=this._removeStubs(r,!0).split(t);if(!i||o.length!==2)return!1;var a=o[1].length,s=this._getFormatPattern(),l=!!s.parser,u=!l&&this._getPrecisionLimits(this._getFormatPattern(),r),c=l?!0:mu(a,u.min,u.max),d=o[1].charAt(a-1)==="0";return c&&(d||!a)},_isValueInRange:function(r){var e=an(this.option("min"),-1/0),t=an(this.option("max"),1/0);return mu(r,e,t)},_setInputText:function(r){var e=Lr.convertDigits(r,!0),t=CIe(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(r),this._toggleEmptinessEventHandler(),this._formattedValue=r,this._focusOutOccurs||this._caret(t)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var r=this.option("mode")==="number",e=Ye.real().deviceType==="desktop";this._useMaskBehavior()&&r?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(r){return ft(r)&&r.length===1},_moveCaret:function(r){if(r){var e=oh(this._caret(),r),t=Ac(e,this._getInputVal(),this._getFormatPattern());this._caret(t)}},_shouldHandleKey:function(r){var e=Jr(r),t=ii(r)||r.altKey||r.shiftKey||!this._isChar(e),n=e===mg,i=this._useMaskBehavior();return i&&!t&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){B.off(this._input(),"."+KR)},_isInputFromPaste:function(r){var e=r.originalEvent&&r.originalEvent.inputType;return L(e)?e==="insertFromPaste":this._isValuePasted},_attachFormatterEvents:function(){var r=this._input();B.on(r,fe(LIe,KR),(function(e){this._formatValue(e),this._isValuePasted=!1}).bind(this)),B.on(r,fe("dxclick",KR),(function(){this._caretTimeout||(this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0,this._caret(Ac(this._caret(),this._getInputVal(),this._getFormatPattern()))}).bind(this),$W))}).bind(this)),B.on(r,"dxdblclick",(function(){this.clearCaretTimeout()}).bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(r){var e=this._getInputVal().slice(r);return e&&!this._isStub(e,!0)},_isStub:function(r,e){var t=$c(Lr.getDecimalSeparator()),n="^[^0-9"+t+"]+$",i=new RegExp(n,"g");return i.test(r)&&(e||this._isChar(r))},_parseValue:function(r){return this._useMaskBehavior()?this._parsedValue:this.callBase(r)},_getPrecisionLimits:function(r){var e=this._getFormatForSign(r),t=Qw(e).index,n=(LP(e,t)[1]||"").replace(/[^#0]/g,""),i=n.replace(/^(0*)#*/,"$1").length,o=n.length;return{min:i,max:o}},_revertSign:function(r){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end)if(Jr(r)===mg){this._applyRevertedSign(r,e,!0);return}else this._caret(Ac(0,this._getInputVal(),this._getFormatPattern()));this._applyRevertedSign(r,e)}},_applyRevertedSign:function(r,e,t){var n=-1*an(this._parsedValue,null);if((this._isValueInRange(n)||n===0)&&(this._parsedValue=n,t)){var i=this._getFormatPattern(),o=this._getInputVal();this._setTextByParsedValue(),r.preventDefault();var a=this._getInputVal(),s=wIe(o,a,i);e=oh(e,s);var l=Ac(e,a,i);this._caret(l)}},_removeMinusFromText:function(r,e){var t=this._lastKeyName===mg&&r.charAt(e.start-1)===GW;return t?this._replaceSelectedText(r,{start:e.start-1,end:e.start},""):r},_setTextByParsedValue:function(){var r=this._getFormatPattern(),e=this._parseValue(),t=this._format(e,r)||"";this._setInputText(t)},_formatValue:function(r){var e=this._getInputVal(),t=this._caret(),n=this._removeMinusFromText(e,t),i=n!==e;if(e=n,!this._isInputFromPaste(r)&&this._isValueIncomplete(n)){this._formattedValue=e,i&&this._setTextByParsedValue();return}var o=Lr.convertDigits(this._formattedValue,!0)!==e;if(o){var a=this._tryParse(e,t,"");L(a)&&(this._parsedValue=a)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var r=this._getInputVal();this._parsedValue=this._tryParse(r,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var r=this._removeStubs(this._getInputVal()),e=r?this._parseValue():null;if(!Tr(e)){this._parsedValue=e;return}this._parsedValue=Ni(e,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(r){if(!this._useMaskBehavior())return this.callBase(r);var e=this._caret();this._saveValueChangeEvent(r),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(r){switch(r.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(r);break;default:this.callBase(r)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});Kt("dxNumberBox",iE);var NIe="dx-dropdowneditor-button",kIe="dx-dropdowneditor-button-visible",VIe="dxDropDownEditor-selectLabel";let BIe=class extends Qx{constructor(e,t,n){super(e,t,n),this.currentTemplate=null}_attachEvents(e){var{editor:t}=this;e.option("onClick",n=>{var i;if((i=t._shouldCallOpenHandler)!==null&&i!==void 0&&i.call(t)){t._openHandler(n);return}!t.option("openOnFieldClick")&&t._openHandler(n)}),B.on(e.$element(),"mousedown",n=>{t.$element().is(".dx-state-focused")&&n.preventDefault()})}_create(){var{editor:e}=this,t=E("<div>"),n=this._getOptions();this._addToContainer(t);var i=e._createComponent(t,gi,$({},n,{elementAttr:{"aria-label":J.format(VIe)}}));return this._legacyRender(e.$element(),t,n.visible),{$element:t,instance:i}}_getOptions(){var{editor:e}=this,t=this._isVisible(),n=e.option("readOnly"),i={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:n,visible:t};return this._addTemplate(i),i}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,t,n){e.toggleClass(kIe,n),t&&t.removeClass("dx-button").removeClass("dx-button-mode-contained").addClass(NIe)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var e=super.update();if(e){var{editor:t,instance:n}=this,i=t.$element(),o=this._getOptions();n==null||n.option(o),this._legacyRender(i,n==null?void 0:n.$element(),o.visible)}}};var oE=function(r){if(yt())return er(r)},hN=function(r){return r===null&&(r=void 0),typeof r=="function"&&(r=r()),r},HIe="dx-dropdowneditor",WW="dx-dropdowneditor-input-wrapper",GIe="dx-dropdowneditor-icon",pS="dx-dropdowneditor-overlay",$Ie="dx-dropdowneditor-overlay-flipped",WIe="dx-dropdowneditor-active",zIe="dx-dropdowneditor-field-clickable",UIe="dx-dropdowneditor-field-template-wrapper",zW=Ye.current().platform==="ios",pN=qC.inherit({_supportedKeys:function(){return $({},this.callBase(),{tab:function(r){if(this.option("opened")){if(!this._popup.getFocusableElements().length){this.close();return}var e=r.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(B.trigger(e,"focus"),e.select()),r.preventDefault()}},escape:function(r){return this.option("opened")&&r.preventDefault(),this.close(),!0},upArrow:function(r){return!ii(r)&&(r.preventDefault(),r.stopPropagation(),r.altKey)?(this.close(),!1):!0},downArrow:function(r){return!ii(r)&&(r.preventDefault(),r.stopPropagation(),r.altKey)?(this._validatedOpening(),!1):!0},enter:function(r){return this.option("opened")&&(r.preventDefault(),this._valueChangeEventHandler(r)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:BIe}])},_getDefaultOptions:function(){return $(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:J.format("OK"),cancelButtonText:J.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(r){var e=ud(r);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(r){var e=r.platform==="generic";return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+WW).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(r){var{my:e,at:t}=this._getDefaultPopupPosition(r),n=this.option("popupPosition");this.option("popupPosition",$({},n,{my:e,at:t}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(HIe),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(E("<div>").addClass(WW)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var r=this._getFieldTemplate();r&&this._renderTemplatedField(r,this._fieldRenderData())},_renderPlaceholder:function(){var r=!!this._getFieldTemplate();r||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var r=this.callBase();r.always(this._renderField.bind(this))},_renderTemplatedField:function(r,e){var t=Jc(this._input()),n=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),n.empty();var i=E("<div>").addClass(UIe).appendTo(n);r.render({model:e,container:ut(i),onRendered:()=>{var o=!!this.$element().find(i).length;if(o){var a=this._input();if(!a.length)throw Ht.Error("E1010");this._integrateInput(),t&&B.trigger(a,"focus")}}}),this._attachWrapperContent(n)},_detachWrapperContent(){var r,e,t,n=this.option("useHiddenSubmitElement");n&&((r=this._$submitElement)===null||r===void 0||r.detach());var i=(e=this._$beforeButtonsContainer)===null||e===void 0?void 0:e[0].parentNode,o=(t=this._$afterButtonsContainer)===null||t===void 0?void 0:t[0].parentNode;i==null||i.removeChild(this._$beforeButtonsContainer[0]),o==null||o.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(r){var e,t=this.option("useHiddenSubmitElement");r.prepend(this._$beforeButtonsContainer),t&&((e=this._$submitElement)===null||e===void 0||e.appendTo(r)),r.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){B.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new iv(function(r){var e=E("<div>").addClass(GIe);E(r.container).append(e)})}),this.callBase()},_renderOpenHandler:function(){var r=this._inputWrapper(),e=fe(sr,this.NAME),t=this.option("openOnFieldClick");B.off(r,e),B.on(r,e,this._getInputClickHandler(t)),this.$element().toggleClass(zIe,t),t&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){zW&&(this._detachFocusOutEvents(),B.on(this._inputWrapper(),fe("focusout",this.NAME),r=>{var e=r.relatedTarget;if(e&&this.option("opened")){var t=this._isTargetOutOfComponent(e);t&&this.close()}}))},_isTargetOutOfComponent:function(r){var e=this.content?E(this.content()).closest(".".concat(pS)):this._$popup,t=E(r).closest(".".concat(pS),e).length===0;return t},_detachFocusOutEvents:function(){zW&&B.off(this._inputWrapper(),fe("focusout",this.NAME))},_getInputClickHandler:function(r){return r?e=>{this._executeOpenAction(e)}:e=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(r){this._openOnFieldClickAction({event:r})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!Jc(this._input())&&(this._resetCaretPosition(),B.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this._input().get(0);if(e){var{value:t}=e,n=L(t)&&(r||this._isEditable())?t.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(r){this._focusInput()&&(this.option("readOnly")||(r=arguments.length?r:!this.option("opened"),this.option("opened",r)))},_getControlsAria(){return this._popup&&this._popupContentId},_renderOpenedState:function(){var r=this.option("opened");r&&this._createPopup(),this.$element().toggleClass(WIe,r),this._setPopupOption("visible",r);var e={expanded:r,controls:this._getControlsAria()};this.setAria(e),this.setAria("owns",r?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=E("<div>").addClass(pS).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:Z,_renderPopup:function(){var r=$(this._popupConfig(),this._options.cache("dropDownOptions"));delete r.closeOnOutsideClick,r.elementAttr&&!Object.keys(r.elementAttr).length&&delete r.elementAttr,this._popup=this._createComponent(this._$popup,ql,r),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._attachPopupKeyHandler(),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_attachPopupKeyHandler(){B.on(this._popup.$overlayContent(),fe("keydown",this.NAME),r=>this._popupKeyHandler(r))},_popupKeyHandler(r){switch(Jr(r)){case"tab":this._popupTabHandler(r);break;case"escape":this._popupEscHandler(r)}},_popupTabHandler(r){var e=E(r.target),t=r.shiftKey&&e.is(this._getFirstPopupElement()),n=!r.shiftKey&&e.is(this._getLastPopupElement());(n||t)&&(B.trigger(this.field(),"focus"),r.preventDefault())},_popupEscHandler(){B.trigger(this._input(),"focus"),this.close()},_setPopupContentId(r){this._popupContentId="dx-"+new dn,this.setAria("id",this._popupContentId,r)},_contentReadyHandler:Z,_popupConfig:function(){return{onInitialized:this._getPopupInitializedHandler(),position:$(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>oE(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:r=>this._closeOutsideDropDownHandler(r),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_hideOnParentScrollTarget:this.$element(),_wrapperClassExternal:pS,_ignorePreventScrollEventsDeprecation:!0}},_popupInitializedHandler:Z,_getPopupInitializedHandler:function(){var r=this.option("onPopupInitialized");return e=>{this._popupInitializedHandler(e),r&&this._popupInitializedAction({popup:e.component})}},_dimensionChanged:function(){if(yt()&&!this.$element().is(":visible")){this.close();return}this._updatePopupWidth()},_updatePopupWidth:function(){var r=hN(this.option("dropDownOptions.width"));r===void 0&&this._setPopupOption("width",()=>oE(this.$element()))},_popupPositionedHandler:function(r){var e,t,{labelMode:n,stylingMode:i}=this.option();if(this._popup){var o=this._popup.$overlayContent(),a=(e=r.position)===null||e===void 0||(t=e.v)===null||t===void 0?void 0:t.flip,s=n!=="hidden"&&n!=="outside"&&i==="outlined";if(r.position&&o.toggleClass($Ie,a),a&&s&&this._label.isVisible()){var l=this._label.$element();ci(o,{top:os(o).top-parseInt(l.css("fontSize"))})}}},_popupShowingHandler:Z,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var r;this._openAction(),(r=this._validationMessage)===null||r===void 0||r.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var r;this._closeAction(),(r=this._validationMessage)===null||r===void 0||r.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var r=this.option("validationMessagePosition");if(r!=="auto")return r;var e="bottom";if(this._popup&&this._popup.option("visible")){var{top:t}=js.setup(this.$element()),{top:n}=js.setup(this._popup.$content());e=t+this.option("popupPosition").offset.v>n?"bottom":"top"}return e},_closeOutsideDropDownHandler:function(r){var{target:e}=r,t=E(e),n=this.getButton("dropDown"),i=n&&n.$element(),o=!!t.closest(this.$element()).length,a=!!t.closest(i).length,s=!o&&!a;return s},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(r,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return E(this._popup.getFocusableElements()).first()},_getLastPopupElement:function(){return E(this._popup.getFocusableElements()).last()},_popupToolbarItemsConfig:function(){var r=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(r)},_applyButtonsLocation:function(r){var e=this.option("buttonsLocation"),t=r;if(e!=="default"){var n=bv(e);U(t,function(i,o){$(o,{toolbar:n[0],location:n[1]})})}return t},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(r){var e=ai.getOptionsFromContainer(r);this._setPopupOption(e);var t=Object.keys(e);(t.indexOf("width")!==-1||t.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=E("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(r){var e;switch(r.name){case"width":case"height":this.callBase(r),(e=this._popup)===null||e===void 0||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":L(r.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(r),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":yt()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(r.value),this.callBase(r);break;default:this.callBase(r)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return ut(this._input())},content:function(){return this._popup?this._popup.content():null}});Kt("dxDropDownEditor",pN);var jIe="dx-list-item",UW="dx-list-group",fN=20,KIe=(1<<fN)-1,jW=function(r){return(r.group<<fN)+r.item},Td=function(r){return{group:r>>fN,item:r&KIe}},qIe=JL.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+UW)},_groupItemElements:function(r){return r.find("."+jIe)},getIndexByItemData:function(r){var e=this._collectionWidget.option("items"),t=!1;return r?(r.items&&r.items.length&&(r=r.items[0]),U(e,function(n,i){if(!i.items||(U(i.items,function(o,a){return a!==r?!0:(t={group:n,item:o},!1)}),t))return!1}),t):!1},getItemDataByIndex:function(r){var e=this._collectionWidget.option("items");return Tr(r)?this.itemsGetter()[r]:r&&e[r.group]&&e[r.group].items[r.item]||null},itemsGetter:function(){for(var r=[],e=this._collectionWidget.option("items"),t=0;t<e.length;t++)e[t]&&e[t].items?r=r.concat(e[t].items):r.push(e[t]);return r},deleteItemAtIndex:function(r){var e=Td(r),t=this._collectionWidget.option("items")[e.group].items;t.splice(e.item,1)},getKeysByItems:function(r){var e=[],t;for(t=0;t<r.length;t++)r[t]&&r[t].items?e=e.concat(r[t].items):e.push(r[t]);var n=[];for(t=0;t<e.length;t++)n.push(this._collectionWidget.keyOf(e[t]));return n},getIndexByKey:function(r,e){var t=e||this._collectionWidget.option("items"),n=-1,i=this;return U(t,function(o,a){if(a.items&&(U(a.items,function(s,l){var u=i._collectionWidget.keyOf(l);if(i._equalKeys(u,r))return n={group:o,item:s},!1}),n!==-1))return!1}),n},_getGroups:function(r){var e=this._collectionWidget._dataController,t=e.group();return t?Ru.queryByOptions(po(r),{group:t}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(r,e){var t=[],n=this._getGroups(e),i={},o=a=>{var s=this.getIndexByKey(a,n),l=s&&n[s.group];if(l)return{groupKey:l.key,item:l.items[s.item]}};return U(r,function(a,s){var l=o(s);if(l){var u=l.groupKey,c=l.item,d=i[u];d||(d={key:u,items:[]},i[u]=d,t.push(d)),d.items.push(c)}}),t},moveItemAtIndexToIndex:function(r,e){var t=this._collectionWidget.option("items"),n=Td(r),i=Td(e),o=t[n.group].items,a=t[i.group].items,s=o[n.item];o.splice(n.item,1),a.splice(i.item,0,s)},_isItemIndex:function(r){return r&&Tr(r.group)&&Tr(r.item)},_getNormalizedItemIndex:function(r){var e=E(r),t=e.closest("."+UW);return t.length?jW({group:this._groupElements().index(t),item:this._groupItemElements(t).index(e)}):-1},_normalizeItemIndex:function(r){return jW(r)},_denormalizeItemIndex:function(r){return Td(r)},_getItemByNormalizedIndex:function(r){var e=Td(r),t=this._groupElements().eq(e.group);return this._groupItemElements(t).eq(e.item)},_itemsFromSameParent:function(r,e){return Td(r).group===Td(e).group}}),t7={};function YIe(r,e,t){var n=t7,i={};i[r]=n[r]?n[r]:{},i[r][e]=t,$(n,i)}var r7=[],u0=function(r,e,t){r7.push({enabled:r,decoratorType:e,decoratorSubType:t})};u0(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});u0(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var r=this.option("itemDeleteMode");return r==="toggle"||r==="slideButton"||r==="swipe"||r==="static"?"delete":"menu"},function(){var r=this.option("itemDeleteMode");return r==="slideItem"&&(r="slide"),r});u0(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});u0(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var XIe="dx-list-item-before-bag",QIe="dx-list-item-after-bag",ZIe="beforeBag",JIe="afterBag",eTe="modifyElement",tTe="afterRender",rTe="getExcludedSelectors",nTe=tr.inherit({ctor:function(r){this._list=r,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&U(this._decorators,function(r,e){e.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],U(r7,(function(r,e){var t=e.enabled.call(this._list);if(t){var n=e.decoratorType.call(this._list),i=e.decoratorSubType.call(this._list),o=this._createDecorator(n,i);this._decorators.push(o)}}).bind(this))},_createDecorator:function(r,e){var t=this._findDecorator(r,e);return new t(this._list)},_findDecorator:function(r,e){var t,n=(t=t7[r])===null||t===void 0?void 0:t[e];if(!n)throw Ht.Error("E1012",r,e);return n},modifyItemElement:function(r){var e=E(r.itemElement),t={$itemElement:e};this._prependBeforeBags(e,t),this._appendAfterBags(e,t),this._applyDecorators(eTe,t)},afterItemsRendered:function(){this._applyDecorators(tTe)},_prependBeforeBags:function(r,e){var t=this._collectDecoratorsMarkup(ZIe,e,XIe);r.prepend(t)},_appendAfterBags:function(r,e){var t=this._collectDecoratorsMarkup(JIe,e,QIe);r.append(t)},_collectDecoratorsMarkup:function(r,e,t){var n=E("<div>");return U(this._decorators,function(){var i=E("<div>").addClass(t);this[r]($({$container:i},e)),i.children().length&&n.append(i)}),n.children()},_applyDecorators:function(r,e){U(this._decorators,function(){this[r](e)})},_handlerExists:function(r){if(!this._decorators)return!1;for(var e=this._decorators,t=e.length,n=0;n<t;n++)if(e[n][r]!==Z)return!0;return!1},_eventHandler:function(r,e,t){if(!this._decorators)return!1;for(var n=!1,i=this._decorators,o=i.length,a=0;a<o&&(n=i[a][r](e,t),!n);a++);return n},handleClick:function(r,e){return this._eventHandler("handleClick",r,e)},handleKeyboardEvents:function(r,e){return this._eventHandler("handleKeyboardEvents",r,e)},handleEnterPressing:function(r){return this._eventHandler("handleEnterPressing",r)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(r,e){return this._eventHandler("handleContextMenu",r,e)},getExcludedItemSelectors:function(){var r=[];return this._applyDecorators(rTe,r),r.join(",")}}),iTe="dx-list-item-selected",oTe="dx-list-item-response-wait",aTe=aN.inherit({_supportedKeys(){var r=this,e=this.callBase(),t=(n,i)=>{var o=this._editStrategy,a=this.option("focusedElement"),s=o.getNormalizedIndex(a),l=s===this._getLastItemIndex();if(!(l&&this._dataController.isLoading()))if(n.shiftKey&&r.option("itemDragging.allowReordering")){var u=s+(i?-1:1),c=o.getItemElement(u);this.reorderItem(a,c),this.scrollToItem(a),n.preventDefault()}else{var d=this._editProvider,h=d.handleKeyboardEvents(s,i);h||(i?e.upArrow(n):e.downArrow(n))}};return $({},e,{del:n=>{r.option("allowItemDeleting")&&(n.preventDefault(),r.deleteItem(r.option("focusedElement")))},upArrow:n=>t(n,!0),downArrow:n=>t(n),enter:function(n){this._editProvider.handleEnterPressing(n)||e.enter.apply(this,arguments)},space:function(n){this._editProvider.handleEnterPressing(n)||e.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var r=this._editProvider.getExcludedItemSelectors();r.length&&(this._itemElementsCache=this._itemElementsCache.not(r))},_isItemStrictEquals:function(r,e){var t=r&&r.__dx_key__;return t&&!this.key()&&this._selection.isItemSelected(t)?!1:this.callBase(r,e)},_getDefaultOptions(){return $(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:J.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:r=>r.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new nTe(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new qIe(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>iTe,_itemResponseWaitClass:()=>oTe,_itemClickHandler(r){var e=E(r.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var t=this._editProvider.handleClick(e,r);t||(this._saveSelectionChangeEvent(r),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(r){var e=E(r.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var t=SC(r)&&this._editProvider.handleContextMenu(e,r);if(t){r.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(r){if(this.option("grouped")){var e,t=(e=this._editStrategy.getIndexByItemData(r))===null||e===void 0?void 0:e.group;return this._getGroupContainerByIndex(t)}else return this.callBase(r)},_itemContextMenuHandler(r){var e=E(r.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var t=!r.handledByEditProvider&&this._editProvider.handleContextMenu(e,r);if(t){r.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(r){this.callBase(...arguments),this._editProvider.modifyItemElement(r)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(r){var e=this._editStrategy.getItemElement(r);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(r){switch(r.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(r);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(r)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(r){return this._itemElements().index(r)},getItemElementByFlatIndex(r){var e=this._itemElements();return r<0||r>=e.length?E():e.eq(r)},getItemByIndex(r){return this._editStrategy.getItemDataByIndex(r)},deleteItem(r){var e=this._editStrategy,t=e.getNormalizedIndex(r),n=this.option("focusedElement"),i=n?e.getNormalizedIndex(n):t,o=i===this._getLastItemIndex(),a=o||t<i?i-1:i,s=this.callBase(r);return s.done(function(){return this.focusListItem(a)})}}),Rv=aTe.inherit(zh).inherit({_addWidgetPrefix:function(r){return"dx-list-"+r},_getCombinedFilter:function(){var r=this._dataController,e={filter:r.filter()};r.addSearchFilter(e);var t=e.filter;return t},_initDataSource:function(){var r=this.option("searchValue"),e=this.option("searchExpr"),t=this.option("searchMode");this.callBase();var n=this._dataController;r&&r.length&&n.searchValue(r),t.length&&n.searchOperation(zh.getOperationBySearchMode(t)),e&&n.searchExpr(e)}});Kt("dxList",Rv);var KW=$({},Xx,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new Ou({store:new TC(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=Ar(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=Ar(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(r){var e=new X;return r=this._unwrappedValue(r),L(r)?(this._loadSingle(this._valueGetterExpr(),r).done((function(t){this._isValueEquals(this._valueGetter(t),r)?e.resolve(t):e.reject()}).bind(this)).fail(function(){e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var r;(r=this._loadValueDeferred)===null||r===void 0||r.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(r){var e;return r=(e=r)!==null&&e!==void 0?e:this._getCurrentValue(),r&&this._dataSource&&this._valueGetterExpr()==="this"&&(r=this._getItemKey(r)),Xi.unwrap(r)},_getItemKey:function(r){var e=this._dataSource.key();if(Array.isArray(e)){for(var t={},n=0,i=e.length;n<i;n++)t[e[n]]=r[e[n]];return t}return e&&typeof r=="object"&&(r=r[e]),r},_isValueEquals:function(r,e){var t=this._dataSource&&this._dataSource.key(),n=this._compareValues(r,e);return!n&&t&&L(r)&&L(e)&&(Array.isArray(t)?n=this._compareByCompositeKey(r,e,t):n=this._compareByKey(r,e,t)),n},_compareByCompositeKey:function(r,e,t){var n=pt;if(!n(r)||!n(e))return!1;for(var i=0,o=t.length;i<o;i++)if(r[t[i]]!==e[t[i]])return!1;return!0},_compareByKey:function(r,e,t){var n=Xi.unwrap,i=an(n(r[t]),r),o=an(n(e[t]),e);return this._compareValues(i,o)},_compareValues:function(r,e){return wi(r,!0)===wi(e,!0)},_initDynamicTemplates:Z,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var r=this.option("valueExpr"),e=ft(r)&&r!=="this"||Ne(r);return e?r:null},_dataExpressionOptionChanged:function(r){switch(r.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),qW=Rt(),sTe=".dx-list-item",lTe="dxListItemData",uTe="dx-dropdownlist-popup-wrapper",cTe="input",dTe=["startswith","contains","endwith","notcontains"],YW=Ye.real().platform!=="android",n7=pN.inherit({_supportedKeys:function(){var r=this.callBase();return $({},r,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var t=E(this._list.option("focusedElement"));t.length&&this._setSelectedElement(t)}r.tab.apply(this,arguments)},space:Z,home:Z,end:Z})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(r){var e=this._valueGetter(this._list._getItemData(r));this._setValue(e)},_setValue:function(r){this.option("value",r)},_getDefaultOptions:function(){return $(this.callBase(),$(KW._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:J.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:Z,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),$(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var r=this.option().items;r&&!r.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new CL("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(r){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(r,e,t){return r>t?e:r<e?t:r},_items:function(){var r=this._getPlainItems(!this._list&&this._dataSource.items()),e=new po(r).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(r){var e=this._items(),t=this._fitIntoRange(this._getSelectedIndex()+r,0,e.length-1);return e[t]},_getSelectedIndex:function(){var r=this._items(),e=this.option("selectedItem"),t=-1;return U(r,(function(n,i){if(this._isValueEquals(i,e))return t=n,!1}).bind(this)),t},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var r=this._popup.$content();B.off(r,"mouseup"),B.on(r,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var r=this.option("dropDownOptions.container"),e=r&&E(r);if(e&&e.length&&!bn(e.get(0))){var t=[].slice.call(e.parents());t.unshift(e.get(0)),U(t,(function(n,i){if(i===E("body").get(0))return!1;if(qW.getComputedStyle(i).overflowY==="hidden")return this._$customBoundaryContainer=E(i),!1}).bind(this))}},_popupWrapperClass:function(){return uTe},_renderInputValue:function(){var r=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(r,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,r))},_loadInputValue:function(r,e){return this._loadItem(r).always(e)},_getItemFromPlain:function(r,e){var t,n;return e&&typeof r!="object"&&(e.itemByValue||(e.itemByValue={},t=this._getPlainItems(),t.forEach(function(i){e.itemByValue[this._valueGetter(i)]=i},this)),n=e.itemByValue[r]),n||(t=this._getPlainItems(),n=ho(t,(function(i){return this._isValueEquals(this._valueGetter(i),r)}).bind(this))[0]),n},_loadItem:function(r,e){var t=this._getItemFromPlain(r,e);return t!==void 0?new X().resolve(t).promise():this._loadValue(r)},_getPlainItems:function(r){var e=[];r=r||this.option("items")||this._dataSource.items()||[];for(var t=0;t<r.length;t++)r[t]&&r[t].items?e=e.concat(r[t].items):e.push(r[t]);return e},_updateActiveDescendant(r){var e,t=this.option("opened"),n=(e=this._list)===null||e===void 0?void 0:e.getFocusedItemId(),i=E("#".concat(n)).length>0,o=t&&i&&n;this.setAria({activedescendant:o||null},r)},_setSelectedItem:function(r){var e=this._displayValue(r);this.option("selectedItem",an(r,null)),this.option("displayValue",e)},_displayValue:function(r){return this._displayGetter(r)},_refreshSelected:function(){var r={};this._listItemElements().each((function(e,t){var n=E(t),i=this._valueGetter(n.data(lTe)),o=this._isSelectedValue(i,r);o?this._list.selectItem(n):this._list.unselectItem(n)}).bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(r){return this._isValueEquals(r,this.option("value"))},_validateSearchMode:function(){var r=this.option("searchMode"),e=r.toLowerCase();if(!dTe.includes(e))throw Ht.Error("E1019",r)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail((function(){this._isCustomValueAllowed()||this._clearSelectedItem()}).bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},clear:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(sTe):E()},_popupConfig:function(){return $(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var r=this._canListHaveFocus();return this.callBase().concat([!r&&this._list])},_renderList:function(){this._listId="dx-"+new dn()._value;var r=E("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=r,this._list=this._createComponent(r,Rv,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var r=fe("mousedown","dxDropDownList");B.off(this._$list,r),B.on(this._$list,r,e=>e.preventDefault())},_getControlsAria(){return this._list&&this._listId},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var r=!!this._list.option("dataSource");return r!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return Ye.real().deviceType==="desktop"},_listConfig:function(){var r={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(r.tabIndex=null),r},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()},_setListOption:function(r,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(r){this._listItemClickHandler(r),this._itemClickAction(r)},_listItemClickHandler:Z,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var r=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!r&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return fe(cTe,this.NAME+"Search")},_getCompositionStartEvent:function(){return fe("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return fe("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return fe("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),B.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(B.on(this._input(),this._getSearchEvent(),r=>{this._searchHandler(r)}),YW&&(B.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),B.on(this._input(),this._getCompositionEndEvent(),r=>{this._isTextCompositionInProgress(void 0),this._searchHandler(r,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){B.off(this._input(),this._getSearchEvent()),B.off(this._input(),this._getSetFocusPolicyEvent()),YW&&(B.off(this._input(),this._getCompositionStartEvent()),B.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(r){if(arguments.length)this._isTextComposition=r;else return this._isTextComposition},_searchHandler:function(r,e){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var t=this.option("searchTimeout");t?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(e)},t)):this._searchDataSource(e)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(r)},_filterDataSource:function(r){this._clearSearchTimer();var e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(r),e.load().done(this._dataSourceFiltered.bind(this,r))},_clearFilter:function(){var r=this._dataController;r.searchValue()&&r.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var r=this._shouldOpenPopup();r&&!this._isFocused()||(this.option("opened",r),r&&(this._updatePopupWidth(),this._updateListDimensions()))}},_dataSourceChangedHandler:function(r){this._dataController.pageIndex()===0?this.option().items=r:this.option().items=this.option().items.concat(r)},_hasItemsToShow:function(){var r=this._dataController,e=r.items()||[],t=e.length,n=this._needPassDataSourceToList();return!!(n&&t)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._updatePopupWidth(),this._updateListDimensions()},_dimensionChanged:function(){this.callBase(),this._updateListDimensions()},_needPopupRepaint:function(){var r=this._dataController,e=r.pageIndex(),t=L(this._pageIndex)&&e<=this._pageIndex||r.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,t},_updateListDimensions:function(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())},_getMaxHeight:function(){var r=this.$element(),e=this._$customBoundaryContainer,t=r.offset().top-(e?e.offset().top:0),n=Vt(qW),i=e?Math.min(Vt(e),n):n,o=Math.max(t,i-t-Vt(r));return Math.min(.5*i,o)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var r=this.option("value"),e=this._shouldUseDisplayValue(r)?this._displayGetter(r):r;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(r){return this.option("valueExpr")==="this"&&pt(r)},_optionChanged:function(r){switch(this._dataExpressionOptionChanged(r),r.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(r.name,r.value),this.callBase(r);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(r.name);break;case"displayValue":this.option("text",r.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":r.previousValue!==r.value&&this._selectionChangedAction({selectedItem:r.value});break;default:this.callBase(r)}}}).include(KW,A8);Kt("dxDropDownList",n7);var hTe="dx-radiobutton",XW="dx-radiobutton-icon",pTe="dx-radiobutton-icon-dot",fTe="dx-radiobutton-checked",vTe="dx-radiobutton-icon-checked",i7=qs.inherit({_supportedKeys:function(){return $(this.callBase(),{space:function(r){r.preventDefault(),this._clickAction({event:r})}})},_getDefaultOptions:function(){return $(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(hTe)},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=E("<div>").addClass(XW),E("<div>").addClass(pTe).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(r){this.$element().toggleClass(fTe,r).find("."+XW).toggleClass(vTe,r),this.setAria("checked",r)},_renderClick:function(){var r=fe(sr,this.NAME);this._clickAction=this._createAction((function(e){this._clickHandler(e.event)}).bind(this)),B.off(this.$element(),r),B.on(this.$element(),r,(function(e){this._clickAction({event:e})}).bind(this))},_clickHandler:function(r){this._saveValueChangeEvent(r),this.option("value",!0)},_optionChanged:function(r){switch(r.name){case"value":this._renderCheckedState(r.value),this.callBase(r);break;default:this.callBase(r)}}});Kt("dxRadioButton",i7);var vN="dxListEditDecorator",gTe=fe(o0,vN),mTe=fe(a0,vN),_Te=fe(XC,vN),CTe=tr.inherit({ctor:function(r){this._list=r,this._init()},_init:Z,_shouldHandleSwipe:!1,_attachSwipeEvent:function(r){var e={itemSizeFunc:(function(){return this._clearSwipeCache&&(this._itemWidthCache=gt(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}).bind(this)};B.on(r.$itemElement,gTe,e,this._itemSwipeStartHandler.bind(this)),B.on(r.$itemElement,mTe,this._itemSwipeUpdateHandler.bind(this)),B.on(r.$itemElement,_Te,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(r){var e=E(r.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *")){r.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,r)},_itemSwipeUpdateHandler:function(r){var e=E(r.currentTarget);this._swipeUpdateHandler(e,r)},_itemSwipeEndHandler:function(r){var e=E(r.currentTarget);this._swipeEndHandler(e,r),this._clearSwipeCache=!0},beforeBag:Z,afterBag:Z,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(r){this._shouldHandleSwipe&&(this._attachSwipeEvent(r),this._clearSwipeCache=!0)},afterRender:Z,handleClick:Z,handleKeyboardEvents:Z,handleEnterPressing:Z,handleContextMenu:Z,_swipeStartHandler:Z,_swipeUpdateHandler:Z,_swipeEndHandler:Z,visibilityChange:Z,getExcludedSelectors:Z,dispose:Z}),QW="dx-list-select-decorator-enabled",yTe="dx-list-select-all",STe="dx-list-select-all-checkbox",wTe="dx-list-select-all-label",bTe="dx-list-select-checkbox-container",ETe="dx-list-select-checkbox",xTe="dx-list-select-radiobutton-container",ITe="dx-list-select-radiobutton",TTe="dx-state-focused",ZW=fe(sr,"dxListEditDecorator");YIe("selection","default",CTe.inherit({_init:function(){this.callBase.apply(this,arguments);var r=this._list.option("selectionMode");this._singleStrategy=r==="single",this._containerClass=this._singleStrategy?xTe:bTe,this._controlClass=this._singleStrategy?ITe:ETe,this._controlWidget=this._singleStrategy?i7:Uh,this._list.$element().addClass(QW)},beforeBag:function(r){var e=r.$itemElement,t=r.$container.addClass(this._containerClass),n=E("<div>").addClass(this._controlClass).appendTo(t);new this._controlWidget(n,$(this._commonOptions(),{value:this._isSelected(e),elementAttr:{"aria-label":"Check State"},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:(function(i){i.event&&this._list._saveSelectionChangeEvent(i.event),this._processCheckedState(e,i.value),i.event&&i.event.stopPropagation()}).bind(this)}))},modifyElement:function(r){this.callBase.apply(this,arguments);var e=r.$itemElement,t=this._controlWidget.getInstance(e.find("."+this._controlClass));B.on(e,"stateChanged",(function(n,i){t.option("value",i)}).bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(r,e){var t=!e,n=this._list,i=this._$selectAll,o=n._getLastItemIndex(),a=e&&r===0||t&&r===o,s=!!i;return s&&a?(n.option("focusedElement",i),n.scrollToItem(n.option("focusedElement")),!0):!1},handleEnterPressing:function(r){if(this._$selectAll&&this._$selectAll.hasClass(TTe))return r.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(r),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var r=this._$selectAll=E("<div>").addClass(yTe),e=this._list,t=e._supportedKeys().downArrow.bind(e);this._selectAllCheckBox=e._createComponent(E("<div>").addClass(STe).appendTo(r),Uh,{elementAttr:{"aria-label":"Select All"},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",t),E("<div>").addClass(wTe).text(this._list.option("selectAllText")).appendTo(r),this._list.itemsContainer().prepend(r),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),B.off(this._$selectAll,ZW),B.on(this._$selectAll,ZW,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(r){r.event&&r.event.stopPropagation();var e=this._selectAllCheckBox.option("value");r.event&&this._list._saveSelectionChangeEvent(r.event),e===!0?this._selectAllItems():e===!1&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:e})},_checkSelectAllCapability:function(){var r=this._list,e=r._dataController;return r.option("selectAllMode")==="allPages"&&r.option("grouped")&&!e.group()?(Ht.log("W1010"),!1):!0},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(r){this._list._saveSelectionChangeEvent(r),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(r){return this._list.isItemSelected(r)},_processCheckedState:function(r,e){e?this._list.selectItem(r):this._list.unselectItem(r)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(QW),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var RTe=".dx-state-disabled",OTe="dx-selectbox",DTe="dx-selectbox-popup",ATe="dx-selectbox-container",JW="dx-selectbox-popup-wrapper",gN=n7.inherit({_supportedKeys:function(){var r=this,e=this.callBase(),t=function(i){var o=this._isEditable();o?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(i.preventDefault(),this.clear()),this._savedTextRemoveEvent=i,this._preventSubstitution=!0},n=function(){r.option("searchEnabled")&&r._valueSubstituted()&&r._searchHandler()};return $({},e,{tab:function(){this.option("opened")&&!this._popup.getFocusableElements().length&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(i){if(e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(i),!0},downArrow:function(i){if(e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(i),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var i=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),i??!0},enter:function(i){var o=this.option("opened"),a=this._input().val().trim(),s=a&&this._list&&!this._list.option("focusedElement");if(!a&&L(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(i),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return i.preventDefault(),s&&(o&&this._toggleOpenState(),this._valueChangeEventHandler(i)),o;if(e.enter&&e.enter.apply(this,arguments))return o}},space:function(i){var o=this.option("opened"),a=this.option("searchEnabled"),s=this.option("acceptCustomValue");if(!(!o||a||s))return i.preventDefault(),this._valueChangeEventHandler(i),!0},backspace:t,del:t})},_getDefaultOptions:function(){return $(this.callBase(),{placeholder:J.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(r){L(r.customItem)||(r.customItem=r.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(OTe),this._renderTooltip(),this.callBase(),this._$container.addClass(ATe)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(DTe),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+JW},_setDeprecatedOptions(){this.callBase(),$(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var r,e=this._searchValue();if(!e){this._focusListElement(null);return}var{items:t,selectedItem:n}=this.option(),i=this._list._itemElements(),o=(r=t==null?void 0:t.indexOf(n))!==null&&r!==void 0?r:-1,a=o!==-1&&!this._isCustomItemSelected()?i.eq(o):null;this._focusListElement(a)},_renderFocusedElement:function(){if(this._list){var r=this._searchValue();if(!r||this.option("acceptCustomValue")){this._focusListElement(null);return}var e=this._list._itemElements(),t=e.not(RTe).eq(0);this._focusListElement(t)}},_focusListElement:function(r){this._preventInputValueRender=!0,this._list.option("focusedElement",ut(r)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var r=this._dataController.paginate();r&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),new X().resolve()},_renderInputValue:function(){return this.callBase().always((function(){this._renderInputValueAsync()}).bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always((function(){this._refreshSelected()}).bind(this))},_renderInputValueImpl:function(){return this._renderField(),new X().resolve()},_setNextItem:function(r){var e=this._calcNextItem(r),t=this._valueGetter(e);this._setValue(t)},_setNextValue:function(r){var e=this._dataController.isLoaded()?new X().resolve():this._dataController.load();e.done((function(){var t=this._getSelectedIndex(),n=this._dataController.pageSize(),i=this._dataController.isLastPage(),o=t===this._items().length-1;this._saveValueChangeEvent(r);var a=Jr(r)==="downArrow"?1:-1;n&&!i&&o&&a>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,a))):this._setNextItem(a)}).bind(this))},_setSelectedItem:function(r){var e=!this._isCustomValueAllowed()&&r===void 0;this.callBase(e?null:r),!e&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(r){return r=!L(r)&&this._isCustomValueAllowed()?this.option("value"):r,this.callBase(r)},_listConfig:function(){var r=$(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&$(r,{showSelectionControls:!0,selectByClick:!0}),r},_listFocusedItemChangeHandler:function(r){if(!this._preventInputValueRender){var e=r.component,t=E(e.option("focusedElement")),n=e._getItemData(t);this._updateField(n)}},_updateField:function(r){var e=this._getTemplateByOption("fieldTemplate");if(!(e&&this.option("fieldTemplate"))){var t=this._displayGetter(r);this.option("text",t),this._renderDisplayText(t);return}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):Z},_selectionChangeHandler:function(r){U(r.addedItems||[],(function(e,t){this._setValue(this._valueGetter(t))}).bind(this))},_getActualSearchValue:function(){return this._dataController.searchValue()},_toggleOpenState:function(r){if(!this.option("disabled")){if(r=arguments.length?r:!this.option("opened"),!r&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&r){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataController.getDataSource()){if(this._searchTimer)return;var t=this._getActualSearchValue();t&&this._wasSearch(!0),this._filterDataSource(t||null)}else this._setListOption("items",[])}r&&this._scrollToSelectedItem(),this.callBase(r)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_isValueEqualInputText:function(){var r=this.option("selectedItem");if(r===null)return!1;var e=this._displayGetter(r),t=e?String(e):"",n=this._searchValue();return t===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(r){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always((function(){var{acceptCustomValue:e,text:t,selectedItem:n}=this.option();if(e){!r&&!this._isValueChanging&&(this._updateField(n??this._createCustomItem(t)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always((function(i){var o=an(i,n);this._setSelectedItem(o),this._updateField(o),this._clearFilter()}).bind(this))}).bind(this))},_valueChangeEventIncludesBlur:function(){var r=this.option(this._getValueChangeEventOptionName());return r.includes("blur")},_isPreventedFocusOutEvent:function(r){return this._preventNestedFocusEvent(r)||this._valueChangeEventIncludesBlur()},_focusOutHandler:function(r){if(!this._isPreventedFocusOutEvent(r)){var e=this._isOverlayNestedTarget(r.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(r)}r.target=this._input().get(0),this.callBase(r)},_cancelSearchIfNeed:function(r){var{searchEnabled:e}=this.option(),t=this._isOverlayNestedTarget(r==null?void 0:r.relatedTarget),n=this._wasSearch()&&e&&!t;if(n){var i,o=(i=this._popup)===null||i===void 0?void 0:i._hideAnimationProcessing;this._clearSearchTimer(),o?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(r){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=r},_isOverlayNestedTarget:function(r){return!!E(r).closest(".".concat(JW)).length},_clearTextValue:function(){var r=this.option("selectedItem"),e=this._displayGetter(r),t=r&&e!=="";t&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var r=ce.getActiveElement(this.element());return this.callBase()&&E(r).closest(this._input()).length>0},_getValueChangeEventOptionName:function(){return"customItemCreateEvent"},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var r=this._list&&this.option("opened")&&E(this._list.option("focusedElement"));return r&&r.length?this._list._getItemData(r):this.option("selectedItem")},_isSelectedValue:function(r){return this._isValueEquals(r,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler:function(r){var e=this._getCurrentValue();this._focusListElement(E(r.itemElement)),this._saveValueChangeEvent(r.event),this._completeSelection(this._valueGetter(r.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(r.itemData)&&this._updateField(r.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(r){this._setValue(r)},_loadItem:function(r,e){var t=this,n=new X;return this.callBase(r,e).done((function(i){n.resolve(i)}).bind(this)).fail((function(i){if(!(i!=null&&i.shouldSkipCallback)){var o=t.option("selectedItem");t.option("acceptCustomValue")&&r===t._valueGetter(o)?n.resolve(o):n.reject()}}).bind(this)),n.promise()},_loadInputValue:function(r,e){return this._loadItemDeferred=this._loadItem(r).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var r=this.option("selectedItem"),e=this._searchValue(),t=this._displayGetter(r);return!t||e!==t.toString()},_valueChangeEventHandler:function(r){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(r))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(r){var e={text:r},t=this._customItemCreatingAction(e),n=an(t,e.customItem);return L(t)&&br.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(r){var e=this._searchValue(),t=this._createCustomItem(e);if(this._saveValueChangeEvent(r),t===void 0)throw this._renderValue(),br.Error("E0121");wv(t)?ui(t).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(t)},_setCustomItem:function(r){this._disposed||(r=r||null,this.option("selectedItem",r),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(r)),this._renderDisplayText(this._displayGetter(r)),this._isValueChanging=!1)},_clearValueHandler:function(r){return this._preventFiltering=!0,this.callBase(r),this._searchCanceled(),!1},_wasSearch:function(r){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=r},_searchHandler:function(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered:function(r){this.callBase(),r!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var r=this._input().get(0),e=this._searchValue().length,t=r.selectionStart===0&&r.selectionEnd===e,n=r.selectionStart!==r.selectionEnd,i=e===r.selectionEnd;return this._wasSearch()&&n&&!t&&i&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution:function(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var r=this._list&&this._getPlainItems(this._list.option("items"))[0];if(r){var e=this._input(),t=e.val().length;if(t!==0){var n=e.get(0),i=this._displayGetter(r).toString();n.value=i,this._caret({start:t,end:i.length})}}},_dispose:function(){this._renderInputValueAsync=Z,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(r){switch(r.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(r)}}});Kt("dxSelectBox",gN);var ez=r=>r.getMonth()+1,tz=(r,e)=>{var t=r.getDate(),n=F_("M",r),i=Ni(parseInt(e),n.min,n.max);r.setMonth(i-1,1);var{min:o,max:a}=F_("dM",r),s=Ni(t,o,a);r.setDate(s)},PTe={a:r=>r.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:ez,L:ez,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},MTe=$({},xhe(),{a:(r,e)=>{var t=r.getHours(),n=t>=12;n!==!!parseInt(e)&&r.setHours((t+12)%24)},d:(r,e)=>{var t=F_("dM",r).max;e>t&&r.setMonth(r.getMonth()+1),r.setDate(e)},h:(r,e)=>{var t=r.getHours()>=12;r.setHours(+e%12+(t?12:0))},M:tz,L:tz,E:(r,e)=>{e<0||r.setDate(r.getDate()-r.getDay()+parseInt(e))},y:(r,e)=>{var t=r.getFullYear(),n=String(e).length,i=String(F_("y",r).max).length,o=parseInt(String(t).substr(0,i-n)+e);r.setFullYear(o)}}),FTe=r=>PTe[r]||(()=>r),LTe=(r,e)=>{for(var t=e.regexp.exec(r),n=0,i=0,o=[],a=function(){n=i,i=n+t[s].length;var l=e.patterns[s-1].replace(/^'|'$/g,""),u=FTe(l[0]);o.push({index:s-1,isStub:l===t[s],caret:{start:n,end:i},pattern:l,text:t[s],limits:function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return F_(l[0],...d)},setter:MTe[l[0]]||Z,getter:u})},s=1;s<t.length;s++)a();return o},F_=(r,e,t)=>{var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:1,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[t||r]||n.getAmPm},NTe=(r,e)=>{for(var t=0;t<r.length;t++){var n=r[t].caret.end>=e;if(!r[t].isStub&&n)return t}return null},YR=["year","day","month","day"],rz=["hours","minutes","seconds","milliseconds"],o7=6e4,a7=60*o7*24,kTe=365*a7,VTe=function(r){var e=typeof r;return e==="string"?"format":e==="object"&&r.type!==void 0?r.type:null},mr={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:o7,ONE_DAY:a7,ONE_YEAR:kTe,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var r=new Date;return new Date(r.getFullYear()+50,r.getMonth(),r.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:YR},time:{getStandardPattern:function(){return"HH:mm"},components:rz},datetime:{getStandardPattern:function(){var r;return function(){var e=E("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(r="yyyy-MM-ddTHH:mmZ")}(),r||(r="yyyy-MM-ddTHH:mm:ssZ"),mr.FORMATS_INFO.datetime.getStandardPattern=function(){return r},r},components:[...YR,...rz]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...YR,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(r,e){var t=mr.FORMATS_INFO[e].getStandardPattern();return On.serializeDate(r,t)},fromStandardDateFormat:function(r){var e=On.dateParser(r);return Zo(e)?e:void 0},getMaxMonthDay:function(r,e){return new Date(r,e+1,0).getDate()},mergeDates:function(r,e,t){if(!e)return e||null;if(!r||isNaN(r.getTime())){var n=new Date(null);r=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var i=new Date(r.valueOf()),o=mr.FORMATS_INFO[t];return U(o.components,function(){var a=mr.DATE_COMPONENTS_INFO[this];i[a.setter](e[a.getter]())}),i},getLongestCaptionIndex:function(r){var e=0,t=0,n;for(n=0;n<r.length;++n)r[n].length>t&&(e=n,t=r[n].length);return e},formatUsesMonthName:function(r){return kt.formatUsesMonthName(r)},formatUsesDayName:function(r){return kt.formatUsesDayName(r)},getLongestDate:function(r,e,t){var n=VTe(r),i=9;(!n||mr.formatUsesMonthName(n))&&(i=mr.getLongestCaptionIndex(e));var o=new Date(1888,i,21,23,59,59,999);if(!n||mr.formatUsesDayName(n)){var a=o.getDate()-o.getDay()+mr.getLongestCaptionIndex(t);o.setDate(a)}return o},normalizeTime:function(r){r.setSeconds(0),r.setMilliseconds(0)}};mr.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(r,e){var t=new Date(e.getTime());return t.setFullYear(r),kt.format(t,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(r,e){var t=new Date(e.getTime());return t.setDate(r),kt.format(t,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(r){return kt.getMonthNames()[r]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(r){return kt.format(new Date(0,0,0,r),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(r){return kt.format(new Date(0,0,0,0,r),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(r){return kt.format(new Date(0,0,0,0,0,r),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(r){return kt.format(new Date(0,0,0,0,0,0,r),"millisecond")},startValue:0,endValue:999}};var s7="dxSwipeable",BTe="dx-swipeable",HTe={onStart:o0,onUpdated:a0,onEnd:XC,onCancel:"dxswipecancel"},GTe=180,aE=jl.inherit({_getDefaultOptions:function(){return $(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:GTe,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(BTe),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var r=this.NAME;this._createEventData(),U(HTe,(function(e,t){var n=this._createActionByOption(e,{context:this});t=fe(t,r),B.on(this.$element(),t,this._eventData,function(i){return n({event:i})})}).bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){B.off(this.$element(),"."+s7)},_optionChanged:function(r){switch(r.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(r)}},_useTemplates:function(){return!1}});DC(aE,s7);var $Te="dx-calendar-navigator",WTe="dx-calendar-navigator-previous-month",zTe="dx-calendar-navigator-next-month",UTe="dx-calendar-navigator-previous-view",jTe="dx-calendar-navigator-next-view",KTe="dx-calendar-disabled-navigator-link",qTe="dx-calendar-caption-button",YTe="dx-button-text";class XTe extends ai{_getDefaultOptions(){return $(super._getDefaultOptions(),{onClick:null,onCaptionClick:null,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return Hi()},options:{type:"default",stylingMode:"text"}},{device:function(){return Zi()},options:{type:"normal",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),this.$element().addClass($Te),this._renderButtons(),this._renderCaption()}_renderButtons(){var{rtlEnabled:e,type:t,stylingMode:n,focusStateEnabled:i}=this.option();this._prevButton=this._createComponent(E("<div>"),gi,{focusStateEnabled:i,icon:e?"chevronright":"chevronleft",onClick:l=>{this._clickAction({direction:-1,event:l})},type:t,stylingMode:n,integrationOptions:{}});var o=this._prevButton.$element().addClass(UTe).addClass(WTe);this._nextButton=this._createComponent(E("<div>"),gi,{focusStateEnabled:i,icon:e?"chevronleft":"chevronright",onClick:l=>{this._clickAction({direction:1,event:l})},type:t,stylingMode:n,integrationOptions:{}});var a=this._nextButton.$element().addClass(jTe).addClass(zTe);this._caption=this._createComponent(E("<div>").addClass(qTe),gi,{focusStateEnabled:i,onClick:l=>{this._captionClickAction({event:l})},type:t,stylingMode:n,template:(l,u)=>{var{text:c}=this.option(),d=c.split(" - ");d.forEach(h=>{E(u).append(E("<span>").addClass(YTe).text(h))})},integrationOptions:{}});var s=this._caption.$element();this.$element().append(o,s,a)}_renderCaption(){this._caption.option("text",this.option("text"))}toggleButton(e,t){var n="_"+e+"Button",i=this[n];i&&(i.option("disabled",t),i.$element().toggleClass(KTe,t))}_optionChanged(e){switch(e.name){case"text":this._renderCaption();break;default:super._optionChanged(e)}}}var{abstract:tl}=ai,QTe="dx-calendar-other-view",XR="dx-calendar-cell",ZTe="dx-calendar-cell-start",JTe="dx-calendar-cell-end",eRe="dx-calendar-cell-start-in-row",tRe="dx-calendar-cell-end-in-row",l7="dx-calendar-week-number-cell",QR="dx-calendar-empty-cell",rRe="dx-calendar-today",nz="dx-calendar-selected-date",iz="dx-calendar-cell-in-range",ZR="dx-calendar-cell-range-hover",JR="dx-calendar-cell-range-hover-start",eO="dx-calendar-cell-range-hover-end",oz="dx-calendar-range-start-date",az="dx-calendar-range-end-date",tO="dx-calendar-contoured-date",sz="td:not(.".concat(l7,")"),rO=fe(sr,"dxCalendar"),lz=fe(AC,"dxCalendar"),_g="dxDateValueKey",nRe=864e5,fS=ai.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return $(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,onWeekNumberClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents()},_createTable:function(){this._$table=E("<table>");var r=J.format("dxCalendar-ariaWidgetName");return this.setAria({label:r,role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=E("<tbody>").appendTo(this._$table);for(var r={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,t=this.option("rowCount");e<t;e++){r.row=this._createRow();for(var n=0,i=this.option("colCount");n<i;n++)this._renderCell(r,n);this._renderWeekNumberCell(r)}},_createRow:function(){var r=ce.createElement("tr");return this.setAria("role","row",E(r)),this.$body.get(0).appendChild(r),r},_createCell:function(r,e){var t=ce.createElement("td"),n=E(t);return t.className=this._getClassNameByDate(r,e),t.setAttribute("data-value",On.serializeDate(r,qe.getShortDateFormat())),on(t,_g,r),this.setAria({role:"gridcell",label:this.getCellAriaLabel(r)},n),{cell:t,$cell:n}},_renderCell:function(r,e){var{cellDate:t,prevCellDate:n,row:i}=r;n&&qe.fixTimezoneGap(n,t),r.prevCellDate=t;var{cell:o,$cell:a}=this._createCell(t,e),s=this.option("cellTemplate");E(i).append(o),s?s.render(this._prepareCellTemplateData(t,e,a)):o.innerHTML=this._getCellText(t),r.cellDate=this._getNextCellData(t)},_getClassNameByDate:function(r,e){var t=XR;return this._isTodayCell(r)&&(t+=" ".concat(rRe)),(this._isDateOutOfRange(r)||this.isDateDisabled(r))&&(t+=" ".concat(QR)),this._isOtherView(r)&&(t+=" ".concat(QTe)),this.option("selectionMode")==="range"&&(e===0&&(t+=" ".concat(eRe)),e===this.option("colCount")-1&&(t+=" ".concat(tRe)),this._isStartDayOfMonth(r)&&(t+=" ".concat(ZTe)),this._isEndDayOfMonth(r)&&(t+=" ".concat(JTe))),t},_prepareCellTemplateData:function(r,e,t){var n=r instanceof Date,i=n?this._getCellText(r):r,o=n?r:void 0,a=this._getViewName();return{model:{text:i,date:o,view:a},container:ut(t),index:e}},_renderEvents:function(){this._createCellClickAction(),B.off(this._$table,rO),B.on(this._$table,rO,sz,e=>{E(e.currentTarget).hasClass(QR)||this._cellClickAction({event:e,value:E(e.currentTarget).data(_g)})});var{selectionMode:r}=this.option();B.off(this._$table,lz),r==="range"&&(this._createCellHoverAction(),B.on(this._$table,lz,sz,e=>{E(e.currentTarget).hasClass(QR)||this._cellHoverAction({event:e,value:E(e.currentTarget).data(_g)})})),r!=="single"&&(this._createWeekNumberCellClickAction(),B.on(this._$table,rO,".".concat(l7),e=>{var t=E(e.currentTarget).closest("tr"),n=t.find(".".concat(XR)).first().data(_g),i=t.find(".".concat(XR)).last().data(_g),o=[...qe.getDatesOfInterval(n,i,nRe),i];this._weekNumberCellClickAction({event:e,rowDates:o})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createCellHoverAction:function(){this._cellHoverAction=this._createActionByOption("onCellHover")},_createWeekNumberCellClickAction:function(){this._weekNumberCellClickAction=this._createActionByOption("onWeekNumberClick")},_createDisabledDatesHandler:function(){var r=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(r)?this._getDefaultDisabledDatesHandler(r):r||Z},_getDefaultDisabledDatesHandler:function(r){return Z},_isTodayCell:tl,_isDateOutOfRange:tl,isDateDisabled:function(r){var e={date:r,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:tl,_isStartDayOfMonth:tl,_isEndDayOfMonth:tl,_getCellText:tl,_getFirstCellData:tl,_getNextCellData:tl,_renderContouredDate:function(r){if(this.option("focusStateEnabled")){r=r||this.option("contouredDate");var e=this._getContouredCell(),t=this._getCellByDate(r);e.removeClass(tO),r&&t.addClass(tO)}},_getContouredCell:function(){return this._$table.find(".".concat(tO))},_renderValue:function(){if(this.option("allowValueSelection")){var r=this.option("value");Array.isArray(r)||(r=[r]),this._updateSelectedClass(r)}},_updateSelectedClass:function(r){var e;this._isRangeMode()&&!this._isMonthView()||((e=this._$selectedCells)===null||e===void 0||e.forEach(t=>{t.removeClass(nz)}),this._$selectedCells=r.map(t=>this._getCellByDate(t)),this._$selectedCells.forEach(t=>{t.addClass(nz)}))},_renderRange:function(){var r,e,t,n,i,o,a,s,{allowValueSelection:l,value:u,range:c}=this.option();!l||!this._isRangeMode()||!this._isMonthView()||((r=this._$rangeCells)===null||r===void 0||r.forEach(d=>{d.removeClass(iz)}),(e=this._$hoveredRangeCells)===null||e===void 0||e.forEach(d=>{d.removeClass(ZR)}),(t=this._$rangeStartHoverCell)===null||t===void 0||t.removeClass(JR),(n=this._$rangeEndHoverCell)===null||n===void 0||n.removeClass(eO),(i=this._$rangeStartDateCell)===null||i===void 0||i.removeClass(oz),(o=this._$rangeEndDateCell)===null||o===void 0||o.removeClass(az),this._$rangeCells=c.map(d=>this._getCellByDate(d)),this._$rangeStartDateCell=this._getCellByDate(u[0]),this._$rangeEndDateCell=this._getCellByDate(u[1]),this._$rangeCells.forEach(d=>{d.addClass(iz)}),(a=this._$rangeStartDateCell)===null||a===void 0||a.addClass(oz),(s=this._$rangeEndDateCell)===null||s===void 0||s.addClass(az))},_renderHoveredRange(){var r,e,t,n,i,{allowValueSelection:o,hoveredRange:a}=this.option();!o||!this._isRangeMode()||!this._isMonthView()||((r=this._$hoveredRangeCells)===null||r===void 0||r.forEach(s=>{s.removeClass(ZR)}),(e=this._$rangeStartHoverCell)===null||e===void 0||e.removeClass(JR),(t=this._$rangeEndHoverCell)===null||t===void 0||t.removeClass(eO),this._$hoveredRangeCells=a.map(s=>this._getCellByDate(s)),this._$rangeStartHoverCell=this._getCellByDate(a[0]),this._$rangeEndHoverCell=this._getCellByDate(a[a.length-1]),this._$hoveredRangeCells.forEach(s=>{s.addClass(ZR)}),(n=this._$rangeStartHoverCell)===null||n===void 0||n.addClass(JR),(i=this._$rangeEndHoverCell)===null||i===void 0||i.addClass(eO))},_isMonthView:function(){return this.option("zoomLevel")==="month"},_isRangeMode:function(){return this.option("selectionMode")==="range"},getCellAriaLabel:function(r){return this._getCellText(r)},_getFirstAvailableDate:function(){var r=this.option("date"),e=this.option("min");return r=qe.getViewFirstCellDate(this._getViewName(),r),new Date(e&&r<e?e:r)},_getCellByDate:tl,isBoundary:tl,_optionChanged:function(r){var{name:e,value:t}=r;switch(e){case"value":this._renderValue();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(t);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:this.callBase(r)}}}),iRe="dx-calendar-other-month",oRe="dx-calendar-other-view",aRe="dx-calendar-week-number-cell",sRe="dx-calendar-week-selection",lRe={month:fS.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return $(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(oRe)).addClass(iRe)},_renderFocusTarget:Z,getCellAriaLabel:function(r){return kt.format(r,"longdate")},_renderHeader:function(){var r=E("<tr>"),e=E("<thead>").append(r);this._$table.prepend(e);for(var t=0,n=this.option("colCount");t<n;t++)this._renderHeaderCell(t,r);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(r)},_renderHeaderCell:function(r,e){var{firstDayOfWeek:t}=this.option(),{full:n,abbreviated:i}=this._getDayCaption(t+r),o=E("<th>").attr({scope:"col",abbr:n}).text(i);e.append(o)},_renderWeekHeaderCell:function(r){var e=E("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});r.prepend(e)},_renderWeekNumberCell:function(r){var{showWeekNumbers:e,cellTemplate:t,selectionMode:n,selectWeekOnClick:i}=this.option();if(e){var o=this._getWeekNumber(r.prevCellDate),a=ce.createElement("td"),s=E(a);a.className=aRe,n!=="single"&&i&&s.addClass(sRe),t?t.render(this._prepareCellTemplateData(o,-1,s)):a.innerHTML=o,r.row.prepend(a),this.setAria({role:"gridcell",label:"Week ".concat(o)},s)}},_getWeekNumber:function(r){var{weekNumberRule:e,firstDayOfWeek:t}=this.option();return e==="auto"?qe.getWeekNumber(r,t,t===1?"firstFourDays":"firstDay"):qe.getWeekNumber(r,t,e)},getNavigatorCaption:function(){return kt.format(this.option("date"),"monthandyear")},_isTodayCell:function(r){var e=this.option("_todayDate")();return qe.sameDate(r,e)},_isDateOutOfRange:function(r){var e=this.option("min"),t=this.option("max");return!qe.dateInRange(r,e,t,"date")},_isOtherView:function(r){return r.getMonth()!==this.option("date").getMonth()},_isStartDayOfMonth:function(r){return qe.sameDate(r,qe.getFirstMonthDate(this.option("date")))},_isEndDayOfMonth:function(r){return qe.sameDate(r,qe.getLastMonthDate(this.option("date")))},_getCellText:function(r){return kt.format(r,"d")},_getDayCaption:function(r){var e=this.option("colCount"),t=r%e;return{full:kt.getDayNames()[t],abbreviated:kt.getDayNames("abbreviated")[t]}},_getFirstCellData:function(){var{firstDayOfWeek:r}=this.option(),e=qe.getFirstMonthDate(this.option("date")),t=r-e.getDay(),n=this.option("colCount");return t>=0&&(t-=n),e.setDate(e.getDate()+t),e},_getNextCellData:function(r){return r=new Date(r),r.setDate(r.getDate()+1),r},_getCellByDate:function(r){return this._$table.find("td[data-value='".concat(On.serializeDate(r,qe.getShortDateFormat()),"']"))},isBoundary:function(r){return qe.sameMonthAndYear(r,this.option("min"))||qe.sameMonthAndYear(r,this.option("max"))},_getDefaultDisabledDatesHandler:function(r){return function(e){var t=r.some(function(n){return qe.sameDate(n,e.date)});if(t)return!0}}}),year:fS.inherit({_getViewName:function(){return"year"},_isTodayCell:function(r){var e=this.option("_todayDate")();return qe.sameMonthAndYear(r,e)},_isDateOutOfRange:function(r){return!qe.dateInRange(r,qe.getFirstMonthDate(this.option("min")),qe.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(r){return kt.getMonthNames("abbreviated")[r.getMonth()]},_getFirstCellData:function(){var r=this.option("date"),e=new Date(r);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(r){return r=new Date(r),r.setMonth(r.getMonth()+1),r},_getCellByDate:function(r){var e=new Date(r);return e.setDate(1),this._$table.find("td[data-value='".concat(On.serializeDate(e,qe.getShortDateFormat()),"']"))},getCellAriaLabel:function(r){return kt.format(r,"monthandyear")},getNavigatorCaption:function(){return kt.format(this.option("date"),"yyyy")},isBoundary:function(r){return qe.sameYear(r,this.option("min"))||qe.sameYear(r,this.option("max"))},_renderWeekNumberCell:Z}),decade:fS.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(r){var e=this.option("_todayDate")();return qe.sameYear(r,e)},_isDateOutOfRange:function(r){var e=this.option("min"),t=this.option("max");return!qe.dateInRange(r.getFullYear(),e&&e.getFullYear(),t&&t.getFullYear())},_isOtherView:function(r){var e=new Date(r);return e.setMonth(1),!qe.sameDecade(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(r){return kt.format(r,"yyyy")},_getFirstCellData:function(){var r=qe.getFirstYearInDecade(this.option("date"))-1;return qe.createDateWithFullYear(r,0,1)},_getNextCellData:function(r){return r=new Date(r),r.setFullYear(r.getFullYear()+1),r},getNavigatorCaption:function(){var r=this.option("date"),e=qe.getFirstYearInDecade(r),t=new Date(r),n=new Date(r);return t.setFullYear(e),n.setFullYear(e+9),kt.format(t,"yyyy")+"-"+kt.format(n,"yyyy")},_isValueOnCurrentView:function(r,e){return qe.sameDecade(r,e)},_getCellByDate:function(r){var e=new Date(r);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(On.serializeDate(e,qe.getShortDateFormat()),"']"))},isBoundary:function(r){return qe.sameDecade(r,this.option("min"))||qe.sameDecade(r,this.option("max"))},_renderWeekNumberCell:Z}),century:fS.inherit({_getViewName:function(){return"century"},_isTodayCell:function(r){var e=this.option("_todayDate")();return qe.sameDecade(r,e)},_isDateOutOfRange:function(r){var e=qe.getFirstYearInDecade(r),t=qe.getFirstYearInDecade(this.option("min")),n=qe.getFirstYearInDecade(this.option("max"));return!qe.dateInRange(e,t,n)},_isOtherView:function(r){var e=new Date(r);return e.setMonth(1),!qe.sameCentury(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(r){var e=kt.format(r,"yyyy"),t=new Date(r);return t.setFullYear(t.getFullYear()+9),e+" - "+kt.format(t,"yyyy")},_getFirstCellData:function(){var r=qe.getFirstDecadeInCentury(this.option("date"))-10;return qe.createDateWithFullYear(r,0,1)},_getNextCellData:function(r){return r=new Date(r),r.setFullYear(r.getFullYear()+10),r},_getCellByDate:function(r){var e=new Date(r);return e.setDate(1),e.setMonth(0),e.setFullYear(qe.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(On.serializeDate(e,qe.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var r=this.option("date"),e=qe.getFirstDecadeInCentury(r),t=new Date(r),n=new Date(r);return t.setFullYear(e),n.setFullYear(e+99),kt.format(t,"yyyy")+"-"+kt.format(n,"yyyy")},isBoundary:function(r){return qe.sameCentury(r,this.option("min"))||qe.sameCentury(r,this.option("max"))},_renderWeekNumberCell:Z})};class mN{constructor(e){this.calendar=e}dateOption(e){return this.calendar._dateOption(e)}dateValue(e,t){this.calendar._dateValue(e,t)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,t){this.calendar._updateAriaSelected(e,t),e[0]&&this.calendar.option("currentDate").getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,t){var n,i;L(e)&&!Array.isArray(e)&&(e=[e]),L(t)&&!Array.isArray(t)&&(t=[t]),e=((n=e)===null||n===void 0?void 0:n.map(o=>this._convertToDate(o)))||[],t=((i=t)===null||i===void 0?void 0:i.map(o=>this._convertToDate(o)))||[],this._updateViewsValue(e),this.updateAriaSelected(e,t),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_isDateDisabled(e){var t=this.calendar._dateOption("min"),n=this.calendar._dateOption("max"),i=L(t)&&e<t&&!qe.sameDate(t,e),o=L(n)&&e>n&&!qe.sameDate(n,e);return this.calendar._view.isDateDisabled(e)||i||o}_getLowestDateInArray(e){if(e.length)return new Date(Math.min(...e))}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,t){this.calendar._updateViewsOption(e,t)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}_shouldHandleWeekNumberClick(){var{selectionMode:e,selectWeekOnClick:t}=this.calendar.option();return t&&e!=="single"}}class uRe extends mN{constructor(e){super(e),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(e,t){this.skipNavigate(),this.dateValue(e,t)}updateAriaSelected(e,t){var n,i;(n=e)!==null&&n!==void 0||(e=[this.dateOption("value")]),(i=t)!==null&&i!==void 0||(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){return this.dateOption("value")}restoreValue(){this.calendar.option("value",null)}_updateViewsValue(e){this._updateViewsOption("value",e[0])}}class cRe extends mN{constructor(e){super(e),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"multi",onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){var n=[...this.dateOption("value")],i=n.findIndex(o=>(o==null?void 0:o.toDateString())===e.toDateString());i>-1?n.splice(i,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,t)}updateAriaSelected(e,t){var n,i;(n=e)!==null&&n!==void 0||(e=this.dateOption("value")),(i=t)!==null&&i!==void 0||(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){var e=this.dateOption("value").filter(t=>t);return this._getLowestDateInArray(e)}restoreValue(){this.calendar.option("value",[])}_weekNumberClickHandler(e){var{rowDates:t,event:n}=e,i=t.filter(o=>!this._isDateDisabled(o));this.dateValue(i,n)}}var dRe=864e5;class hRe extends mN{constructor(e){super(e),this.NAME="RangeSelection"}getViewOptions(){var e=this._getValue(),t=this._getDaysInRange(e[0],e[1]);return{value:e,range:t,selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this),onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){var[n,i]=this._getValue();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.calendar.option("_allowChangeSelectionOrder")===!0?(this.calendar._valueSelected=!0,this.calendar.option("_currentSelection")==="startDate"?this.calendar._convertToDate(e)>this.calendar._convertToDate(i)?this.dateValue([e,null],t):this.dateValue([e,i],t):this.calendar._convertToDate(e)>=this.calendar._convertToDate(n)?this.dateValue([n,e],t):this.dateValue([e,null],t)):!n||i?this.dateValue([e,null],t):this.dateValue(n<e?[n,e]:[e,n],t)}updateAriaSelected(e,t){var n,i;(n=e)!==null&&n!==void 0||(e=this._getValue()),(i=t)!==null&&i!==void 0||(t=[]),super.updateAriaSelected(e,t)}processValueChanged(e,t){super.processValueChanged(e,t);var n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){var{_allowChangeSelectionOrder:e,_currentSelection:t}=this.calendar.option(),n=this.dateOption("value");if(e){if(t==="startDate"&&n[0])return n[0];if(t==="endDate"&&n[1])return n[1]}var i=n.filter(o=>o);return this._getLowestDateInArray(i)}restoreValue(){this.calendar.option("value",[null,null])}_getValue(){var e=this.dateOption("value");if(!e.length)return e;var[t,n]=e;return t&&n&&t>n&&([t,n]=[n,t]),[t,n]}_getRange(){var[e,t]=this._getValue();return this._getDaysInRange(e,t)}_getDaysInRange(e,t){if(!e||!t)return[];var{currentDate:n,viewsCount:i}=this.calendar.option(),o=this.calendar._isAdditionalViewDate(n),a=qe.getFirstMonthDate(qe.addDateInterval(n,"month",o?-2:-1)),s=qe.getLastMonthDate(qe.addDateInterval(n,"month",o?1:i)),l=new Date(Math.max(a,e)),u=new Date(Math.min(s,t));return[...qe.getDatesOfInterval(l,u,dRe),u]}_cellHoverHandler(e){var t=this._isMaxZoomLevel(),[n,i]=this._getValue(),{_allowChangeSelectionOrder:o,_currentSelection:a}=this.calendar.option();if(t){var s=o&&a==="startDate";if(n&&!i&&!s){if(e.value>n){this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));return}}else if(!n&&i&&!(o&&a==="endDate")){if(e.value<i){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,i));return}}else if(n&&i){if(a==="startDate"&&e.value<n){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));return}else if(a==="endDate"&&e.value>i){this._updateViewsOption("hoveredRange",this._getDaysInRange(i,e.value));return}}this._updateViewsOption("hoveredRange",[])}}_weekNumberClickHandler(e){var{rowDates:t,event:n}=e,i=t.filter(a=>!this._isDateDisabled(a)),o=i.length?[i[0],i[i.length-1]]:[null,null];this.dateValue(o,n)}}var nO="dx-calendar",pRe="dx-calendar-body",fRe="dx-calendar-cell",vRe="dx-calendar-footer",gRe="dx-calendar-today-button",mRe="dx-calendar-with-footer",_Re="dx-calendar-views-wrapper",uz="dx-calendar-view",CRe="dx-calendar-multiview",yRe="dx-calendar-range",SRe="dx-gesture-cover",vS=250,cz=.6,dz=1,wRe="yyyy-MM-dd",bRe="dxDateValueKey",hz=fe(PC,"dxCalendar"),Np={month:3,year:2,decade:1,century:0},yi={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},ERe={SingleSelection:uRe,MultipleSelection:cRe,RangeSelection:hRe},u7=qs.inherit({_activeStateUnit:"."+fRe,_getDefaultOptions:function(){return $(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,viewsCount:1,zoomLevel:yi.MONTH,maxZoomLevel:yi.MONTH,minZoomLevel:yi.CENTURY,selectionMode:"single",selectWeekOnClick:!0,showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return $(this.callBase(),{rightArrow:function(r){r.preventDefault(),ii(r)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(r){r.preventDefault(),ii(r)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(r){if(r.preventDefault(),ii(r))this._navigateUp();else{if(nn.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(r){if(r.preventDefault(),ii(r))this._navigateDown();else{if(nn.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(r){r.preventDefault();var e=this.option("zoomLevel"),t=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(t)){var i=qe.sameView(e,t,n)?n:qe.getViewFirstCellDate(e,t);this._moveToClosestAvailableDate(i)}},end:function(r){r.preventDefault();var e=this.option("zoomLevel"),t=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(t)){var i=qe.sameView(e,t,n)?n:qe.getViewLastCellDate(e,t);this._moveToClosestAvailableDate(i)}},pageUp:function(r){r.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(r){r.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:Z,enter:this._enterKeyHandler})},_enterKeyHandler:function(r){if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(e,r)}},_getSerializationFormat:function(r){var e=this.option(r||"value");if(this.option("dateSerializationFormat"))return this.option("dateSerializationFormat");if(Tr(e))return"number";if(ft(e))return On.getDateSerializationFormat(e)},_convertToDate:function(r){return On.deserializeDate(r)},_dateValue:function(r,e){if(e){if(e.type==="keydown"){var t=this._view._getContouredCell().get(0);e.target=t}this._saveValueChangeEvent(e)}this._dateOption("value",r)},_dateOption:function(r,e){var t=r==="value"&&!this._isSingleMode(),n=this.option("value");if(arguments.length===1)return t?(n??[]).map(a=>this._convertToDate(a)):this._convertToDate(this.option(r));var i=this._getSerializationFormat(r),o=t?(e==null?void 0:e.map(a=>On.serializeDate(a,i)))||[]:On.serializeDate(e,i);this.option(r,o)},_isSingleMode:function(){return this.option("selectionMode")==="single"},_shiftDate:function(r,e,t,n){switch(r){case yi.MONTH:e.setDate(e.getDate()+t*n);break;case yi.YEAR:e.setMonth(e.getMonth()+t*n);break;case yi.DECADE:e.setFullYear(e.getFullYear()+t*n);break;case yi.CENTURY:e.setFullYear(e.getFullYear()+10*t*n)}},_moveCurrentDateByOffset:function(r){var e=this.option("currentDate"),t=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,t,r,1);for(var i=this._getMaxDate(),o=this._getMinDate(),a=this._areDatesInNeighborView(n,t,e),s=mu(t,o,i)&&a,l=new Date(t);s;){if(!this._view.isDateDisabled(l)){t=l;break}this._shiftDate(n,l,r,1),a=this._areDatesInNeighborView(n,l,e),s=mu(l,o,i)&&a}if(this._view.isDateDisabled(e)||this._view.isDateDisabled(t)){var u=r>0?1:-1,c=u===1?this._isNextViewDisabled():this._isPrevViewDisabled();c?this._moveToClosestAvailableDate(t):this._waitRenderView(u)}else this._skipNavigate=!0,this.option("currentDate",t)},_isNextViewDisabled(){return this._navigator._nextButton.option("disabled")},_isPrevViewDisabled(){return this._navigator._prevButton.option("disabled")},_areDatesInSameView(r,e,t){switch(r){case yi.MONTH:return e.getMonth()===t.getMonth();case yi.YEAR:return e.getYear()===t.getYear();case yi.DECADE:return parseInt(e.getYear()/10)===parseInt(t.getYear()/10);case yi.CENTURY:return parseInt(e.getYear()/100)===parseInt(t.getYear()/100)}},_areDatesInNeighborView(r,e,t){switch(r){case yi.MONTH:return n=e.getMonth(),i=t.getMonth(),o=Math.abs(n-i),Math.min(o,12-o)<=1;case yi.YEAR:return Math.abs(e.getYear()-t.getYear())<=1;case yi.DECADE:return Math.abs(e.getYear()-t.getYear())<=10;case yi.CENTURY:return Math.abs(e.getYear()-t.getYear())<=100}var n,i,o},_moveToClosestAvailableDate:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("currentDate"),e=new Date(r),t=this.option("zoomLevel"),n=!this._isDateNotAvailable(e),i=n,o=n,a,s,l=new Date(e),u=new Date(e);do{if(i){e=l;break}if(o){e=u;break}this._shiftDate(t,l,1,1),this._shiftDate(t,u,1,-1),a=this._areDatesInSameView(t,l,r),s=this._areDatesInSameView(t,u,r),i=a&&!this._isDateNotAvailable(l),o=s&&!this._isDateNotAvailable(u)}while(a||s);this.option("currentDate",e)},_isDateNotAvailable:function(r){var e=this._getMaxDate(),t=this._getMinDate();return!mu(r,t,e)||this._view.isDateDisabled(r)},_init:function(){this.callBase(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_initSelectionStrategy:function(){var r=this._getSelectionStrategyName(),e=ERe[r];(!this._selectionStrategy||this._selectionStrategy.NAME!==r)&&(this._selectionStrategy=new e(this))},_refreshSelectionStrategy:function(){this._initSelectionStrategy(),this._selectionStrategy.restoreValue(),this._refresh()},_getSelectionStrategyName:function(){var r=this.option("selectionMode");switch(r){case"multiple":return"MultipleSelection";case"range":return"RangeSelection";default:return"SingleSelection"}},_correctZoomLevel:function(){var r=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),t=this.option("zoomLevel");Np[e]<Np[r]||(Np[t]>Np[e]?this.option("zoomLevel",e):Np[t]<Np[r]&&this.option("zoomLevel",r))},_initCurrentDate:function(){var r,e=(r=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate()))!==null&&r!==void 0?r:this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(r){return r=qe.normalizeDate(r,this._getMinDate(),this._getMaxDate()),L(r)?this._getDate(r):r},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new iv(function(r){var e=r.model;E(r.container).append(E("<span>").text(e&&e.text||String(e)))})}),this.callBase()},_updateCurrentDate:function(r){nn.isAnimating(this._$viewsWrapper)&&nn.stop(this._$viewsWrapper,!0);var e=this._getMinDate(),t=this._getMaxDate();if(e>t){this.option("currentDate",new Date);return}var n=this._getNormalizedDate(r);if(r.getTime()!==n.getTime()){this.option("currentDate",new Date(n));return}var i=this._getViewsOffset(this._view.option("date"),n);i!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(i=0),this._view&&i!==0&&!this._suppressNavigation?this._additionalView?i>2||i<-1?(this._refreshViews(),this._setViewContoured(n),this._updateAriaId(n),this._renderNavigator()):i===1&&this._skipNavigate?(this._setViewContoured(n),this._updateAriaId(n)):this._navigate(i,n):this._navigate(i,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n)),this._skipNavigate=!1},_isAdditionalViewDate(r){return this._additionalView?r>=this._additionalView._getFirstAvailableDate():!1},_getActiveView:function(r){return this._isAdditionalViewDate(r)?this._additionalView:this._view},_setViewContoured:function(r){if(this.option("skipFocusCheck")||E(this._$viewsWrapper).is(":focus")){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null);var t=this._isAdditionalViewDate(r)?this._additionalView:this._view;t.option("contouredDate",r)}},_getMinDate:function(){var r=this.option("_rangeMin");return r||(this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min))},_getMaxDate:function(){var r=this.option("_rangeMax");return r||(this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max))},_getViewsOffset:function(r,e){var t=this.option("zoomLevel");if(t===yi.MONTH)return this._getMonthsOffset(r,e);var n;switch(t){case yi.CENTURY:n=100;break;case yi.DECADE:n=10;break;default:n=1}return parseInt(e.getFullYear()/n)-parseInt(r.getFullYear()/n)},_getMonthsOffset:function(r,e){var t=e.getFullYear()-r.getFullYear(),n=e.getMonth()-r.getMonth();return 12*t+n},_waitRenderView:function(r){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var e=this._getDateByOffset(r*this._getRtlCorrection());this._moveToClosestAvailableDate(e),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(r,e){var t;e=this._getDate((t=e)!==null&&t!==void 0?t:this.option("currentDate"));var n=e.getDate(),i=qe.getDifferenceInMonth(this.option("zoomLevel"))*r;e.setDate(1),e.setMonth(e.getMonth()+i);var o=qe.getLastMonthDate(e).getDate();return e.setDate(n>o?o:n),e},_focusTarget:function(){return this._$viewsWrapper},_focusEventTarget(){return this.$element()},_initMarkup:function(){this._renderSubmitElement();var r=this.$element();r.addClass(nO),r.toggleClass(yRe,this.option("selectionMode")==="range"),this._renderBody(),r.append(this.$body),this._renderViews(),this._renderNavigator(),this.callBase(),this._renderEvents(),r.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this._updateNavigatorLabels(),this.setAria("role","application"),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=E("<div>").addClass(pRe),this._$viewsWrapper=E("<div>").addClass(_Re),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(uz+"-"+this.option("zoomLevel"));var{currentDate:r,viewsCount:e}=this.option();if(this.$element().toggleClass(CRe,e>1),this._view=this._renderSpecificView(r),yt()){var t=this._getDateByOffset(-1,r);this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null;var n=this._getDateByOffset(e,r);n.setDate(1),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null}e>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,r))),this._translateViews()},_renderSpecificView:function(r){var{zoomLevel:e}=this.option(),t=lRe[e],n=E("<div>").appendTo(this._$viewsWrapper),i=this._viewConfig(r),o=this._createComponent(n,t,i);return o},_viewConfig:function(r){var e,t=this.option("disabledDates");return t=Ne(t)?this._injectComponent(t.bind(this)):t,b({},this._selectionStrategy.getViewOptions(),{date:r,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:(e=this.option("firstDayOfWeek"))!==null&&e!==void 0?e:kt.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),selectWeekOnClick:this.option("selectWeekOnClick"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:t,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})},_renderEvents(){B.off(this._$viewsWrapper,hz),this.option("selectionMode")==="range"&&B.on(this._$viewsWrapper,hz,null,r=>{this._updateViewsOption("hoveredRange",[])})},_injectComponent:function(r){var e=this;return function(t){return $(t,{component:e}),r(t)}},_isViewAvailable:function(r){var e=this.option("zoomLevel"),t=qe.getViewMinBoundaryDate(e,this._getMinDate()),n=qe.getViewMaxBoundaryDate(e,this._getMaxDate());return qe.dateInRange(r,t,n)},_translateViews:function(){var{viewsCount:r}=this.option();ci(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,r),this._moveViewElement(this._additionalView,1)},_moveViewElement(r,e){r&&ci(r.$element(),{left:this._getViewPosition(e),top:0})},_getViewPosition:function(r){var e=this.option("rtlEnabled")?-1:1;return 100*r*e+"%"},_cellClickHandler:function(r){var e=this.option("zoomLevel"),t=qe.getViewDown(e),n=this._isMaxZoomLevel();if(t&&!n)this._navigateDown(r.event.currentTarget);else{var i=this._updateTimeComponent(r.value);this._selectionStrategy.selectValue(i,r.event),this._cellClickAction(r)}},_updateTimeComponent:function(r){var e=new Date(r),t=this._dateOption("value");return t&&this._isSingleMode()&&(e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(r){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var t=qe.getViewDown(e);if(t){var n=this._view.option("contouredDate")||this._view.option("date");r&&(n=E(r).data(bRe)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",t),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new XTe(E("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()},_navigatorConfig:function(){var{focusStateEnabled:r,rtlEnabled:e}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),focusStateEnabled:r,rtlEnabled:e,tabIndex:void 0}},_navigatorClickHandler:function(r){var{currentDate:e,viewsCount:t}=this.option(),n=r.direction;if(t>1){var i=this._isAdditionalViewDate(e),o=i&&n<0||!i&&n>0;o&&(n*=2)}var a=this._getDateByOffset(n,e);this._moveToClosestAvailableDate(a)},_navigateUp:function(){var r=this.option("zoomLevel"),e=qe.getViewUp(r);!e||this._isMinZoomLevel(r)||(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(r){var e=this._getMinDate(),t=this._getMaxDate();return qe.sameView(r,e,t)||this.option("minZoomLevel")===r},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!L(this._afterView)),this._navigator.toggleButton("prev",!L(this._beforeView))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),aE,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(r){nn.stop(this._$viewsWrapper,!0);var{viewsCount:e}=this.option();this._toggleGestureCoverCursor("grabbing"),r.event.maxLeftOffset=this._getRequiredView("next")?1/e:0,r.event.maxRightOffset=this._getRequiredView("prev")?1/e:0},_toggleGestureCoverCursor:function(r){E(".".concat(SRe)).css("cursor",r)},_getRequiredView:function(r){var e,t=this.option("rtlEnabled");return r==="next"?e=t?this._beforeView:this._afterView:r==="prev"&&(e=t?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(r){var e=r.event.offset;ci(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(r){this._toggleGestureCoverCursor("auto");var{currentDate:e,rtlEnabled:t}=this.option(),n=r.event.targetOffset,i=n?n/Math.abs(n):0,o=this._isAdditionalViewDate(e),a=o&&(t?i===-1:i===1);if(i===0){this._animateWrapper(0,vS);return}var s=-i*this._getRtlCorrection()*(a?2:1),l=this._getDateByOffset(s);this._isDateInInvalidRange(l)&&(i>=0?l=new Date(this._getMinDate()):l=new Date(this._getMaxDate())),this.option("currentDate",l)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=gt(this.$element())/this.option("viewsCount")),this._viewWidthValue},_updateNavigatorCaption:function(r){r*=this._getRtlCorrection();var e=this.option("viewsCount")>1,t,n;r>.5&&this._beforeView?(t=this._beforeView,n=e&&this._view):r<-.5&&this._afterView?(t=e?this._additionalView:this._afterView,n=e?this._afterView:null):(t=this._view,n=e?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(t,n))},_getViewsCaption:function(r,e){var t=r.getNavigatorCaption(),{viewsCount:n}=this.option();if(n>1&&e){var i=e.getNavigatorCaption();t="".concat(t," - ").concat(i)}return t},_isDateInInvalidRange:function(r){if(!this._view.isBoundary(r)){var e=this._getMinDate(),t=this._getMaxDate(),n=qe.normalizeDate(r,e,t);return n===e||n===t}},_renderFooter:function(){var r=this.option("showTodayButton");if(r){var e=this._createComponent(E("<div>"),gi,{focusStateEnabled:this.option("focusStateEnabled"),text:J.format("dxCalendar-todayButtonText"),onClick:t=>{this._toTodayView(t)},type:Zi()?"normal":"default",stylingMode:Zi()?"outlined":"text",integrationOptions:{}}).$element().addClass(gRe);this._$footer=E("<div>").addClass(vRe).append(e),this.$element().append(this._$footer)}this.$element().toggleClass(mRe,r)},_renderSubmitElement:function(){this._$submitElement=E("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(r){var e=this._convertToDate(r);this._getSubmitElement().val(On.serializeDate(e,wRe))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){nn.stop(this._view.$element(),!0),this._popAnimationView(this._view,cz,dz,vS),this.option("viewsCount")>1&&(nn.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,cz,dz,vS))},_popAnimationView:function(r,e,t,n){return nn.animate(r.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:t,opacity:t},duration:n})},_navigate:function(r,e){if(r!==0&&Math.abs(r)!==1&&this._isViewAvailable(e)){var t=this._renderSpecificView(e);r>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=t):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=t),this._translateViews()}var n=this._getRtlCorrection(),i=r>0?1:r<0?-1:0,o=-n*i*this._viewWidth(),a=this._$viewsWrapper.position().left;a!==o&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(r,e):this._animateWrapper(o,vS).done(this._wrapperAnimationEndHandler.bind(this,r,e)))},_animateWrapper:function(r,e){return nn.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:r},duration:e})},_getDate:r=>new Date(r),_toTodayView:function(r){var e=new Date;if(this._isMaxZoomLevel()){this._selectionStrategy.selectValue(e,r.event);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(e,r.event),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler:function(r,e){this._rearrangeViews(r),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e),this._selectionStrategy.updateAriaSelected()},_rearrangeViews:function(r){var e;if(r!==0){var{viewsCount:t}=this.option(),n,i,o,a,s;if(r<0?(n=1,i="_beforeView",o="_afterView",a="_view",s=t===1?"_view":"_additionalView"):(n=-1,i="_afterView",o="_beforeView",a=t===1?"_view":"_additionalView",s="_view"),!!this[i]){var l=this[i].option("date");(e=this[o])===null||e===void 0||e.$element().remove(),this[o]=this._renderSpecificView(this._getDateByOffset(n*t,l)),this[s].$element().remove(),t===1?this[s]=this[i]:(this[s]=this[a],this[a]=this[i]);var u=this._getDateByOffset(-n,l);this[i]=this._isViewAvailable(u)?this._renderSpecificView(u):null}}},_resetLocation:function(){ci(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._additionalView&&this._additionalView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._resetActiveState(),this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_shouldSkipFocusEvent(r){var{target:e,relatedTarget:t}=r;return E(e).parents(".".concat(nO)).length&&E(t).parents(".".concat(nO)).length},_focusInHandler:function(r){E(r.target).is(this._$viewsWrapper)&&this._setViewContoured(this.option("currentDate")),!this._shouldSkipFocusEvent(r)&&(this.callBase.apply(this,arguments),this._toggleFocusClass(!0,this.$element()))},_focusOutHandler:function(r){if(E(r.target).is(this._$viewsWrapper)){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null)}this._shouldSkipFocusEvent(r)||(this.callBase.apply(this,arguments),this._toggleFocusClass(!1,this.$element()))},_updateViewsOption:function(r,e){var t,n,i;this._view.option(r,e),(t=this._additionalView)===null||t===void 0||t.option(r,e),(n=this._beforeView)===null||n===void 0||n.option(r,e),(i=this._afterView)===null||i===void 0||i.option(r,e)},_setViewsMinOption:function(r){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(r)),this._updateViewsOption("min",this._getMinDate())},_setViewsMaxOption:function(r){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(r)),this._updateViewsOption("max",this._getMaxDate())},_restoreViewsMinMaxOptions:function(){this._resetActiveState(),this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())},_updateNavigatorLabels:function(){var r=this.option("zoomLevel");r=r.charAt(0).toUpperCase()+r.slice(1);var e=this._navigator._caption.option("text"),t=J.format("dxCalendar-previous".concat(r,"ButtonLabel")),n=J.format("dxCalendar-caption".concat(r,"Label")),i=J.format("dxCalendar-next".concat(r,"ButtonLabel"));this.setAria("label",t,this._navigator._prevButton.$element()),this.setAria("label","".concat(e,". ").concat(n),this._navigator._caption.$element()),this.setAria("label",i,this._navigator._nextButton.$element())},_updateAriaSelected:function(r,e){e.forEach(t=>{this.setAria("selected",void 0,this._view._getCellByDate(t))}),r.forEach(t=>{this.setAria("selected",!0,this._view._getCellByDate(t))}),this.option("viewsCount")>1&&(e.forEach(t=>{this.setAria("selected",void 0,this._additionalView._getCellByDate(t))}),r.forEach(t=>{this.setAria("selected",!0,this._additionalView._getCellByDate(t))}))},_updateAriaId:function(r){var e;r=(e=r)!==null&&e!==void 0?e:this.option("currentDate");var t="dx-"+new dn,n=this._getActiveView(r),i=n._getCellByDate(r);this.setAria("id",t,i),this.setAria("activedescendant",t),this._onContouredChanged(t)},_suppressingNavigation:function(r,e){this._suppressNavigation=!0,r.apply(this,e),delete this._suppressNavigation},_optionChanged:function(r){var{value:e,previousValue:t}=r;switch(r.name){case"width":this.callBase(r),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"selectWeekOnClick":this._refreshViews();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"focusStateEnabled":this._invalidate();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(t)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(uz+"-"+t),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId(),this._updateNavigatorLabels();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":this._selectionStrategy.processValueChanged(e,t),this._setSubmitValue(e),this.callBase(r);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(r)}},getContouredDate:function(){return this._view.option("contouredDate")}});Kt("dxCalendar",u7);var gS=tr.abstract,c0=tr.inherit({ctor:function(r){this.dateBox=r},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(r){r=r||E("<div>"),this._widget=this._createWidget(r),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(r){var e=this._getWidgetName(),t=this._getWidgetOptions();return this.dateBox._createComponent(r,e,t)},_getWidgetOptions:gS,_getWidgetName:gS,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:gS,supportedKeys:Z,getKeyboardListener:Z,customizeButtons:Z,getParsedText:function(r,e){var t=kt.parse(r,e);return t||kt.parse(r)},renderInputMinMax:Z,renderOpenedState:function(){this._updateValue()},popupConfig:gS,_dimensionChanged:function(){var r;(r=this._getPopup())===null||r===void 0||r.repaint()},renderPopupContent:function(){var r=this._getPopup();this._renderWidget();var e=r.$content().parent();B.off(e,"mousedown"),B.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},_preventFocusOnPopup:function(r){r.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:Z,popupHiddenHandler:Z,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:Z,getDefaultDate:function(){return new Date},textChangedHandler:Z,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var r=this._getPopup();r&&r.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),xRe="dx-button-today",c7=c0.inherit({NAME:"Calendar",getDefaultOptions:function(){return $(this.callBase(),{todayButtonText:J.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var r=function(e){return this.option("opened")?(e.preventDefault(),!0):!1};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:(function(e){if(this.dateBox.option("opened"))if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var t=this._getContouredValue(),n=this._lastActionElement,i=this._closeDropDownByEnter();return i&&t&&n==="calendar"&&this.dateBoxValue(t,e),i&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!i}else return!0;else this.dateBox._valueChangeEventHandler(e)}).bind(this),home:r,end:r}},getDisplayFormat:function(r){return r||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return u7},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var r=this.dateBox.option("disabledDates");return $(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,selectionMode:"single",dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),disabledDates:Ne(r)?this._injectComponent(r.bind(this.dateBox)):r,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(r){var e=this;return function(t){return $(t,{component:e.dateBox}),r(t)}},_refreshActiveDescendant:function(r){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",r.actionValue)},_getTodayButtonConfig(){var r=this.dateBox.option("buttonsLocation"),e=r==="default",t=e?["bottom","center"]:bv(r),n=Hi()?"text":"outlined";return{widget:"dxButton",toolbar:t[0],location:t[1]==="after"?"before":t[1],options:{onClick:i=>{this._widget._toTodayView(i)},text:this.dateBox.option("todayButtonText"),elementAttr:{class:xRe},stylingMode:n}}},_isCalendarVisible:function(){var{calendarOptions:r}=this.dateBox.option();return go(r)||r.visible!==!1},_getPopupToolbarItems(r){var e=this.dateBox.option("applyValueMode")==="useButtons",t=e&&this._isCalendarVisible();if(t){var n=this._getTodayButtonConfig();return[n,...r]}return r},popupConfig:function(r){return $(!0,r,{position:{collision:"flipfit flip"},width:"auto"})},_valueChangedHandler:function(r){var e=r.value,t=r.previousValue;qe.sameDate(e,t)&&qe.sameHoursAndMinutes(e,t)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),r.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(r){var e=this.dateBox;e.option("applyValueMode")==="instantly"&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),r.event))}});let IRe=class{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??Xb}get isHorizontal(){return this.direction===v9||this.direction===hR}get isVertical(){return this.direction===Xb||this.direction===hR}get isBoth(){return this.direction===hR}};function TRe(r,e){if(Nt(r)){var t=an(r.left,r.x),n=an(r.top,r.y);return{left:L(t)?t:void 0,top:L(n)?n:void 0}}var{isHorizontal:i,isVertical:o}=new IRe(e);return{left:i&&L(r)?r:void 0,top:o&&L(r)?r:void 0}}var RRe="dx-dateviewroller",ORe="dx-state-active",DRe="dx-dateviewroller-current",pz="dx-dateview-item",ARe="dx-dateview-item-selected",PRe="dx-dateview-item-selected-frame",MRe="dx-dateview-item-selected-border";class d7 extends Oa{_getDefaultOptions(){return $(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(RRe),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){B.on(E(this.container()),"dxmousewheel",e=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var e=fe(sr,this.NAME),t=this._createActionByOption("onClick");B.off(E(this.container()),e),B.on(E(this.container()),e,function(n){t({event:n})})}}_renderItems(){var e=this.option("items")||[],t=E();E(this.content()).empty(),e.forEach(function(n){t=t.add(E("<div>").addClass(pz).append(n))}),E(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){E("<div>").addClass(PRe).append(E("<div>").addClass(MRe)).appendTo(E(this.container()))}_renderSelectedValue(e){var t=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(e){var t=this.option("items")||[],n=t.length;return e>=n?n-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){var e=this._getItemSelector(),t=fe(sr,this.NAME);B.off(this.$element(),t,e),B.on(this.$element(),t,e,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+pz}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var e=this.option("selectedIndex");U(this._$items,function(t){E(this).toggleClass(ARe,e===t)})}_shouldScrollToNeighborItem(){return Ye.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(e){var{top:t,left:n}=TRe(e),i=this.scrollOffset(),o={x:i.left-n,y:i.top-t};if(this._isVisible()&&(o.x||o.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var a=this;nn.stop(E(this.content())),nn.animate(E(this.content()),{duration:200,type:"slide",to:{top:Math.floor(o.y)},complete(){FC(E(a.content())),a.handleMove({delta:o})}}),delete this._animation}else this.handleMove({delta:o})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){var t=this.option("items").length;return Math.max(Math.min(e,t-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){var t=this.scrollOffset().top,n=e*this._itemHeight(),i=t-n;if(this._isInNullNeighborhood(i))return e;var o=i>0?1:-1,a=this._fitSelectedIndexInRange(e+o);return a}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;var t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){var e=this.option("selectedIndex"),t=this._getNewSelectedIndex(e);t===e?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){var e=this._$items.first();return Dt(e)}_toggleActive(e){this.$element().toggleClass(ORe,e)}_isVisible(){return E(this.container()).is(":visible")}_fireSelectedIndexChanged(e,t){this._selectedIndexChanged({value:e,previousValue:t,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass(DRe,e)}_refreshSelectedIndex(){var e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}Kt("dxDateViewRoller",d7);var iO="dx-dateview",FRe="dx-dateview-compact",LRe="dx-dateview-wrapper",NRe="dx-dateview-rollers",kRe="dx-dateviewroller",fz={date:"date",datetime:"datetime",time:"time"},Io={year:"year",month:"month",day:"day",hours:"hours"},h7=qs.inherit({_valueOption:function(){var r=this.option("value"),e=new Date(r);return!r||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var r=new Date;return this.option("type")===fz.date?new Date(r.getFullYear(),r.getMonth(),r.getDate()):r},_getDefaultOptions:function(){return $(this.callBase(),{minDate:mr.MIN_DATEVIEW_DEFAULT_DATE,maxDate:mr.MAX_DATEVIEW_DEFAULT_DATE,type:fz.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(r){return r.deviceType!=="desktop"},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(iO),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(r,e){this.$element().addClass(iO+"-"+r),e&&this.$element().removeClass(iO+"-"+e)},_toggleCompactClass:function(){this.$element().toggleClass(FRe,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=E("<div>").addClass(LRe),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=E("<div>").addClass(NRe)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var r=this;U(r._rollerConfigs,function(e){var t=E("<div>").appendTo(r._$rollersContainer).addClass(kRe+"-"+r._rollerConfigs[e].type);r._rollers[r._rollerConfigs[e].type]=r._createComponent(t,d7,{items:r._rollerConfigs[e].displayItems,selectedIndex:r._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(n){var i=n.component;i._toggleActive(!0),r._setActiveRoller(r._rollerConfigs[e],i.option("selectedIndex"))},onEnd:function(n){var i=n.component;i._toggleActive(!1)},onClick:function(n){var i=n.component;i._toggleActive(!0),r._setActiveRoller(r._rollerConfigs[e],i.option("selectedIndex")),r._setRollerState(r._rollerConfigs[e],i.option("selectedIndex")),i._toggleActive(!1)},onSelectedIndexChanged:function(n){var i=n.component;r._setRollerState(r._rollerConfigs[e],i.option("selectedIndex"))}})}),r._$rollersContainer.appendTo(r._wrapper())},_createRollerConfigs:function(r){var e=this;r=r||e.option("type"),e._rollerConfigs={},kt.getFormatParts(mr.FORMATS_MAP[r]).forEach(function(t){e._createRollerConfig(t)})},_createRollerConfig:function(r){for(var e=mr.DATE_COMPONENTS_INFO[r],t=this._calculateRollerConfigValueRange(r),n=t.startValue,i=t.endValue,o=e.formatter,a=this._getCurrentDate(),s={type:r,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(u){return u[e.getter]()-n}},l=n;l<=i;l++)s.valueItems.push(l),s.displayItems.push(o(l,a));s.selectedIndex=s.getIndex(a),this._rollerConfigs[r]=s},_setActiveRoller:function(r){var e=r&&this._rollers[r.type];U(this._rollers,function(){this.toggleActiveState(this===e)})},_updateRollersPosition:function(){var r=this;U(this._rollers,function(e){var t=r._rollerConfigs[e].getIndex(r._getCurrentDate());this.option("selectedIndex",t)})},_setRollerState:function(r,e){if(e!==r.selectedIndex){var t=r.valueItems[e],n=r.setValue,i=new Date(this._getCurrentDate()),o=i.getDate(),a=this.option("minDate"),s=this.option("maxDate");r.type===Io.month?o=Math.min(o,mr.getMaxMonthDay(i.getFullYear(),t)):r.type===Io.year&&(o=Math.min(o,mr.getMaxMonthDay(t,i.getMonth()))),i.setDate(o),i[n](t);var l=qe.normalizeDate(i,a,s);i=mr.mergeDates(l,i,"time"),i=qe.normalizeDate(i,a,s),this.option("value",i),r.selectedIndex=e}r.type===Io.year&&this._refreshRollers(),r.type===Io.month&&(this._refreshRoller(Io.day),this._refreshRoller(Io.hours))},_refreshRoller:function(r){var e=this._rollers[r];if(e){this._createRollerConfig(r);var t=this._rollerConfigs[r];(r===Io.day||t.displayItems.toString()!==e.option("items").toString())&&e.option({items:t.displayItems,selectedIndex:t.selectedIndex})}},_getCurrentDate:function(){var r=this._valueOption(),e=this.option("minDate"),t=this.option("maxDate");return qe.normalizeDate(r,e,t)},_calculateRollerConfigValueRange:function(r){var e=this._getCurrentDate(),t=this.option("minDate"),n=this.option("maxDate"),i=qe.sameYear(e,t),o=i&&e.getMonth()===t.getMonth(),a=qe.sameYear(e,n),s=a&&e.getMonth()===n.getMonth(),l=o&&e.getDate()===t.getDate(),u=s&&e.getDate()===n.getDate(),c=mr.DATE_COMPONENTS_INFO[r],d=c.startValue,h=c.endValue;return r===Io.year&&(d=t.getFullYear(),h=n.getFullYear()),r===Io.month&&(i&&(d=t.getMonth()),a&&(h=n.getMonth())),r===Io.day&&(h=mr.getMaxMonthDay(e.getFullYear(),e.getMonth()),i&&o&&(d=t.getDate()),a&&s&&(h=n.getDate())),r===Io.hours&&(d=l?t.getHours():d,h=u?n.getHours():h),{startValue:d,endValue:h}},_refreshRollers:function(){this._refreshRoller(Io.month),this._refreshRoller(Io.day),this._refreshRoller(Io.hours)},_optionChanged:function(r){switch(r.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(r.value,r.previousValue);break;case"visible":this.callBase(r),r.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(r)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});Kt("dxDateView",h7);var VRe=Rt(),BRe=c0.inherit({NAME:"DateView",getDefaultOptions:function(){return $(this.callBase(),{openOnFieldClick:!0,applyButtonText:J.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(r){return r||mr.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(r){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:r.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(e){var t=e.platform;return t==="generic"||t==="ios"},options:{width:"auto",height:"auto"}},{device:function(e){var t=e.platform,n=e.phone;return t==="generic"&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:VRe}}}]}},_renderWidget:function(){if(Fx(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}var r=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=E("<div>").appendTo(r.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())},_getWidgetName:function(){return h7},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*mr.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}),HRe=c0.inherit({NAME:"Native",popupConfig:function(r){return $({},r,{width:"auto"})},getParsedText:function(r){return r?this.dateBox.option("type")==="datetime"?new Date(r.replace(/-/g,"/").replace("T"," ").split(".")[0]):mr.fromStandardDateFormat(r):null},renderPopupContent:Z,_getWidgetName:Z,_getWidgetOptions:Z,_getDateBoxType:function(){var r=this.dateBox.option("type");return mr.SUPPORTED_FORMATS.includes(r)?r==="datetime"&&!Fx(r)&&(r="datetime-local"):r="date",r},customizeButtons:function(){var r=this.dateBox.getButton("dropDown");Ye.real().android&&r&&r.on("click",(function(){this.dateBox._input().get(0).click()}).bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(r){var e=this._getDateBoxType();return r||mr.FORMATS_MAP[e]},renderInputMinMax:function(r){r.attr({min:On.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:On.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),GRe="dx-box",$Re="dx-box-flex",WRe="dx-box-item",p7="dxBoxItemData",zRe=1,URe={row:"minWidth",col:"minHeight"},jRe={row:"maxWidth",col:"maxHeight"},vz={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},gz={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},KRe={row:"row",col:"column"},kp=(r,e,t)=>{if(t=tv(e,t),r.style[sp(e)]=t,!yt()){if(t===""||!L(t))return;var n=qF(e),i=n+": "+t+";";Dq(r,i,!1)}};class qRe extends dp{_renderVisible(e,t){super._renderVisible(e),L(t)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:t})}}class YRe{constructor(e,t){this._$element=e,this._option=t}renderBox(){this._$element.css({display:Bw("flexDirection")+"flex"}),kp(this._$element.get(0),"flexDirection",KRe[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var e=this._option("align");return e in vz?vz[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var e=this._option("crossAlign");return e in gz?gz[e]:e}renderItems(e){var t=Bw("flexDirection"),n=this._option("direction");U(e,function(){var i=E(this),o=i.data(p7);i.css({display:t+"flex"}).css(jRe[n],o.maxSize||"none").css(URe[n],o.minSize||"0"),kp(i.get(0),"flexBasis",o.baseSize||0),kp(i.get(0),"flexGrow",o.ratio),kp(i.get(0),"flexShrink",L(o.shrink)?o.shrink:zRe),i.children().each((a,s)=>{E(s).css({width:"auto",height:"auto",display:Bw("flexDirection")+"flex",flexBasis:0}),kp(s,"flexGrow",1),kp(s,"flexDirection",E(s)[0].style.flexDirection||"column")})})}}let ov=class f7 extends pp{_getDefaultOptions(){return $(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return WRe}_itemDataKey(){return p7}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass($Re),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new YRe(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(e,t){this._queue.push({$item:e,config:t})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(GRe),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(e){for(super._renderItems(e);this._queueIsNotEmpty();){var t=this._shiftItemFromQueue();this._createComponent(t.$item,f7,$({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},t.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(e){var t=e.itemData&&e.itemData.node;return t?this._renderItemContentByNode(e,t):super._renderItemContent(e)}_postprocessRenderItem(e){var t=e.itemData.box;t&&this._pushItemToQueue(e.itemContent,t)}_createItemByTemplate(e,t){return t.itemData.box?e.source?e.source():E():super._createItemByTemplate(e,t)}_itemOptionChanged(e,t,n,i){t==="visible"&&this._onItemStateChanged({name:t,state:n,oldState:i!==!1}),super._itemOptionChanged(e,t,n)}_optionChanged(e){switch(e.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(e)}}_itemOptions(){var e=super._itemOptions();return e.fireItemStateChangedAction=t=>{this._onItemStateChanged(t)},e}};ov.ItemClass=qRe;Kt("dxBox",ov);var XRe="dx-timeview",QRe="dx-timeview-clock",ZRe="dx-timeview-field",JRe="dx-timeview-hourarrow",eOe="dx-timeview-time-separator",tOe="dx-timeview-format12",oO=-1,aO=1,rOe="dx-timeview-minutearrow",mz=function(r,e,t){nOe(r,e,t)},nOe=function(r,e,t){r.css("transform","rotate("+e+"deg) translate(0,"+t+"px)")},v7=qs.inherit({_getDefaultOptions:function(){return $(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(XRe)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var r=E("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(r,ov,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(r,e,t){this._$hourArrow=E("<div>").addClass(JRe),this._$minuteArrow=E("<div>").addClass(rOe);var n=E(t);n.addClass(QRe).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var r=this._getValue(),e=r.getHours()/12*360+r.getMinutes()/60*30,t=r.getMinutes()/60*360;mz(this._$hourArrow,e,this.option("_arrowOffset")),mz(this._$minuteArrow,t,this.option("_arrowOffset"))},_getBoxItems:function(r){var e=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:E("<div>").addClass(eOe).text(kt.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return r&&e.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),e},_renderField:function(){var r=!this.option("use24HourFormat");return this._createHourBox(r),this._createMinuteBox(),r&&this._createFormat12Box(),this._createComponent(E("<div>").addClass(ZRe),ov,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(r)}).$element()},_createHourBox:function(r){var e=this._hourBox=this._createComponent(E("<div>"),iE,$({min:-1,max:r?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:t=>this._keyboardHandler(t)},this._getNumberBoxConfig()));e.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&this._format12.option("value")===1},_onHourBoxValueChanged:function(r){var{value:e,component:t}=r,n=this._getValue(),i=new Date(n),o=this._convertMaxHourToMin(e);t.option("value",o),this._isPM()&&(o+=12),i.setHours(o),mr.normalizeTime(i),this.option("value",i)},_convertMaxHourToMin:function(r){var e=this.option("use24HourFormat")?24:12;return(e+r)%e},_createMinuteBox:function(){var r=this._minuteBox=this._createComponent(E("<div>"),iE,$({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:t,component:n}=e,i=(60+t)%60;n.option("value",i);var o=new Date(this._getValue());o.setMinutes(i),mr.normalizeTime(o),this.option("value",o)}},this._getNumberBoxConfig()));r.setAria("label","minutes")},_createFormat12Box:function(){var r=kt.getPeriodNames(),e=this._format12=this._createComponent(E("<div>").addClass(tOe),gN,{items:[{value:oO,text:r[0]},{value:aO,text:r[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:n}=t,i=this._getValue().getHours(),o=new Date(this._getValue()),a=(i+12*n)%24;o.setHours(a),this.option("value",o)},value:this._getValue().getHours()>=12?aO:oO,stylingMode:this.option("stylingMode")});e.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var r=this._getValue(),e=r.getHours(),t=e>=12,n=t?aO:oO;this._silentEditorValueUpdate(this._format12,n)}},_silentEditorValueUpdate:function(r,e){r&&(r._suppressValueChangeAction(),r.option("value",e),r._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(r){return(r<10?"0":"")+r},stylingMode:this.option("stylingMode")}},_normalizeHours:function(r){return this.option("use24HourFormat")?r:r%12||12},_updateField:function(){var r=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,r),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(r){r&&this._updateTime()},_optionChanged:function(r){switch(r.name){case"value":this._updateTime(),this.callBase(r);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(r)}}});Kt("dxTimeView",v7);var iOe=Rt(),oOe=573,aOe="dx-datebox-adaptivity-mode",_z="dx-datebox-datetime-time-side",sOe=c7.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return $(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return qe.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(r){return r||"shortdateshorttime"},_is24HourFormat:function(){return kt.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var r=this.callBase();return this._updateDateTime(r)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(E("<div>"),v7,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")})},renderOpenedState:function(){this.callBase();var r=this._getPopup();r&&r.$wrapper().toggleClass(aOe,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout((function(){this._getPopup()&&this._getPopup().repaint()}).bind(this),0)},isAdaptivityChanged:function(){var r=this._isShrinkView(),e=this._currentAdaptiveMode;return r!==e?(this._currentAdaptiveMode=r,e!==void 0):this.callBase()},_updateValue:function(r){var e=this.dateBoxValue();!e&&!r&&(e=new Date,mr.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return gt(iOe)<=oOe},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var r=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||r.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),r},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var r=this._getPopup().$content();this._box=this.dateBox._createComponent(E("<div>").appendTo(r),ov,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(e,t,n){var i=E("<div>");switch(e.name){case"calendar":i.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(_z),i.append(this._timeView.$element()));break;case"time":i.append(this._timeView.$element()),E(n).addClass(_z)}return i}).bind(this)})},popupConfig:function(r){var e=this.callBase(r);return $(e,{width:"auto"})},_preventFocusOnPopup:function(r){E(r.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(r){var e=this._timeView.option("value");return r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r},getValue:function(){var r,e=(r=this._widget.option("value"))!==null&&r!==void 0?r:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),lOe=Rt(),uOe="date",cOe={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},dOe=c0.inherit({NAME:"List",supportedKeys:function(){return{space:Z,home:Z,end:Z}},getDefaultOptions:function(){return $(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(r){return r||"shorttime"},popupConfig:function(r){return r},getValue:function(){var r=this._widget.option("selectedIndex");if(r===-1)return this.dateBox.option("value");var e=this._widgetItems[r];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return Rv},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(r){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",r.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var r=this.dateBoxValue(),e=this._getDateIndex(r);e===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(r){for(var e=-1,t=0,n=this._widgetItems.length;t<n;t++)if(this._areDatesEqual(r,this._widgetItems[t])){e=t;break}return e},_areDatesEqual:function(r,e){return Zo(r)&&Zo(e)&&r.getHours()===e.getHours()&&r.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var r=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),t=this.dateBox.dateOption("value")||null,n=e-r,i=r.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>mr.ONE_DAY&&(n=mr.ONE_DAY),t-r<mr.ONE_DAY?this._getRangeItems(r,new Date(r),n):(r=this._getBoundaryDate("min"),r.setMinutes(i),t&&Math.abs(t-e)<mr.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-i))*mr.ONE_MINUTE),this._getRangeItems(r,new Date(r),n)))},_getRangeItems:function(r,e,t){for(var n=[],i=this.dateBox.option("interval");e-r<=t;)n.push(new Date(e)),e.setMinutes(e.getMinutes()+i);return n},_getBoundaryDate:function(r){var e=cOe[r],t=new Date(an(this.dateBox.dateOption("value"),0));return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(r){var e=this.dateBox.option("displayFormat");return kt.format(r,this.getDisplayFormat(e))},_listItemClickHandler:function(r){if(this.dateBox.option("applyValueMode")!=="useButtons"){var e=this._getDateByItemData(r.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,r.event)}},_getDateByItemData:function(r){var e=this.dateBox.option("value"),t=r.getHours(),n=r.getMinutes(),i=r.getSeconds(),o=r.getFullYear(),a=r.getMonth(),s=r.getDate();return e?(this.dateBox.option("dateSerializationFormat")?e=On.deserializeDate(e):e=new Date(e),e.setHours(t),e.setMinutes(n),e.setSeconds(i),e.setFullYear(o),e.setMonth(a),e.setDate(s)):e=new Date(o,a,s,t,n,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var r=hN(this.dateBox.option("dropDownOptions.height"));if(r===void 0||r==="auto"){this.dateBox._setPopupOption("height","auto");var e=Vt(this._widget.$element()),t=.45*Dt(lOe);this.dateBox._setPopupOption("height",Math.min(e,t))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(r,e){var t=this.callBase(r,e);return t&&(t=mr.mergeDates(t,new Date(null),uOe)),t}}),Cg=Rt(),yg="dx-datebox",hOe="dx-auto-width",pOe="dx-show-invalid-badge",fOe="dx-clear-button-area",mS="dx-datebox-wrapper",vOe="dx-dropdowneditor-overlay",za={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Ua={date:"date",datetime:"datetime",time:"time"},Sg={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},gOe={Calendar:c7,DateView:BRe,Native:HRe,CalendarWithTime:sOe,List:dOe},mOe=pN.inherit({_supportedKeys:function(){return $(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return $(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:za.calendar,invalidDateMessage:J.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:J.format("validation-range"),applyButtonText:J.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var r=Ye.real(),e=r.platform;return e==="ios"||e==="android"},options:{pickerType:za.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(r){this._userOptions=$({},r),this.callBase(r),this._updatePickerOptions()},_updatePickerOptions:function(){var r=this.option("pickerType"),e=this.option("type");r===za.list&&(e===Ua.datetime||e===Ua.date)&&(r=za.calendar),e===Ua.time&&r===za.calendar&&(r=za.list),this._pickerType=r,this._setShowDropDownButtonOption()},_setShowDropDownButtonOption(){var r=Ye.real().platform,e=r==="android"&&Gr.mozilla,t=this._isNativeType(),n=r!=="generic"||!t;t&&e&&(n=!1),this.option({showDropDownButton:n})},_init:function(){this._initStrategy(),this.option($({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(r){return r.charAt(0).toLowerCase()+r.substr(1)},_initStrategy:function(){var r=this._getStrategyName(this._getFormatType()),e=gOe[r];this._strategy&&this._strategy.NAME===r||(this._strategy=new e(this))},_getFormatType:function(){var r=this.option("type"),e=/h|m|s/g.test(r),t=/d|M|Y/g.test(r),n="";return t&&(n+=Ua.date),e&&(n+=Ua.time),n},_getStrategyName:function(r){var e=this._pickerType;return e===za.rollers?Sg.dateView:e===za.native?Sg.native:r===Ua.date?Sg.calendar:r===Ua.datetime?Sg.calendarWithTime:Sg.list},_initMarkup:function(){this.$element().addClass(yg),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(hOe,!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged:function(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight:function(){if(this._popup){var r,e;(r=(e=this._strategy)._updatePopupHeight)===null||r===void 0||r.call(e)}},_refreshFormatClass:function(){var r=this.$element();U(Ua,function(e,t){r.removeClass(yg+"-"+t)}),r.addClass(yg+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var r=this.$element();U(za,function(e,t){r.removeClass(yg+"-"+t)}),r.addClass(yg+"-"+this._pickerType)},_formatValidationIcon:function(){if(yt()){var r=this._input().get(0),e=this.option("rtlEnabled"),t=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),i=parseFloat(Cg.getComputedStyle(r).width)-t,o=n.width>i,a=r.style;this.$element().toggleClass(pOe,!o&&this.option("_showValidationIcon")),o?(this._storedPadding===void 0&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?a.paddingLeft=0:a.paddingRight=0):e?a.paddingLeft=this._storedPadding+"px":a.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var r=0;if(this._isClearButtonVisible()&&this._input().val()===""){var e=this.$element().find("."+fOe).get(0);r=parseFloat(Cg.getComputedStyle(e).width)}return r},_getLongestElementDimensions:function(){var r=this._strategy.getDisplayFormat(this.option("displayFormat")),e=kt.format(mr.getLongestDate(r,kt.getMonthNames(),kt.getDayNames()),r),t=this._input(),n=t.get(0),i=Eue(t,e),o=this._storedPadding!==void 0,a=o?this._storedPadding:0;i.appendTo(this.$element());var s=parseFloat(Cg.getComputedStyle(i.get(0)).width),l=parseFloat(Cg.getComputedStyle(n).paddingRight),u=parseFloat(Cg.getComputedStyle(n).paddingLeft),c=s+u+l+a;return i.remove(),{width:c,leftPadding:u,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(mS),this._renderPopupWrapper()},_getPopupToolbarItems(){var r,e,t,n=this.callBase();return(r=(e=(t=this._strategy)._getPopupToolbarItems)===null||e===void 0?void 0:e.call(t,n))!==null&&r!==void 0?r:n},_popupConfig:function(){var r=this.callBase();return $(this._strategy.popupConfig(r),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var r=this.$element(),e=$({},Ua,za);U(e,(function(t,n){r.removeClass(mS+"-"+n)}).bind(this)),this._popup.$wrapper().addClass(mS+"-"+this.option("type")).addClass(mS+"-"+this._pickerType).addClass(vOe)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(r){r&&this._formatValidationIcon()},_clearValueHandler:function(r){this.option("text",""),this.callBase(r)},_readOnlyPropValue:function(){if(this._pickerType===za.rollers)return!0;var r=Ye.real().platform,e=this._isNativeType()&&(r==="ios"||r==="android");return e?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var r=this.dateOption("value");return this.option("text",this._getDisplayedText(r)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var r=this.dateOption("value"),e=this.option("dateSerializationFormat"),t=mr.SUBMIT_FORMATS_MAP[this.option("type")],n=e?On.serializeDate(r,e):mr.toStandardDateFormat(r,t);this._getSubmitElement().val(n)},_getDisplayedText:function(r){var e=this.option("mode"),t;if(e==="text"){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));t=kt.format(r,n)}else{var i=this._getFormatByMode(e);i?t=kt.format(r,i):t=mr.toStandardDateFormat(r,e)}return t},_getFormatByMode:function(r){return Fx(r)?null:mr.FORMATS_MAP[r]},_valueChangeEventHandler:function(r){var{text:e,type:t,validationError:n}=this.option(),i=this.dateOption("value");if(e===this._getDisplayedText(i)){this._recallInternalValidation(i,n);return}var o=this._getParsedDate(e),a=i??this._getDateByDefault(),s=mr.mergeDates(a,o,t),l=o&&t==="time"?s:o;if(this._applyInternalValidation(l).isValid){var u=this._getDisplayedText(s);a&&s&&a.getTime()===s.getTime()&&u!==e?this._renderValue():this.dateValue(s,r)}},_recallInternalValidation(r,e){(!e||e.editorSpecific)&&(this._applyInternalValidation(r),this._applyCustomValidation(r))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(r){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=this._strategy.getParsedText(r,e);return t??void 0},_applyInternalValidation(r){var e=this.option("text"),t=!!e&&r!==null,n=!!r&&Zo(r)&&!isNaN(r.getTime()),i=n&&qe.dateInRange(r,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!t&&!r||i,a="";return n?i||(a=this.option("dateOutOfRangeMessage")):a=this.option("invalidDateMessage"),this._updateInternalValidationState(o,a),{isValid:o,isDate:n}},_updateInternalValidationState(r,e){this.option({isValid:r,validationError:r?null:{editorSpecific:!0,message:e}})},_applyCustomValidation:function(r){this.validationRequest.fire({editor:this,value:this._serializeDate(r)})},_isValueChanged:function(r){var e=this.dateOption("value"),t=e&&e.getTime(),n=r&&r.getTime();return t!==n},_isTextChanged:function(r){var e=this.option("text"),t=r&&this._getDisplayedText(r)||"";return e!==t},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var r=this.option("placeholder");if(r)return r;var e=this.option("type");return e===Ua.time?J.format("dxDateBox-simulatedDataPickerTitleTime"):e===Ua.date||e===Ua.datetime?J.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(r){var e=this._strategy.getValue();this.dateValue(e,r.event),this.callBase()},_dispose:function(){var r;this.callBase(),(r=this._strategy)===null||r===void 0||r.dispose()},_isNativeType:function(){return this._pickerType===za.native},_updatePopupTitle:function(){var r;(r=this._popup)===null||r===void 0||r.option("title",this._getPopupTitle())},_optionChanged:function(r){switch(r.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:r.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:r.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(r.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var r=this.option("value");if(this.option("dateSerializationFormat")&&Fr().forceIsoDateParsing)return this.option("dateSerializationFormat");if(Tr(r))return"number";if(ft(r))return On.getDateSerializationFormat(r)},_updateValue:function(r){this.callBase(),this._applyInternalValidation(r??this.dateOption("value"))},dateValue:function(r,e){var t=this._isValueChanged(r);return t&&e&&this._saveValueChangeEvent(e),t||(this._isTextChanged(r)?this._updateValue(r):this.option("text")===""&&this._applyCustomValidation(r)),this.dateOption("value",r)},dateOption:function(r,e){if(arguments.length===1)return On.deserializeDate(this.option(r));this.option(r,this._serializeDate(e))},_serializeDate:function(r){var e=this._getSerializationFormat();return On.serializeDate(r,e)},_clearValue:function(){var r=this.option("value");this.callBase(),r===null&&this._applyCustomValidation(null)},clear:function(){var r=this.option("value");this.callBase(),r===null&&this._applyInternalValidation(null)}}),Vp="dateBoxMask",rc=1,Bp=-1,_Oe=mOe.inherit({_supportedKeys(r){var e=this.callBase(r),t=i=>{var o=e[Jr(i)];return o&&o.apply(this,[i])},n=(i,o)=>this._shouldUseOriginalHandler(i)?t.apply(this,[i]):o.apply(this,[i]);return $({},e,{del:i=>n(i,o=>{this._revertPart(rc),this._isAllSelected()||o.preventDefault()}),backspace:i=>n(i,o=>{this._revertPart(Bp),this._isAllSelected()||o.preventDefault()}),home:i=>n(i,o=>{this._selectFirstPart(),o.preventDefault()}),end:i=>n(i,o=>{this._selectLastPart(),o.preventDefault()}),escape:i=>n(i,o=>{this._revertChanges(o)}),enter:i=>n(i,()=>{this._enterHandler()}),leftArrow:i=>n(i,o=>{this._selectNextPart(Bp),o.preventDefault()}),rightArrow:i=>n(i,o=>{this._selectNextPart(rc),o.preventDefault()}),upArrow:i=>n(i,o=>{this._upDownArrowHandler(rc),o.preventDefault()}),downArrow:i=>n(i,o=>{this._upDownArrowHandler(Bp),o.preventDefault()})})},_shouldUseOriginalHandler(r){var e=this.option("opened")&&r&&["backspace","del"].indexOf(Jr(r))===-1;return!this._useMaskBehavior()||e||r&&r.altKey},_upDownArrowHandler(r){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),t=this._getActivePartValue(),n=t-e;this._loadMaskValue(this._initialMaskValue),this._changePartValue(n+r,!0)},_changePartValue(r,e){var t=this._getActivePartProp("pattern")==="a";t?this._toggleAmPm():this._partIncrease(r,e)},_toggleAmPm(){var r=this._getActivePartProp("text"),e=Tf.getPeriodNames().indexOf(r),t=1^e;this._setActivePartValue(t)},_getDefaultOptions(){return $(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(r){var{originalEvent:e,alt:t}=r,n=e.data||e.key;return typeof n=="string"&&n.length===1&&!t&&!ii(e)},_isSingleDigitKey(r){var e,t=(e=r.originalEvent)===null||e===void 0?void 0:e.data;return(t==null?void 0:t.length)===1&&parseInt(t,10)},_useBeforeInputEvent:function(){return Ye.real().android},_keyInputHandler(r,e){var t=this._input().val();this._processInputKey(e),r.preventDefault();var n=t!==this._input().val();n&&B.trigger(this._input(),"input")},_keyboardHandler(r){var e=r.originalEvent.key,t=this.callBase(r);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(Gr.chrome&&r.key==="Process"&&r.code.indexOf("Digit")===0?(e=r.code.replace("Digit",""),this._processInputKey(e),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(r)&&this._keyInputHandler(r.originalEvent,e)),t},_maskBeforeInputHandler(r){this._maskInputHandler=null;var{inputType:e}=r.originalEvent;e==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var t=e==="deleteContentBackward",n=e==="deleteContentForward";if(t||n){var i=t?Bp:rc;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(i)}}if(!(!this._useMaskBehavior()||!this._isSingleCharKey(r))){var o=r.originalEvent.data;return this._keyInputHandler(r,o),!0}},_keyPressHandler(r){var{originalEvent:e}=r;(e==null?void 0:e.inputType)==="insertCompositionText"&&this._isSingleDigitKey(r)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(r),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(r){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(r))?this._searchString(r):this._searchNumber(r)},_isAllSelected(){var r=this._caret();return r.end-r.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var r=this._strategy.getDisplayFormat(this.option("displayFormat")),e=ft(r)&&!kt._getPatternByFormat(r);return e?this._formatPattern=r:this._formatPattern=Q6(function(t){return kt.format(t,r)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var r=this.option("type")==="time"?new Date(null):new Date;this._maskValue=r,this._initialMaskValue=r,this._renderDateParts()}},_partLimitsReached(r){var e=String(r).length,t=this._getActivePartProp("pattern").length,n=t===1,i=n?e:Math.min(t,e),o=this._searchValue.length===i,a=parseInt(this._searchValue+"0")>r;return o||a},_searchNumber(r){var{max:e}=this._getActivePartLimits(),t=String(e).length;this._searchValue=(this._searchValue+r).substr(-t),isNaN(this._searchValue)&&(this._searchValue=r),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(rc)},_searchString(r){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),t=this._searchValue+r.toLowerCase(),n=e.max-e.min,i=0;i<=n;i++)if(this._loadMaskValue(this._initialMaskValue),this._changePartValue(i+1),this._getActivePartProp("text").toLowerCase().indexOf(t)===0){this._searchValue=t;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(r))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(r){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(r)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&this.option("mode")==="text"},_prepareRegExpInfo(){this._regExpInfo=Z6(this._getFormatPattern(),kt);var r=this._regExpInfo.regexp,e=r.source,t=r.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),i=e.split(n).map(o=>n.test(o)?o:Lr.convertDigits(o,!1)).join("");this._regExpInfo.regexp=new RegExp(i,t)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var r=this.option("text")||this._getDisplayedText(this._maskValue);r&&(this._dateParts=LTe(r,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){B.off(this._input(),"."+Vp)},_attachMaskEvents(){B.on(this._input(),fe("dxclick",Vp),this._maskClickHandler.bind(this)),B.on(this._input(),fe("paste",Vp),this._maskPasteHandler.bind(this)),B.on(this._input(),fe("drop",Vp),()=>{this._renderSelectedPart()}),B.on(this._input(),fe("compositionend",Vp),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&B.on(this._input(),fe("beforeinput",Vp),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(Bp))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(rc))},_onMouseWheel(r){this._useMaskBehavior()&&this._partIncrease(r.delta>0?rc:Bp,r)},_selectNextPart(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(!this.option("text")||this._disposed)){r&&(this._initialMaskValue=new Date(this._maskValue));var e=Ni(this._activePartIndex+r,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var t=e===0&&r<0||e===this._dateParts.length-1&&r>0;if(t)e=this._activePartIndex;else{this._selectNextPart(r>=0?r+1:r-1);return}}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"},_getActivePartLimits(r){var e=this._getActivePartProp("limits");return e(this._maskValue,r&&this._getRealLimitsPattern())},_getActivePartValue(r){r=r||this._maskValue;var e=this._getActivePartProp("getter");return Ne(e)?e(r):r[e]()},_addLeadingZeroes(r){var e=this._searchValue.match(/^0+/),t=this._getActivePartLimits(),n=String(t.max).length;return((e&&e[0]||"")+String(r)).substr(-n)},_setActivePartValue(r,e){e=e||this._maskValue;var t=this._getActivePartProp("setter"),n=this._getActivePartLimits();r=mu(r,n.min,n.max)?r:r%10,r=this._addLeadingZeroes(Ni(r,n.min,n.max)),Ne(t)?t(e,r):e[t](r),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp(r){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][r]},_loadMaskValue(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=r&&new Date(r),this._initialMaskValue=r&&new Date(r)},_saveMaskValue(){var r=this._maskValue&&new Date(this._maskValue);r&&this.option("type")==="date"&&r.setHours(0,0,0,0),this._initialMaskValue=new Date(r),this.dateOption("value",r)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(r){this.callBase(r),this._useMaskBehavior()&&this.option("text",r)},_partIncrease(r,e){this._setNewDateIfEmpty();var{max:t,min:n}=this._getActivePartLimits(e),i=r+this._getActivePartValue();i>t?i=this._applyLimits(i,{limitBase:n,limitClosest:t,max:t}):i<n&&(i=this._applyLimits(i,{limitBase:t,limitClosest:n,max:t})),this._setActivePartValue(i)},_applyLimits(r,e){var{limitBase:t,limitClosest:n,max:i}=e,o=(r-n)%i;return o?t+o-1*rv(o):n},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=NTe(this._dateParts,this._caret().start),this._isAllSelected()||(L(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(r){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(r){var e=this._replaceSelectedText(this.option("text"),this._caret(),ZA(r)),t=kt.parse(e,this._getFormatPattern());t&&this._isDateValid(t)&&(this._maskValue=t,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),r.preventDefault()},_isDateValid:r=>Zo(r)&&!isNaN(r),_isValueDirty(){var r=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(r&&r.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&B.trigger(this._input(),"change")},_enterHandler(){this._fireChangeEvent(),this._selectNextPart(rc)},_focusOutHandler(r){var e=this._useMaskBehavior()&&!r.isDefaultPrevented();e?(this._fireChangeEvent(),this.callBase(r),this._selectFirstPart(r)):this.callBase(r)},_valueChangeEventHandler(r){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(r),e?this._maskValue===null&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(r)},_optionChanged(r){switch(r.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(r),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(r),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(r)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},clear(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});Kt("dxDateBox",_Oe);var{isWrapped:COe}=Xi,yOe="checkbox-size",SOe="dx-editor-inline-block",g7=function(){var r=function(c,d){return $(c,{readOnly:d.readOnly,placeholder:d.placeholder,inputAttr:{id:d.id,"aria-labelledby":d["aria-labelledby"]},tabIndex:d.tabIndex},d.editorOptions)},e=function(){return Gr.mozilla||Ye.real().ios},t=function(c){var d={},h=e(),p=c.sharedData||d;return r({placeholder:c.placeholder,width:c.width,value:c.value,onValueChanged:function(f){var v=c.parentType==="filterRow"||c.parentType==="searchPanel",g=f.event&&(f.event.type==="input"||f.event.type==="keyup"),m=function(C,y){c&&c.setValue(C.value,y)};clearTimeout(d.valueChangeTimeout),g&&v?p.valueChangeTimeout=d.valueChangeTimeout=setTimeout(function(){m(f,d.valueChangeTimeout!==p.valueChangeTimeout)},L(c.updateValueTimeout)?c.updateValueTimeout:0):m(f)},onKeyDown:function(f){h&&Jr(f.event)==="enter"&&B.trigger(E(f.component._input()),"change")},valueChangeEvent:"change"+(c.parentType==="filterRow"?" keyup input":"")},c)},n=function(c){c.editorName="dxDateBox",c.editorOptions=r({value:c.value,onValueChanged:function(d){c.setValue(d.value)},onKeyDown:function(d){var{component:h,event:p}=d,f=h.option("useMaskBehavior");(e()||f)&&Jr(p)==="enter"&&(h.blur(),h.focus())},displayFormat:c.format,type:c.dataType,dateSerializationFormat:null,width:c.parentType==="filterBuilder"?void 0:"auto"},c)},i=function(c){var d=t(c),h=c.parentType==="searchPanel";c.editorType&&c.editorType!=="dxTextBox"?d.value=c.value:d.value=(p=c.value,L(p)?p.toString():"");var p;d.valueChangeEvent+=h?" keyup input search":"",d.mode=d.mode||(h?"search":"text"),c.editorName="dxTextBox",c.editorOptions=d},o=function(c){var d=t(c);d.value=L(c.value)?c.value:null,c.editorName="dxNumberBox",c.editorOptions=d};function a(c){var d=c.lookup,h,p,f,v=c.parentType==="filterRow";if(d){var g;h=Ar(d.displayExpr),p=d.dataSource,Ne(p)&&!COe(p)&&(p=p(c.row||{}),function(C){if(C.row&&C.row.watch&&C.parentType==="dataRow"){var y=C.editorOptions||{};C.editorOptions=y;var w,T=y.onInitialized;y.onInitialized=function(I){T&&T.apply(this,arguments),w=I.component,w.on("disposing",x)};var S,x=C.row.watch(()=>(S=C.lookup.dataSource(C.row),S&&S.filter),()=>{w.option("dataSource",S)},I=>{C.row=I})}}(c)),(pt(p)||Array.isArray(p))&&(p=Tv(p),v&&(f=p.postProcess,p.postProcess=function(C){return this.pageIndex()===0&&(C=C.slice(0),C.unshift(null)),f?f.call(this,C):C}));var m=!!(d.allowClearing&&!v);c.editorName=(g=c.editorType)!==null&&g!==void 0?g:"dxSelectBox",c.editorOptions=r({searchEnabled:!0,value:c.value,valueExpr:c.lookup.valueExpr,searchExpr:c.lookup.searchExpr||c.lookup.displayExpr,allowClearing:m,showClearButton:m,displayExpr:function(C){return C===null?c.showAllText:h(C)},dataSource:p,onValueChanged:function(C){var y=[C.value];!v&&y.push(C.component.option("text")),c.setValue.apply(this,y)}},c)}}function s(c){c.editorName="dxCheckBox",c.editorOptions=r({elementAttr:{id:c.id},value:L(c.value)?c.value:void 0,hoverStateEnabled:!c.readOnly,focusStateEnabled:!c.readOnly,activeStateEnabled:!1,onValueChanged:function(d){c.setValue&&c.setValue(d.value,d)}},c)}var l=c=>{c.editorName=c.editorType,c.editorOptions=r({value:c.value,onValueChanged:function(d){c.setValue(d.value)}},c)},u=c=>{var d={dxDateBox:n,dxCheckBox:s,dxNumberBox:o,dxTextBox:i};if(c.lookup)a(c);else if(c.editorType){var h;((h=d[c.editorType])!==null&&h!==void 0?h:l)(c)}else switch(c.dataType){case"date":case"datetime":n(c);break;case"boolean":(function(p){p.parentType==="filterRow"||p.parentType==="filterBuilder"?a($(p,{lookup:{displayExpr:function(f){if(f===!0)return p.trueText||"true";if(f===!1)return p.falseText||"false"},dataSource:[!0,!1]}})):s(p)})(c);break;case"number":o(c);break;default:i(c)}};return{createEditor:function(c,d){d.cancel=!1,d.editorElement=ut(c),L(d.tabIndex)||(d.tabIndex=this.option("tabIndex")),u(d),this.executeAction("onEditorPreparing",d),!d.cancel&&(d.parentType==="dataRow"&&!d.isOnForm&&!L(d.editorOptions.showValidationMark)&&(d.editorOptions.showValidationMark=!1),function(h,p){var f=E(p.editorElement);if(p.editorName&&p.editorOptions&&f[p.editorName]){if((p.editorName==="dxCheckBox"||p.editorName==="dxSwitch")&&(p.isOnForm||(f.addClass(h.addWidgetPrefix(yOe)),f.parent().addClass(SOe))),h._createComponent(f,p.editorName,p.editorOptions),p.editorName==="dxDateBox"){var v=f.dxDateBox("instance"),g=v._supportedKeys().enter;v.registerKeyHandler("enter",m=>(v.option("opened")&&g(m),!0))}p.editorName==="dxTextArea"&&f.dxTextArea("instance").registerKeyHandler("enter",function(m){Jr(m)==="enter"&&!m.ctrlKey&&!m.shiftKey&&m.stopPropagation()})}}(this,d),this.executeAction("onEditorPrepared",d))}}}(),wOe="dx-editor-inline-block",sO="dx-cell-focus-disabled",bOe="dx-cell-modified",EOe="invalid",xOe="dx-focused-cell-modified",IOe="dx-focused-cell-invalid",Cz="focus-overlay",TOe="content",lO="dx-focused",ROe="dx-row",m7="dxDataGridEditorFactory",yz=fe([Yt.down,"focusin",sr].join(" "),m7),uO="dx-hidden",OOe=kr.ViewController.inherit(g7);let DOe=class extends OOe{_getFocusedElement(e){var t=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n="td[tabindex]:focus, ".concat(t,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus"),i=e.find(n);return this.elementIsInsideGrid(i)&&i}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){var e=this.component&&this.component.$element();if(e){var t=this._getFocusedElement(e);if(t&&t.length){var n;if(!t.hasClass(sO)&&!t.hasClass(ROe)){var i=t.closest("".concat(this._getFocusCellSelector(),", .").concat(sO));i.get(0)!==t.get(0)&&(n=this._needHideBorder(i),t=i)}if(t.length&&!t.hasClass(sO)){this.focus(t,n);return}}}this.loseFocus()}_needHideBorder(e){return e.hasClass(wOe)}_updateFocus(e){var t=this,n=e&&e.event&&E(e.event.target).hasClass(t.addWidgetPrefix(Cz));t._isFocusOverlay=t._isFocusOverlay||n,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout(()=>{delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1})}_updateFocusOverlaySize(e,t){e.hide();var n=js.calculate(e,$({collision:"fit"},t));n.h.oversize>0&&g1(e,er(e)-n.h.oversize),n.v.oversize>0&&m1(e,Vt(e)-n.v.oversize),e.show()}callbackNames(){return["focused"]}focus(e,t){var n=this;if(e===void 0)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass(lO),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout(()=>{delete n._focusTimeoutID,n.renderFocusOverlay(e,t),e.addClass(lO),n.focused.fire(e)}))}refocus(){var e=this.focus();this.focus(e)}renderFocusOverlay(e,t){if(ye.isElementInCurrentGrid(this,e)){if(this._$focusOverlay||(this._$focusOverlay=E("<div>").addClass(this.addWidgetPrefix(Cz))),t)this._$focusOverlay.addClass(uO);else if(e.length){var n=Gr.mozilla?"right bottom":"left top",i=e.closest(".".concat(this.addWidgetPrefix(TOe))),o=Dn(e.get(0)),a=e.hasClass(this.addWidgetPrefix(EOe)),s=e.hasClass(bOe)&&!a;this._$focusOverlay.removeClass(uO).toggleClass(IOe,a).toggleClass(xOe,s).appendTo(i),m1(this._$focusOverlay,o.bottom-o.top+1),g1(this._$focusOverlay,o.right-o.left+1);var l={precise:!0,my:n,at:n,of:e,boundary:i.length&&i};this._updateFocusOverlaySize(this._$focusOverlay,l),js.setup(this._$focusOverlay,l),this._$focusOverlay.css("visibility","visible")}}}resize(){var e=this._$focusedElement;e&&this.focus(e)}loseFocus(){this._$focusedElement&&this._$focusedElement.removeClass(lO),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(uO)}init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),B.on(this._subscribedContainerRoot,yz,this._updateFocusHandler),this._attachContainerEventHandlers()}_getContainerRoot(){var e,t=(e=this.component)===null||e===void 0?void 0:e.$element(),n=ce.getRootNode(t==null?void 0:t.get(0));return n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!n.host?ce.getDocument():n}_attachContainerEventHandlers(){var e=this,t=e.component&&e.component.$element();t&&B.on(t,fe("keydown",m7),n=>{Jr(n)==="tab"&&e._updateFocusHandler(n)})}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),B.off(this._subscribedContainerRoot,yz,this._updateFocusHandler)}};var AOe={defaultOptions:()=>({}),controllers:{editorFactory:DOe}};at.registerModule("editorFactory",AOe);var _S=Rt(),POe={text:"OK",onClick:function(){return!0}},vp="dx-dialog",MOe="".concat(vp,"-wrapper"),FOe="".concat(vp,"-root"),LOe="".concat(vp,"-content"),NOe="".concat(vp,"-message"),kOe="".concat(vp,"-buttons"),VOe="".concat(vp,"-button"),Sz="dx-button",BOe=()=>Zi()?{stylingMode:"contained",type:"default"}:{},HOe=()=>Zi()?{stylingMode:"outlined",type:"default"}:{},GOe=function(r){var e,t=new X;r=r||{};var n=E("<div>").addClass(vp).appendTo(ed()),i="message"in r,o="messageHtml"in r;i&&Ht.log("W1013");var a=String(o?r.messageHtml:r.message),s=r.title?null:new dn,l=E("<div>").addClass(NOe).html(a).attr("id",s),u=[],c=new ql(n,$({title:(e=r.title)!==null&&e!==void 0?e:"",showTitle:an(r.showTitle,!0),dragEnabled:an(r.dragEnabled,!0),height:"auto",width:r.width,showCloseButton:r.showCloseButton||!1,ignoreChildEvents:!1,container:n,visualContainer:_S,dragAndResizeArea:_S,onContentReady:function(p){p.component.$content().addClass(LOe).append(l),s&&p.component.$overlayContent().attr("aria-labelledby",s)},onShowing:function(p){p.component.bottomToolbar().addClass(kOe).find(".".concat(Sz)).addClass(VOe),xv()},onShown:function(p){var f=p.component.bottomToolbar().find(".".concat(Sz)).first();B.trigger(f,"focus")},onHiding:function(){t.reject()},onHidden:function(p){var{element:f}=p;E(f).remove()},animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:Fr().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},r.popupOptions)),d=r.buttons||[POe];d.forEach(p=>{var f=new $o(p.onClick,{context:c});u.push({toolbar:"bottom",location:Ye.current().android?"after":"center",widget:"dxButton",options:b({},p,{onClick:function(){var v=f.execute(...arguments);h(v)}})})}),c.option("toolbarItems",u),c.$wrapper().addClass(MOe),r.position&&c.option("position",r.position),c.$wrapper().addClass(FOe);function h(p){t.resolve(p),c.hide()}return{show:function(){if(Ye.real().deviceType==="phone"){var p=Dt(_S)>gt(_S),f=p?"90%":"60%";c.option({width:f})}return c.show(),t.promise()},hide:h}},$Oe=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,n=Nt(r)?r:{title:e,messageHtml:r,showTitle:t,buttons:[b({text:J.format("Yes"),onClick:function(){return!0}},BOe()),b({text:J.format("No"),onClick:function(){return!1}},HOe())],dragEnabled:t};return GOe(n).show()},d0="dx-editor-cell",Ec="dx-row",WOe="dx-cell-modified",wz="dx-selection",sE="edit-form",ul="insert",ou="remove",Zw="editing.popup",cO="editing.form",pa="editing.editRowKey",ah="editing.editColumnName",_7="targetComponent",_N="input:not([type='hidden'])",CN="[tabindex]:not([disabled]), ".concat(_N,":not([disabled])"),jh="batch",wu="row",av="cell",Ov="form",yN="popup",bz="first",CS="last",Ez="pageBottom",dO="pageTop",xz="viewportBottom",C7="viewportTop",zOe=[jh,wu,av,Ov,yN],UOe=[wu,Ov,yN],jOe=[jh,av],KOe=[jh,wu,av],qOe=[wu,Ov],YOe="readonly",XOe="dx-link",QOe="dx-link-icon",ZOe="dx-selection",JOe="dx-edit-button",y7="dx-command-edit",Iz="".concat(y7,"-with-icons"),nc="__DX_INSERT_INDEX__",eDe="dx-row-inserted",tDe="dx-row-modified",Tz="dx-cell-modified",rDe="dxDataGridEditing",nDe="dx-cell-focus-disabled",wg="update",iDe="click",oDe={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},aDe={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},sDe={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},lDe={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},uDe=["edit","save","cancel","delete","undelete"],au="editing.changes",cDe="focus-overlay",dDe="addrow-button",hDe="dx-dropdowneditor-overlay",pDe="dx-data-row",fDe="dx-row-removed",vDe=!!Oa.IS_RENOVATED_WIDGET,S7="edit-form-item",gDe="edit-popup",mDe="edit-popup-form",_De=vDe?"dx-scrollable":"dx-scrollable-container",CDe="dx-button",yDe="form-buttons-container",Rz="dx-edit-row",NP="_DX_KEY_",SDe=36,yS=function(r){return function(e){var t=e instanceof Error?e:new Error(e&&String(e)||"Unknown error");r.reject(t)}},w7=function(r,e){return e.isEditing||r&&e.column.allowEditing},Oz=function(r,e){var t=!!e.column.command,n=w7(r,e),i=!t&&(n||e.column.showEditorAlways);return e.rowType==="data"&&i},wDe=r=>{var e=r.component.option("editing.texts")||{};return{save:e.saveRowChanges,cancel:e.cancelRowChanges,edit:e.editRow,undelete:e.undeleteRow,delete:e.deleteRow,add:e.addRowToNode}},bDe=()=>"".concat(NP).concat(new dn),EDe=r=>typeof r=="string"&&r.startsWith(NP)&&r.length===NP.length+SDe,Hp=(r,e)=>{var t=-1;return r.some((n,i)=>{if(b7(n)===e)return t=i,!0}),t};function b7(r){return pt(r)?r.name:r}function xDe(r){return r&&(r.is("input")||r.is("textarea"))}var IDe=r=>{var e,{column:t}=r;return r.isCustomEditorType?r.editorType:(e=t.formItem)===null||e===void 0?void 0:e.editorType},E7=(r,e)=>{r.forEach(t=>{t.items||t.tabs?E7(t.items||t.tabs,e):e(t)})};class TDe extends kr.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(e=>{e.reject("cancel")}),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[pa]=!0,this.component._optionsByReference[au]=!0}getEditMode(){var e,t=(e=this.option("editing.mode"))!==null&&e!==void 0?e:wu;return zOe.includes(t)?t:wu}isCellBasedEditMode(){var e=this.getEditMode();return jOe.includes(e)}_getDefaultEditorTemplate(){return(e,t)=>{var n=E("<div>").appendTo(e),i=$({},t.column,{value:t.value,setValue:t.setValue,row:t.row,parentType:"dataRow",width:null,readOnly:!t.setValue,isOnForm:t.isOnForm,id:t.id}),o=KOe.includes(this.getEditMode());o&&(i["aria-labelledby"]=t.column.headerId),this.getController("editorFactory").createEditor(n,i)}}_getNewRowPosition(){var e=this.option("editing.newRowPosition"),t=this.option("scrolling.mode");if(t==="virtual")switch(e){case dO:return C7;case Ez:return xz;default:return e}return e}getChanges(){return this.option(au)}getInsertRowCount(){var e=this.option(au);return e.filter(t=>t.type==="insert").length}resetChanges(){var e=this.getChanges(),t=e==null?void 0:e.length;t&&this._silentOption(au,[])}_getInternalData(e){return this._internalState.filter(t=>Mr(t.key,e))[0]}_addInternalData(e){var t=this._getInternalData(e.key);return t?$(t,e):(this._internalState.push(e),e)}_getOldData(e){var t;return(t=this._getInternalData(e))===null||t===void 0?void 0:t.oldData}getUpdatedData(e){var t=this._dataController.keyOf(e),n=this.getChanges(),i=ye.getIndexByKey(t,n);return n[i]?Lc(e,n[i].data):e}getInsertedData(){return this.getChanges().filter(e=>e.data&&e.type===ul).map(e=>e.data)}getRemovedData(){return this.getChanges().filter(e=>this._getOldData(e.key)&&e.type===ou).map(e=>this._getOldData(e.key))}_fireDataErrorOccurred(e){if(e!=="cancel"){var t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,t)}}_needToCloseEditableCell(e){}_closeEditItem(e){}_handleDataChanged(e){}_isDefaultButtonVisible(e,t){var n=!0;switch(e.name){case"delete":n=this.allowDeleting(t);break;case"undelete":n=!1}return n}_isButtonVisible(e,t){var{visible:n}=e;return L(n)?Ne(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):n:this._isDefaultButtonVisible(e,t)}_isButtonDisabled(e,t){var{disabled:n}=e;return Ne(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):!!n}_getButtonConfig(e,t){var n=pt(e)?e:{},i=b7(e),o=wDe(t),a=sDe[i],s=this.option("editing"),l=lDe[i],u=l?s[l]:!0;return $({name:i,text:o[i],cssClass:oDe[i]},{onClick:a&&(c=>{var{event:d}=c;d.stopPropagation(),d.preventDefault(),setTimeout(()=>{t.row&&u&&this[a]&&this[a](t.row.rowIndex)})})},n)}_getEditingButtons(e){var t,n=!!e.column.buttons,i=(e.column.buttons||[]).slice();return n?(t=Hp(i,"edit"),t>=0&&(Hp(i,"save")<0&&i.splice(t+1,0,"save"),Hp(i,"cancel")<0&&i.splice(Hp(i,"save")+1,0,"cancel")),t=Hp(i,"delete"),t>=0&&Hp(i,"undelete")<0&&i.splice(t+1,0,"undelete")):i=uDe.slice(),i.map(o=>this._getButtonConfig(o,e))}_renderEditingButtons(e,t,n,i){t.forEach(o=>{this._isButtonVisible(o,n)&&this._createButton(e,o,n,i)})}_getEditCommandCellTemplate(){return(e,t,n)=>{var i=E(e);if(t.rowType==="data"){var o=this._getEditingButtons(t);if(this._renderEditingButtons(i,o,t,n),t.watch){var a=t.watch(()=>o.map(s=>({visible:this._isButtonVisible(s,t),disabled:this._isButtonDisabled(s,t)})),()=>{i.empty(),this._renderEditingButtons(i,o,t)});B.on(i,yo,a)}}else ye.setEmptyText(i)}}isRowBasedEditMode(){var e=this.getEditMode();return UOe.includes(e)}getFirstEditableColumnIndex(){var e=this.getController("columns"),t,n=e.getVisibleColumns();return U(n,(i,o)=>{if(o.allowEditing)return t=i,!1}),t}getFirstEditableCellInRow(e){var t=this.getView("rowsView"),n=this.getFirstEditableColumnIndex();return t==null?void 0:t._getCellElement(e||0,n)}getFocusedCellInRow(e){return this.getFirstEditableCellInRow(e)}getIndexByKey(e,t){return ye.getIndexByKey(e,t)}hasChanges(e){for(var t=this.getChanges(),n=!1,i=0;i<(t==null?void 0:t.length);i++)if(t[i].type&&(!L(e)||this._dataController.getRowIndexByKey(t[i].key)===e)){n=!0;break}return n}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),B.off(ce.getDocument(),Yt.up,this._pointerUpEditorHandler),B.off(ce.getDocument(),Yt.down,this._pointerDownEditorHandler),B.off(ce.getDocument(),sr,this._saveEditorHandler)}_silentOption(e,t){e==="editing.changes"&&(this._changes=rs([],t)),super._silentOption(e,t)}optionChanged(e){if(e.name==="editing"){var{fullName:t}=e;if(t===pa)this._handleEditRowKeyChange(e);else if(t===au){var n=Mr(e.value,this._changes,{maxDepth:4});n||(this._changes=rs([],e.value),this._handleChangesChange(e))}else e.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey());e.handled=!0}else super.optionChanged(e)}_handleEditRowKeyChange(e){var t=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),i=this._dataController.getRowIndexByKey(e.previousValue)+n;L(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(t,i):this.cancelEditData()}_handleChangesChange(e){var t=this._dataController,n=e.value;!e.value.length&&!e.previousValue.length||(n.forEach(i=>{var o;if(i.type==="insert")this._addInsertInfo(i);else{var a=t.getCachedStoreData()||((o=t.items())===null||o===void 0?void 0:o.map(l=>l.data)),s=ye.getIndexByKey(i.key,a,t.key());this._addInternalData({key:i.key,oldData:a[s]})}}),t.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){L(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(e){}isEditing(){var e=L(this.option(pa));return e}isEditRow(e){return!1}_setEditRowKey(e,t){t?this._silentOption(pa,e):this.option(pa,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}_setEditRowKeyByIndex(e,t){var n=this._dataController.getKeyByRowIndex(e);if(n===void 0){this._dataController.fireError("E1043");return}this._setEditRowKey(n,t)}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(e){var t=this._dataController.getKeyByRowIndex(e),n=L(t)&&Mr(this.option(pa),t);return n&&this._getVisibleEditRowIndex()===e}isEditCell(e,t){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===t}getPopupContent(){}_isProcessedItem(e){return!1}_getInsertRowIndex(e,t,n){var i=-1,o=this._dataController,a=this._getInsertAfterOrBeforeKey(t);return!L(a)&&e.length===0?i=0:L(a)&&e.some((s,l)=>{var u=n||this._isProcessedItem(s);if(pt(s)&&(u||L(s[nc])?Mr(s.key,a)&&(i=l):Mr(o.keyOf(s),a)&&(i=l)),i>=0){var c=e[i+1];return c&&(c.rowType==="detail"||c.rowType==="detailAdaptive")&&L(t.insertAfterKey)?void 0:(L(t.insertAfterKey)&&(i+=1),!0)}}),i}_generateNewItem(e){var t,n={key:e},i=(t=this._getInternalData(e))===null||t===void 0?void 0:t.insertInfo;return i!=null&&i[nc]&&(n[nc]=i[nc]),n}_getLoadedRowIndex(e,t,n){var i=this._getInsertRowIndex(e,t,n),o=this._dataController;if(i<0){var a=this._getNewRowPosition(),s=o.pageIndex(),l=this._getInsertAfterOrBeforeKey(t);a!==CS&&s===0&&!L(l)?i=0:a===CS&&o.isLastPageLoaded()&&(i=e.length)}return i}processItems(e,t){var{changeType:n}=t;this.update(n);var i=this.getChanges();return i.forEach(o=>{var a,s=o.type===ul;if(s){var{key:l}=o,u=(a=this._getInternalData(l))===null||a===void 0?void 0:a.insertInfo;(!L(l)||!L(u))&&(u=this._addInsertInfo(o),l=u.key);var c=this._getLoadedRowIndex(e,o),d=this._generateNewItem(l);c>=0&&e.splice(c,0,d)}}),e}processDataItem(e,t,n){var i=t.visibleColumns,o=e.data[nc]?e.data.key:e.key,a=this.getChanges(),s=ye.getIndexByKey(o,a);e.isEditing=!1,s>=0&&this._processDataItemCore(e,a[s],o,i,n)}_processDataItemCore(e,t,n,i,o){var{data:a,type:s}=t;switch(s){case ul:e.isNewRow=!0,e.key=n,e.data=a;break;case wg:e.modified=!0,e.oldData=e.data,e.data=Lc(e.data,a),e.modifiedValues=o(a,i,!0);break;case ou:e.removed=!0}}_initNewRow(e){if(this.executeAction("onInitNewRow",e),e.promise){var t=new X;return $e(ui(e.promise)).done(t.resolve).fail(yS(t)).fail(n=>this._fireDataErrorOccurred(n)),t}}_createInsertInfo(){var e={};return e[nc]=this._getInsertIndex(),e}_addInsertInfo(e,t){var n,i;e.key=this.getChangeKeyValue(e);var{key:o}=e;if(i=(n=this._getInternalData(o))===null||n===void 0?void 0:n.insertInfo,!L(i)){var a=this._getInsertAfterOrBeforeKey(e);i=this._createInsertInfo(),L(a)||this._setInsertAfterOrBeforeKey(e,t)}return this._addInternalData({insertInfo:i,key:o}),{insertInfo:i,key:o}}getChangeKeyValue(e){if(L(e.key))return e.key;var t=this._dataController.key(),n;return e.data&&t&&!Array.isArray(t)&&(n=e.data[t]),L(n)||(n=bDe()),n}_setInsertAfterOrBeforeKey(e,t){var n=this._dataController,i=n.items(!0),o=this.getView("rowsView"),a=this._getNewRowPosition();switch(a){case bz:case CS:break;case dO:case Ez:if(i.length){var s=a===dO?0:i.length-1;e[s===0?"insertBeforeKey":"insertAfterKey"]=i[s].key}break;default:var l=a===xz,u=l?o==null?void 0:o.getBottomVisibleItemIndex():o==null?void 0:o.getTopVisibleItemIndex(),c=n.getVisibleRows()[u];c&&(!c.isEditing&&c.rowType==="detail"||c.rowType==="detailAdaptive")&&u++;var d=n.getKeyByRowIndex(u);L(d)&&(e.insertBeforeKey=d)}}_getInsertIndex(){var e=0;return this.getChanges().forEach(t=>{var n,i=(n=this._getInternalData(t.key))===null||n===void 0?void 0:n.insertInfo;L(i)&&t.type===ul&&i[nc]>e&&(e=i[nc])}),e+1}_getInsertAfterOrBeforeKey(e){var t;return(t=e.insertAfterKey)!==null&&t!==void 0?t:e.insertBeforeKey}_getPageIndexToInsertRow(){var e=this._getNewRowPosition(),t=this._dataController,n=t.pageIndex(),i=t.pageCount()-1;return e===bz&&n!==0?0:e===CS&&n!==i?i:-1}addRow(e){var t=this._dataController,n=t.store();return n?this._addRow(e):(t.fireError("E1052",this.component.NAME),new X().reject())}_addRow(e){var t=this._dataController,n=t.store(),i=n&&n.key(),o={data:{}},a=this._getVisibleEditRowIndex(),s=new X;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(i||(o.data.__KEY__=String(new dn)),$e(this._initNewRow(o,e)).done(()=>{this._allowRowAdding()?$e(this._addRowCore(o.data,e,a)).done(s.resolve).fail(s.reject):s.reject("cancel")}).fail(s.reject),s.promise()):($e(this._navigateToNewRow(a)).done(s.resolve).fail(s.reject),s.promise())}_allowRowAdding(e){var t=this._getInsertIndex();return!(t>1)}_addRowCore(e,t,n){var i={data:e,type:ul},o=this._getVisibleEditRowIndex(),a=this._addInsertInfo(i,t),{key:s}=a;return this._setEditRowKey(s,!0),this._addChange(i),this._navigateToNewRow(n,i,o)}_navigateToNewRow(e,t,n){var i=new X,o=this._dataController,a=this.getController("focus");if(n=n??-1,t=t??this.getChanges().filter(d=>d.type===ul)[0],!t)return i.reject("cancel").promise();var s=this._getPageIndexToInsertRow(),l=this._getLoadedRowIndex(o.items(),t,!0),u=d=>{$e(a==null?void 0:a.navigateToRow(d)).done(()=>{l=o.getRowIndexByKey(t.key),i.resolve()})},c=this._getInsertAfterOrBeforeKey(t);return s>=0?o.pageIndex(s).done(()=>{u(t.key)}).fail(i.reject):l<0&&L(c)?u(c):(o.updateItems({changeType:"update",rowIndices:[e,n,l]}),l=o.getRowIndexByKey(t.key),l<0?u(t.key):i.resolve()),i.done(()=>{var d;(d=this._rowsView)===null||d===void 0||d.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(l),this._afterInsertRow(t.key)})}),i.promise()}_showAddedRow(e){this._focusFirstEditableCellInRow(e)}_beforeFocusElementInRow(e){}_focusFirstEditableCellInRow(e){var t=this._dataController,n=this.getController("keyboardNavigation"),i=t.getKeyByRowIndex(e),o=this.getFirstEditableCellInRow(e);n==null||n.focus(o),this.option("focusedRowKey",i),this._editCellInProgress=!0,this._delayedInputFocus(o,()=>{e=t.getRowIndexByKey(i),this._editCellInProgress=!1,this._beforeFocusElementInRow(e)})}_isEditingStart(e){return this.executeAction("onEditingStart",e),e.cancel}_beforeUpdateItems(e,t){}_getVisibleEditColumnIndex(){var e=this.option(ah);return L(e)?this._columnsController.getVisibleColumnIndex(e):-1}_setEditColumnNameByIndex(e,t){var n,i=this._columnsController.getVisibleColumns();this._setEditColumnName((n=i[e])===null||n===void 0?void 0:n.name,t)}_setEditColumnName(e,t){t?this._silentOption(ah,e):this.option(ah,e)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){var e=this.option(ah);return this._getColumnByName(e)}_getColumnByName(e){var t=this._columnsController.getVisibleColumns(),n;return L(e)&&t.some(i=>{if(i.name===e)return n=i,!0}),n}_getVisibleEditRowIndex(e){var t=this._dataController,n=this.option(pa),i=t.getRowIndexByKey(n);return i===-1?i:i+this._getEditRowIndexCorrection(e)}_getEditRowIndexCorrection(e){var t=e?this._getColumnByName(e):this._getEditColumn(),n=(t==null?void 0:t.visibleWidth)==="adaptiveHidden";return n?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(e){var t,n=this._dataController,i=n.items(),o=i[e],a={data:o&&o.data,cancel:!1},s=this._getVisibleEditRowIndex();if(o){if(e===s)return!0;if(o.key===void 0){this._dataController.fireError("E1043");return}o.isNewRow||(a.key=o.key),!this._isEditingStart(a)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:o.key,oldData:(t=o.oldData)!==null&&t!==void 0?t:o.data}),this._setEditRowKey(o.key))}}_editRowFromOptionChanged(e,t){var n=[t,e];this._beforeUpdateItems(n,e,t),this._editRowFromOptionChangedCore(n,e)}_editRowFromOptionChangedCore(e,t,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})}_focusEditorIfNeed(){}_showEditPopup(e,t){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return e=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(e){}_getSaveButtonConfig(){var e={text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)};return Zi(mo())&&(e.stylingMode="contained",e.type="default"),e}_getCancelButtonConfig(){var e={text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)};return Zi(mo())&&(e.stylingMode="outlined"),e}_removeInternalData(e){var t=this._getInternalData(e),n=this._internalState.indexOf(t);n>-1&&this._internalState.splice(n,1)}_updateInsertAfterOrBeforeKeys(e,t){var n=e[t];e.forEach(i=>{var o=this._getInsertAfterOrBeforeKey(i);Mr(o,n.key)&&(i[L(i.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))})}_removeChange(e){if(e>=0){var t=[...this.getChanges()],{key:n}=t[e];this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(t,e),t.splice(e,1),this._silentOption(au,t),Mr(this.option(pa),n)&&this._resetEditIndices()}}executeOperation(e,t){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done(()=>{e.state()!=="rejected"&&(t(),this._lastOperation=null)}).fail(()=>{e.reject(),this._lastOperation=null})}waitForDeferredOperations(){return $e(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(e,t,n){!e||!e.showEditorAlways||t&&!t.showEditorAlways?(this._editCellInProgress=!0,this._needFocusEditor=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):e!==t&&(this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:[]}))}_delayedInputFocus(e,t,n){var i=()=>{if(t&&t(),e){var o=e.find(CN).first();ye.focusAndSelectElement(this,o)}this._beforeFocusCallback=null};Ye.real().ios||Ye.real().android?i():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=t),this._inputFocusTimeoutID=setTimeout(i))}_focusEditingCell(e,t,n){var i=this.getView("rowsView"),o=this._getVisibleEditColumnIndex();t=t||i&&i._getCellElement(this._getVisibleEditRowIndex(),o),t&&this._delayedInputFocus(t,e,n)}deleteRow(e){this._checkAndDeleteRow(e)}_checkAndDeleteRow(e){var t=this.option("editing"),n=t==null?void 0:t.texts,i=t==null?void 0:t.confirmDelete,o=n==null?void 0:n.confirmDeleteMessage,a=this._dataController.items()[e],s=!this.isEditing()||a.isNewRow;if(a&&s)if(!i||!o)this._deleteRowCore(e);else{var l=n&&n.confirmDeleteTitle,u=L(l)&&l.length>0;$Oe(o,l,u).done(c=>{c&&this._deleteRowCore(e)})}}_deleteRowCore(e){var t=this._dataController,n=t.items()[e],i=n&&n.key,o=this._getVisibleEditRowIndex();this.refresh();var a=this.getChanges(),s=ye.getIndexByKey(i,a);return s>=0?a[s].type===ul?this._removeChange(s):this._addChange({key:i,type:ou}):this._addChange({key:i,oldData:n.data,type:ou}),this._afterDeleteRow(e,o)}_afterDeleteRow(e,t){return this.saveEditData()}undeleteRow(e){var t=this._dataController,n=t.items()[e],i=this._getVisibleEditRowIndex(),o=n&&n.key,a=this.getChanges();if(n){var s=ye.getIndexByKey(o,a);if(s>=0){var{data:l}=a[s];go(l)?this._removeChange(s):this._addChange({key:o,type:wg}),t.updateItems({changeType:"update",rowIndices:[i,e]})}}}_fireOnSaving(){var e={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",e);var t=new X;return $e(ui(e.promise)).done(()=>{t.resolve(e)}).fail(n=>{this._fireDataErrorOccurred(n),t.resolve({cancel:!0})}),t}_executeEditingAction(e,t,n){if(this.component._disposed)return null;var i=new X;return this.executeAction(e,t),$e(ui(t.cancel)).done(o=>{o?setTimeout(()=>{i.resolve("cancel")}):n(t).done(i.resolve).fail(yS(i))}).fail(yS(i)),i}_processChanges(e,t,n,i){var o=this._dataController.store();U(i,(a,s)=>{var l=this._getOldData(s.key),{data:u,type:c}=s,d=b({},s),h,p;if(!this._beforeSaveEditData(s,a)){switch(c){case ou:p={data:l,key:s.key,cancel:!1},h=this._executeEditingAction("onRowRemoving",p,()=>o.remove(s.key).done(v=>{n.push({type:"remove",key:v})}));break;case ul:p={data:u,cancel:!1},h=this._executeEditingAction("onRowInserting",p,()=>o.insert(p.data).done((v,g)=>{L(g)&&(d.key=g),v&&pt(v)&&v!==p.data&&(d.data=v),n.push({type:"insert",data:v,index:0})}));break;case wg:p={newData:u,oldData:l,key:s.key,cancel:!1},h=this._executeEditingAction("onRowUpdating",p,()=>o.update(s.key,p.newData).done((v,g)=>{v&&pt(v)&&v!==p.newData&&(d.data=v),n.push({type:"update",key:g,data:v})}))}if(i[a]=d,h){var f=new X;h.always(v=>{t.push({key:s.key,result:v})}).always(f.resolve),e.push(f.promise())}}})}_processRemoveIfError(e,t){var n=e[t];return(n==null?void 0:n.type)===ou&&t>=0&&e.splice(t,1),!0}_processRemove(e,t,n){var i=e[t];if(!n||!i||i.type===ou)return this._processRemoveCore(e,t,!n||!i)}_processRemoveCore(e,t,n){return t>=0&&e.splice(t,1),!0}_processSaveEditDataResult(e){for(var t=!1,n=[...this.getChanges()],i=n.length,o=0;o<e.length;o++){var a=e[o].result,s=a==="cancel",l=ye.getIndexByKey(e[o].key,n),u=n[l],c=a&&a instanceof Error;if(c){if(u&&this._addInternalData({key:u.key,error:a}),this._fireDataErrorOccurred(a),this._processRemoveIfError(n,l))break}else this._processRemove(n,l,s)&&(t=!s)}return n.length<i&&this._silentOption(au,n),t}_fireSaveEditDataEvents(e){U(e,(t,n)=>{var{data:i,key:o,type:a}=n,s=this._addInternalData({key:o}),l={key:o,data:i};switch(s.error&&(l.error=s.error),a){case ou:this.executeAction("onRowRemoved",$({},l,{data:s.oldData}));break;case ul:this.executeAction("onRowInserted",l);break;case wg:this.executeAction("onRowUpdated",l)}}),this.executeAction("onSaved",{changes:e})}saveEditData(){var e=new X;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(e);return}$e(this._beforeSaveEditData()).done(t=>{if(t){this._resolveAfterSave(e,{cancel:t});return}this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(e.resolve).fail(e.reject)}).fail(e.reject)}).fail(e.reject),e.promise()}_resolveAfterSave(e){var{cancel:t,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$e(this._afterSaveEditData(t)).done(()=>{e.resolve(n)}).fail(e.reject)}_saveEditDataInner(){var e=new X,t=[],n=[],i=[],o=this._dataController.dataSource();return $e(this._fireOnSaving()).done(a=>{var{cancel:s,changes:l}=a;if(s)return e.resolve().promise();if(this._processChanges(n,t,i,l),n.length)return this._refocusEditCell=!0,o==null||o.beginLoading(),$e(...n).done(()=>{this._processSaveEditDataResult(t)?this._endSaving(i,l,e):(o==null||o.endLoading(),e.resolve())}).fail(u=>{o==null||o.endLoading(),e.resolve(u)}),e.always(()=>{this._refocusEditCell=!0}).promise();this._cancelSaving(e)}).fail(e.reject),e.promise()}_beforeEndSaving(e){this._resetEditIndices()}_endSaving(e,t,n){var i=this._dataController.dataSource();this._beforeEndSaving(t),i==null||i.endLoading(),this._refreshDataAfterSave(e,t,n)}_cancelSaving(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)}_refreshDataAfterSave(e,t,n){var i=this._dataController,o=this.option("editing.refreshMode"),a=o!=="reshape"&&o!=="repaint";a||i.push(e),$e(i.refresh({selection:a,reload:a,load:o==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(t)}).done(()=>{this._resolveAfterSave(n)}).fail(s=>{this._resolveAfterSave(n,{error:s})})}isSaving(){return this._saving}_updateEditColumn(){var e=this._isEditColumnVisible(),t=this.option("editing.useIcons"),n=y7+(t?" ".concat(Iz):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})}_isEditColumnVisible(){var e=this.option("editing");return e.allowDeleting}_isEditButtonDisabled(){var e=this.hasChanges(),t=L(this.option("editing.editRowKey"));return!(t||e)}_updateEditButtons(){var e=this.getView("headerPanel"),t=this._isEditButtonDisabled();e&&(e.setToolbarItemDisabled("saveButton",t),e.setToolbarItemDisabled("revertButton",t))}_applyModified(e,t){e&&e.addClass(Tz)}_beforeCloseEditCellInBatchMode(e){}cancelEditData(){var e=this.getChanges(),t={cancel:!1,changes:e};this.executeAction("onEditCanceling",t),t.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))}_cancelEditDataCore(){var e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)}_afterCancelEditData(e){var t=this._dataController;t.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(e){var t=this._dataController;t&&this._pageIndex!==t.pageIndex()&&(e==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=t.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(e,t){return t?[]:[e.rowIndex]}addDeferred(e){this._deferreds.includes(e)||(this._deferreds.push(e),e.always(()=>{var t=this._deferreds.indexOf(e);t>=0&&this._deferreds.splice(t,1)}))}_prepareChange(e,t,n){var i,o={},a=(i=e.row)===null||i===void 0?void 0:i.data,s=e.key,l=new X;if(s!==void 0){e.value=t;var u=ui(e.column.setCellValue(o,t,$(!0,{},a),n));u.done(()=>{l.resolve({data:o,key:s,oldData:a,type:wg})}).fail(yS(l)).fail(c=>this._fireDataErrorOccurred(c)),L(n)&&e.column.displayValueMap&&(e.column.displayValueMap[t]=n),this._updateRowValues(e),this.addDeferred(l)}return l}_updateRowValues(e){if(e.values){var t=this._dataController,n=t.getRowIndexByKey(e.key),i=t.getVisibleRows()[n];i&&(e.row.values=i.values,e.values=i.values),e.values[e.columnIndex]=e.value}}updateFieldValue(e,t,n,i){var o=e.key,a=new X;return o===void 0&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,t,n).done(s=>{$e(this._applyChange(e,s,i)).always(()=>{a.resolve()})}):a.resolve(),a.promise()}_focusPreviousEditingCellIfNeed(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0}_needUpdateRow(e){var t=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());var n=e&&e.setCellValue!==e.defaultSetCellValue,i=t.some(o=>o.calculateCellValue!==o.defaultCalculateCellValue);return n||i}_applyChange(e,t,n){var i=b(b({},e),{forceUpdateRow:n});return this._addChange(t,i),this._updateEditButtons(),this._applyChangeCore(e,i.forceUpdateRow)}_applyChangeCore(e,t){var n=e.column.setCellValue!==e.column.defaultSetCellValue,{row:i}=e;i&&(t||n?this._updateEditRow(i,t,n):i.update&&i.update())}_updateEditRowCore(e,t,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,t)})}_updateEditRow(e,t,n){t?this._updateRowImmediately(e,t,n):this._updateRowWithDelay(e,n)}_updateRowImmediately(e,t,n){this._updateEditRowCore(e,!t,n),this._validateEditFormAfterUpdate(e,n),t||this._focusEditingCell()}_updateRowWithDelay(e,t){var n=new X;this.addDeferred(n),setTimeout(()=>{var i,o=((i=this._editForm)===null||i===void 0?void 0:i.element())||this.component.$element().get(0),a=E(ce.getActiveElement(o)),s=this._rowsView.getCellIndex(a,e.rowIndex),l=a.get(0),u=ye.getSelectionRange(l);if(this._updateEditRowCore(e,!1,t),this._validateEditFormAfterUpdate(e,t),s>=0){var c=this._rowsView._getCellElement(e.rowIndex,s);this._delayedInputFocus(c,()=>{setTimeout(()=>{var d;l=ce.getActiveElement((d=this.component.$element())===null||d===void 0?void 0:d.get(0)),u.selectionStart>=0&&ye.setSelectionRange(l,u)})})}n.resolve()})}_validateEditFormAfterUpdate(){}_addChange(e,t){var n,i=t==null?void 0:t.row,o=[...this.getChanges()],a=ye.getIndexByKey(e.key,o);a<0&&(a=o.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,o.push(e));var s=b({},o[a]);return s&&(e.data&&(s.data=Lc(s.data,e.data)),(!s.type||!e.data)&&e.type&&(s.type=e.type),i&&(i.oldData=this._getOldData(i.key),i.data=Lc(i.data,e.data))),o[a]=s,this._silentOption(au,o),t&&s!==((n=this.getChanges())===null||n===void 0?void 0:n[a])&&(t.forceUpdateRow=!0),s}_getFormEditItemTemplate(e,t){return t.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(e){var{column:t}=e,n=e.row&&e.row.rowIndex,i,o=this.isRowBasedEditMode(),a=this.isEditRow(n),s=this.isEditCell(n,e.columnIndex),l;if((t.showEditorAlways||t.setCellValue&&(a&&t.allowEditing||s))&&(e.rowType==="data"||e.rowType==="detailAdaptive")&&!t.command){var u=this.allowUpdating(e);((u||a)&&t.allowEditing||s)&&(a||!o)&&(t.showEditorAlways&&!o&&(l={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:t},this._isEditingStart(l)),(!l||!l.cancel)&&(e.setValue=(c,d)=>{this.updateFieldValue(e,c,d)})),i=t.editCellTemplate||this._getDefaultEditorTemplate()}else t.command==="detail"&&e.rowType==="detail"&&a&&(i=this===null||this===void 0?void 0:this.getEditFormTemplate(e));return i}_createButton(e,t,n,i){var o=aDe[t.name],a=this.option("editing.useIcons"),s=this.option("useLegacyColumnButtonTemplate"),l=E("<a>").attr("href","#").addClass(XOe).addClass(t.cssClass);if(t.template&&s)this._rowsView.renderTemplate(e,t.template,n,!0);else{if(t.template)l=E("<span>").addClass(t.cssClass);else if(a&&o||t.icon){o=t.icon||o;var u=VC(o);u==="image"||u==="svg"?l=Du(o).addClass(t.cssClass):l.addClass("dx-icon".concat(u==="dxIcon"?"-":" ").concat(o)).attr("title",t.text),l.addClass(QOe),e.addClass(Iz);var c=this.getButtonLocalizationNames()[t.name];c&&l.attr("aria-label",J.format(c))}else l.text(t.text);L(t.hint)&&l.attr("title",t.hint),this._isButtonDisabled(t,n)?l.addClass("dx-state-disabled"):(!t.template||t.onClick)&&B.on(l,fe("click",rDe),this.createAction(d=>{var h;(h=t.onClick)===null||h===void 0||h.call(t,$({},d,{row:n.row,column:n.column})),d.event.preventDefault(),d.event.stopPropagation()})),e.append(l,"&nbsp;"),t.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(l,t.template,n,!0,i))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(e,t,n,i){var o,a=(o=this.option("editing.texts"))!==null&&o!==void 0?o:{},s={revert:a.cancelAllChanges,save:a.saveAllChanges,addRow:a.addRow},l={revert:"cancel",save:"save",addRow:"addrow"}[t],u=s[t],c=(l==="save"||l==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:d=>{E(d.element).addClass(e._getToolbarButtonClass("".concat(JOe," ").concat(this.addWidgetPrefix(l),"-button")))},icon:"edit-button-".concat(l),disabled:c,onClick:()=>{setTimeout(()=>{this[n]()})},text:u,hint:u},showText:"inMenu",name:"".concat(t,"Button"),location:"after",locateInMenu:"auto",sortIndex:i}}prepareEditButtons(e){var t,n=(t=this.option("editing"))!==null&&t!==void 0?t:{},i=[];return n.allowAdding&&i.push(this.prepareButtonItem(e,"addRow","addRow",20)),i}highlightDataCell(e,t){this.shouldHighlightCell(t)&&e.addClass(Tz)}_afterInsertRow(e){}_beforeSaveEditData(e){if(e&&!L(e.key)&&L(e.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(e,t){var n=this.option("editing.".concat(e));return Ne(n)&&(n=n({component:this.component,row:t.row})),n}allowUpdating(e,t){var n,i=(n=this.option("editing.startEditAction"))!==null&&n!==void 0?n:iDe,o=arguments.length>1?i===t||t==="down":!0;return o&&this._allowEditAction("allowUpdating",e)}allowDeleting(e){return this._allowEditAction("allowDeleting",e)}isCellModified(e){var t,n,i,{columnIndex:o}=e,a=(n=(t=e==null?void 0:e.row)===null||t===void 0?void 0:t.modifiedValues)===null||n===void 0?void 0:n[o];return!((i=e==null?void 0:e.row)===null||i===void 0)&&i.isNewRow&&(a=e.value),a!==void 0}isNewRowInEditMode(){var e=this._getVisibleEditRowIndex(),t=this._dataController.items();return e>=0?t[e].isNewRow:!1}_isRowDeleteAllowed(){}shouldHighlightCell(e){var t=this.isCellModified(e);return t&&e.column.setCellValue&&(this.getEditMode()!==wu||!e.row.isEditing)}}var RDe={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:C7,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:J.format("dxDataGrid-editingEditRow"),saveAllChanges:J.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:J.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:J.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:J.format("dxDataGrid-editingCancelRowChanges"),addRow:J.format("dxDataGrid-editingAddRow"),deleteRow:J.format("dxDataGrid-editingDeleteRow"),undeleteRow:J.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:J.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:TDe},extenders:{controllers:{data:{init(){this._editingController=this.getController("editing"),this.callBase()},reload(r,e){return!e&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow(r){var e,t=this.option(pa),n=ye.getIndexByKey(t,r),i=r[n];i&&(i.isEditing=!0,(e=this._updateEditItem)===null||e===void 0||e.call(this,i))},_updateItemsCore(r){this.callBase(r),this._updateEditRow(this.items(!0))},_applyChangeUpdate(r){this._updateEditRow(r.items),this.callBase(r)},_applyChangesOnly(r){this._updateEditRow(r.items),this.callBase(r)},_processItems(r,e){return r=this._editingController.processItems(r,e),this.callBase(r,e)},_processDataItem(r,e){return this._editingController.processDataItem(r,e,this.generateDataValues),this.callBase(r,e)},_processItem(r,e){return r=this.callBase(r,e),r.isNewRow&&(e.dataIndex--,delete r.dataIndex),r},_getChangedColumnIndices(r,e,t,n){if(!(r.isNewRow!==e.isNewRow||r.removed!==e.removed))return this.callBase.apply(this,arguments)},_isCellChanged(r,e,t,n,i){var o=this.getController("editing"),a=r.cells&&r.cells[n],s=o&&o.isEditCell(t,n);return i&&s?!1:a&&a.column&&!a.column.showEditorAlways&&a.isEditing!==s?!0:this.callBase.apply(this,arguments)},needToRefreshOnDataSourceChange(r){var e=this.getController("editing"),t=Array.isArray(r.value)&&r.value===r.previousValue&&e.isSaving();return!t},_handleDataSourceChange(r){var e=this.callBase(r),t=this.option("editing.changes"),n=r.value;if(Array.isArray(n)&&t.length){var i=n.map(l=>this.keyOf(l)),o=t.filter(l=>l.type==="insert"||i.some(u=>Mr(l.key,u)));o.length!==t.length&&this.option("editing.changes",o);var a=this.option("editing.editRowKey"),s=o.some(l=>l.type==="insert"&&Mr(a,l.key));!s&&i.every(l=>!Mr(a,l))&&this.option("editing.editRowKey",null)}return e}}},views:{rowsView:{init(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex(r,e){if(!r.is("td")&&e>=0){var t=this.getCellElements(e),n=-1;return U(t,(i,o)=>{E(o).find(r).length&&(n=i)}),n}return this.callBase.apply(this,arguments)},publicMethods(){return this.callBase().concat(["cellValue"])},_getCellTemplate(r){var e=this._editingController.getColumnTemplate(r);return e||this.callBase(r)},_createRow(r){var e=this.callBase.apply(this,arguments);if(r){var t=!!r.removed,n=!!r.isNewRow,i=!!r.modified;n&&e.addClass(eDe),i&&e.addClass(tDe),(n||t)&&e.removeClass(ZOe)}return e},_getColumnIndexByElement(r){for(var e=r.closest("table"),t=this.getTableElements();e.length&&!t.filter(e).length;)r=e.closest("td"),e=r.closest("table");return this._getColumnIndexByElementCore(r)},_getColumnIndexByElementCore(r){var e=r.closest(".".concat(Ec,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(e)},_editCellByClick(r,e){var t=this._editingController,n=E(r.event.target),i=this._getColumnIndexByElement(n),o=this._dataController.items()[r.rowIndex],a=t.allowUpdating({row:o},e)||o&&o.isNewRow,s=this._columnsController.getVisibleColumns()[i],l=t.isEditCell(r.rowIndex,i),u=a&&s&&(s.allowEditing||l),c=this.option("editing.startEditAction")||"click",d=s&&s.showEditorAlways;if(l)return!0;if(e==="down")return(Ye.real().ios||Ye.real().android)&&xv(),d&&u&&t.editCell(r.rowIndex,i);if(e==="click"&&c==="dblClick"&&this._pointerDownTarget===n.get(0)){var h=o==null?void 0:o.isNewRow;t.closeEditCell(!1,h)}if(u&&e===c)return t.editCell(r.rowIndex,i)||t.isEditRow(r.rowIndex)},_rowPointerDown(r){this._pointerDownTarget=r.event.target,this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(r,"down")})},_rowClick(r){var e=E(r.rowElement).hasClass(this.addWidgetPrefix(sE));r.event[_7]=this.component,!this._editCellByClick(r,"click")&&!e&&this.callBase.apply(this,arguments)},_rowDblClick(r){this._editCellByClick(r,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared(r,e){var t,n=this._editingController,i=!!e.column.command,o=e.setValue,a=n.isEditRow(e.rowIndex),s=w7(a,e);if(Oz(a,e)){var{alignment:l}=e.column;r.toggleClass(this.addWidgetPrefix(YOe),!o).toggleClass(nDe,!o),l&&r.find(_N).first().css("textAlign",l)}s&&this._editCellPrepared(r);var u=!!(!((t=e.column)===null||t===void 0)&&t.cellTemplate);e.column&&!i&&(!u||n.shouldHighlightCell(e))&&n.highlightDataCell(r,e),this.callBase.apply(this,arguments)},_editCellPrepared:Z,_formItemPrepared:Z,_getCellOptions(r){var e=this.callBase(r),{columnIndex:t,row:n}=r;return e.isEditing=this._editingController.isEditCell(e.rowIndex,e.columnIndex),e.removed=n.removed,n.modified&&(e.modified=n.modifiedValues[t]!==void 0),e},_setCellAriaAttributes(r,e){this.callBase(r,e),e.removed&&this.setAria("roledescription",J.format("dxDataGrid-ariaDeletedCell"),r),e.modified&&this.setAria("roledescription",J.format("dxDataGrid-ariaModifiedCell"),r);var t=e.column.allowEditing&&!e.removed&&!e.modified&&e.rowType==="data"&&e.column.calculateCellValue===e.column.defaultCalculateCellValue&&this._editingController.isCellBasedEditMode();t&&this.setAria("roledescription",J.format("dxDataGrid-ariaEditableCell"),r)},_createCell(r){var e=this.callBase(r),t=this._editingController.isEditRow(r.rowIndex);return Oz(t,r)&&e.addClass(d0),e},cellValue(r,e,t,n){var i=this.getCellOptions(r,e);if(i){if(t===void 0)return i.value;this._editingController.updateFieldValue(i,t,n,!0)}},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore(){return this.callBase.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}},headerPanel:{_getToolbarItems(){var r=this.callBase(),e=this.getController("editing").prepareEditButtons(this);return e.concat(r)},optionChanged(r){var{fullName:e}=r;switch(r.name){case"editing":var t=[Zw,au,ah,pa],n=e&&!t.some(i=>i===e);n&&this._invalidate(),this.callBase(r);break;case"useLegacyColumnButtonTemplate":r.handled=!0;break;default:this.callBase(r)}},isVisible(){var r=this.getController("editing").option("editing");return this.callBase()||(r==null?void 0:r.allowAdding)}}}}};at.registerModule("editing",$(!0,{},RDe,{extenders:{controllers:{data:{_changeRowExpandCore(r){var e=this._editingController;return Array.isArray(r)&&e&&e.refresh(),this.callBase.apply(this,arguments)}}}}}));var ODe=r=>class extends r{isRowEditMode(){return this.getEditMode()===wu}_afterCancelEditData(e){var t=this._dataController;this.isRowBasedEditMode()&&e>=0?t.updateItems({changeType:"update",rowIndices:[e,e+1]}):super._afterCancelEditData(e)}_isDefaultButtonVisible(e,t){var n=this.isRowBasedEditMode(),i=t.row&&Mr(t.row.key,this.option(pa));if(n)switch(e.name){case"edit":return!i&&this.allowUpdating(t);case"delete":return super._isDefaultButtonVisible(e,t)&&!i;case"save":case"cancel":return i;default:return super._isDefaultButtonVisible(e,t)}return super._isDefaultButtonVisible(e,t)}isEditRow(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)}_cancelSaving(e){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(e)}_refreshCore(e){var{allowCancelEditing:t}=e??{};if(this.isRowBasedEditMode()){var n=this.getChanges().filter(i=>i.type==="update").length>0;this.init(),t&&n&&this._cancelEditDataCore()}super._refreshCore(e)}_isEditColumnVisible(){var e=super._isEditColumnVisible(),t=this.option("editing"),n=this.isRowEditMode(),i=t.allowUpdating||t.allowAdding;return e||n&&i}_focusEditorIfNeed(){var e=this.getEditMode();if(this._needFocusEditor){if(qOe.includes(e)){var t=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(t,()=>{t&&this.component.focus(t)})}this._needFocusEditor=!1}}},DDe={extenders:{controllers:{editing:ODe,data:{_getChangedColumnIndices(r,e,t,n){var i=this.getController("editing");if(!(i.isRowBasedEditMode()&&r.isEditing!==e.isEditing))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow(r){var e=this.callBase.apply(this,arguments);if(r){var t=this._editingController,n=t.isEditRow(r.rowIndex);n&&(e.addClass(Rz),e.removeClass(wz),r.rowType==="detail"&&e.addClass(this.addWidgetPrefix(sE)))}return e},_update(r){this.callBase(r),r.changeType==="updateSelection"&&this.getTableElements().children("tbody").children(".".concat(Rz)).removeClass(wz)}}}}};at.registerModule("editingRowBased",DDe);class x7{constructor(){this._map={}}_findWidgetInstance(e){var t;return U(this._map,function(n,i){var{widgetInstance:o,item:a}=i;if(e(a))return t=o,!1}),t}_findFieldByCondition(e,t){var n;return U(this._map,function(i,o){if(e(o))return n=t==="guid"?i:o[t],!1}),n}clear(){this._map={}}removeItemsByItems(e){U(e.getItems(),t=>this.removeItemByKey(t))}removeItemByKey(e){delete this._map[e]}add(e){var t=e.guid||new dn;return this._map[t]=e,t}addItemsOrExtendFrom(e){e.each((t,n)=>{this._map[t]?(n.widgetInstance&&(this._map[t].widgetInstance=n.widgetInstance),this._map[t].$itemContainer=n.$itemContainer):this.add({item:n.item,widgetInstance:n.widgetInstance,guid:t,$itemContainer:n.$itemContainer})})}extendRunTimeItemInfoByKey(e,t){this._map[e]&&(this._map[e]=$(this._map[e],t))}findWidgetInstanceByItem(e){return this._findWidgetInstance(t=>t===e)}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition(t=>{var{path:n}=t;return n===e},"layoutManager")}findKeyByPath(e){return this._findFieldByCondition(t=>{var{path:n}=t;return n===e},"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance(t=>e===t.name)}findWidgetInstanceByDataField(e){return this._findWidgetInstance(t=>e===(ft(t)?t:t.dataField))}findItemContainerByItem(e){for(var t in this._map)if(this._map[t].item===e)return this._map[t].$itemContainer;return null}findItemIndexByItem(e){return this._findFieldByCondition(t=>{var{item:n}=t;return n===e},"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition(t=>{var{item:n}=t;return n===e},"preparedItem")}getItems(){return this._map}each(e){U(this._map,function(t,n){e(t,n)})}removeItemsByPathStartWith(e){var t=Object.keys(this._map),n=t.filter(i=>this._map[i].path?this._map[i].path.indexOf(e,0)>-1:!1);n.forEach(i=>this.removeItemByKey(i))}}var SS={move(r,e){ci(r,{left:e})}},hO={moveTo(r,e,t,n){nn.animate(r,{type:"slide",to:{left:e},duration:t,complete:n})},complete(r){nn.stop(r,!0)}},ADe="dx-multiview",PDe="dx-multiview-wrapper",MDe="dx-multiview-item-container",Dz="dx-multiview-item",FDe="dx-multiview-item-hidden",LDe="dxMultiViewItemData",NDe=200,Az=r=>+r,kDe=r=>os(r).left,I7=oN.inherit({_activeStateUnit:"."+Dz,_supportedKeys:function(){return $(this.callBase(),{pageUp:Z,pageDown:Z})},_getDefaultOptions:function(){return $(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return Dz},_itemDataKey:function(){return LDe},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=gt(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(r){var e=this._itemsCount();return r<0&&(r+=e),r>=e&&(r-=e),r},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var r=this.$element();r.addClass(ADe),this._$wrapper=E("<div>").addClass(PDe),this._$wrapper.appendTo(r),this._$itemContainer=E("<div>").addClass(MDe),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var r=this._getSelectedItemIndices();this._updateItemsVisibility(r[0]),this._setElementAria(),this._setItemsAria()},_afterItemElementDeleted:function(r,e){this.callBase(r,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(r){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(r.index,0,null)},_executeItemRenderAction:function(r,e,t){r=(this.option("items")||[]).indexOf(e),this.callBase(r,e,t)},_renderItemContent:function(r){var e=new X,t=this,n=this.callBase,i=new X;return i.done(function(){var o=n.call(t,r);e.resolve(o)}),this._deferredItems[r.index]=i,this.option("deferRendering")||i.resolve(),e.promise()},_render:function(){this.callBase(),jn(()=>{var r=this._getSelectedItemIndices();this._updateItems(r[0])})},_getElementAria:()=>({role:"group",roledescription:J.format("dxMultiView-elementAriaRoleDescription"),label:J.format("dxMultiView-elementAriaLabel")}),_setElementAria(){var r=this._getElementAria();this.setAria(r,this.$element())},_setItemsAria(){var r=this._itemElements(),e=this._itemsCount();r.each((t,n)=>{var i=this._getItemAria({itemIndex:t,itemsCount:e});this.setAria(i,E(n))})},_getItemAria(r){var{itemIndex:e,itemsCount:t}=r,n={role:"group",roledescription:J.format("dxMultiView-itemAriaRoleDescription"),label:J.format("dxMultiView-itemAriaLabel",e+1,t)};return n},_updateItems:function(r,e){this._updateItemsPosition(r,e),this._updateItemsVisibility(r,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var r=this._getSelectedItemIndices();this._updateItemsVisibility(r[0])},_updateItemsPosition:function(r,e){var t=this._itemElements(),n=L(e)?-this._animationDirection(e,r):void 0,i=t.eq(r);SS.move(i,0),L(e)&&SS.move(t.eq(e),100*n+"%")},_updateItemsVisibility(r,e){var t=this._itemElements();t.each((n,i)=>{var o=E(i),a=n!==r&&n!==e;a||this._renderSpecificItem(n),o.toggleClass(FDe,a),this.setAria("hidden",a||void 0,o)})},_renderSpecificItem:function(r){var e=this._itemElements().eq(r),t=e.find(this._itemContentClass()).length>0;L(r)&&!t&&(this._deferredItems[r].resolve(),bl(e))},_refreshItem:function(r,e){this.callBase(r,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelectionAttribute:Z,_updateSelection:function(r,e){var t=r[0],n=e[0];hO.complete(this._$itemContainer),this._updateItems(n,t);var i=this._animationDirection(t,n);this._animateItemContainer(i*this._itemWidth(),(function(){SS.move(this._$itemContainer,0),this._updateItems(t),gt(this._$itemContainer)}).bind(this))},_animateItemContainer:function(r,e){var t=this.option("animationEnabled")?NDe:0;hO.moveTo(this._$itemContainer,r,t,e)},_animationDirection:function(r,e){var t=kDe(this._$itemContainer),n=(e-r)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),i=t!==0,o=i?t:n;return rv(o)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),aE,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:r=>this._swipeStartHandler(r.event),onUpdated:r=>this._swipeUpdateHandler(r.event),onEnd:r=>this._swipeEndHandler(r.event)})},_findBoundaryIndices(){var r,e,t=this.option("items"),n,i;t.forEach((o,a)=>{var s=!!(o!=null&&o.disabled);if(!s){var l;(l=n)!==null&&l!==void 0||(n=a),i=a}}),this._boundaryIndices={firstAvailableIndex:(r=n)!==null&&r!==void 0?r:0,lastAvailableIndex:(e=i)!==null&&e!==void 0?e:t.length-1,firstTrueIndex:0,lastTrueIndex:t.length-1}},_swipeStartHandler:function(r){hO.complete(this._$itemContainer);var e=this.option("selectedIndex"),t=this.option("loop"),{firstAvailableIndex:n,lastAvailableIndex:i}=this._boundaryIndices,o=this.option("rtlEnabled");r.maxLeftOffset=Az(t||(o?e>n:e<i)),r.maxRightOffset=Az(t||(o?e<i:e>n)),this._swipeDirection=null},_swipeUpdateHandler:function(r){var e=r.offset,t=rv(e)*this._getRTLSignCorrection();if(SS.move(this._$itemContainer,e*this._itemWidth()),t!==this._swipeDirection){this._swipeDirection=t;var n=this.option("selectedIndex"),i=this._normalizeIndex(n-t);this._updateItems(n,i)}},_findNextAvailableIndex(r,e){var{items:t,loop:n}=this.option(),{firstAvailableIndex:i,lastAvailableIndex:o,firstTrueIndex:a,lastTrueIndex:s}=this._boundaryIndices,l=[a,i].includes(r),u=[s,o].includes(r);if(n){if(l&&e<0)return o;if(u&&e>0)return i}for(var c=r+e;c>=i&&c<=o;c+=e){var d=!!t[c].disabled;if(!d)return c}return r},_swipeEndHandler:function(r){var e=r.targetOffset*this._getRTLSignCorrection();if(e){var t=this._findNextAvailableIndex(this.option("selectedIndex"),-e);this.option("selectedIndex",t);var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",ut(n))}else this._animateItemContainer(0,Z)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(r){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(r.last()),e},_nextItem:function(r){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(r.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(r){r&&this._dimensionChanged()},_updateSwipeDisabledState(){var r=this._getSwipeDisabledState();aE.getInstance(this.$element()).option("disabled",r)},_dispose:function(){delete this._boundaryIndices,this.callBase()},_optionChanged:function(r){var e=r.value;switch(r.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),this.callBase(r);break;default:this.callBase(r)}}});Kt("dxMultiView",I7);var VDe="dx-tabs-item-badge",Pz="dx-badge",BDe=dp.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(r){if(this._$element.children("."+Pz).remove(),!!r){var e=E("<div>").addClass(VDe).addClass(Pz).text(r);this._$element.append(e)}}}),Mz="dx-tabs-expanded";function T7(r){return r.scrollWidth-r.clientWidth}function HDe(r){return r.scrollHeight-r.clientHeight}function GDe(r,e){return Math.round(r)<=e}function $De(r,e,t){return Math.round(T7(r)-e)<=t}function WDe(r,e){return Math.round(r)<=e}function zDe(r,e,t,n){return Math.round(HDe(r)-e-t)<=n}var UDe="dx-tabs",jDe="dx-tabs-wrapper",Fz="dx-tabs-stretched",KDe="dx-tabs-scrollable",Lz="dx-tabs-nav-buttons",Nz="dx-overflow-hidden",kz="dx-tab",qDe="dx-tab-selected",YDe="dx-tabs-scrolling-enabled",XDe="dx-tabs-nav-button",QDe="dx-tabs-nav-button-left",ZDe="dx-tabs-nav-button-right",JDe="dx-tab-text",eAe="dx-tab-text-span",tAe="dx-tab-text-span-pseudo",Vz="dx-state-disabled",Bz="dx-focused-disabled-next-tab",Hz="dx-focused-disabled-prev-tab",Gz={vertical:"dx-tabs-vertical",horizontal:"dx-tabs-horizontal"},$z={top:"dx-tab-indicator-position-top",right:"dx-tab-indicator-position-right",bottom:"dx-tab-indicator-position-bottom",left:"dx-tab-indicator-position-left"},bg={top:"dx-tabs-icon-position-top",end:"dx-tabs-icon-position-end",bottom:"dx-tabs-icon-position-bottom",start:"dx-tabs-icon-position-start"},pO={primary:"dx-tabs-styling-mode-primary",secondary:"dx-tabs-styling-mode-secondary"},rAe="dxTabData",Wz="chevronnext",zz="chevronprev",nAe=100,Uz=5,iAe=300,jz=30,fO={horizontal:"horizontal",vertical:"vertical"},wS={top:"top",right:"right",bottom:"bottom",left:"left"},Kz={horizontal:"horizontal",vertical:"vertical"},Rd={top:"top",end:"end",bottom:"bottom",start:"start"},qz={primary:"primary",secondary:"secondary"},SN=oN.inherit({_activeStateUnit:"."+kz,_getDefaultOptions:function(){return $(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",orientation:fO.horizontal,iconPosition:Rd.start,stylingMode:qz.primary,activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(r){return r?r.badge:void 0},_itemAttributes:{role:"tab"},_indicatorPosition:null})},_defaultOptionsRules:function(){var r=mo();return this.callBase().concat([{device:()=>Ye.real().deviceType!=="desktop",options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:()=>Ye.real().deviceType==="desktop"&&!Ye.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Zi(r),options:{iconPosition:Rd.top,stylingMode:qz.secondary}},{device:()=>Hi(r),options:{useInkRipple:!0,selectOnFocus:!1,iconPosition:Rd.top}}])},_init(){var{orientation:r,stylingMode:e,scrollingEnabled:t}=this.option(),n=this._getIndicatorPosition();this.callBase(),this.$element().addClass(UDe),this._toggleScrollingEnabledClass(t),this._toggleOrientationClass(r),this._toggleIndicatorPositionClass(n),this._toggleIconPositionClass(),this._toggleStylingModeClass(e),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=nAe},_prepareDefaultItemTemplate(r,e){var t=Nt(r)?r==null?void 0:r.text:r;if(L(t)){var n=E("<span>").addClass(eAe);n.text(t);var i=E("<span>").addClass(tAe);i.text(t),i.appendTo(n),n.appendTo(e)}L(r.html)&&e.html(r.html)},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new hp(((r,e)=>{this._prepareDefaultItemTemplate(e,r);var t=Du(e.icon);t&&t.prependTo(r);var n=E("<div>").addClass(JDe);r.wrapInner(n)}).bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(r,e){var{itemData:t,container:n,index:i}=e;return this._deferredTemplates[i]=new X,r.render({model:t,container:n,index:i,onRendered:()=>this._deferredTemplates[i].resolve()})},_itemClass:function(){return kz},_selectedItemClass:function(){return qDe},_itemDataKey:function(){return rAe},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(Nz)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){$e.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling(){var r=[Fz,Mz,Nz];if(this.$element().removeClass(r.join(" ")),this.option("scrollingEnabled")&&this._isItemsSizeExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var t=T7(E(this.getScrollable().container()).get(0));e.scrollTo({left:t})}this._updateNavButtonsState(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsSizeExceeded()||(this._cleanScrolling(),this._needStretchItems()&&this.$element().addClass(Fz),this.$element().removeClass(Lz).addClass(Mz))},_isVertical(){return this.option("orientation")===fO.vertical},_isItemsSizeExceeded(){var r=this._isVertical(),e=r?this._isItemsHeightExceeded():this._isItemsWidthExceeded();return e},_isItemsWidthExceeded(){var r=this._getVisibleItems(),e=this._getSummaryItemsSize("width",r,!0),t=gt(this.$element());if([e,t].includes(0))return!1;var n=e>t-1;return n},_isItemsHeightExceeded(){var r=this._getVisibleItems(),e=this._getSummaryItemsSize("height",r,!0),t=Dt(this.$element()),n=e-1>t;return n},_needStretchItems(){var r=this._getVisibleItems(),e=gt(this.$element()),t=[];U(r,(a,s)=>{t.push(er(s,!0))});var n=Math.max.apply(null,t),i=e/r.length,o=n>i+1;return o},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=VL()},_getPointerEvent:()=>Yt.up,_toggleActiveState:function(r,e,t){if(this.callBase.apply(this,arguments),!!this._inkRipple){var n={element:r,event:t};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){this.option("selectionMode")==="multiple"&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=E("<div>").addClass(jDe),this.setAria("role","tablist",this._$wrapper),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_getScrollableDirection(){var r=this._isVertical(),e=r?Kz.vertical:Kz.horizontal;return e},_updateScrollable(){this.getScrollable()&&this._cleanScrolling(),this._renderScrolling()},_renderScrollable(){var r=this.$element().wrapInner(E("<div>").addClass(KDe)).children();this._scrollable=this._createComponent(r,Oa,{direction:this._getScrollableDirection(),showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsState()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(r){if(this._scrollable){var e=this._editStrategy.getItemElement(r);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass(Lz,this.option("showNavButtons")),!!this.option("showNavButtons")){var r=this.option("rtlEnabled");this._leftButton=this._createNavButton(-jz,r?Wz:zz);var e=this._leftButton.$element();e.addClass(QDe),this.$element().prepend(e),this._rightButton=this._createNavButton(jz,r?zz:Wz);var t=this._rightButton.$element();t.addClass(ZDe),this.$element().append(t)}},_updateNavButtonsState(){var r=this._isVertical(),e=this.getScrollable();if(r){var t,n;(t=this._leftButton)===null||t===void 0||t.option("disabled",WDe(e.scrollTop(),1)),(n=this._rightButton)===null||n===void 0||n.option("disabled",zDe(E(e.container()).get(0),e.scrollTop(),0,1))}else{var i,o;(i=this._leftButton)===null||i===void 0||i.option("disabled",GDe(e.scrollLeft(),1)),(o=this._rightButton)===null||o===void 0||o.option("disabled",$De(E(e.container()).get(0),e.scrollLeft(),1))}},_updateScrollPosition:function(r,e){this._scrollable.update(),this._scrollable.scrollBy(r/e)},_createNavButton:function(r,e){var t=this,n=t._createAction(function(){t._holdInterval=setInterval(function(){t._updateScrollPosition(r,Uz)},Uz)}),i=fe(rd.name,"dxNavButton"),o=fe(Yt.up,"dxNavButton"),a=fe(Yt.out,"dxNavButton"),s=this._createComponent(E("<div>").addClass(XDe),gi,{focusStateEnabled:!1,icon:e,onClick:function(){t._updateScrollPosition(r,1)},integrationOptions:{}}),l=s.$element();return B.on(l,i,{timeout:iAe},(function(u){n({event:u})}).bind(this)),B.on(l,o,function(){t._clearInterval()}),B.on(l,a,function(){t._clearInterval()}),s},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(r){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(r[0]))},_visibilityChanged:function(r){r&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(r){this.option("selectionMode")==="single"&&this.isItemSelected(r.currentTarget)||this.callBase(r)},_refreshActiveDescendant:function(){this.callBase(this._$wrapper)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_toggleTabsVerticalClass(r){this.$element().toggleClass(Gz.vertical,r)},_toggleTabsHorizontalClass(r){this.$element().toggleClass(Gz.horizontal,r)},_getIndicatorPositionClass:r=>$z[r],_getIndicatorPosition(){var{_indicatorPosition:r,rtlEnabled:e}=this.option();if(r)return r;var t=this._isVertical();return e?t?wS.left:wS.bottom:t?wS.right:wS.bottom},_toggleIndicatorPositionClass(r){var e=this._getIndicatorPositionClass(r);this._toggleElementClasses($z,e)},_toggleScrollingEnabledClass(r){this.$element().toggleClass(YDe,!!r)},_toggleOrientationClass(r){var e=r===fO.vertical;this._toggleTabsVerticalClass(e),this._toggleTabsHorizontalClass(!e)},_getTabsIconPositionClass(){var r=this.option("iconPosition");switch(r){case Rd.top:return bg.top;case Rd.end:return bg.end;case Rd.bottom:return bg.bottom;case Rd.start:default:return bg.start}},_toggleIconPositionClass(){var r=this._getTabsIconPositionClass();this._toggleElementClasses(bg,r)},_toggleStylingModeClass(r){var e,t=(e=pO[r])!==null&&e!==void 0?e:pO.primary;this._toggleElementClasses(pO,t)},_toggleElementClasses(r,e){for(var t in r)this.$element().removeClass(r[t]);this.$element().addClass(e)},_toggleFocusedDisabledNextClass(r,e){this._itemElements().eq(r).toggleClass(Bz,e)},_toggleFocusedDisabledPrevClass(r,e){this._itemElements().eq(r).toggleClass(Hz,e)},_toggleFocusedDisabledClasses(r){var{selectedIndex:e}=this.option();this._itemElements().removeClass(Bz).removeClass(Hz);var t=e-1,n=e+1,i=E(r).index(),o=this._itemElements().eq(n).hasClass(Vz),a=this._itemElements().eq(t).hasClass(Vz),s=o&&i===n,l=a&&i===t;this._toggleFocusedDisabledNextClass(e,s),this._toggleFocusedDisabledPrevClass(e,l)},_updateFocusedElement(){var{focusStateEnabled:r,selectedIndex:e}=this.option(),t=this._itemElements();if(r&&t.length){var n=t.get(e);this.option({focusedElement:n})}},_optionChanged:function(r){switch(r.name){case"useInkRipple":case"scrollingEnabled":this._toggleScrollingEnabledClass(r.value),this._invalidate();break;case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(r.name,r.value);break;case"width":case"height":this.callBase(r),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(r);break;case"badgeExpr":this._invalidate();break;case"focusedElement":this._toggleFocusedDisabledClasses(r.value),this.callBase(r),this._scrollToItem(r.value);break;case"rtlEnabled":this.callBase(r);var e=this._getIndicatorPosition();this._toggleIndicatorPositionClass(e);break;case"orientation":this._toggleOrientationClass(r.value);var t=this._getIndicatorPosition();this._toggleIndicatorPositionClass(t),yt()&&this._updateScrollable();break;case"iconPosition":this._toggleIconPositionClass(),yt()&&this._dimensionChanged();break;case"stylingMode":this._toggleStylingModeClass(r.value),yt()&&this._dimensionChanged();break;case"_indicatorPosition":this._toggleIndicatorPositionClass(r.value);break;case"selectedIndex":case"selectedItem":case"selectedItems":this.callBase(r),this._updateFocusedElement();break;default:this.callBase(r)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(r,e){this.callBase(r,e),this._renderScrolling()},getScrollable(){return this._scrollable}});SN.ItemClass=BDe;Kt("dxTabs",SN);class oAe extends dp{_renderWatchers(){return this._startWatcher("badge",Z),super._renderWatchers()}}var aAe="dx-tabpanel",sAe="dx-tabpanel-tabs",lAe="dx-tabpanel-tab",uAe="dx-tabpanel-container",cAe="dx-tab-text",dAe="dx-disabled-focused-tab",hAe="dx-tab-text-span",pAe="dx-tab-text-span-pseudo",Gp={top:"dx-tabpanel-tabs-position-top",right:"dx-tabpanel-tabs-position-right",bottom:"dx-tabpanel-tabs-position-bottom",left:"dx-tabpanel-tabs-position-left"},Od={top:"top",right:"right",bottom:"bottom",left:"left"},fAe={top:"bottom",right:"left",bottom:"top",left:"right"},Yz={horizontal:"horizontal",vertical:"vertical"},Xz={top:"top",end:"end",bottom:"bottom",start:"start"},Qz={primary:"primary",secondary:"secondary"},wN=I7.inherit({_getDefaultOptions:function(){return $(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,tabsPosition:Od.top,iconPosition:Xz.start,stylingMode:Qz.primary,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(r){return r?r.badge:void 0},_tabsIndicatorPosition:null})},_defaultOptionsRules:function(){var r=mo();return this.callBase().concat([{device:function(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!Vh},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}},{device:()=>Zi(r),options:{stylingMode:Qz.secondary}},{device:()=>Ma(r),options:{iconPosition:Xz.top}}])},_init:function(){this.callBase(),this.$element().addClass(aAe),this._toggleTabPanelTabsPositionClass()},_getElementAria:()=>({role:"tabpanel"}),_getItemAria:()=>({role:"tabpanel"}),_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_prepareTabsItemTemplate(r,e){var t=Du(r==null?void 0:r.icon);t&&e.append(t);var n=Nt(r)?r==null?void 0:r.title:r;if(L(n)&&!Nt(n)){var i=E("<span>").addClass(hAe);i.append(ce.createTextNode(n));var o=E("<span>").addClass(pAe);o.append(ce.createTextNode(n)),o.appendTo(i),i.appendTo(e)}},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({title:new hp((r,e)=>{this._prepareTabsItemTemplate(e,r);var t=E("<div>").addClass(cAe);r.wrapInner(t)},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderLayout:function(){if(!this._tabs){var r=this.$element();this._$tabContainer=E("<div>").addClass(sAe).appendTo(r);var e=E("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,SN,this._tabConfig()),this._$container=E("<div>").addClass(uAe).appendTo(r),this._$container.append(this._$wrapper)}},_refreshActiveDescendant:function(){if(this._tabs){var r=this._tabs,e=r.itemElements(),t=E(e[r.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,E(e)),this.setAria("controls",n,t)}},_getTabsIndicatorPosition(){var{_tabsIndicatorPosition:r,tabsPosition:e}=this.option();return r??fAe[e]},_tabConfig(){var r=this._getTabsIndicatorPosition();return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:(function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()}).bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:(function(e){if(e.name==="focusedElement")if(e.value){var t=E(e.value),n=this._itemElements().eq(t.index());this.option("focusedElement",ut(n))}else this.option("focusedElement",e.value)}).bind(this),onFocusIn:(function(e){this._focusInHandler(e.event)}).bind(this),onFocusOut:(function(e){this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)}).bind(this),orientation:this._getTabsOrientation(),iconPosition:this.option("iconPosition"),stylingMode:this.option("stylingMode"),_itemAttributes:{class:lAe},_indicatorPosition:r}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_getTabsOrientation(){var{tabsPosition:r}=this.option();return[Od.right,Od.left].includes(r)?Yz.vertical:Yz.horizontal},_getTabPanelTabsPositionClass(){var r=this.option("tabsPosition");switch(r){case Od.right:return Gp.right;case Od.bottom:return Gp.bottom;case Od.left:return Gp.left;case Od.top:default:return Gp.top}},_toggleTabPanelTabsPositionClass(){for(var r in Gp)this.$element().removeClass(Gp[r]);var e=this._getTabPanelTabsPositionClass();this.$element().addClass(e)},_updateTabsOrientation(){var r=this._getTabsOrientation();this._setTabsOption("orientation",r)},_toggleWrapperFocusedClass(r){this._toggleFocusClass(r,this._$wrapper)},_toggleDisabledFocusedClass(r){this._focusTarget().toggleClass(dAe,r)},_updateFocusState:function(r,e){this.callBase(r,e);var t=r.target===this._tabs._focusTarget().get(0),n=r.target===this._focusTarget().get(0);if(t&&this._toggleFocusClass(e,this._focusTarget()),t||n){var i=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(e&&!i),this._toggleDisabledFocusedClass(e&&i)}n&&this._toggleFocusClass(e,this._tabs.option("focusedElement"))},_focusOutHandler:function(r){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(r),this._isFocusOutHandlerExecuting=!1},_setTabsOption(r,e){this._tabs&&this._tabs.option(r,e)},_visibilityChanged:function(r){r&&this._tabs._dimensionChanged()},registerKeyHandler:function(r,e){this.callBase(r,e),this._tabs&&this._tabs.registerKeyHandler(r,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_updateTabsIndicatorPosition(){var r=this._getTabsIndicatorPosition();this._setTabsOption("_indicatorPosition",r)},_optionChanged:function(r){var{name:e,value:t,fullName:n}=r;switch(e){case"dataSource":this.callBase(r);break;case"items":this._setTabsOption(e,this.option(e)),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(r);break;case"width":this.callBase(r),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,t),this.callBase(r),this.option("focusStateEnabled")===!0){var i=this.option("selectedIndex"),o=this._itemElements().eq(i);this.option("focusedElement",ut(o))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,t),this.callBase(r);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,t);break;case"focusedElement":var a=t&&E(t).index(),s=t&&this._tabs._itemElements().eq(a);if(this._setTabsOption("focusedElement",ut(s)),t){var l=this._isDisabled(t);this._toggleWrapperFocusedClass(!l),this._toggleDisabledFocusedClass(l)}this.callBase(r);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",t);break;case"badgeExpr":this._invalidate();break;case"tabsPosition":this._toggleTabPanelTabsPositionClass(),this._updateTabsIndicatorPosition(),this._updateTabsOrientation();break;case"iconPosition":this._setTabsOption("iconPosition",t);break;case"stylingMode":this._setTabsOption("stylingMode",t);break;case"_tabsIndicatorPosition":this._setTabsOption("_indicatorPosition",t);break;default:this.callBase(r)}}});wN.ItemClass=oAe;Kt("dxTabPanel",wN);class gp{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){tr.abstract()}}var kP=(r,e)=>"".concat(e?"tabs":"items","[").concat(r,"]"),R7=(r,e)=>L(r)&&L(e)?"".concat(r,".").concat(e):r||e,VP=r=>r?r.replace(/\s/g,""):void 0,vAe=(r,e)=>r?r.dataField===e||r.name===e||VP(r.title)===e||r.itemType==="group"&&VP(r.caption)===e:!1,_m=(r,e)=>"".concat(r,".").concat(e),Zz=r=>{var e=r.split(".");return e[e.length-1].replace(/\[\d+]/,"")},gAe=r=>{for(var e=r.split("."),t=[...e],n=e.length-1;n>=0;n--){if(O7(e[n]))return t.join(".");t.splice(n,1)}return""},O7=r=>r.indexOf("tabs")>-1,D7=(r,e,t)=>{var n=r.indexOf(e);if(n>-1)return kP(n,t);for(var i=0;i<r.length;i++){var o=r[i],a=o.tabs||o.items;if(a){var s=D7(a,e,o.tabs);if(s)return R7(kP(i,t),s)}}};function mAe(r){var{form:e,$formElement:t,formOptions:n,items:i,validationGroup:o,extendedLayoutManagerOptions:a,onFieldDataChanged:s,onContentReady:l,onDisposing:u,onFieldItemRendered:c}=r,d={form:e,items:i,$formElement:t,validationGroup:o,onFieldDataChanged:s,onContentReady:l,onDisposing:u,onFieldItemRendered:c,validationBoundary:n.scrollingEnabled?t:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode},h=$(d,{isRoot:a.isRoot,colCount:a.colCount,alignItemLabels:a.alignItemLabels,cssItemClass:a.cssItemClass,colCountByScreen:a.colCountByScreen,onLayoutChanged:a.onLayoutChanged,width:a.width});return h}class _Ae extends gp{tryExecute(){var{value:e}=this._options,t=this.findInstance();return t?(t.option(e),!0):!1}}class Jz extends gp{tryExecute(){var e=this.findInstance();if(e){var{optionName:t,item:n,value:i}=this._options,o=this._itemsRunTimeInfo.findItemIndexByItem(n);if(o>=0)return e.option(_m("items[".concat(o,"]"),t),i),!0}return!1}}class CAe extends gp{tryExecute(){return!1}}class yAe extends gp{tryExecute(){var e=this.findPreparedItem();return e!=null&&e._prepareGroupItemTemplate&&e._renderGroupContentTemplate?(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0):!1}}class SAe extends gp{tryExecute(){var e=this.findInstance();if(e){var{value:t}=this._options;return e.option("dataSource",t),!0}return!1}}class wAe extends gp{tryExecute(){var{item:e}=this._options,t=this.findInstance(),n=t&&on(t.$element()[0],"dxValidator");if(n&&e){var i=s=>s.type==="required",o=(n.option("validationRules")||[]).some(i),a=(e.validationRules||[]).some(i);if(!o&&!a||o&&a)return n.option("validationRules",e.validationRules),!0}return!1}}class bAe extends gp{tryExecute(){var e=this.findItemContainer(),{previousValue:t,value:n}=this._options;return e?(e.removeClass(t).addClass(n),!0):!1}}var EAe=(r,e)=>{switch(r){case"editorOptions":case"buttonOptions":return new _Ae(e);case"validationRules":return new wAe(e);case"cssClass":return new bAe(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new Jz($(e,{optionName:r}));case"tabs":return new SAe(e);case"template":var t,n,i,o=(t=e==null||(n=e.item)===null||n===void 0?void 0:n.itemType)!==null&&t!==void 0?t:(i=e.itemsRunTimeInfo.findPreparedItemByItem(e==null?void 0:e.item))===null||i===void 0?void 0:i.itemType;return o==="simple"?new CAe(e):o==="group"?new yAe(e):new Jz($(e,{optionName:r}));default:return null}},A7="dx-responsivebox",eU=A7+"-screen-",xAe="dx-box-item",tU="dxBoxItemData",IAe=1920,P7=pp.inherit({_getDefaultOptions:function(){return $(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",$F),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return xAe},_itemDataKey:function(){return tU},_initMarkup:function(){this.callBase(),this.$element().addClass(A7)},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(r){var e=this._findItemElementByItem(r);e.length&&(this._refreshItem(e,r),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var r=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(eU+r),this.option("currentScreenFactor",r)},_removeScreenSizeClass:function(){var r=this.option("currentScreenFactor");r&&this.$element().removeClass(eU+r)},_prepareGrid:function(){var r=this._grid=[];this._prepareRowsAndCols(),U(this._rows,(function(){var e=[];r.push(e),U(this._cols,(function(){e.push(this._createEmptyCell())}).bind(this))}).bind(this))},getSingleColumnRows:function(){var r=this.option("rows"),e=this._screenItems.length;if(r.length){for(var t=this._filterByScreen(r),n=[],i=0;i<e;i++){var o=this._defaultSizeConfig();i<t.length&&L(t[i].shrink)&&(o.shrink=t[i].shrink),n.push(o)}return n}else return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(r,e){return r.location.row-e.location.row||r.location.col-e.location.col}),U(this._screenItems,function(r,e){$(e.location,{row:r,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(r){return Gn(this._filterByScreen(r),(function(e){return $(this._defaultSizeConfig(),e)}).bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(r){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var t=[],n=0;n<r;n++)t.push(e);return t},_filterByScreen:function(r){var e=this._screenRegExp();return ho(r,function(t){return!t.screen||e.test(t.screen)})},_screenRegExp:function(){var r=this._getCurrentScreen();return new RegExp("(^|\\s)"+r+"($|\\s)","i")},_getCurrentScreen:function(){var r=this._screenWidth();return this.option("screenByWidth")(r)},_screenWidth:function(){return yt()?gt(Rt()):IAe},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){U(this._screenItems,(function(r,e){var t=e.location||{},n=t.col,i=t.row,o=this._grid[i],a=o&&o[n];this._occupyCells(a,e)}).bind(this))},_itemsByScreen:function(){return this.option("items").reduce((r,e)=>{var t=e.location||{};return t=Nt(t)?[t]:t,this._filterByScreen(t).forEach(n=>{r.push({item:e,location:$({rowspan:1,colspan:1},n)})}),r},[])},_occupyCells:function(r,e){!r||this._isItemCellOccupied(r,e)||($(r,e),this._markSpanningCell(r))},_isItemCellOccupied:function(r,e){if(!go(r.item))return!0;var t=!1;return this._loopOverSpanning(e.location,function(n){t=t||!go(n.item)}),t},_loopOverSpanning:function(r,e){var t=r.row+r.rowspan-1,n=r.col+r.colspan-1,i=Math.min(t,this._rows.length-1),o=Math.min(n,this._cols.length-1);r.rowspan-=t-i,r.colspan-=n-o;for(var a=r.row;a<=i;a++)for(var s=r.col;s<=o;s++)(a!==r.row||s!==r.col)&&e(this._grid[a][s])},_markSpanningCell:function(r){this._loopOverSpanning(r.location,function(e){$(e,{item:r.item,spanningCell:r})})},_linkNodeToItem:function(){U(this._itemElements(),function(r,e){var t=E(e),n=t.data(tU);n.box||(n.node=t.children())})},_layoutItems:function(){var r=this._grid.length,e=r&&this._grid[0].length;if(!(!r&&!e)){var t=this._layoutBlock({direction:"col",row:{start:0,end:r-1},col:{start:0,end:e-1}}),n=this._prepareBoxConfig(t.box||{direction:"row",items:[$(t,{ratio:1})]});$(n,this._rootBoxConfig(n.items)),this._$root=E("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,ov,n)}},_rootBoxConfig:function(r){var e=U(r,(function(t,n){this._needApplyAutoBaseSize(n)&&$(n,{baseSize:"auto"})}).bind(this));return{width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}},_needApplyAutoBaseSize:function(r){return!r.baseSize&&(!r.minSize||r.minSize==="auto")&&(!r.maxSize||r.maxSize==="auto")},_prepareBoxConfig:function(r){return $(r||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(r){return this._isSingleItem(r)?this._itemByCell(r.row.start,r.col.start):this._layoutDirection(r)},_isSingleItem:function(r){var e=this._grid[r.row.start][r.col.start].location,t=r.row.end-r.row.start===e.rowspan-1,n=r.col.end-r.col.start===e.colspan-1;return t&&n},_itemByCell:function(r,e){var t=this._grid[r][e];return t.spanningCell?null:t.item},_layoutDirection:function(r){for(var e=[],t=r.direction,n=this._crossDirection(t),i;i=this._nextBlock(r);){if(this._isBlockIndivisible(r.prevBlockOptions,i))throw Ht.Error("E1025");var o=this._layoutBlock({direction:n,row:i.row,col:i.col,prevBlockOptions:r});o&&($(o,this._blockSize(i,n)),e.push(o)),r[n].start=i[n].end+1}return{box:this._prepareBoxConfig({direction:t,items:e})}},_isBlockIndivisible:function(r,e){return r&&r.col.start===e.col.start&&r.col.end===e.col.end&&r.row.start===e.row.start&&r.row.end===e.row.end},_crossDirection:function(r){return r==="col"?"row":"col"},_nextBlock:function(r){var e=r.direction,t=this._crossDirection(e),n=r[e].start,i=r[e].end,o=r[t].start;if(o>r[t].end)return null;for(var a=1,s=o;s<o+a;s++){for(var l=1,u=n;u<=i;u++){var c=this._cellByDirection(e,u,s);l=Math.max(l,c.location[t+"span"])}var d=s+l,h=o+a;d>h&&(a+=d-h)}var p={};return p[e]={start:n,end:i},p[t]={start:o,end:o+a-1},p},_cellByDirection:function(r,e,t){return r==="col"?this._grid[t][e]:this._grid[e][t]},_blockSize:function(r,e){for(var t=e==="row"?"auto":0,n=e==="row"?this._rows:this._cols,i=$(this._createDefaultSizeConfig(),{ratio:0}),o=r[e].start;o<=r[e].end;o++){var a=n[o];i.ratio+=a.ratio,i.baseSize+=a.baseSize,i.minSize+=a.minSize,i.maxSize+=a.maxSize,L(a.shrink)&&(i.shrink=a.shrink)}return i.minSize=i.minSize?i.minSize:t,i.maxSize=i.maxSize?i.maxSize:"auto",this._isSingleColumnScreen()&&(i.baseSize="auto"),i},_update:function(r){var e=this._$root;this._renderItems(),e&&(r?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction()},_saveAssistantRoot:function(r){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(r)},_dispose:function(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&U(this._assistantRoots,function(r,e){E(e).remove()})},_clearItemNodeTemplates:function(){U(this.option("items"),function(){delete this.node})},_attachClickEvent:Z,_optionChanged:function(r){switch(r.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(r),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(r);break;case"currentScreenFactor":break;default:this.callBase(r)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});Kt("dxResponsiveBox",P7);var TAe="dx-form",vO="dx-form-group",RAe="dx-form-group-caption",rU="dx-col-",M7="dx-field-item",nU="dx-layout-manager-one-col",F7="dx-field-item-label-content",OAe="dx-layout-manager",L7="dx-field-item-label",BP="dx-field-item-content",DAe="dx-single-column-item-content",N7="dx-root-simple-item",AAe="dx-form-group-content",PAe="dx-field-item-has-group",MAe="dx-field-item-has-tabs",FAe="dx-form-group-with-caption",iU="dx-field-item-tab",oU="dx-group-colcount-",aU="group-col-count",LAe="dx-form-validation-summary",NAe="dx-form-styling-mode-underlined",HP="simple",kAe=tr.inherit({ctor(r,e){this.editor=r,this.validator=e,this.validationRequestsCallbacks=[];var t=n=>{this.validationRequestsCallbacks.forEach(i=>i(n))};r.validationRequest.add(t),r.on("disposing",function(){r.validationRequest.remove(t)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(r){this.editor.option({validationErrors:r.brokenRules,validationStatus:r.status})},reset(){this.editor.clear()},focus(){this.editor.focus()}}),VAe="dx-validator",sU="valid",BAe="invalid",gO="pending",h0=jl.inherit({_initOptions:function(r){this.callBase.apply(this,arguments),this.option(yr.initValidationOptions(r))},_getDefaultOptions(){return $(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=ar(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var r=this._findGroup();this._groupWasInit||this.on("disposing",function(e){yr.removeRegisteredValidator(e.component._validationGroup,e.component)}),(!this._groupWasInit||this._validationGroup!==r)&&(yr.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=r,yr.registerValidatorInGroup(r,this))},_setOptionsByReference(){this.callBase(),$(this._optionsByReference,{validationGroup:!0})},_getEditor(){var r=this.$element()[0];return on(r,"dx-validation-target")},_initAdapter(){var r=this._getEditor(),e=this.option("adapter");if(!e){if(r){e=new kAe(r,this),e.validationRequestsCallbacks.push(n=>{this._validationInfo.skipValidation||this.validate(n)}),this.option("adapter",e);return}throw Ht.Error("E0120")}var t=e.validationRequestsCallbacks;t&&t.push(n=>{this.validate(n)})},_toggleRTLDirection(r){var e,t,n,i=(e=(t=this.option("adapter"))===null||t===void 0||(n=t.editor)===null||n===void 0?void 0:n.option("rtlEnabled"))!==null&&e!==void 0?e:r;this.callBase(i)},_initMarkup(){this.$element().addClass(VAe),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var r=this._getEditor();if(r){var e=this.option("validationRules")||[],t=e.some(n=>{var{type:i}=n;return i==="required"})||null;r.isInitialized()&&r.setAria("required",t),r.option("_onMarkupRendered",()=>{r.setAria("required",t)})}},_visibilityChanged(r){r&&this._initGroupRegistration()},_optionChanged(r){switch(r.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(yr.synchronizeValidationOptions(r,this.option()));break;default:this.callBase(r)}},_getValidationRules(){return this._validationRules||(this._validationRules=Gn(this.option("validationRules"),(r,e)=>$({},r,{validator:this,index:e}))),this._validationRules},_findGroup(){var r=this.$element();return this.option("validationGroup")||yr.findGroup(r,this._modelByElement(r))},_resetValidationRules(){delete this._validationRules},validate(r){var e=this.option("adapter"),t=this.option("name"),n=e.bypass&&e.bypass(),i=r&&r.value!==void 0?r.value:e.getValue(),o=e.getCurrentValidationError&&e.getCurrentValidationError(),a=this._getValidationRules(),s=this._validationInfo&&this._validationInfo.result;if(s&&s.status===gO&&s.value===i)return $({},s);var l;return n?l={isValid:!0,status:sU}:o&&o.editorSpecific?(o.validator=this,l={isValid:!1,status:BAe,brokenRule:o,brokenRules:[o]}):l=yr.validate(i,a,t),l.id=new dn().toString(),this._applyValidationResult(l,e),l.complete&&l.complete.then(u=>{u.id===this._validationInfo.result.id&&this._applyValidationResult(u,e)}),$({},this._validationInfo.result)},reset(){var r=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:sU,complete:null};this._validationInfo.skipValidation=!0,r.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,r)},_updateValidationResult(r){if(!this._validationInfo.result||this._validationInfo.result.id!==r.id){var e=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=$({},r,{complete:e})}else for(var t in r)t!=="id"&&t!=="complete"&&(this._validationInfo.result[t]=r[t])},_applyValidationResult(r,e){var t=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(r.validator=this,this._updateValidationResult(r),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===gO){this._validationInfo.deferred||(this._validationInfo.deferred=new X,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!==gO&&(t(r),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(r),this._validationInfo.deferred=null))},focus(){var r=this.option("adapter");r&&r.focus&&r.focus()},_useTemplates:function(){return!1}});Kt("dxValidator",h0);var HAe=["dxTagBox","dxRangeSlider","dxDateRangeBox"],GAe=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function $Ae(r){var{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:i,item:o,template:a,labelTemplate:s,name:l,formLabelLocation:u,requiredMessageTemplate:c,validationGroup:d,editorValue:h,canAssignUndefinedValueToEditor:p,editorValidationBoundary:f,editorStylingMode:v,showColonAfterLabel:g,managerLabelLocation:m,itemId:C,managerMarkOptions:y,labelMode:w,onLabelTemplateRendered:T}=r,S=L(o.isRequired)?o.isRequired:!!UAe(o.validationRules),x=o.itemType===HP,I=o.helpText?"dx-"+new dn:null,R=jAe({item:o,id:C,isRequired:S,managerMarkOptions:y,showColonAfterLabel:g,labelLocation:m,formLabelMode:w,labelTemplate:s,onLabelTemplateRendered:T}),D=R.visible&&(R.text||R.labelTemplate&&x),{location:A,labelID:V}=R,F=A!=="top"&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(o.editorType),P=zAe({editorType:o.editorType,editorValue:h,defaultEditorName:o.dataField,canAssignUndefinedValueToEditor:p,externalEditorOptions:o.editorOptions,editorInputId:C,editorValidationBoundary:f,editorStylingMode:v,formLabelMode:w,labelText:R.textWithoutColon,labelMark:R.markOptions.showRequiredMark?""+R.markOptions.requiredMark:""}),M=R.markOptions.showOptionalMark&&!R.visible&&P.labelMode!=="hidden"&&!L(o.helpText),N=M?R.markOptions.optionalMark:o.helpText;return{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:i,labelOptions:R,labelNeedBaselineAlign:F,labelLocation:A,needRenderLabel:D,item:o,isSimpleItem:x,isRequired:S,template:a,helpID:I,labelID:V,name:l,helpText:N,formLabelLocation:u,requiredMessageTemplate:c,validationGroup:d,editorOptions:P}}function WAe(r){var{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:i}=r;return!e&&!n?"":""+(e?t:i)}function k7(r,e){var{showRequiredMark:t,requiredMark:n,showOptionalMark:i,optionalMark:o}=r;return{showRequiredMark:t&&e,requiredMark:n,showOptionalMark:i&&!e,optionalMark:o}}function zAe(r){var{editorType:e,defaultEditorName:t,editorValue:n,canAssignUndefinedValueToEditor:i,externalEditorOptions:o,editorInputId:a,editorValidationBoundary:s,editorStylingMode:l,formLabelMode:u,labelText:c,labelMark:d}=r,h={};(n!==void 0||i)&&(h.value=n),HAe.indexOf(e)!==-1&&(h.value=h.value||[]);var p=o==null?void 0:o.labelMode;L(p)||(p=u==="outside"?"hidden":u);var f=(o==null?void 0:o.stylingMode)||l,v=$(!0,h,o,{inputAttr:{id:a},validationBoundary:s,stylingMode:f,label:c,labelMode:p,labelMark:d});return o&&(v.dataSource&&(v.dataSource=o.dataSource),v.items&&(v.items=o.items)),t&&!v.name&&(v.name=t),v}function UAe(r){var e;return r&&r.length&&U(r,function(t,n){if(n.type==="required")return e=!0,!1}),e}function jAe(r){var{item:e,id:t,isRequired:n,managerMarkOptions:i,showColonAfterLabel:o,labelLocation:a,labelTemplate:s,formLabelMode:l,onLabelTemplateRendered:u}=r,c=GAe.includes(e.editorType),d=$({showColon:o,location:a,id:t,visible:l==="outside"||c&&l!=="hidden",isRequired:n},e?e.label:{},{markOptions:k7(i,n),labelTemplate:s,onLabelTemplateRendered:u});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(e.editorType)&&(d.labelID="dx-label-".concat(new dn)),!d.text&&e.dataField&&(d.text=Lh(e.dataField)),d.text&&(d.textWithoutColon=d.text,d.text+=d.showColon?":":""),d}var KAe="dx-field-item-required-mark",V7="dx-field-item-label-location-",qAe="dx-field-item-optional-mark",YAe="dx-field-item-label-text";function XAe(r){var{text:e,id:t,location:n,alignment:i,labelID:o=null,markOptions:a={},labelTemplate:s,labelTemplateData:l,onLabelTemplateRendered:u}=r;if((!L(e)||e.length<=0)&&!L(s))return null;var c=E("<label>").addClass(L7+" "+V7+n).attr("for",t).attr("id",o).css("textAlign",i),d=E("<span>").addClass(F7),h=E("<span>").addClass(YAe).text(e);return s&&(h=E("<div>").addClass("dx-field-item-custom-label-content"),l.text=e,s.render({container:ut(h),model:l,onRendered(){u==null||u()}})),c.append(d.append(h,QAe(a)))}function QAe(r){var e=WAe(r);return e===""?null:E("<span>").addClass(r.showRequiredMark?KAe:qAe).text(e)}function ZAe(r,e,t){var n="".concat(e," > .").concat(L7,":not(.").concat(V7,"top) > .").concat(F7),i=r.find(n),o=i.length,a,s,l=0;for(s=0;s<o;s++)a=JAe(i[s]),a>l&&(l=a);for(s=0;s<o;s++)i[s].style.width=l+"px"}function JAe(r){for(var e=0,t=r.children.length,n=0;n<t;n++){var i=r.children[n];e+=i.offsetWidth}return e}var ePe="dx-flex-layout",tPe="dx-field-item-optional",rPe="dx-field-item-required",B7="dx-field-item-content-wrapper",nPe="dx-field-item-content-location-",iPe="dx-field-item-label-align",oPe="dx-field-item-help-text",aPe="dx-label-v-align",sPe="dx-label-h-align",lPe="dx-toggle-controls-paddings",uPe="dx-template-wrapper",GP="dx-validation-target",cPe="dx-invalid";function dPe(r){var{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:i,labelOptions:o,labelNeedBaselineAlign:a,labelLocation:s,needRenderLabel:l,formLabelLocation:u,item:c,editorOptions:d,isSimpleItem:h,isRequired:p,template:f,helpID:v,labelID:g,name:m,helpText:C,requiredMessageTemplate:y,validationGroup:w}=r,T=E("<div>").addClass(t.join(" ")).appendTo(e);T.addClass(p?rPe:tPe),h&&T.addClass(ePe),h&&a&&T.addClass(iPe);var S=E("<div>");S.data("dx-form-item",c),S.addClass(BP).addClass(nPe+{right:"left",left:"right",top:"bottom"}[u]);var x=null;if(l&&(o.labelTemplate&&(o.labelTemplateData=cU(c,d,n)),x=XAe(o)),x){var{editorType:I}=c;T.append(x),(s==="top"||s==="left")&&T.append(S),s==="right"&&T.prepend(S),s==="top"?T.addClass(aPe):T.addClass(sPe),(I==="dxCheckBox"||I==="dxSwitch")&&B.on(x,sr,function(){B.trigger(S.children(),sr)});var R=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(I),D=o.alignment,A=D==="left"||!D,V=!f,F=s==="top";V&&R&&F&&A&&S.addClass(lPe)}else T.append(S);var P;if(f)f.render({container:ut(S),model:cU(c,d,n),onRendered(){var ee=lU(S),te=hPe(ee);uU(te)}});else{var M=E("<div>").appendTo(S);try{P=i(M,c.editorType,d),P.setAria("describedby",v),g&&P.setAria("labelledby",g),P.setAria("required",p)}catch(ee){Ht.log("E1035",ee.message)}}var N=lU(S),H=N&&N.data(GP);if(H){var G=c.label&&c.label.text,z=G?null:m,j=G?c.label.text:z&&Lh(z),q;if(h)if(c.validationRules)q=c.validationRules;else{var K=kl(y,j||"");q=c.isRequired?[{type:"required",message:K}]:null}Array.isArray(q)&&q.length&&i(N,h0,{validationRules:q,validationGroup:w,dataGetter:function(){return{formItem:c}}}),uU(H)}if(C&&h){var ie=S.parent();ie.append(E("<div>").addClass(B7).append(S).append(E("<div>").addClass(oPe).attr("id",v).text(C)))}return{$fieldEditorContainer:S,$rootElement:T,widgetInstance:P}}function lU(r){var e=r.children().first();return e.hasClass(uPe)?e.children().first():e}function hPe(r){var e,t;return(r==null?void 0:r.data(GP))||(r==null||(e=r.parent)===null||e===void 0||(t=e.call(r))===null||t===void 0?void 0:t.data(GP))}function uU(r){if(r&&Ma()){var e=".".concat(B7),t=n=>{var{element:i,component:o}=n,{isValid:a,validationMessageMode:s}=o.option();E(i).parents(e).toggleClass(cPe,a===!1&&(o._isFocused()||s==="always"))};r.on("optionChanged",n=>{n.name==="isValid"&&t(n)}),r.on("focusIn",t).on("focusOut",t).on("enterKey",t)}}function cU(r,e,t){return{dataField:r.dataField,editorType:r.editorType,editorOptions:e,component:t,name:r.name}}var pPe="dx-field-button-item";function fPe(r){var{item:e,$parent:t,rootElementCssClassList:n,validationGroup:i,createComponentCallback:o}=r,a=E("<div>").appendTo(t).addClass(n.join(" ")).addClass(pPe).css("textAlign",vPe(e.horizontalAlignment));t.css("justifyContent",gPe(e.verticalAlignment));var s=E("<div>").appendTo(a);return{$rootElement:a,buttonInstance:o(s,"dxButton",$({validationGroup:i},e.buttonOptions))}}function vPe(r){return L(r)?r:"right"}function gPe(r){switch(r){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var mPe="dx-field-empty-item";function dU(r){var{$parent:e,rootElementCssClassList:t}=r;return E("<div>").addClass(mPe).html("&nbsp;").addClass(t.join(" ")).appendTo(e)}var _Pe="dxTextBox",CPe="dx-first-row",yPe="dx-last-row",SPe="dx-first-col",wPe="dx-last-col",bPe=ai.inherit({_getDefaultOptions:function(){return $(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:J.format("dxForm-optionalMark"),requiredMessage:J.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),$(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var r=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new x7,this._updateReferencedOptions(r),this._initDataAndItems(r)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(r){this._syncDataWithItems(),this._updateItems(r)},_syncDataWithItems:function(){var r=this.option("layoutData"),e=this.option("items");L(e)&&e.forEach(t=>{if(t.dataField&&this._getDataByField(t.dataField)===void 0){var n;t.editorOptions&&(n=t.editorOptions.value),(L(n)||t.dataField in r)&&this._updateFieldValue(t.dataField,n)}})},_getDataByField:function(r){return r?this.option("layoutData."+r):null},_isCheckboxUndefinedStateEnabled:function(r){var{allowIndeterminateState:e,editorType:t,dataField:n}=r;if(e===!0&&t==="dxCheckBox"){var i=["layoutData",...n.split(".")],o=i.pop(),a=this.option(i.join("."));return a&&o in a}return!1},_updateFieldValue:function(r,e){var t=this.option("layoutData"),n=e;!Xi.isWrapped(t[r])&&L(r)?this.option("layoutData."+r,n):Xi.isWritableWrapped(t[r])&&(n=Ne(n)?n():n,t[r](n)),this._triggerOnFieldDataChanged({dataField:r,value:n})},_triggerOnFieldDataChanged:function(r){this._createActionByOption("onFieldDataChanged")(r)},_updateItems:function(r){var e=this,t=this.option("items"),n=L(t),i=e.option("customizeItem"),o=n?t:this._generateItemsByData(r);if(L(o)){var a=[];U(o,function(s,l){e._isAcceptableItem(l)&&(l=e._processItem(l),i&&i(l),pt(l)&&Xi.unwrap(l.visible)!==!1&&a.push(l))}),(!e._itemWatchers.length||!n)&&e._updateItemWatchers(o),this._setItems(a),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(r){r()}),this._itemWatchers=[]},_updateItemWatchers:function(r){var e=this,t=e._getWatch();r.forEach(function(n){pt(n)&&L(n.visible)&&Ne(t)&&e._itemWatchers.push(t(function(){return Xi.unwrap(n.visible)},function(){e._updateItems(e.option("layoutData")),e.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(r){var e=[];return L(r)&&U(r,function(t){e.push({dataField:t})}),e},_isAcceptableItem:function(r){var e=r.dataField||r,t=this._getDataByField(e);return!(Ne(t)&&!Xi.isWrapped(t))},_processItem:function(r){if(typeof r=="string"&&(r={dataField:r}),typeof r=="object"&&!r.itemType&&(r.itemType=HP),!L(r.editorType)&&L(r.dataField)){var e=this._getDataByField(r.dataField);r.editorType=L(e)?this._getEditorTypeByDataType(Aa(e)):_Pe}if(r.editorType==="dxCheckBox"){var t;r.allowIndeterminateState=(t=r.allowIndeterminateState)!==null&&t!==void 0?t:!0}return r},_getEditorTypeByDataType:function(r){switch(r){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){x_(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(r,e){var t=r.visibleIndex,n=e.visibleIndex,i;return t>n?i=1:t<n?i=-1:i=0,i})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(OAe),this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var r=[];if(this._items&&this._items.length){var e=this._getColCount(),t=E("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var n=this._generateLayoutItems();this._responsiveBox=this._createComponent(t,P7,this._getResponsiveBoxConfig(n,e,r)),yt()||this._renderTemplates(r)}},_itemStateChangedHandler:function(r){this._refresh()},_renderTemplates:function(r){var e=this,t=0;r.forEach(n=>{var i,{item:o}=n;o!=null&&(i=o.label)!==null&&i!==void 0&&i.template&&t++}),U(r,function(n,i){switch(i.itemType){case"empty":dU(i);break;case"button":e._renderButtonItem(i);break;default:e._renderFieldItem(i,t)}})},_getResponsiveBoxConfig:function(r,e,t){var n=this,i=n.option("colCountByScreen"),o=i&&i.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:function(){var a=n.option("onLayoutChanged"),s=n.isSingleColumnMode();a&&(n.$element().toggleClass(nU,s),a(s))},onContentReady:function(a){yt()&&n._renderTemplates(t),n.option("onLayoutChanged")&&n.$element().toggleClass(nU,n.isSingleColumnMode(a.component))},itemTemplate:function(a,s,l){if(a.location){var u=E(l),c=a.location.row*e,d=n._items[a.location.col+c];if(d){var h=[d.cssClass];u.toggleClass(DAe,n.isSingleColumnMode(this)),a.location.row===0&&h.push(CPe),a.location.col===0&&h.push(SPe),d.itemType===HP&&n.option("isRoot")&&u.addClass(N7);var p=a.location.col===e-1||a.location.col+a.location.colspan===e,f=n._getRowsCount(),v=a.location.row===f-1;p&&h.push(wPe),v&&h.push(yPe),d.itemType!=="empty"&&(h.push(M7),h.push(n.option("cssItemClass")),L(d.col)&&h.push("dx-col-"+d.col)),t.push({itemType:d.itemType,item:d,$parent:u,rootElementCssClassList:h})}}},cols:n._generateRatio(e),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:r,screenByWidth:n.option("screenByWidth"),singleColumnScreen:o?!1:"xs"}},_getColCount:function(){var r=this.option("colCount"),e=this.option("colCountByScreen");if(e){var t=this.option("form").getTargetScreenFactor();t||(t=yt()?Cq(this.option("screenByWidth")):"lg"),r=e[t]||r}if(r==="auto"){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=r=this._getMaxColCount()}return r<1?1:r},_getMaxColCount:function(){if(!yt())return 1;var r=this.option("minColWidth"),e=gt(this.$element()),t=this._items.length,n=Math.floor(e/r)||1;return t<n?t:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(r){var e=this._items.slice(0),t,n,i=[],o,a;for(a=0;a<e.length;a++)if(t=e[a],i.push(t),(this.option("alignItemLabels")||t.alignItemLabels||t.colSpan)&&(t.col=this._getColByIndex(i.length-1,r)),t.colSpan>1&&t.col+t.colSpan<=r){for(n=[],o=0;o<t.colSpan-1;o++)n.push({merged:!0});i=i.concat(n)}else delete t.colSpan;this._setItems(i)},_getColByIndex:function(r,e){return r%e},_setItems:function(r){this._items=r,this._cashedColCount=null},_generateLayoutItems:function(){var r=this._items,e=this._getColCount(),t=[],n,i;for(i=0;i<r.length;i++)if(n=r[i],!n.merged){var o={location:{row:parseInt(i/e),col:this._getColByIndex(i,e)}};L(n.disabled)&&(o.disabled=n.disabled),L(n.visible)&&(o.visible=n.visible),L(n.colSpan)&&(o.location.colspan=n.colSpan),L(n.rowSpan)&&(o.location.rowspan=n.rowSpan),t.push(o)}return t},_renderEmptyItem:function(r){dU({$container:r})},_renderButtonItem:function(r){var{item:e,$parent:t,rootElementCssClassList:n}=r,{$rootElement:i,buttonInstance:o}=fPe({item:e,$parent:t,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:e,widgetInstance:o,guid:e.guid,$itemContainer:i})},_renderFieldItem:function(r,e){var t,n,{item:i,$parent:o,rootElementCssClassList:a}=r,s=this._getDataByField(i.dataField),l=!1;if(s===void 0){var{allowIndeterminateState:u,editorType:c,dataField:d}=i;l=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:u,editorType:c,dataField:d})}var h=i.dataField||i.name,p=this._getFormOrThis(),{$fieldEditorContainer:f,widgetInstance:v,$rootElement:g}=dPe($Ae({$parent:o,rootElementCssClassList:a,item:i,name:h,editorValue:s,canAssignUndefinedValueToEditor:l,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,labelTemplate:(t=i.label)!==null&&t!==void 0&&t.template?this._getTemplate(i.label.template):null,itemId:this.option("form")&&this.option("form").getItemID(h),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(p,e)&&p._alignLabels(this,this.isSingleColumnMode(p))}}));(n=this.option("onFieldItemRendered"))===null||n===void 0||n(),v&&i.dataField&&this._bindDataField(v,i.dataField,i.editorType,f),this._itemsRunTimeInfo.add({item:i,widgetInstance:v,guid:i.guid,$itemContainer:g})},_incTemplateRenderedCallCount(){var r;this._labelTemplateRenderedCallCount=((r=this._labelTemplateRenderedCallCount)!==null&&r!==void 0?r:0)+1},_shouldAlignLabelsOnTemplateRendered(r,e){return r.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===e},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(r,e,t,n){var i=this._getFormOrThis();r.on("enterKey",function(o){i._createActionByOption("onEditorEnterKey")($(o,{dataField:e}))}),this._createWatcher(r,n,e),this.linkEditorToDataField(r,e,t)},_createWatcher:function(r,e,t){var n=this,i=n._getWatch();if(Ne(i)){var o=i(function(){return n._getDataByField(t)},function(){var a=n._getDataByField(t);if(r.NAME==="dxTagBox"){var s=r.option("value");if(a!==s&&function(l,u){if(!Array.isArray(l)||!Array.isArray(u)||l.length!==u.length)return!1;for(var c=0;c<l.length;c++)if(l[c]!==u[c])return!1;return!0}(a,s))return}r.option("value",a)},{deep:!0,skipImmediate:!0});B.on(e,yo,o)}},_getWatch:function(){if(!L(this._watch)){var r=this.option("form");this._watch=r&&r.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(r,e,t){var n=this.option("readOnly"),i=Object.hasOwn(t,"readOnly"),o=this.callBase(r,e,b({},t,{readOnly:i?t.readOnly:n})),a=!1;return o.on("optionChanged",s=>{s.name==="readOnly"&&!a&&(i=!0)}),this.on("optionChanged",function(s){s.name==="readOnly"&&!i&&(a=!0,o.option(s.name,s.value),a=!1)}),o},_generateRatio:function(r,e){var t=[],n,i;for(i=0;i<r;i++)n={ratio:1},e&&(n.baseSize="auto"),t.push(n);return t},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(r){var e=this.option("layoutData");pt(e)&&Object.getOwnPropertyNames(e).forEach(t=>delete this._optionsByReference["layoutData."+t]),pt(r)&&Object.getOwnPropertyNames(r).forEach(t=>this._optionsByReference["layoutData."+t]=!0)},_clearWidget(r){this._disableEditorValueChangedHandler=!0,r.clear(),this._disableEditorValueChangedHandler=!1,r.option("isValid",!0)},_optionChanged(r){if(r.fullName.search("layoutData.")!==0)switch(r.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(r.value),this.option("items")?go(r.value)||this._itemsRunTimeInfo.each((e,t)=>{if(L(t.item)){var n=t.item.dataField;if(n&&L(t.widgetInstance)){var i=Ar(n),o=i(r.value),{allowIndeterminateState:a,editorType:s}=t.item;o!==void 0||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:a,editorType:s,dataField:n})?t.widgetInstance.option("value",o):this._clearWidget(t.widgetInstance)}}}):(this._initDataAndItems(r.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(r.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(r),this.option("colCount")==="auto"&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(r)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(r,e){this.on("optionChanged",t=>{t.fullName==="layoutData.".concat(e)&&r._setOptionWithoutOptionChange("value",t.value)}),r.on("valueChanged",t=>{var n=pt(t.value)||Array.isArray(t.value);!this._disableEditorValueChangedHandler&&!(n&&t.value===t.previousValue)&&this._updateFieldValue(e,t.value)})},_dimensionChanged:function(){this.option("colCount")==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(r,e){var t=this;pt(r)?U(r,function(n,i){t._updateFieldValue(n,i)}):typeof r=="string"&&t._updateFieldValue(r,e)},getEditor:function(r){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(r)||this._itemsRunTimeInfo.findWidgetInstanceByName(r)},isSingleColumnMode:function(r){var e=this._responsiveBox||r;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});Kt("dxLayoutManager",bPe);var bN="dx-validationsummary",EPe=bN+"-item",xPe=bN+"-item-data",H7=pp.inherit({_getDefaultOptions(){return $(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),$(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var r=this.$element(),e=this.option("validationGroup")||yr.findGroup(r,this._modelByElement(r)),t=yr.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),t.on("validated",this.groupSubscription)},_unsubscribeGroup(){var r=yr.getGroupConfig(this._validationGroup);r&&r.off("validated",this.groupSubscription)},_getOrderedItems(r,e){var t=[];return U(r,function(n,i){var o=ho(e,function(a){if(a.validator===i)return!0});o.length&&(t=t.concat(o))}),t},_groupValidationHandler(r){var e=this._getOrderedItems(r.validators,Gn(r.brokenRules,function(t){return{text:t.message,validator:t.validator,index:t.index}}));this.validators=r.validators,U(this.validators,(t,n)=>{if(n._validationSummary!==this){var i=this._itemValidationHandler.bind(this);n.on("validated",i),n.on("disposing",function(){n.off("validated",i),n._validationSummary=null,i=null}),n._validationSummary=this}}),this.option("items",e)},_itemValidationHandler(r){for(var{isValid:e,validator:t,brokenRules:n}=r,i=this.option("items"),o=!1,a=0,s=function(){var l=i[a];if(l.validator===t){var u=ho(n||[],function(c){return c.index===l.index})[0];if(e||!u)return i.splice(a,1),o=!0,1;u.message!==l.text&&(l.text=u.message,o=!0)}a++};a<i.length;)s();U(n,function(l,u){var c=ho(i,function(d){return d.validator===t&&d.index===u.index})[0];c||(i.push({text:u.message,validator:t,index:u.index}),o=!0)}),o&&(i=this._getOrderedItems(this.validators,i),this.option("items",i))},_initMarkup(){this.$element().addClass(bN),this.callBase()},_optionChanged(r){switch(r.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(r)}},_itemClass:()=>EPe,_itemDataKey:()=>xPe,_postprocessRenderItem(r){B.on(r.itemElement,"click",function(){r.itemData.validator&&r.itemData.validator.focus&&r.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});Kt("dxValidationSummary",H7);var hU="dx-validationgroup",IPe="dx-validator",TPe="dx-validationsummary";class RPe extends jl{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),yr.addGroup(this)}_initMarkup(){var e=this.$element();e.addClass(hU),e.find(".".concat(IPe)).each(function(t,n){h0.getInstance(E(n))._initGroupRegistration()}),e.find(".".concat(TPe)).each(function(t,n){H7.getInstance(E(n)).refreshValidationGroup()}),super._initMarkup()}validate(){return yr.validateGroup(this)}reset(){return yr.resetGroup(this)}_dispose(){yr.removeGroup(this),this.$element().removeClass(hU),super._dispose()}_useTemplates(){return!1}}Kt("dxValidationGroup",RPe);var pU="dx-state-focused",OPe=["items","isRequired","validationRules","visible"],EN=ai.inherit({_init:function(){this.callBase(),this._dirtyFields=new Set,this._cachedColCountOptions=[],this._itemsRunTimeInfo=new x7,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return $(this.callBase(),{formID:"dx-"+new dn,formData:{},colCount:1,screenByWidth:$F,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:J.format("dxForm-optionalMark"),requiredMessage:J.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:Fr().editorStylingMode,labelMode:"outside",isDirty:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Ma()},options:{labelLocation:"top"}},{device:function(){return Hi()},options:{showColonAfterLabel:!1}}])},_setOptionsByReference:function(){this.callBase(),$(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(r){return parseInt(r.attr(aU))},_applyLabelsWidthByCol:function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.inOneColumn?M7:rU+e,i=t.excludeTabbed?":not(.".concat(iU,")"):"";ZAe(r,".".concat(n).concat(i))},_applyLabelsWidth:function(r,e,t,n,i){n=t?1:n||this._getGroupColCount(r);var o={excludeTabbed:e,inOneColumn:t},a;for(a=0;a<n;a++)this._applyLabelsWidthByCol(r,a,o,i)},_getGroupElementsInColumn:function(r,e,t){var n=L(t)?"."+oU+t:"",i="."+rU+e+" > ."+BP+" > ."+vO+n;return r.find(i)},_applyLabelsWidthWithGroups:function(r,e,t,n){if(this.option("alignRootItemLabels")===!0)for(var i=r.find(".".concat(N7)),o=0;o<e;o++)this._applyLabelsWidthByCol(i,o,t,n);var a=this.option("alignItemLabelsInAllGroups");if(a)this._applyLabelsWidthWithNestedGroups(r,e,t,n);else{var s=this.$element().find("."+vO),l;for(l=0;l<s.length;l++)this._applyLabelsWidth(s.eq(l),t,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups:function(r,e,t,n){var i={excludeTabbed:t},o,a,s,l;for(o=0;o<e;o++)for(l=this._getGroupElementsInColumn(r,o),this._applyLabelsWidthByCol(l,0,i,n),a=0;a<this._groupsColCount.length;a++){l=this._getGroupElementsInColumn(r,o,this._groupsColCount[a]);var u=this._getGroupColCount(l);for(s=1;s<u;s++)this._applyLabelsWidthByCol(l,s,i,n)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(r){var{layoutManager:e,inOneColumn:t,$container:n,excludeTabbed:i,items:o}=r;if(!(!yt()||this._labelLocation()==="top")){var a=k7(e._getMarkOptions());t?this._applyLabelsWidth(n,i,!0,void 0,a):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(n,e._getColCount(),i,a):this._applyLabelsWidth(n,i,!1,e._getColCount(),a)}},_prepareFormData:function(){L(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){this.option("stylingMode")==="underlined"&&this.$element().addClass(NAe)},_initMarkup:function(){yr.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(TAe),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()},_attachResizeObserverSubscription:function(){if(yt()){var r=this.$element().get(0);Sh.unobserve(r),Sh.observe(r,()=>{this._resizeHandler()})}},_resizeHandler:function(){this._cachedLayoutManagers.length&&U(this._cachedLayoutManagers,(r,e)=>{var t;(t=e.option("onLayoutChanged"))===null||t===void 0||t(e.isSingleColumnMode())})},_getCurrentScreenFactor:function(){return yt()?Cq(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(r,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:r,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),bl(this.$element().find(".".concat(O8)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,Sh.unobserve(this.$element().get(0))},_renderScrollable:function(){var r=this.option("useNativeScrolling");this._scrollable=new Oa(this.$element(),{useNative:!!r,useSimulatedScrollbar:!r,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?E(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var r;(r=this._$validationSummary)===null||r===void 0||r.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=E("<div>").addClass(LAe).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(r,e,t,n){if(r){for(var i=[],o=0;o<r.length;o++){var a=r[o],s=R7(t,kP(o,n)),l={item:a,itemIndex:o,path:s},u=this._itemsRunTimeInfo.add(l);if(ft(a)&&(a={dataField:a}),pt(a)){var c=b({},a);l.preparedItem=c,c.guid=u,this._tryPrepareGroupItem(c),this._tryPrepareTabbedItem(c,s),this._tryPrepareItemTemplate(c),e&&(c.cssItemClass=iU),c.items&&(c.items=this._prepareItems(c.items,e,s)),i.push(c)}else i.push(a)}return i}},_tryPrepareGroupItem:function(r){r.itemType==="group"&&(r.alignItemLabels=an(r.alignItemLabels,!0),r._prepareGroupItemTemplate=e=>{r.template&&(r.groupContentTemplate=this._getTemplate(e)),r.template=this._itemGroupTemplate.bind(this,r)},r._prepareGroupItemTemplate(r.template))},_tryPrepareTabbedItem:function(r,e){r.itemType==="tabbed"&&(r.template=this._itemTabbedTemplate.bind(this,r),r.tabs=this._prepareItems(r.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(r){r.template&&(r.template=this._getTemplate(r.template))},_checkGrouping:function(r){if(r)for(var e=0;e<r.length;e++){var t=r[e];if(t.itemType==="group")return!0}},_renderLayout:function(){var r=this,e=r.option("items"),t=r._getContent();e=r._prepareItems(e),r._rootLayoutManager=r._renderLayoutManager(t,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:r.option("colCount"),alignItemLabels:r.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(n){r._alignLabels.bind(r)(r._rootLayoutManager,n)},onContentReady:function(n){r._alignLabels(n.component,n.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(r){return r.items||[]},_itemTabbedTemplate:function(r,e,t){var n,i=E("<div>").appendTo(t),o=$({},r.tabPanelOptions,{dataSource:r.tabs,onItemRendered:l=>{var u,c;(u=r.tabPanelOptions)===null||u===void 0||(c=u.onItemRendered)===null||c===void 0||c.call(u,l),_L(l.itemElement)},itemTemplate:(l,u,c)=>{var d=E(c),h=an(l.alignItemLabels,!0),p=this._renderLayoutManager(d,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(l),{colCount:l.colCount,alignItemLabels:h,screenByWidth:this.option("screenByWidth"),colCountByScreen:l.colCountByScreen,cssItemClass:l.cssItemClass,onLayoutChanged:f=>{this._alignLabelsInColumn({$container:d,layoutManager:p,items:l.items,inOneColumn:f})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(l.guid,{layoutManager:p}),h&&this._alignLabelsInColumn({$container:d,layoutManager:p,items:l.items,inOneColumn:p.isSingleColumnMode()})}}),a=(l,u)=>{Array.isArray(l)&&l.forEach(c=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(c.guid,{widgetInstance:u}))},s=this._createComponent(i,wN,o);E(t).parent().addClass(MAe),s.on("optionChanged",l=>{l.fullName==="dataSource"&&a(l.value,l.component)}),a([{guid:r.guid},...(n=r.tabs)!==null&&n!==void 0?n:[]],s)},_itemGroupTemplate:function(r,e,t){var n=e.editorOptions.inputAttr.id,i=E("<div>").toggleClass(FAe,L(r.caption)&&r.caption.length).addClass(vO).appendTo(t),o={role:"group",labelledby:n};this.setAria(o,i),E(t).parent().addClass(PAe),r.caption&&E("<span>").addClass(RAe).text(r.caption).attr("id",n).appendTo(i);var a=E("<div>").addClass(AAe).appendTo(i);if(r.groupContentTemplate)r._renderGroupContentTemplate=()=>{a.empty();var u={formData:this.option("formData"),component:this};r.groupContentTemplate.render({model:u,container:ut(a)})},r._renderGroupContentTemplate();else{var s=this._renderLayoutManager(a,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(r),{colCount:r.colCount,colCountByScreen:r.colCountByScreen,alignItemLabels:r.alignItemLabels,cssItemClass:r.cssItemClass}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(r.guid,{layoutManager:s});var l=s._getColCount();this._groupsColCount.includes(l)||this._groupsColCount.push(l),i.addClass(oU+l),i.attr(aU,l)}},_createLayoutManagerOptions:function(r,e){return mAe({form:this,formOptions:this.option(),$formElement:this.$element(),items:r,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:t=>{this._isDataUpdating||this._triggerOnFieldDataChanged(t)},onContentReady:t=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(t.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(t)},onDisposing:t=>{var{component:n}=t,i=n.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(i)},onFieldItemRendered:()=>{var t;(t=this._validationSummary)===null||t===void 0||t.refreshValidationGroup()}})},_renderLayoutManager:function(r,e){var t={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:$(t,e.colCountByScreen)});var n=E("<div>");n.appendTo(r);var i=this._createComponent(n,"dxLayoutManager",e);return i.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(i),i},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(r,e,t){return t=t||{},this._extendConfig(t,{readOnly:this.option("readOnly")}),this.callBase(r,e,t)},_attachSyncSubscriptions:function(){var r=this;r.on("optionChanged",function(e){var t=e.fullName;t==="formData"&&(L(e.value)||r._options.silent("formData",e.value={}),r._triggerOnFieldDataChangedByDataSet(e.value)),r._cachedLayoutManagers.length&&U(r._cachedLayoutManagers,function(n,i){t==="formData"&&(r._isDataUpdating=!0,i.option("layoutData",e.value),r._isDataUpdating=!1),(e.name==="readOnly"||e.name==="disabled")&&i.option(t,e.value)})})},_optionChanged:function(r){var e=r.fullName.split(".");e.length>1&&e[0].search("items")!==-1&&this._itemsOptionChangedHandler(r)||e.length>1&&e[0].search("formData")!==-1&&this._formDataOptionChangedHandler(r)||this._defaultOptionChangedHandler(r)},_defaultOptionChangedHandler:function(r){switch(r.name){case"formData":this.option("items")?go(r.value)&&this._clear():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":case"isDirty":break;case"width":this.callBase(r),this._rootLayoutManager.option(r.name,r.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":yr.removeGroup(r.previousValue||this),this._invalidate();break;default:this.callBase(r)}},_itemsOptionChangedHandler:function(r){var e=r.fullName.split("."),t=r.value,n=this._getItemPath(e),i=this.option(n),o=r.fullName.replace(n+".",""),a=o.split(".")[0].replace(/\[\d+]/,""),s=this._tryCreateItemOptionAction(a,i,i[a],r.previousValue,n),l=this._tryExecuteItemOptionAction(s)||this._tryChangeLayoutManagerItemOption(r.fullName,t);if(!l&&i){this._changeItemOption(i,o,t);var u=this._generateItemsFromData(this.option("items"));this.option("items",u),l=!0}return l},_formDataOptionChangedHandler:function(r){var e=r.fullName.split("."),t=r.value,n=e.slice(1).join("."),i=this.getEditor(n);return i?i.option("value",t):this._triggerOnFieldDataChanged({dataField:n,value:t}),!0},_tryCreateItemOptionAction:function(r,e,t,n,i){return r==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(i,".tabs")),t=this._prepareItems(t,!0,i,!0)),EAe(r,{item:e,value:t,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(r){return r&&r.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(r){var e=Zz(r);if(OPe.indexOf(e)>-1&&(yr.addGroup(this._getValidationGroup()),this.option("showValidationSummary"))){var t;(t=this._validationSummary)===null||t===void 0||t.refreshValidationGroup()}},_setLayoutManagerItemOption(r,e,t,n){if(this._updateLockCount>0){!r._updateLockCount&&r.beginUpdate();var i=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(i,()=>(!r._disposed&&r.endUpdate(),new X().resolve()))}var o=a=>{if(a.component.off("contentReady",o),O7(n)){var s=gAe(n),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(s);l&&this._alignLabelsInColumn({items:l.option("items"),layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};r.on("contentReady",o),r.option(e,t),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption(r,e){var t=r.split("."),n=Zz(r);if(n==="items"&&t.length>1){var i=this._getItemPath(t),o=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(i);if(o){this._itemsRunTimeInfo.removeItemsByItems(o.getItemsRunTimeInfo());var a=this._prepareItems(e,!1,i);return this._setLayoutManagerItemOption(o,n,a,i),!0}}else if(t.length>2){var s=t.length-2,l=this._getItemPath(t.slice(0,s)),u=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(u){var c=_m(t[s],n);if(n==="editorType"&&u.option(c)!==e)return!1;if(n==="visible"){var d=this.option(_m(l,"items"));if(d&&d.length){var h=u.option("items");d.forEach((p,f)=>{var v=h[f];v.visibleIndex=p.visibleIndex})}}return this._setLayoutManagerItemOption(u,c,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(r,e){var t;return this.beginUpdate(),U(e,(n,i)=>{if(t=this._tryChangeLayoutManagerItemOption(_m(r,n),i),!t)return!1}),this.endUpdate(),t},_getItemPath:function(r){var e=r[0],t;for(t=1;t<r.length&&r[t].search(/items\[\d+]|tabs\[\d+]/)!==-1;t++)e+="."+r[t];return e},_triggerOnFieldDataChanged:function(r){this._updateIsDirty(r.dataField),this._createActionByOption("onFieldDataChanged")(r)},_triggerOnFieldDataChangedByDataSet:function(r){var e=this;r&&pt(r)&&U(r,function(t,n){e._triggerOnFieldDataChanged({dataField:t,value:n})})},_updateFieldValue:function(r,e){if(L(this.option("formData"))){var t=this.getEditor(r);if(this.option("formData."+r,e),t){var n=t.option("value");n!==e&&t.option("value",e)}}},_generateItemsFromData:function(r){var e=this.option("formData"),t=[];return!r&&L(e)&&U(e,function(n){t.push({dataField:n})}),r&&U(r,function(n,i){pt(i)?t.push(i):t.push({dataField:i})}),t},_getItemByField:function(r,e){var t=this,n=pt(r)?r:t._getFieldParts(r),i=n.fieldName,o=n.fieldPath,a;return e.length&&U(e,function(s,l){var u=l.itemType;if(o.length){var c=o.slice();l=t._getItemByFieldPath(c,i,l)}else if(u==="group"&&!(l.caption||l.name)||u==="tabbed"&&!l.name){var d=t._getSubItemField(u);l.items=t._generateItemsFromData(l.items),l=t._getItemByField({fieldName:i,fieldPath:o},l[d])}if(vAe(l,i))return a=l,!1}),a},_getFieldParts:function(r){for(var e=r,t=e.indexOf("."),n=[];t!==-1;)n.push(e.substr(0,t)),e=e.substr(t+1),t=e.indexOf(".");return{fieldName:e,fieldPath:n.reverse()}},_getItemByFieldPath:function(r,e,t){var n=t.itemType,i=this._getSubItemField(n),o=n==="group"||n==="tabbed"||t.title,a;do if(o){var s=t.name||t.caption||t.title,l=L(s),u=VP(s),c=void 0;if(t[i]=this._generateItemsFromData(t[i]),l&&(c=r.pop()),!r.length&&(a=this._getItemByField(e,t[i]),a))break;(!l||l&&u===c)&&r.length&&(a=this._searchItemInEverySubItem(r,e,t[i]))}else break;while(r.length&&!L(a));return a},_getSubItemField:function(r){return r==="tabbed"?"tabs":"items"},_searchItemInEverySubItem:function(r,e,t){var n=this,i;return U(t,function(o,a){if(i=n._getItemByFieldPath(r.slice(),e,a),i)return!1}),i||(i=!1),i},_changeItemOption:function(r,e,t){pt(r)&&(r[e]=t)},_dimensionChanged:function(){var r=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==r&&(this._isColCountChanged(this._lastMarkupScreenFactor,r)&&(this._targetScreenFactor=r,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=r)},_isColCountChanged:function(r,e){var t=!1;return U(this._cachedColCountOptions,function(n,i){if(i.colCountByScreen[r]!==i.colCountByScreen[e])return t=!0,!1}),t},_refresh:function(){var r=".".concat(pU," > :not(.dx-dropdowneditor-input-wrapper) input,")+" .".concat(pU," textarea");B.trigger(this.$element().find(r),"change"),this.callBase()},_updateIsDirty:function(r){var e=this.getEditor(r);e&&(e.option("isDirty")?this._dirtyFields.add(r):this._dirtyFields.delete(r),this.option("isDirty",!!this._dirtyFields.size))},updateRunTimeInfoForEachEditor:function(r){this._itemsRunTimeInfo.each(function(e,t){var n=t.widgetInstance;L(n)&&qs.isEditor(n)&&r(n)})},_clear:function(){this.updateRunTimeInfoForEachEditor(r=>{r.clear(),r.option("isValid",!0)}),yr.resetGroup(this._getValidationGroup())},_updateData:function(r,e,t){var n=this,i=t?e:r;pt(i)?U(i,function(o,a){n._updateData(t?r+"."+o:o,a,pt(a))}):ft(r)&&n._updateFieldValue(r,e)},registerKeyHandler:function(r,e){this.callBase(r,e),this._itemsRunTimeInfo.each(function(t,n){L(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(r,e)})},_focusTarget:function(){return this.$element().find("."+BP+" [tabindex]").first()},_visibilityChanged:function(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),yr.removeGroup(this._getValidationGroup()),this.callBase()},clear:function(){this._clear()},resetValues:function(){this._clear()},reset:function(r){this.updateRunTimeInfoForEachEditor(e=>{var t=e.option("name");r&&t in r?e.reset(r[t]):e.reset()}),this._renderValidationSummary()},updateData:function(r,e){this._updateData(r,e)},getEditor:function(r){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(r)||this._itemsRunTimeInfo.findWidgetInstanceByName(r)},getButton:function(r){return this._itemsRunTimeInfo.findWidgetInstanceByName(r)},updateDimensions:function(){var r=this,e=new X;return r._scrollable?r._scrollable.update().done(function(){e.resolveWith(r)}):e.resolveWith(r),e.promise()},itemOption:function(r,e,t){var n=this._generateItemsFromData(this.option("items")),i=this._getItemByField(r,n),o=D7(n,i);if(i)switch(arguments.length){case 1:return i;case 3:var a=this._tryCreateItemOptionAction(e,i,t,i[e],o);this._changeItemOption(i,e,t);var s=_m(o,e);!this._tryExecuteItemOptionAction(a)&&!this._tryChangeLayoutManagerItemOption(s,t)&&this.option("items",n);break;default:if(pt(e)&&!this._tryChangeLayoutManagerItemOptions(o,e)){var l;U(e,(u,c)=>{var d=this._tryCreateItemOptionAction(u,i,c,i[u],o);this._changeItemOption(i,u,c),!l&&!this._tryExecuteItemOptionAction(d)&&(l=!0)}),l&&this.option("items",n)}}},validate:function(){return yr.validateGroup(this._getValidationGroup())},getItemID:function(r){return"dx_"+this.option("formID")+"_"+(r||new dn)},getTargetScreenFactor:function(){return this._targetScreenFactor}});Kt("dxForm",EN);var DPe=r=>class extends r{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isPopupEditMode(){var e=this.option("editing.mode");return e===yN}isFormEditMode(){var e=this.option("editing.mode");return e===Ov}getFirstEditableColumnIndex(){var e=this._firstFormItem;if(this.isFormEditMode()&&e){var t=this.option(pa),n=this._dataController.getRowIndexByKey(t),i=this._rowsView.getCellElements(n);return this._rowsView._getEditFormEditorVisibleIndex(i,e.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){var e=super._isEditColumnVisible(),t=this.option("editing");return this.isFormOrPopupEditMode()&&t.allowUpdating||e}_handleDataChanged(e){var t,n;if(this.isPopupEditMode()){var i=this.option("editing.editRowKey"),o=(t=e==null?void 0:e.items)===null||t===void 0?void 0:t.some(s=>Mr(s.key,i)),a=((n=e.changeTypes)===null||n===void 0?void 0:n.length)&&e.changeTypes.every(s=>s==="insert");(e.changeType==="refresh"||o&&e.isOptionChanged)&&!a&&this._repaintEditPopup()}super._handleDataChanged(e)}getPopupContent(){var e,t=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent}_showAddedRow(e){this.isPopupEditMode()?this._showEditPopup(e):super._showAddedRow(e)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(e,t,n){var i,o=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?((i=e.update)===null||i===void 0||i.call(e,e),this._rowsView.renderDelayedTemplates()):o&&(this._updateEditFormDeferred=new X().done(()=>o.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve()):super._updateEditRowCore(e,t,n)}_showEditPopup(e,t){var n=Ye.current().deviceType!=="desktop",i=this.addWidgetPrefix(gDe),o=$({showTitle:!1,fullScreen:n,wrapperAttr:{class:i},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(Zw));if(!this._editPopup){var a=E("<div>").appendTo(this.component.$element()).addClass(i);this._editPopup=this._createComponent(a,ql),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",s=>{var l;B.trigger(s.component.$content().find(CN).not(".".concat(_De)).first(),"focus"),t&&((l=this._editForm)===null||l===void 0||l.repaint())})}this._editPopup.option(o),this._editPopup.show(),super._showEditPopup(e,t)}_getPopupEditFormTemplate(e){var t=this.component.getVisibleRows()[e],n={row:t,values:t.values,rowType:t.rowType,key:t.key,rowIndex:e};return this._rowsView._addWatchMethod(n,t),i=>{var o=this.getEditFormTemplate(),a=this._createComponent(E("<div>").appendTo(i),Oa);this._$popupContent=E(a.content()),o(this._$popupContent,n,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates(),E(i).parent().attr("aria-label",this.localize("dxDataGrid-ariaEditForm"))}}_repaintEditPopup(){var e,t,n=this._getVisibleEditRowIndex();if(n>=0){var i=(e=this._editPopup)===null||e===void 0?void 0:e.option("animation");(t=this._editPopup)===null||t===void 0||t.option("animation",null),this._showEditPopup(n,!0),i!==void 0&&this._editPopup.option("animation",i)}}_hideEditPopup(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)}optionChanged(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){var{fullName:t}=e;t.indexOf(cO)===0?(this._handleFormOptionChange(e),e.handled=!0):t.indexOf(Zw)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}super.optionChanged(e)}_handleFormOptionChange(e){var t;if(this.isFormEditMode()){var n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else!((t=this._editPopup)===null||t===void 0)&&t.option("visible")&&e.fullName.indexOf(cO)===0&&this._repaintEditPopup()}_handlePopupOptionChange(e){var t=this._editPopup;if(t){var n=e.fullName.slice(Zw.length+1);n?t.option(n,e.value):t.option(e.value)}}renderFormEditorTemplate(e,t,n,i,o){var a=this,s=E(i),{column:l}=t,u=IDe(t),c=e==null?void 0:e.row.data,d=n.component,{label:h,labelMark:p,labelMode:f}=n.editorOptions||{},v=$({},e,{data:c,cellElement:null,isOnForm:!0,item:t,id:d.getItemID(t.name||t.dataField),column:$({},l,{editorType:u,editorOptions:$({label:h,labelMark:p,labelMode:f},l.editorOptions,t.editorOptions)}),columnIndex:l.index,setValue:!o&&l.allowEditing&&function(m,C){a.updateFieldValue(v,m,C)}});v.value=l.calculateCellValue(c);var g=this._getFormEditItemTemplate.bind(this)(v,l);return this._rowsView.renderTemplate(s,g,v,!!Nx(s)).done(()=>{this._rowsView._updateCell(s,v)}),v}getFormEditorTemplate(e,t){var n=this.component.columnOption(t.name||t.dataField);return(i,o)=>{var a=E(o),{row:s}=e;if(s!=null&&s.watch){var l=s.watch(()=>n.selector(s.data),()=>{var u=a.find(".dx-widget").first(),c=u.data("dxValidator"),d=c==null?void 0:c.option();a.contents().remove(),e=this.renderFormEditorTemplate.bind(this)(e,t,i,a),u=a.find(".dx-widget").first(),c=u.data("dxValidator"),d&&!c&&u.dxValidator({validationRules:d.validationRules,validationGroup:d.validationGroup,dataGetter:d.dataGetter})});B.on(a,yo,l)}e=this.renderFormEditorTemplate.bind(this)(e,t,i,a)}}getEditFormOptions(e){var t,n=(t=this._getValidationGroupsInForm)===null||t===void 0?void 0:t.call(this,e),i=this.option("editing.form.customizeItem"),o=this.addWidgetPrefix(S7),a=this.option("editing.form.items"),s={};if(a)E7(a,u=>{var c=(u==null?void 0:u.name)||(u==null?void 0:u.dataField);c&&(s[c]=!!u.editorType)});else{var l=this.getController("columns").getColumns();a=[],U(l,(u,c)=>{!c.isBand&&!c.type&&a.push({column:c,name:c.name,dataField:c.dataField})})}return $({},n,{items:a,formID:"dx-".concat(new dn),customizeItem:u=>{var c,d=u.name||u.dataField;if((u.column||d)&&(c=u.column||this._columnsController.columnOption(u.name?"name:".concat(u.name):"dataField:".concat(u.dataField))),c){if(u.label=u.label||{},u.label.text=u.label.text||c.caption,c.dataType==="boolean"&&u.label.visible===void 0){var h=this.option("editing.form.labelMode");(h==="floating"||h==="static")&&(u.label.visible=!0)}u.template=u.template||this.getFormEditorTemplate(e,u),u.column=c,u.isCustomEditorType=s[d],c.formItem&&$(u,c.formItem),u.isRequired===void 0&&c.validationRules&&(u.isRequired=c.validationRules.some(f=>f.type==="required"),u.validationRules=[]);var p=L(u.visible)?u.visible:!0;!this._firstFormItem&&p&&(this._firstFormItem=u)}i==null||i.call(this,u),u.cssClass=ft(u.cssClass)?"".concat(u.cssClass," ").concat(o):o}})}getEditFormTemplate(){return(e,t,n)=>{var i=this.option(cO),o=this.getEditFormOptions(t),a=E("<div>").appendTo(e),s=n==null?void 0:n.isPopupForm;if(this._firstFormItem=void 0,s&&a.addClass(this.addWidgetPrefix(mDe)),this._editForm=this._createComponent(a,EN,$({},i,o)),!s){var l=E("<div>").addClass(this.addWidgetPrefix(yDe)).appendTo(e);this._createComponent(E("<div>").appendTo(l),gi,this._getSaveButtonConfig()),this._createComponent(E("<div>").appendTo(l),gi,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var u;this._rowsView.renderDelayedTemplates(),(u=this._editPopup)===null||u===void 0||u.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()}_beforeEndSaving(e){var t;super._beforeEndSaving(e),this.isPopupEditMode()&&((t=this._editPopup)===null||t===void 0||t.hide())}_processDataItemCore(e,t,n,i,o){var{type:a}=t;this.isPopupEditMode()&&a===ul&&(e.visible=!1),super._processDataItemCore(e,t,n,i,o)}_editRowFromOptionChangedCore(e,t){var n=this.isPopupEditMode();super._editRowFromOptionChangedCore(e,t,n),n&&this._showEditPopup(t)}},APe={extenders:{controllers:{editing:DPe,data:{_updateEditItem(r){this._editingController.isFormEditMode()&&(r.rowType="detail")},_getChangedColumnIndices(r,e,t,n){if(!(n===!1&&e.isEditing&&this._editingController.isFormEditMode()))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent(r,e){e.rowType==="data"&&this._editingController.isPopupEditMode()&&e.row.visible===!1||this.callBase.apply(this,arguments)},getCellElements(r){var e=this.callBase(r),t=this._editingController,n=t.getEditForm(),i=t.getEditFormRowIndex();return i===r&&e&&n?n.$element().find(".".concat(this.addWidgetPrefix(S7),", .").concat(CDe)):e},_getVisibleColumnIndex(r,e,t){var n=this._editingController.getEditFormRowIndex();if(n===e&&ft(t)){var i=this._columnsController.columnOption(t);return this._getEditFormEditorVisibleIndex(r,i)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex(r,e){var t=-1;return U(r,(n,i)=>{var o=E(i).find(".dx-field-item-content").data("dx-form-item");if(o!=null&&o.column&&e&&o.column.index===e.index)return t=n,!1}),t},_isFormItem(r){var e=r.rowType==="detail"||r.rowType==="detailAdaptive",t=r.rowType==="data"&&this._editingController.isPopupEditMode();return(e||t)&&r.item},_updateCell(r,e){this._isFormItem(e)?this._formItemPrepared(e,r):this.callBase(r,e)},_updateContent(){var r=this._editingController,e=r.getEditForm(),t=e==null?void 0:e.option("validationGroup"),n=this.callBase.apply(this,arguments);return n.done(()=>{var i=r.getEditForm();t&&i&&i!==e&&i.option("validationGroup",t)})}}}}};at.registerModule("editingFormBased",APe);var PPe=r=>class extends r{init(){var e=!this._saveEditorHandler;if(super.init(),e){var t,n;this._pointerUpEditorHandler=()=>{var i;n=(i=this.getController("columnsResizer"))===null||i===void 0?void 0:i.isResizing()},this._pointerDownEditorHandler=i=>t=E(i.target),this._saveEditorHandler=this.createAction(function(i){var{event:o}=i,a=E(o.target),s=o[_7],{component:l}=this;if(xDe(t)&&!t.is(a))return;function u(v){if(!v)return!1;var g=v.closest(".".concat(hDe)),m=l.$element();return g.length>0&&m.closest(g).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){var c=u(a)||u(s==null?void 0:s.$element()),d=s&&!s._disposed&&s!==this.component,h=!!a.closest(".".concat(this.addWidgetPrefix(dDe))).length,p=a.hasClass(this.addWidgetPrefix(cDe)),f=this.isCellEditMode();!n&&!c&&!p&&!(h&&f&&this.isEditing())&&(Nx(a)||d)&&this._closeEditItem.bind(this)(a)}}),B.on(ce.getDocument(),Yt.up,this._pointerUpEditorHandler),B.on(ce.getDocument(),Yt.down,this._pointerDownEditorHandler),B.on(ce.getDocument(),sr,this._saveEditorHandler)}}isCellEditMode(){return this.option("editing.mode")===av}isBatchEditMode(){return this.option("editing.mode")===jh}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(e){var t,n=this.component.$element(),i=this.isEditing(),o=!n||!!e.closest(n).length;if(o){var a=e.closest(".".concat(pDe)).length;if(a){var s=this.getView("rowsView"),l=e.closest(".".concat(Ec,"> td")),u=s.getRowIndex(l.parent()),c=s.getCellElements(u);if(c!=null&&c.length){var d=c.index(l),h=this._columnsController.getVisibleColumns(),p=(t=h[d])===null||t===void 0?void 0:t.allowEditing,f=this.isEditCell(u,d);i=i&&!p&&!f}}}return i||super._needToCloseEditableCell(e)}_closeEditItem(e){this._needToCloseEditableCell(e)&&this.closeEditCell()}_focusEditorIfNeed(){var e;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var t=this._getVisibleEditColumnIndex(),n=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),t);n&&!n.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},n,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){var e=L(this.option(pa)),t=L(this.option(ah));return e&&t}return super.isEditing()}_handleEditColumnNameChange(e){var t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&t!==-1&&L(e.value)&&e.value!==e.previousValue){var n=this._columnsController.getVisibleColumnIndex(e.value),i=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,i,t)}}_addRow(e){if(this.isCellEditMode()&&this.hasChanges()){var t=new X;return this.saveEditData().done(()=>{this.hasChanges()?t.reject("cancel"):this.addRow(e).done(t.resolve).fail(t.reject)}),t.promise()}return super._addRow(e)}editCell(e,t){return this._editCell({rowIndex:e,columnIndex:t})}_editCell(e){var t=new X,n;return this.executeOperation(t,()=>{n=this._editCellCore(e),$e(n).done(t.resolve).fail(t.reject)}),n!==void 0?n:t.promise()}_editCellCore(e){var t=this._dataController,n=L(e.oldColumnIndex)||L(e.oldRowIndex),{columnIndex:i,rowIndex:o,column:a,item:s}=this._getNormalizedEditCellOptions(e),l={data:s==null?void 0:s.data,cancel:!1,column:a};if(s.key===void 0){this._dataController.fireError("E1043");return}if(a&&(s.rowType==="data"||s.rowType==="detailAdaptive")&&!s.removed&&this.isCellOrBatchEditMode()){if(!n&&this.isEditCell(o,i))return!0;var u=o+t.getRowIndexOffset();return $e(this._beforeEditCell(o,i,s)).done(c=>{c||this._prepareEditCell(l,s,i,u)||this._processCanceledEditingCell()})}return!1}_beforeEditCell(e,t,n){if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){var i=new X;return this.saveEditData().always(()=>{i.resolve(this.hasChanges())}),this.addDeferred(i),i}return!1}publicMethods(){var e=super.publicMethods();return e.concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(e){var{oldColumnIndex:t,oldRowIndex:n,columnIndex:i,rowIndex:o}=e,a=this._columnsController,s=a.getVisibleColumns(),l=this._dataController.items(),u=l[o],c;L(t)?c=s[t]:c=this._getEditColumn(),L(n)||(n=this._getVisibleEditRowIndex()),ft(i)&&(i=a.columnOption(i,"index"),i=a.getVisibleIndex(i));var d=s[i];return{oldColumn:c,columnIndex:i,oldRowIndex:n,rowIndex:o,column:d,item:u}}_prepareEditCell(e,t,n,i){var o;return t.isNewRow||(e.key=t.key),this._isEditingStart(e)?!1:(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:t.key,oldData:(o=t.oldData)!==null&&o!==void 0?o:t.data}),!0)}closeEditCell(e,t){var n=$e(),i=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var o=new X;n=new X,this.executeOperation(o,()=>{this._closeEditCellCore(e,i,t).always(n.resolve)})}return n.promise()}_closeEditCellCore(e,t,n){var i=this._dataController,o=new X,a=o.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done(l=>{if(!this.hasChanges()){this.closeEditCell(!!l).always(o.resolve);return}o.resolve()}),a}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){var s=[t];this._beforeCloseEditCellInBatchMode(s),e||i.updateItems({changeType:"update",rowIndices:s})}return o.resolve(),a}_resetModifiedClassCells(e){if(this.isBatchEditMode()){var t=this._columnsController.getVisibleColumns().length;e.forEach(n=>{for(var{key:i}=n,o=this._dataController.getRowIndexByKey(i),a=0;a<t;a++){var s=this._rowsView._getCellElement(o,a);s==null||s.removeClass(WOe)}})}}_prepareChange(e,t,n){var i=E(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(i,e),super._prepareChange(e,t,n)}_cancelSaving(e){var t=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),t.updateItems()),super._cancelSaving(e)}optionChanged(e){var{fullName:t}=e;e.name==="editing"&&t===ah?(this._handleEditColumnNameChange(e),e.handled=!0):super.optionChanged(e)}_editCellFromOptionChanged(e,t,n){var i=this._columnsController.getVisibleColumns();e>-1&&jn(()=>{this._repaintEditCell(i[e],i[t],n)})}_handleEditRowKeyChange(e){var t;if(this.isCellOrBatchEditMode()){var n=this._getVisibleEditColumnIndex(),i=this._getEditRowIndexCorrection(),o=this._dataController.getRowIndexByKey(e.previousValue)+i;L(e.value)&&e.value!==e.previousValue&&((t=this._editCellFromOptionChanged)===null||t===void 0||t.call(this,n,n,o))}else super._handleEditRowKeyChange(e)}deleteRow(e){if(this.isCellEditMode()&&this.isEditing()){var{isNewRow:t}=this._dataController.items()[e],n=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,t).always(()=>{e=this._dataController.getRowIndexByKey(n),this._checkAndDeleteRow(e)})}else super.deleteRow(e)}_checkAndDeleteRow(e){this.isBatchEditMode()?this._deleteRowCore(e):super._checkAndDeleteRow(e)}_refreshCore(e){var{isPageChanged:t}=e??{},n=this.isBatchEditMode()||t&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?n&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(e)}_allowRowAdding(e){return this.isBatchEditMode()?!0:super._allowRowAdding(e)}_afterDeleteRow(e,t){var n=this._dataController;return this.isBatchEditMode()?(n.updateItems({changeType:"update",rowIndices:[t,e]}),new X().resolve()):super._afterDeleteRow(e,t)}_updateEditRow(e,t,n){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,t,n):super._updateEditRow(e,t,n)}_isDefaultButtonVisible(e,t){if(this.isCellOrBatchEditMode()){var n=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(e,t)&&(!n||!t.row.removed);case"undelete":return n&&this.allowDeleting(t)&&t.row.removed;default:return super._isDefaultButtonVisible(e,t)}}return super._isDefaultButtonVisible(e,t)}_isRowDeleteAllowed(){var e=super._isRowDeleteAllowed();return e||this.isBatchEditMode()}_beforeEndSaving(e){var t;this.isCellEditMode()?((t=e[0])===null||t===void 0?void 0:t.type)!=="update"&&super._beforeEndSaving(e):(this.isBatchEditMode()&&this._resetModifiedClassCells(e),super._beforeEndSaving(e))}prepareEditButtons(e){var t,n=(t=this.option("editing"))!==null&&t!==void 0?t:{},i=super.prepareEditButtons(e),o=n.allowUpdating||n.allowAdding||n.allowDeleting;return o&&this.isBatchEditMode()&&(i.push(this.prepareButtonItem(e,"save","saveEditData",21)),i.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),i}_saveEditDataInner(){var e=this._dataController.getVisibleRows()[this.getEditRowIndex()],t=this._getEditColumn(),n=t==null?void 0:t.showEditorAlways,i=this.isCellEditMode()&&!(e!=null&&e.isNewRow),o;return i&&n&&(o=new X,this.addDeferred(o)),super._saveEditDataInner().always(o==null?void 0:o.resolve)}_applyChange(e,t,n){var i=this.isCellEditMode()&&e.row&&!e.row.isNewRow,{showEditorAlways:o}=e.column,a=e.column.setCellValue!==e.column.defaultSetCellValue,s=o&&!n&&i&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex);if(s){this._focusEditingCell(),this._updateEditRow(e.row,!0,a);return}return super._applyChange(e,t,n)}_applyChangeCore(e,t){var{showEditorAlways:n}=e.column,i=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(n&&!t){if(i)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return t=this._needUpdateRow(e.column),super._applyChangeCore(e,t)}return super._applyChangeCore(e,t)}_processDataItemCore(e,t,n,i,o){var{data:a,type:s}=t;this.isBatchEditMode()&&s===ou&&(e.data=Lc(e.data,a)),super._processDataItemCore(e,t,n,i,o)}_processRemoveCore(e,t,n){if(!(this.isBatchEditMode()&&!n))return super._processRemoveCore(e,t,n)}_processRemoveIfError(e,t){if(!this.isBatchEditMode())return super._processRemoveIfError(e,t)}_beforeFocusElementInRow(e){super._beforeFocusElementInRow(e);var t=e>=0?e:0,n=this.getFirstEditableColumnIndex();n>=0&&this.editCell(t,n)}},MPe={extenders:{controllers:{editing:PPe},views:{rowsView:{_createTable(){var r=this.callBase.apply(this,arguments),e=this._editingController;return e.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&B.on(r,fe(rd.name,"dxDataGridRowsView"),"td:not(.".concat(d0,")"),this.createAction(()=>{e.isEditing()&&e.closeEditCell()})),r},_createRow(r){var e=this.callBase.apply(this,arguments);if(r){var t=this._editingController,n=!!r.removed;t.isBatchEditMode()&&n&&e.addClass(fDe)}return e}},headerPanel:{isVisible(){var r=this.getController("editing").option("editing");return this.callBase()||r&&(r.allowUpdating||r.allowDeleting)&&r.mode===jh}}}}};at.registerModule("editingCellBased",MPe);var G7="invalid",mO="revert-tooltip",fU="dx-invalid-message",vU="dxInvalidMessage",_O="invalid-message",gU="dx-invalid-message-always",FPe="dx-revert-button",mU="dxRevertButton",$7="validator",CO="dx-pending-indicator",_U="dx-validation-pending",CU="content",yU="__DX_INSERT_INDEX__",LPe=2,W7="row",NPe="form",bS="batch",_f="cell",kPe="popup",VPe="dx-group-cell",z7=[kPe,NPe],BPe="transparent",ko={valid:"valid",invalid:"invalid",pending:"pending"},Cm="insert",HPe="remove",ym="cancel",Sm=function(r){return L(r)&&r!==ym},SU=function(r,e){return r!==void 0||r===void 0&&e&&!e.isNewRow},GPe=kr.Controller.inherit({init(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState(){this._validationState=[],this._validationStateCache={}},_rowIsValidated(r){var e=this._getValidationData(r==null?void 0:r.key);return!!e&&!!e.validated},_getValidationData(r,e){var t=Vl(r),n=pt(t),i;return n?i=this._validationState.filter(o=>Mr(o.key,r))[0]:i=this._validationStateCache[t],!i&&e&&(i={key:r,isValid:!0},this._validationState.push(i),n||(this._validationStateCache[t]=i)),i},_getBrokenRules(r,e){var t;return e?t=e.brokenRules||e.brokenRule&&[e.brokenRule]:t=r.brokenRules||[],t},_rowValidating(r,e){var t=new X,n=this._editingController.getChangeByKey(r==null?void 0:r.key),i=this._getBrokenRules(r,e),o=e?e.isValid:r.isValid,a={brokenRules:i,isValid:o,key:n.key,newData:n.data,oldData:this._editingController._getOldData(n.key),promise:null,errorText:this.getHiddenValidatorsErrorText(i)};return this.executeAction("onRowValidating",a),$e(ui(a.promise)).always(()=>{r.isValid=a.isValid,r.errorText=a.errorText,t.resolve(a)}),t.promise()},getHiddenValidatorsErrorText(r){var e=[];return U(r,(t,n)=>{var{column:i}=n,o=i&&i.groupIndex!==void 0&&!i.showWhenGrouped,a=i&&i.visible;!n.validator.$element().parent().length&&(!a||o)&&e.push(n.message)}),e.join(", ")},validate(r){var e=!0,t=this._editingController,n=new X,i=[],o=t.getEditMode();if(r=r||o===W7,this._isValidationInProgress)return n.resolve(!1).promise();if(this._isValidationInProgress=!0,r){t.addDeferred(n);var a=t.getChanges();U(a,(l,u)=>{var{type:c,key:d}=u;if(c!=="remove"){var h=this._getValidationData(d,!0),p=this.validateGroup(h);i.push(p),p.done(f=>{h.validated=!0,e=e&&f.isValid})}})}else if(this._currentCellValidator){var s=this.validateGroup(this._currentCellValidator._findGroup());i.push(s),s.done(l=>{e=l.isValid})}return $e(...i).done(()=>{this._isValidationInProgress=!1,n.resolve(e)}),n.promise()},validateGroup(r){var e=new X,t=r&&yr.getGroupConfig(r),n;return t!=null&&t.validators.length&&(this.resetRowValidationResults(r),n=yr.validateGroup(r)),$e((n==null?void 0:n.complete)||n).done(i=>{$e(this._rowValidating(r,i)).done(e.resolve)}),e.promise()},isRowDataModified:r=>!go(r.data),updateValidationState(r){var e=this._editingController.getEditMode(),{key:t}=r,n=this._getValidationData(t,!0);if(z7.includes(e))n.isValid=!0;else{if(r.type===Cm&&!this.isRowDataModified(r)){n.isValid=!0;return}this.setDisableApplyValidationResults(!0);var i=yr.getGroupConfig(n);if(i){var o=yr.validateGroup(n);$e(o.complete||o).done(a=>{n.isValid=a.isValid,n.brokenRules=a.brokenRules})}else(!n.brokenRules||!n.brokenRules.length)&&(n.isValid=!0);this.setDisableApplyValidationResults(!1)}},setValidator(r){this._currentCellValidator=r},renderCellPendingIndicator(r){var e=r.find(".".concat(CO));if(!e.length){var t=r;e=E("<div>").appendTo(t).addClass(CO),this._createComponent(e,Ra),r.addClass(_U)}},disposeCellPendingIndicator(r){var e=r.find(".".concat(CO));if(e.length){var t=Ra.getInstance(e);t&&(t.dispose(),t.$element().remove()),r.removeClass(_U)}},validationStatusChanged(r){var{validator:e}=r,t=e.option("validationGroup"),{column:n}=e.option("dataGetter")();this.updateCellValidationResult({rowKey:t.key,columnIndex:n.index,validationResult:r})},validatorInitialized(r){r.component.on("validating",this.validationStatusChanged.bind(this)),r.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing(r){var e=r.component,t=e.option("validationGroup"),{column:n}=e.option("dataGetter")(),i=this.getCellValidationResult({rowKey:t==null?void 0:t.key,columnIndex:n.index});Sm(i)&&i.status===ko.pending&&this.cancelCellValidationResult({change:t,columnIndex:n.index})},applyValidationResult(r,e){var{validator:t}=e,n=t.option("validationGroup"),{column:i}=t.option("dataGetter")();if(e.brokenRules&&e.brokenRules.forEach(u=>{u.columnIndex=i.index,u.column=i}),r){var o=this.getCellValidationResult({rowKey:n.key,columnIndex:i.index}),a=Sm(o)&&o.disabledPendingId===e.id;if(this._disableApplyValidationResults||a)return;if(e.status===ko.invalid){var s=r.find(":focus");Jc(s)||(B.trigger(s,"focus"),B.trigger(s,Yt.down))}var l=!i.editCellTemplate&&this.getController("editorFactory").getEditorInstance(r);e.status===ko.pending?l?l.option("validationStatus",ko.pending):this.renderCellPendingIndicator(r):l?l.option("validationStatus",ko.valid):this.disposeCellPendingIndicator(r),r.toggleClass(this.addWidgetPrefix(G7),e.status===ko.invalid)}},_syncInternalEditingData(r){var e,t=this._editingController,n=t.getChangeByKey(r.key),i=t._getOldData(r.key),o=(e=r.row)===null||e===void 0?void 0:e.oldData;n&&o&&!i&&t._addInternalData({key:r.key,oldData:o})},createValidator(r,e){var t,n,i=this._editingController,{column:o}=r,{showEditorAlways:a}=o;if(!(L(o.command)||!o.validationRules||!Array.isArray(o.validationRules)||!o.validationRules.length)){var s=i.getIndexByKey(r.key,i.getChanges()),l=s>-1;if(!l){if(!a){var u=this.getController("columns"),c=(u==null?void 0:u.getVisibleColumns())||[];a=c.some(w=>w.showEditorAlways)}var d=Mr(this.option("editing.editRowKey"),r.key),h=i.isCellOrBatchEditMode()&&i.allowUpdating({row:r.row});l=d||h&&a,h&&a&&i._addInternalData({key:r.key,oldData:(n=(t=r.row)===null||t===void 0?void 0:t.oldData)!==null&&n!==void 0?n:r.data})}if(l){if(e&&!e.length){Ht.log("E1050");return}this._syncInternalEditingData(r);var p=this._getValidationData(r.key,!0),f=()=>{var w=i.getChangeByKey(p==null?void 0:p.key),T=o.calculateCellValue((w==null?void 0:w.data)||{});return T!==void 0?T:r.value},v=e&&e.hasClass("dx-widget");e&&e.addClass(this.addWidgetPrefix($7));var g=new h0(e||E("<div>"),{name:o.caption,validationRules:$(!0,[],o.validationRules),validationGroup:p,adapter:v?null:{getValue:f,applyValidationResults:w=>{this.applyValidationResult(e,w)}},dataGetter(){var w=p==null?void 0:p.key,T=i.getChangeByKey(w),S=i._getOldData(w);return{data:Lc(S,T==null?void 0:T.data),column:o}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(v){var m=g.option("adapter");if(m){var C=m.bypass,y=()=>r.row.isNewRow&&!this._isValidationInProgress&&!i.isCellModified(r);m.getValue=f,m.validationRequestsCallbacks=[],m.bypass=()=>C.call(m)||y()}}return g}}},setDisableApplyValidationResults(r){this._disableApplyValidationResults=r},getDisableApplyValidationResults(){return this._disableApplyValidationResults},isCurrentValidatorProcessing(r){var{rowKey:e,columnIndex:t}=r;return this._currentCellValidator&&Mr(this._currentCellValidator.option("validationGroup").key,e)&&this._currentCellValidator.option("dataGetter")().column.index===t},validateCell(r){var e={rowKey:r.option("validationGroup").key,columnIndex:r.option("dataGetter")().column.index},t=this.getCellValidationResult(e),n=Sm(t),i=r.option("adapter");if(!n)t=r.validate();else{var o=i.getValue();Mr(o,t.value)||(t=r.validate())}var a=new X;return n&&t.status===ko.pending&&(this.updateCellValidationResult(e),i.applyValidationResults(t)),$e(t.complete||t).done(s=>{n&&i.applyValidationResults(s),a.resolve(s)}),a.promise()},updateCellValidationResult(r){var{rowKey:e,columnIndex:t,validationResult:n}=r,i=this._getValidationData(e);if(i){i.validationResults||(i.validationResults={});var o;if(n){if(o=$({},n),i.validationResults[t]=o,n.status===ko.pending&&(this._editingController.getEditMode()===_f&&(o.deferred=new X,o.complete.always(()=>{o.deferred.resolve()}),this._editingController.addDeferred(o.deferred)),this._disableApplyValidationResults)){o.disabledPendingId=n.id;return}}else o=i.validationResults[t];o&&o.disabledPendingId&&delete o.disabledPendingId}},getCellValidationResult(r){var{rowKey:e,columnIndex:t}=r,n,i=this._getValidationData(e,!0);return(n=i==null?void 0:i.validationResults)===null||n===void 0?void 0:n[t]},removeCellValidationResult(r){var{change:e,columnIndex:t}=r,n=this._getValidationData(e==null?void 0:e.key);n&&n.validationResults&&(this.cancelCellValidationResult({change:e,columnIndex:t}),delete n.validationResults[t])},cancelCellValidationResult(r){var{change:e,columnIndex:t}=r,n=this._getValidationData(e.key);if(e&&n.validationResults){var i=n.validationResults[t];i&&(i.deferred&&i.deferred.reject(ym),n.validationResults[t]=ym)}},resetRowValidationResults(r){r&&(r.validationResults&&delete r.validationResults,delete r.validated)},isInvalidCell(r){var{rowKey:e,columnIndex:t}=r,n=this.getCellValidationResult({rowKey:e,columnIndex:t});return Sm(n)&&n.status===ko.invalid},getCellValidator(r){var{rowKey:e,columnIndex:t}=r,n=this._getValidationData(e),i=n&&yr.getGroupConfig(n),o=i&&i.validators;return o&&o.filter(a=>{var{column:s}=a.option("dataGetter")();return s?s.index===t:!1})[0]},setCellValidationStatus(r){var e=this.getCellValidationResult({rowKey:r.key,columnIndex:r.column.index});L(e)?r.validationStatus=e!==ym?e.status:ym:delete r.validationStatus}}),$Pe={defaultOptions:()=>({editing:{texts:{validationCancelChanges:J.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:GPe},extenders:{controllers:{editing:{_addChange(r){var e=this.callBase.apply(this,arguments),t=this.getController("validating");return e&&r.type!==HPe&&t.updateValidationState(e),e},_handleChangesChange(r){this.callBase.apply(this,arguments);var e=this.getController("validating");r.value.forEach(t=>{e._getValidationData(t.key)===void 0&&e.updateValidationState(t)})},_updateRowAndPageIndices(){var r=this,e=r.getView("rowsView").getTopVisibleItemIndex(),t=e;U(r.getChanges(),(n,i)=>{var{key:o,type:a}=i,s=this.getController("validating")._getValidationData(o);s&&!s.isValid&&s.pageIndex!==r._pageIndex&&(s.pageIndex=r._pageIndex,a===Cm?s.rowIndex=e:s.rowIndex=t,t++)})},_getValidationGroupsInForm(r){var e=this.getController("validating"),t=e._getValidationData(r.key,!0);return{validationGroup:t}},_validateEditFormAfterUpdate(r,e){e&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell(r){var e=this.callBase.apply(this,arguments),t=this.getController("validating");return e&&r.column.showEditorAlways&&t.updateValidationState({key:r.key}),e},processItems(r,e){var t=this.getChanges(),n=this.getController("data"),i=this.getController("validating");r=this.callBase(r,e);var o=r.length,a=function(s,l){var u={key:s.key},c=function(h,p){var f=-1,v=h.type===Cm,{key:g}=h;return U(p,(m,C)=>{if(Mr(g,v?C.key:n.keyOf(C)))return f=m,!1}),f}(s,r);if(!(c>=0)){l.rowIndex=l.rowIndex>o?l.rowIndex%o:l.rowIndex;var{rowIndex:d}=l;u[yU]=1,r.splice(d,0,u)}};return this.getEditMode()===bS&&e!=="prepend"&&e!=="append"&&t.forEach(s=>{var{key:l}=s,u=i._getValidationData(l);u&&s.type&&u.pageIndex===this._pageIndex&&(s==null?void 0:s.pageIndex)!==this._pageIndex&&a(s,u)}),r},processDataItem(r){var e=r.data[yU],t=e?r.data.key:r.key,n=this.getEditMode();if(n===bS&&e&&t){var i=this.getChanges(),o=ye.getIndexByKey(t,i);if(o>=0){var a=i[o];if(a.type!==Cm){var s=this._getOldData(a.key);r.data=$(!0,{},s,a.data),r.key=t}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators(r){var e=this,t=this.getController("validating"),n=this.getController("columns"),i=n.getColumns(),o=n.getInvisibleColumns().filter(u=>!u.isBand),a=n.getGroupColumns().filter(u=>!u.showWhenGrouped&&o.indexOf(u)===-1),s=[],l=(u,c)=>this._dataController.getRowIndexByKey(c)>=0&&o.indexOf(u)<0;return o.push(...a),z7.includes(this.getEditMode())||U(i,(u,c)=>{r.forEach(d=>{var h;if(!l(c,d.key)){if(d.type===Cm)h=d.data;else if(d.type==="update"){var p=e._getOldData(d.key);if(!L(p))return;h=Lc(p,d.data)}if(h){var f=t.createValidator({column:c,key:d.key,value:c.calculateCellValue(h)});f&&s.push(f)}}})}),function(){s.forEach(u=>{u.dispose()})}},_beforeSaveEditData(r,e){var t=this.callBase.apply(this,arguments),n=this.getController("validating"),i=n._getValidationData(r==null?void 0:r.key);if(r){var o=r.type==="remove"||i.isValid;t=t||!o}else{var a=this._createInvisibleColumnValidators(this.getChanges());t=new X,this.executeOperation(t,()=>{n.validate(!0).done(s=>{switch(a(),this._updateRowAndPageIndices(),this.getEditMode()){case _f:s||this._focusEditingCell();break;case bS:s||(this._resetEditRowKey(),this._resetEditColumnName(),this.getController("data").updateItems())}t.resolve(!s)})})}return t.promise?t.promise():t},_beforeEditCell(r,e,t){var n=this.callBase(r,e,t);if(this.getEditMode()===_f){var i=this._rowsView._getCellElement(r,e),o=i&&i.data("dxValidator"),a=i&&i.closest(".dx-row").data("options"),s=o&&o.option("adapter").getValue();if(o&&SU(s,a)){var l=this.getController("validating"),u=new X;return $e(l.validateCell(o),n).done((c,d)=>{u.resolve(c.status===ko.valid&&d)}),u.promise()}if(!o)return n}return!1},_afterSaveEditData(r){var e,t=this.getEditMode()===_f;if(U(this.getChanges(),(l,u)=>{var c=this._showErrorRow(u);e=e||c}),e){var n=this._rowsView.getScrollable();n&&(n.update(),n.scrollToElement(e))}if(r&&t&&this._needUpdateRow()){var i=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[i]}),this._focusEditingCell()}else if(!r){var o=!0;if(t){var a=this.getController("columns").getColumns(),s=a.filter(l=>{var u;return l.showEditorAlways&&((u=l.validationRules)===null||u===void 0?void 0:u.length)>0}).length>0;o=!s}o&&this.getController("validating").initValidationState()}},_handleDataChanged(r){var e=this.getController("validating")._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),r.changeType==="prepend"&&U(e,(t,n)=>{n.rowIndex+=r.items.length}),this.callBase(r)},resetRowAndPageIndices(){var r=this.getController("validating")._validationState;U(r,(e,t)=>{t.pageIndex!==this._pageIndex&&(delete t.pageIndex,delete t.rowIndex)})},_beforeCancelEditData(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow(r){var e,t=this.getController("errorHandling"),n=this.getController("data").items(),i=this.getIndexByKey(r.key,n),o=this.getController("validating")._getValidationData(r.key);if(!(o!=null&&o.isValid)&&(o!=null&&o.errorText)&&i>=0)return e=this.getPopupContent(),t&&t.renderErrorRow(o==null?void 0:o.errorText,i,e)},updateFieldValue(r){var e=this.getController("validating"),t=new X;return e.removeCellValidationResult({change:this.getChangeByKey(r.key),columnIndex:r.column.index}),this.callBase.apply(this,arguments).done(()=>{var n=e.getCellValidator({rowKey:r.key,columnIndex:r.column.index});$e(n&&e.validateCell(n)).done(i=>{this.getController("editorFactory").refocus(),t.resolve(i)})}),t.promise()},highlightDataCell(r,e){this.callBase.apply(this,arguments);var t=this.getController("validating");t.setCellValidationStatus(e);var n=!!e.setValue,i=this.isCellModified(e),o=L(e.validationStatus),a=i&&e.column.setCellValue||n&&!i&&!(e.row.isNewRow||!o);if(a){var s=r.data("dxValidator");s&&$e(this.getController("validating").validateCell(s)).done(()=>{t.setCellValidationStatus(e)})}},getChangeByKey(r){var e=this.getChanges();return e[ye.getIndexByKey(r,e)]},isCellModified(r){var e=this.callBase(r),t=this.getChangeByKey(r.key),n=!!r.row&&this.getController("validating").isInvalidCell({rowKey:r.key,columnIndex:r.column.index});return e||this.getController("validating")._rowIsValidated(t)&&n}},editorFactory:{_showRevertButton(r){var e,t=(e=this._revertTooltip)===null||e===void 0?void 0:e.$element();if(!r||!r.length){t==null||t.remove(),this._revertTooltip=void 0;return}if(!r.find(t).length){var n=r.closest(".".concat(this.addWidgetPrefix(CU))).parent(),i=this.addWidgetPrefix(mO);t==null||t.remove(),t=E("<div>").addClass(i).appendTo(r);var o={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:n,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:i},contentTemplate:()=>{var a=E("<div>").addClass(FPe),s={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),elementAttr:{id:mU,"aria-label":J.format("dxDataGrid-ariaRevertButton")},onClick:()=>{this._editingController.cancelEditData()}};return new gi(a,s).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:r},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new Ks(t,o)}},_hideFixedGroupCell(r,e){var t,n,i=this._rowsView.isFixedColumns(),o=this._editingController.isFormOrPopupEditMode();if(i&&!o){var a=r.closest(".dx-row").next().data("options");a&&a.rowType==="group"&&(t=E(this._rowsView.getRowElement(a.rowIndex)).last(),n=t.find(".".concat(VPe)),n.length&&n.get(0).style.visibility!=="hidden"&&(n.css("visibility","hidden"),e.onDisposing=function(){n.css("visibility","")}))}},_positionedHandler(r,e){if(!r.component.__skipPositionProcessing){var t=E(r.element).hasClass(this.addWidgetPrefix(mO)),n=!t&&this._rowsView.updateFreeSpaceRowHeight(),i=this._normalizeValidationMessagePositionAndMaxWidth(r,t,e);r.component.__skipPositionProcessing=!!(n||i),i?r.component.option(i):n&&r.component.repaint()}},_showValidationMessage(r,e,t){var n,i=r.find(".dx-dropdowneditor-overlay").data("dxPopup"),o=i&&i.option("visible"),a=o?"top right":"top ".concat(t),s=o?"top left":"bottom ".concat(t),l=((n=this._columnsController.getFixedColumns())===null||n===void 0?void 0:n.length)>0,u=l?this.getView("rowsView").element():r.closest(".".concat(this.addWidgetPrefix(CU))),c="";e&&e.forEach(f=>{c+=(c.length?"<br/>":"")+lq(f)});var d=this.addWidgetPrefix(_O);this._rowsView.element().find(".".concat(d)).remove();var h=E("<div>").addClass(fU).addClass(gU).addClass(d).html(c).appendTo(r),p={container:u,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{id:vU,class:"".concat(fU," ").concat(gU," ").concat(d)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!o&&Gr.mozilla?-1:0},my:a,at:s,of:r},onPositioned:f=>{this._positionedHandler(f,o),this._shiftValidationMessageIfNeed(f.component.$content(),r)}};this._hideFixedGroupCell(r,p),new Ks(h,p)},_hideValidationMessage(){var r,e=(r=this._rowsView.element())===null||r===void 0?void 0:r.find(this._getValidationMessagesSelector());e==null||e.remove()},_normalizeValidationMessagePositionAndMaxWidth(r,e,t){var n=this._columnsController.getFixedColumns();if(!(!n||!n.length)){var i,o=!e&&(a=this,s=r.element,l=E(s).closest("tr").index(),u=E(a._rowsView.getRowElement(l)).first().children().filter(":not(.dx-hidden-cell)"),a._rowsView._getWidths(u).reduce((v,g)=>v+g,0)),a,s,l,u,c=r.component.$content(),d=er(c,!0),h=!e&&d>o,p=this._rowsView.getCellIndex(E(r.element).closest("td")),f=function(v){var g,m;return v.some((C,y)=>{if(C.command===BPe)return g=y===0?-1:y,m=y===v.length-1?-1:y+C.colspan-1,!0}),{startColumnIndex:g,endColumnIndex:m}}(n);return!e&&(p===f.startColumnIndex||h)?i={collision:"none flip",my:"top left",at:t?"top right":"bottom left"}:p===f.endColumnIndex&&(i={collision:"none flip",my:"top right",at:e||t?"top left":"bottom right"},e&&(i.offset="-1 0")),i&&{position:i,maxWidth:h?o-2:void 0}}},_shiftValidationMessageIfNeed(r,e){var t=this._revertTooltip&&this._revertTooltip.$content();if(t){var n=r.offset(),i=t.offset();if(n.top===i.top&&n.left+gt(r)>i.left){var o=gt(t)+LPe;r.css("left",i.left<e.offset().left?-o:o)}}},_getRevertTooltipsSelector(){var r=this.addWidgetPrefix(mO);return".dx-editor-cell .".concat(r)},_getValidationMessagesSelector(){var r=this.addWidgetPrefix(_O);return".dx-editor-cell .".concat(r,", .dx-cell-modified .").concat(r)},init(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus(r){r||this.getController("validating").setValidator(null),this.callBase()},updateCellState(r,e,t){var n,i=r==null?void 0:r.closest(this._getFocusCellSelector()),o=i!=null&&i.is("td")?i:null,a=i==null?void 0:i.closest(".dx-row").data("options"),s=a?this.getController("editing").getChangeByKey(a.key):null,l=o&&this.getController("columns").getVisibleColumns()[o.index()],u=((n=s==null?void 0:s.data)===null||n===void 0?void 0:n[l==null?void 0:l.name])!==void 0&&!this._editingController.isSaving(),c=[];this._editingController.getEditMode()===_f&&((e==null?void 0:e.status)===ko.invalid||u?(this._showRevertButton(i),c.push(mU)):this._revertTooltip&&this._revertTooltip.$element().remove());var d=e&&e.status===ko.invalid;if(d&&o&&l&&e&&e.brokenRules){var h=[];e.brokenRules.forEach(p=>{p.message&&h.push(p.message)}),h.length&&(this._showValidationMessage(i,h,l.alignment||"left"),c.push(vU))}this._updateAriaValidationAttributes(i,c),!t&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},_updateAriaValidationAttributes(r,e){if(e.length!==0){var t=this._editingController.getEditMode(),n=[_f,bS,W7].includes(t);if(n){var i=this._getCurrentFocusElement(r);i.attr("aria-labelledby",e.join(" ")),i.attr("aria-invalid",!0)}}},_getCurrentFocusElement(r){return this._editingController.isEditing()?r.find(_N).first():r},focus(r,e){if(!arguments.length)return this.callBase();if(this._hideValidationMessage(),r!=null&&r.hasClass("dx-row")||r!=null&&r.hasClass("dx-master-detail-cell"))return this.callBase(r,e);var t=r==null?void 0:r.closest(this._getFocusCellSelector()),{callBase:n}=this,i=t&&(t.data("dxValidator")||r.find(".".concat(this.addWidgetPrefix($7))).eq(0).data("dxValidator")),o=t&&t.closest(".dx-row").data("options"),a=this.getController("editing"),s=o?a.getChangeByKey(o.key):null,l=this.getController("validating"),u;if(i){l.setValidator(i);var c=i.option("adapter").getValue();if(SU(c,o)||l._rowIsValidated(s))return a.waitForDeferredOperations().done(()=>{$e(l.validateCell(i)).done(d=>{u=d;var{column:h}=u.validator.option("dataGetter")();s&&h&&!l.isCurrentValidatorProcessing({rowKey:s.key,columnIndex:h.index})||(!Zi(mo())&&u.status===ko.invalid&&(e=!0),this.updateCellState(r,u,e),n.call(this,r,e))})}),this.callBase(r,e)}return this.updateCellState(r,u,e),this.callBase(r,e)},getEditorInstance(r){var e=r.find(".dx-texteditor").eq(0);return ye.getWidgetInstance(e)}},data:{_getValidationStatus(r){var e=Sm(r)?r.status:r;return e||ko.valid},_isCellChanged(r,e,t,n,i){var o,a,s=(o=r.cells)===null||o===void 0?void 0:o[n],l=this._getValidationStatus({status:s==null?void 0:s.validationStatus}),u=this.getController("validating"),c=u.getCellValidationResult({rowKey:r.key,columnIndex:n}),d=u._getValidationData(r.key),h=this._getValidationStatus(c),p=JSON.stringify(e.modifiedValues)!==JSON.stringify(r.modifiedValues),f=l!==h&&p,v=E(s==null?void 0:s.cellElement).hasClass(this.addWidgetPrefix(G7)),g=(a=s==null?void 0:s.column.validationRules)===null||a===void 0?void 0:a.length,m=r.isEditing!==e.isEditing&&g,C=f||d.isValid&&v;return m||C?!0:this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight(r){var e,t,n,i=this.element(),o=i&&i.find(".".concat(this.addWidgetPrefix(_O)," .dx-overlay-content"));if(this.callBase(r),o&&o.length&&(e=this._getRowElements(),n=this._getFreeSpaceRowElements(r),t=n.first(),t&&e.length===1&&(!t.is(":visible")||Vt(o)>Vt(t))))return n.show(),Zc(n,Vt(o)),!0},_formItemPrepared(r,e){this.callBase.apply(this,arguments),qi(()=>{var t=e.find(".dx-widget").first(),n=t.length&&!t.children().length;n||this.getController("validating").createValidator(r,t)})},_cellPrepared(r,e){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(e,r),this.callBase.apply(this,arguments)},_restoreErrorRow(r){var e=this.getController("editing");e&&e.hasChanges()&&this._getRowElements(r).each((t,n)=>{var i=E(n).data("options");if(i){var o=e.getChangeByKey(i.key);o&&e._showErrorRow(o)}})}}}}};at.registerModule("validating",$Pe);var yO="scrolling.legacyMode",U7=r=>r.option("scrolling.loadTwoPagesOnStart")||r._controller.isVirtual()||r._controller.getViewportItemIndex()>0,Jw=r=>r._cache.length?r._cache[0].pageIndex:-1,$P=r=>r._cache.length?r._cache[r._cache.length-1].pageIndex:-1,lE=(r,e,t)=>{r._isChangedFiring=!0,e(t),r._isChangedFiring=!1},wU=(r,e,t)=>{if(r._isDelayChanged)return r._isDelayChanged=!1,lE(r,e,t),!0},WPe=r=>{var e=r._dataOptions.pageSize(),t=r.option("scrolling.preventPreload");if(t)return 0;var n=r._controller.viewportSize();if(r._controller.isVirtualMode()&&r.option("scrolling.removeInvisiblePages")){n=0;for(var i=r._controller.viewportSize()*r._controller.viewportItemSize(),o=r._controller.getContentOffset(),a=r._controller.getViewportPosition(),s=r._controller.virtualItemsCount(),l=r._dataOptions.totalItemsCount(),u=s.begin;u<l&&!(o>=a+i);u++){var c=r._controller.getItemSizes()[u]||r._controller.viewportItemSize();o+=c,o>=a&&n++}}return e&&n>0?Math.ceil(n/e):1},eb=(r,e)=>{var t=r.option("scrolling.preloadEnabled"),n=WPe(r),i=r._controller.isAppendMode();return n&&(e?n=t?1:0:(t&&n++,(i||!U7(r))&&n--)),n},zPe=r=>{var e=-1,t=Jw(r),n=r._dataOptions;if(t<0)e=r._pageIndex;else if(!r._cache[r._pageIndex-t])e=r._pageIndex;else if(t>=0&&r._controller.viewportSize()>=0){if(t>0){var i=$P(r)+1===n.pageCount()&&r._cache.length<eb(r)+1,o=i||r._pageIndex===t&&eb(r,!0);o&&(e=t-1)}if(e<0){var a=t+r._cache.length<=r._pageIndex+eb(r);a&&(e=t+r._cache.length)}}return r._loadingPageIndexes[e]&&(e=-1),e},UPe=(r,e)=>{var t=r._dataOptions;if(e===r.pageIndex()||!t.isLoading()&&e<t.pageCount()||!t.hasKnownLastPage()&&e===t.pageCount())return t.pageIndex(e),r._loadingPageIndexes[e]=!0,$e(t.load()).always(()=>{r._loadingPageIndexes[e]=!1})},bU=(r,e,t,n,i)=>{var o=r._dataOptions,a=o.items().slice(),s=pt(t)?t:void 0,l=t==="prepend",u=o.viewportItems();t&&ft(t)&&!r._isDelayChanged&&(s={changeType:t,items:a},i&&(s.removeCount=i.itemsCount,s.removeCount&&o.correctCount&&(s.removeCount=o.correctCount(u,s.removeCount,l))));var c=i?i.itemsLength:0;c&&o.correctCount&&(c=o.correctCount(u,c,l)),t==="append"?(u.push.apply(u,a),i&&u.splice(0,c)):l?(u.unshift.apply(u,a),i&&u.splice(-c)):r._dataOptions.viewportItems(a),o.updateLoading(),r._lastPageIndex=r.pageIndex(),r._isDelayChanged=n,n||lE(r,e,s)};class jPe{constructor(e,t){this._dataOptions=t,this._controller=e,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(e){var t=this._dataOptions.pageSize(),n=this._dataOptions.pageCount(),i=this._controller.isVirtualMode(),o=this._controller.isAppendMode(),a=this._dataOptions.totalItemsCount(),s;if(t&&(i||o)&&a>=0){var l=this._controller.viewportSize();if(l&&e+l>=a&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){s=n-1;var u=a%t;s>0&&u>0&&u<l&&s--}else s=n;else{s=Math.floor(e/t);var c=n-1;s=Math.max(s,0),s=Math.min(s,c)}return this.pageIndex(s),this.load()}}pageIndex(e){var t=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return this.option(yO)!==!1&&(t||n)?(e!==void 0&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)}beginPageIndex(e){var t=Jw(this);return t<0&&(t=e!==void 0?e:this.pageIndex()),t}endPageIndex(){var e=$P(this);return e>0?e:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var e=this._dataOptions,t,n=this._controller.isVirtualMode(),i=this._controller.isAppendMode();if(this.option(yO)!==!1&&(n||i)){var o=zPe(this);if(o>=0){var a=UPe(this,o);a&&(t=new X,a.done(()=>{var s=this._delayDeferred;s?s.done(t.resolve).fail(t.reject):t.resolve()}).fail(t.reject),e.updateLoading())}}else t=e.load();return!t&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),t||new X().resolve()}loadIfNeed(){var e=this._controller.isVirtualMode(),t=this._controller.isAppendMode();if((e||t)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}}handleDataChanged(e,t){var n=this._dataOptions,i=this._cache.length,o,a,s=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(t&&t.changes)lE(this,e,t);else if(this.option(yO)!==!1&&(s||l)){var u=Jw(this);if(u>=0&&(s&&u+this._cache.length!==n.pageIndex()&&u-1!==n.pageIndex()&&(i=0,this._cache=[]),l)){if(n.pageIndex()===0)this._cache=[];else if(n.pageIndex()<$P(this)){lE(this,e,{changeType:"append",items:[]});return}}var c={pageIndex:n.pageIndex(),itemsLength:n.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&s?a=this._cache.length>Math.max(eb(this)+(this.option("scrolling.preloadEnabled")?1:0),2):wU(this,e,{isDelayed:!0});var d;u===n.pageIndex()+1?(a&&(d=this._cache.pop()),o="prepend",this._cache.unshift(c)):(a&&(d=this._cache.shift()),o="append",this._cache.push(c));var h=s&&i===0&&U7(this);bU(this,e,this._cache.length>1?o:void 0,h,d),this._delayDeferred=this.load().done(()=>{wU(this,e)&&this.load()})}else bU(this,e,t)}getDelayDeferred(){return this._delayDeferred}itemsCount(e){var t=0,n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach(i=>{t+=i.itemsCount}):t=this._dataOptions.itemsCount(),t}virtualItemsCount(){var e=Jw(this);e<0&&(e=this._dataOptions.pageIndex());var t=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize(),i=Math.max(0,this._dataOptions.totalItemsCount()-n-t);return{begin:t,end:i}}reset(){this._loadingPageIndexes={},this._cache=[]}}var KPe="infinite",j7="virtual",ES="scrolling.legacyMode",EU=r=>r.option("scrolling.mode")===j7||r._isVirtual,qPe=r=>r.option("scrolling.mode")===KPe&&!r._isVirtual;function K7(r,e,t){var n,i=[],o=[];t=t||r;function a(c){var d=c.element?c.$element():c,h=js.offset(d);return h?c.scrollTop()-(h.top-r.offset().top):r.offset().top}var s={on(c,d,h){c.on("scroll",h)},off(c,d,h){c.off("scroll",h)}};function l(c){var d=c.get(0).nodeName==="#document",h=c.get(0).nodeType===Rt().Node.ELEMENT_NODE,p=c.data("dxScrollable"),f=s;if(!(!p&&(p=d&&E(Rt())||h&&c.css("overflowY")==="auto"&&c,f=B,!p))){var v=function(g){return function(){var m=g.scrollTop()-a(g);m=m>0?m:0,e(m)}}(p);f.on(p,"scroll",v),i.push(g=>{var m=a(p),C=p.scrollTo?"scrollTo":"scrollTop";g-m>=0&&p[C](g+m)}),o.push(()=>{f.off(p,"scroll",v)})}}var u=c=>{var d;return E((d=c.get(0).parentNode)!==null&&d!==void 0?d:c.get(0).host)};for(n=t.parent();n.length;n=u(n))l(n);return{scrollTo(c){U(i,(d,h)=>{h(c)})},dispose(){U(o,(c,d)=>{d()})}}}var q7=tr.inherit(function(){var r={ctor(e,t,n){this._dataOptions=t,this.component=e,this._viewportSize=e.option(ES)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=ar(),this._dataLoader=new jPe(this,this._dataOptions)},getItemSizes(){return this._itemSizes},option(){return this.component.option.apply(this.component,arguments)},isVirtual(){return this._isVirtual},virtualItemsCount(){if(EU(this)){var e=this._dataOptions,t=e.totalItemsCount();if(this.option(ES)===!1&&t!==-1){var n=this.getViewportParams(),i=e.loadedOffset(),o=e.loadedItemCount(),a=Math.max(n.skip,i),s=Math.min(n.take,o),l=Math.max(t-(a+s),0);return{begin:a,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout(){var e,t=this.option("scrolling.renderAsync"),n=0;return L(t)?t&&(n=(e=this.option("scrolling.timeout"))!==null&&e!==void 0?e:0):(n=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),n<this.option("scrolling.renderingThreshold")&&(n=this.option("scrolling.minTimeout")||0)),n},setViewportPosition(e){var t=new X,n=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),n>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(e),t.resolve()},n):(this._setViewportPositionCore(e),t.resolve()),t.promise()},getViewportPosition(){return this._position},getItemIndexByPosition(e,t,n){e=e??this._position;for(var i=this.getItemSize(),o=0,a=0,s=Object.keys(this._itemSizes).concat(-1),l=0;l<s.length&&o<e;l++){var u=parseInt(s[l]),c=(e-o)/i;if(u<0||a+c<u){a+=c,this._sizeRatio<1&&L(t)&&(a=t+n/this._viewportItemSize);break}else c=u-a,o+=c*i,a+=c;var d=this._itemSizes[u];o+=d,a+=o<e?1:(e-o+d)/d}return Math.round(50*a)/50},isScrollingBack(){return this._isScrollingBack},_setViewportPositionCore(e){var t=this._position||0;this._position=e,t!==this._position&&(this._isScrollingBack=this._position<t);var n=this.getItemIndexByPosition(),i=this.setViewportItemIndex(n);return this.positionChanged.fire(),i},setContentItemSizes(e){var t=this.virtualItemsCount();if(this._contentSize=e.reduce((o,a)=>o+a,0),t){e.forEach((o,a)=>{this._itemSizes[t.begin+a]=o});var n=(t.begin+t.end+this.itemsCount())*this._viewportItemSize,i=ye.getContentHeightLimit(Gr);n>i?this._sizeRatio=i/n:this._sizeRatio=1}},getItemSize(){return this._viewportItemSize*this._sizeRatio},getItemOffset(e,t){var n=this.virtualItemsCount(),i=e;if(!n)return 0;var o=0,a=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(s=>{i&&(t?s>=a-e:s<e)&&(o+=this._itemSizes[s],i--)}),Math.floor(o+i*this._viewportItemSize*this._sizeRatio)},getContentOffset(e){var t=e==="end",n=this.virtualItemsCount();return n?this.getItemOffset(t?n.end:n.begin,t):0},getVirtualContentSize(){var e=this.virtualItemsCount();return e?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex(){return this._viewportItemIndex},setViewportItemIndex(e){if(this._viewportItemIndex=e,this.option(ES)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize(e){return e!==void 0&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize(e){return e!==void 0&&(this._viewportSize=e),this._viewportSize},viewportHeight(e,t){var n=t??this._position,i=this.getItemIndexByPosition(n),o=this.getItemIndexByPosition(n+e,i,e);this.viewportSize(Math.ceil(o-i)),!L(t)&&this._viewportItemIndex!==i&&this._setViewportPositionCore(n)},reset(e){this._dataLoader.reset(),e||(this._itemSizes={})},subscribeToWindowScrollEvents(e){this._windowScroll=this._windowScroll||K7(e,t=>{this.viewportItemSize()&&this.setViewportPosition(t)})},dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo(e){this._windowScroll&&this._windowScroll.scrollTo(e)},isVirtualMode(){return EU(this)},isAppendMode(){return qPe(this)},getViewportParams(){var e,t=this.option("scrolling.mode")===j7,n=this._dataOptions.totalItemsCount(),i=this._dataOptions.hasKnownLastPage(),o=i&&this._viewportItemIndex>n?n:this._viewportItemIndex,a=this._viewportSize+o,s=this.option("scrolling.prerenderedRowChunkSize")||1,l=this.isScrollingBack(),u=(e=this.option("scrolling.prerenderedRowCount"))!==null&&e!==void 0?e:1,c=l?u:0,d=l?0:u,h=Math.floor(Math.max(0,o-c)/s)*s,p=Math.ceil((a+d-h)/s)*s;if(t){var f=Math.max(0,n-h);p=Math.min(p,f)}return{skip:h,take:p}},itemsCount(){var e=0;return this.option(ES)?e=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):e=this._dataOptions.itemsCount(),e}};return["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(e=>{r[e]=function(){return this._dataLoader[e].apply(this._dataLoader,arguments)}}),r}()),xU="bottom-load-panel",YPe="group-space",IU="dx-freespace-row",XPe="dx-column-lines",xS="dx-virtual-row",QPe="dx-row-inserted",ZPe="infinite",JPe="virtual",Y7=300,Ut="scrolling.legacyMode",SO="paging.pageIndex",Yi=function(r){return r.option("scrolling.mode")===JPe},Ol=function(r){return r.option("scrolling.mode")===ZPe},Rs=function(r){return Yi(r)||Ol(r)},TU=function(r,e,t,n){for(var i=0;i<e+1;i++){var o=r[t?r.length-1-i:i];o&&!n(o,i===e,t)&&e++}return e},tb=function(r,e){return r.rowType==="data"&&!r.isNewRow||r.rowType==="group"&&e.isGroupItemCountable(r.data)},eMe=function(r){return r.forEach((e,t)=>{e.rowIndex=t}),r},tMe=function(){var r=function(t){var n=t._virtualScrollController.beginPageIndex(-1);Yi(t)&&(n<0||t.viewportSize()>=0&&t.getViewportItemIndex()>=0&&(n*t.pageSize()>t.getViewportItemIndex()||n*t.pageSize()+t.itemsCount()<t.getViewportItemIndex()+t.viewportSize())&&t._dataSource.isLoading()?t._isLoading||(t._isLoading=!0,t.loadingChanged.fire(!0)):t._isLoading&&(t._isLoading=!1,t.loadingChanged.fire(!1)))},e={init(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new q7(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions(){var t=this;return{pageSize:()=>t.pageSize(),totalItemsCount:()=>t.totalItemsCount(),hasKnownLastPage:()=>t.hasKnownLastPage(),pageIndex:n=>t._dataSource.pageIndex(n),isLoading:()=>t._dataSource.isLoading()&&!t.isCustomLoading(),pageCount:()=>t.pageCount(),load:()=>t._dataSource.load(),updateLoading(){r(t)},itemsCount:()=>t.itemsCount(!0),items:()=>t._dataSource.items(),viewportItems(n){return n&&(t._items=n),t._items},onChanged(n){t.changed.fire(n)},changingDuration(){return t.isLoading()?Y7:t._renderTime||0}}},_handleLoadingChanged(t){if(this.option(Ut)===!1){this.callBase.apply(this,arguments);return}(!Yi(this)||this._isLoadingAll)&&(this._isLoading=t,this.callBase.apply(this,arguments)),t?this._startLoadTime=new Date:this._startLoadTime=void 0},_handleLoadError(){this.option(Ut)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged(t){if(this.option(Ut)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),this.callBase.apply(this,arguments);return}var n=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(n,t)},_customizeRemoteOperations(t,n){var i=this.option(Ut)===!1,o=this.option("scrolling.renderAsync");L(o)||(o=this._renderTime>=this.option("scrolling.renderingThreshold")),(Yi(this)||Ol(this)&&i)&&!n.reload&&(n.skip||i)&&!o&&(t.delay=void 0),this.callBase.apply(this,arguments)},items(){return this._items},_dataSourceTotalCount(t){return this.option(Ut)===!1&&Yi(this)&&!t?this._totalCount:this.callBase()},itemsCount(t){return t||this.option(Ut)===!1?this.callBase():this._virtualScrollController.itemsCount()},load(t){return this.option(Ut)===!1||t?this.callBase(t):this._virtualScrollController.load()},isLoading(){return this.option(Ut)===!1?this._dataSource.isLoading():this._isLoading},isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache(t){t||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore(){var t=this.callBase.apply(this,arguments);return this.option(Ut)===!1||(this.resetPagesCache(),r(this)),t},reload(){this._dataSource.pageIndex(this.pageIndex());var t=this._virtualScrollController;if(this.option(Ut)!==!1&&t){var n=new X;return this.callBase.apply(this,arguments).done(i=>{var o=t.getDelayDeferred();o?o.done(n.resolve).fail(n.reject):n.resolve(i)}).fail(n.reject),n}return this.callBase.apply(this,arguments)},refresh(t,n){if(this.option(Ut)!==!1){var{storeLoadOptions:i}=t,o=this._dataSource;n.reload?(this._virtualScrollController.reset(),o.items().length=0,this._isLoaded=!1,r(this),this._isLoaded=!0,Ol(this)?(this.pageIndex(0),o.pageIndex(0),i.pageIndex=0,t.pageIndex=0,i.skip=0):(o.pageIndex(this.pageIndex()),o.paginate()&&(t.pageIndex=this.pageIndex(),i.skip=this.pageIndex()*this.pageSize()))):Ol(this)&&i.skip&&this._totalCountCorrection<0&&(i.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount(t){if(!L(t))return this._loadPageCount;this._loadPageCount=t},_handleDataLoading(t){var n=this.loadPageCount(),i=this.pageSize(),o=this.option(Ut)===!1,{storeLoadOptions:a}=t,s=L(a.take);t.loadPageCount=n,!t.isCustomLoading&&o&&s&&n>1&&i>0&&(a.take=n*i),this.callBase.apply(this,arguments)},_loadPageSize(){return this.callBase.apply(this,arguments)*this.loadPageCount()}};return["beginPageIndex","endPageIndex","pageIndex"].forEach(t=>{e[t]=function(){if(this.option(Ut)===!1){var n=this._dataSource;return n.pageIndex.apply(n,arguments)}var i=this._virtualScrollController;return i[t].apply(i,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(t=>{e[t]=function(){var n=this._virtualScrollController;return n[t].apply(n,arguments)}}),e}(),rMe=function(){var r=function(e,t){var n=e.toArray().map(a=>E(a).parent(".".concat(t)).get(0)).filter(a=>a);n.length&&(e=E(n));for(var i=t===IU?e.length-1:e.length,o=0;o<i;o++)e.eq(o).remove()};return{init(){var e,t=this.getController("data");this.callBase(),t.pageChanged.add(n=>{var i=this._scrollTop;this.scrollToPage(n??t.pageIndex()),this.option(Ut)===!1&&this._scrollTop===i&&t.updateViewport()}),t.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(e=t.stateLoaded)===null||e===void 0||e.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize(){var e=this.getController("data");if(e.pageIndex()>0){var t=()=>{this.resizeCompleted.remove(t),this.scrollToPage(e.pageIndex())};this.resizeCompleted.add(t)}},scrollToPage(e){var t=this._dataController,n=t?t.pageSize():0,i;if(Yi(this)||Ol(this)){var o=t.getItemSize(),a=t.getItemSizes(),s=e*n;i=s*o;for(var l in a)parseInt(l)<s&&(i+=a[l]-o)}else i=0;this.scrollTo({y:i,x:this._scrollLeft})},renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),this.callBase.apply(this,arguments)},_renderCore(e){var t=new Date,n=this.callBase.apply(this,arguments),i=this._dataController._dataSource;if(i&&e){var o=e.items?e.items.length:20,a=this._dataController.viewportSize()||20;ye.isVirtualRowRendering(this)&&o>0&&this.option(Ut)!==!1?i._renderTime=(new Date-t)*a/o:i._renderTime=new Date-t}return n},_getRowElements(e){var t=this.callBase(e);return t&&t.not(".".concat(xS))},_removeRowsElements(e,t,n){var i=this._getRowElements(e).toArray();n==="append"?i=i.slice(0,t):i=i.slice(-t);var o=this.getController("errorHandling");i.map(a=>{var s=E(a);o&&o.removeErrorRow(s.next()),s.remove()})},_updateContent(e,t){var n,i=this._findContentElement(),o=t&&t.changeType,a=X(),s=i.children().first();return o==="append"||o==="prepend"?this.waitAsyncTemplates().done(()=>{var l=this._getBodies(e);l.length===1?this._getBodies(s)[o==="append"?"append":"prepend"](l.children()):l[o==="append"?"appendTo":"prependTo"](s),e.remove(),n=this._getFreeSpaceRowElements(s),r(n,IU),t.removeCount&&this._removeRowsElements(s,t.removeCount,o),this._restoreErrorRow(s),a.resolve()}).fail(a.reject):this.callBase.apply(this,arguments).done(()=>{o==="update"&&this._restoreErrorRow(s),a.resolve()}).fail(a.reject),a.promise().done(()=>{this._updateBottomLoading()})},_addVirtualRow(e,t,n,i){if(i){var o=this._createEmptyRow(xS,t,i);o=this._wrapRowIfNeed(e,o),this._appendEmptyRow(e,o,n)}},_updateContentItemSizes(){var e=this._getRowHeights(),t=this._correctRowHeights(e);this._dataController.setContentItemSizes(t)},_updateViewportSize(e,t){L(e)||(e=this._hasHeight?Vt(this.element()):Vt(Rt())),this._dataController.viewportHeight(e,t)},_getRowHeights(){var e,t,n=(t=(e=this.getController("editing"))===null||e===void 0?void 0:e.isPopupEditMode)===null||t===void 0?void 0:t.call(e),i=this._getRowElements(this._tableElement).toArray();return n&&(i=i.filter(o=>!E(o).hasClass(QPe))),i.map(o=>Dn(o).height)},_correctRowHeights(e){for(var t=this._dataController,n=t._dataSource,i=[],o=t.getVisibleRows(),a=0,s=!0,l=-1,u=0;u<e.length;u++){var c=o[u];L(c)&&(this.option(Ut)===!1?(l>=0&&l!==c.loadIndex&&(i.push(a),a=0),l=c.loadIndex):tb(c,n)&&(s?s=!1:(i.push(a),a=0)),a+=e[u])}return a>0&&i.push(a),i},_updateContentPosition(e){var t=this._dataController,n=this._rowHeight||20;if(t.viewportItemSize(n),Yi(this)||ye.isVirtualRowRendering(this)){e||this._updateContentItemSizes();var i=t.getContentOffset("begin"),o=t.getContentOffset("end"),a=this.getTableElements(),s=a.children("tbody").children(".".concat(xS));r(s,xS),a.each((l,u)=>{var c=l>0,d=this._isFixedTableRendering;this._isFixedTableRendering=c,this._addVirtualRow(E(u),c,"top",i),this._addVirtualRow(E(u),c,"bottom",o),this._isFixedTableRendering=d})}},_isTableLinesDisplaysCorrect(e){var t=e.find(".".concat(XPe)).length>0;return t===this.option("showColumnLines")},_isColumnElementsEqual(e,t){var n=e.length===t.length;return n&&U(e,(i,o)=>{if(o.style.width!==t[i].style.width)return n=!1,n}),n},_getCellClasses(e){var t=[],{cssClass:n}=e,i=e.command==="expand";return n&&t.push(n),i&&t.push(this.addWidgetPrefix(YPe)),t},_findBottomLoadPanel(e){var t=e||this.element(),n=t&&t.find(".".concat(this.addWidgetPrefix(xU)));if(n&&n.length)return n},_updateBottomLoading(){var e=Yi(this),t=Ol(this),n=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(e||t),i=this._findContentElement(),o=this._findBottomLoadPanel(i);n?o||E("<div>").addClass(this.addWidgetPrefix(xU)).append(this._createComponent(E("<div>"),Ra).$element()).appendTo(i):o&&o.remove()},_handleScroll(e){var t=this.option(Ut)===!0,n=e.scrollOffset.top===0,i=this._scrollTop!==e.scrollOffset.top,o=i||e.forceUpdateScrollPosition,a=this._hasHeight||!t&&n;if(o&&a&&this._rowHeight){this._scrollTop=e.scrollOffset.top;var s=Yi(this)||this.option("scrolling.rowRenderingMode")!=="standard";s&&this.option(Ut)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)}this.callBase.apply(this,arguments)},_needUpdateRowHeight(e){return this.callBase.apply(this,arguments)||e>0&&Ol(this)&&!ye.isVirtualRowRendering(this)},_updateRowHeight(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var e=this._hasHeight?Vt(this.element()):Vt(Rt()),t=this._dataController;this.option(Ut)===!1?(this._updateViewportSize(e),t.updateViewport()):t.viewportSize(Math.ceil(e/this._rowHeight))}},updateFreeSpaceRowHeight(){var e=this.callBase.apply(this,arguments);return e&&this._updateContentPosition(),e},setLoading(e,t){var n=this._dataController,i=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel();this.option(Ut)===!1&&e&&n.isViewportChanging()||(i&&(e=!1),this.callBase.call(this,e,t))},throwHeightWarningIfNeed(){if(this._hasHeight!==void 0){var e=!this._hasHeight&&Rs(this);e&&!this._heightWarningIsThrown&&(this._heightWarningIsThrown=!0,Ht.log("W1025"))}},_resizeCore(){var e=this,t=e.element();e.callBase(),this.throwHeightWarningIfNeed(),e.component.$element()&&!e._windowScroll&&Nx(t)&&(e._windowScroll=K7(t,n=>{!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(n)},e.component.$element()),e.on("disposing",()=>{e._windowScroll.dispose()})),this.option(Ut)!==!1&&e.loadIfNeed()},loadIfNeed(){var e,t=this._dataController;(e=t==null?void 0:t.loadIfNeed)===null||e===void 0||e.call(t)},_restoreErrorRow(){if(this.option(Ut)===!1){var e=this.getController("errorHandling");e==null||e.removeErrorRow()}this.callBase.apply(this,arguments)},dispose(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),X7={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{dataSourceAdapter:tMe,controllers:{data:function(){var r={_refreshDataSource(){var e=this.callBase.apply(this,arguments)||new X().resolve().promise();return e.done(this.initVirtualRows.bind(this)),e},_loadDataSource(){var e;if(this._rowsScrollController&&Rs(this)){var{loadPageCount:t}=L(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:void 0};t>=1&&((e=this._dataSource)===null||e===void 0||e.loadPageCount(t))}return this.callBase.apply(this,arguments)},getRowPageSize(){var e=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<e?t:e},reload(){var e=this._rowsScrollController||this._dataSource,t=e&&e.getItemIndexByPosition(),n=this.callBase.apply(this,arguments);return n&&n.done(()=>{var i;if(Yi(this)||ye.isVirtualRowRendering(this)){var o=this.getRowIndexOffset(),a=Math.floor(t)-o,{component:s}=this,l=s.getScrollable&&s.getScrollable(),u=this.dataSource().operationTypes().sorting;if(l&&!u&&a>=0){var c=s.getRowElement(a),d=c&&c[0]&&E(c[0]),h=d&&d.position().top,p=Gr.chrome&&Number((i=Gr.version)!==null&&i!==void 0?i:0)>=91,f=Gr.mozilla||p?1:0;h>f&&(h=Math.round(h+Vt(d)*(t%1)),l.scrollTo({y:h}))}}})},initVirtualRows(){var e=ye.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&!e||!e||this.option(Ut)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}var t=!Yi(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(t*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option(Ut)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new q7(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var n;if(this.option(Ut)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(n=this._dataSource)===null||n===void 0||n.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option(Ut)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option(Ut)!==!1&&this._rowsScrollController.load()},isViewportChanging(){return this._viewportChanging},_getRowsScrollDataOptions(){var e=this,t=function(n){return tb(n,e._dataSource)};return{pageSize:()=>e.getRowPageSize(),loadedOffset(){var n;return Yi(e)&&((n=e._dataSource)===null||n===void 0?void 0:n.lastLoadOptions().skip)||0},loadedItemCount:()=>e._itemCount,totalItemsCount(){return Rs(e)?e.totalItemsCount():e.option(Ut)===!1?e._itemCount:e._items.filter(t).length},hasKnownLastPage:()=>e.option(Ut)===!1?e.hasKnownLastPage():!0,pageIndex(n){return n!==void 0&&(e._rowPageIndex=n),e._rowPageIndex},isLoading:()=>e.isLoading(),pageCount(){var n=Math.ceil(this.totalItemsCount()/this.pageSize());return n||1},load(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&e._rowsScrollController.handleDataChanged(n=>{n=n||{},n.changeType=n.changeType||"refresh",n.items=n.items||e._visibleItems,e._visibleItems.forEach((i,o)=>{i.rowIndex=o}),e._fireChanged(n)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(n,i,o)=>TU(n,i,o,(a,s,l)=>a.isNewRow?s&&!l:s&&l?!a.isNewRow:t(a)),items(n){var i=e._items;if(e.option(Ut)){var o=e.dataSource(),a=o==null?void 0:o.virtualItemsCount(),s=a?a.begin:0,l=e.getRowPageSize(),u=e._rowPageIndex*l-s,c=l;if(u<0)return[];u&&(u=this.correctCount(i,u),i=i.slice(u)),c&&(c=this.correctCount(i,c),i=i.slice(0,c))}return n?i.filter(t):i},viewportItems(n){return n&&e.option(Ut)!==!1&&(e._visibleItems=n),e._visibleItems},onChanged(){},changingDuration(){var n=e.dataSource();return n!=null&&n.isLoading()&&e.option(Ut)!==!1?Y7:(n==null?void 0:n._renderTime)||0}}},_updateItemsCore(e){var t=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),this.option(Ut)===!1&&ye.isVirtualRowRendering(this)){e.changeType==="update"&&e.rowIndices.length===0&&e.cancelEmptyChanges&&(e.cancel=!0);return}var n=this._rowsScrollController;if(n){var i=this._visibleItems,o=e.changeType==="refresh"||e.isLiveUpdate;if(e.changeType==="append"&&e.items&&!e.items.length)return;o||e.changeType==="append"||e.changeType==="prepend"?(e.cancel=!0,o&&n.reset(!0),n.load()):(e.changeType==="update"?e.rowIndices.forEach((a,s)=>{var l=e.changeTypes[s],u=e.items[s];l==="update"?i[a]=u:l==="insert"?i.splice(a,0,u):l==="remove"&&i.splice(a,1)}):(i.forEach((a,s)=>{i[s]=this._items[s+t]||i[s]}),e.items=i),eMe(i))}},_updateLoadViewportParams(){var e=this._rowsScrollController.getViewportParams(),t=this.pageSize();if(e&&!Rs(this)&&t>0){var n=this.pageIndex()*t;e.skip+=n}this._loadViewportParams=e},_processItems(){var e,t=this.callBase.apply(this,arguments);if(this.option(Ut)===!1){var n=this._dataSource,i=(e=n==null?void 0:n.lastLoadOptions().skip)!==null&&e!==void 0?e:0,o,a,s,l=!1,u=[];t.forEach(c=>{var{rowType:d}=c,h=tb(c,n),p=d==="group"&&(o||h||a!=="group"&&i>0),f=d==="data"&&h&&(o||a!=="group");if(!c.isNewRow&&L(o)){var v=s&&!l;(p||f)&&!v&&i++}(p||f)&&(l=!0),c.isNewRow?u.push(c):(u.forEach(g=>{g.loadIndex=i}),u=[]),c.loadIndex=i,o=h,a=d,s=c.isNewRow}),u.forEach(c=>{c.loadIndex=i})}return t},_afterProcessItems(e){if(this._itemCount=e.filter(a=>tb(a,this._dataSource)).length,L(this._loadViewportParams)){this._updateLoadViewportParams();var t=e;if(this._allItems=e,e.length){var{skipForCurrentPage:n}=this.getLoadPageParams(!0),i=e[0].loadIndex+n,{take:o}=this._loadViewportParams;t=e.filter(a=>{var s=a.isNewRow&&a.loadIndex===i&&o===0,l=a.loadIndex>=i,u=a.loadIndex<i+o||s;return l&&u})}return t}return this.callBase.apply(this,arguments)},_applyChange(e){var t=this,{items:n}=e,{changeType:i}=e,{removeCount:o}=e;if(o){var a=i==="prepend";o=TU(t._items,o,a,(s,l)=>s.rowType==="data"&&!s.isNewRow||s.rowType==="group"&&(t._dataSource.isGroupItemCountable(s.data)||l)),e.removeCount=o}switch(i){case"prepend":t._items.unshift.apply(t._items,n),o&&t._items.splice(-o);break;case"append":t._items.push.apply(t._items,n),o&&t._items.splice(0,o);break;default:t.callBase(e)}},items(e){return e?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta(){var e=0;if(this.option(Ut)){var t=this._visibleItems;t&&t[0]&&(e=this._items.indexOf(t[0]))}return e<0?0:e},getRowIndexOffset(e,t){var n,i,o=0,a=this.dataSource(),s=this._rowsScrollController,l=this.option(Ut)===!1,u=Rs(this);if(s&&!e)if(l&&L(this._loadViewportParams)){var{skipForCurrentPage:c,pageIndex:d}=this.getLoadPageParams(!0),h=this.items(!0);if(o=u?d*this.pageSize():0,h.length){var p=h[0].loadIndex;o+=h.filter(v=>v.loadIndex<p+c).length}}else o=s.beginPageIndex()*s.pageSize();else if(u&&l&&a){var f=a.lastLoadOptions();t&&(!((n=f.skips)===null||n===void 0)&&n.length)?o=f.skips.reduce((v,g)=>v+g,0):o=(i=f.skip)!==null&&i!==void 0?i:0}else Yi(this)&&a&&(o=a.beginPageIndex()*a.pageSize());return o},getDataIndex(){return this.option(Ut)===!1?this.getRowIndexOffset(!0,!0):this.callBase.apply(this,arguments)},viewportSize(){var e=this._rowsScrollController,t=this._dataSource,n=e==null?void 0:e.viewportSize.apply(e,arguments);return this.option(Ut)===!1?n:t==null?void 0:t.viewportSize.apply(t,arguments)},viewportHeight(e,t){var n;(n=this._rowsScrollController)===null||n===void 0||n.viewportHeight(e,t)},viewportItemSize(){var e=this._rowsScrollController,t=this._dataSource,n=e==null?void 0:e.viewportItemSize.apply(e,arguments);return this.option(Ut)===!1?n:t==null?void 0:t.viewportItemSize.apply(t,arguments)},setViewportPosition(){var e=this._rowsScrollController,t=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):t==null||t.setViewportPosition.apply(t,arguments)},setContentItemSizes(e){var t=this._rowsScrollController,n=this._dataSource,i=t==null?void 0:t.setContentItemSizes(e);return this.option(Ut)===!1?i:n==null?void 0:n.setContentItemSizes(e)},getPreloadedRowCount(){var e=this.option("scrolling.preloadedRowCount"),t=this.option("scrolling.preloadEnabled");if(L(e))return e;var n=this.viewportSize();return t?2*n:n},getLoadPageParams(e){var t,n,i=this.pageSize(),o=this._loadViewportParams,a=(t=this._dataSource)===null||t===void 0?void 0:t.lastLoadOptions(),s=(a==null?void 0:a.pageIndex)||0,l=(a==null?void 0:a.take)||0,u=this._rowsScrollController.isScrollingBack(),c=u?this.getPreloadedRowCount():0,d=u?0:this.getPreloadedRowCount(),h=((n=this._dataSource)===null||n===void 0?void 0:n.totalCountCorrection())||0,p=Math.max(0,o.skip-c),f=e?s:Math.floor(i?p/i:0),v=f*i,g=o.skip-v,m=o.take+g+d-h,C=e?l:m,y=Math.ceil(i?C/i:0);return{pageIndex:f,loadPageCount:Math.max(1,y),skipForCurrentPage:Math.max(0,g)}},_updateVisiblePageIndex(e){if(this._rowsScrollController){if(L(e)){this._silentOption(SO,e),this.pageChanged.fire();return}var t=this._rowsScrollController.getViewportItemIndex(),n=Math.floor(t/this.pageSize());this.pageIndex()!==n&&(this._silentOption(SO,n),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams(){var e=this.getLoadPageParams(!0),{pageIndex:t,loadPageCount:n}=this.getLoadPageParams(),i=this._pageIndexIsValid(t),o=null;return!this._isLoading&&i&&(t!==e.pageIndex||n!==e.loadPageCount)&&(o={pageIndex:t,loadPageCount:n}),o},_pageIndexIsValid(e){var t=!0;return(Ol(this)&&this.hasKnownLastPage()||Yi(this))&&(t=e*this.pageSize()<this.totalItemsCount()),t},_loadItems(e,t){var n,i,o=Rs(this),a=this._dataSource,s=this._getChangedLoadParams(),l=(n=a==null?void 0:a.loadPageCount())!==null&&n!==void 0?n:0,u=this.pageSize()*l,c=(i=a==null?void 0:a.pageIndex())!==null&&i!==void 0?i:0,d=(s==null?void 0:s.pageIndex)===c,h=Ol(this)&&this.totalItemsCount()<u,p=this.option("editing.refreshMode")==="repaint",f=(s==null?void 0:s.pageIndex)>c,v=!1;if(!a||o&&e&&(p&&t||f||d&&h))return v;if(o&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),o&&s){v=!0,a.pageIndex(s.pageIndex),a.loadPageCount(s.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var g=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var m=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(g||m)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return v},loadViewport(e){var t,n,i,{checkLoadedParamsOnly:o,checkLoading:a,viewportIsNotFilled:s}=e??{},l=Rs(this);if(l||ye.isVirtualRowRendering(this)){this._updateLoadViewportParams();var u=this._loadItems(a,!s),c=(t=this._dataSource)===null||t===void 0?void 0:t.isCustomLoading(),d=a&&!c&&this._isLoading,h=!(u||d||o);if(h){var p=!(!((i=(n=this.getController("editing"))===null||n===void 0?void 0:n.getChanges())===null||i===void 0)&&i.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:p,cancelEmptyChanges:!0})}}},updateViewport(){var e,t,n=this.viewportSize(),i=this.items().length,o=n>i,a=(t=(e=this._loadViewportParams)===null||e===void 0?void 0:e.take)!==null&&t!==void 0?t:0,s=this._rowsScrollController,l=s==null?void 0:s.getViewportParams().take;(o||a<l)&&!this._isPaging&&i&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:o})},loadIfNeed(){if(this.option(Ut)!==!1){var e=this._rowsScrollController;e&&e.loadIfNeed();var t=this._dataSource;return t&&t.loadIfNeed()}},getItemSize(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)},getItemSizes(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)},getContentOffset(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)},refresh(e){var t=this._dataSource;return t&&e&&e.load&&Ol(this)&&t.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose(){var e=this._rowsScrollController;e&&e.dispose(),this.callBase.apply(this,arguments)},topItemIndex(){var e;return(e=this._loadViewportParams)===null||e===void 0?void 0:e.skip},bottomItemIndex(){var e=this._loadViewportParams;return e&&e.skip+e.take},virtualItemsCount(){var e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);var t=this._dataSource;return t==null?void 0:t.virtualItemsCount.apply(t,arguments)},pageIndex(e){var t,n=Rs(this),i=this._rowsScrollController;return this.option(Ut)===!1&&n&&i&&e===void 0?(t=this.option(SO))!==null&&t!==void 0?t:0:this.callBase.apply(this,arguments)},_fireChanged(e){this.callBase.apply(this,arguments);var{operationTypes:t}=e;if(this.option(Ut)===!1&&Rs(this)&&t){var{fullReload:n,pageIndex:i}=t;e.isDataChanged&&!n&&i&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue(e){var t=this.callBase.apply(this,arguments);return this.option(Ut)===!1&&Rs(this)&&(t=this[e]()),t},isEmpty(){return this.option(Ut)===!1?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded(){var e=!1;if(this.option(Ut)===!1&&Rs(this)){var{pageIndex:t,loadPageCount:n}=this.getLoadPageParams(!0),i=this.pageCount();e=t+n>=i}else e=this.callBase.apply(this,arguments);return e},reset(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter(){var e;return(e=this._dataSource)===null||e===void 0||e.loadPageCount(1),this.callBase.apply(this,arguments)}};return ye.proxyMethod(r,"getVirtualContentSize"),ye.proxyMethod(r,"setViewportItemIndex"),r}(),resizing:{_updateMasterDataGridCore(r){return $e(this.callBase.apply(this,arguments)).done(e=>{var t=Yi(r)&&r.option(Ut)===!1;if(!e&&t){var n=r.getScrollable();n&&r.updateDimensions()}})},hasResizeTimeout(){return!!this._resizeTimeout},resize(){var{callBase:r}=this,e;if(Yi(this)||ye.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var t=new Date-this._lastTime,n=this.option("scrolling.updateTimeout");this._lastTime&&t<n?(e=new X,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,r.apply(this).done(e.resolve).fail(e.reject),this._lastTime=new Date},n),this._lastTime=new Date):(e=r.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=r.apply(this);return e},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:rMe}}};at.registerModule("virtualScrolling",X7);kC.extend(X7.extenders.dataSourceAdapter);var nMe=.9,Q7=(r,e)=>{var t=E(Rt()),{top:n}=r.offset(),i;if(Tr(e)){if(e<n)return n-e;i=Lb(t)-e+t.scrollTop()}else{var o=n-t.scrollTop(),a=Lb(t)-o-Vt(r);i=Math.max(o,a)}return i*nMe},iMe="dx-context-menu-content-delimiter",oMe="dx-submenu";class wO extends tN{_getDefaultOptions(){return $(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:Z})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=E("<div>").appendTo(this._itemContainer()).addClass(iMe)}_getOverlayOptions(){return $(!0,super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this),position:{precise:!0}})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(e){var t=this.option("onHoverStart");t(e),super._hoverStartHandler(e),this._toggleFocusClass(!0,e.currentTarget)}_drawSubmenu(e){this._actions.onShowing({rootItem:ut(e),submenu:this}),super._drawSubmenu(e),this._actions.onShown({rootItem:ut(e),submenu:this})}_hideSubmenu(e){this._actions.onHiding({cancel:!0,rootItem:ut(e),submenu:this}),super._hideSubmenu(e),this._actions.onHidden({rootItem:ut(e),submenu:this})}_showDelimiter(e){if(this.$contentDelimiter){var t=this._itemContainer().children(".".concat(oMe)).eq(0),n=this.option("position").of.find(".dx-context-menu-container-border"),i={of:t,precise:!0},o=e.position,a=o.v.location,s=o.h.location,l=n.offset(),u=Math.round(l.left),c=Math.round(l.top),d=gt(n),h=Dt(n),p=gt(t),f=Dt(t);this.$contentDelimiter.css("display","block"),YF(this.$contentDelimiter,this._isMenuHorizontal()?d<p?d:p:3),Zc(this.$contentDelimiter,this._isMenuHorizontal()?3:h<f?h:f),this._isMenuHorizontal()?a>c?Math.round(s)===u?(i.offset="0 -2.5",i.at=i.my="left top"):(i.offset="0 -2.5",i.at=i.my="right top"):(Zc(this.$contentDelimiter,5),Math.round(s)===u?(i.offset="0 5",i.at=i.my="left bottom"):(i.offset="0 5",i.at=i.my="right bottom")):s>u?Math.round(a)===c?(i.offset="-2.5 0",i.at=i.my="left top"):(i.offset="-2.5 0",i.at=i.my="left bottom"):Math.round(a)===c?(i.offset="2.5 0",i.at=i.my="right top"):(i.offset="2.5 0",i.at=i.my="right bottom"),js.setup(this.$contentDelimiter,i)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}}var mp="dx-menu",aMe=mp+"-vertical",RU=mp+"-horizontal",WP=mp+"-item",OU=mp+"-items-container",bO=WP+"-expanded",rb="dx-context-menu",EO=rb+"-container-border",sMe="dx-context-menu-content-delimiter",lMe="dx-submenu",uMe="dx-state-disabled",DU="dx-state-hover",cMe="dx-state-active",nb=mp+"-adaptive-mode",AU=mp+"-hamburger-button",dMe=nb+"-overlay-wrapper",hMe="up",pMe="down",fMe="left",vMe="right",Eg="showSubmenu",$p="nextItem",ic="prevItem",gMe={show:50,hide:300},PU=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];let zP=class extends eN{_getDefaultOptions(){return $(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),$(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var e=super._itemElements(),t=this._submenuItemElements();return e.add(t)}_submenuItemElements(){var e=[],t=".".concat(WP),n=this._submenus.length&&this._submenus[0];return n&&n.itemsContainer()&&(e=n.itemsContainer().find(t)),e}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(e){var t=this._getAvailableItems(),n=this._isMenuHorizontal(),i=this._getActiveItem(!0),o,a,s,l;switch(e){case hMe:a=n?Eg:this._getItemsNavigationOperation(ic),o=n?i:t,s=this._getKeyboardNavigationAction(a,o),l=s();break;case pMe:a=n?Eg:this._getItemsNavigationOperation($p),o=n?i:t,s=this._getKeyboardNavigationAction(a,o),l=s();break;case vMe:a=n?this._getItemsNavigationOperation($p):Eg,o=n?t:i,s=this._getKeyboardNavigationAction(a,o),l=s();break;case fMe:a=n?this._getItemsNavigationOperation(ic):Eg,o=n?t:i,s=this._getKeyboardNavigationAction(a,o),l=s();break;default:return super._moveFocus(e)}l&&l.length!==0&&this.option("focusedElement",ut(l))}_getItemsNavigationOperation(e){var t=e;return this.option("rtlEnabled")&&(t=e===ic?$p:ic),t}_getKeyboardNavigationAction(e,t){var n=Z;switch(e){case Eg:t.hasClass(uMe)||(n=this._showSubmenu.bind(this,t));break;case $p:n=this._nextItem.bind(this,t);break;case ic:n=this._prevItem.bind(this,t)}return n}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){var e=this.$element().find("ul").first().children("li").children(".".concat(WP));this._menuItemsWidth=this._getSummaryItemsSize("width",e,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var e=er(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},U(PU,(e,t)=>{this._actions[t]=this._createActionByOption(t)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(mp),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new gi(E("<div>").addClass(AU),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(e){Nt(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),e&&this._treeView.focus(),this._toggleHamburgerActiveState(e)}_toggleHamburgerActiveState(e){this._hamburger&&this._hamburger.$element().toggleClass(cMe,e)}_toggleAdaptiveMode(e){var t=this.$element().find(".".concat(RU)),n=this.$element().find(".".concat(nb));e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),t.toggle(!e),n.toggle(e)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var e=this.option("rtlEnabled"),t=e?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>Q7(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:n=>!E(n.target).closest(".".concat(AU)).length,position:{collision:"flipfit",at:"bottom "+t,my:"top "+t,of:this._hamburger.$element()}}}_getTreeViewOptions(){var e={};return U(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(t,n)=>{e[n]=this.option(n)}),U(["onItemContextMenu","onSelectionChanged","onItemRendered"],(t,n)=>{e[n]=i=>{this._actions[n](i)}}),$(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:t=>{this._overlay.repaint(),this._actions.onSubmenuShown(t)},onItemCollapsed:t=>{this._overlay.repaint(),this._actions.onSubmenuHidden(t)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=E("<div>").addClass(nb);var e=this._renderHamburgerButton();this._treeView=this._createComponent(E("<div>"),QC,this._getTreeViewOptions()),this._overlay=this._createComponent(E("<div>"),Ks,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(nb).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(dMe),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(e){var t=this.option("showFirstSubmenuMode").delay;return L(t)?pt(t)?t[e]:t:gMe[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){var e=E("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?RU:aMe),super._renderContainer(e)}_renderSubmenuItems(e,t){var n=this._createSubmenu(e,t);return this._submenus.push(n),this._renderBorderElement(t),n}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,t){var n=E("<div>").addClass(rb).appendTo(t),i=this._getChildNodes(e),o=this._createComponent(n,wO,$(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:i,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(t)}));return this._attachSubmenuHandlers(t,o),o}_getSubmenuOptions(){var e=E("<div>"),t=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:n=>{n.component.option("visible")&&this.option("focusedElement",n.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:t?null:this._moveMainMenuFocus.bind(this,ic),onLeftLastItem:t?null:this._moveMainMenuFocus.bind(this,$p),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,t?ic:null),onExpandLastSubmenu:t?this._moveMainMenuFocus.bind(this,$p):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return pt(e)?e.name:e}_moveMainMenuFocus(e){var t=this._getAvailableItems(),n=t.length,i=t.filter(".".concat(bO)).eq(0),o=t.index(i);this._hideSubmenu(this._visibleSubmenu),o+=e===ic?-1:1,o>=n?o=0:o<0&&(o=n-1);var a=t.eq(o);this.option("focusedElement",ut(a))}_nestedItemOnSelectionChangedHandler(e){var t=e.addedItems.length&&e.addedItems[0],n=wO.getInstance(e.element),i=this._actions.onSelectionChanged;i(e),t&&this._clearSelectionInSubmenus(t[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",t)}_clearSelectionInSubmenus(e,t){var n=!arguments.length;U(this._submenus,(i,o)=>{var a=o._itemContainer(),s=!a.is(t&&t._itemContainer()),l=a.find(".".concat(this._selectedItemClass()));if(s&&l.length||n){l.removeClass(this._selectedItemClass());var u=this._getItemData(l);u&&(u.selected=!1),o._clearSelectedItems()}})}_clearRootSelection(){var e=this.$element().find(".".concat(OU)).first().children().children().filter(".".concat(this._selectedItemClass()));if(e.length){var t=this._getItemData(e);t.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){this._actions.onItemClick(e)}_nestedItemOnItemRenderedHandler(e){this._actions.onItemRendered(e)}_attachSubmenuHandlers(e,t){var n=t.getOverlayContent(),i=n.find(".".concat(lMe)),o=fe(PC,this.NAME+"_submenu");t.option({onShowing:this._submenuOnShowingHandler.bind(this,e,t),onShown:this._submenuOnShownHandler.bind(this,e,t),onHiding:this._submenuOnHidingHandler.bind(this,e,t),onHidden:this._submenuOnHiddenHandler.bind(this,e,t)}),U(i,(a,s)=>{B.off(s,o),B.on(s,o,null,this._submenuMouseLeaveHandler.bind(this,e))})}_submenuOnShowingHandler(e,t){var n=e.children(".".concat(EO));this._actions.onSubmenuShowing({rootItem:ut(e),submenu:t}),n.show(),e.addClass(bO)}_submenuOnShownHandler(e,t){this._actions.onSubmenuShown({rootItem:ut(e),submenu:t})}_submenuOnHidingHandler(e,t,n){var i=e.children(".".concat(EO)),o=n;o.rootItem=ut(e),o.submenu=t,this._actions.onSubmenuHiding(o),n=o,n.cancel||(this._visibleSubmenu===t&&(this._visibleSubmenu=null),i.hide(),e.removeClass(bO))}_submenuOnHiddenHandler(e,t){this._actions.onSubmenuHidden({rootItem:ut(e),submenu:t})}_submenuMouseLeaveHandler(e,t){var n=E(t.relatedTarget).parents(".".concat(rb))[0],i=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==i&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var e=E(this._visibleSubmenu.$element().context).hasClass(DU),t=this._visibleSubmenu.getOverlayContent().find(".".concat(DU)).length,n=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");!n&&!t&&!e&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(e){if(!e)return!1;var t=e.children(".".concat(rb));return t.length&&wO.getInstance(t)}getSubmenuPosition(e){var t=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),i=this.option("rtlEnabled"),o={collision:"flip",of:e,precise:!0};switch(n){case"leftortop":o.at="left top",o.my=t?"left bottom":"right top";break;case"rightorbottom":o.at=t?"left bottom":"right top",o.my="left top";break;default:t?(o.at=i?"right bottom":"left bottom",o.my=i?"right top":"left top"):(o.at=i?"left top":"right top",o.my=i?"right top":"left top")}return o}_renderBorderElement(e){E("<div>").appendTo(e).addClass(EO).hide()}_itemPointerDownHandler(e){var t=E(e.target),n=t.closest(this._itemElements());if(n.hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(e)}_hoverStartHandler(e){var t=fe(Yt.move,this.NAME),n=this._getItemElementByEventArgs(e),i=this._dataAdapter.getNodeByItem(this._getItemData(n)),o=L(e.buttons)&&e.buttons===1||!L(e.buttons)&&e.which===1;if(!this._isItemDisabled(n)){if(B.off(n,t),!this._hasChildren(i)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!o){var a=this._getSubmenuByElement(n);this._clearTimeouts(),a.isOverlayVisible()||(B.on(n,t,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(e){var t=this._getItemElementByEventArgs(e),n=E(e.relatedTarget);super._hoverEndHandler(e),this._clearTimeouts(),!this._isItemDisabled(t)&&(n.hasClass(sMe)||this.option("hideSubmenuOnMouseLeave")&&!n.hasClass(OU)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(e){var t=this._getSubmenuByElement(e);this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t&&(this._clearTimeouts(),this.focus(),t.show(),this.option("focusedElement",t.option("focusedElement"))),this._visibleSubmenu=t,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){if(!(e.pointers&&e.pointers.length)){var t=E(e.currentTarget);L(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var n=this._getSubmenuByElement(t);n&&!n.isOverlayVisible()&&this._showSubmenu(t)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,t){var n=this._getSubmenuByRootElement(e);if(n)return n;t=t||this._getItemData(e);var i=this._dataAdapter.getNodeByItem(t);return this._hasChildren(i)&&this._renderSubmenuItems(i,e)}_updateSubmenuVisibilityOnClick(e){var t=e.args.length&&e.args[0];if(!(!t||this._disabledGetter(t.itemData))){var n=E(t.itemElement),i=this._getSubmenuByElement(n,t.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu)if(this._visibleSubmenu===i){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}else this._hideSubmenu(this._visibleSubmenu);if(i&&!i.isOverlayVisible()){this._showSubmenu(n);return}}}_optionChanged(e){if(PU.indexOf(e.name)>=0){this._initActions();return}switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),super._optionChanged(e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),super._optionChanged(e);break;default:this._isAdaptivityEnabled()&&(e.name===e.fullName||e.name==="items")&&this._treeView.option(e.fullName,e.value),super._optionChanged(e)}}_changeSubmenusOption(e,t){U(this._submenus,(n,i)=>{i.option(e,t)})}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}};Kt("dxMenu",zP);var xO={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},MU={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},mMe=700,Z7=1,Ym="filter-row",IS="filter-range-overlay",TS="filter-range-start",_Me="filter-range-end",FU="dx-menu",LU="dx-editor-with-menu",Dd="dx-editor-container",UP="dx-editor-cell",CMe="dx-filter-menu",yMe="dx-apply-button",IO="dx-highlight-outline",NU="dx-focused",SMe="dx-cell-focus-disabled",TO="dx-filter-range-content",RO="dx-filter-modified",xg="input:not([type='hidden'])",wMe=["date","datetime","number"],bMe=J.format("dxDataGrid-ariaSearchBox");function Pf(r){return r.option("filterRow.applyFilter")==="onClick"}var OO=function(r){var e=r&&r.children(),t=e&&e.data("dxComponents"),n=t&&t.length&&e.data(t[0]);return n instanceof qs?n:null},EMe=function(){var r=function(o,a){var s="",l="",u=e(o,a),c=ye.getFormatOptionsByColumn(a,"filterRow");return Array.isArray(u)?(s=ye.formatValue(u[0],c),l=ye.formatValue(u[1],c),l!==""&&(s+=" - ".concat(l))):L(u)&&(s=ye.formatValue(u,c)),s};function e(o,a){if(a)return Pf(o)&&a.bufferedFilterValue!==void 0?a.bufferedFilterValue:a.filterValue}var t=function(o,a){if(a)return Pf(o)&&a.bufferedSelectedFilterOperation!==void 0?a.bufferedSelectedFilterOperation:a.selectedFilterOperation},n=function(o,a,s){var l=o._columnsController.columnOption(a),u=e(o,l),c=s.closest(".".concat(o.addWidgetPrefix(IS))).length,d=s.hasClass(o.addWidgetPrefix(TS));return u&&Array.isArray(u)&&t(o,l)==="between"?d?u[0]:u[1]:!c&&function(h,p){return p&&wMe.includes(p.dataType)&&Array.isArray(h)?!1:h!==void 0}(u,l)?u:null},i=function(o,a){var s=a.value===""?null:a.value,l=a.container,u=o._columnsController.columnOption(a.column.index),c=n(o,u.index,l);if(!(!L(c)&&!L(s))){o._applyFilterViewController.setHighLight(l,c!==s);var d=Pf(o)?"bufferedFilterValue":"filterValue",h=function(v,g,m,C){if(t(v,m)==="between"){var y=e(v,m);return C.hasClass(v.addWidgetPrefix(TS))?[g,Array.isArray(y)?y[1]:void 0]:[Array.isArray(y)?y[0]:y,g]}return g}(o,s,u,l),p=t(o,u)==="between",f=a.notFireEvent||p&&Array.isArray(h)&&h.includes(void 0);o._columnsController.columnOption(u.index,d,h,f)}};return{_updateEditorValue(o,a){var s=OO(a);s&&s.option("value",n(this,o.index,a))},_columnOptionChanged(o){var{optionNames:a}=o,s,l,u,c;if(ye.checkChanges(a,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&o.columnIndex!==void 0){var d=this._columnsController.getVisibleIndex(o.columnIndex),h=this._columnsController.columnOption(o.columnIndex);if(s=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(Ym))).index(),d)||E(),l=s.find(".".concat(Dd)).first(),a.filterValue||a.bufferedFilterValue){this._updateEditorValue(h,l);var p=s.find(".".concat(this.addWidgetPrefix(IS))).data("dxOverlay");p&&(u=p.$content().find(".".concat(Dd)),this._updateEditorValue(h,u.first()),this._updateEditorValue(h,u.last())),(!p||!p.option("visible"))&&this._updateFilterRangeContent(s,r(this,h))}(a.selectedFilterOperation||a.bufferedSelectedFilterOperation)&&d>=0&&h&&(c=s.find(".".concat(FU)),c.length&&(this._updateFilterOperationChooser(c,h,l),t(this,h)==="between"?this._renderFilterRangeContent(s,h):l.find(".".concat(TO)).length&&(this._renderEditor(l,this._getEditorOptions(l,h)),this._hideFilterRange())));return}this.callBase(o)},_renderCore(){return this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))},isVisible(){return this.callBase()||this.isFilterRowVisible()},init(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay(o,a){var s=this,l={},u=o.find(".dx-editor-container"),c=s.addWidgetPrefix(IS),d=E("<div>").addClass(c).appendTo(o);return s._createComponent(d,Ks,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:c},animation:!1,position:{my:"top",at:"top",of:u.length&&u||o,offset:"0 -1"},contentTemplate(h){var p,f=E("<div>").addClass("".concat(Dd," ").concat(s.addWidgetPrefix(TS))).appendTo(h);return a=s._columnsController.columnOption(a.index),p=s._getEditorOptions(f,a),p.sharedData=l,s._renderEditor(f,p),B.on(f.find(xg),"keydown",v=>{var g=o.find("[tabindex]").not(v.target).first();Jr(v)==="tab"&&v.shiftKey&&(v.preventDefault(),s._hideFilterRange(),g.length||(g=o.prev().find("[tabindex]").last()),B.trigger(g,"focus"))}),f=E("<div>").addClass("".concat(Dd," ").concat(s.addWidgetPrefix(_Me))).appendTo(h),p=s._getEditorOptions(f,a),p.sharedData=l,s._renderEditor(f,p),B.on(f.find(xg),"keydown",v=>{Jr(v)==="tab"&&!v.shiftKey&&(v.preventDefault(),s._hideFilterRange(),B.trigger(o.next().find("[tabindex]").first(),"focus"))}),E(h).addClass(s.getWidgetContainerClass())},onShown(h){var p=h.component.$content().find(".".concat(Dd)).first();B.trigger(p.find(xg),"focus")},onHidden(){a=s._columnsController.columnOption(a.index),o.find(".".concat(FU)).parent().addClass(LU),t(s,a)==="between"&&(s._updateFilterRangeContent(o,r(s,a)),s.component.updateDimensions())}})},_updateFilterRangeOverlay(o){var a=this._filterRangeOverlayInstance;a&&a.option(o)},_showFilterRange(o,a){var s=o.children(".".concat(this.addWidgetPrefix(IS))),l=s.length&&s.data("dxOverlay");!l&&a&&(l=this._initFilterRangeOverlay(o,a)),l.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=l,this._updateFilterRangeOverlay({width:er(o,!0)+Z7}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange(){var o=this._filterRangeOverlayInstance;o&&o.hide()},getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance},_createRow(o){var a=this.callBase(o);return o.rowType==="filter"&&(a.addClass(this.addWidgetPrefix(Ym)),this.option("useLegacyKeyboardNavigation")||B.on(a,"keydown",s=>eL("filterRow",this,s))),a},_getRows(){var o=this.callBase();return this.isFilterRowVisible()&&o.push({rowType:"filter"}),o},_renderFilterCell(o,a){var{column:s}=a,l=E(o);this.component.option("showColumnHeaders")&&this.setAria("describedby",s.headerId,l),this.setAria("label",J.format("dxDataGrid-ariaFilterCell"),l),l.addClass(UP);var u=E("<div>").appendTo(l),c=E("<div>").addClass(Dd).appendTo(u);if(t(this,s)==="between")this._renderFilterRangeContent(l,s);else{var d=this._getEditorOptions(c,s);this._renderEditor(c,d)}var{alignment:h}=s;h&&h!=="center"&&l.find(xg).first().css("textAlign",s.alignment),s.filterOperations&&s.filterOperations.length&&this._renderFilterOperationChooser(u,s,c)},_renderCellContent(o,a){var s=this,{column:l}=a;if(a.rowType==="filter"){if(l.command)o.html("&nbsp;");else if(l.allowFiltering){s.renderTemplate(o,s._renderFilterCell.bind(s),a).done(()=>{s._updateCell(o,a)});return}}this.callBase.apply(this,arguments)},_getEditorOptions(o,a){var s=this,l={editorOptions:{inputAttr:s._getFilterInputAccessibilityAttributes(a)}},u=$(l,a,{value:n(s,a.index,o),parentType:"filterRow",showAllText:s.option("filterRow.showAllText"),updateValueTimeout:s.option("filterRow.applyFilter")==="onClick"?0:mMe,width:null,setValue(c,d){i(s,{column:a,value:c,container:o,notFireEvent:d})}});return t(s,a)==="between"&&(o.hasClass(s.addWidgetPrefix(TS))?u.placeholder=s.option("filterRow.betweenStartText"):u.placeholder=s.option("filterRow.betweenEndText")),u},_getFilterInputAccessibilityAttributes(o){var a=J.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":a,"aria-describedby":o.headerId}:{"aria-label":a}},_renderEditor(o,a){o.empty();var s=E("<div>").appendTo(o),l=this.getController("editorFactory"),u=this.getController("data").dataSource(),c=this.getController("applyFilter");if(a.lookup&&this.option("syncLookupFilterValues")){c.setCurrentColumnForFiltering(a);var d=this.getController("data").getCombinedFilter();c.setCurrentColumnForFiltering(null);var h=ye.getWrappedLookupDataSource(a,u,d),p=b(b({},a),{lookup:b(b({},a.lookup),{dataSource:h})});return l.createEditor(s,p)}return l.createEditor(s,a)},_renderFilterRangeContent(o,a){var s=this,l=o.find(".".concat(Dd)).first();l.empty();var u=E("<div>").addClass(TO).attr("tabindex",this.option("tabIndex"));B.on(u,"focusin",()=>{s._showFilterRange(o,a)}),u.appendTo(l),s._updateFilterRangeContent(o,r(s,a))},_updateFilterRangeContent(o,a){var s=o.find(".".concat(TO));s.length&&(a===""?s.html("&nbsp;"):s.text(a))},_updateFilterOperationChooser(o,a,s){var l=this,u,c=function(){var d=zP.getInstance(o);d&&d.option("focusedElement",null),u&&l._focusEditor(s)};l._createComponent(o,zP,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(l.getWidgetContainerClass()," ").concat(SMe," ").concat(CMe),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(a.filterOperations&&a.filterOperations.length),icon:xO[t(l,a)||"default"],selectable:!1,items:l._getFilterOperationMenuItems(a)}],onItemRendered:d=>{var{itemElement:h}=d;this.setAria("label",bMe,E(h))},onItemClick(d){var h=d.itemData.name,p=t(l,a),f=!1,v=Pf(l),g={};if(!(d.itemData.items||h&&h===p)){if(h?(g[v?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=h,(h==="between"||p==="between")&&(f=h==="between",g[v?"bufferedFilterValue":"filterValue"]=null)):(g[v?"bufferedFilterValue":"filterValue"]=null,g[v?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=a.defaultSelectedFilterOperation||null),l._columnsController.columnOption(a.index,g),l._applyFilterViewController.setHighLight(s,!0),!h){var m=OO(s);m&&m.NAME==="dxDateBox"&&!m.option("isValid")&&(m.clear(),m.option("isValid",!0))}f?l._showFilterRange(s.closest(".".concat(UP)),a):l._focusEditor(s)}},onSubmenuShowing(){u=l._isEditorFocused(s),l.getController("editorFactory").loseFocus()},onSubmenuHiding(){B.trigger(o,"blur"),c()},onContentReady(d){B.on(o,"blur",()=>{var h=d.component;h._hideSubmenuAfterTimeout(),c()})},rtlEnabled:l.option("rtlEnabled")})},_isEditorFocused:o=>o.hasClass(NU)||o.parents(".".concat(NU)).length,_focusEditor(o){this.getController("editorFactory").focus(o),B.trigger(o.find(xg),"focus")},_renderFilterOperationChooser(o,a,s){var l;this.option("filterRow.showOperationChooser")&&(o.addClass(LU),l=E("<div>").prependTo(o),this._updateFilterOperationChooser(l,a,s))},_getFilterOperationMenuItems(o){var a=this,s=[{}],l=a.option("filterRow"),u=l&&l.operationDescriptions||{};if(o.filterOperations&&o.filterOperations.length){var c=o.filterOperations.filter(d=>L(MU[d]));s=Gn(c,d=>{var h=MU[d];return{name:d,selected:(t(a,o)||o.defaultFilterOperation)===d,text:u[h],icon:xO[d]}}),s.push({name:null,text:l&&l.resetOperationText,icon:xO.default})}return s},_handleDataChanged(o){var a,s,l,u,c,d,h=(s=(a=this._dataController)===null||a===void 0?void 0:a.dataSource)===null||s===void 0?void 0:s.call(a),p=(l=h==null?void 0:h.lastLoadOptions)===null||l===void 0?void 0:l.call(h);this.callBase.apply(this,arguments),(!((u=o.operationTypes)===null||u===void 0)&&u.filtering||!((c=o.operationTypes)===null||c===void 0)&&c.fullReload)&&this.updateLookupDataSource(((d=o.operationTypes)===null||d===void 0?void 0:d.filtering)||(p==null?void 0:p.filter))},updateLookupDataSource(o){if(this.option("syncLookupFilterValues")&&this.element()){var a=this._columnsController.getVisibleColumns(),s=this._dataController.dataSource(),l=this._applyFilterViewController,u=this.element().find(".".concat(this.addWidgetPrefix(Ym))).index();u!==-1&&a.forEach((c,d)=>{if(!(!c.lookup||c.calculateCellValue!==c.defaultCalculateCellValue)){var h=this._getCellElement(u,d),p=OO(h==null?void 0:h.find(".dx-editor-container"));if(p){l.setCurrentColumnForFiltering(c);var f=this._dataController.getCombinedFilter()||null;l.setCurrentColumnForFiltering(null);var v=p.option("dataSource"),g=!o||!Mr(v.__dataGridSourceFilter||null,f);if(g){var m=ye.getWrappedLookupDataSource(c,s,f);p.option("dataSource",m)}}}})}},optionChanged(o){switch(o.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),o.handled=!0;break;case"syncLookupFilterValues":o.value?this.updateLookupDataSource():this.render(),o.handled=!0;break;default:this.callBase(o)}}}}(),xMe={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var r=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0),t=this.getController("applyFilter");return U(e,function(){var n,i=((n=t.getCurrentColumnForFiltering())===null||n===void 0?void 0:n.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&L(this.filterValue)&&!i){var o=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");r.push(o)}}),ye.combineFilters(r)}},IMe=kr.ViewController.inherit({_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight(r,e){Pf(this)&&(r&&r.toggleClass(IO,e)&&r.closest(".".concat(UP)).toggleClass(RO,e),this._getHeaderPanel().enableApplyButton(e))},applyFilter(){var r=this.getController("columns"),e=r.getColumns();r.beginUpdate();for(var t=0;t<e.length;t++){var n=e[t];n.bufferedFilterValue!==void 0&&(r.columnOption(t,"filterValue",n.bufferedFilterValue),n.bufferedFilterValue=void 0),n.bufferedSelectedFilterOperation!==void 0&&(r.columnOption(t,"selectedFilterOperation",n.bufferedSelectedFilterOperation),n.bufferedSelectedFilterOperation=void 0)}r.endUpdate(),this.removeHighLights()},removeHighLights(){if(Pf(this)){var r=this.getView("columnHeadersView").element();r.find(".".concat(this.addWidgetPrefix(Ym)," .").concat(IO)).removeClass(IO),r.find(".".concat(this.addWidgetPrefix(Ym)," .").concat(RO)).removeClass(RO),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering(r){this._currentColumn=r},getCurrentColumnForFiltering(){return this._currentColumn}}),TMe={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:J.format("dxDataGrid-filterRowShowAllText"),resetOperationText:J.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:J.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:J.format("dxDataGrid-filterRowOperationEquals"),notEqual:J.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:J.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:J.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:J.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:J.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:J.format("dxDataGrid-filterRowOperationStartsWith"),contains:J.format("dxDataGrid-filterRowOperationContains"),notContains:J.format("dxDataGrid-filterRowOperationNotContains"),endsWith:J.format("dxDataGrid-filterRowOperationEndsWith"),between:J.format("dxDataGrid-filterRowOperationBetween"),isBlank:J.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:J.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:J.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:J.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:IMe},extenders:{controllers:{data:xMe,columnsResizer:{_startResizing(){if(this.callBase.apply(this,arguments),this.isResizing()){var r=this._columnHeadersView.getFilterRangeOverlayInstance();if(r){var e=r.$element().closest("td").index();(e===this._targetPoint.columnIndex||e===this._targetPoint.columnIndex+1)&&r.$content().hide()}}},_endResizing(){var r;if(this.isResizing()){var e=this._columnHeadersView.getFilterRangeOverlayInstance();e&&(r=e.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:er(r,!0)+Z7}),e.$content().show())}this.callBase.apply(this,arguments)}},editing:{updateFieldValue(r){return r.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData(r){var e;return this._needUpdateLookupDataSource&&!r&&((e=this.getView("columnHeadersView"))===null||e===void 0||e.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:EMe,headerPanel:{_getToolbarItems(){var r=this.callBase(),e=this._prepareFilterItem(r);return e.concat(r)},_prepareFilterItem(){var r=this,e=[];if(r._isShowApplyFilterButton()){var t=r.option("filterRow.applyFilterText"),n=r._columnsController.getColumns(),i=!n.filter(a=>a.bufferedFilterValue!==void 0).length,o={widget:"dxButton",options:{icon:"apply-filter",disabled:i,onClick:function(){r._applyFilterViewController.applyFilter()},hint:t,text:t,onInitialized:function(a){E(a.element).addClass(r._getToolbarButtonClass(yMe))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};e.push(o)}return e},_isShowApplyFilterButton(){var r=this.option("filterRow");return r&&r.visible&&r.applyFilter==="onClick"},init(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton(r){this.setToolbarItemDisabled("applyFilterButton",!r)},isVisible(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged(r){r.name==="filterRow"?(this._invalidate(),r.handled=!0):this.callBase(r)}}}}};at.registerModule("filterRow",TMe);zh.setEditorClass(qC);var kU="dx-header-filter",VU="dx-header-filter-menu",RMe="text";function J7(r){r=r||[];for(var e=0;e<r.length;e++)r[e].selected=!1,J7(r[e].items)}function eX(r){var e=r.NAME==="dxTreeView"?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return r.$element().find(e).dxCheckBox("instance")}function BU(r,e){if(!r.component.option("searchValue")){var t=eX(r.component);t&&e&&e.length&&t.option("value",void 0)}}function OMe(r,e,t){if(e^t){if(r.selected=!0,t&&r.items){for(var n=0;n<r.items.length;n++)if(!r.items[n].selected){r.selected=void 0;break}}}else(t||r.selected)&&(r.selected=!1,J7(r.items))}var DMe=kr.View.inherit({getPopupContainer(){return this._popupContainer},getListComponent(){return this._listComponent},applyHeaderFilter(r){var e=this.getListComponent(),t=e.option("searchValue"),n=eX(e),i=!t&&!r.isFilterBuilder&&(n==null?void 0:n.option("value")),o=[];i?(r.type==="tree"&&(r.filterType="exclude"),Array.isArray(r.filterValues)&&(r.filterValues=[])):r.type==="tree"&&(r.filterType&&(r.filterType="include"),function a(s,l,u){U(l,(c,d)=>{if(d.selected!==void 0&&!!d.selected^u){var h=e._getNode(d),p=e._hasChildren(h),f=p&&d.items&&d.items.some(v=>v.selected);if(!t||!f){s.push(d.value);return}}d.items&&d.items.length&&a(s,d.items,u)})}(o,e.option("items"),!1),r.filterValues=o),r.filterValues&&!r.filterValues.length&&(r.filterValues=null),r.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu(r,e){if(e){this._initializePopupContainer(e);var t=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(r,e),t.show()}},hideHeaderFilterMenu(){var r=this.getPopupContainer();r&&r.hide()},updatePopup(r,e){var t=this.option("showColumnLines"),n=e.alignment==="right"^!t?"left":"right";this._popupContainer.setAria({role:"dialog",label:J.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(n," top"),at:"".concat(n," bottom"),of:r,collision:"fit fit"}))},_getSearchExpr(r,e){var{lookup:t}=r,{useDefaultSearchExpr:n}=r,i=e.dataSource,o=e.search.searchExpr;if(o)return o;if(n||L(i)&&!Ne(i))return RMe;if(t)return t.displayExpr||"this";if(r.dataSource){var{group:a}=r.dataSource;if(Array.isArray(a)&&a.length>0)return a[0].selector;if(Ne(a)&&!r.remoteFiltering)return a}return r.dataField||r.selector},_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer(r){var e=this,t=e.element(),n=this._normalizeHeaderFilterOptions(r),{height:i,width:o}=n,a={width:o,height:i,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:VU},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.ok,onClick(){e.applyHeaderFilter(r)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.cancel,onClick(){e.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing(s){s.component.$content().parent().addClass("dx-dropdowneditor-overlay"),e._initializeListContainer(r,n),r.onShowing&&r.onShowing(s)},onShown(){e.getListComponent().focus()},onHidden:r.onHidden,onInitialized(s){var{component:l}=s;l.option("animation",l._getDefaultOptions().animation)}};L(e._popupContainer)?e._popupContainer.option(a):e._popupContainer=e._createComponent(t,ql,a)},_initializeListContainer(r,e){var t=this,n=t._popupContainer.$content(),i=!r.isFilterBuilder&&e.allowSelectAll,o={searchEnabled:e.search.enabled,searchTimeout:e.search.timeout,searchEditorOptions:e.search.editorOptions,searchMode:e.search.mode||"",dataSource:r.dataSource,onContentReady(){t.renderCompleted.fire()},itemTemplate(s,l,u){var c=E(u);return r.encodeHtml?c.text(s.text):c.html(s.text)}};function a(s){s.fullName==="searchValue"&&i&&t.option("headerFilter.hideSelectAllOnSearch")!==!1&&(r.type==="tree"?s.component.option("showCheckBoxesMode",s.value?"normal":"selectAll"):s.component.option("selectionMode",s.value?"multiple":"all"))}r.type==="tree"?t._listComponent=t._createComponent(E("<div>").appendTo(n),QC,$(o,{showCheckBoxesMode:i?"selectAll":"normal",onOptionChanged:a,keyExpr:"id"})):t._listComponent=t._createComponent(E("<div>").appendTo(n),Rv,$(o,{searchExpr:t._getSearchExpr(r,e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:i?"all":"multiple",onOptionChanged:a,onSelectionChanged(s){var l=s.component.option("items"),u=s.component.option("selectedItems");if(!s.component._selectedItemsUpdating&&!s.component.option("searchValue")&&!r.isFilterBuilder){var c=r.filterValues||[],d=r.filterType==="exclude";u.length===0&&l.length&&(c.length<=1||d&&c.length===l.length-1)?(r.filterType="include",r.filterValues=[]):u.length===l.length&&(r.filterType="exclude",r.filterValues=[])}U(l,(h,p)=>{var f=ye.getIndexByKey(p,u,null)>=0,v=!!p.selected;if(v!==f){p.selected=f,r.filterValues=r.filterValues||[];var g=ye.getIndexByKey(p.value,r.filterValues,null);g>=0&&r.filterValues.splice(g,1);var m=r.filterType==="exclude";f^m&&r.filterValues.push(p.value)}}),BU(s,r.filterValues)},onContentReady(s){var{component:l}=s,u=l.option("items"),c=[];U(u,function(){this.selected&&c.push(this)}),l._selectedItemsUpdating=!0,l.option("selectedItems",c),l._selectedItemsUpdating=!1,BU(s,r.filterValues)}}))},_normalizeHeaderFilterOptions(r){var e=this.option("headerFilter")||{},t=r.headerFilter||{},n={search:{enabled:e.allowSearch,timeout:e.searchTimeout}},i={search:{enabled:t.allowSearch,mode:t.searchMode,timeout:t.searchTimeout}};return $(!0,{},e,n,t,i)},_renderCore(){this.element().addClass(VU)}}),p0=function(r){return L(r.allowHeaderFiltering)?r.allowHeaderFiltering:r.allowFiltering},tX={_applyColumnState(r){var e,{rootElement:t}=r,{column:n}=r;if(r.name==="headerFilter"){if(t.find(".".concat(kU)).remove(),p0(n)){e=this.callBase(r).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(n)),this.option("useLegacyKeyboardNavigation")||e.attr("tabindex",this.option("tabindex")||0);var i=J.format("dxDataGrid-headerFilterIndicatorLabel",n.caption);e.attr("aria-label",i),e.attr("aria-haspopup","dialog"),e.attr("role","button")}return e}return this.callBase(r)},_isHeaderFilterEmpty:r=>!r.filterValues||!r.filterValues.length,_getIndicatorClassName(r){return r==="headerFilter"?kU:this.callBase(r)},_renderIndicator(r){var e=r.container,t=r.indicator;if(r.name==="headerFilter"){var n=this.option("rtlEnabled");if(e.children().length&&(!n&&r.columnAlignment==="right"||n&&r.columnAlignment==="left")){e.prepend(t);return}}this.callBase(r)},optionChanged(r){if(r.name==="headerFilter"){var e=this.name==="columnHeadersView";this._invalidate(e,e),r.handled=!0}else this.callBase(r)}},AMe={month:r=>kt.getMonthNames()[r-1],quarter:r=>kt.format(new Date(2e3,3*r-1),"quarter")};function rX(r,e,t){return e=e||[],t=t||[],r.forEach(n=>{if(L(n.key)){var i=e.length===1;if(e.push(i?n.key-1:n.key),n.items)rX(n.items,e,t);else{var o=new Date(Date.UTC.apply(Date,e));t.push(o)}e.pop()}else t.push(null)}),t}function PMe(r,e){var t=rX(r),n=po(t),i=ye.getHeaderFilterGroupParameters(b(b({},e),{calculateCellValue:o=>o}));return Ru.queryByOptions(n,{group:i}).toArray()}function MMe(r){return(r==null?void 0:r.slice(-1))==="Z"||(r==null?void 0:r.slice(-3))==="'Z'"}var FMe=kr.ViewController.inherit({init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState(r,e){for(var t=r.length,n=e.filterType==="exclude";t--;){var i=r[t];"items"in r[t]&&this._updateSelectedState(r[t].items,e),OMe(i,ye.getIndexByKey(r[t].value,e.filterValues,null)>-1,n)}},_normalizeGroupItem(r,e,t){var n,i,{path:o}=t,{valueSelector:a}=t,{displaySelector:s}=t,{column:l}=t;return a&&s?(n=a(r),i=s(r)):(n=r.key,i=n),pt(r)?r=$({},r):r={},o.push(n),o.length===1?r.value=o[0]:r.value=o.join("/"),r.text=this.getHeaderItemText(i,l,e,t.headerFilterOptions),r},getHeaderItemText(r,e,t,n){var i=ye.formatValue(r,function(o,a,s){var l=Wh.getGroupInterval(a),u=ye.getFormatOptionsByColumn(a,"headerFilter");return l&&(u.groupInterval=l[s],ye.isDateType(a.dataType)?u.format=AMe[l[s]]:a.dataType==="number"&&(u.getDisplayFormat=function(){var c={format:a.format,target:"headerFilter"},d=ye.formatValue(o,c),h=o+l[s],p=ye.formatValue(h,c);return d&&p?"".concat(d," - ").concat(p):""})),u}(r,e,t));return i||(i=n.texts.emptyValue),i},_processGroupItems(r,e,t,n){var i,o,{column:a}=n,{lookup:s}=a,{level:l}=n;t=t||[],e=e||0,s&&(i=Ar(s.displayExpr),o=Ar(s.valueExpr));for(var u=0;u<r.length;u++)r[u]=this._normalizeGroupItem(r[u],e,{column:n.column,headerFilterOptions:n.headerFilterOptions,displaySelector:i,valueSelector:o,path:t}),"items"in r[u]&&(e===l||!L(r[u].value)?delete r[u].items:this._processGroupItems(r[u].items,e+1,t,n)),t.pop()},getDataSource(r){var e,t=this._dataController.dataSource(),n=t==null?void 0:t.remoteOperations().grouping,i=ye.getHeaderFilterGroupParameters(r,n),o=(e=r.headerFilter)===null||e===void 0?void 0:e.dataSource,a=this.option("headerFilter"),s=!1,l={component:this.component};if(t){if(L(o)&&!Ne(o))l.dataSource=Tv(o);else if(r.lookup)if(s=!0,this.option("syncLookupFilterValues")){this._currentColumn=r;var u=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource=ye.getWrappedLookupDataSource(r,t,u)}else l.dataSource=ye.normalizeLookupDataSource(r.lookup);else{var c=Array.isArray(i)?i.length-1:0;this._currentColumn=r;var d=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource={filter:d,group:i,useDefaultSearch:!0,load:f=>{var v=new X;return f.dataField=r.dataField||r.name,t.load(f).done(g=>{var m=n&&MMe(r.serializationFormat)&&c>3;m&&(g=PMe(g,r)),p._processGroupItems(g,null,null,{level:c,column:r,headerFilterOptions:a}),v.resolve(g)}).fail(v.reject),v}}}Ne(o)&&o.call(r,l);var h=l.dataSource.postProcess,p=this;return l.dataSource.postProcess=function(f){var v=f;return s&&(v=v.filter(g=>g[r.lookup.valueExpr]!==null),this.pageIndex()===0&&!this.searchValue()&&(v=v.slice(0),v.unshift(null)),p._processGroupItems(v,null,null,{level:0,column:r,headerFilterOptions:a})),v=h&&h.call(this,v)||v,p._updateSelectedState(v,r),v},l.dataSource}},getCurrentColumn(){return this._currentColumn},showHeaderFilterMenu(r,e){var t=this._columnsController,n=$(!0,{},this._columnsController.getColumns()[r]);if(n){var i=t.getVisibleIndex(r),o=e?this.getView("headerPanel"):this.getView("columnHeadersView"),a=o.getColumnElements().eq(e?n.groupIndex:i);this.showHeaderFilterMenuBase({columnElement:a,column:n,applyFilter:!0,apply(){t.columnOption(r,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase(r){var e=this,{column:t}=r;if(t){var n=Wh.getGroupInterval(t),i=e._dataController.dataSource(),o=i&&i.remoteOperations().filtering,a=r.onHidden;$(r,t,{type:n&&n.length>1?"tree":"list",remoteFiltering:o,onShowing(s){var l=s.component.$overlayContent().dxResizable("instance");l&&l.option("onResizeEnd",u=>{var c=e.getController("columns"),d=c.columnOption(r.dataField,"headerFilter");d=d||{},d.width=u.width,d.height=u.height,c.columnOption(r.dataField,"headerFilter",d,!0)})},onHidden:()=>{a==null||a(),JF(this)}}),r.dataSource=e.getDataSource(r),r.isFilterBuilder&&(r.dataSource.filter=null,r.alignment="right"),e._headerFilterView.showHeaderFilterMenu(r.columnElement,r)}},hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}}),LMe=$({},tX,{_renderCellContent(r,e){var t,{column:n}=e;!n.command&&p0(n)&&this.option("headerFilter.visible")&&e.rowType==="header"&&(t=this._applyColumnState({name:"headerFilter",rootElement:r,column:n,showColumnLines:this.option("showColumnLines")}),t&&this._subscribeToIndicatorEvent(t,n,"headerFilter")),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent(r,e,t){t==="headerFilter"&&B.on(r,sr,this.createAction(n=>{n.event.stopPropagation(),zq(r,this),this.getController("headerFilter").showHeaderFilterMenu(e.index,!1)}))},_updateIndicator(r,e,t){var n=this.callBase(r,e,t);n&&this._subscribeToIndicatorEvent(n,e,t)},_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:()=>!0,_columnOptionChanged(r){var{optionNames:e}=r,t=ye.checkChanges(e,["filterValues","filterValue"]),n=ye.checkChanges(e,["filterValues","filterType"]),i=(t||n)&&this._needUpdateFilterIndicators();i&&this._updateHeaderFilterIndicators(),n||this.callBase(r)}}),NMe=$({},tX,{_createGroupPanelItem(r,e){var t=this,n=t.callBase.apply(t,arguments),i;return!e.command&&p0(e)&&t.option("headerFilter.visible")&&(i=t._applyColumnState({name:"headerFilter",rootElement:n,column:{alignment:ud(t.option("rtlEnabled")),filterValues:e.filterValues,allowHeaderFiltering:!0,caption:e.caption},showColumnLines:!0}),i&&B.on(i,sr,t.createAction(o=>{var{event:a}=o;a.stopPropagation(),t.getController("headerFilter").showHeaderFilterMenu(e.index,!0)}))),n}}),kMe={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var r=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0),t=this.getController("headerFilter"),n=t.getCurrentColumn();return U(e,(i,o)=>{var a;if(!(n&&n.index===o.index)&&p0(o)&&o.calculateFilterExpression&&Array.isArray(o.filterValues)&&o.filterValues.length){var s=[];U(o.filterValues,(l,u)=>{Array.isArray(u)?a=u:(o.deserializeValue&&!ye.isDateType(o.dataType)&&o.dataType!=="number"&&(u=o.deserializeValue(u)),a=o.createFilterExpression(u,"=","headerFilter")),a&&(a.columnIndex=o.index),s.push(a)}),s=ye.combineFilters(s,"or"),r.push(o.filterType==="exclude"?["!",s]:s)}}),ye.combineFilters(r)}},VMe={defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:J.format("dxDataGrid-headerFilterEmptyValue"),ok:J.format("dxDataGrid-headerFilterOK"),cancel:J.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:FMe},views:{headerFilterView:DMe},extenders:{controllers:{data:kMe},views:{columnHeadersView:LMe,headerPanel:NMe}}};at.registerModule("headerFilter",VMe);var f0="dx-filterbuilder-range",BMe="".concat(f0,"-start"),HMe="".concat(f0,"-end"),GMe="".concat(f0,"-separator"),nX="";function $Me(r,e){var t=E("<div>").addClass(BMe),n=E("<div>").addClass(HMe),i=r.value||[],o=function(s){return s&&s.length>0?s[0]:null},a=function(s){return s&&s.length===2?s[1]:null};e.append(t),e.append(E("<span>").addClass(GMe).text(nX)),e.append(n),e.addClass(f0),this._editorFactory.createEditor.call(this,t,$({},r.field,r,{value:o(i),parentType:"filterBuilder",setValue(s){i=[s,a(i)],r.setValue(i)}})),this._editorFactory.createEditor.call(this,n,$({},r.field,r,{value:a(i),parentType:"filterBuilder",setValue(s){i=[o(i),s],r.setValue(i)}}))}function HU(r,e){return{name:"between",caption:r,icon:"range",valueSeparator:nX,dataTypes:["number","date","datetime"],editorTemplate:$Me.bind(e),notForLookup:!0}}var WMe={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},zMe={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"};const iX={getIconByFilterOperation:r=>WMe[r],getNameByFilterOperation:r=>zMe[r]};var xN="string",GU="icon-none",nd="and",IN="=",UMe="<>",jMe={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},KMe={date:"shortDate",datetime:"shortDateShortTime"},qMe=["=","<>","isblank","isnotblank"],YMe=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],XMe="dx-filterbuilder",oX="".concat(XMe,"-text"),QMe="".concat(oX,"-part"),aX="".concat(oX,"-separator"),ZMe="".concat(aX,"-empty");function JMe(r,e){var t=r.format||KMe[r.dataType];return eY.format(e,t)}function Kh(r){return r&&r.length>1&&r[0]==="!"&&!_i(r)}function hd(r){return Kh(r)?r[1]:r}function eFe(r,e){return Kh(r)?r[1]=e:r=e,r}function tFe(r,e){(function(t){return t.indexOf("!")!==-1})(e)?Kh(r)||function(t){var n=t.slice(0);t.length=0,t.push("!",n)}(r):Kh(r)&&function(t){var n=hd(t);t.length=0,[].push.apply(t,n)}(r)}function rFe(r,e){tFe(r,e);var t=hd(r),n;return e=function(i){return i.indexOf("!")===-1?i:i.substring(1)}(e),function(i,o){for(n=0;n<i.length;n++)Array.isArray(i[n])||(i[n]=o)}(t,e),r}function nFe(r,e){var t=_p(r);return e.filter(n=>n.value===t)[0]}function sX(r){if(_i(r))return nd;for(var e="",t=0;t<r.length;t++){var n=r[t];if(!Array.isArray(n)){if(e&&e!==n)throw new Hn.Error("E4019");n!=="!"&&(e=n)}}return e}function _p(r){var e=hd(r),t=sX(e);return t||(t=nd),e!==r&&(t="!".concat(t)),t}function iFe(r){return r.lookup&&qMe||jMe[r.dataType||xN]}function oFe(r){return Array.isArray(r)&&r.length}function lX(r){var e=oFe(r.filterOperations)?r.filterOperations:iFe(r);return $([],e)}function jP(r,e){var t=iX.getNameByFilterOperation(r);return e&&e[t]?e[t]:t}function aFe(r,e){for(var t=0;t<e.length;t++)if(e[t].value===r)return e[t];throw new Ht.Error("E1048",r)}function bu(r,e){var t=r.filter(n=>n.name===e);return t.length?t[0]:null}function sFe(r,e,t){var n=lX(r),i=!!r.lookup;return t.forEach(o=>{if(!r.filterOperations&&n.indexOf(o.name)===-1){var a=o&&o.dataTypes,s=i?!!o.notForLookup:!1;!s&&a&&a.indexOf(r.dataType||xN)>=0&&n.push(o.name)}}),n.map(o=>{var a=bu(t,o);return a?{icon:a.icon||GU,text:a.caption||Lh(a.name),value:a.name,isCustom:!0}:{icon:iX.getIconByFilterOperation(o)||GU,text:jP(o,e),value:o}})}function TN(r){return r.defaultFilterOperation||lX(r)[0]}function lFe(r,e){var t=[r.dataField,"",""],n=TN(r);return qP(t,n,e),t}function KP(r,e){var t=hd(r),n=t.indexOf(e);return t.splice(n,1),t.length!==1&&t.splice(n,1),r}function uX(r){var e=RN(r),t=e?ON(r):r;return e?["!",[t]]:[t]}function uE(r,e){var t=hd(e),n=_p(t);return t.length===1?t.unshift(r):t.push(r,n),e}function cE(r,e){for(var t=0;t<e.length;t++)if(e[t].name===r||e[t].dataField.toLowerCase()===r.toLowerCase())return e[t];var n=vX(e,!0).filter(i=>i.dataField.toLowerCase()===r.toLowerCase());if(n.length>0)return n[0];throw new Ht.Error("E1047",r)}function pd(r){return Array.isArray(r)?r.length<2||Array.isArray(r[0])||Array.isArray(r[1]):!1}function _i(r){return Array.isArray(r)?r.length>1&&!Array.isArray(r[0])&&!Array.isArray(r[1]):!1}function $U(r,e,t){t=t||nd;for(var n=sX(r).toLowerCase()||t,i=[],o=0;o<r.length;o++)pd(r[o])?(i.push(DN(r[o],e,t)),i=AO(i,n)):_i(r[o])&&(i.push(dE(r[o],e)),i=AO(i,n));return i.length===0&&(i=AO(i,n)),i}function uFe(r,e){var t=bu(e,r[1]);return t&&t.name===r[1]}function dE(r,e){return uFe(r,e)||r.length<3&&(r[2]=r[1],r[1]=IN),r}function RN(r){return r.indexOf("not")!==-1}function ON(r){return r.substring(3).toLowerCase()}function DO(r,e){var t=RN(e);return e=t?ON(e):e,t?["!",r,e]:[r,e]}function AO(r,e){var t=RN(e);e=t?ON(e):e,r.push(e);var n=r;return t&&(n=["!",n]),n}function DN(r,e,t){return t=t||nd,r?(r=$(!0,[],r),_i(r)?DO(dE(r,e),t):Kh(r)?["!",_i(r[1])?DO(dE(r[1],e),t):Kh(r[1])?DO(DN(r[1],e),t):$U(r[1],e,t)]:$U(r,e,t)):uX(t)}function cFe(r){return r.reduce((e,t)=>{if(L(t.dataField)){var n={};for(var i in t)t[i]&&YMe.includes(i)&&(n[i]=t[i]);n.defaultCalculateFilterExpression=Wh.defaultCalculateFilterExpression,L(n.dataType)||(n.dataType=xN),L(n.trueText)||(n.trueText=J.format("dxDataGrid-trueText")),L(n.falseText)||(n.falseText=J.format("dxDataGrid-falseText")),e.push(n)}return e},[])}function WU(r,e,t,n){var i=cE(r[0],e),o=dE(r,t),a=t.length&&bu(t,o[1]);return a&&a.calculateFilterExpression?a.calculateFilterExpression.apply(a,[o[2],i,e]):i.createFilterExpression?i.createFilterExpression.apply(i,[o[2],o[1],n]):i.calculateFilterExpression?i.calculateFilterExpression.apply(i,[o[2],o[1],n]):i.defaultCalculateFilterExpression.apply(i,[o[2],o[1],n])}function sv(r,e,t,n){if(!L(r))return null;if(Kh(r)){var i=sv(r[1],e,t,n);return["!",i]}var o=hd(r);if(_i(o))return WU(o,e,t,n)||null;for(var a=[],s,l=_p(o),u=0;u<o.length;u++)pd(o[u])?(s=sv(o[u],e,t,n),s&&(u&&a.push(l),a.push(s))):_i(o[u])&&(s=WU(o[u],e,t,n),s&&(a.length&&a.push(l),a.push(s)));return a.length===1&&(a=a[0]),a.length?a:null}function Xm(r){var e=hd(r),t;if(e.length===0)return null;var n=[];for(t=0;t<e.length;t++)if(pd(e[t])){var i=Xm(e[t]);i?e[t]=i:n.push(e[t])}else _i(e[t])&&(hFe(e[t])||n.push(e[t]));for(t=0;t<n.length;t++)KP(e,n[t]);return e.length===1||(e.splice(e.length-1,1),e.length===1&&(r=eFe(r,e[0])),r.length===0)?null:r}function cX(r,e,t){if(e===""){t("");return}var{lookup:n}=r;if(n.items)t(n.calculateCellValue(e)||"");else{var i=Ne(n.dataSource)?n.dataSource({}):n.dataSource,o=new Ou(i);o.loadSingle(n.valueExpr,e).done(a=>{var s="";a&&(s=n.displayExpr?Ar(n.displayExpr)(a):a),r.customizeText&&(s=r.customizeText({value:e,valueText:s})),t(s)}).fail(()=>{t("")})}}function dX(r,e,t,n,i){var o;return e===!0?o=r.trueText||J.format("dxDataGrid-trueText"):e===!1?o=r.falseText||J.format("dxDataGrid-falseText"):o=JMe(r,e),r.customizeText&&(o=r.customizeText.call(r,{value:e,valueText:o,target:n})),t&&t.customizeText&&(o=t.customizeText.call(t,{value:e,valueText:o,field:r,target:n},i)),o}function dFe(r,e,t,n){var i={values:e};return e.map(o=>dX(r,o,t,n,i))}function PO(r){return r===""||r===null}function hX(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(PO(e))return"";if(Array.isArray(e)){var i=new X;return $e.apply(this,dFe(r,e,t,n)).done(function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=a.some(u=>!PO(u))?a.map(u=>PO(u)?"?":u):"";i.resolve(l)}),i}return dX(r,e,t,n)}function zU(r,e){return r.some(t=>t.dataField===e)}function pX(r,e,t){var{dataField:n}=t;AN(n)&&(t.parentId=gX(n),!zU(e,t.parentId)&&!zU(r,t.parentId)&&pX(r,e,{id:t.parentId,dataType:"object",dataField:t.parentId,caption:fX(t.parentId,!0),filterOperations:["isblank","isnotblank"],defaultCalculateFilterExpression:Wh.defaultCalculateFilterExpression})),e.push(t)}function fX(r,e){var t="";if(e)r=r.substring(r.lastIndexOf(".")+1);else if(AN(r))return r.split(".").forEach((n,i,o)=>{t+=Lh(n),i!==o.length-1&&(t+=".")}),t;return Lh(r)}function vX(r,e){for(var t=[],n=0;n<r.length;n++){var i=$(!0,{caption:fX(r[n].dataField,e)},r[n]);i.id=i.name||i.dataField,e?pX(r,t,i):t.push(i)}return t}function AN(r){return r.lastIndexOf(".")!==-1}function gX(r){return r.substring(0,r.lastIndexOf("."))}function mX(r,e){if(AN(r.dataField)){for(var t=gX(r.dataField),n=0;n<e.length;n++)if(e[n].dataField===t)return"".concat(mX(e[n],e),".").concat(r.caption)}return r.caption}function qP(r,e,t){var n=bu(t,e);return n?(n.hasValue===!1?(r[1]=e,r.length=2):(r[1]=e,r[2]=""),r):(e==="isblank"?(r[1]=IN,r[2]=null):e==="isnotblank"?(r[1]=UMe,r[2]=null):(n=bu(t,r[1]),(n||r.length===2||r[2]===null)&&(r[2]=""),r[1]=e),r)}function UU(r){var e;return r[2]===null?r[1]===IN?e="isblank":e="isnotblank":e=r[1],e}function hFe(r){return r[2]!==""}function pFe(r,e,t){var n=$(!0,[],r),i=-1;return n.some((o,a)=>{if(o.name==="between")return i=a,!0}),i!==-1?n[i]=$(HU(e,t),n[i]):n.unshift(HU(e,t)),n}function L_(r,e){return r[0]===e}function YP(r,e){if(!r||r.length===0)return null;if(_i(r)){var t=L_(r,e);return t?null:r}return _X(r,[e],!1)}function _X(r,e,t){var n=[];return r.forEach(i=>{_i(i)?L_(i,e[0])?t?(n.push(e),t=!1):n.splice(n.length-1,1):n.push(i):(n.length||pd(i))&&n.push(i)}),n.length===0?null:(t&&(n.push(nd),n.push(e)),n.length===1?n[0]:n)}function jU(r,e){if(r===null||r.length===0)return e;if(_i(r))return L_(r,e[0])?e:[r,nd,e];var t=_p(r);return t!==nd?[e,"and",r]:_X(r,e,!0)}function fFe(r,e){if(r===null||r.length===0)return[];if(_i(r))return L_(r,e)?[r]:[];var t=_p(r);if(t!==nd)return[];var n=r.filter(i=>_i(i)&&L_(i,e));return n}function CX(r,e){return r===null||r.length===0?!1:_i(r)?r[0]===e:r.some(t=>(_i(t)||pd(t))&&CX(t,e))}var XP=function(r,e,t){if(Array.isArray(e)){var n=e.length-1;r.empty(),e.forEach((i,o)=>{E("<span>").addClass(QMe).text(i).appendTo(r),o!==n&&E("<span>").addClass(aX).text(t&&t.valueSeparator?t.valueSeparator:"|").addClass(ZMe).appendTo(r)})}else e?r.text(e):r.text(J.format("dxFilterBuilder-enterValueText"))};function yX(r){var e=function(n,i){return i?"".concat(i,"/").concat(n):n},t=r&&r.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(n,i,o){var a=[],s=n.length-1;return n&&n.forEach((l,u)=>{if(_i(l)||pd(l)){var c=sv(l,o,[],"headerFilter");a.push(c)}else{var d=sv([i.dataField,"=",l],o,[],"headerFilter");a.push(d)}u!==s&&a.push("or")}),a.length===1?a[0]:a},editorTemplate(n,i){var o=E("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(i),a=$(!0,{},r.columnOption(n.field.dataField));return XP(o,n.text&&n.text.split("|")),a.filterType="include",a.filterValues=n.value?n.value.slice():[],t.showHeaderFilterMenuBase({columnElement:o,column:a,apply(){s=this.filterValues,n.setValue(s);var s;t.hideHeaderFilterMenu(),n.closeEditor()},onHidden(){n.closeEditor()},isFilterBuilder:!0}),i},customizeText:function(n,i){i=i||{};var{value:o}=n,a=r.columnOption(n.field.dataField),s=a&&a.headerFilter,l=a&&a.lookup,u=i.values||[o];if(s&&s.dataSource||l&&l.dataSource){var c=new X,d=i.items||new X;if(!i.items){a=$({},a,{filterType:"include",filterValues:u});var h=t.getDataSource(a);h.paginate=!1;var p=new Ou(h),f=p.store().key();if(f){var{values:v}=i;if(v&&v.length>1){var g=v.reduce((C,y)=>(C.length&&C.push("or"),C.push([f,"=",y]),C),[]);p.filter(g)}else p.filter([f,"=",n.value])}else n.field.calculateDisplayValue&&Ht.log("W1017");i.items=d,p.load().done(d.resolve)}return d.done(C=>{var y=u.indexOf(n.value);c.resolve(function w(T,S){var x=[];return T.forEach(I=>{if(I.items){var R=w(I.items,e(I.text,S));x=x.concat(R)}I.selected&&x.push(e(I.text,S))}),x}(C,null)[y])}),c}var m=t.getHeaderItemText(o,a,0,r.option("headerFilter"));return m}}}function vFe(r){return $(yX(r),{name:"anyof",icon:"selectall",caption:J.format("dxFilterBuilder-filterOperationAnyOf")})}function gFe(r){var e=yX(r);return $({},e,{calculateFilterExpression(t,n,i){var o=e.calculateFilterExpression(t,n,i);return!o||o.length===0?null:o[0]==="!"?o:["!",o]},name:"noneof",icon:"unselectall",caption:J.format("dxFilterBuilder-filterOperationNoneOf")})}var mFe=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],KU="include",Qm="exclude";function ml(r){return r.name||r.dataField}function _Fe(r){r.forEach(e=>{var t=ml(e);if(!L(t)&&e.allowFiltering)throw new Ht.Error("E1049",e.caption)})}var CFe=kr.Controller.inherit(function(){var r=function(){return{filterType:KU,filterValues:void 0}},e=function(a){var s=a.filterValues||[];return!Wh.getGroupInterval(a)&&!(a.headerFilter&&a.headerFilter.dataSource)||s.length===1&&s[0]===null},t=function(a){var s=a.filterValue;if(L(s)){var l=a.selectedFilterOperation||a.defaultFilterOperation||TN(a),u=[ml(a),l,a.filterValue];return u}return null},n=function(a){var s,l,{filterValues:u}=a;return u?(u.length===1&&e(a)&&!Array.isArray(u[0])?(a.filterType===Qm?s="<>":s="=",l=u[0]):(a.filterType===Qm?s="noneof":s="anyof",l=u),[ml(a),s,l]):null},i=function(a,s,l){var u=function(c,d){if(!c)return r();var h,p=c[1],f=c[2],v=Array.isArray(f);if(!v&&!e(d))return r();switch(p){case"anyof":case"=":h=KU;break;case"noneof":case"<>":h=Qm;break;default:return r()}return{filterType:h,filterValues:v?f:[f]}}(l,s);a.columnOption(ml(s),u)},o=function(a,s,l){var u,c=l==null?void 0:l[1],d=l==null?void 0:l[2],h=s.filterOperations||s.defaultFilterOperations;(!h||h.indexOf(c)>=0||c===s.defaultFilterOperation)&&mFe.includes(c)&&d!==null?(c===s.defaultFilterOperation&&!L(s.selectedFilterOperation)&&(c=s.selectedFilterOperation),u={filterValue:d,selectedFilterOperation:c}):u={filterValue:void 0,selectedFilterOperation:void 0},a.columnOption(ml(s),u)};return{syncFilterValue(){var a=this,s=a.getController("columns"),l=s.getFilteringColumns();this._skipSyncColumnOptions=!0,l.forEach(u=>{var c=fFe(a.option("filterValue"),ml(u));if(c.length===1){var d=c[0];i(s,u,d),o(s,u,d)}else L(u.filterValues)&&i(s,u,null),L(u.filterValue)&&o(s,u,null)}),this._skipSyncColumnOptions=!1},_initSync(){var a=this.getController("columns").getColumns(),s=this.getController("data"),l=s.pageIndex();if(_Fe(a),!this.option("filterValue")){var u=this.getController("columns").getFilteringColumns(),c=this.getFilterValueFromColumns(u);this._silentOption("filterValue",c)}this.syncFilterValue(),s.pageIndex(l)},init(){var a=this.getController("data");a.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():a.dataSourceChanged.add(()=>this._initSync()))},_getSyncFilterRow(a,s){var l=t(s);return L(l)?jU(a,l):YP(a,ml(s))},_getSyncHeaderFilter(a,s){var l=n(s);return l?jU(a,l):YP(a,ml(s))},getFilterValueFromColumns(a){if(!this.getController("data").isFilterSyncActive())return null;var s=["and"];return a&&a.forEach(l=>{var u=n(l),c=t(l);u&&uE(u,s),c&&uE(c,s)}),Xm(s)},syncFilterRow(a){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),a))},syncHeaderFilter(a){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),a))},getCustomFilterOperations(){var a=this.option("filterBuilder.customOperations")||[];return[vFe(this.component),gFe(this.component)].concat(a)},publicMethods:()=>["getCustomFilterOperations"]}}()),yFe={isFilterSyncActive(){var r=this.option("filterSyncEnabled");return r==="auto"?this.option("filterPanel.visible"):r},skipCalculateColumnFilters(){var r=this.getController("filterSync");return(L(this.option("filterValue"))||r._skipSyncColumnOptions)&&this.isFilterSyncActive()},_calculateAdditionalFilter(){if(this.option("filterPanel.filterEnabled")===!1)return this.callBase();var r=[this.callBase()],e=this.getController("columns").getFilteringColumns(),t=this.option("filterValue");if(this.isFilterSyncActive()){var n=this.getController("headerFilter").getCurrentColumn(),i=this.getController("applyFilter").getCurrentColumnForFiltering(),o=n||i,a=n||L(i==null?void 0:i.filterValue);a&&t&&(t=YP(t,ml(o)))}var s=this.getController("filterSync").getCustomFilterOperations(),l=sv(t,e,s,"filterBuilder");return l&&r.push(l),ye.combineFilters(r)},_parseColumnPropertyName(r){var e=r.match(/.*\.(.*)/);return e?e[1]:null},clearFilter(r){this.component.beginUpdate(),arguments.length>0?(r==="filterValue"&&this.option("filterValue",null),this.callBase(r)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged(r){switch(r.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),r.handled=!0;break;case"filterSyncEnabled":r.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var e=this.getController("columns").getColumnByPath(r.fullName),t=this.getController("filterSync");if(e&&!t._skipSyncColumnOptions){var n=this._parseColumnPropertyName(r.fullName);t._skipSyncColumnOptions=!0,n==="filterType"?(Qm===r.value||Qm===r.previousValue)&&t.syncHeaderFilter(e):n==="filterValues"?t.syncHeaderFilter(e):["filterValue","selectedFilterOperation"].includes(n)&&t.syncFilterRow(e,e.filterValue),t._skipSyncColumnOptions=!1}}this.callBase(r);break;default:this.callBase(r)}},_applyFilter(){var r=this.getController("filterSync");return r._skipSyncColumnOptions?new X().resolve():this.callBase.apply(this,arguments)}},SFe={_isHeaderFilterEmpty(r){return this.getController("data").isFilterSyncActive()?!CX(this.option("filterValue"),ml(r)):this.callBase(r)},_needUpdateFilterIndicators(){return!this.getController("data").isFilterSyncActive()},optionChanged(r){r.name==="filterValue"?this._updateHeaderFilterIndicators():this.callBase(r)}},wFe={defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:CFe},extenders:{controllers:{data:yFe},views:{columnHeadersView:SFe}}};at.registerModule("filterSync",wFe);var Ha="dx-filterbuilder",lv="".concat(Ha,"-group"),qU="".concat(lv,"-item"),YU="".concat(lv,"-content"),bFe="".concat(lv,"-operations"),EFe="".concat(lv,"-operation"),QP="".concat(Ha,"-action"),XU="".concat(QP,"-icon"),xFe="dx-icon-plus",IFe="dx-icon-remove",Ig="".concat(Ha,"-text"),TFe="".concat(Ha,"-item-field"),RFe="".concat(Ha,"-item-operation"),QU="".concat(Ha,"-item-value"),OFe="".concat(Ha,"-item-value-text"),DFe="".concat(Ha,"-overlay"),AFe="".concat(Ha,"-operations"),PFe="".concat(Ha,"-fields"),MFe="".concat(Ha,"-add-condition"),RS="dx-state-active",FFe="".concat(Ha,"-menu-custom-operation"),ZU="filterBuilder",LFe="dx-state-disabled",JU="tab",MO="enter",ej="escape",NFe=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],tj={and:"and",or:"or",notAnd:"!and",notOr:"!or"},kFe=tr.inherit(g7);class SX extends ai{_getDefaultOptions(){return $(super._getDefaultOptions(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:J.format("dxFilterBuilder-and"),or:J.format("dxFilterBuilder-or"),notAnd:J.format("dxFilterBuilder-notAnd"),notOr:J.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:J.format("dxFilterBuilder-filterOperationBetween"),equal:J.format("dxFilterBuilder-filterOperationEquals"),notEqual:J.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:J.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:J.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:J.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:J.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:J.format("dxFilterBuilder-filterOperationStartsWith"),contains:J.format("dxFilterBuilder-filterOperationContains"),notContains:J.format("dxFilterBuilder-filterOperationNotContains"),endsWith:J.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:J.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:J.format("dxFilterBuilder-filterOperationIsNotBlank")}})}_optionChanged(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){var t=this._disableInvalidateForValue;t||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=t}break;default:super._optionChanged(e)}}getFilterExpression(){var e=this._getNormalizedFields(),t=$(!0,[],this._model);return sv(Xm(t),e,this._customOperations,ZU)}_getNormalizedFields(){return cFe(this.option("fields"))}_updateFilter(){this._disableInvalidateForValue=!0;var e=$(!0,[],this._model),t=Xm(e),n=Xm(this._getModel(this.option("value")));JSON.stringify(n)!==JSON.stringify(t)&&this.option("value",t),this._disableInvalidateForValue=!1,this._fireContentReadyAction()}_init(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),super._init()}_initEditorFactory(){this._editorFactory=new kFe}_initCustomOperations(){this._customOperations=pFe(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)}_getDefaultGroupOperation(){var e,t;return(t=(e=this.option("groupOperations"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:tj.and}_getModel(e){return DN(e,this._customOperations,this._getDefaultGroupOperation())}_initModel(){this._model=this._getModel(this.option("value"))}_initActions(){var e=this;e._actions={},NFe.forEach(t=>{var n=$({},t.config);e._actions[t.name]=e._createActionByOption(t.name,n)})}executeAction(e,t){var n=this._actions[e];return n&&n(t)}_initMarkup(){this.$element().addClass(Ha),super._initMarkup(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())}_createConditionElement(e,t){return E("<div>").addClass(lv).append(this._createConditionItem(e,t))}_createGroupElementByCriteria(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=this._createGroupElement(e,t,n),o=i.find(".".concat(YU)),a=hd(e),s=0;s<a.length;s++){var l=a[s];pd(l)?this._createGroupElementByCriteria(l,e,n+1).appendTo(o):_i(l)&&this._createConditionElement(l,e).appendTo(o)}return i}_createGroupElement(e,t,n){var i=E("<div>").addClass(qU),o=E("<div>").addClass(YU),a=E("<div>").addClass(lv).append(i).append(o);return t!=null&&this._createRemoveButton(()=>{KP(t,e),a.remove(),this._updateFilter()}).appendTo(i),this._createGroupOperationButton(e).appendTo(i),this._createAddButton(()=>{var s=uX(this._getDefaultGroupOperation());uE(s,e),this._createGroupElement(s,e,n+1).appendTo(o),this._updateFilter()},()=>{var s=this.option("fields")[0],l=lFe(s,this._customOperations);uE(l,e),this._createConditionElement(l,e).appendTo(o),this._updateFilter()},n).appendTo(i),a}_createButton(e){return E("<div>").text(e)}_createGroupOperationButton(e){var t=this._getGroupOperations(e),n=nFe(e,t),i=n.text,o=t&&t.length<2?this._createButton(i).addClass(LFe):this._createButtonWithMenu({caption:i,menu:{items:t,displayExpr:"text",keyExpr:"value",onItemClick:a=>{n!==a.itemData&&(rFe(e,a.itemData.value),o.text(a.itemData.text),n=a.itemData,this._updateFilter())},onContentReady(a){a.component.selectItem(n)},cssClass:bFe}});return o.addClass(Ig).addClass(EFe).attr("tabindex",0)}_createButtonWithMenu(e){var t=this,n=function(){t.$element().find(".".concat(RS)).removeClass(RS),t.$element().find(".dx-overlay .dx-treeview").remove(),t.$element().find(".dx-overlay").remove()},i=this.option("rtlEnabled"),o=i?"right":"left",a=this._createButton(e.caption);$(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(s=e.menu.onItemClick,function(l){s(l),l.event.type==="dxclick"&&n()}),onHiding(){a.removeClass(RS)},position:{my:"".concat(o," top"),at:"".concat(o," bottom"),offset:"0 1",of:a,collision:"flip"},animation:null,onHidden(){n()},cssClass:"".concat(DFe," ").concat(e.menu.cssClass),rtlEnabled:i});var s;return e.popup={onShown(l){var u=E(l.component.content()).find(".dx-treeview"),c=u.dxTreeView("instance");B.on(u,"keyup keydown",d=>{var h=Jr(d);(d.type==="keydown"&&h===JU||d.type==="keyup"&&(h===ej||h===MO))&&(l.component.hide(),B.trigger(e.menu.position.of,"focus"))}),c.focus(),c.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(a,()=>{n(),t._createPopupWithTreeView(e,t.$element()),a.addClass(RS)}),a}_hasValueButton(e){var t=bu(this._customOperations,e[1]);return t?t.hasValue!==!1:e[2]!==null}_createOperationButtonWithMenu(e,t){var n=this,i=sFe(t,this.option("filterOperationDescriptions"),this._customOperations),o=aFe(UU(e),i),a=this._createButtonWithMenu({caption:o.text,menu:{items:i,displayExpr:"text",onItemRendered(s){s.itemData.isCustom&&E(s.itemElement).addClass(FFe)},onContentReady(s){s.component.selectItem(o)},onItemClick:s=>{if(o!==s.itemData){o=s.itemData,qP(e,o.value,n._customOperations);var l=a.siblings().filter(".".concat(QU));n._hasValueButton(e)?(l.length!==0&&l.remove(),n._createValueButton(e,t).appendTo(a.parent())):l.remove(),a.html(o.text),this._updateFilter()}},cssClass:AFe}}).addClass(Ig).addClass(RFe).attr("tabindex",0);return a}_createOperationAndValueButtons(e,t,n){this._createOperationButtonWithMenu(e,t).appendTo(n),this._hasValueButton(e)&&this._createValueButton(e,t).appendTo(n)}_createFieldButtonWithMenu(e,t,n){var i=this,o=this.option("allowHierarchicalFields"),a=vX(e,o),s=cE(n.name||n.dataField,a),l=function(c,d){return o?mX(c,d):c.caption},u=this._createButtonWithMenu({caption:l(s,a),menu:{items:a,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:c=>{if(s!==c.itemData){s=c.itemData,t[0]=s.name||s.dataField,t[2]=s.dataType==="object"?null:"",qP(t,TN(s),i._customOperations),u.siblings().filter(".".concat(Ig)).remove(),i._createOperationAndValueButtons(t,s,u.parent());var d=l(s,c.component.option("items"));u.html(d),this._updateFilter()}},onContentReady(c){c.component.selectItem(s)},cssClass:PFe}}).addClass(Ig).addClass(TFe).attr("tabindex",0);return u}_createConditionItem(e,t){var n=E("<div>").addClass(qU),i=this._getNormalizedFields(),o=cE(e[0],i);return this._createRemoveButton(()=>{KP(t,e);var a=n.parent().children().length===1;a?n.parent().remove():n.remove(),this._updateFilter()}).appendTo(n),this._createFieldButtonWithMenu(i,e,o).appendTo(n),this._createOperationAndValueButtons(e,o,n),n}_getGroupOperations(e){var t=this.option("groupOperations"),n=this.option("groupOperationDescriptions");return(!t||!t.length)&&(t=[_p(e).replace("!","not")]),t.map(i=>({text:n[i],value:tj[i]}))}_createRemoveButton(e){var t=E("<div>").addClass(XU).addClass(IFe).addClass(QP).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(t,e),t}_createAddButton(e,t,n){var i,o=this.option("maxGroupLevel");return L(o)&&n>=o?(i=this._createButton(),this._subscribeOnClickAndEnterKey(i,t)):i=this._createButtonWithMenu({menu:{items:[{caption:J.format("dxFilterBuilder-addCondition"),click:t},{caption:J.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick(a){a.itemData.click()},cssClass:MFe}}),i.addClass(XU).addClass(xFe).addClass(QP).attr("tabindex",0)}_createValueText(e,t,n){var i=this,o=E("<div>").html("&nbsp;").addClass(OFe).attr("tabindex",0).appendTo(n),a=e[2],s=bu(i._customOperations,e[1]);return!s&&t.lookup?cX(t,a,l=>{XP(o,l)}):$e(hX(t,a,s)).done(l=>{XP(o,l,s)}),i._subscribeOnClickAndEnterKey(o,l=>{l.type==="keyup"&&l.stopPropagation(),i._createValueEditorWithEvents(e,t,n)}),o}_updateConditionValue(e,t,n){var i=e[2]!==t;i&&(e[2]=t),n(),this._updateFilter()}_addDocumentKeyUp(e,t){var n=!1,i=!1,o=ce.getDocument(),a=l=>{if(n||i){i=!1;return}t(l)};B.on(o,"keyup",a);var s=e.find("input");B.on(s,"compositionstart",()=>{n=!0}),B.on(s,"compositionend",()=>{n=!1,i=!0}),B.on(s,"keydown",l=>{l.which!==229&&(i=!1)}),this._documentKeyUpHandler=a}_addDocumentClick(e,t){var n=ce.getDocument(),i=o=>{this._isFocusOnEditorParts(e,o.target)||(B.trigger(e.find("input"),"change"),t())};B.on(n,"dxpointerdown",i),this._documentClickHandler=i}_isFocusOnEditorParts(e,t){var n=t||ce.getActiveElement();return E(n).closest(e.children()).length||E(n).closest(".dx-dropdowneditor-overlay").length}_removeEvents(){var e=ce.getDocument();L(this._documentKeyUpHandler)&&B.off(e,"keyup",this._documentKeyUpHandler),L(this._documentClickHandler)&&B.off(e,"dxpointerdown",this._documentClickHandler)}_dispose(){this._removeEvents(),super._dispose()}_createValueEditorWithEvents(e,t,n){var i=e[2],o=()=>(n.empty(),this._removeEvents(),this._createValueText(e,t,n)),a=()=>{this._updateConditionValue(e,i,()=>{o()})},s={value:i===""?null:i,filterOperation:UU(e),setValue(u){i=u===null?"":u},closeEditor:a,text:n.text()};n.empty();var l=this._createValueEditor(n,t,s);B.trigger(l.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(l,a),this._addDocumentKeyUp(l,u=>{var c=Jr(u);if(c===JU){if(this._isFocusOnEditorParts(l))return;this._updateConditionValue(e,i,()=>{o(),u.shiftKey&&B.trigger(n.prev(),"focus")})}c===ej&&B.trigger(o(),"focus"),c===MO&&this._updateConditionValue(e,i,()=>{B.trigger(o(),"focus")})}),this._fireContentReadyAction()}_createValueButton(e,t){var n=E("<div>").addClass(Ig).addClass(QU);return this._createValueText(e,t,n),n}_createValueEditor(e,t,n){var i=E("<div>").attr("tabindex",0).appendTo(e),o=bu(this._customOperations,n.filterOperation),a=o&&o.editorTemplate?o.editorTemplate:t.editorTemplate;if(a){var s=this._getTemplate(a);s.render({model:$({field:t},n),container:i})}else this._editorFactory.createEditor.call(this,i,$({},t,n,{parentType:ZU}));return i}_createPopupWithTreeView(e,t){var n=this,i=E("<div>").addClass(e.menu.cssClass).appendTo(t);this._createComponent(i,sN,{onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate(o){var a=E("<div>").appendTo(o);n._createComponent(a,QC,e.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:()=>Q7(e.menu.position.of),visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:e.menu.cssClass})}_subscribeOnClickAndEnterKey(e,t){B.on(e,"dxclick",t),B.on(e,"keyup",n=>{Jr(n)===MO&&t(n)})}}Kt("dxFilterBuilder",SX);var VFe=kr.View.inherit({_renderCore(){this._updatePopupOptions()},_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup(){var r=this;r._disposePopup(),r._filterBuilderPopup=r._createComponent(r.element(),ql,$({title:J.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:e=>r._getPopupContentTemplate(e),onOptionChanged(e){e.name==="visible"&&r.option("filterBuilderPopup.visible",e.value)},toolbarItems:r._getPopupToolbarItems()},r.option("filterBuilderPopup"),{onHidden(){JF(r),r._disposePopup()}}))},_getPopupContentTemplate(r){var e=E(r),t=E("<div>").appendTo(E(r));this._filterBuilder=this._createComponent(t,SX,$({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(e,iN,{direction:"both"})},_getPopupToolbarItems(){var r=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:J.format("OK"),onClick(){var e=r._filterBuilder.option("value");r.option("filterValue",e),r._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:J.format("Cancel"),onClick(){r._filterBuilderPopup.hide()}}}]},optionChanged(r){switch(r.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),r.handled=!0;break;default:this.callBase(r)}}}),BFe={defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:J.format("dxFilterBuilder-and"),or:J.format("dxFilterBuilder-or"),notAnd:J.format("dxFilterBuilder-notAnd"),notOr:J.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:J.format("dxFilterBuilder-filterOperationBetween"),equal:J.format("dxFilterBuilder-filterOperationEquals"),notEqual:J.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:J.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:J.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:J.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:J.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:J.format("dxFilterBuilder-filterOperationStartsWith"),contains:J.format("dxFilterBuilder-filterOperationContains"),notContains:J.format("dxFilterBuilder-filterOperationNotContains"),endsWith:J.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:J.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:J.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:VFe}};at.registerModule("filterBuilder",BFe);var ZC="filter-panel",HFe="".concat(ZC,"-text"),GFe="".concat(ZC,"-checkbox"),$Fe="".concat(ZC,"-clear-filter"),WFe="".concat(ZC,"-left"),zFe="filterPanel",UFe=kr.View.inherit({isVisible(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init(){this.getController("data").dataSourceChanged.add(()=>this.render()),this._columnsController=this.getController("columns")},_renderCore(){var r=this.element();r.empty();var e=!!this._columnsController.getColumns().length;if(e){r.addClass(this.addWidgetPrefix(ZC));var t=E("<div>").addClass(this.addWidgetPrefix(WFe)).appendTo(r);this._renderFilterBuilderText(r,t)}},_renderFilterBuilderText(r,e){var t=this._getFilterElement(),n=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var i=this._getCheckElement(),o=this._getRemoveButtonElement();e.append(i).append(t).append(n),r.append(o);return}e.append(t).append(n)},_getCheckElement(){var r=this,e=E("<div>").addClass(this.addWidgetPrefix(GFe));return r._createComponent(e,Uh,{value:r.option("filterPanel.filterEnabled"),onValueChanged(t){r.option("filterPanel.filterEnabled",t.value)}}),e.attr("title",this.option("filterPanel.texts.filterEnabledHint")),e},_getFilterElement(){var r=this,e=E("<div>").addClass("dx-icon-filter");return B.on(e,"click",()=>r._showFilterBuilder()),Hm("filterPanel",r,e,void 0,()=>r._showFilterBuilder()),r._addTabIndexToElement(e),e},_getTextElement(){var r=this,e=E("<div>").addClass(r.addWidgetPrefix(HFe)),t,n=r.option("filterValue");return n?$e(r.getFilterText(n,r.getController("filterSync").getCustomFilterOperations())).done(i=>{var o=r.option("filterPanel.customizeText");if(o){var a=o({component:r.component,filterValue:n,text:i});typeof a=="string"&&(i=a)}e.text(i)}):(t=r.option("filterPanel.texts.createFilter"),e.text(t)),B.on(e,"click",()=>r._showFilterBuilder()),Hm("filterPanel",r,e,void 0,()=>r._showFilterBuilder()),r._addTabIndexToElement(e),e},_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement(){var r=this,e=()=>r.option("filterValue",null),t=E("<div>").addClass(r.addWidgetPrefix($Fe)).text(r.option("filterPanel.texts.clearFilter"));return B.on(t,"click",e),Hm("filterPanel",this,t,void 0,e),r._addTabIndexToElement(t),t},_addTabIndexToElement(r){if(!this.option("useLegacyKeyboardNavigation")){var e=this.option("tabindex")||0;r.attr("tabindex",e)}},optionChanged(r){switch(r.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),r.handled=!0;break;case"filterPanel":this._invalidate(),r.handled=!0;break;default:this.callBase(r)}},_getConditionText(r,e,t){var n="[".concat(r,"] ").concat(e);return L(t)&&(n+=t),n},_getValueMaskedText:r=>Array.isArray(r)?"('".concat(r.join("', '"),"')"):" '".concat(r,"'"),_getValueText(r,e,t){var n=new X,i=e&&e.customizeText;if(L(t)||i)if(!i&&r.lookup)cX(r,t,a=>{n.resolve(this._getValueMaskedText(a))});else{var o=Array.isArray(t)?t:ye.getDisplayValue(r,t,null);$e(hX(r,o,e,zFe)).done(a=>{n.resolve(this._getValueMaskedText(a))})}else n.resolve("");return n.promise()},getConditionText(r,e){var t=this,n=r[1],i=new X,o=bu(e.customOperations,n),a,s=cE(r[0],e.columns),l=s.caption||"",u=r[2];return o?a=o.caption||Lh(o.name):u===null?a=jP(n==="="?"isblank":"isnotblank",e.filterOperationDescriptions):a=jP(n,e.filterOperationDescriptions),this._getValueText(s,o,u).done(c=>{i.resolve(t._getConditionText(l,a,c))}),i},getGroupText(r,e,t){var n=this,i=new X,o=[],a=_p(r);return r.forEach(s=>{_i(s)?o.push(n.getConditionText(s,e)):pd(s)&&o.push(n.getGroupText(s,e,!0))}),$e.apply(this,o).done(function(){for(var s,l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];if(a.startsWith("!")){var d=e.groupOperationDescriptions["not".concat(a.substring(1,2).toUpperCase()).concat(a.substring(2))].split(" ");s="".concat(d[0]," ").concat(u[0])}else s=u.join(" ".concat(e.groupOperationDescriptions[a]," "));t&&(s="(".concat(s,")")),i.resolve(s)}),i},getFilterText(r,e){var t={customOperations:e,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return _i(r)?this.getConditionText(r,t):this.getGroupText(r,t)}}),jFe={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:J.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:J.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:J.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:UFe},extenders:{controllers:{data:{optionChanged(r){switch(r.name){case"filterPanel":this._applyFilter(),r.handled=!0;break;default:this.callBase(r)}}}}}};at.registerModule("filterPanel",jFe);var rj="search-panel",nj="search-text",KFe="header-panel",qFe=700;function wX(r){var e;return!!((e=r.allowSearch)!==null&&e!==void 0?e:r.allowFiltering)}function bX(r,e){var{lookup:t}=r;return r.parseValue?t?r.parseValue.call(t,e):r.parseValue(e):e}var YFe=r=>class extends r{publicMethods(){return super.publicMethods().concat(["searchByText"])}_calculateAdditionalFilter(){var e=super._calculateAdditionalFilter(),t=this.calculateSearchFilter(this.option("searchPanel.text"));return ye.combineFilters([e,t])}searchByText(e){this.option("searchPanel.text",e)}optionChanged(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:super.optionChanged(e)}}calculateSearchFilter(e){var t,n,i=this._columnsController.getColumns(),o=this.option("searchPanel.searchVisibleColumnsOnly"),a,s=[];if(!e)return null;function l(c){for(var d=Ar(a.valueExpr),h=0;h<c.length;h++){var p=d(c[h]);s.push(n.createFilterExpression(p,null,"search"))}}for(t=0;t<i.length;t++)if(n=i[t],!(o&&!n.visible)&&wX(n)&&n.calculateFilterExpression){a=n.lookup;var u=bX(n,e);a&&a.items?po(a.items).filter(n.createFilterExpression.call({dataField:a.displayExpr,dataType:a.dataType,calculateFilterExpression:n.calculateFilterExpression},u,null,"search")).enumerate().done(l):u!==void 0&&s.push(n.createFilterExpression(u,null,"search"))}return s.length===0?["!"]:ye.combineFilters(s,"or")}},XFe=r=>class extends r{_getToolbarItems(){var e=super._getToolbarItems();return this._prepareSearchItem(e)}_prepareSearchItem(e){var t=this,n=t.getController("data"),i=this.option("searchPanel");if(i&&i.visible){var o={template(a,s,l){var u=E("<div>").addClass(t.addWidgetPrefix(rj)).appendTo(l);t.getController("editorFactory").createEditor(u,{width:i.width,placeholder:i.placeholder,parentType:"searchPanel",value:t.option("searchPanel.text"),updateValueTimeout:qFe,setValue(c){n.searchByText(c)},editorOptions:{inputAttr:{"aria-label":J.format("".concat(t.component.NAME,"-ariaSearchInGrid"))}}}),t.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(o)}return e}getSearchTextEditor(){var e=this,t=e.element(),n=t.find(".".concat(e.addWidgetPrefix(rj))).filter(function(){return E(this).closest(".".concat(e.addWidgetPrefix(KFe))).is(t)});return n.length?n.dxTextBox("instance"):null}isVisible(){var e=this.option("searchPanel");return super.isVisible()||!!(e!=null&&e.visible)}optionChanged(e){if(e.name==="searchPanel"){if(e.fullName==="searchPanel.text"){var t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else super.optionChanged(e)}},QFe=r=>class extends r{init(){super.init.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")}_getFormattedSearchText(e,t){var n=bX(e,t),i=ye.getFormatOptionsByColumn(e,"search");return ye.formatValue(n,i)}_getStringNormalizer(){var e,t,n,i,o=this.option("searchPanel.highlightCaseSensitive"),a=(t=(e=this._dataController)===null||e===void 0?void 0:e.getDataSource)===null||t===void 0?void 0:t.call(e),s=(i=(n=a==null?void 0:a.loadOptions)===null||n===void 0?void 0:n.call(a))===null||i===void 0?void 0:i.langParams;return l=>wi(l,o,s)}_findHighlightingTextNodes(e,t,n){var i=t.parent(),o,a=this._getStringNormalizer(),s=a(n),l=[];if(!i.length)i=E("<div>").append(t);else if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)o=t;else{var u=this._columnsController.getVisibleIndex(e.index);o=i.children("td").eq(u).find("*")}return o=o!=null&&o.length?o:i.find("*"),o.each((c,d)=>{for(var h,p,f=E(d).contents(),v=0;v<f.length;v++){var g=f.get(v);if(g.nodeType===3){var m=a((p=(h=g.textContent)!==null&&h!==void 0?h:g.nodeValue)!==null&&p!==void 0?p:"");m.includes(s)&&l.push(g)}}}),l}_highlightSearchTextCore(e,t){var n=E("<span>").addClass(this.addWidgetPrefix(nj)),i=e.text(),o=e[0],a=this._getStringNormalizer(),s=a(i).indexOf(a(t));if(s>=0)return o.textContent?o.textContent=i.substr(0,s):o.nodeValue=i.substr(0,s),e.after(n.text(i.substr(s,t.length))),e=E(ce.createTextNode(i.substr(s+t.length))).insertAfter(n),this._highlightSearchTextCore(e,t)}_highlightSearchText(e,t,n){var i=this,o=this._getStringNormalizer(),a=i.option("searchPanel.text");if(t&&n&&(a=a&&i._getFormattedSearchText(n,a)),a&&i.option("searchPanel.highlightSearchText")){var s=i._findHighlightingTextNodes(n,e,a);s.forEach(l=>{t?o(E(l).text())===o(a??"")&&E(l).replaceWith(E("<span>").addClass(i.addWidgetPrefix(nj)).text(E(l).text())):i._highlightSearchTextCore(E(l),a)})}}_renderCore(){var e=super._renderCore.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),e}_updateCell(e,t){var{column:n}=t,i=n.lookup&&n.lookup.dataType||n.dataType,o=i!=="string";wX(n)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(a=>{this._highlightSearchText.apply(this,a)}),this._searchParams=[]})),this._searchParams.push([e,o,n])):this._highlightSearchText(e,o,n)),super._updateCell(e,t)}dispose(){clearTimeout(this._highlightTimer),super.dispose()}},ZFe={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:J.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:YFe},views:{headerPanel:XFe,rowsView:QFe}}};at.registerModule("search",ZFe);class JFe extends KC{_optionChanged(e){switch(e.name){case"pageIndex":var t=this.option("pageIndexChanged");t&&t(e.value);break;case"pageSize":var n=this.option("pageSizeChanged");n&&n(e.value)}super._optionChanged(e)}}function Eu(r,e){var t,n=(t=z8(e))!==null&&t!==void 0?t:{};return P8(n[r])}function eLe(r){var e=Eu("paddingLeft",r)+Eu("paddingRight",r),t=Eu("width",r);return t-e}function ib(r){var e=Eu("marginLeft",r)+Eu("marginRight",r),t=Eu("width",r);return e+t}function EX(r){return Eu("minWidth",r)}var tLe=["contentTemplate","pagerProps"],rLe=r=>{var{contentAttributes:e,infoTextRef:t,infoTextVisible:n,isLargeDisplayMode:i,pageSizesRef:o,pagesRef:a,parentRef:s,props:{contentTemplate:l}}=r;return l(b({rootElementRef:s,pageSizesRef:o,infoTextRef:t,pagesRef:a,infoTextVisible:n,isLargeDisplayMode:i},e))};function nLe(r){var{pageSizes:e,pages:t,parent:n}=r;return n-(e+t)>0}function iLe(r){var{info:e,pageSizes:t,pages:n,parent:i}=r,o=t+n+e;return i-o>0}function oLe(r){var{info:e,pageSizes:t,pages:n,parent:i}=r,o=eLe(i),a=ib(t),s=ib(e),l=ib(n);return{parent:o,pageSizes:a,info:s+Eu("marginLeft",e)+Eu("marginRight",e),pages:l}}var aLe={},sLe=r=>r&&(r.defaultProps?e=>Jo($r(2,r,b({},e))):r);class xX extends Kl{constructor(e){super(e),this.parentRef=pi(),this.pageSizesRef=pi(),this.infoTextRef=pi(),this.pagesRef=pi(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new Zr(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new Zr(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var e,t;(e=this._effects[0])===null||e===void 0||e.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(t=this._effects[1])===null||t===void 0||t.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var e=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return kh.add(e),()=>{kh.remove(e)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:e,displayMode:t,gridCompatibility:n,hasKnownLastPage:i,infoText:o,label:a,lightModeEnabled:s,maxPagesCount:l,onKeyDown:u,pageCount:c,pageIndex:d,pageIndexChange:h,pageSize:p,pageSizeChange:f,pageSizes:v,pagesCountText:g,pagesNavigatorVisible:m,rtlEnabled:C,showInfo:y,showNavigationButtons:w,showPageSizes:T,totalCount:S,visible:x}=this.props.pagerProps;return b({},this.restAttributes,{pageSize:p,pageIndex:d,pageIndexChange:h,pageSizeChange:f,gridCompatibility:n,className:e,showInfo:y,infoText:o,lightModeEnabled:s,displayMode:t,maxPagesCount:l,pageCount:c,pagesCountText:g,visible:x,hasKnownLastPage:i,pagesNavigatorVisible:m,showPageSizes:T,pageSizes:v,rtlEnabled:C,showNavigationButtons:w,totalCount:S,onKeyDown:u,label:a})}get parentWidth(){return this.parentRef.current?ib(this.parentRef.current):0}updateAdaptivityProps(){var e=oLe({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(!(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)){var t=!L(this.elementsWidth);t&&(this.elementsWidth={}),(t||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=e.pageSizes,this.elementsWidth.pages=e.pages),(t||this.state.infoTextVisible)&&(this.elementsWidth.info=e.info),this.actualIsLargeDisplayMode=nLe(b({parent:e.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=iLe(b({},e,{info:this.elementsWidth.info})),this.setState(n=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(n=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){var e=this.props,t=se(e,tLe);return t}render(){var e=this.props;return rLe({props:b({},e,{contentTemplate:sLe(e.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}xX.defaultProps=aLe;var IX={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return J.format("dxPager-ariaLabel")}},lLe=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(IX),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),li=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(IX),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1}))),uLe=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],TX="dx-info",cLe=r=>{var{props:{rootElementRef:e},text:t}=r;return Tn(1,"div",TX,t,0,null,null,e)},dLe={get pageIndex(){return li.pageIndex},get pageCount(){return li.pageCount},get totalCount(){return li.totalCount}};class RX extends Cs{constructor(e){super(e),this.state={}}get infoText(){var e;return((e=this.props.infoText)!==null&&e!==void 0?e:"")||J.getFormatter("dxPager-infoText")()}get text(){var{pageCount:e,pageIndex:t,totalCount:n}=this.props;return kl(this.infoText,(t+1).toString(),e.toString(),n.toString())}get restAttributes(){var e=this.props,t=se(e,uLe);return t}render(){var e=this.props;return cLe({props:b({},e),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}RX.defaultProps=dLe;var Zm=o8(void 0),hLe=["children","className","label","onClick","selected","tabIndex"],pLe=r=>{var{props:{children:e,className:t,label:n,selected:i,tabIndex:o},widgetRef:a}=r;return Tn(1,"div",t,e,0,{tabIndex:o,role:"button","aria-label":n,"aria-current":i?"page":void 0},null,a)},fLe={className:"",label:"",tabIndex:0,selected:!1};class N_ extends Kl{constructor(e){super(e),this.state={},this.widgetRef=pi(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return this.context[Zm.id]?this.context[Zm.id]:Zm.defaultValue}createEffects(){return[new Zr(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new Zr(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var e,t;(e=this._effects[0])===null||e===void 0||e.update([this.keyboardContext,this.props.onClick]),(t=this._effects[1])===null||t===void 0||t.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return $ye(this.widgetRef.current,this.props.onClick)}get restAttributes(){var e=this.props,t=se(e,hLe);return t}render(){var e=this.props;return pLe({props:b({},e),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}N_.defaultProps=fLe;var vLe="dx-pager",gLe="dx-light-mode",mLe="dx-pages",_Le="dx-page-indexes",CLe="dx-page",OX="dx-selection",DX="dx-page-size",yLe="dx-page-sizes",SLe="".concat(DX," ").concat(OX),wLe="dx-first-child",bLe=["className","index","onClick","selected"],ELe=r=>{var{className:e,label:t,props:{onClick:n,selected:i},value:o}=r;return $r(2,N_,{className:e,label:t,onClick:n,selected:i,children:o})},xLe={index:0,selected:!1,className:CLe};class PN extends Cs{constructor(e){super(e),this.state={}}get label(){return kl(J.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:e}=this.props;return as({["".concat(this.props.className)]:!!this.props.className,[OX]:!!e})}get restAttributes(){var e=this.props,t=se(e,bLe);return t}render(){var e=this.props;return ELe({props:b({},e),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}PN.defaultProps=xLe;var ILe=["pageIndexes"],TLe=["maxPagesCount","pageCount","pageIndex","pageIndexChange"],RLe="dx-separator",OLe=r=>{var{pages:e}=r,t=e.map(n=>{var{key:i,pageProps:o}=n;return o?$r(2,PN,{index:o.index,selected:o.selected,onClick:o.onClick},i):Tn(1,"div",RLe,". . .",16,null,i)});return Ku(t,0)},Ad=4;function ij(r,e,t){return r===1?"high":r+e===t-1?"low":"both"}function AX(r,e,t){var n=[],i=[];switch(t){case"none":n=[...r];break;case"both":n=[0,"low",...r,"high",e-1],i=r.slice(1,-1);break;case"high":n=[0,...r,"high",e-1],i=r.slice(0,-1);break;case"low":n=[0,"low",...r,e-1],i=r.slice(1)}return{slidingWindowIndexes:r,indexesForReuse:i,pageIndexes:n}}function oj(r,e,t,n){for(var i=[],o=0;o<e;o+=1)i.push(o+r);return AX(i,t,n)}var DLe={get pageIndex(){return li.pageIndex},get maxPagesCount(){return li.maxPagesCount},get pageCount(){return li.pageCount}};class PX extends Cs{constructor(e){super(e),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return this.context[Si.id]?this.context[Si.id]:Si.defaultValue}get slidingWindowState(){var e=this.slidingWindowStateHolder;return e||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(e,t){var{indexesForReuse:n}=this.slidingWindowState,i=n.slice(-1)[0]<e-1,o=n.includes(t);return i&&o}generatePageIndexes(){var{pageCount:e,pageIndex:t}=this.props,n=0,{slidingWindowIndexes:i}=this.slidingWindowState;t===i[0]?n=t-1:t===i[i.length-1]?n=t+2-Ad:t<Ad?n=1:t>=e-Ad?n=e-Ad-1:n=t-1;var o=Ad,a=ij(n,o,e),s=oj(n,o,e,a),{pageIndexes:l}=s,u=se(s,ILe);return this.slidingWindowStateHolder=u,l}isSlidingWindowMode(){var{maxPagesCount:e,pageCount:t}=this.props;return t<=Ad||t<=e}onPageClick(e){this.props.pageIndexChange(e)}get pageIndexes(){var{pageCount:e}=this.props;if(this.isSlidingWindowMode())return oj(0,e,e,"none").pageIndexes;if(this.canReuseSlidingWindow(e,this.props.pageIndex)){var{slidingWindowIndexes:t}=this.slidingWindowState,n=ij(t[0],Ad,e);return AX(t,e,n).pageIndexes}return this.generatePageIndexes()}get pages(){var e,{pageIndex:t}=this.props,n=o=>{var a=o==="low"||o==="high"?null:{index:o,onClick:()=>this.onPageClick(o),selected:t===o};return{key:o.toString(),pageProps:a}},i=(e=this.config)!==null&&e!==void 0&&e.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes;return i.map(o=>n(o))}get restAttributes(){var e=this.props,t=se(e,TLe);return t}render(){var e=this.props;return OLe({props:b({},e),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}PX.defaultProps=DLe;var $f={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return Ye.real().deviceType==="desktop"&&!Ye.isSimulator()}},hE={label:"",get labelMode(){return Hi(mo())?"floating":"static"}},ALe=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","invalidValueMessage","isDirty","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],PLe=0,MLe=r=>{var{componentProps:e,restAttributes:t}=r;return Jo($r(2,l0,b({componentType:iE,componentProps:e,templateNames:[]},t)))},no=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(Ln),Object.getOwnPropertyDescriptors({defaultValue:PLe,isReactComponentWrapper:!0}))),FLe={get defaultValue(){return no.defaultValue},get readOnly(){return no.readOnly},get name(){return no.name},get validationError(){return no.validationError},get validationErrors(){return no.validationErrors},get validationMessageMode(){return no.validationMessageMode},get validationMessagePosition(){return no.validationMessagePosition},get validationStatus(){return no.validationStatus},get isValid(){return no.isValid},get isDirty(){return no.isDirty},get inputAttr(){return no.inputAttr},get className(){return no.className},get activeStateEnabled(){return $f.activeStateEnabled},get disabled(){return no.disabled},get focusStateEnabled(){return $f.focusStateEnabled},get hoverStateEnabled(){return $f.hoverStateEnabled},get tabIndex(){return no.tabIndex},get visible(){return no.visible},get label(){return hE.label},get labelMode(){return hE.labelMode},isReactComponentWrapper:!0};class MX extends Cs{constructor(e){super(e),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var e=b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),t=se(e,ALe);return t}render(){var e=this.props;return MLe({props:b({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}MX.defaultProps=FLe;var LLe=10;function FX(r,e){return r+LLe*Math.max(...e).toString().length}var NLe=["inputAttr","pageCount","pageIndex","pageIndexChange","pagesCountText"],kLe="".concat(TX,"  dx-info-text"),LX="dx-page-index",VLe="dx-light-pages",BLe="dx-pages-count",HLe=r=>{var{pageIndexRef:e,pagesCountText:t,props:{inputAttr:n,pageCount:i},selectLastPageIndex:o,value:a,valueChange:s,width:l}=r;return Tn(1,"div",VLe,[$r(2,MX,{className:LX,min:1,max:Math.max(i,a),width:l,value:a,valueChange:s,inputAttr:n}),Tn(1,"span",kLe,t,0),$r(2,PN,{className:BLe,selected:!1,index:i-1,onClick:o})],4,null,null,e)},GLe={inputAttr:Object.freeze({"aria-label":J.format("dxPager-ariaPageNumber")})},$Le={get pageIndex(){return li.pageIndex},get pageCount(){return li.pageCount},get inputAttr(){return GLe.inputAttr}};class NX extends Kl{constructor(e){super(e),this.pageIndexRef=pi(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new Zr(this.updateWidth,[this.state.minWidth])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.state.minWidth])}updateWidth(){var e,t=(e=this.pageIndexRef.current)===null||e===void 0?void 0:e.querySelector(".".concat(LX));this.setState(n=>({minWidth:t&&EX(t)||n.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:e}=this.props;return FX(this.state.minWidth,[e])}get pagesCountText(){var e;return((e=this.props.pagesCountText)!==null&&e!==void 0?e:"")||J.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(e){this.props.pageIndexChange(e-1)}get restAttributes(){var e=this.props,t=se(e,NLe);return t}render(){var e=this.props;return HLe({props:b({},e),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}NX.defaultProps=$Le;var WLe=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],OS="dx-navigate-button",aj="dx-prev-button",sj="dx-next-button",lj="dx-button-disable",zLe=()=>J.getFormatter("dxPager-nextPage")(),ULe=()=>J.getFormatter("dxPager-prevPage")(),jLe={nextEnabledClass:"".concat(OS," ").concat(sj),prevEnabledClass:"".concat(OS," ").concat(aj),nextDisabledClass:"".concat(lj," ").concat(OS," ").concat(sj),prevDisabledClass:"".concat(lj," ").concat(OS," ").concat(aj)},KLe={next:"prev",prev:"next"},qLe=r=>{var{nextButtonProps:e,pageIndexChange:t,prevButtonProps:n,props:{isLargeDisplayMode:i,maxPagesCount:o,pageCount:a,pageIndex:s,pagesCountText:l},renderNextButton:u,renderPrevButton:c}=r;return Ku([c&&$r(2,N_,{label:ULe(),className:n.className,tabIndex:n.tabIndex,onClick:n.navigate}),i&&$r(2,PX,{maxPagesCount:o,pageCount:a,pageIndex:s,pageIndexChange:t}),!i&&$r(2,NX,{pageCount:a,pageIndex:s,pageIndexChange:t,pagesCountText:l}),u&&$r(2,N_,{label:zLe(),className:e.className,tabIndex:e.tabIndex,onClick:e.navigate})],0)};function YLe(r){return r==="next"?1:-1}var XLe={isLargeDisplayMode:!0},QLe={get pageIndex(){return li.pageIndex},get maxPagesCount(){return li.maxPagesCount},get pageCount(){return li.pageCount},get hasKnownLastPage(){return li.hasKnownLastPage},get showNavigationButtons(){return li.showNavigationButtons},get totalCount(){return li.totalCount},get isLargeDisplayMode(){return XLe.isLargeDisplayMode}};class kX extends Cs{constructor(e){super(e),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return this.context[Si.id]?this.context[Si.id]:Si.defaultValue}pageIndexChange(e){this.canNavigateToPage(e)&&this.props.pageIndexChange(e)}getButtonProps(e){var t,n=(t=this.config)!==null&&t!==void 0&&t.rtlEnabled?KLe[e]:e,i=this.canNavigateTo(n),o=jLe["".concat(e).concat(i?"Enabled":"Disabled","Class")];return{className:o,tabIndex:i?0:-1,navigate:()=>this.navigateToPage(n)}}canNavigateToPage(e){return this.props.hasKnownLastPage?e>=0&&e<=this.props.pageCount-1:e>=0}getNextPageIndex(e){return this.props.pageIndex+YLe(e)}canNavigateTo(e){return this.canNavigateToPage(this.getNextPageIndex(e))}navigateToPage(e){this.pageIndexChange(this.getNextPageIndex(e))}get renderPrevButton(){var{isLargeDisplayMode:e,showNavigationButtons:t}=this.props;return!e||t}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return this.__getterCache.prevButtonProps!==void 0?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=this.getButtonProps("prev")}get nextButtonProps(){return this.__getterCache.nextButtonProps!==void 0?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=this.getButtonProps("next")}get restAttributes(){var e=this.props,t=se(e,WLe);return t}componentWillUpdate(e,t,n){(this.context[Si.id]!==n[Si.id]||this.props.hasKnownLastPage!==e.hasKnownLastPage||this.props.pageCount!==e.pageCount||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context[Si.id]!==n[Si.id]||this.props.hasKnownLastPage!==e.hasKnownLastPage||this.props.pageCount!==e.pageCount||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){var e=this.props;return qLe({props:b({},e),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}kX.defaultProps=QLe;var ZLe=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","placeholder","readOnly","rtlEnabled","searchEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","valueExpr","visible","width"],JLe=r=>{var{componentProps:e,restAttributes:t}=r;return Jo($r(2,l0,b({componentType:gN,componentProps:e,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},t)))},Ti=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(Ln),Object.getOwnPropertyDescriptors({placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,defaultValue:null,isReactComponentWrapper:!0}))),eNe={get placeholder(){return Ti.placeholder},get hoverStateEnabled(){return $f.hoverStateEnabled},get searchEnabled(){return Ti.searchEnabled},get defaultValue(){return Ti.defaultValue},get readOnly(){return Ti.readOnly},get name(){return Ti.name},get validationError(){return Ti.validationError},get validationErrors(){return Ti.validationErrors},get validationMessageMode(){return Ti.validationMessageMode},get validationMessagePosition(){return Ti.validationMessagePosition},get validationStatus(){return Ti.validationStatus},get isValid(){return Ti.isValid},get isDirty(){return Ti.isDirty},get inputAttr(){return Ti.inputAttr},get className(){return Ti.className},get activeStateEnabled(){return $f.activeStateEnabled},get disabled(){return Ti.disabled},get focusStateEnabled(){return $f.focusStateEnabled},get tabIndex(){return Ti.tabIndex},get visible(){return Ti.visible},get label(){return hE.label},get labelMode(){return hE.labelMode},isReactComponentWrapper:!0};class VX extends Cs{constructor(e){super(e),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var e=b({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),t=se(e,ZLe);return t}render(){var e=this.props;return JLe({props:b({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}VX.defaultProps=eNe;var tNe=["inputAttr","pageSize","pageSizeChange","pageSizes","parentRef"],rNe=r=>{var{props:{inputAttr:e,pageSize:t,pageSizeChange:n,pageSizes:i},width:o}=r;return $r(2,VX,{displayExpr:"text",valueExpr:"value",dataSource:i,value:t,valueChange:n,width:o,inputAttr:e})},nNe={inputAttr:Object.freeze({"aria-label":J.format("dxPager-ariaPageSize")})},iNe={get pageSize(){return li.pageSize},get inputAttr(){return nNe.inputAttr}};class BX extends Kl{constructor(e){super(e),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new Zr(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])}updateWidth(){this.setState(e=>({minWidth:EX(this.props.parentRef.current)||e.minWidth}))}get width(){return FX(this.state.minWidth,this.props.pageSizes.map(e=>e.value))}get restAttributes(){var e=this.props,t=se(e,tNe);return t}render(){var e=this.props;return rNe({props:b({},e),width:this.width,restAttributes:this.restAttributes})}}BX.defaultProps=iNe;var oNe=["pageSize","pageSizeChange","pageSizes"],aNe=r=>{var{pageSizesText:e}=r;return Ku(e.map(t=>{var{className:n,click:i,label:o,text:a}=t;return $r(2,N_,{className:n,label:o,onClick:i,children:a},a)}),0)},sNe={get pageSize(){return li.pageSize}};class HX extends Cs{constructor(e){super(e),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return this.__getterCache.pageSizesText!==void 0?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:e,pageSizes:t}=this.props;return t.map((n,i)=>{var{text:o,value:a}=n,s=a===e,l=as({[s?SLe:DX]:!0,[wLe]:i===0});return{className:l,click:this.onPageSizeChange(a),label:kl(J.getFormatter("dxPager-pageSize"),a||J.getFormatter("dxPager-pageSizesAllText")),text:o}})})()}onPageSizeChange(e){return()=>(this.props.pageSizeChange(e),this.props.pageSize)}get restAttributes(){var e=this.props,t=se(e,oNe);return t}componentWillUpdate(e,t,n){(this.props.pageSize!==e.pageSize||this.props.pageSizes!==e.pageSizes||this.props.pageSizeChange!==e.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){var e=this.props;return aNe({props:b({},e),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}HX.defaultProps=sNe;var lNe=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],uNe=r=>{var{htmlRef:e,normalizedPageSizes:t,props:{isLargeDisplayMode:n,pageSize:i,pageSizeChange:o}}=r;return Tn(1,"div",yLe,[n&&$r(2,HX,{pageSizes:t,pageSize:i,pageSizeChange:o}),!n&&$r(2,BX,{parentRef:e,pageSizes:t,pageSize:i,pageSizeChange:o})],0,null,null,e)};function cNe(){return J.getFormatter("dxPager-pageSizesAllText")()}var dNe={isLargeDisplayMode:!0},hNe={get pageSize(){return li.pageSize},get pageSizes(){return li.pageSizes},get isLargeDisplayMode(){return dNe.isLargeDisplayMode}};class GX extends Kl{constructor(e){super(e),this.state={},this.htmlRef=pi(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new Zr(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.htmlRef.current)}get normalizedPageSizes(){return this.__getterCache.normalizedPageSizes!==void 0?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:e}=this.props;return e.map(t=>t==="all"||t===0?{text:cNe(),value:0}:{text:String(t),value:t})})()}get restAttributes(){var e=this.props,t=se(e,lNe);return t}componentWillUpdate(e,t,n){super.componentWillUpdate(),this.props.pageSizes!==e.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){var e=this.props;return uNe({props:b({},e),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}GX.defaultProps=hNe;var pNe=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],fNe=r=>{var{aria:e,classes:t,infoVisible:n,isLargeDisplayMode:i,pageIndexSelectorVisible:o,pagesContainerVisibility:a,pagesContainerVisible:s,props:{hasKnownLastPage:l,infoText:u,infoTextRef:c,maxPagesCount:d,pageCount:h,pageIndex:p,pageIndexChange:f,pageSize:v,pageSizeChange:g,pageSizes:m,pageSizesRef:C,pagesCountText:y,pagesRef:w,rtlEnabled:T,showNavigationButtons:S,showPageSizes:x,totalCount:I,visible:R},restAttributes:D,widgetRootElementRef:A}=r;return Jo($r(2,i0,b({rootElementRef:A,rtlEnabled:T,classes:t,visible:R,aria:e},D,{children:[x&&$r(2,GX,{rootElementRef:C,isLargeDisplayMode:i,pageSize:v,pageSizeChange:g,pageSizes:m}),s&&Tn(1,"div",mLe,[n&&$r(2,RX,{rootElementRef:c,infoText:u,pageCount:h,pageIndex:p,totalCount:I}),o&&Tn(1,"div",_Le,$r(2,kX,{hasKnownLastPage:l,isLargeDisplayMode:i,maxPagesCount:d,pageCount:h,pageIndex:p,pageIndexChange:f,pagesCountText:y,showNavigationButtons:S,totalCount:I}),2,null,null,w)],0,{style:qL({visibility:a})})]})))},vNe=Object.create(Object.prototype,b(Object.getOwnPropertyDescriptors(li),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0})));class $X extends Kl{constructor(e){super(e),this.state={},this.widgetRootElementRef=pi(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new Zr(this.setRootElementRef,[])]}getChildContext(){return b({},this.context,{[Zm.id]:this.keyboardAction||Zm.defaultValue})}setRootElementRef(){var{rootElementRef:e}=this.props;e&&(e.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>e=>{var t,n;(t=(n=this.props).onKeyDown)===null||t===void 0||t.call(n,e)}}}get keyboardAction(){return this.__getterCache.keyboardAction!==void 0?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction={registerKeyboardAction:(e,t)=>{var n=this.createFakeInstance();return Kq("pager",n,e,void 0,t)}}}get infoVisible(){var{infoTextVisible:e,showInfo:t}=this.props;return t&&e}get pageIndexSelectorVisible(){return this.props.pageSize!==0}get normalizedDisplayMode(){var{displayMode:e,lightModeEnabled:t}=this.props;return e==="adaptive"&&t!==void 0?t?"compact":"full":e}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if(this.props.pagesNavigatorVisible==="auto"&&this.props.pageCount===1&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var e=this.normalizedDisplayMode,t=!1;return e==="adaptive"?t=this.props.isLargeDisplayMode:t=e==="full",t}get classes(){var e={["".concat(this.props.className)]:!!this.props.className,[vLe]:!0,[gLe]:!this.isLargeDisplayMode};return as(e)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){var e=this.props,t=se(e,pNe);return t}componentWillUpdate(e,t,n){super.componentWillUpdate(),this.props.onKeyDown!==e.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){var e=this.props;return fNe({props:b({},e),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}$X.defaultProps=vNe;var gNe=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],mNe=r=>{var{pagerProps:e,restAttributes:t}=r;return Jo($r(2,xX,b({contentTemplate:$X,pagerProps:e},t)))};let WX=class extends UC{constructor(e){super(e),this.__getterCache={},this.state={pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.props.defaultPageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[jC()]}pageIndexChange(e){if(this.props.gridCompatibility){var t;this.setState(i=>(t=e+1,{pageIndex:t})),this.props.pageIndexChange(t)}else{var n;this.setState(i=>(n=e,{pageIndex:n})),this.props.pageIndexChange(n)}}get pageIndex(){return this.props.gridCompatibility?(this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex)-1:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}pageSizeChange(e){var t;this.setState(n=>(t=e,{pageSize:t})),this.props.pageSizeChange(t)}get className(){return this.props.gridCompatibility?as({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return this.__getterCache.pagerProps!==void 0?this.__getterCache.pagerProps:this.__getterCache.pagerProps=b({},b({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:e=>this.pageIndexChange(e),pageSizeChange:e=>this.pageSizeChange(e)})}get restAttributes(){var e=b({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),t=se(e,gNe);return t}componentWillUpdate(e,t,n){super.componentWillUpdate(),(this.props!==e||this.props.gridCompatibility!==e.gridCompatibility||this.props.className!==e.className||this.state.pageIndex!==t.pageIndex||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChange!==e.pageIndexChange||this.props.pageSizeChange!==e.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){var e=this.props;return mNe({props:b({},e,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}};WX.defaultProps=lLe;let zX=class extends JFe{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return WX}};Kt("dxPager",zX);var _Ne="pager",CNe=10,uj=function(r){return 1+(parseInt(r.pageIndex())||0)},yNe=kr.View.inherit({init(){var r=this.getController("data");r.changed.add(e=>{if(e&&e.repaintChangesOnly){var t=this._pager;t?t.option({pageIndex:uj(r),pageSize:r.pageSize(),pageCount:r.pageCount(),totalCount:r.totalCount(),hasKnownLastPage:r.hasKnownLastPage()}):this.render()}else(!e||e.changeType!=="update"&&e.changeType!=="updateSelection"&&e.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})},_renderCore(){var r=this.element().addClass(this.addWidgetPrefix(_Ne)),e=this.option("pager")||{},t=this.getController("data"),n=this.getController("keyboardNavigation"),i={maxPagesCount:CNe,pageIndex:uj(t),pageCount:t.pageCount(),pageSize:t.pageSize(),showPageSizes:e.showPageSizeSelector,showInfo:e.showInfo,displayMode:e.displayMode,pagesNavigatorVisible:e.visible,showNavigationButtons:e.showNavigationButtons,label:e.label,pageSizes:this.getPageSizes(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage(),pageIndexChanged(o){t.pageIndex()!==o-1&&t.pageIndex(o-1)},pageSizeChanged(o){t.pageSize(o)},onKeyDown:o=>n&&n.executeAction("onKeyDown",o),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};if(L(e.infoText)&&(i.infoText=e.infoText),this._pager){this._pager.repaint();return}yt()?this._pager=this._createComponent(r,zX,i):r.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager(){return this._pager},getPageSizes(){var r=this.getController("data"),e=this.option("pager"),t=e&&e.allowedPageSizes,n=r.pageSize();return(!L(this._pageSizes)||!this._pageSizes.includes(n))&&(this._pageSizes=[],e&&(Array.isArray(t)?this._pageSizes=t:t&&n>1&&(this._pageSizes=[Math.floor(n/2),n,2*n]))),this._pageSizes},isVisible(){var r=this.getController("data"),e=this.option("pager"),t=e&&e.visible,n=this.option("scrolling");return t==="auto"&&(n&&(n.mode==="virtual"||n.mode==="infinite")?t=!1:t=r.pageCount()>1||r.isLoaded()&&!r.hasKnownLastPage()),t},getHeight(){return this.getElementHeight()},optionChanged(r){var{name:e}=r,t=e==="pager",n=e==="paging",i=e==="dataSource",o=e==="scrolling",a=this.getController("data");if(t||n||o||i){if(r.handled=!0,a.skipProcessingPagingChange(r.fullName))return;(t||n)&&(this._pageSizes=null),i||(this._pager=null,this._invalidate(),yt()&&t&&this.component&&this.component.resize())}},dispose(){this._pager=null}}),SNe={defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:J.format("dxPager-ariaLabel")}}),views:{pagerView:yNe}};at.registerModule("pager",SNe);var wNe="columns-separator",cj="columns-separator-transparent",dj="drag-header",bNe="text-content",ZP="drag-action",hj="tracker",pj="drop-highlight",fj="dx-block-separator",vj="dx-header-row",ENe="dx-widget",xNe="dx-drag-command-cell",Ho="dxDataGridResizingReordering",INe=10,gj=5,FO=.5,Jm=function(r){return r.option("allowColumnResizing")||r.getController("columns").isColumnOptionUsed("allowResizing")},UX=function(r){return r.option("allowColumnReordering")||r.getController("columns").isColumnOptionUsed("allowReordering")};class TNe extends kr.View{_renderCore(){var e=super._renderCore();return this.element().addClass(this.addWidgetPrefix(hj)),this.hide(),e}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_subscribeToCallback(){var e=this;e._positionChanged=function(t){var n=e.element();n&&n.hasClass(e.addWidgetPrefix(hj))&&(n.css({top:t.top}),Zc(n,t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)}optionChanged(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),super.optionChanged(e)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()}isVisible(){return Jm(this)}show(){this.element().show()}hide(){this.element()&&this.element().hide()}setHeight(e){Zc(this.element(),e)}dispose(){this._unsubscribeFromCallback(),super.dispose()}}class jX extends kr.View{_renderSeparator(){}_renderCore(e){var t=super._renderCore(e);return this._isShown=!0,this._renderSeparator(),this.hide(),t}show(){this._isShown=!0}hide(){this._isShown=!1}height(e){var t=this.element();if(t)if(L(e))Zc(t,e);else return Dt(t)}width(e){var t=this.element();if(t)if(L(e))YF(t,e);else return gt(t)}}class RNe extends jX{_renderSeparator(){super._renderSeparator();var e=this.element();e.addClass(this.addWidgetPrefix(wNe))}_subscribeToCallback(){var e=this,t;e._positionChanged=function(n){t=e.element(),t&&(t.css({top:n.top}),Zc(t,n.height))},e._tablePositionController.positionChanged.add(e._positionChanged)}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_init(){this._isTransparent=Jm(this),this.isVisible()&&this._subscribeToCallback()}isVisible(){return this.option("showColumnHeaders")&&(UX(this)||Jm(this))}optionChanged(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=Jm(this),this.hide(!0))),super.optionChanged(e)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._init()}show(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(cj)):e.show()),super.show()}hide(e){var t=this.element(),n=this.addWidgetPrefix(cj);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(n),t.css("left",""),t.show()):(t.hasClass(n)&&t.removeClass(n),t.hide())),super.hide()}moveByX(e){var t=this.element();t&&t.css("left",e===null?0:e-this._parentElement().offset().left)}changeCursor(e){e=L(e)?e:"";var t=this.element();t&&t.css("cursor",e)}dispose(){this._unsubscribeFromCallback(),super.dispose()}}class ONe extends jX{init(){var e=this;super.init(),this.getController("data").loadingChanged.add(t=>{t||e.hide()})}_renderSeparator(){super._renderSeparator(),this.element().addClass(fj).html("&nbsp;")}hide(){var e=this._parentElement(),t=this.element();t&&this._isShown&&t.css("display","none"),e&&!e.children(".".concat(fj)).length&&e.prepend(this.element()),super.hide()}isVisible(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled}show(e){var t=this.element();if(t&&!this._isShown)switch(e){case"group":this.element().css("display","block");break;case"columnChooser":(function(n){nn.stop(t,!0),nn.animate(t,{type:"slide",from:{width:0,display:n.display},to:n,duration:300,easing:"swing"})})({width:"100%",display:"block"});break;default:t.css("display","")}super.show()}}class DNe extends kr.View{isDragging(){return this._isDragging}_getDraggingPanelByPos(e){var t;return U(this._dragOptions.draggingPanels,(n,i)=>{if(i){var o=i.getBoundingRect();if(o&&(o.bottom===void 0||e.y<o.bottom)&&(o.top===void 0||e.y>o.top)&&(o.left===void 0||e.x>o.left)&&(o.right===void 0||e.x<o.right))return t=i,!1}}),t}_renderCore(){this.element().addClass("".concat(this.addWidgetPrefix(dj)," ").concat(this.addWidgetPrefix(bNe)," ").concat(ENe)).hide()}_resetTargetColumnOptions(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY}_getVisibleIndexObject(e,t){return L(e)?{columnIndex:t,rowIndex:e}:t}dispose(){var e=this.element();this._dragOptions=null,e&&e.parent().find(".".concat(this.addWidgetPrefix(dj))).remove()}isVisible(){var e=this.getController("columns"),t=e.getCommonSettings();return this.option("showColumnHeaders")&&(UX(this)||t.allowGrouping||t.allowHiding)}init(){var e=this;super.init(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._isDragging=!1,this.getController("data").loadingChanged.add(t=>{var n=e.element();!t&&n&&n.hide()})}dragHeader(e){var{columnElement:t}=e,n=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var i=ce.getDocument();this._onSelectStart=i.onselectstart,i.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:t&&t.css("textAlign"),height:t&&(n&&t.get(0).clientHeight||Dt(t)),width:t&&(n&&t.get(0).clientWidth||gt(t)),whiteSpace:t&&t.css("whiteSpace")}).addClass(this.addWidgetPrefix(ZP)).toggleClass(xNe,n).text(n?"":e.sourceColumn.caption),this.element().appendTo(MY.getSwatchContainer(t))}moveHeader(e){var t=e.event,{that:n}=t.data,i=gn(t),o=n._columnsResizerViewController?n._columnsResizerViewController.isResizing():!1,a=n._dragOptions;if(n._isDragging&&!o){var s=n.element(),l=Math.abs(i.x-a.columnElement.offset().left-a.deltaX),u=Math.abs(i.y-a.columnElement.offset().top-a.deltaY);if(s.is(":visible")||l>gj||u>gj){s.show();var c=i.x-a.deltaX,d=i.y-a.deltaY;s.css({left:c,top:d}),n.dockHeader(i)}t.preventDefault()}}dockHeader(e){var t=this._getDraggingPanelByPos(e),n=this._controller,i=this._dropOptions,o=this._dragOptions;if(t){var a=this.option("rtlEnabled"),s=t.getName()==="columnChooser",l=s?"y":"x",u=t.getName(),c=u==="headers"?o.rowIndex:void 0,{sourceColumn:d}=o,h=t.getColumnElements(c,d==null?void 0:d.ownerBand)||[],p=o.pointsByTarget=o.pointsByTarget||{},f=u==="columnChooser"?[]:p[u]||n._generatePointsByColumns($({},o,{targetDraggingPanel:t,columns:t.getColumns(c),columnElements:h,isVerticalOrientation:s,startColumnIndex:u==="headers"&&E(h[0]).index()}));if(p[u]=f,i.targetLocation=u,f.length>0)for(var v=0;v<f.length;v++){var g=f[v+1]&&(f[v][l]+f[v+1][l])/2;if(g===void 0||(a&&l==="x"?e[l]>g:e[l]<g)){i.targetColumnIndex=this._getVisibleIndexObject(c,f[v].columnIndex),h[v]?(i.targetColumnElement=h.eq(v),i.isLast=!1):(i.targetColumnElement=h.last(),i.isLast=!0),i.posX=f[v].x,i.posY=f[v].y,n.dock(i);break}}else this._resetTargetColumnOptions(),n.dock(i)}}dropHeader(e){var t=e.event,{that:n}=t.data,i=n._controller;n.element().hide(),i&&n._isDragging&&i.drop(n._dropOptions),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._dropOptions=null,n._isDragging=!1,ce.getDocument().onselectstart=n._onSelectStart||null}}var LO=function(r){return r.option("columnResizingMode")!=="widget"};class ANe extends kr.ViewController{_isHeadersRowArea(e){if(this._columnHeadersView){var t=this._columnHeadersView.element();if(t){var n=t.offset().top,i=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+i}}return!1}_isRtlParentStyle(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"}_pointCreated(e,t,n){var i=LO(this),o=this.option("rtlEnabled"),a=this._isRtlParentStyle(),s=!i&&o&&!a?0:1;if(e.index>=s&&e.index<t+(!i&&(!o||a)?1:0)){e.columnIndex-=s;var l=n[e.columnIndex]||{},u=n[e.columnIndex+1]||{};return!(i?l.allowResizing&&u.allowResizing:l.allowResizing)}return!0}_getTargetPoint(e,t,n){if(e){for(var i=0;i<e.length;i++)if(!(e[i].x===e[0].x&&e[i+1]&&e[i].x===e[i+1].x)&&e[i].x-n<=t&&t<=e[i].x+n)return e[i]}return null}_moveSeparator(e){var t,n=e.event,i=n.data,o=i._columnsSeparatorView.width(),a=LO(i),s=o/2,l=i._$parentContainer.offset(),u=l.left,c=gn(n),d=i.option("rtlEnabled"),h=this._isRtlParentStyle(),p=(t=i._draggingHeaderView)===null||t===void 0?void 0:t.isDragging();if(i._isResizing&&i._resizingInfo){if((u<=c.x||!a&&h)&&(!a||c.x<=u+gt(i._$parentContainer))&&i._updateColumnsWidthIfNeeded(c.x)){var f=i._columnHeadersView.getColumnElements().eq(i._resizingInfo.currentColumnIndex),v=f[0];if(v){var g=v.getBoundingClientRect().width;i._columnsSeparatorView.moveByX(f.offset().left+((a||h)&&d?0:g)),i._tablePositionController.update(i._targetPoint.y),n.preventDefault()}}}else p||(i._isHeadersRowArea(c.y)?(i._previousParentOffset&&(i._previousParentOffset.left!==l.left||i._previousParentOffset.top!==l.top)&&i.pointsByColumns(null),i._targetPoint=i._getTargetPoint(i.pointsByColumns(),c.x,o),i._previousParentOffset=l,i._isReadyResizing=!1,i._targetPoint?(i._columnsSeparatorView.changeCursor("col-resize"),i._columnsSeparatorView.moveByX(i._targetPoint.x-s),i._tablePositionController.update(i._targetPoint.y),i._isReadyResizing=!0,n.preventDefault()):(i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null))):(i.pointsByColumns(null),i._isReadyResizing=!1,i._columnsSeparatorView.changeCursor(),i._columnsSeparatorView.moveByX(null)))}_endResizing(e){var t=e.event,n=t.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)}_getNextColumnIndex(e){return e+1}_setupResizingInfo(e){var t=this._targetPoint.columnIndex,n=this._getNextColumnIndex(t),i=this._columnHeadersView.getHeaderElement(t),o=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:i&&i.length>0?Dn(i[0]).width:0,nextColumnIndex:n,nextColumnWidth:o&&o.length>0?Dn(o[0]).width:0}}_startResizing(e){var t=e.event,n=t.data,i=gn(t);if(SC(t)&&(n._isHeadersRowArea(i.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),i.x,INe),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(i.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var o=n.component.getScrollable();o&&n._isRtlParentStyle()&&(n._scrollRight=gt(o.$content())-gt(o.container())-o.scrollLeft()),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()}_generatePointsByColumns(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),i=[];n&&n.length>0&&(i=ye.getPointsByColumns(n,o=>e._pointCreated(o,n.length,t))),e._pointsByColumns=i}_unsubscribeFromEvents(){this._moveSeparatorHandler&&B.off(ce.getDocument(),fe(Yt.move,Ho),this._moveSeparatorHandler),this._startResizingHandler&&B.off(this._$parentContainer,fe(Yt.down,Ho),this._startResizingHandler),this._endResizingHandler&&(B.off(this._columnsSeparatorView.element(),fe(Yt.up,Ho),this._endResizingHandler),B.off(ce.getDocument(),fe(Yt.up,Ho),this._endResizingHandler))}_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),B.on(ce.getDocument(),fe(Yt.move,Ho),this,this._moveSeparatorHandler),B.on(this._$parentContainer,fe(Yt.down,Ho),this,this._startResizingHandler),B.on(this._columnsSeparatorView.element(),fe(Yt.up,Ho),this,this._endResizingHandler),B.on(ce.getDocument(),fe(Yt.up,Ho),this,this._endResizingHandler)}_updateColumnsWidthIfNeeded(e){var t,n,i=this._rowsView.contentWidth(),o=this._resizingInfo,a=this._columnsController,s=a.getVisibleColumns(),l=this._columnsSeparatorView.width(),u=LO(this),c=u&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),d=this.option("rtlEnabled"),h=this._isRtlParentStyle(),p=s[o.currentColumnIndex],f=s[o.nextColumnIndex];function v(R){return ft(R)&&R.endsWith("%")}function g(R,D,A,V){if(R){var F=R.width;F&&(V=v(F)),V?(a.columnOption(R.index,"visibleWidth",D),a.columnOption(R.index,"width","".concat((D/A*100).toFixed(3),"%"))):(a.columnOption(R.index,"visibleWidth",null),a.columnOption(R.index,"width",D))}}t=e-o.startPosX,(u||h)&&d&&(t=-t);var{cellWidth:m,nextCellWidth:C}=function(R){var D,A,V,F=o.currentColumnWidth+R,P=p&&p.minWidth||l,M={};return F>=P?M.cellWidth=F:(M.cellWidth=P,V=!0),u&&(A=o.nextColumnWidth-R,D=f&&f.minWidth||l,A>=D?V?M.nextCellWidth=o.nextColumnWidth-(R+P-F):M.nextCellWidth=A:(M.nextCellWidth=D,M.cellWidth=o.currentColumnWidth+(R-D+A))),M}(t);if(n=p.width!==m,n){if(a.beginUpdate(),m=Math.floor(m),i=function(R,D){var A=D.every(F=>F.width);if(A){var V=D.reduce((F,P)=>(v(P.width)&&(F+=parseFloat(P.width)),F),0);V>100&&(R=R/V*100)}return R}(i,s),g(p,m,i,c),u)C=Math.floor(C),g(f,C,i,c);else{var y=this._columnHeadersView.getColumnWidths();y[o.currentColumnIndex]=m;var w=y.reduce((R,D)=>R+D,0)>this._rowsView.contentWidth();if(!w){var T=ye.getLastResizableColumnIndex(s);T>=0&&a.columnOption(s[T].index,"visibleWidth","auto")}for(var S=0;S<y.length;S++)s[S]&&s[S]!==p&&s[S].width===void 0&&a.columnOption(s[S].index,"width",y[S])}if(a.endUpdate(),!u){this.component.updateDimensions();var x=this.component.getScrollable();if(x&&h){var I=gt(x.$content())-gt(x.container())-this._scrollRight;x.scrollTo({left:I})}}}return n}_subscribeToCallback(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})}_unsubscribeFromCallbacks(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]}_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()}_init(){var e=this,t=function(){e._isResizing||e.pointsByColumns(null)},n=function(a){e._scrollLeft!==a.left&&(e._scrollLeft=a.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,t),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,t),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,()=>{e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,()=>{e._rowsView.scrollChanged.remove(n),e._rowsView.scrollChanged.add(n)});var i=e._rowsView.getScrollbarWidth()!==0,o=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,a=>{if(e._isResizing&&!e._rowsView.isResizing){var s=e._rowsView.getScrollbarWidth()!==0;i!==s||o&&o!==a.height?(i=s,o=a.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}o=a.height})}optionChanged(e){super.optionChanged(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())}isResizing(){return this._isResizing}init(){this._subscribesToCallbacks=[],Jm(this)&&this._init()}pointsByColumns(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns}dispose(){this._unsubscribes(),super.dispose()}}class PNe extends kr.ViewController{constructor(e){super(e),this.positionChanged=ar()}update(e){var t={},n=this._columnHeadersView.element(),i=n&&n.offset(),o=i&&i.top||0,a=L(e)?Math.abs(e-o):0,s=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),u=this._rowsView?this._rowsView.height()-l:0,c=this.component.getController("columnsResizer"),d=this.component.getView("draggingHeaderView");t.height=s;var h=c.isResizing()||d.isDragging();h&&(t.height+=u-a),e!==null&&n&&n.length&&(t.top=n[0].offsetTop+a),this.positionChanged.fire(t)}init(){var e=this;super.init(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(()=>{if(e.option("allowColumnResizing")){var t=e.getController("columnsResizer")._targetPoint;e.update(t?t.y:null)}})}}class MNe extends kr.ViewController{_generatePointsByColumns(e){var t=this;this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(e);var n=ye.getPointsByColumns(e.columnElements,i=>t._pointCreated(i,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn),e.isVerticalOrientation,e.startColumnIndex);return n}checkIsCustomGroupColumnPosition(e){for(var t=!0,n=0;n<e.columns.length;n+=1){var i=e.columns[n];if(i.command==="expand"&&!t)return!0;i.command||(t=!1)}return!1}_pointCreated(e,t,n,i){var o,a=t[e.columnIndex],s=t[e.columnIndex-1],l=(s==null?void 0:s.command)==="expand",u=(a==null?void 0:a.command)==="expand"&&(s==null?void 0:s.command)!=="expand",c=i&&!i.allowReordering,d=!(a!=null&&a.allowReordering)&&!(s!=null&&s.allowReordering);switch(n){case"columnChooser":return!0;case"headers":if(c)return!0;if(!u)return l||d;if(this.isCustomGroupColumnPosition)return!1;for(;((o=t[e.columnIndex])===null||o===void 0?void 0:o.command)==="expand";)e.columnIndex+=1;return!1;default:return t.length===0}}_subscribeToEvents(e,t){var n=this;U(t,(i,o)=>{if(o)for(var a,s=o.getRowCount?o.getRowCount():1,l=o.getName(),u=function(h,p){if(p){var f=E(p),v=a[h];v&&o.allowDragging(v)&&(f.addClass(n.addWidgetPrefix(ZP)),B.on(f,fe(Gh,Ho),n.createAction(g=>{var m=g.event,C=gn(m);e.dragHeader({deltaX:C.x-E(m.currentTarget).offset().left,deltaY:C.y-E(m.currentTarget).offset().top,sourceColumn:v,index:v.index,columnIndex:h,columnElement:f,sourceLocation:l,draggingPanels:t,rowIndex:n._columnsController.getRowIndex(v.index,!0)})})),B.on(f,fe(td,Ho),{that:e},n.createAction(e.moveHeader)),B.on(f,fe($h,Ho),{that:e},n.createAction(e.dropHeader)))}},c=0;c<s;c++){var d=o.getColumnElements(c)||[];d.length&&(a=o.getColumns(c)||[],U(d,u))}})}_unsubscribeFromEvents(e,t){var n=this;U(t,(i,o)=>{if(o){var a=o.getColumnElements()||[];U(a,(s,l)=>{var u=E(l);B.off(u,fe(Gh,Ho)),B.off(u,fe(td,Ho)),B.off(u,fe($h,Ho)),u.removeClass(n.addWidgetPrefix(ZP))})}})}_getSeparator(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView}hideSeparators(e){var t=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=void 0,t&&t.hide(),e!=="block"&&n&&n.hide()}init(){var e=this;super.init(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var t=function(){if(e._draggingHeaderView){var n=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,n),e._subscribeToEvents(e._draggingHeaderView,n)}};e._columnHeadersView.renderCompleted.add(t),e._headerPanelView&&e._headerPanelView.renderCompleted.add(t),e._columnChooserView&&e._columnChooserView.renderCompleted.add(t)}allowDrop(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}drag(e){var{sourceIndex:t}=e,{sourceLocation:n}=e,{sourceColumnElement:i}=e,o=this._columnHeadersView,a=this._rowsView;i&&(i.css({opacity:FO}),n==="headers"&&(o&&o.setRowsOpacity(t,FO),a&&a.setRowsOpacity(t,FO)))}dock(e){var t=this,n=pt(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,{sourceLocation:i}=e,{targetLocation:o}=e,a=t._getSeparator(o),s=n>=0;t._columnHeadersView.element().find(".".concat(vj)).toggleClass(t.addWidgetPrefix(pj),i!=="headers"&&o==="headers"&&!s),a&&(t.allowDrop(e)&&s?o==="group"||o==="columnChooser"?function(){t._animationColumnIndex!==n&&(t.hideSeparators(),a.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=n,a.show(o))}():(t.hideSeparators("block"),t.getController("tablePosition").update(e.posY),a.moveByX(e.posX-a.width()),a.show()):t.hideSeparators())}drop(e){var{sourceColumnElement:t}=e;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".".concat(vj)).removeClass(this.addWidgetPrefix(pj))),this.allowDrop(e)){var n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}}dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}var Cp={views:{columnsSeparatorView:RNe,blockSeparatorView:ONe,draggingHeaderView:DNe,trackerView:TNe},controllers:{draggingHeader:MNe,tablePosition:PNe,columnsResizer:ANe},extenders:{views:{rowsView:{_needUpdateRowHeight(r){var e=this.option("wordWrapEnabled"),t=this.getController("columnsResizer"),n=t.isResizing();return this.callBase.apply(this,arguments)||r>0&&e&&n}}},controllers:{editorFactory:{renderFocusOverlay(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};Cp.views.draggingHeaderView;Cp.controllers.draggingHeader;Cp.views.columnsSeparatorView;Cp.controllers.tablePosition;Cp.controllers.columnsResizer;Cp.views.trackerView;at.registerModule("columnsResizingReordering",Cp);var FNe=(r,e)=>r.length===e.length&&!Object.keys(r).some(t=>r[t]!==e[t]),LNe=(r,e)=>Mr(r,e,{maxDepth:4}),NNe=(r,e,t,n)=>{var i=r,o=e;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=n(s,i);return u||(i=s,o=t(...i)),o}},kNe={compareType:"reference"},mj=function(r){var{compareType:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kNe,t=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(!t){var a=r(...i);return t=NNe(i,a,r,e==="reference"?FNe:LNe),a}return t(...i)}},JP={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"},NO="rowsview",KX="dx-data-row",VNe="dx-group-row",BNe="dx-header-row",HNe="edit-form-item",GNe="dx-master-detail-row",qX="dx-freespace-row",$Ne="dx-virtual-row",_j="dx-master-detail-cell",WNe="dx-dropdowneditor-overlay",DS="dx-command-expand",zNe="dx-command-adaptive",YX="dx-command-select",XX="dx-command-edit",Cj="[class^=dx-command]",AS="dx-cell-focus-disabled",UNe="dxDateBox",yj="dx-state-focused",jNe="dx-widget",KNe="dx-revert-button",Sj="dx-focused",kO="delete",ob=`
  input:not([type="hidden"]):not([disabled]),
  textarea:not([disabled]),
  a:not([disabled]),
  select:not([disabled]),
  button:not([disabled]),
  [tabindex]:not([disabled]),
  .dx-checkbox:not([disabled],.dx-state-readonly)
`,wj="".concat(ob,", .dx-dropdowneditor-icon"),bj="row",Ej="cell",xj="columnHeadersView",qNe=["shift","control","alt"],YNe=r=>r.attr(JP.dragCell)!==void 0,XNe=(r,e)=>r.filter("[".concat(JP.ariaColIndex,'="').concat(e+1,'"]:not([').concat(JP.dragCell,"])")).first(),QX={isDragCell:YNe,getCellToFocus:XNe},QNe="dx-datagrid-group-footer";function wm(r){return r&&r.hasClass(VNe)}function ZNe(r){return r&&r.hasClass(QNe)}function VO(r){return r&&r.hasClass(GNe)}function Tg(r){return r&&r.hasClass(KX)}function JNe(r){return!r||r.hasClass(qX)||r.hasClass($Ne)}function Ij(r,e){return!r._isRowEditMode()&&e&&!e.hasClass(YX)&&e.hasClass(d0)}function Ka(r){return L(r)&&r.length>0}function eM(){return Ye.current().deviceType!=="desktop"}function Tj(r){return!!r.parent(".".concat(BNe)).length}function eke(r,e){var t=r.option("rtlEnabled");return t?!(e.fixedPosition==="right"||L(e.command)&&!L(e.fixedPosition)):!(!L(e.fixedPosition)||e.fixedPosition==="left")}function tke(r){var e=r.getController("keyboardNavigation");return e._isVirtualScrolling()?r.option("focusedRowIndex")===e.getRowIndex():!1}var rke=r=>class extends r{init(){var e;super.init(),this.rowsViewFocusOutHandlerContext=(e=this.rowsViewFocusOutHandlerContext)!==null&&e!==void 0?e:this.rowsViewFocusOutHandler.bind(this)}subscribeToRowsViewFocusEvent(){var e;super.subscribeToRowsViewFocusEvent();var t=(e=this._rowsView)===null||e===void 0?void 0:e.element();B.on(t,"focusout",this.rowsViewFocusOutHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e;super.unsubscribeFromRowsViewFocusEvent();var t=(e=this._rowsView)===null||e===void 0?void 0:e.element();B.off(t,"focusout",this.rowsViewFocusOutHandlerContext)}rowsViewFocusHandler(e){var t=E(e.target);this.translateFocusIfNeed(e,t),super.rowsViewFocusHandler(e)}rowsViewFocusOutHandler(){this.makeScrollableFocusableIfNeed()}translateFocusIfNeed(e,t){var n=this.isScrollableNeedFocusable(),i=this._isFixedColumn(0);if(!(!n||!i)){var o=this._rowsView.getCell({rowIndex:0,columnIndex:0}),a=!!o.attr("tabindex"),s=t.is(this._$firstNotFixedCell);a&&s&&(e.preventDefault(),this._focus(o))}}renderCompleted(e){this._$firstNotFixedCell=this.getFirstNotFixedCell(),this.makeScrollableFocusableIfNeed(),super.renderCompleted(e)}_focus(e,t,n){super._focus(e,t,n),this.makeScrollableFocusableIfNeed()}_tabKeyHandler(e,t){var n,i=L(this._focusedCellPosition)&&!go(this._focusedCellPosition),o=!i||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),a=this.isScrollableNeedFocusable();o&&a&&((n=this._$firstNotFixedCell)===null||n===void 0||n.removeAttr("tabIndex")),super._tabKeyHandler(e,t)}getFirstNotFixedCell(){var e=this._columnsController.getVisibleColumns(),t=e.findIndex(n=>{var{fixed:i}=n;return!i});return t===-1?void 0:this._rowsView._getCellElement(0,t)}isScrollableNeedFocusable(){var e,t,n=!!this._rowsView.getScrollable(),i=!!(!((e=this._rowsView._fixedTableElement)===null||e===void 0)&&e.length),o=!!(!((t=this._rowsView.getCellElements(0))===null||t===void 0)&&t.length);return n&&i&&o}makeScrollableFocusableIfNeed(){var e=this.isScrollableNeedFocusable();!e||!this._$firstNotFixedCell||this._applyTabIndexToElement(this._$firstNotFixedCell)}};class nke extends kr.ViewController{init(){var e,t;this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._memoFireFocusedCellChanged=mj(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=mj(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.renderCompletedWithContext=this.renderCompletedWithContext||this.renderCompleted.bind(this),this.rowsViewFocusHandlerContext=this.rowsViewFocusHandlerContext||this.rowsViewFocusHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this.isKeyboardEnabled()?(nue(),(e=this._editorFactory)===null||e===void 0||e.focused.add(this.focusedHandlerWithContext),this.createAction("onKeyDown")):(x1(),(t=this._editorFactory)===null||t===void 0||t.focused.remove(this.focusedHandlerWithContext)),this.initViewHandlers(),this.initDocumentHandlers()}focusedHandler(e){this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}rowsViewFocusHandler(e){var t,n=E(e.target),i=E(e.relatedTarget).closest(this._rowsView.element()).length,o=n.is("a");if(e.relatedTarget&&o&&!i&&this._isEventInCurrentGrid(e)){var a=this._getFocusedCell();a=Ka(a)?a:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),n.closest(a).length||(e.preventDefault(),B.trigger(a,"focus"))}var s=n.is("td"),l=((t=this.option("focusedRowIndex"))!==null&&t!==void 0?t:-1)<0;s&&l&&this._updateFocusedCellPosition(n)}subscribeToRowsViewFocusEvent(){var e,t=(e=this._rowsView)===null||e===void 0?void 0:e.element();B.on(t,"focusin",this.rowsViewFocusHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e,t=(e=this._rowsView)===null||e===void 0?void 0:e.element();B.off(t,"focusin",this.rowsViewFocusHandlerContext)}renderCompleted(e){var t=this._rowsView.element(),n=!e||e.changeType==="refresh",i=this._focusedView&&this._focusedView.name===this._rowsView.name,o=!1,a=e&&(e.changeType==="append"||e.changeType==="prepend"),s=E(ce.getRootNode(t.get&&t.get(0))),l=s.find(":focus"),u=!l.length||l.closest(t).length;this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),i&&u&&(o=this._isNeedFocus?!a:this._isHiddenFocus&&n&&!(e!=null&&e.virtualColumnsScrolling),o&&this._updateFocus(!0))}initViewHandlers(){var e,t;this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),this.unsubscribeFromKeyDownEvent(),(t=(e=this._rowsView)===null||e===void 0?void 0:e.renderCompleted)===null||t===void 0||t.remove(this.renderCompletedWithContext),this.isKeyboardEnabled()&&this._rowsView.renderCompleted.add(this.renderCompletedWithContext)}initDocumentHandlers(){var e=ce.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction(t=>{var n=E(t.event.target),i=this._isEventInCurrentGrid(t.event)&&n.closest(".".concat(this.addWidgetPrefix(NO))).length,o=n.closest(".".concat(WNe)).length,a=this.getController("columnsResizer"),s=!!a&&a.isResizing();if(!i&&!o&&!s){var l=this._focusedView?n.parents().filter(this._focusedView.element()).length>0:!1;!l&&this._resetFocusedCell(!0),this._resetFocusedView()}}),B.off(e,fe(Yt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&B.on(e,fe(Yt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){var e=this._getRowsViewElement(),t=!this._dataController.getVisibleRows().length;t&&this._applyTabIndexToElement(e)}unsubscribeFromPointerEvent(){var e=eM()?sr:Yt.down,t=this._getRowsViewElement();this._pointerEventAction&&B.off(t,fe(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction)}subscribeToPointerEvent(){var e=eM()?sr:Yt.down,t=this._getRowsViewElement(),n=".".concat(Ec," > td, .").concat(Ec);B.on(t,fe(e,"dxDataGridKeyboardNavigation"),n,this._pointerEventAction)}initPointerEventHandler(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()}unsubscribeFromKeyDownEvent(){zc.off(this._keyDownListener)}subscribeToKeyDownEvent(){var e=this._getRowsViewElement();this._keyDownListener=zc.on(e,null,t=>this._keyDownHandler(t))}initKeyDownHandler(){this._keyDownListener&&this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()}dispose(){super.dispose(),this._resetFocusedView(),zc.off(this._keyDownListener),B.off(ce.getDocument(),fe(Yt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),x1()}optionChanged(e){switch(e.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":this.init(),e.handled=!0;break;default:super.optionChanged(e)}}isRowFocusType(){return this.focusType===bj}isCellFocusType(){return this.focusType===Ej}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType=bj)}setCellFocusType(){this.focusType=Ej}_keyDownHandler(e){var t,n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var i=this._processOnKeyDown(e),o=(t=this._editingController)===null||t===void 0?void 0:t.isEditing(),{originalEvent:a}=e;if(a.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(!qNe.includes(e.keyName)&&this._updateFocusedCellPositionByTarget(a.target),!i){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,o),i=!0;break;case"upArrow":case"downArrow":e.ctrl?eL("rowsView",this,a):this._upDownKeysHandler(e,o),i=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),i=!0;break;case"space":i=this._spaceKeyHandler(e,o);break;case"A":ii(e.originalEvent)?(this._ctrlAKeyHandler(e,o),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,o),i=!0;break;case"enter":this._enterKeyHandler(e,o),i=!0;break;case"escape":i=this._escapeKeyHandler(e,o);break;case"F":ii(e.originalEvent)?(this._ctrlFKeyHandler(e),i=!0):i=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),i=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(i=this._beginFastEditing(a,!0))}!i&&!this._beginFastEditing(a)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&a.stopPropagation()}}_processOnKeyDown(e){var{originalEvent:t}=e,n={handled:!1,event:t};return this.executeAction("onKeyDown",n),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!n.handled}_closeEditCell(){setTimeout(()=>{this._editingController.closeEditCell()})}_leftRightKeysHandler(e,t){var n=this.getVisibleRowIndex(),i=e.originalEvent,o=this._focusedView&&this._focusedView.getRow(n),a=this._getDirectionCodeByKey(e.keyName),s=this._isFastEditingStarted(),l=(!t||s)&&Tg(o);if(l){this.setCellFocusType(),s&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(a);var u=this._getNextCell(a);Ka(u)&&this._arrowKeysHandlerFocusCell(i,u,a),i&&i.preventDefault()}}_upDownKeysHandler(e,t){var n,i,o=this.getVisibleRowIndex(),a=this._focusedView&&this._focusedView.getRow(o),s=e.originalEvent,l=e.keyName==="upArrow",u=this._dataController.dataSource(),c=(i=(n=this._editingController)===null||n===void 0?void 0:n.isEditRowByIndex)===null||i===void 0?void 0:i.call(n,o),d=this._isFastEditingStarted(),h=(!c||!t||d)&&a&&!VO(a);if(h){if(d&&this._closeEditCell(),!this._navigateNextCell(s,e.keyName)&&this._isVirtualRowRender()&&l&&u&&!u.isLoading()){var p=Vt(a),f=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-p,f,s)}s&&s.preventDefault()}}_pageUpDownKeyHandler(e){var t=this._dataController.pageIndex(),n=this._dataController.pageCount(),i=this.option("paging.enabled"),o=e.keyName==="pageUp",a=o?-1:1,s=this._rowsView.getScrollable();i&&!this._isVirtualScrolling()?(o?t>0:t<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+a),e.originalEvent.preventDefault()):s&&Dt(s.container())<Dt(s.$content())&&(this._scrollBy(0,Dt(s.container())*a),e.originalEvent.preventDefault())}_spaceKeyHandler(e,t){var n=this.getVisibleRowIndex(),i=E(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!t){var o=this._getElementType(i)==="row"&&this.isRowFocusType()&&Tg(i),a=i.hasClass(YX);return a&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),o||i.parent().hasClass(KX)||i.hasClass(this.addWidgetPrefix(NO))?(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}return this._beginFastEditing(e.originalEvent)}_ctrlAKeyHandler(e,t){!t&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())}_tabKeyHandler(e,t){var n=this.option("editing"),i=e.shift?"previous":"next",o=L(this._focusedCellPosition)&&!go(this._focusedCellPosition),a=!o||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=e.originalEvent.target,l=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(s,i)){if(E(l).addClass(yj),n&&s&&!a)if(E(s).hasClass(this.addWidgetPrefix(NO))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(i),t){if(!this._editingCellTabHandler(e,i))return}else this._targetCellTabHandler(e,i)&&(a=!0);a?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}}_getMaxHorizontalOffset(){var e=this.component.getScrollable();return e?e.scrollWidth()-gt(this._rowsView.element()):0}_isColumnRendered(e){var t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),i=t[e],o=!1;return i&&(o=n.indexOf(i)>=0),o}_isFixedColumn(e){var t=this._columnsController.getVisibleColumns(null,!0),n=t[e];return!!n&&!!n.fixed}_isColumnVirtual(e){var t=e-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns(),i=n[t];return!!i&&i.command==="virtual"}_processVirtualHorizontalPosition(e){var t=this.component.getScrollable(),n=this.getColumnIndex(),i,o=0,a=!1;switch(e){case"next":case"nextInRow":var s=this._getVisibleColumnCount();i=n+1,o=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?a=s===i||this._isFixedColumn(n)&&!this._isColumnRendered(i):a=s>i&&this._isFixedColumn(n)&&!this._isColumnRendered(i);break;case"previous":case"previousInRow":if(i=n-1,o=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){var l=this._columnsController.getColumnIndexOffset(),u=i<0&&l===0;a=u||this._isFixedColumn(n)&&!this._isColumnRendered(i)}else a=i>=0&&this._isFixedColumn(n)&&!this._isColumnRendered(i)}a?t.scrollTo({left:o}):L(i)&&L(e)&&this._isColumnVirtual(i)&&(o=this._getHorizontalScrollPositionOffset(e),o!==0&&t.scrollBy({left:o,top:0}))}_getHorizontalScrollPositionOffset(e){var t=0,n=this._getCell(this._focusedCellPosition),i=n&&er(n);if(i>0){var o=this.option("rtlEnabled")?-1:1;t=e==="nextInRow"||e==="next"?i*o:i*o*-1}return t}_editingCellTabHandler(e,t){var n=e.originalEvent.target,i=this._getCellElementFromTarget(n),o,a=e.originalEvent,s=this._getElementType(n);if(i.is(Cj))return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(i);var l=this._getNextCellByTabKey(a,t,s);if(i=l.$cell,!i||this._handleTabKeyOnMasterDetailCell(i,t))return!1;var u=this._getColumnByCellElement(i),c=i.parent(),d=this._getRowIndex(c),h=this._dataController.items()[d],p=this._editingController;if(u&&u.allowEditing){var f=!h||h.rowType==="data";o=p.allowUpdating({row:h})?f:h&&h.isNewRow}return o||this._closeEditCell(),this._focusCell(i,!l.isHighlighted)&&(!this._isRowEditMode()&&o?this._editFocusedCell():this._focusInteractiveElement(i,e.shift)),!0}_targetCellTabHandler(e,t){var n=e.originalEvent,i=n.target,o=this._getElementType(i),a=this._getCellElementFromTarget(i),s=o==="cell"&&this._getInteractiveElement(a,!e.shift),l=!1;if(!Ij(this,a)&&(s!=null&&s.length)&&i!==s.get(0))l=!0;else{this._focusedCellPosition.rowIndex===void 0&&E(i).hasClass(Ec)&&this._updateFocusedCellPosition(a),o=this._getElementType(i),this.isRowFocusType()&&(this.setCellFocusType(),o==="row"&&Tg(E(i))&&(i=this.getFirstValidCellInRow(E(i)),o=this._getElementType(i)));var u=this._getNextCellByTabKey(n,t,o);if(a=u.$cell,!a||(a=this._checkNewLineTransition(n,a),!a))return!1;this._focusCell(a,!u.isHighlighted),Ij(this,a)||this._focusInteractiveElement(a,e.shift)}return l}_getNextCellByTabKey(e,t,n){var i=this._getNextCell(t,n),o=i&&this._fireFocusedCellChanging(e,i,!0);return!o||o.cancel?{}:(o.$newCellElement&&(i=o.$newCellElement),{$cell:i,isHighlighted:o.isHighlighted})}_checkNewLineTransition(e,t){var n=this.getVisibleRowIndex(),i=t.parent();if(n!==this._getRowIndex(i)){var o=this._getCellPosition(t),a=this._fireFocusedRowChanging(e,i);if(a.cancel)return;a.rowIndexChanged&&o&&(this.setFocusedColumnIndex(o.columnIndex),t=this._getFocusedCell())}return t}_enterKeyHandler(e,t){var n,i=this.getVisibleRowIndex(),o=this._dataController.getKeyByRowIndex(i),a=(n=this._focusedView)===null||n===void 0?void 0:n.getRow(i),s=this._getFocusedCell(),l=this.option("grouping.allowCollapsing")&&wm(a),u=this.option("masterDetail.enabled")&&(s==null?void 0:s.hasClass(DS)),c=s==null?void 0:s.hasClass(zNe);if(l||u){var d=this._dataController.items()[i],h=(d==null?void 0:d.data)&&!d.data.isContinuation;L(o)&&h&&this._dataController.changeRowExpand(o)}else c?(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(o),this._updateFocusedCellPosition(s)):s!=null&&s.hasClass(XX)||this._processEnterKeyForDataCell(e,t)}_processEnterKeyForDataCell(e,t){var n=this._getEnterKeyDirection(e),i=this._allowEditingOnEnterKey();t||!i&&n?(this._handleEnterKeyEditingCell(e.originalEvent),n==="next"||n==="previous"?this._targetCellTabHandler(e,n):(n==="upArrow"||n==="downArrow")&&this._navigateNextCell(e.originalEvent,n)):i&&this._startEditing(e)}_getEnterKeyDirection(e){var t=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;if(t==="column")return n?"upArrow":"downArrow";if(t==="row")return n?"previous":"next"}_handleEnterKeyEditingCell(e){var{target:t}=e,n=this._getCellElementFromTarget(t),i=this._isRowEditMode();this._updateFocusedCellPosition(n),i?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(B.trigger(E(t),"change"),this._closeEditCell(),e.preventDefault())}_escapeKeyHandler(e,t){var n=this._getCellElementFromTarget(e.originalEvent.target);return t?(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault(),!0):!1}_ctrlFKeyHandler(e){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}}_f2KeyHandler(){var e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(t);!e&&Tg(n)&&this._startEditing()}_navigateNextCell(e,t){var n=this._getNextCell(t),i=this._getDirectionCodeByKey(t),o=n&&this._isCellValid(n),a=o?this._arrowKeysHandlerFocusCell(e,n,i):!1;return a}_arrowKeysHandlerFocusCell(e,t,n){var i=n==="prevRow"||n==="nextRow",o=this._fireFocusChangingEvents(e,t,i,!0);return t=o.$newCellElement,!o.cancel&&this._isCellValid(t)?(this._focus(t,!o.isHighlighted),!0):!1}_beginFastEditing(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,kO);else{var{key:n}=e,i=e.keyCode||e.which,o=n||i&&String.fromCharCode(i);o&&(o.length===1||o===kO)&&this._startEditing(e,o)}return!0}_pointerEventHandler(e){var t,n=e.event||e,i=E(n.currentTarget),o=(t=this._rowsView)===null||t===void 0?void 0:t.element(),a=i.parent(),s=E(n.target).is(ob),l=!!E(n.target).closest(".".concat(KNe)).length,u=i.hasClass(DS);this._isEventInCurrentGrid(n)&&(!l&&(this._isCellValid(i,!s)||u)?(i=this._isInsideEditForm(i)?E(n.target):i,this._focusView(),E(o).removeClass(yj),a.hasClass(qX)?(this._updateFocusedCellPosition(i),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(i)?this._updateFocusedCellPosition(i):this._clickTargetCellHandler(n,i)):i.is("td")&&this._resetFocusedCell())}_clickTargetCellHandler(e,t){var n=this._getColumnByCellElement(t),i=this._isCellEditMode();this.setCellFocusType();var o=this._fireFocusChangingEvents(e,t,!0);if(t=o.$newCellElement,o.cancel)this.setRowFocusType(),this.setFocusedRowIndex(o.prevRowIndex),this._editingController.isEditing()&&i&&this._closeEditCell();else{if(o.resetFocusedRow){this.getController("focus")._resetFocusedRow();return}if(o.rowIndexChanged&&(t=this._getFocusedCell()),!o.isHighlighted&&!i&&this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&i&&n&&n.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();var a=e&&E(e.target).closest("".concat(wj,", td")),s=a&&a.not(t).is(wj),l=!!n&&!n.command&&t.hasClass(d0),u=!l&&(!o.isHighlighted||s);this._focus(t,u,s)}}}_allowRowUpdating(){var e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")}focus(e){var t,n=this.option("focusedRowEnabled"),i=this._isCellElement(E(e));e||(t=".dx-datagrid-rowsview .dx-row[tabindex]",n||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(t).first()),e&&this._focusElement(E(e),i)}getFocusedView(){return this._focusedView}setupFocusedView(){this.isKeyboardEnabled()&&!L(this._focusedView)&&this._focusView()}_focusElement(e,t){var n=E(this._getRowsViewElement()),i=e.closest(n),o=this.isRowFocusType(),a={};!i.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||wm(e))&&(this.setCellFocusType(),a=this._fireFocusChangingEvents(null,e,!0,t),e=a.$newCellElement,o&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(e,!a.isHighlighted),this._focusInteractiveElement(e)))}_getFocusedViewByElement(e){var t=this.getFocusedView(),n=t&&E(t.element());return e&&e.closest(n).length!==0}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(e,t){if(e){var n=this._getInteractiveElement(e,t);ye.focusAndSelectElement(this,n)}}_focus(e,t,n){var i=e&&!e.hasClass(Ec)?e.closest(".".concat(Ec)):e;if(!(i&&JNe(i))){var o=this._focusedView,a=o&&o.element(),s;this._isHiddenFocus=t;var l=wm(i)||ZNe(i)||this.isRowFocusType();l?(s=i,o&&this.setFocusedRowIndex(this._getRowIndex(i))):this._isCellElement(e)&&(s=e,this._updateFocusedCellPosition(e)),s&&(a&&a.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(s).removeClass(AS).removeClass(Sj).removeAttr("tabindex"),B.one(s,"blur",u=>{u.relatedTarget&&s.removeClass(AS).removeClass(Sj)}),n||(this._applyTabIndexToElement(s),B.trigger(s,"focus")),t?(s.addClass(AS),l&&e.addClass(AS)):this._editorFactory.focus(s))}}_updateFocus(e){this._updateFocusTimeout=setTimeout(()=>{if(this._needFocusEditingCell()){this._editingController._focusEditingCell();return}var t=this._getFocusedCell(),n=this._editingController.isEditing();if(!this._isMasterDetailCell(t)||this._isRowEditMode()){if(this._hasSkipRow(t.parent())){var i=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";t=this._getNextCell(i)}if(Ka(t))if(t.is("td")||t.hasClass(this.addWidgetPrefix(HNe))){var o=t.is(Cj),a=t.find(":focus"),s=Ka(a),l=this._getColumnByCellElement(t);if((e||!o)&&this._editorFactory.focus()){if(o&&s){ye.focusAndSelectElement(this,a);return}!s&&this._focus(t)}else!s&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(t,this._isHiddenFocus);n&&!(l!=null&&l.showEditorAlways)&&this._focusInteractiveElement.bind(this)(t)}else B.trigger(t,"focus")}})}_getColumnByCellElement(e){var t=this._rowsView.getCellIndex(e),n=t+this._columnsController.getColumnIndexOffset();return this._columnsController.getVisibleColumns(null,!0)[n]}_needFocusEditingCell(){var e=this._editingController.getEditMode()===av,t=this._editingController.getEditMode()===jh,n=e&&this._editingController.hasChanges(),i=t&&this._editingController.isNewRowInEditMode(),o=this._getFocusedCell();return(o.children().length===0||o.find(CN).length>0)&&(n||i)}_getFocusedCell(){return E(this._getCell(this._focusedCellPosition))}_updateFocusedCellPositionByTarget(e){var t,n=this._getElementType(e);if(n==="row"&&L((t=this._focusedCellPosition)===null||t===void 0?void 0:t.columnIndex)){var i=E(e);this._focusedView&&wm(i)&&this.setFocusedRowIndex(this._getRowIndex(i))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))}_updateFocusedCellPosition(e,t){var n=this._getCellPosition(e,t);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n}_getFocusedColumnIndexOffset(e){var t=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?t=this._getFixedColumnIndexOffset(n):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t}_getFixedColumnIndexOffset(e){var t=eke(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return t}_getCellPosition(e,t){var n,i=Ka(e)&&e.closest("tr");if(Ka(i)){var o=this._getRowIndex(i);return n=this._rowsView.getCellIndex(e,o),n+=this._getFocusedColumnIndexOffset(n),t&&(n=t==="previous"?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:o,columnIndex:n}}}_focusCell(e,t){if(this._isCellValid(e))return this._focus(e,t),!0}_focusEditFormCell(e){e.hasClass(_j)&&this._editorFactory.focus(e,!0)}_resetFocusedCell(e){var t,n=this._getFocusedCell();Ka(n)&&n.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(t=this._focusedView)===null||t===void 0||t.renderFocusState({preventScroll:e})}restoreFocusableElement(e,t){var n,i,o=L(e),a=this._rowsView.element(),{columnIndex:s}=this._focusedCellPosition,l=this._dataController.getRowIndexOffset();e=o?e:this._rowsView.getTopVisibleItemIndex()+l,o?(i=this._rowsView.getRow(e-l),n=this._fireFocusedRowChanging(t,i),!n.cancel&&n.rowIndexChanged&&(e=n.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(a),B.trigger(a,"focus")),(!o||!n.cancel)&&this.setFocusedCellPosition(e,s),o&&this._updateFocus()}_getNewPositionByCode(e,t,n){var{columnIndex:i}=e,{rowIndex:o}=e,a;if(e.rowIndex===void 0&&n==="next")return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":a=this._getVisibleColumnCount(),i<a-1&&t!=="row"&&this._hasValidCellAfterPosition({columnIndex:i,rowIndex:o})?i++:!this._isLastRow(o)&&n==="next"&&(i=0,o++);break;case"previousInRow":case"previous":i>0&&t!=="row"&&this._hasValidCellBeforePosition({columnIndex:i,rowIndex:o})?i--:o>0&&n==="previous"&&(o--,a=this._getVisibleColumnCount(),i=a-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:i,rowIndex:o}}setFocusedCellPosition(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)}setFocusedRowIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e}setFocusedColumnIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var e,t=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.rowIndex;return!L(t)||t<0?-1:t-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var e,t=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex;return L(t)?t-this._columnsController.getColumnIndexOffset():-1}_applyColumnIndexBoundaries(e){var t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e}_isCellByPositionValid(e){var t=E(this._getCell(e));return this._isCellValid(t)}_isLastRow(e){var t=this._dataController;if(this._isVirtualRowRender())return e>=t.getMaxRowIndex();var n=Math.max(...t.items().map((i,o)=>i.visible!==!1?o:-1));return e===n}_isFirstValidCell(e){var t=!1;return e.rowIndex===0&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t}_hasValidCellBeforePosition(e){for(var{columnIndex:t}=e,n=!1;t>0&&!n;){var i={columnIndex:--t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(i)}return n}_hasValidCellAfterPosition(e){for(var{columnIndex:t}=e,n=!1,i=this._getVisibleColumnCount();t<i-1&&!n;){var o={columnIndex:++t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(o)}return n}_isLastValidCell(e){var t=e.columnIndex>=0?e.columnIndex+1:0,{rowIndex:n}=e,i={columnIndex:t,rowIndex:n},o=this._dataController.getVisibleRows(),a=o&&o[n],s=this._isLastRow(n);if(!s)return!1;var l=(a==null?void 0:a.rowType)==="group"||(a==null?void 0:a.rowType)==="groupFooter";return l&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(i)?!1:this._isLastValidCell(i)}_isCellValid(e,t){if(Ka(e)){var n=e.parent(),i=this._rowsView.getCellIndex(e)+this._columnsController.getColumnIndexOffset(),o=this._getColumnByCellElement(e),a=this._getVisibleColumnCount(),s=this._editingController,l=VO(n),u=o&&o.showWhenGrouped,c=o&&!e.hasClass(DS)&&Tg(n),d=QX.isDragCell(e);if(d)return!1;if(this._isMasterDetailCell(e))return!0;if(a>i&&(!l&&o&&(!L(o.groupIndex)||u&&c)||parseInt(e.attr("colspan"),10)>1)){var h=this._dataController.items(),p=this._rowsView.getRowIndex(n),f=h[p],v=s&&this._isCellEditMode()&&s.isEditing(),g=s&&s.isEditRow(p),m=g||v;return o.command?this._isLegacyNavigation()?!m&&o.command==="expand":v?!1:g?o.command!=="select":!m:v&&f&&f.rowType!=="data"?!1:!m||o.allowEditing||t}}}getFirstValidCellInRow(e,t){var n=e.find("> td"),i,o;t=t||0;for(var a=t;a<n.length;++a)if(i=n.eq(a),this._isCellValid(i)){o=i;break}return o}_getNextCell(e,t,n){var i=n||this._focusedCellPosition,o=this.isRowFocusType(),a=o||["next","previous"].includes(e),s,l;if(this._focusedView&&i){var u=this._getNewPositionByCode(i,t,e);s=E(this._getCell(u));var c=e==="previous"?this._isFirstValidCell(u):this._isLastValidCell(u);if(Ka(s)&&!this._isCellValid(s)&&this._isCellInRow(u,a)&&!c&&(o?s=this.getFirstValidCellInRow(s.parent(),u.columnIndex):s=this._getNextCell(e,"cell",u)),l=Ka(s)&&s.parent(),this._hasSkipRow(l)){var d=this._getRowIndex(l);if(!this._isLastRow(d))s=this._getNextCell(e,"row",{columnIndex:i.columnIndex,rowIndex:d});else return null}return Ka(s)?s:null}return null}_startEditing(e,t){var n=this._focusedCellPosition,i=this.getVisibleRowIndex(),o=this.getVisibleColumnIndex(),a=this._dataController.items()[i],s=this._columnsController.getVisibleColumns()[o];this._isAllowEditing(a,s)&&(this._isRowEditMode()?this._editingController.editRow(i):n&&this._startEditCell(e,t))}_isAllowEditing(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing}_editFocusedCell(){var e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)}_startEditCell(e,t){this._fastEditingStarted=L(t);var n=this._editFocusedCell(),i=Ox(n),o=this._isFastEditingStarted();if(!(!o||!i&&!n)){var a=i&&t===kO?"":t,s=i?n:X().resolve(),l=this._rowsView.waitAsyncTemplates(!0);$e(s,l).done(()=>{this._editingCellHandler(e,a)})}}_editingCellHandler(e,t){var n,i,o=this._getFocusedCell().find(ob).eq(0),a=o.get(0);if(a){var s=Fc(e,{type:"keydown",target:a}),l=Fc(e,{type:"keypress",target:a}),u=Fc(e,{type:"input",target:a});if(u.originalEvent&&(u.originalEvent=Fc(u.originalEvent,{data:t})),(i=(n=a).select)===null||i===void 0||i.call(n),B.trigger(o,s),!s.isDefaultPrevented()&&(B.trigger(o,l),!l.isDefaultPrevented())){var c=Gr.mozilla?25:0;setTimeout(()=>{var d=this._getKeyPressInputValue(o,t);o.val(d);var h=o.closest(".".concat(jNe));B.off(h,"focusout"),B.one(h,"focusout",()=>{B.trigger(o,"change")}),B.trigger(o,u)},c)}}}_getKeyPressInputValue(e,t){var n=e.val();return t==="-"&&n==="-0"?"-0":t}_fireFocusChangingEvents(e,t,n,i){var o,a={},s=(o=this._getCellPosition(t))!==null&&o!==void 0?o:{};return this.isCellFocusType()&&(a=this._fireFocusedCellChanging(e,t,i),a.cancel||(s.columnIndex=a.newColumnIndex,s.rowIndex=a.newRowIndex,i=a.isHighlighted,t=E(this._getCell(s)))),!a.cancel&&n&&t&&(a=this._fireFocusedRowChanging(e,t.parent()),a.cancel||(s.rowIndex=a.newRowIndex,a.isHighlighted=i)),a.$newCellElement=E(this._getCell(s)),a.$newCellElement.length||(a.$newCellElement=t),a}_fireFocusedCellChanging(e,t,n){var i=this.option("focusedColumnIndex"),o=this.option("focusedRowIndex"),a=this._getCellPosition(t),s=a?a.columnIndex:-1,l=a?a.rowIndex:-1,u=this._dataController.getVisibleRows(),c=this._columnsController.getVisibleColumns(),d={cellElement:t,prevColumnIndex:i,prevRowIndex:o,newColumnIndex:s,newRowIndex:l,rows:u,columns:c,event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",d),(d.newColumnIndex!==s||d.newRowIndex!==l)&&(d.$newCellElement=E(this._getCell({columnIndex:d.newColumnIndex,rowIndex:d.newRowIndex}))),d.cancel&&(this._canceledCellPosition={rowIndex:l,columnIndex:s}),d}_fireFocusedCellChanged(e){var t=this._rowsView.getCellIndex(e),n=e==null?void 0:e.parent().data("options"),i=n==null?void 0:n.key;this._memoFireFocusedCellChanged(i,t)}_memoFireFocusedCellChanged(e,t){var n=this._getFocusedCell(),i=this._getRowIndex(n==null?void 0:n.parent()),o=Math.min(i-this._dataController.getRowIndexOffset(),this._dataController.items().length-1),a=this._editingController.isEditCell(o,t);if(!a){var s=this._dataController.items()[o],l=this._columnsController.getVisibleColumns()[t];this.executeAction("onFocusedCellChanged",{cellElement:n?ut(n):void 0,columnIndex:t,rowIndex:i,row:s,column:l})}}_fireFocusedRowChanging(e,t){var n=this._getRowIndex(t),i=this.option("focusedRowIndex"),o=this._dataController.loadingOperationTypes(),a={rowElement:t,prevRowIndex:i,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1},s=o.sorting||o.grouping||o.filtering||o.paging;return!this._dataController||this._dataController.isLoading()&&s?(a.cancel=!0,a):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",a),!a.cancel&&a.newRowIndex!==n&&(a.resetFocusedRow=a.newRowIndex<0,a.resetFocusedRow||this.setFocusedRowIndex(a.newRowIndex),a.rowIndexChanged=!0)),a)}_fireFocusedRowChanged(){var e,t=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),i=(e=this._focusController)===null||e===void 0?void 0:e.getFocusedRowIndexByKey(n);!t||L(n)&&i<0||this._memoFireFocusedRowChanged(n,i)}_memoFireFocusedRowChanged(e,t){var n=t-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:t<0?void 0:this._rowsView.getRowElement(n),rowIndex:t,row:t<0?void 0:this._dataController.getVisibleRows()[n]})}_isEventInCurrentGrid(e){return ye.isElementInCurrentGrid(this,E(e.target))}_isRowEditMode(){var e=this._editingController.getEditMode();return e===wu||e===Ov}_isCellEditMode(){var e=this._editingController.getEditMode();return e===av||e===jh}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_getInteractiveElement(e,t){var n=e.find(ob).filter(":visible");return t?n.last():n.first()}_applyTabIndexToElement(e){var t,n=(t=this.option("tabIndex"))!==null&&t!==void 0?t:0;e.attr("tabindex",n)}_getCell(e){if(this._focusedView&&e){var t=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],i=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),o=e.rowIndex>=0?e.rowIndex-t:-1,a=e.columnIndex>=0?e.columnIndex-i:-1;return this._focusedView.getCell({rowIndex:o,columnIndex:a})}}_getRowIndex(e){var t=this._rowsView.getRowIndex(e);return t>=0&&(t+=this._dataController.getRowIndexOffset()),t}_hasSkipRow(e){var t=e&&e.get(0);return t&&(t.style.display==="none"||VO(e)&&!e.hasClass(this.addWidgetPrefix(sE)))}_allowEditingOnEnterKey(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(e){var t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t}_isVirtualScrolling(){var e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"}_isVirtualRowRender(){return this._isVirtualScrolling()||ye.isVirtualRowRendering(this)}_isVirtualColumnRender(){return this.option("scrolling.columnRenderingMode")==="virtual"}_scrollBy(e,t,n,i){var o=this,a=this._rowsView.getScrollable();return o._focusedCellPosition&&a.on("scroll",function s(){a.off("scroll",s),setTimeout(o.restoreFocusableElement.bind(o,n,i))}),a.scrollBy({left:e,top:t})}_isInsideEditForm(e){var t=E(e).closest(".".concat(this.addWidgetPrefix(sE)));return t.length&&this.elementIsInsideGrid(t)}_isMasterDetailCell(e){var t=E(e).closest(".".concat(_j));return t.length&&this.elementIsInsideGrid(t)}_processNextCellInMasterDetail(e,t){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)}_handleTabKeyOnMasterDetailCell(e,t){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition(E(e),t);var n=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(n,E(e)),!0}return!1}_getElementType(e){return E(e).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(e,t){var{columnIndex:n}=e,i=this._getVisibleColumnCount();return t?n>=0&&n<=i-1:n>0&&n<i-1}_isCellElement(e){return e.length&&e[0].tagName==="TD"}_getCellElementFromTarget(e){var t=this._getElementType(e),n=E(e),i;return t==="cell"?i=n.closest(".".concat(Ec," > td")):i=n.children().not(".".concat(DS)).first(),i}_getRowsViewElement(){var e;return(e=this._rowsView)===null||e===void 0?void 0:e.element()}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_processCanceledEditCellPosition(e,t){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,n}}updateFocusedRowIndex(){var e=this._dataController,t=this.getVisibleRowIndex(),n=e.items(),i=n.length?n.length-1:-1,o=e.getRowIndexOffset();i>=0&&t>i&&this.setFocusedRowIndex(i+o)}}var ike={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:nke},extenders:{views:{rowsView:{init(){this.callBase(),this._keyboardController=this.getController("keyboardNavigation")},_rowClick(r){var e=this.getController("editing").getEditRowIndex(),t=this._keyboardController.isKeyboardEnabled();e===r.rowIndex&&this._keyboardController.setCellFocusType();var n=(eM()||!t)&&this.option("focusedRowEnabled");n&&this._triggerPointerDownEventHandler(r,!t),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler(r,e){var{originalEvent:t}=r.event;if(t){var n=E(t.target),i=this.getCellIndex(n),o=this.getController("columns").getVisibleColumns()[i],a=this.getController("data").items()[r.rowIndex];if(this._keyboardController._isAllowEditing(a,o)||e){var s=Fc(t,{currentTarget:t.target});this._keyboardController._pointerEventHandler(s)}}},renderFocusState(r){var{preventScroll:e,pageSizeChanged:t}=r??{},n=this.element();n&&!Jc(n)&&n.attr("tabindex",null),t&&this._keyboardController.updateFocusedRowIndex();var i=this._keyboardController.getVisibleRowIndex();(!L(i)||i<0)&&(i=0);var o=this.getCellElements(i);this._keyboardController.isKeyboardEnabled()&&(o!=null&&o.length)&&this.updateFocusElementTabIndex(o,e)},updateFocusElementTabIndex(r){var e=r.eq(0).parent();if(wm(e))this._keyboardController._applyTabIndexToElement(e);else{var t=this._keyboardController.getColumnIndex();(!L(t)||t<0)&&(t=0),this._updateFocusedCellTabIndex(r,t)}},_updateFocusedCellTabIndex(r,e){var t=this._keyboardController,n=r?r.length:-1,i=function(s){var l=t._isMasterDetailCell(s),u=t._isCellValid(s);if(!l&&u&&t._isCellElement(s))return t._applyTabIndexToElement(s),t.setCellFocusType(),!0},o=QX.getCellToFocus(r,e);if(o.length)i(o);else{n<=e&&(e=n-1);for(var a=e;a<n&&!i(E(r[a]));++a);}},renderDelayedTemplates(r){this.callBase.apply(this,arguments),this._renderFocusByChange(r)},_renderFocusByChange(r){var e,{operationTypes:t,repaintChangesOnly:n}=r??{},{fullReload:i,pageSize:o}=t??{},a=!!(!((e=r==null?void 0:r.changeTypes)===null||e===void 0)&&e.find(l=>l==="insert"||l==="remove"));if(!r||!n||i||o||a){var s=tke(this);this.renderFocusState({preventScroll:s,pageSizeChanged:o})}},_renderCore(r){var e=this.callBase.apply(this,arguments);return this._renderFocusByChange(r),e},_editCellPrepared(r){var e,t=this._getEditorInstance(r),n=(e=this._keyboardController)===null||e===void 0?void 0:e._isFastEditingStarted();t&&n&&this._handleEditingNavigationMode(t),this.callBase.apply(this,arguments)},_handleEditingNavigationMode(r){["downArrow","upArrow"].forEach(t=>{var n=r._supportedKeys()[t];r.registerKeyHandler(t,i=>{var o=r._input().attr("aria-expanded")==="true";if(o)return n&&n.call(r,i)})}),r.registerKeyHandler("leftArrow",Z),r.registerKeyHandler("rightArrow",Z);var e=r.NAME===UNe&&r.option("useMaskBehavior");e&&r.registerKeyHandler("enter",Z)},_getEditorInstance(r){var e=r.find(".dx-texteditor").eq(0);return ye.getWidgetInstance(e)}}},controllers:{editing:{editCell(r,e){var t=this.getController("keyboardNavigation");if(t._processCanceledEditCellPosition(r,e))return!1;var n=this.callBase(r,e);return n&&t.setupFocusedView(),n},editRow(r){var e=this.getController("keyboardNavigation"),t=e.getVisibleColumnIndex(),n=this._columnsController.getVisibleColumns()[t];(n&&n.type||this.option("editing.mode")===Ov)&&e._resetFocusedCell(),this.callBase(r)},addRow(r){var e=this.getController("keyboardNavigation");return e.setupFocusedView(),e.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow(r){var e=this.getController("keyboardNavigation"),t=this.callBase(r),n=this._dataController.getRowIndexOffset(),i=e._focusedCellPosition.rowIndex-n;if(e.isKeyboardEnabled()&&i===r){var o=e._getFocusedCell();Ka(o)&&!o.hasClass(XX)&&(t=o)}return t},_processCanceledEditingCell(){this.closeEditCell().done(()=>{var r=this.getController("keyboardNavigation");r._updateFocus()})},init(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell(){var r=this._keyboardNavigationController;r._fastEditingStarted=!1;var e=this.callBase.apply(this,arguments);return r._updateFocus(),e},_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart(){var r=this.getController("keyboardNavigation"),e=this.callBase.apply(this,arguments);if(e&&!r._isNeedFocus){var t=r._getFocusedCell();r._focus(t,!0)}return e}},data:{_correctRowIndices(r){var e=this.getController("keyboardNavigation"),t=this.getController("editorFactory"),n=e._focusedCellPosition;if(this.callBase.apply(this,arguments),n&&n.rowIndex>=0){var i=r(n.rowIndex);i&&(n.rowIndex+=i,t.refocus())}},getMaxRowIndex(){var r=this.items().length-1,e=this.virtualItemsCount();if(e){var t=this.getRowIndexOffset();r+=t+e.end}return r}},adaptiveColumns:{_showHiddenCellsInView(r){var{viewName:e,$cells:t,isCommandColumn:n}=r;this.callBase.apply(this,arguments),e===xj&&!n&&t.each((i,o)=>{var a=E(o);Tj(a)&&a.attr("tabindex",0)})},_hideVisibleCellInView(r){var{viewName:e,$cell:t,isCommandColumn:n}=r;this.callBase.apply(this,arguments),e===xj&&!n&&Tj(t)&&t.removeAttr("tabindex")}},keyboardNavigation:rke}}};at.registerModule("keyboardNavigation",ike);function tM(r,e,t,n){var i=0;if(r<e)for(;i<t.items.length;i++)tM(r+1,e,t.items[i],n);r===e&&n(t)}function PS(r,e){var t;if("map"in r)return r.map(e);var n=new Array(r.length);for(t in r)n[t]=e(r[t],t);return n}function oke(r){return r!==r||r===""||r===null||r===void 0}function ake(r){return r===aL.count}function Rj(r){var e=Ar(r.selector),t="skipEmptyValues"in r?r.skipEmptyValues:!0,{aggregator:n}=r;if(typeof n=="string"&&(n=aL[n],!n))throw Hn.Error("E4001",r.aggregator);return{selector:e,aggregator:n,skipEmptyValues:t}}const ske=tr.inherit({ctor(r){this._data=r.data,this._groupLevel=r.groupLevel||0,this._totalAggregates=PS(r.totalAggregates||[],Rj),this._groupAggregates=PS(r.groupAggregates||[],Rj),this._totals=[]},calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates(){return this._totals},_aggregate(r,e,t){for(var n=e.items?e.items.length:0,i=0;i<r.length;i++){if(ake(r[i].aggregator)){t[i]=(t[i]||0)+n;continue}for(var o=0;o<n;o++)this._accumulate(i,r[i],t,e.items[o])}},_calculateTotals(r,e){if(r===0&&(this._totals=this._seed(this._totalAggregates)),r===this._groupLevel)this._aggregate(this._totalAggregates,e,this._totals);else for(var t=0;t<e.items.length;t++)this._calculateTotals(r+1,e.items[t]);r===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups(r){var e=this._groupLevel,t=e+1,n=this._seed.bind(this,this._groupAggregates),i=this._aggregate.bind(this,this._groupAggregates),o=this._finalize.bind(this,this._groupAggregates);function a(s){s.aggregates=n(t-1),t===e?i(s,s.aggregates):tM(t,e,s,l=>{i(l,s.aggregates)}),s.aggregates=o(s.aggregates)}for(;--t>0;)tM(0,t,r,a)},_seed:(r,e)=>PS(r,t=>{var{aggregator:n}=t,i="seed"in n?Ne(n.seed)?n.seed(e):n.seed:NaN;return i}),_accumulate(r,e,t,n){var i=e.selector(n),{aggregator:o}=e,{skipEmptyValues:a}=e;a&&oke(i)||(t[r]!==t[r]?t[r]=i:t[r]=o.step(t[r],i))},_finalize:(r,e)=>PS(r,(t,n)=>{var i=t.aggregator.finalize;return i?i(e[n]):e[n]})});var lke="dx-datagrid-total-footer",uke="dx-datagrid-summary-item",cke="dx-datagrid-text-content",dke="dx-datagrid-group-footer",hke="dx-datagrid-group-text-content",pke="dx-datagrid-nowrap",fke="dx-footer-row",vke="dx-cell-focus-disabled",BO="groupFooter",ZX="totalFooter",JX=function(r,e){var t=E(r),{column:n}=e,{summaryItems:i}=e,o=[];if(!n.command&&i){for(var a=0;a<i.length;a++){var s=i[a],l=at.getSummaryText(s,e.summaryTexts);o.push(E("<div>").css("textAlign",s.alignment||n.alignment).addClass(uke).addClass(cke).addClass(s.cssClass).toggleClass(hke,e.rowType==="group").text(l).attr("aria-label","".concat(n.caption," ").concat(l)))}t.append(o)}},eQ=function(r,e){var t=r.option("summary.texts")||{};return{totalItem:e.row,summaryItems:e.row.summaryCells[e.columnIndex],summaryTexts:t}},HO=function(r){return r.summary||r.aggregates||[]},rM=function(r){return r.option("summary.recalculateWhileEditing")},gke=NC.inherit({_getRows(){return this._dataController.footerItems()},_getCellOptions(r){return $(this.callBase(r),eQ(this,r))},_renderCellContent(r,e){JX(r,e),this.callBase.apply(this,arguments)},_renderCore(r){var e=!1,t=this._dataController.footerItems()[0];(!r||!r.columnIndices)&&(this.element().empty().addClass(lke).toggleClass(pke,!this.option("wordWrapEnabled")),e=!0),t&&t.summaryCells&&t.summaryCells.length&&(this._updateContent(this._renderTable({change:r}),r),e&&this._updateScrollLeftPosition())},_updateContent(r,e){return e&&e.changeType==="update"&&e.columnIndices?this.waitAsyncTemplates().done(()=>{var t=this.getTableElement().find(".dx-row"),n=r.find(".dx-row");this._updateCells(t,n,e.columnIndices[0])}):this.callBase.apply(this,arguments)},_rowClick(r){var e=this._dataController.footerItems()[r.rowIndex]||{};this.executeAction("onRowClick",$({},r,e))},_columnOptionChanged(r){var{optionNames:e}=r;r.changeTypes.grouping||(e.width||e.visibleWidth)&&this.callBase(r)},_handleDataChanged(r){var{changeType:e}=r;r.changeType==="update"&&r.repaintChangesOnly?r.totalColumnIndices?r.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[r.totalColumnIndices]}):this.render():(e==="refresh"||e==="append"||e==="prepend")&&this.render()},_createRow(r){var e=this.callBase.apply(this,arguments);return r.rowType===ZX&&(e.addClass(fke),e.addClass(vke),e.attr("tabindex",0)),e},getHeight(){return this.getElementHeight()},isVisible(){return!!this._dataController.footerItems().length}}),mke={init(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=Z},summaryGetter(r){if(!arguments.length)return this._summaryGetter;Ne(r)&&(this._summaryGetter=r)},summary(r){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return r}},totalAggregates(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal(){var r=this.summary(),e=r&&r.sortByGroups();return e&&e.length},sortLastLevelGroupItems(r,e,t){var n=Ru.multiLevelGroup(po(r),e).toArray(),i=[];return t.forEach(o=>{(function a(s,l,u,c){c=c||[];for(var d=0;d<s.length;d++)c.push(s[d].key),l===1?u(c,s[d].items):a(s[d].items,l-1,u,c),c.pop()})(n,e.length,(a,s)=>{o.toString()===a.toString()&&(i=i.concat(s))})}),i}},_ke=function(){var r=function(t,n,i,o){var a;if(rM(t)){var s=t.getController("editing");if(s){var l=s.getInsertedData();l.length&&(i=function c(d,h,p){return p?c(d,h.map(f=>({items:[f]}),p-1)):d.concat(h)}(i,l,o));var u=s.getRemovedData();u.length&&(i=function c(d,h,p){return p?d.map(f=>{var v={},g=c(f.items||[],h,p-1);return Object.defineProperty(v,"aggregates",{get:()=>f.aggregates,set:m=>{f.aggregates=m}}),$(v,f,{items:g})}):d.filter(f=>h.indexOf(f)<0)}(i,u,o))}}return n&&(a=new ske({totalAggregates:n.totalAggregates,groupAggregates:n.groupAggregates,data:i,groupLevel:o}),a.calculate()),a?a.totalAggregates():[]},e=function(t,n,i){var o=i&&i.sortByGroups&&i.sortByGroups();return o&&o.length?function a(s,l,u){if(!s||!l.length)return s;var c=l[0],d=u[0],h;return c&&d&&d.length&&(h=po(s),U(d,function(p){p===0?h=h.sortBy(this.selector,this.desc):h=h.thenBy(this.selector,this.desc)}),h.enumerate().done(p=>{s=p})),l=l.slice(1),u=u.slice(1),l.length&&u.length&&U(s,function(){this.items=a(this.items,l,u)}),s}(t,n,o):t};return{_customizeRemoteOperations(t){var n=this.summary();n&&(t.remoteOperations.summary?(!t.isCustomLoading||t.storeLoadOptions.isLoadingAll)&&(t.storeLoadOptions.group&&(t.remoteOperations.grouping?t.storeLoadOptions.groupSummary=n.groupAggregates:n.groupAggregates.length&&(t.remoteOperations.paging=!1)),t.storeLoadOptions.totalSummary=n.totalAggregates):(n.totalAggregates.length||n.groupAggregates.length&&t.storeLoadOptions.group)&&(t.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var i=t.cachedData.extra;i&&i.summary&&!t.isCustomLoading&&(t.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore(t){var n,i,o=Tu(t.storeLoadOptions.group||t.loadOptions.group||[]),a=t.remoteOperations||{},s=this.summaryGetter()(a);if(!t.isCustomLoading||t.storeLoadOptions.isLoadingAll){if(a.summary)!a.paging&&o.length&&s&&(a.grouping||r(this,{groupAggregates:s.groupAggregates},t.data,o.length),t.data=e(t.data,o,s));else if(!a.paging&&s){var l=t.operationTypes||{},u=Object.keys(l).some(d=>l[d]);if(!u||!(!((i=(n=t.cachedData)===null||n===void 0?void 0:n.extra)===null||i===void 0)&&i.summary)||o.length&&s.groupAggregates.length){var c=r(this,s,t.data,o.length);t.extra=Nt(t.extra)?t.extra:{},t.extra.summary=c,t.cachedData&&(t.cachedData.extra=t.extra)}t.data=e(t.data,o,s)}}t.isCustomLoading||(this._totalAggregates=t.extra&&t.extra.summary||this._totalAggregates),this.callBase(t)}}}();kC.extend(mke);kC.extend(_ke);at.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:J.format("dxDataGrid-summarySum"),sumOtherColumn:J.format("dxDataGrid-summarySumOtherColumn"),min:J.format("dxDataGrid-summaryMin"),minOtherColumn:J.format("dxDataGrid-summaryMinOtherColumn"),max:J.format("dxDataGrid-summaryMax"),maxOtherColumn:J.format("dxDataGrid-summaryMaxOtherColumn"),avg:J.format("dxDataGrid-summaryAvg"),avgOtherColumn:J.format("dxDataGrid-summaryAvgOtherColumn"),count:J.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:gke},extenders:{controllers:{data:{_isDataColumn:r=>r&&(!L(r.groupIndex)||r.showWhenGrouped),_isGroupFooterVisible(){for(var r=this.option("summary.groupItems")||[],e=0;e<r.length;e++){var t=r[e],n=this._columnsController.columnOption(t.showInColumn||t.column);if(t.showInGroupFooter&&this._isDataColumn(n))return!0}return!1},_processGroupItems(r,e,t){var n=t&&t.data,i=this.callBase.apply(this,arguments);return t&&(t.isGroupFooterVisible===void 0&&(t.isGroupFooterVisible=this._isGroupFooterVisible()),n&&n.items&&t.isGroupFooterVisible&&(t.collectContinuationItems||!n.isContinuationOnNextPage)&&i.push({rowType:BO,key:t.path.slice(),data:n,groupIndex:t.path.length-1,values:[]})),i},_processGroupItem(r,e){var t=this;if(e.summaryGroupItems||(e.summaryGroupItems=t.option("summary.groupItems")||[]),r.rowType==="group"){var n=-1,i=-1;U(e.visibleColumns,function(o){var a=e.visibleColumns[o-1];r.groupIndex===this.groupIndex&&(n=this.index),o>0&&a.command==="expand"&&this.command!=="expand"&&(i=this.index)}),r.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,HO(r.data),e.visibleColumns,(o,a)=>o.showInGroupFooter?-1:o.alignByColumn&&a&&!L(a.groupIndex)&&a.index!==i?a.index:n,!0)}return r.rowType===BO&&(r.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,HO(r.data),e.visibleColumns,(o,a)=>o.showInGroupFooter&&t._isDataColumn(a)?a.index:-1)),r},_calculateSummaryCells(r,e,t,n,i){var o=this,a=[],s={};return U(r,(l,u)=>{var c=o._columnsController.columnOption(u.column),d=u.showInColumn&&o._columnsController.columnOption(u.showInColumn)||c,h=n(u,d);if(h>=0){s[h]||(s[h]=[]);var p=e[l];if(p===p){var f;L(u.valueFormat)?f=u.valueFormat:u.summaryType!=="count"&&(f=at.getFormatByDataType(c&&c.dataType)),s[h].push($({},u,{value:ft(p)&&c&&c.deserializeValue?c.deserializeValue(p):p,valueFormat:f,columnCaption:c&&c.index!==h?c.caption:void 0}))}}}),go(s)||t.forEach((l,u)=>{var c=t[u-1],d=i&&((c==null?void 0:c.command)==="expand"||l.command==="expand")?c==null?void 0:c.index:l.index;a.push(s[d]||[])}),a},_getSummaryCells(r,e){var t=this,n=t._columnsController;return t._calculateSummaryCells(r,e,n.getVisibleColumns(),(i,o)=>t._isDataColumn(o)?o.index:-1)},_updateItemsCore(r){var e,t=this._dataSource,n=this._footerItems,i=n&&n[0]&&n[0].summaryCells,o=this.option("summary.totalItems");if(this._footerItems=[],t&&o&&o.length){var a=t.totalAggregates();e=this._getSummaryCells(o,a),r&&r.repaintChangesOnly&&i&&(r.totalColumnIndices=e.map((s,l)=>JSON.stringify(s)!==JSON.stringify(i[l])?l:-1).filter(s=>s>=0)),e.length&&this._footerItems.push({rowType:ZX,summaryCells:e})}this.callBase(r)},_prepareUnsavedDataSelector(r){if(rM(this)){var e=this.getController("editing");if(e)return function(t){return t=e.getUpdatedData(t),r(t)}}return r},_prepareAggregateSelector(r,e){return r=this._prepareUnsavedDataSelector(r),e==="avg"||e==="sum"?function(t){var n=r(t);return L(n)?Number(n):n}:r},_getAggregates(r,e){var t=this,n=t.getController("columns"),i=t.option("summary.calculateCustomSummary"),o=t.option("summary.skipEmptyValues");return Gn(r||[],a=>{var s=n.columnOption(a.column),l=s&&s.calculateCellValue?s.calculateCellValue.bind(s):Ar(s?s.dataField:a.column),u=a.summaryType||"count",c=L(a.skipEmptyValues)?a.skipEmptyValues:o;if(e)return{selector:a.column,summaryType:u};var d=t._prepareAggregateSelector(l,u);if(u==="custom"){i||(Ht.log("E1026"),i=function(){});var h={component:t.component,name:a.name};i(h),h.summaryProcess="calculate",u={seed(p){return h.summaryProcess="start",h.totalValue=void 0,h.groupIndex=p,delete h.value,i(h),h.totalValue},step(p,f){return h.summaryProcess="calculate",h.totalValue=p,h.value=f,i(h),h.totalValue},finalize(p){return h.summaryProcess="finalize",h.totalValue=p,delete h.value,i(h),h.totalValue}}}return{selector:d,aggregator:u,skipEmptyValues:c}})},_addSortInfo(r,e,t,n){if(e){var{groupIndex:i}=e;n=n||e.sortOrder,L(i)&&(r[i]=r[i]||[],r[i].push({selector:t,desc:n==="desc"}))}},_findSummaryItem(r,e){var t=-1;return L(e)&&U(r||[],function(n){if(this.name===e||n===e||this.summaryType===e||this.column===e||function(i){var{summaryType:o}=i,{column:a}=i;return o&&a&&"".concat(o,"_").concat(a)}(this)===e)return t=n,!1}),t},_getSummarySortByGroups(r,e){var t=this,n=t._columnsController,i=n.getGroupColumns(),o=[];if(!(!e||!e.length))return U(r||[],function(){var{sortOrder:a}=this,{groupColumn:s}=this,l=t._findSummaryItem(e,this.summaryItem);if(!(l<0)){var u=function(c){return HO(c)[l]};L(s)?(s=n.columnOption(s),t._addSortInfo(o,s,u,a)):U(i,(c,d)=>{t._addSortInfo(o,d,u,a)})}}),o},_createDataSourceAdapterCore(r,e){var t=this,n=this.callBase(r,e);return n.summaryGetter(i=>t._getSummaryOptions(i||e)),n},_getSummaryOptions(r){var e=this,t=e.option("summary.groupItems"),n=e.option("summary.totalItems"),i=e.option("sortByGroupSummaryInfo"),o=e._getAggregates(t,r&&r.grouping&&r.summary),a=e._getAggregates(n,r&&r.summary);if(o.length||a.length)return{groupAggregates:o,totalAggregates:a,sortByGroups:function(){return e._getSummarySortByGroups(i,t)}}},publicMethods(){var r=this.callBase();return r.push("getTotalSummaryValue"),r},getTotalSummaryValue(r){var e=this._findSummaryItem(this.option("summary.totalItems"),r),t=this._dataSource.totalAggregates();if(t.length&&e>-1)return t[e]},optionChanged(r){(r.name==="summary"||r.name==="sortByGroupSummaryInfo")&&(r.name="dataSource"),this.callBase(r)},init(){this._footerItems=[],this.callBase()},footerItems(){return this._footerItems}},editing:{_refreshSummary(){rM(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange(r){var e=this.callBase.apply(this,arguments);return r.type&&this._refreshSummary(),e},_removeChange(){var r=this.callBase.apply(this,arguments);return this._refreshSummary(),r},cancelEditData(){var r=this.callBase.apply(this,arguments);return this._refreshSummary(),r}}},views:{rowsView:{_createRow(r){var e=this.callBase.apply(this,arguments);return r&&e.addClass(r.rowType===BO?dke:""),e},_renderCells(r,e){this.callBase.apply(this,arguments),e.row.rowType==="group"&&e.row.summaryCells&&e.row.summaryCells.length&&this._renderGroupSummaryCells(r,e)},_hasAlignByColumnSummaryItems:(r,e)=>!L(e.columns[r].groupIndex)&&e.row.summaryCells[r].length,_getAlignByColumnCellCount(r,e){for(var t=0,n=1;n<r;n++){var i=e.row.summaryCells.length-n;t=this._hasAlignByColumnSummaryItems(i,e)?n:t}return t},_renderGroupSummaryCells(r,e){var t=r.children().last(),n=Number(t.attr("colSpan"))||1,i=this._getAlignByColumnCellCount(n,e);this._renderGroupSummaryCellsCore(t,e,n,i)},_renderGroupSummaryCellsCore(r,e,t,n){if(n>0){r.attr("colSpan",t-n);for(var i=0;i<n;i++){var o=e.columns.length-n+i;this._renderCell(r.parent(),$({column:e.columns[o],columnIndex:this._getSummaryCellIndex(o,e.columns)},e))}}},_getSummaryCellIndex:r=>r,_getCellTemplate(r){return!r.column.command&&!L(r.column.groupIndex)&&r.summaryItems&&r.summaryItems.length?JX:this.callBase(r)},_getCellOptions(r){var e=this.callBase(r);return r.row.summaryCells?$(e,eQ(this,r)):e}}}}});var Oj="content",e_="content-fixed",Cke="dx-master-detail-cell",Dj="dx-first-cell",yke="dx-last-cell",Aj="dx-state-hover",Pj="dx-col-fixed",Ske="dx-fixed-columns",GO="dx-pointer-events-none",jd="transparent",Mj="dx-group-row",wke="dx-master-detail-row",hu=function(r){var e=-1;return U(r,(t,n)=>{if(n.command===jd)return e=t,!1}),e},tQ=function(r,e,t){var n=0;if(r&&e&&t)for(var i=0;i<r.length;i++)r[i].command===jd?n+=r[i].colspan:(e[n]<t[i]&&(e[n]=t[i]),n++);return e},MN={init(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol(r){return this.callBase(r).toggleClass(Pj,!!(this._isFixedTableRendering&&(r.fixed||r.command&&r.command!==jd)))},_correctColumnIndicesForFixedColumns(r,e){var t=hu(r),n=r[t].colspan,i=e&&e.columnIndices;i&&(e.columnIndices=i.map(o=>{if(o)return o.map(a=>a<t?a:a>=t+n?a-n+1:-1).filter(a=>a>=0)}))},_partialUpdateFixedTable(r){var e=this._fixedTableElement,t=this._getRowElementsCore(e),n=e.children("colgroup");n.replaceWith(this._createColGroup(r));for(var i=0;i<t.length;i++)this._partialUpdateFixedRow(E(t[i]),r)},_partialUpdateFixedRow(r,e){var t,n=r.get(0).childNodes,i=hu(e),o=e[i],a=this._columnsController.getColumnIndexOffset(),s,l=a+1,{colspan:u}=o;if(r.hasClass(wke)){n[0].setAttribute("colspan",(t=this._columnsController.getVisibleColumns())===null||t===void 0?void 0:t.length);return}r.hasClass(Mj)&&(s=this._getGroupCellOptions({row:r.data("options"),columns:this._columnsController.getVisibleColumns()}),u=s.colspan-Math.max(0,n.length-(s.columnIndex+2)));for(var c=0;c<n.length;c++){var d=s?c===s.columnIndex+1:c===i;n[c].setAttribute("aria-colindex",l),d?(n[c].setAttribute("colspan",u),l+=u):l++}},_renderTable(r){var e,t,n=this.getFixedColumns();this._isFixedColumns=!!n.length;var i=this.callBase(r);if(this._isFixedColumns){var o=r==null?void 0:r.change,a=this._getRowElements(this._fixedTableElement),s=(o==null?void 0:o.virtualColumnsScrolling)&&a.length===((e=o==null?void 0:o.items)===null||e===void 0?void 0:e.length);if(this._isFixedTableRendering=!0,s&&this.option("scrolling.legacyMode")!==!0)this._partialUpdateFixedTable(n),this._isFixedTableRendering=!1;else{var l=o==null?void 0:o.columnIndices;this._correctColumnIndicesForFixedColumns(n,o),t=this._createTable(n),this._renderRows(t,$({},r,{columns:n})),this._updateContent(t,o,!0),l&&(o.columnIndices=l),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return i},_renderRow(r,e){var t,{cells:n}=e.row;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&n&&n.length){t=0;var i=e.row.cells||[];n=n.slice(),e.row.cells=n;for(var o=0;o<i.length;o++){if(i[o].column&&i[o].column.command===jd){t=(i[o].column.colspan||1)-1;continue}n[o+t]=i[o]}}},_createCell(r){var{column:e}=r,t=e&&e.command,{rowType:n}=r,i=this.callBase.apply(this,arguments),o,a,s;(this._isFixedTableRendering||n==="filter")&&(o=this.getFixedColumns(),s=hu(o),a=o[s-1]),this._isFixedTableRendering?t===jd&&(i.addClass(GO).toggleClass(Dj,s===0||a&&a.command==="expand").toggleClass(yke,o.length&&s===o.length-1),n!=="freeSpace"&&ye.setEmptyText(i)):n==="filter"&&i.toggleClass(Dj,r.columnIndex===s);var l=this.option("rowAlternationEnabled")&&r.isAltRow,u=this.option("selection.mode")==="multiple"&&r.columnIndex===0&&r.rowType==="header";return Gr.mozilla&&r.column.fixed&&r.rowType!=="group"&&!l&&!u&&i.addClass(Pj),i},_getContent(r){var e;return r?(e=this._fixedTableElement)===null||e===void 0?void 0:e.parent():this.callBase.apply(this,arguments)},_wrapTableInScrollContainer(r,e){var t=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||e)&&t.addClass(this.addWidgetPrefix(e_)),t},_renderCellContent(r,e){var t,{column:n}=e,i=this._isFixedTableRendering,o=e.rowType==="group"&&L(n.groupIndex);if(i&&o&&!n.command&&!n.groupCellTemplate&&r.css("pointerEvents","none"),!i&&this._isFixedColumns){if(t=n.fixed||n.command&&n.fixed!==!1,o&&(t=!1,e.row.summaryCells&&e.row.summaryCells.length)){var a=this._columnsController.getVisibleColumns(),s=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(n.colspan,{columns:a,row:e.row,isFixed:!0}):0;if(s>0){var l=hu(this._columnsController.getFixedColumns());t=a.length-s<l}}if(t){if(n.command&&n.type!=="buttons"||e.rowType==="group"){r.html("&nbsp;").addClass(n.cssClass);return}r.addClass("dx-hidden-cell")}}n.command!==jd&&this.callBase.apply(this,arguments)},_getCellElementsCore(r){var e=this.callBase.apply(this,arguments),t=e==null?void 0:e.parent().hasClass(Mj),n=this.name==="columnHeadersView"?r:void 0;if(this._fixedTableElement&&e){var i=this.getFixedColumns(n),o=this._getRowElements(this._fixedTableElement).eq(r).children("td");U(o,(a,s)=>{if(t)e[a]&&s.style.visibility!=="hidden"&&(e[a]=s);else{var l=i[a];if(l)if(l.command===jd)o.eq(a).hasClass(Cke)&&(e[a]=s||e[a]);else{var u=this._columnsController.getVisibleIndexByColumn(l,n);e[u]=s||e[u]}}})}return e},getColumnWidths(){var r=this.callBase(),e=this.getFixedColumns(),t=this._fixedTableElement&&r.length?this.callBase(this._fixedTableElement):void 0;return tQ(e,r,t)},getTableElement(r){r=this._isFixedTableRendering||r;var e=r?this._fixedTableElement:this.callBase();return e},setTableElement(r,e){this._isFixedTableRendering||e?this._fixedTableElement=r.addClass(GO):this.callBase(r)},getColumns(r){var e=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(r):this.callBase(r,e)},getRowIndex(r){var e=this._fixedTableElement;return e&&e.find(r).length?this._getRowElements(e).index(r):this.callBase(r)},getTableElements(){var r=this.callBase.apply(this,arguments);return this._fixedTableElement&&(r=E([r.get(0),this._fixedTableElement.get(0)])),r},getFixedColumns(r){return this._columnsController.getFixedColumns(r)},getFixedColumnsOffset(){var r={left:0,right:0},e;if(this._fixedTableElement){e=this.getTransparentColumnElement();var t=e.position();r={left:t.left,right:er(this.element(),!0)-(er(e,!0)+t.left)}}return r},getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(GO)).first()},getFixedTableElement(){return this._fixedTableElement},isFixedColumns(){return this._isFixedColumns},_resizeCore(){this.callBase(),this.synchronizeRows()},setColumnWidths(r){var e,{widths:t}=r,n=this._columnsController.getVisibleColumns(),i=(t==null?void 0:t.length)&&n.some(d=>L(d.visibleWidth)),o=(e=r.optionNames)===null||e===void 0?void 0:e.width;if(this.callBase(r),this._fixedTableElement){var a=t==null?void 0:t.some(d=>d==="auto"||!L(d)),s=a&&(!i||!this.isScrollbarVisible(!0)),l=s?n:this.getFixedColumns();this.setFixedTableColumnWidths(l,t)}var u=this.option("wordWrapEnabled"),c=i||o&&u;c&&this.synchronizeRows()},setFixedTableColumnWidths(r,e){if(!(!this._fixedTableElement||!e)){var t=this._fixedTableElement.children("colgroup").children("col");t.toArray().forEach(i=>i.removeAttribute("style"));var n=0;r.forEach(i=>{if(i.colspan){n+=i.colspan;return}var o=BY(e[n]);L(o)&&GA(t.eq(n),o),n+=1})}},_getClientHeight(r){var e=r.getBoundingClientRect&&Dn(r);return e&&e.height?e.height:r.clientHeight},synchronizeRows(){var r=[],e=[],t,n,i,o;this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var a=this._getClientHeight(this._tableElement.get(0)),s=this._getClientHeight(this._fixedTableElement.get(0));if(n=this._getRowElements(this._tableElement),i=this._getRowElements(this._fixedTableElement),o=this._findContentElement(),a!==s){for(o&&o.css("height",a),n.css("height",""),i.css("height",""),t=0;t<n.length;t++)r.push(this._getClientHeight(n.get(t))),e.push(this._getClientHeight(i.get(t)));for(t=0;t<n.length;t++){var l=r[t],u=e[t];l>u?i.eq(t).css("height",l):l<u&&n.eq(t).css("height",u)}o&&o.css("height","")}}})},setScrollerSpacing(r){var e=this.option("rtlEnabled");this.callBase(r),this.element().children(".".concat(this.addWidgetPrefix(e_))).css({paddingLeft:e?r:"",paddingRight:e?"":r})}},bke=$({},MN,{_getRowVisibleColumns(r){return this._isFixedTableRendering?this.getFixedColumns(r):this.callBase(r)},getContextMenuItems(r){var{column:e}=r,t=this.option("columnFixing"),n=this.callBase(r);if(r.row&&r.row.rowType==="header"&&t.enabled===!0&&e&&e.allowFixing){var i=o=>{switch(o.itemData.value){case"none":this._columnsController.columnOption(e.index,"fixed",!1);break;case"left":this._columnsController.columnOption(e.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(e.index,{fixed:!0,fixedPosition:"right"})}};n=n||[],n.push({text:t.texts.fix,beginGroup:!0,items:[{text:t.texts.leftPosition,value:"left",disabled:e.fixed&&(!e.fixedPosition||e.fixedPosition==="left"),onItemClick:i},{text:t.texts.rightPosition,value:"right",disabled:e.fixed&&e.fixedPosition==="right",onItemClick:i}]},{text:t.texts.unfix,value:"none",disabled:!e.fixed,onItemClick:i})}return n},getFixedColumnElements(r){if(L(r))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(r).children();var e=this.getColumnElements(),t=this.getTransparentColumnElement();if(e&&t&&t.length){var n=hu(this.getFixedColumns());e.splice(n,t.get(0).colSpan,t.get(0))}return e},getColumnWidths(){var r,e=this.callBase(),t=this.getFixedColumnElements(),n=this.getFixedColumns();return this._fixedTableElement&&(t&&t.length?r=this._getWidths(t):r=this.callBase(this._fixedTableElement)),tQ(n,e,r)}}),Eke=$({},MN,{_detachHoverEvents(){var r=this.element();this._fixedTableElement&&this._tableElement&&B.off(r,"mouseover mouseout",".dx-data-row")},_attachHoverEvents(){this._fixedTableElement&&this._tableElement&&B.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction(r=>{var{event:e}=r,t=this.getRowIndex(E(e.target).closest(".dx-row")),n=e.type==="mouseover";t>=0&&(this._tableElement&&this._getRowElements(this._tableElement).eq(t).toggleClass(Aj,n),this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(t).toggleClass(Aj,n))}))},_getScrollDelay(){var r,e=(r=this.getController("resizing"))===null||r===void 0?void 0:r.hasResizeTimeout();return e?this.option("scrolling.updateTimeout"):Gr.mozilla?60:0},_findContentElement(r){var e,t,n=this.addWidgetPrefix(Oj),i=this.element();if(r=this._isFixedTableRendering||r,i&&r){e=i.children(".".concat(n));var o=this.getScrollable();return!e.length&&o&&(e=E("<div>").addClass(n),B.on(e,"scroll",a=>{var{target:s}=a,l=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{t=E(s).scrollTop(),o.scrollTo({y:t})},l)}),B.on(e,bC,a=>{var s=E(a.target).closest(".dx-scrollable"),l=!1;if(o&&o.$element().is(s))l=!0;else{var u=s.length&&Oa.getInstance(s.get(0)),c=u&&u.scrollHeight()-u.clientHeight()>0;l=u&&!c}if(l){t=o.scrollTop(),o.scrollTo({y:t-a.delta});var d=o.scrollTop()+o.clientHeight(),h=o.scrollHeight()+this.getScrollbarWidth(),p=o.scrollTop()>0&&d<h;if(p)return!1}}),e.appendTo(i)),e}return this.callBase()},_updateScrollable(){this.callBase();var r=this.getScrollable();if(!(r!=null&&r._disposed)){var e=r&&r.scrollOffset().top;this._updateFixedTablePosition(e)}},_renderContent(r,e,t){return this._isFixedTableRendering||t?r.empty().addClass("".concat(this.addWidgetPrefix(Oj)," ").concat(this.addWidgetPrefix(e_))).append(e):this.callBase(r,e)},_getGroupCellOptions(r){return this._isFixedTableRendering?this.callBase($({},r,{columns:this._columnsController.getVisibleColumns()})):this.callBase(r)},_renderGroupedCells(r,e){return this.callBase(r,$({},e,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells(r,e){this._isFixedTableRendering?this.callBase(r,$({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(r,e)},_hasAlignByColumnSummaryItems(r,e){var t=this.callBase.apply(this,arguments),n=e.columns[r];return e.isFixed?n.fixed&&(t||n.fixedPosition==="right"):t&&(!this._isFixedColumns||!n.fixed)},_renderGroupSummaryCellsCore(r,e,t,n){var i;if(this._isFixedTableRendering){e.isFixed=!0,i=this._getAlignByColumnCellCount(t,e),e.isFixed=!1;var o=e.columns.length-i;e=$({},e,{columns:this.getFixedColumns()});var a=hu(e.columns);o<a?(i-=e.columns[a].colspan-1||0,t-=e.columns[a].colspan-1||0):n>0&&r.css("visibility","hidden"),n=i}this.callBase(r,e,t,n)},_getSummaryCellIndex(r,e){if(this._isFixedTableRendering){var t=hu(e);return r>t&&(r+=e[t].colspan-1),r}return this.callBase.apply(this,arguments)},_renderCore(r){this._detachHoverEvents();var e=this.callBase(r),t=this._isFixedColumns;return this.element().toggleClass(Ske,t),this.option("hoverStateEnabled")&&t&&this._attachHoverEvents(),e},setAriaOwns(r,e,t){var n,i;if(t){var o=this.addWidgetPrefix(e_),a=(n=this.element())===null||n===void 0?void 0:n.children(".".concat(o)),s=this.getFixedTableElement();a.length&&(s!=null&&s.length)&&this.setAria("owns","".concat(r??""," ").concat((i=s.attr("id"))!==null&&i!==void 0?i:""," ").concat(e??"").trim(),a)}else this.callBase.apply(this,arguments)},setRowsOpacity(r,e){this.callBase(r,e);var t=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(t,this.getFixedColumns(),r,e)},optionChanged(r){this.callBase(r),r.name==="hoverStateEnabled"&&this._isFixedColumns&&(r.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex(r){var e=this._fixedTableElement,t=0;if(e&&r.is("td")&&r.closest(e).length){var n=this.getFixedColumns();return U(n,(i,o)=>{if(i===r[0].cellIndex)return!1;if(o.colspan){t+=o.colspan;return}t++}),t}return this.callBase.apply(this,arguments)},_updateFixedTablePosition(r,e){if(this._fixedTableElement&&this._tableElement){var t,n=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(r),e&&n&&(t=n.focus(),t&&n.focus(t))}},setScrollerSpacing(r,e){var t={marginBottom:0},n=this.element().children(".".concat(this.addWidgetPrefix(e_)));if(n.length&&this._fixedTableElement){n.css(t),this._fixedTableElement.css(t),t[this.option("rtlEnabled")?"marginLeft":"marginRight"]=r,t.marginBottom=e;var i=this._scrollable&&this._scrollable.option("useNative");(i?n:this._fixedTableElement).css(t)}},_getElasticScrollTop(r){var e=0;if(r.scrollOffset.top<0)e=-r.scrollOffset.top;else if(r.reachedBottom){var t=E(r.component.content()),n=E(r.component.container()),i=Math.max(t.get(0).clientHeight-n.get(0).clientHeight,0);e=Math.min(i-r.scrollOffset.top,0)}return Math.floor(e)},_applyElasticScrolling(r){if(this._fixedTableElement){var e=this._getElasticScrollTop(r);Math.ceil(e)!==0?ci(this._fixedTableElement,{top:e}):this._fixedTableElement.css("transform","")}},_handleScroll(r){this._updateFixedTablePosition(r.scrollOffset.top,!0),this._applyElasticScrolling(r),this.callBase(r)},_updateContentPosition(r){this.callBase.apply(this,arguments),r||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared(r){this._isFixedTableRendering||this.callBase(r)},_scrollToElement(r){this.callBase(r,this.getFixedColumnsOffset())},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),xke=MN,Ike={defaultOptions:()=>({columnFixing:{enabled:!1,texts:{fix:J.format("dxDataGrid-columnFixingFix"),unfix:J.format("dxDataGrid-columnFixingUnfix"),leftPosition:J.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:J.format("dxDataGrid-columnFixingRightPosition")}}}),extenders:{views:{columnHeadersView:bke,rowsView:Eke,footerView:xke},controllers:{draggingHeader:{_generatePointsByColumns(r){var e=r.columns,{targetDraggingPanel:t}=r;if(t&&t.getName()==="headers"&&t.isFixedColumns()&&r.sourceColumn.fixed){r.rowIndex||(r.columnElements=t.getFixedColumnElements(0)),r.columns=t.getFixedColumns(r.rowIndex);var n=this.callBase(r);return function(i,o,a){var s=hu(o),l=i.length-o.length;return U(a,(u,c)=>{c.index>s&&(c.columnIndex+=l,c.index+=l)}),a}(e,r.columns,n),n}return this.callBase(r)},_pointCreated(r,e,t,n){var i=this.callBase.apply(this,arguments),o=e[r.columnIndex],a=this._columnHeadersView.getTransparentColumnElement();if(!i&&t==="headers"&&a&&a.length){var s=Dn(a.get(0));return n&&n.fixed?n.fixedPosition==="right"?r.x<s.right:r.x>s.left:o&&o.fixed&&o.fixedPosition!=="right"?!0:r.x<s.left||r.x>s.right}return i}},columnsResizer:{_generatePointsByColumns(){var r=this,e=r._columnsController,t=e&&r._columnsController.getVisibleColumns(),n=e&&r._columnsController.getFixedColumns(),i=hu(n),o=t.length-n.length,a=r._columnHeadersView.getFixedColumnElements();r.callBase(),a&&a.length>0&&(r._pointsByFixedColumns=ye.getPointsByColumns(a,s=>(s.index>i&&(s.columnIndex+=o,s.index+=o),r._pointCreated(s,t.length,t))))},_getTargetPoint(r,e,t){var n=this._columnHeadersView.getTransparentColumnElement();if(n&&n.length){var i=Dn(n.get(0));if(e<=i.left||e>=i.right)return this.callBase(this._pointsByFixedColumns,e,t)}return this.callBase(r,e,t)}},resizing:{_setAriaOwns(){var r,e,t;this.callBase.apply(this,arguments);var n=(r=this._columnHeadersView)===null||r===void 0?void 0:r.getFixedTableElement(),i=(e=this._footerView)===null||e===void 0?void 0:e.getFixedTableElement();(t=this._rowsView)===null||t===void 0||t.setAriaOwns(n==null?void 0:n.attr("id"),i==null?void 0:i.attr("id"),!0)}}}}};at.registerModule("columnFixing",Ike);var rQ="columnHeadersView",nQ="rowsView",Tke="footerView",$O=[rQ,nQ,Tke],Rke="dxDataGridAdaptivity",pu="adaptiveHidden",Kd="detailAdaptive",FN="dx-field-item-content",Oke="dx-item-modified",t_="hidden-column",Dke="adaptive-more",iQ="dx-command-adaptive",ab="dx-command-adaptive-hidden",Ake="dx-adaptive-detail-row",nM="dx-adaptive-item-text",Pke="dx-master-detail-cell",Mke="dx-last-data-cell",MS="adaptive",Fke="batch",iM="row",Lke="form",Nke="popup",kke="revert-tooltip",Fj="dx-group-cell",Vke="dx-group-row",oQ="dxDataGrid-ariaAdaptiveExpand",Bke="dxDataGrid-ariaAdaptiveCollapse",Hke="scrolling.legacyMode";function FS(r,e){return r._columnsController.getColumnId(e)}function Gke(r){return r.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function $ke(r,e){var t,n=E(r),i=e.component.getController("adaptiveColumns");e.rowType==="data"?(t=E("<span>").addClass(i.addWidgetPrefix(Dke)),B.on(t,fe(sr,Rke),i.createAction(()=>{i.toggleExpandAdaptiveDetailRow(e.key)})),t.appendTo(n)):ye.setEmptyText(n)}function oM(r){var e,t=(e=r.data)===null||e===void 0?void 0:e.$nextCell;B.off(t,"focus",oM),B.trigger(t,"dxclick")}class Wke extends kr.ViewController{_isRowEditMode(){var e=this._getEditMode();return e===iM}_isItemModified(e,t){var n=this._columnsController.getVisibleIndex(e.column.index),i=this._dataController.getRowIndexByKey(t.key),o=this._dataController.items()[i+1];return o&&o.modifiedValues&&L(o.modifiedValues[n])}_renderFormViewTemplate(e,t,n){var i=this,{column:o}=e,a=i.createAction(()=>{i._editingController.isEditing()&&B.trigger(n,sr)}),s=t.row.data,l=o.calculateCellValue(s),u=ye.getDisplayValue(o,l,s,t.rowType),c=ye.formatValue(u,o),d=this._editingController.isCellOrBatchEditMode(),h=i._rowsView;if(o.allowEditing&&i.getController("keyboardNavigation").isKeyboardEnabled()&&(n.attr("tabIndex",i.option("tabIndex")),d&&(B.off(n,"focus",a),B.on(n,"focus",a))),o.cellTemplate){var p=$({},t,{value:l,displayValue:u,text:c,column:o});h.renderTemplate(n,o.cellTemplate,p,Nx(n)).done(()=>{h._cellPrepared(n,t)})}else{var f=n.get(0);o.encodeHtml?f.textContent=c:f.innerHTML=c,n.addClass(nM),(!L(c)||c==="")&&n.html("&nbsp;"),i._isRowEditMode()||i._isItemModified(e,t)&&n.addClass(Oke),h._cellPrepared(n,t)}}_getTemplate(e,t,n){var i=this,{column:o}=e,a=this.getController("editing");return function(s,l){var u=E(l),c=i._columnsController.getVisibleIndex(o.index),d=$({},t),h=function(){var f=i._isItemEdited(e);d.value=t.row.values[c],f||o.showEditorAlways?a.renderFormEditorTemplate(d,e,s,u,!f):(d.column=o,d.columnIndex=c,i._renderFormViewTemplate(e,d,u))};if(h(),d.watch){var p=d.watch(()=>({isItemEdited:i._isItemEdited(e),value:t.row.values[c]}),()=>{u.contents().remove(),u.removeClass(nM),h()});B.on(u,yo,p)}}}_isVisibleColumnsValid(e){return!(e<2||e.length-function(){for(var t=0,n=0;n<e.length;n++){var i=e[n];i.command&&t++}return t}()<=1)}_calculatePercentWidths(e,t){var n=this,i=0;return t.forEach((o,a)=>{e[a]!==pu&&(i+=n._getItemPercentWidth(o))}),i}_isPercentWidth(e){return ft(e)&&e.endsWith("%")}_isColumnHidden(e){return this._hiddenColumns.filter(t=>t.index===e.index).length>0}_getAverageColumnsWidth(e,t,n){var i=this,o=0,a=0;return t.forEach(s=>{if(!i._isColumnHidden(s)){var{width:l}=s;L(l)&&!isNaN(parseFloat(l))?o+=i._isPercentWidth(l)?i._calculatePercentWidth({visibleIndex:s.visibleIndex,columnsCount:t.length,columnsCanFit:n,bestFitWidth:s.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):a++}}),(e-o)/a}_calculateColumnWidth(e,t,n,i){var o=FS(this,e),a=this._columnsController.columnOption(o,"width"),s=this._columnsController.columnOption(o,"bestFitWidth"),l=n.length,u;if(a&&a!=="auto")if(this._isPercentWidth(a))u=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:l,columnsCanFit:i,bestFitWidth:s,columnWidth:a,containerWidth:t});else return parseFloat(a);else{var c=this.option("columnAutoWidth");u=c||e.command?s:this._getAverageColumnsWidth(t,n,i)}return u}_calculatePercentWidth(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,i=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return t?e.containerWidth*parseFloat(e.columnWidth)/100:i}_getNotTruncatedColumnWidth(e,t,n,i){var o=FS(this,e),a=this._columnsController.columnOption(o,"width"),s=this._columnsController.columnOption(o,"bestFitWidth");if(a&&a!=="auto"&&!this._isPercentWidth(a))return parseFloat(a);var l=this._calculateColumnWidth(e,t,n,i);return l<s?null:l}_getItemPercentWidth(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t}_getCommandColumnsWidth(){var e=this,t=e._columnsController.getVisibleColumns(),n=0;return U(t,(i,o)=>{(o.index<0||o.command)&&(n+=e._columnsController.columnOption(FS(e,o),"bestFitWidth")||0)}),n}_isItemEdited(e){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){var t=this.option("editing.editRowKey");if(Mr(t,this._dataController.adaptiveExpandedKey()))return!0}else{var n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(n,i)}}_getFormItemsByHiddenColumns(e){var t=[];return U(e,(n,i)=>{t.push({column:i,name:i.name,dataField:i.dataField,visibleIndex:i.visibleIndex})}),t}_getAdaptiveColumnVisibleIndex(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.command===MS)return t}}_hideAdaptiveColumn(e,t){var n=this._getAdaptiveColumnVisibleIndex(t);L(n)&&(e[n]=pu,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))}_showHiddenCellsInView(e){var{$cells:t,isCommandColumn:n}=e,i=this.addWidgetPrefix(t_);n?(i=ab,t.attr({tabIndex:0,"aria-hidden":null}).removeClass(i)):t.removeClass(i)}_showHiddenColumns(){for(var e=0;e<$O.length;e++){var t=this.getView($O[e]);if(t&&t.isVisible()&&t.element()){var n=t.name,i=t.element().find(".".concat(ab));this._showHiddenCellsInView({viewName:n,$cells:i,isCommandColumn:!0});var o=t.element().find(".".concat(this.addWidgetPrefix(t_)));this._showHiddenCellsInView({viewName:n,$cells:o})}}}_isCellValid(e){return e&&e.length&&!e.hasClass(Pke)&&!e.hasClass(Fj)}_hideVisibleColumn(e){var{isCommandColumn:t,visibleIndex:n}=e,i=this;$O.forEach(o=>{var a=i.getView(o);a&&i._hideVisibleColumnInView({view:a,isCommandColumn:t,visibleIndex:n})})}_hideVisibleColumnInView(e){var{view:t,isCommandColumn:n,visibleIndex:i}=e,o=t.name,a,s=this._columnsController.getVisibleColumns()[i],l=this._editingController&&this._editingController.getEditFormRowIndex();if(t&&t.isVisible()&&s)for(var u=t.getRowsCount(),c=t._getRowElements(),d=0;d<u;d++){var h=d===l&&o===nQ&&this.option("editing.mode")!=="popup";if(!h){var p=o===rQ?this._columnsController.getVisibleIndex(s.index,d):i;if(p>=0){var f=c.eq(d);a=this._findCellElementInRow(f,p),this._isCellValid(a)&&this._hideVisibleCellInView({viewName:o,isCommandColumn:n,$cell:a})}}}}_findCellElementInRow(e,t){var n=e.children(),i=t,o=!1;if(e.hasClass(Vke)){var a=e.find(".".concat(Fj)),s=a.attr("colspan");if(a.length&&L(s)){var l=parseInt(s),u=a.index()+l-1;t>u?i=t-l+1:o=!0}}var c=o?void 0:n.eq(i);return c}_hideVisibleCellInView(e){var{$cell:t,isCommandColumn:n}=e,i=n?ab:this.addWidgetPrefix(t_);t.attr({tabIndex:-1,"aria-hidden":!0}).addClass(i)}_getEditMode(){return this._editingController.getEditMode()}isFormOrPopupEditMode(){var e=this._getEditMode();return e===Lke||e===Nke}hideRedundantColumns(e,t,n){if(this._hiddenColumns=[],this._isVisibleColumnsValid(t)&&n.length){var i=0,o=this.component.$element(),a=gt(o)-this._getCommandColumnsWidth(),s=(function(){return t.filter(x=>!x.command&&this._hiddenColumns.filter(I=>I.index===x.index).length===0)}).bind(this),l=s(),u=l.length,c,d,h;do{h=!1,i=0;var p=this._calculatePercentWidths(e,t),f=p<100&&p!==0;for(c=0;c<t.length;c++){var v=t[c],g=this._getNotTruncatedColumnWidth(v,a,l,f),m=FS(this,v),C=this._columnsController.columnOption(m,"width"),y=this._columnsController.columnOption(m,"minWidth"),w=this._columnsController.columnOption(m,"bestFitWidth");if(e[c]===pu){d=!0;continue}if(!g&&!v.command&&!v.fixed){h=!0;break}(!C||C==="auto")&&(g=Math.max(w||0,y||0)),(v.command!==MS||d)&&(i+=g)}if(h=h||i>gt(o),h){var T=n.pop(),S=this._columnsController.getVisibleIndex(T.index);a+=this._calculateColumnWidth(T,a,l,f),this._hideVisibleColumn({visibleIndex:S}),e[S]=pu,this._hiddenColumns.push(T),l=s()}}while(h&&l.length>1&&n.length);u===l.length&&this._hideAdaptiveColumn(e,t)}else this._hideAdaptiveColumn(e,t)}getAdaptiveDetailItems(){return this._$itemContents}getItemContentByColumnIndex(e){for(var t,n=0;n<this._$itemContents.length;n++){t=this._$itemContents.eq(n);var i=t.data("dx-form-item");if(i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)===e)return t}}toggleExpandAdaptiveDetailRow(e,t){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)}createFormByHiddenColumns(e,t){var n=this,i=E(e),o={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-".concat(new dn)},a=Hi()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:o}),n._$itemContents=null,n._form=n._createComponent(E("<div>").appendTo(i),EN,$(a,o,{customizeItem(s){var l=s.column||n._columnsController.columnOption(s.name||s.dataField);l&&(s.label=s.label||{},s.label.text=s.label.text||l.caption,s.column=l,s.template=n._getTemplate(s,t,n.updateForm.bind(n))),o.customizeItem&&o.customizeItem.call(this,s)},onContentReady(s){o.onContentReady&&o.onContentReady.call(this,s),n._$itemContents=i.find(".".concat(FN))}}))}hasAdaptiveDetailRowExpanded(){return L(this._dataController.adaptiveExpandedKey())}updateForm(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&L(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())}updateHidingQueue(e){var t=e.filter(a=>a.visible&&!a.type&&!a.fixed&&!(L(a.groupIndex)&&a.groupIndex>=0)),n,i;if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&this.option("columnResizingMode")==="widget")return this._hidingColumnsQueue;for(i=0;i<t.length;i++)L(t[i].hidingPriority)&&t[i].hidingPriority>=0&&(n=!0,this._hidingColumnsQueue[t[i].hidingPriority]=t[i]);if(n)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(i=0;i<t.length;i++){var o=this._columnsController.getVisibleIndex(t[i].index);this._hidingColumnsQueue[o]=t[i]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue}getHiddenColumns(){return this._hiddenColumns}hasHiddenColumns(){return this._hiddenColumns.length>0}getHidingColumnsQueue(){return this._hidingColumnsQueue}init(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:MS,command:MS,visible:!0,adaptiveHidden:!0,cssClass:iQ,alignment:"center",width:"auto",cellTemplate:$ke,fixedPosition:"right"}),e._columnsController.columnsChanged.add(()=>{var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)}),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),super.init()}optionChanged(e){e.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),super.optionChanged(e)}publicMethods(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]}isAdaptiveDetailRowExpanded(e){var t=this._dataController;return t.adaptiveExpandedKey()&&Mr(t.adaptiveExpandedKey(),e)}expandAdaptiveDetailRow(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)}collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}updateCommandAdaptiveAriaLabel(e,t){var n=this._dataController.getRowIndexByKey(e);if(n!==-1){var i=E(this.component.getRowElement(n));this.setCommandAdaptiveAriaLabel(i,t)}}setCommandAdaptiveAriaLabel(e,t){var n=e.find(".dx-command-adaptive");n.attr("aria-label",J.format(t))}}var zke=r=>class extends r{_isCellValid(e,t){return super._isCellValid(e,t)&&!e.hasClass(this.addWidgetPrefix(t_))&&!e.hasClass(ab)}_processNextCellInMasterDetail(e,t){super._processNextCellInMasterDetail(e,t);var n=this._editingController.isCellOrBatchEditMode(),i=this._editingController.isEditing();i&&e&&n&&!this._isInsideEditForm(e)&&(B.off(e,"focus",oM),B.on(e,"focus",{$nextCell:e},oM),B.trigger(t,"focus"))}_isCellElement(e){return super._isCellElement(e)||e.hasClass(nM)}init(){super.init(),this._adaptiveController=this.getController("adaptiveColumns")}},Uke=r=>class extends r{_getCellTemplate(e){var t=this,{column:n}=e;return e.rowType===Kd&&n.command==="detail"?function(i,o){t._adaptiveColumnsController.createFormByHiddenColumns(E(i),o)}:super._getCellTemplate(e)}_createRow(e){var t=super._createRow.apply(this,arguments);return e&&e.rowType===Kd&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass(Ake),t}_renderCells(e,t){super._renderCells(e,t);var n=this._adaptiveColumnsController,i=n.getHidingColumnsQueue().length,o=n.getHiddenColumns().length;i&&!o&&Gke(e).last().addClass(Mke),t.row.rowType==="data"&&n.setCommandAdaptiveAriaLabel(e,oQ)}_getColumnIndexByElementCore(e){var t=e.closest(".".concat(FN));if(t.length&&t.closest(this.component.$element()).length){var n=t.length?t.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return super._getColumnIndexByElementCore(e)}_cellPrepared(e,t){super._cellPrepared.apply(this,arguments),t.row.rowType!==Kd&&t.column.visibleWidth===pu&&e.addClass(this.addWidgetPrefix(t_))}getCell(e,t){var n=this._dataController.items()[e==null?void 0:e.rowIndex];if((n==null?void 0:n.rowType)===Kd){var i=this._adaptiveColumnsController.getAdaptiveDetailItems();return super.getCell(e,t,i)}return super.getCell.apply(this,arguments)}_getCellElement(e,t){var n=this._dataController.items()[e];return n&&n.rowType===Kd?this._adaptiveColumnsController.getItemContentByColumnIndex(t):super._getCellElement.apply(this,arguments)}getContextMenuItems(e){var t;if(e.row&&e.row.rowType==="detailAdaptive"){var n=this.component.getView("columnHeadersView"),i=E(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=i?i.column:e.column,n.getContextMenuItems&&n.getContextMenuItems(e)}return(t=super.getContextMenuItems)===null||t===void 0?void 0:t.call(this,e)}isClickableElement(e){var t,n,i=(n=(t=super.isClickableElement)===null||t===void 0?void 0:t.call(this,e))!==null&&n!==void 0?n:!1;return i||!!e.closest(".".concat(iQ)).length}init(){super.init(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}},jke=r=>class extends r{_updateColumnWidth(e,t){super._updateColumnWidth(e,e.visibleWidth===pu?e.bestFitWidth:t)}},Kke=r=>class extends r{_pointCreated(e,t,n){var i=super._pointCreated(e,t,n),o=n[e.columnIndex]||{},a=this._getNextColumnIndex(e.columnIndex),s=n[a]||{},l=a!==e.columnIndex+1&&s.command,u=o.visibleWidth===pu||l;return i||u}_getNextColumnIndex(e){for(var t=this._columnsController.getVisibleColumns(),n=super._getNextColumnIndex(e);t[n]&&t[n].visibleWidth===pu;)n++;return n}},qke=r=>class extends r{_pointCreated(e,t,n,i){var o=super._pointCreated(e,t,n,i),a=t[e.columnIndex-1]||{},s=a.visibleWidth===pu;return o||s}},Yke=r=>class extends r{_isRowEditMode(){return this.getEditMode()===iM}_getFormEditItemTemplate(e,t){return this.getEditMode()!==iM&&e.rowType==="detailAdaptive"?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):super._getFormEditItemTemplate(e,t)}_closeEditItem(e){var t=e.closest(".".concat(FN)),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=t.length?t.first().data("dx-form-item"):null,o=i&&i.column&&this._columnsController.getVisibleIndex(i.column.index);this.isEditCell(n,o)||super._closeEditItem(e)}_beforeUpdateItems(e,t){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var n=this._dataController.items(),i=n[t],o=ye.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&e.push(o+1),e.push(t+1),this._dataController.adaptiveExpandedKey(i.key)}}_afterInsertRow(e){super._afterInsertRow.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)}_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)}_cancelEditAdaptiveDetailRow(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()}_afterSaveEditData(){super._afterSaveEditData.apply(this,arguments);var e=new X;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?$e(this.getController("validating").validate(!0)).done(t=>{t&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()}_beforeCancelEditData(){super._beforeCancelEditData(),this._cancelEditAdaptiveDetailRow()}_getRowIndicesForCascadeUpdating(e){var t=super._getRowIndicesForCascadeUpdating.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===Kd?e.rowIndex-1:e.rowIndex+1),t}_beforeCloseEditCellInBatchMode(e){var t=this._dataController._adaptiveExpandedKey;if(t){var n=ye.getIndexByKey(t,this._dataController.items());n>-1&&e.unshift(n)}}editRow(e){return this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),super.editRow(e)}deleteRow(e){var t=this._dataController.getKeyByRowIndex(e);this.getEditMode()===Fke&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),super.deleteRow(e)}init(){super.init(),this._adaptiveController=this.getController("adaptiveColumns")}},Xke=r=>class extends r{_processItems(e,t){var{changeType:n}=t;if(e=super._processItems.apply(this,arguments),n==="loadingAll"||!L(this._adaptiveExpandedKey))return e;var i=ye.getIndexByKey(this._adaptiveExpandedKey,e),o=this.option(Hke)===!1;if(i>=0){var a=e[i];e.splice(i+1,0,{visible:!0,rowType:Kd,key:a.key,data:a.data,node:a.node,modifiedValues:a.modifiedValues,isNewRow:a.isNewRow,values:a.values})}else n==="refresh"&&!(o&&t.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e}_getRowIndicesForExpand(e){var t=super._getRowIndicesForExpand.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var n=t[t.length-1];t.push(n+1)}return t}adaptiveExpandedKey(e){if(L(e))this._adaptiveExpandedKey=e;else return this._adaptiveExpandedKey}toggleExpandAdaptiveDetailRow(e,t){var n=ye.getIndexByKey(this._adaptiveExpandedKey,this._items),i=ye.getIndexByKey(e,this._items);n>=0&&n===i&&!t&&(e=void 0,i=-1);var o=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,n>=0&&n++,i>=0&&i++;var a=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-a,i-a]});var s=this.getController("adaptiveColumns");s.updateCommandAdaptiveAriaLabel(e,Bke),s.updateCommandAdaptiveAriaLabel(o,oQ)}init(){super.init(),this._adaptiveExpandedKey=void 0}},Qke=r=>class extends r{_needHideBorder(e){return super._needHideBorder(e)||(e==null?void 0:e.hasClass("dx-field-item-content"))&&(e==null?void 0:e.find(".dx-checkbox").length)}_getFocusCellSelector(){return"".concat(super._getFocusCellSelector(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")}_getRevertTooltipsSelector(){return"".concat(super._getRevertTooltipsSelector(),", .dx-field-item-content .").concat(this.addWidgetPrefix(kke))}},Zke=r=>class extends r{_isColumnVisible(e){return super._isColumnVisible(e)&&!e.adaptiveHidden}},Jke={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:Wke},extenders:{views:{rowsView:Uke},controllers:{export:jke,columnsResizer:Kke,draggingHeader:qke,editing:Yke,resizing:{_needBestFit(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths(r,e){var t=this._adaptiveColumnsController,n=t.getHiddenColumns(),i=t.updateHidingQueue(this._columnsController.getColumns());t.hideRedundantColumns(r,e,i);var o=t.getHiddenColumns();return t.hasAdaptiveDetailRowExpanded()&&n.length!==o.length&&t.updateForm(o),!o.length&&t.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode(r){r&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(r)},_needStretch(){var r=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||r.getHidingColumnsQueue().length||r.hasHiddenColumns()},init(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:Xke,editorFactory:Qke,columns:Zke,keyboardNavigation:zke}}};at.registerModule("adaptivity",Jke);function aQ(r,e,t,n,i,o){t=t||0,n=n||[],o=o||[],n[t]=n[t]||0;var a=r[t],s=o[t]+1||0,l=0,u;if(a){for(u=s;u<a.length;u++){var c=a[u],d=u+n[t],h=c.colspan||1;if(aQ(r,e,t+(c.rowspan||1),n,h,o),n[t]+=h-1,l+=h,c.rowspan)for(var p=t+1;p<t+c.rowspan;p++)n[p]=n[p]||0,n[p]+=c.colspan||1;if(e(c,d,t,u)===!1||i!==void 0&&l>=i)break}o[t]=u}}function WO(r,e,t){var n=[];aQ(r,(o,a,s)=>{var l=o,u,c=l.colspan||1,d=a+c-1>=e&&a<t;if(n[s]=n[s]||[],d)a<e?(u=c-(e-a),a=e):u=c,a+u>t&&(u=t-a),u!==c&&(l=$({},l,{colspan:u})),n[s].push(l);else if(a>t)return!1});for(var i=0;i<n.length;i++)n[i]=n[i]||[];return n}var eVe=50,tVe={_resizeCore(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll(r){var e=this.getScrollable(),{left:t}=r.scrollOffset;this.callBase.apply(this,arguments),this.option("rtlEnabled")&&e&&(t=gt(e.$content())-gt(e.$element())-t),this._columnsController.setScrollPosition(t)},_renderCore(r){var e,t;if(r!=null&&r.virtualColumnsScrolling){var n=this._findContentElement(),i=(e=this._columnsController)===null||e===void 0?void 0:e.getFixedColumns(),o=(t=this._scrollable)===null||t===void 0?void 0:t.option("useNative");if(i!=null&&i.length){n.css({minHeight:o?Dt(n):ye.getContentHeightLimit(Gr)});var a=()=>{this.resizeCompleted.remove(a),n.css({minHeight:""})};this.resizeCompleted.add(a)}}return this.callBase.apply(this,arguments)}},rVe={_renderCore(){var r=this.callBase.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),r}},nVe=function(){var r=function(t){return t.map(n=>n.visibleWidth||parseFloat(n.width)||eVe)},e={init(){this.callBase.apply(this,arguments),this._beginPageIndex=null,this._endPageIndex=null,this._position=0,this._virtualVisibleColumns={}},resetColumnsCache(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex(t){for(var n=this.getVisibleColumns(void 0,!0),i=r(n),o=0,a=0;a<i.length;a++){if(o>=t)return Math.floor(a/this.getColumnPageSize());o+=i[a]}return 0},getTotalWidth(){var t=this.option("width");return typeof t=="number"?t:this.getController("resizing")._lastWidth||er(this.component.$element())},getEndPageIndex(t){var n=this.getVisibleColumns(void 0,!0),i=r(n),o=0;t+=this.getTotalWidth();for(var a=0;a<i.length;a++){if(o>=t)return Math.ceil(a/this.getColumnPageSize());o+=i[a]}return Math.ceil(i.length/this.getColumnPageSize())},getColumnPageSize(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged(){var t=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-t},getScrollingTimeout(){var t=this.option("scrolling.columnRenderingThreshold"),n=this.option("scrolling.renderAsync"),i=0;return(!L(n)&&this._renderTime>t||n)&&(i=this.option("scrolling.timeout")),i},setScrollPosition(t){var n=this.getScrollingTimeout();n>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(t)},n)):this._setScrollPositionCore(t)},isVirtualMode(){return yt()&&this.option("scrolling.columnRenderingMode")==="virtual"},resize(){this._setScrollPositionCore(this._position)},_setScrollPositionCore(t){if(this.isVirtualMode()){var n=this.getBeginPageIndex(t),i=this.getEndPageIndex(t),o=t<this._position?this._beginPageIndex>n:this._endPageIndex<i;this._position=t,o&&(this._beginPageIndex=n,this._endPageIndex=i,this._fireColumnsChanged())}},getFixedColumns(t,n){var i=this.callBase(t);if(this.isVirtualMode()&&!n&&i.length){var o=i.map(a=>a.command).indexOf("transparent");return i[o].colspan=this.getVisibleColumns().length-this.callBase().length+1,i}return i},_compileVisibleColumns(t,n){var i;if(n||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(t);!((i=this._columns)===null||i===void 0)&&i.length&&!L(this._beginPageIndex)&&!L(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var o=this._beginPageIndex,a=this._endPageIndex,s="".concat(t,"-").concat(o,"-").concat(a);if(this._virtualVisibleColumns[s])return this._virtualVisibleColumns[s];var l=this.callBase(),u=this.getRowCount(),c=this.getColumnPageSize(),d=o*c,h=a*c,p=this.getFixedColumns(void 0,!0),f=p.map(R=>R.command).indexOf("transparent"),v=p.length?f:0,g=l.slice(0,v),m=l.slice(v,d),C=r(m).reduce((R,D)=>R+D,0);C||(d=0);var y=p.length?p.length-f-1:0,w=l.slice(l.length-y),T=l.slice(h,l.length-y),S=r(T).reduce((R,D)=>R+D,0);if(S||(h=l.length),u>1&&typeof t=="number"){for(var x=[],I=0;I<=u;I++)x.push(this.callBase(I));g=WO(x,0,g.length)[t]||[],w=WO(x,l.length-w.length,l.length)[t]||[],l=WO(x,d,h)[t]||[]}else l=l.slice(d,h);return C&&(l.unshift({command:"virtual",width:C}),l=g.concat(l)),S&&(l.push({command:"virtual",width:S}),l=l.concat(w)),this._virtualVisibleColumns[s]=l,l},getColumnIndexOffset(){var t=0;if(this._beginPageIndex>0){var n=this.getFixedColumns(),i=n.map(a=>a.command).indexOf("transparent"),o=i>=0?i:0;t=this._beginPageIndex*this.getColumnPageSize()-o-1}return t>0?t:0},dispose(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return e}(),iVe={defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:nVe},views:{columnHeadersView:rVe,rowsView:tVe}}};at.registerModule("virtualColumns",iVe);var JC="dx-buttongroup",oVe=JC+"-wrapper",sQ=JC+"-item",aVe=JC+"-first-item",sVe=JC+"-last-item",Lj=sQ+"-has-width",lVe="dx-shape-standard",LS={contained:"dx-buttongroup-mode-contained",outlined:"dx-buttongroup-mode-outlined",text:"dx-buttongroup-mode-text"},uVe=pp.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new hp((r,e,t)=>{this._prepareItemStyles(r);var n=this.option("buttonTemplate");this._createComponent(r,gi,$({},t,e,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(n)?t:{},template:t.template||n}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return $(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(r){return Ne(r)||this.option("integrationOptions.templates")[r]},_selectedItemClass:()=>"dx-item-selected dx-state-selected",_prepareItemStyles(r){var e=r.data("dxItemIndex");e===0&&r.addClass(aVe);var t=this.option("items");t&&e===t.length-1&&r.addClass(sVe),r.addClass(lVe)},_renderItemContent(r){return r.container=E(r.container).parent(),this.callBase(r)},_setAriaSelectionAttribute:function(r,e){this.setAria("pressed",e,r)},_renderItemContentByNode:function(r,e){return r.container=E(r.container.children().first()),this.callBase(r,e)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>sQ,_itemSelectHandler:function(r){this.option("selectionMode")==="single"&&this.isItemSelected(r.currentTarget)||this.callBase(r)}}),lQ=ai.inherit({_getDefaultOptions(){return $(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(JC),this._renderStylingMode(),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_renderStylingMode(){var r,{stylingMode:e}=this.option();for(var t in LS)this.$element().removeClass(LS[t]);this.$element().addClass((r=LS[e])!==null&&r!==void 0?r:LS.contained)},_fireSelectionChangeEvent:function(r,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:r,removedItems:e})},_renderButtons(){var r=E("<div>").addClass(oVe).appendTo(this.$element()),e=this.option("selectedItems"),t={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:n=>{var i=this.option("width");L(i)&&E(n.itemElement).addClass(Lj)},onSelectionChanged:n=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(n.addedItems,n.removedItems)},onItemClick:n=>{this._itemClickAction(n)}};L(e)&&e.length&&(t.selectedItems=e),this._buttonsCollection=this._createComponent(r,uVe,t)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(r){switch(r.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(r.name,r.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(r),this._buttonsCollection.itemElements().toggleClass(Lj,!!r.value);break;default:this.callBase(r)}}});Kt("dxButtonGroup",lQ);var Nj="dx-dropdownbutton",cVe="dx-dropdownbutton-content",kj="dx-dropdownbutton-action",Vj="dx-dropdownbutton-toggle",dVe="dx-dropdownbutton-has-arrow",hVe="dx-dropdownbutton-popup-wrapper",pVe="dx-dropdowneditor-overlay",fVe="dx-button",vVe="dx-button-text",gVe="dx-icon-right",mVe=ai.inherit({_getDefaultOptions(){return $(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:J.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",type:"normal",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),$(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new iv(r=>{var e=E(r.container),t=E("<div>").appendTo(e);this._list=this._createComponent(t,Rv,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(r){this._dataSource||(this._dataSource=new Ou({store:new TC({key:this._getKey(),data:r}),pageSize:0}))},_getKey:function(){var r,e=this.option("keyExpr"),t=(r=this._dataSource)===null||r===void 0?void 0:r.key();return L(t)&&(!L(e)||e==="this")?t:e},_compileKeyGetter(){this._keyGetter=Ar(this._getKey())},_compileDisplayGetter(){this._displayGetter=Ar(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(Nj),this._renderButtonGroup(),this._updateArrowClass(),L(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:Z,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var r;(r=this._loadSingleDeferred)===null||r===void 0||r.reject();var e=new X;if(this._list&&this._lastSelectedItemData!==void 0){var t=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return e.resolve(t)}this._lastSelectedItemData=void 0;var n=this.option("selectedItemKey");return this._loadSingle(this._getKey(),n).done(e.resolve).fail(()=>{e.resolve(null)}),this._loadSingleDeferred=e,e.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(r){var{previousValue:e,value:t}=r;this._selectionChangedAction({item:t,previousItem:e})},_fireItemClickAction(r){var{event:e,itemElement:t,itemData:n}=r;return this._itemClickAction({event:e,itemElement:t,itemData:this._actionItem||n})},_actionButtonConfig(){var{icon:r,text:e,type:t}=this.option();return{text:e,icon:r,type:t,elementAttr:{class:kj}}},_getButtonGroupItems(){var{splitButton:r,type:e}=this.option(),t=[];return t.push(this._actionButtonConfig()),r&&t.push({icon:"spindown",type:e,elementAttr:{class:Vj}}),t},_buttonGroupItemClick(r){var{event:e,itemData:t}=r,n=t.elementAttr.class===kj,i=t.elementAttr.class===Vj;i?this.toggle():n&&(this._actionClickAction({event:e,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:r,showArrowIcon:e,focusStateEnabled:t,hoverStateEnabled:n,stylingMode:i,accessKey:o,tabIndex:a}=this.option(),s=r||!e?"content":(l,u)=>{var{text:c,icon:d}=l,h=Du(d),p=c?E("<span>").text(c).addClass(vVe):void 0,f=Du("spindown").addClass(gVe);E(u).append(h,p,f)};return $({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:l=>this._keyboardHandler(l),buttonTemplate:s,focusStateEnabled:t,hoverStateEnabled:n,stylingMode:i,accessKey:o,tabIndex:a},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var r=this._popup.$content(),e=this._getTemplateByOption("dropDownContentTemplate");return r.empty(),this._popupContentId="dx-"+new dn,this.setAria("id",this._popupContentId,r),e.render({container:ut(r),model:this.option("items")||this._dataSource})},_popupOptions(){var r=this.option("rtlEnabled")?"right":"left";return $({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:e=>{var t=this.$element(),n=E(e.target).closest(".".concat(Nj));return!n.is(t)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>oE(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:r+" top",at:r+" bottom"},_wrapperClassExternal:pVe},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var r=this.option("selectedItemKey"),e=this.option("useSelectMode");return{selectionMode:e?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:L(r)&&e?[r]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:t=>{this.option("useSelectMode")||(this._lastSelectedItemData=t.itemData),this.option("selectedItemKey",this._keyGetter(t.itemData));var n=this._fireItemClickAction(t);n!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var r=E("<div>");this.$element().append(r),this._popup=this._createComponent(r,ql,this._popupOptions()),this._popup.$content().addClass(cVe),this._popup.$wrapper().addClass(hVe),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)},_popupOptionChanged:function(r){var e=ai.getOptionsFromContainer(r);this._setPopupOption(e);var t=Object.keys(e);(t.indexOf("width")!==-1||t.indexOf("height")!==-1)&&this._dimensionChanged()},_dimensionChanged:function(){var r=hN(this.option("dropDownOptions.width"));r===void 0&&this._setPopupOption("width",()=>oE(this.$element()))},_setPopupOption:function(r,e){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)},_setElementAria(r){var e={owns:r?this._popupContentId:void 0};this.setAria(e,this.$element())},_setButtonsAria(r){var e={expanded:r,haspopup:"listbox"},t={};this.option("text")||(t.label="dropdownbutton"),this._getButtons().each((n,i)=>{n===0?this.setAria(b({},t,e),E(i)):this.setAria(e,E(i))})},_updateAriaAttributes(r){this._setElementAria(r),this._setButtonsAria(r)},_getButtons(){return this._buttonGroup.$element().find(".".concat(fVe))},_renderButtonGroup(){var r=this._buttonGroup&&this._buttonGroup.$element()||E("<div>");this._buttonGroup||this.$element().append(r),this._buttonGroup=this._createComponent(r,lQ,this._buttonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))},_updateArrowClass(){var r=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass(dVe,r)},toggle(r){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(r)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(r,e){this._list&&this._list.option(r,e)},_getDisplayValue(r){var e=!Nt(r),t=e?r:this._displayGetter(r);return Nt(t)?"":String(an(t,""))},_updateActionButton(r){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(r),icon:Nt(r)?r.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",r),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(r))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(r){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&L(r)?[r]:[]);var e=this.option("selectedItem");this._loadSelectedItem().done(t=>{this._updateActionButton(t),this._displayGetter(e)!==this._displayGetter(t)&&this._fireSelectionChangedAction({previousValue:e,value:t})})},_updateButtonGroup(r,e){this._buttonGroup.option(r,e),this._updateAriaAttributes(this.option("opened"))},_actionButtonOptionChanged(r){var{name:e,value:t}=r,n={};n[e]=t,this._updateButtonGroup("items[0]",$({},this._actionButtonConfig(),n)),this._popup&&this._popup.repaint()},_selectModeChanged(r){if(r){this._setListOption("selectionMode","single");var e=this.option("selectedItemKey");this._setListOption("selectedItemKeys",L(e)?[e]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(r){var e=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[r]),L(e)&&this._loadSelectedItem().done(t=>{this._setListOption("selectedItemKeys",[e]),this._setListOption("selectedItem",t)}).fail(t=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(r),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(r){var e,{name:t,value:n}=r;switch(t){case"useSelectMode":this._selectModeChanged(n);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(t,n),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,r);break;case"dropDownOptions":if(r.fullName==="dropDownOptions.visible")break;r.value.visible!==void 0&&delete r.value.visible,this._popupOptionChanged(r),this._innerWidgetOptionChanged(this._popup,r);break;case"opened":this.toggle(n);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(t,n),this._updateButtonGroup(t,n),this.callBase(r);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(t);break;case"dataSource":Array.isArray(n)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(t);break;case"icon":case"text":this._actionButtonOptionChanged(r);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(r),(e=this._popup)===null||e===void 0||e.repaint();break;case"stylingMode":this._updateButtonGroup(t,n);break;case"type":this._updateButtonGroup("items",this._getButtonGroupItems());break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(t,n);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(n);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;case"tabIndex":this._updateButtonGroup(t,n);break;default:this.callBase(r)}}}).include(Xx);Kt("dxDropDownButton",mVe);function _Ve(r,e){for(var t=c=>c||1,n=[],i=(r[0]||[]).reduce((c,d)=>c+t(d.colspan),0),o=(c=>{var d=0,h=0;return()=>{var p=c[d]||[],f=p[h++];return h>=p.length&&(d++,h=0),f&&(f.colspan=t(f.colspan),f.rowspan=t(f.rowspan)),f}})(r),a=(c,d,h)=>{var p=n[c]=n[c]||[];if(p[d]=h,h.colspan>1||h.rowspan>1){for(var f=(C=>$({},C,e))(h),v=1;v<h.colspan;v++)a(c,d+v,f);for(var g=1;g<h.rowspan;g++)for(var m=0;m<h.colspan;m++)a(c+g,d+m,f)}},s=o(),l=0;s;){for(var u=0;u<i&&s;u++)n[l]&&n[l][u]||(a(l,u,s),u+=s.colspan-1,s=o());l++}return n}var CVe="dx-datagrid-export-menu",Bj="dx-datagrid-export-button",yVe="exportButton",Hj="export",SVe="xlsxfile",wVe="exportselected",bVe="pdffile";class EVe{constructor(e,t,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=n}_getGroupValue(e){var{key:t,data:n,rowType:i,groupIndex:o,summaryCells:a}=e,s=this._options.groupColumns[o],l=at.getDisplayValue(s,s.deserializeValue?s.deserializeValue(t[o]):t[o],n,i),u="".concat(s.caption,": ").concat(at.formatValue(l,s));return a&&a[0]&&a[0].length&&(u+=" ".concat(at.getGroupRowSummaryText(a[0],this._options.summaryTexts))),u}_correctCellIndex(e){return e}_initOptions(){var e=this._exportController,t=e._columnsController.getGroupColumns();this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),rtlEnabled:e.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:ud(this._options.rtlEnabled)}}getColumnStyles(){var e=[];return this.getColumns().forEach(t=>{e.push({alignment:t.alignment||"left",format:t.format,dataType:t.dataType})}),e}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(e){var t,n=((t=this.getColumns()[e])===null||t===void 0?void 0:t.alignment)||"right";return this.getHeaderStyles().map(i=>i.alignment).indexOf(n)}getStyleId(e,t){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length}getColumns(e){var{columns:t}=this._options;return e?t:t[t.length-1]}getColumnsWidths(){var e=this.getColumns();return L(e)?e.map(t=>t.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"}getGroupLevel(e){var t=this._options.items[e-this.getHeaderRowCount()],n=t&&t.groupIndex;return t&&t.rowType==="totalFooter"?0:L(n)?n:this._options.groupColumns.length}getCellType(e,t){var n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),t<n.length){var i=this._options.items.length&&this._options.items[e],o=n[t];return i&&i.rowType==="data"&&isFinite(i.values[this._correctCellIndex(t)])&&!L(o.customizeText)?L(o.lookup)?o.lookup.dataType:o.dataType:"string"}}ready(){this._initOptions();var e=this._options;return $e(e.items).done(t=>{e.items=t}).fail(()=>{e.items=[]})}_convertFromGridGroupSummaryItems(e){if(L(e)&&e.length>0)return e.map(t=>({value:t.value,name:t.name}))}getCellData(e,t,n){var i,o,a={cellSourceData:{},value:i},s=this.getColumns(),l=this._correctCellIndex(t);if(e<this.getHeaderRowCount()){var u=this.getColumns(!0)[e];o=u[t],a.cellSourceData.rowType="header",a.cellSourceData.column=o&&o.gridColumn,a.value=o&&o.caption}else{e-=this.getHeaderRowCount();var c=this._options.items.length&&this._options.items[e];if(c){var d=c.values;switch(a.cellSourceData.rowType=c.rowType,a.cellSourceData.column=s[t]&&s[t].gridColumn,c.rowType){case"groupFooter":case"totalFooter":l<d.length&&(i=d[l],L(i)?(a.cellSourceData.value=i.value,a.cellSourceData.totalSummaryItemName=i.name,a.value=at.getSummaryText(i,this._options.summaryTexts)):a.cellSourceData.value=void 0);break;case"group":if(a.cellSourceData.groupIndex=c.groupIndex,t<1)a.cellSourceData.column=this._options.groupColumns[c.groupIndex],a.cellSourceData.value=c.key[c.groupIndex],a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(c.summaryCells[0]),a.value=this._getGroupValue(c);else{var h=c.values[l];if(Array.isArray(h)){a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(h),i="";for(var p=0;p<h.length;p++)i+=(p>0?n?`
`:` 
 `:"")+at.getSummaryText(h[p],this._options.summaryTexts);a.value=i}else a.cellSourceData.value=void 0}break;default:if(o=s[t],o){var f=d[l],v=at.getDisplayValue(o,f,c.data,c.rowType);!isFinite(v)||L(o.customizeText)?n&&L(o.customizeText)&&o.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?a.value=v:a.value=at.formatValue(v,o):a.value=v,a.cellSourceData.value=f}a.cellSourceData.data=c.data}}}return a}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(e,t){var{items:n}=this._options,i=n[e],o=this._correctCellIndex(t),a=i.summaryCells&&i.summaryCells[o]&&i.summaryCells[o].length>0&&i.summaryCells[o][0].alignByColumn;return i&&i.rowType==="groupFooter"||i.rowType==="totalFooter"||a}getCellMerging(e,t){var{columns:n}=this._options,i=n[e]&&n[e][t];return i?{colspan:(i.exportColspan||1)-1,rowspan:(i.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}}class xVe extends at.ViewController{_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(e,t){e.width=t}_getColumns(e){var t=[],n,i,o=this._columnsController,a=o.getRowCount();for(n=0;n<=a;n++){var s=[];i=o.getVisibleColumns(n,!0);var l=void 0;if(n===a)if(this._updateLockCount)l=e;else{var u=this._getColumnWidths(this._headersView,this._rowsView);if(u&&u.length){l={};for(var c=0;c<i.length;c++)l[i[c].index]=u[c]}}for(var d=0;d<i.length;d++){var h=$({},i[d],{dataType:i[d].dataType==="datetime"?"date":i[d].dataType,gridColumn:i[d]});if(this._needColumnExporting(h)){var p=this._calculateExportColspan(h);L(p)&&(h.exportColspan=p),l&&this._updateColumnWidth(h,l[h.index]),s.push(h)}}t.push(s)}return i=t[a],t=_Ve(t.slice(0,-1),this._getEmptyCell()),t.push(i),t}_calculateExportColspan(e){if(e.isBand){var t=this._columnsController.getChildrenByBandColumn(e.index,!0);if(L(t))return t.reduce((n,i)=>this._needColumnExporting(i)?n+(this._calculateExportColspan(i)||1):n,0)}}_needColumnExporting(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)}_getFooterSummaryItems(e,t){var n=[],i=1,o=0;do{for(var a=[],s=0;s<e.length;s++){var l=e[s],u=l.length;i<u&&(i=u),a.push(l[o])}n.push({values:a,rowType:t?"totalFooter":"groupFooter"})}while(o++<i-1);return n}_hasSummaryGroupFooters(){var e=this.option("summary.groupItems");if(L(e)){for(var t=0;t<e.length;t++)if(e[t].showInGroupFooter)return!0}return!1}_getItemsWithSummaryGroupFooters(e){for(var t=[],n=[],i=[],o=0;o<e.length;o++){var a=e[o];a.rowType==="groupFooter"?(i=this._getFooterSummaryItems(a.summaryCells),t=t.concat(n,i),n=[]):n.push(a)}return t.length?t:n}_updateGroupValuesWithSummaryByColumn(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],{summaryCells:o}=i;if(i.rowType==="group"&&o&&o.length>1){for(var a=i.values.length,s=1;s<o.length;s++)for(var l=0;l<o[s].length;l++){var u=o[s][l];u&&u.alignByColumn&&(Array.isArray(t[s-a])||(t[s-a]=[]),t[s-a].push(u))}t.length>0&&(i.values.push(...t),t=[])}}}_processUnExportedItems(e){for(var t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getGroupColumns(),i,o,a=0;a<e.length;a++){var s=e[a],l=!1;i=[],o=[];for(var u=0;u<t.length;u++){var c=t[u];if(l||(l=["detailExpand","buttons"].includes(c.type)),this._needColumnExporting(c)&&(s.values&&(s.rowType==="group"&&!i.length?i.push(s.key[s.groupIndex]):i.push(s.values[u])),s.summaryCells))if(s.rowType==="group"&&!o.length){var d=u-n.length+s.groupIndex;o.push(s.summaryCells[l?d:d+1])}else o.push(s.summaryCells[u])}i.length&&(s.values=i),o.length&&(s.summaryCells=o)}}_getAllItems(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,i=new X,o=this.getController("data"),a=o.footerItems(),s=a.length&&a[0],l=n.option("summary.totalItems"),u;return $e(e).done(c=>{o.loadAll(c,t).done((d,h)=>{n._updateGroupValuesWithSummaryByColumn(d),n._hasSummaryGroupFooters()&&(d=n._getItemsWithSummaryGroupFooters(d)),u=s&&s.summaryCells,L(h)&&l&&(u=n._getSummaryCells(l,h));var p=s&&n._getFooterSummaryItems(u,!0);p&&(d=d.concat(p)),n._processUnExportedItems(d),i.resolve(d)}).fail(i.reject)}).fail(i.reject),i}_getSummaryCells(e,t){var n=this.getController("data"),i=n._columnsController;return n._calculateSummaryCells(e,t,i.getVisibleColumns(null,!0),(o,a)=>n._isDataColumn(a)?a.index:-1)}_getSelectedItems(){var e=this.getController("selection");return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(e.loadSelectedItemsWithFilter(),!0):this._getAllItems(e.getSelectedRowsData())}_getColumnWidths(e,t){return e&&e.isVisible()?e.getColumnWidths():t.getColumnWidths()}throwWarningIfNoOnExportingEvent(){var e,t,n=(t=(e=this.component).hasActionSubscription)===null||t===void 0?void 0:t.call(e,"onExporting");this.option("export.enabled")&&!n&&Ht.log("W1024")}init(){this.throwWarningIfNoOnExportingEvent(),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(e){var t=this._getColumnWidths(this._headersView,this._rowsView),n;if(t&&t.length){n={};for(var i=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),o=0;o<i.length;o++)n[i[o].index]=t[o]}return new EVe(this,n,e)}exportTo(e,t){this._selectionOnly=e;var n=this.getAction("onExporting"),i={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!e,format:t,fileName:"DataGrid",cancel:!1};Ne(n)&&n(i)}publicMethods(){return["getDataProvider"]}selectionOnly(e){if(L(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}optionChanged(e){super.optionChanged(e),e.name==="export"&&this.throwWarningIfNoOnExportingEvent()}needLoadItemsOnExportingSelectedItems(){var e;return(e=this.option("loadItemsOnExportingSelectedItems"))!==null&&e!==void 0?e:this.getController("data")._dataSource.remoteOperations().filtering}}at.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:J.format("dxDataGrid-exportTo"),exportAll:J.format("dxDataGrid-exportAll"),exportSelectedRows:J.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:xVe},extenders:{controllers:{editing:{callbackNames(){var r=this.callBase();return L(r)?r.push("editingButtonsUpdated"):["editingButtonsUpdated"]},_updateEditButtons(){this.callBase(),this.editingButtonsUpdated.fire()}}},views:{headerPanel:{_getToolbarItems(){var r=this.callBase(),e=this._getExportToolbarButton();return e&&(r.push(e),this._correctItemsPosition(r)),r},_getExportToolbarButton(){var r=this._getExportToolbarItems();if(r.length===0)return null;var e=this._needDisableExportButton(),t={name:yVe,location:"after",locateInMenu:"auto",sortIndex:30,options:{items:r},disabled:e};if(r.length===1){var n=b(b({},r[0]),{hint:r[0].text,elementAttr:{class:Bj}});t.widget="dxButton",t.showText="inMenu",t.options=n}else{var i={icon:Hj,displayExpr:"text",items:r,hint:this.option("export.texts.exportTo"),elementAttr:{class:Bj},dropDownOptions:{width:"auto",_wrapperClassExternal:CVe}};t.options=i,t.widget="dxDropDownButton",t.menuItemTemplate=(o,a,s)=>{this._createComponent(E(s),Rv,{items:r})}}return t},_getExportToolbarItems(){var r,e=this.option("export"),t=this.option("export.texts"),n=(r=this.option("export.formats"))!==null&&r!==void 0?r:[];if(!e.enabled)return[];var i=[];return n.forEach(o=>{var a=o.toUpperCase(),s=Hj,l=wVe;o==="xlsx"&&(a="Excel",s=SVe),o==="pdf"&&(s=bVe),i.push({text:kl(t.exportAll,a),icon:s,onClick:()=>{this._exportController.exportTo(!1,o)}}),e.allowExportSelectedData&&i.push({text:kl(t.exportSelectedRows,a),icon:l,onClick:()=>{this._exportController.exportTo(!0,o)}})}),i},_correctItemsPosition(r){r.sort((e,t)=>e.sortIndex-t.sortIndex)},_isExportButtonVisible(){return this.option("export.enabled")},optionChanged(r){this.callBase(r),r.name==="export"&&(r.handled=!0,this._invalidate())},_needDisableExportButton(){var r=!this._columnsController.hasVisibleDataColumns(),e=this._editingController.hasChanges();return r||e},_columnOptionChanged(r){this.callBase(r);var e=at.checkChanges(r.optionNames,["groupIndex","visible","all"]);if(e){var t=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",t)}},init(){this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingButtonsUpdated.add(()=>{var r=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",r)})},isVisible(){return this.callBase()||this._isExportButtonVisible()}}}}});var IVe=(r,e,t)=>{var{isRemoteFiltering:n,dateSerializationFormat:i,getSelector:o}=t,{selector:a}=r,s=Ne(a)?a:o(a),l=s?s(e):e[a],u=n&&Zo(l)?On.serializeDate(l,i):l;return{getter:s,rawValue:l,safeValue:u}},TVe={getSortFilterValue:IVe},k_="dx-row-focused",RVe=".dx-row.".concat(k_),OVe="table",Gj="dx-cell-focus-disabled",DVe=kr.ViewController.inherit(function(){var r={init(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged(e){var{name:t,value:n,previousValue:i}=e;switch(t){case"focusedRowIndex":this._focusRowByIndex(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(i))return;this._focusRowByKey(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:this.callBase(e)}},isAutoNavigateToFocusedRow(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex(e,t){this.option("focusedRowEnabled")&&(e=e!==void 0?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,t))},_focusRowByIndexCore(e,t){var n=this.getController("data"),i=n.pageSize(),o=()=>{if(this._isValidFocusedRowIndex(e)){var s=e-n.getRowIndexOffset(!0);if(!t||t.paging&&!t.filtering){var l=n._getLastItemIndex();s=Math.min(s,l)}var u=n.getKeyByRowIndex(s,!0);L(u)&&!this.isRowFocused(u)&&this.option("focusedRowKey",u)}};if(i>=0)if(this._isLocalRowIndex(e))o();else{var a=Math.floor(e/n.pageSize());$e(n.pageIndex(a),n.waitReady()).done(()=>{o()})}},_isLocalRowIndex(e){var t=this.getController("data"),n=this.getController("keyboardNavigation")._isVirtualScrolling();if(n){var i=Math.floor(e/t.pageSize()),o=t.virtualItemsCount(),a=o?o.begin:-1,s=t.getVisibleRows().length+t.getRowIndexOffset(),l=Math.ceil(s/t.pageSize());return a<=e&&l>i}return!0},_setFocusedRowKeyByIndex(e){var t=this.getController("data");if(this._isValidFocusedRowIndex(e)){var n=Math.min(e-t.getRowIndexOffset(),t.items().length-1),i=t.getKeyByRowIndex(n);L(i)&&!this.isRowFocused(i)&&this.option("focusedRowKey",i)}},_focusRowByKey(e){L(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow(){var e=this.option("focusedRowKey"),t=L(e);if(!(!t&&this.option("focusedRowIndex")<0)){var n=this.getController("keyboardNavigation");t&&this.option("focusedRowKey",null),n.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),n._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex(e){var t=this.getController("data"),n=t.getVisibleRows()[e];return!n||n.rowType==="data"||n.rowType==="group"},publicMethods:()=>["navigateToRow","isRowFocused"],navigateToRow(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow(e,t){var n=this,i=n.getController("data"),o=n.isAutoNavigateToFocusedRow(),a=new X;if(e===void 0||!i.dataSource())return a.reject().promise();var s=n.getFocusedRowIndexByKey(e);return!o&&t||s>=0?n._navigateTo(e,a,t):i.getPageIndexByKey(e).done(l=>{if(l<0){a.resolve(-1);return}l===i.pageIndex()?i.reload().done(()=>{n.isRowFocused(e)&&i.getRowIndexByKey(e)>=0?a.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,a,t)}).fail(a.reject):i.pageIndex(l).done(()=>{n._navigateTo(e,a,t)}).fail(a.reject)}).fail(a.reject),a.promise()},_navigateTo(e,t,n){var i=this.getController("data").getRowIndexByKey(e),o=ye.isVirtualRowRendering(this),a=this.isAutoNavigateToFocusedRow();a&&o&&i<0?this._navigateToVirtualRow(e,t,n):this._navigateToVisibleRow(e,t,n)},_navigateToVisibleRow(e,t,n){if(n)this._triggerUpdateFocusedRow(e,t);else{var i=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,t).done(()=>{t.resolve(i)})}},_navigateToVirtualRow(e,t,n){var i=this.getController("data"),o=i._rowsScrollController,a=ye.getIndexByKey(e,i.items(!0)),s=this.getView("rowsView").getScrollable();if(o&&s&&a>=0){var l=a+i.getRowIndexOffset(!0),u=o.getItemOffset(l),c=()=>{i.totalCount()&&!i.items().length||(this.component.off("contentReady",c),n?this._triggerUpdateFocusedRow(e,t):t.resolve(l))};this.component.on("contentReady",c),this.getView("rowsView").scrollTopPosition(u)}else t.resolve(-1)},_triggerUpdateFocusedRow(e,t){var n=this.getController("data"),i=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(i)){var o;this.option("focusedRowEnabled")?n.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):o=this.getView("rowsView").scrollToRowElement(e),$e(o).done(()=>{this.getController("keyboardNavigation").setFocusedRowIndex(i),t&&t.resolve(i)})}else t&&t.resolve(-1)},getFocusedRowIndexByKey(e){var t=this.getController("data"),n=t.getRowIndexByKey(e,!0);return n>=0?n+t.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex(){var e=this.option("focusedRowKey"),t=this.option("focusedRowIndex"),n=this.getController("keyboardNavigation"),i=this.getController("data");if(L(e)){var o=i.getRowIndexByKey(e);o>=0?(n._isVirtualScrolling()&&(t=o+i.getRowIndexOffset()),n.setFocusedRowIndex(t),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(a=>{t>=0&&a<0?this._focusRowByIndex():t<0&&a>=0&&n.setFocusedRowIndex(a)})}else t>=0&&this.getController("focus")._focusRowByIndex(t)},isRowFocused(e){var t=this.option("focusedRowKey");if(L(t))return Mr(e,this.option("focusedRowKey"))},updateFocusedRow(e){var{focusedRowKey:t}=e,n=this,i=n._dataController.getRowIndexByKey(t),o=n.getView("rowsView"),a,s;U(o.getTableElements(),(l,u)=>{var c=l===0;a=E(u),n._clearPreviousFocusedRow(a,i);var d=n._prepareFocusedRow({changedItem:n._dataController.getVisibleRows()[i],$tableElement:a,focusedRowIndex:i});c&&(s=d)}),s&&o.scrollToElementVertically(s)},_clearPreviousFocusedRow(e,t){var n=e.find(RVe).filter((o,a)=>{var s=E(a).closest(".".concat(this.addWidgetPrefix(OVe)));return e.is(s)});if(n.removeClass(k_).removeClass(Gj).removeAttr("tabindex"),n.children("td").removeAttr("tabindex"),t!==0){var i=E(this.getView("rowsView").getRowElement(0));i.removeClass(Gj).removeAttr("tabIndex")}},_prepareFocusedRow(e){var t,{changedItem:n}=e;if(n&&(n.rowType==="data"||n.rowType==="group")){var{focusedRowIndex:i}=e,{$tableElement:o}=e,a=this.option("tabindex")||0,s=this.getView("rowsView");t=E(s._getRowElements(o).eq(i)),t.addClass(k_).attr("tabindex",a)}return t}};return r}()),$j={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:DVe},extenders:{controllers:{keyboardNavigation:{init(){var r=this.option("focusedRowIndex"),e=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},L(r)&&r>=0&&(this._focusedCellPosition.rowIndex=r),L(e)&&e>=0&&(this._focusedCellPosition.columnIndex=e)},setFocusedRowIndex(r){this.callBase(r),this.option("focusedRowIndex",r)},setFocusedColumnIndex(r){this.callBase(r),this.option("focusedColumnIndex",r)},_escapeKeyHandler(r,e){return e||!this.option("focusedRowEnabled")?this.callBase(r,e):this.isCellFocusType()?(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(r.originalEvent.target),!0),!0):!1},_updateFocusedCellPosition(r,e){var t=this.callBase(r,e);t&&t.columnIndex>=0&&this._fireFocusedCellChanged(r)}},editorFactory:{renderFocusOverlay(r,e){var t=this.getController("keyboardNavigation"),n=this.option("focusedRowEnabled"),i=this.getController("editing"),o;if(!n||!(t!=null&&t.isRowFocusType())||i.isEditing())this.callBase(r,e);else if(n){var a=t._getElementType(r)==="row";a&&!r.hasClass(k_)&&(o=t.getFirstValidCellInRow(r),t.focus(o))}}},columns:{getSortDataSourceParameters(r,e){var t=this.callBase.apply(this,arguments),n=this.getController("data"),i=n._dataSource,o=n.store(),a=o&&o.key(),s=i&&i.remoteOperations()||{},l=Object.keys(s).every(c=>!s[c]);if(a&&(this.option("focusedRowEnabled")&&this.getController("focus").isAutoNavigateToFocusedRow()!==!1||e)){a=Array.isArray(a)?a:[a];var u=a.filter(c=>!this.columnOption(c,"sortOrder"));u.length&&(t=t||[],l?t.push({selector:i.getDataIndexGetter(),desc:!1}):u.forEach(c=>t.push({selector:c,desc:!1})))}return t}},data:{_applyChange(r){if(!(r&&r.changeType==="updateFocusedRow"))return this.callBase.apply(this,arguments)},_fireChanged(r){if(this.callBase(r),this.option("focusedRowEnabled")&&this._dataSource){var e=r.changeType==="update"&&r.repaintChangesOnly,t=e&&r.changeTypes&&r.changeTypes.indexOf("remove")>=0;r.changeType==="refresh"&&r.items.length||t?(this._updatePageIndexes(),this._updateFocusedRow(r)):r.changeType==="append"||r.changeType==="prepend"?this._updatePageIndexes():r.changeType==="update"&&r.repaintChangesOnly&&this._updateFocusedRow(r)}},_updatePageIndexes(){var r=this._lastRenderingPageIndex||0,e=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=e,this._isPagingByRendering=e!==r},isPagingByRendering(){return this._isPagingByRendering},_updateFocusedRow(r){var e=r.operationTypes||{},t=this.getController("focus"),{reload:n,fullReload:i,pageIndex:o,paging:a}=e,s=this.getController("keyboardNavigation"),l=s._isVirtualScrolling(),u=a&&!l,c=this.option("focusedRowKey"),d=t.isAutoNavigateToFocusedRow(),h=n&&o===!1;if(h&&!i&&L(c))t._navigateToRow(c,!0).done(C=>{C<0&&t._focusRowByIndex(void 0,e)});else if(u&&d){var p=this.getRowIndexByKey(c),f=this.option("focusedRowIndex"),v=p>=0,g=f>=0,m=f===p;g&&(m||!v)&&t._focusRowByIndex(f,e)}else u&&!d&&this.getRowIndexByKey(c)<0?this.option("focusedRowIndex",-1):e.fullReload&&t._focusRowByKeyOrIndex()},getPageIndexByKey(r){var e=this,t=new X;return e.getGlobalRowIndexByKey(r).done(n=>{t.resolve(n>=0?Math.floor(n/e.pageSize()):-1)}).fail(t.reject),t.promise()},getGlobalRowIndexByKey(r){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(r):this._calculateGlobalRowIndexByFlatData(r)},_calculateGlobalRowIndexByFlatData(r,e,t){var n=this,i=new X,o=n._dataSource;if(Array.isArray(r)||EDe(r))return i.resolve(-1).promise();var a=n._generateFilterByKey(r);return o.load({filter:n._concatWithCombinedFilter(a),skip:0,take:1}).done(s=>{s.length>0?(a=n._generateOperationFilterByKey(r,s[0],t),o.load({filter:n._concatWithCombinedFilter(a,e),skip:0,take:1,requireTotalCount:!0}).done((l,u)=>{i.resolve(u.totalCount)})):i.resolve(-1)}),i.promise()},_concatWithCombinedFilter(r,e){var t=this.getCombinedFilter();return ye.combineFilters([r,t,e])},_generateBooleanFilter(r,e,t){var{desc:n}=t;switch(!0){case(e===!1&&n):return[r,"=",!0];case(e===!1&&!n):return[r,"=",null];case(e===!0&&!n):case(!__(e)&&n):return[r,"<>",e];default:return}},_generateOperationFilterByKey(r,e,t){var n=this,i=n.option("dateSerializationFormat"),o=n._dataSource.remoteOperations().filtering,a=n._dataSource.remoteOperations().sorting,s=n._generateFilterByKey(r,"<"),l=n._columnsController.getSortDataSourceParameters(!o,!0);if(t){var u=n._columnsController.getGroupDataSourceParameters(!o);u&&(l=l?u.concat(l):u)}return l&&l.slice().reverse().forEach(c=>{var{selector:d,desc:h,compare:p}=c,{getter:f,rawValue:v,safeValue:g}=TVe.getSortFilterValue(c,e,{isRemoteFiltering:o,dateSerializationFormat:i,getSelector:w=>n._columnsController.columnOption(w,"selector")});if(s=[[d,"=",g],"and",s],v===null||__(v)){var m=n._generateBooleanFilter(d,g,h);m&&(s=[m,"or",s])}else{var C=h?">":"<",y;p&&!a?y=w=>C==="<"?p(v,f(w))>=1:p(v,f(w))<=-1:(y=[d,C,g],h||(y=[y,"or",[d,"=",null]])),s=[y,"or",s]}}),s},_generateFilterByKey(r,e){var t=this._dataSource.key(),n=[];if(e||(e="="),Array.isArray(t))for(var i=0;i<t.length;++i){var o=r[t[i]];o&&(n.length>0&&n.push("and"),n.push([t[i],e,o]))}else n=[t,e,r];return n},_getLastItemIndex(){return this.items(!0).length-1}},editing:{_deleteRowCore(r){var e=this.callBase.apply(this,arguments),t=this.getController("data"),n=t.getKeyByRowIndex(r);e.done(()=>{var i=t.getRowIndexByKey(n),o=t.getVisibleRows();i===-1&&!o.length&&this.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow(r){var e=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&r&&this.getController("focus").isRowFocused(r.key)&&e.addClass(k_),e},_checkRowKeys(r){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var e=this._dataController.store();e&&!e.key()&&this._dataController.fireError("E1042","Row focusing")}},_update(r){r.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(r):this.callBase(r)},updateFocusElementTabIndex(r,e){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(e):this.callBase(r)},_setFocusedRowElementTabIndex(r){var e=this.option("focusedRowKey"),t=this.option("tabIndex")||0,n=this._dataController,i=this._columnsController,o=n.getRowIndexByKey(e),a=this.option("focusedColumnIndex"),s=this._findRowElementForTabIndex();if(L(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),s.attr("tabIndex",t),o>=0&&!r&&(a<0&&(a=0),o+=n.getRowIndexOffset(),a+=i.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(o,a),this.getController("focus").isAutoNavigateToFocusedRow())){var l=n.dataSource(),u=l&&l.operationTypes();u&&!u.paging&&!n.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex(){var r=this.option("focusedRowKey"),e=this._dataController.getRowIndexByKey(r);return E(this.getRowElement(e>=0?e:0))},scrollToRowElement(r){var e=this.getController("data").getRowIndexByKey(r),t=E(this.getRow(e));return this.scrollToElementVertically(t)},scrollToElementVertically(r){var e=this.getScrollable();if(e&&r.length){var t=e.getScrollElementPosition(r,"vertical");return this.scrollTopPosition(t)}return new X().resolve()},scrollTopPosition(r){var e=new X,t=this.getScrollable();if(t){var n=t.scrollTop(),i=()=>{t.off("scroll",i),e.resolve()};if(r!==n)return t.on("scroll",i),this._dataController.resetFilterApplying(),t.scrollTo({top:r}),e.promise()}return e.resolve()}}}}},AVe=Number.MAX_SAFE_INTEGER||9007199254740991;at.registerModule("focus",$(!0,{},$j,{extenders:{controllers:{data:r=>class extends r.inherit($j.extenders.controllers.data){changeRowExpand(e,t){if(this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)){var n=this.getController("keyboardNavigation");(!t||!n.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e)}return super.changeRowExpand(e,t)}_isFocusedRowInsideGroup(e){var t=this.getController("columns"),n=this.option("focusedRowKey"),i=this.getRowIndexByKey(n),o=i>=0&&this.getVisibleRows()[i],a=t.getGroupDataSourceParameters(!0);if(o)for(var s=0;s<e.length;++s){var l=Ar(a[s]&&a[s].selector);if(l(o.data)!==e[s])return!1}return!0}_getGroupPath(e,t){for(var n=[],i=[e];i&&i[0]&&t;){var o=i[0];o.key!==void 0&&n.push(o.key),i=o.items,t--}return n}_expandGroupByPath(e,t,n){var i=new X;return n++,e.expandRow(t.slice(0,n)).done(()=>{n===t.length?i.resolve():e._expandGroupByPath(e,t,n).done(i.resolve).fail(i.reject)}).fail(i.reject),i.promise()}_calculateGlobalRowIndexByGroupedData(e){var t=this,n=t._dataSource,i=t._generateFilterByKey(e),o=new X,a=Array.isArray(e),s=n.group();return a?o.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:t._concatWithCombinedFilter(i),group:s}).done(l=>{if(!l||l.length===0||!L(l[0].key)||l[0].key===-1)return o.resolve(-1).promise();var u=t._getGroupPath(l[0],s.length);t._expandGroupByPath(t,u,0).done(()=>{t._calculateExpandedRowGlobalIndex(o,e,u,s)}).fail(o.reject)}).fail(o.reject),o.promise()):(t._calculateGlobalRowIndexByFlatData(e,null,!0).done(o.resolve).fail(o.reject),o)}_calculateExpandedRowGlobalIndex(e,t,n,i){var o=ih(n,{group:i}),a=this._dataSource,s=this.option("scrolling.mode"),l=s==="virtual"||s==="infinite",u=a.pageSize(),c;a._grouping._updatePagingOptions({skip:0,take:AVe},(d,h)=>{Mr(d.path,n)&&(c=h)}),this._calculateGlobalRowIndexByFlatData(t,o).done(d=>{var h,p;if(d<0){e.resolve(-1);return}var f=c%u||u;h=f+d-n.length,l?p=0:p=Math.floor(h/(u-n.length))*n.length,h=c+d+p,e.resolve(h)}).fail(e.reject)}}}}}));var Wj=Rt(),PVe="keydown",Bl="dxDraggable",MVe=fe(Gh,Bl),FVe=fe(td,Bl),LVe=fe($h,Bl),NVe=fe(jx,Bl),kVe=fe(Kx,Bl),VVe=fe(Yt.down,Bl),BVe=fe(PVe,Bl),zj="clone",zO,Wp,HVe="content",aM=r=>({x:r.pageX-E(Wj).scrollLeft(),y:r.pageY-E(Wj).scrollTop()}),GVe="dx-gesture-cover",$Ve="dx-overlay-wrapper",WVe="dx-overlay-content";class Uj{constructor(e,t){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=t,e==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(e,t){var n=!1;e.some(i=>{var o=E(i),a=o.hasClass($Ve),s=o.hasClass(WVe);return a||s?!0:(n=this._trySetScrollable(i,t),n)}),n||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(e){return(e.css(this._overFlowAttr)==="auto"||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?gt(e):Dt(e))}_trySetScrollable(e,t){var n=E(e),i,o=this._component.option("scrollSensitivity"),a=this.isScrollable(n);return a&&(i=this._calculateDistanceToBorders(n,t),o>i[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(i[this._limitProps.start]),this._$scrollableAtPointer=n):o>i[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(i[this._limitProps.end]),this._$scrollableAtPointer=n):(a=!1,this._preventScroll=!1)),a}_calculateDistanceToBorders(e,t){var n=e.get(0),i;return n?(i=Dn(n),{left:t.x-i.left,top:t.y-i.top,right:i.right-t.x,bottom:i.bottom-t.y}):{}}_calculateScrollSpeed(e){var t=this._component,n=t.option("scrollSensitivity"),i=t.option("scrollSpeed");return Math.ceil(((n-e)/n)**2*i)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var e=this._$scrollableAtPointer.closest(".dx-scrollable"),t=e.data("dxScrollable")||e.data("dxScrollView");if(t){var n=t.scrollOffset()[this._limitProps.start]+this._scrollSpeed;t.scrollTo({[this._limitProps.start]:n})}}else{var i=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](i)}var o=this._component._dragMoveArgs;o&&this._component._dragMoveHandler(o)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(e,t){if(!e)return!1;var n=Dn(e.get(0)),i=n[this._limitProps.start],o=n[this._sizeAttr],a=aM(t),s=this._sizeAttr==="width"?a.x:a.y;return s<i||s>i+o}}var zVe=i9.inherit({ctor(r){this.callBase(),this._strategy=r},_step(){var r=this._strategy._horizontalScrollHelper,e=this._strategy._verticalScrollHelper;r&&r.scrollByStep(),e&&e.scrollByStep()}}),uQ=jl.inherit({reset:Z,dragMove:Z,dragEnter:Z,dragLeave:Z,dragEnd(r){var e=this._getSourceDraggable();return e._fireRemoveEvent(r),X().resolve()},_fireRemoveEvent:Z,_getDefaultOptions(){return $(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference(){this.callBase.apply(this,arguments),$(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new zVe(this),this._horizontalScrollHelper=new Uj("horizontal",this),this._verticalScrollHelper=new Uj("vertical",this),this._initScrollTop=0,this._initScrollLeft=0},_normalizeCursorOffset(r){return pt(r)&&(r={h:r.x,v:r.y}),r=bv(r).map(e=>parseFloat(e)),{left:r[0],top:r.length===1?r[0]:r[1]}},_getNormalizedCursorOffset(r,e){return Ne(r)&&(r=r.call(this,e)),this._normalizeCursorOffset(r)},_calculateElementOffset(r){var e,t,{event:n}=r,i=E(r.itemElement),o=E(r.dragElement),a=this._dragElementIsCloned(),s=this.option("cursorOffset"),l={left:0,top:0},u=this._initialLocate=os(o);return(a||r.initialOffset||s)&&(e=r.initialOffset||i.offset(),s&&(l=this._getNormalizedCursorOffset(s,r),isFinite(l.left)&&(e.left=n.pageX),isFinite(l.top)&&(e.top=n.pageY)),t=o.offset(),e.top-=t.top+(l.top||0)-u.top,e.left-=t.left+(l.left||0)-u.left),e},_initPosition(r){var e=E(r.dragElement),t=this._calculateElementOffset(r);t&&this._move(t,e),this._startPosition=os(e)},_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator(){this._scrollAnimator.stop()},_addWidgetPrefix(r){var e=this.NAME;return qF(e)+(r?"-".concat(r):"")},_getItemsSelector(){return this.option("filter")||""},_$content(){var r=this.$element(),e=r.children(".dx-template-wrapper");return e.length?e:r},_attachEventHandlers(){if(!this.option("disabled")){var r=this._$content(),e=this._getItemsSelector(),t=this.option("allowMoveByClick"),n={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(i,o)=>{var a=this.option("group"),s=this._getSourceDraggable().option("group"),l=this._getScrollable(i);return this._verticalScrollHelper.isOutsideScrollable(l,o)||this._horizontalScrollHelper.isOutsideScrollable(l,o)?!1:s&&s===a}};t&&(r=this._getArea(),B.on(r,VVe,n,this._pointerDownHandler.bind(this))),e[0]===">"&&(e=e.slice(1)),B.on(r,MVe,e,n,this._dragStartHandler.bind(this)),B.on(r,FVe,n,this._dragMoveHandler.bind(this)),B.on(r,LVe,n,this._dragEndHandler.bind(this)),B.on(r,NVe,n,this._dragEnterHandler.bind(this)),B.on(r,kVe,n,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&B.on(r,BVe,this._keydownHandler.bind(this))}},_dragElementIsCloned(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(zj))},_getDragTemplateArgs(r,e){return{container:ut(e),model:{itemData:this.option("itemData"),itemElement:ut(r)}}},_createDragElement(r){var e=r,t=this.option("clone"),n=this._getContainer(),i=this.option("dragTemplate");return i?(i=this._getTemplate(i),e=E("<div>").appendTo(n),i.render(this._getDragTemplateArgs(r,e))):t&&(e=E("<div>").appendTo(n),r.clone().css({width:r.css("width"),height:r.css("height")}).appendTo(e)),e.toggleClass(this._addWidgetPrefix(zj),e.get(0)!==r.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers(){B.off(this._$content(),".".concat(Bl)),B.off(this._getArea(),".".concat(Bl))},_move(r,e){ci(e||this._$dragElement,r)},_getDraggableElement(r){var e=this._getSourceElement();if(e)return e;var t=this.option("allowMoveByClick");if(t)return this.$element();var n=E(r&&r.target),i=this._getItemsSelector();if(i[0]===">"){var o=this._$content().find(i);o.is(n)||(n=n.closest(o))}return n},_getSourceElement(){var r=this._getSourceDraggable();return r._$sourceElement},_pointerDownHandler(r){if(!Gq(r)){var e={},t=this.$element(),n=this.option("dragDirection");(n==="horizontal"||n==="both")&&(e.left=r.pageX-t.offset().left+os(t).left-gt(t)/2),(n==="vertical"||n==="both")&&(e.top=r.pageY-t.offset().top+os(t).top-Dt(t)/2),this._move(e,t),this._getAction("onDragMove")(this._getEventArgs(r))}},_isValidElement(r,e){var t=this.option("handle"),n=E(r.originalEvent&&r.originalEvent.target);return t&&!n.closest(t).length||!e.length?!1:!e.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler(r){var e=this._getDraggableElement(r);if(this.dragInProgress=!0,!this._isValidElement(r,e)){r.cancel=!0;return}if(!this._$sourceElement){var t=this._getDragStartArgs(r,e);if(this._getAction("onDragStart")(t),t.cancel){r.cancel=!0;return}this.option("itemData",t.itemData),this._setSourceDraggable(),this._$sourceElement=e;var n=e.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),n=this._getDraggableElementOffset(n.left,n.top));var i=this._$dragElement=this._createDragElement(e);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(i.children());var o=i.css("position")==="fixed";this._initPosition($({},t,{dragElement:i.get(0),initialOffset:o&&n})),this._getAction("onDraggableElementShown")(b(b({},t),{dragElement:i}));var a=this._getArea(),s=this._getAreaOffset(a),l=this._getBoundOffset(),u=er(a),c=Vt(a),d=gt(i),h=Dt(i),p=i.offset().left-s.left,f=i.offset().top-s.top;a.length&&(r.maxLeftOffset=p-l.left,r.maxRightOffset=u-p-d-l.right,r.maxTopOffset=f-l.top,r.maxBottomOffset=c-f-h-l.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset(r){var e=r&&js.offset(r);return e||{left:0,top:0}},_toggleDraggingClass(r){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),r)},_toggleDragSourceClass(r,e){var t=e||this._$sourceElement;t&&t.toggleClass(this._addWidgetPrefix("source"),r)},_setGestureCoverCursor(r){E(".".concat(GVe)).css("cursor",r.css("cursor"))},_getBoundOffset(){var r=this.option("boundOffset");return Ne(r)&&(r=r.call(this)),Dse(r)},_getArea(){var r=this.option("boundary");return Ne(r)&&(r=r.call(this)),E(r)},_getContainer(){var r=this.option("container");return r===void 0&&(r=ed()),E(r)},_getDraggableElementOffset(r,e){var t,n,i,o,a=this._initScrollTop,s=this._initScrollLeft,l=this._getScrollableScrollTop(),u=this._getScrollableScrollLeft(),c=E(this.element()).css("position"),d=c==="fixed",h={left:((n=(t=this._startPosition)===null||t===void 0?void 0:t.left)!==null&&n!==void 0?n:0)+r,top:((o=(i=this._startPosition)===null||i===void 0?void 0:i.top)!==null&&o!==void 0?o:0)+e};return d||this._hasClonedDraggable()?h:{left:Tr(u)?h.left+u-s:h.left,top:Tr(l)?h.top+l-a:h.top}},_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")},_dragMoveHandler(r){if(this._dragMoveArgs=r,!this._$dragElement){r.cancel=!0;return}var e=this._getDraggableElementOffset(r.offset.x,r.offset.y);this._move(e),this._updateScrollable(r);var t=this._getEventArgs(r);if(this._getAction("onDragMove")(t),t.cancel!==!0){var n=this._getTargetDraggable();n.dragMove(r,scrollBy)}},_updateScrollable(r){if(this.option("autoScroll")){var e=aM(r),t=ce.elementsFromPoint(e.x,e.y,this.$element().get(0));this._verticalScrollHelper.updateScrollable(t,e),this._horizontalScrollHelper.updateScrollable(t,e)}},_getScrollable(r){var e;return r.parents().toArray().some(t=>{var n=E(t);return this._horizontalScrollHelper.isScrollable(n)||this._verticalScrollHelper.isScrollable(n)?(e=n,!0):!1}),e},_getScrollableScrollTop(){var r,e;return(e=(r=this._getScrollable(E(this.element())))===null||r===void 0?void 0:r.scrollTop())!==null&&e!==void 0?e:0},_getScrollableScrollLeft(){var r,e;return(e=(r=this._getScrollable(E(this.element())))===null||r===void 0?void 0:r.scrollLeft())!==null&&e!==void 0?e:0},_defaultActionArgs(){var r=this.callBase.apply(this,arguments),e=this.option("component");return e&&(r.component=e,r.element=e.element()),r},_getEventArgs(r){var e=this._getSourceDraggable(),t=this._getTargetDraggable();return{event:r,itemData:e.option("itemData"),itemElement:ut(e._$sourceElement),fromComponent:e.option("component")||e,toComponent:t.option("component")||t,fromData:e.option("data"),toData:t.option("data")}},_getDragStartArgs(r,e){var t=this._getEventArgs(r);return{event:t.event,itemData:t.itemData,itemElement:e,fromData:t.fromData}},_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler(r){var e=X(),t=this._getEventArgs(r),n=this._getEventArgs(r),i=this._getTargetDraggable(),o=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(t)}finally{$e(ui(t.cancel)).done(a=>{if(!a&&(i!==this&&i._getAction("onDrop")(n),!n.cancel)){o=!1,$e(ui(i.dragEnd(t))).always(e.resolve);return}e.resolve()}).fail(e.resolve),e.done(()=>{o&&this._revertItemToInitialPosition(),this._resetDragOptions(i)})}},_isTargetOverAnotherDraggable(r){var e=this._getSourceDraggable();if(this===e)return!1;var t=e._$dragElement,n=e.$element(),i=this.$element(),o=aM(r),a=ce.elementsFromPoint(o.x,o.y,this.element()),s=a.filter(d=>{var h=E(d);return h.hasClass(this._addWidgetPrefix())?!h.closest(t).length:!1})[0],l=this._getSourceElement(),u=s===n.get(0),c=E(s).closest(l).length;return!s||s===i.get(0)&&!u&&!c},_dragEnterHandler(r){this._fireDragEnterEvent(r),this._isTargetOverAnotherDraggable(r)&&this._setTargetDraggable();var e=this._getSourceDraggable();e.dragEnter(r)},_dragLeaveHandler(r){this._fireDragLeaveEvent(r),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var e=this._getSourceDraggable();e.dragLeave(r)},_keydownHandler(r){this.dragInProgress&&r.key==="Escape"&&this._keydownEscapeHandler(r)},_keydownEscapeHandler(r){var e=this._getSourceElement();if(e){var t=this._getEventArgs(r);if(this._getAction("onDragCancel")(t),!t.cancel){this.dragInProgress=!1,Wp==null||Wp._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();var n=this._getTargetDraggable();this._resetDragOptions(n),this._attachEventHandlers()}}},_getAction(r){return this["_".concat(r,"Action")]||this._createActionByOption(r)},_getAnonymousTemplateName:()=>HVe,_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new _h}),this.callBase.apply(this,arguments))},_render(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var r=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),e=this._getTemplateByOption("contentTemplate");e&&E(e.render({container:this.element(),transclude:r}))},_optionChanged(r){var{name:e}=r;switch(e){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(r)}},_getTargetDraggable(){return zO||this},_getSourceDraggable(){return Wp||this},_setTargetDraggable(){var r=this.option("group"),e=this._getSourceDraggable();r&&r===e.option("group")&&(zO=this)},_setSourceDraggable(){Wp=this},_resetSourceDraggable(){Wp=null},_resetTargetDraggable(){zO=null},_resetDragOptions(r){this.reset(),r.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent(r){var e=this._getEventArgs(r);this._getAction("onDragEnter")(e)},_fireDragLeaveEvent(r){var e=this._getEventArgs(r);this._getAction("onDragLeave")(e)}});Kt(Bl,uQ);var jj=Rt(),UVe="dxSortable",Kj="placeholder",jVe="clone",qj=r=>E(r).is(":visible"),KVe=(r,e)=>{var t,n;if(r){var i=((t=e.to)===null||t===void 0?void 0:t.left)||0,o=((n=e.to)===null||n===void 0?void 0:n.top)||0;r.style.transform="translate(".concat(i,"px,").concat(o,"px)"),r.style.transition="transform ".concat(e.duration,"ms ").concat(e.easing)}},qVe=r=>{r&&(r.style.transform="",r.style.transition="")};function YVe(r){var e=r.offset(),{style:t}=r[0],n=parseFloat(t.paddingLeft)||0,i=parseFloat(t.paddingRight)||0,o=parseFloat(t.paddingTop)||0,a=r[0].clientWidth-(n+i),s=Dt(r),l=e.left+n,u=e.top+o;return{left:l,right:l+a,top:u,bottom:u+s}}var cQ=uQ.inherit({_init(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions(){return $(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:(r,e)=>r.slice(0,e).reverse().filter(qj)[0],_dragStartHandler(r){if(this.callBase.apply(this,arguments),r.cancel!==!0){var e=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(r),this.option("fromIndex",this._getElementIndex(e)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll(r){var e=this._getScrollable(E(r.target));e&&(this._sourceScrollableInfo={element:e,scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop()},B.off(e,"scroll",this._sourceScrollHandler),B.on(e,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(B.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll(r){var e=this._sourceScrollableInfo;e&&["scrollLeft","scrollTop"].forEach(t=>{if(r.target[t]!==e[t]){var n=r.target[t]-e[t];this._correctItemPoints(n),this._movePlaceholder(),e[t]=r.target[t]}})},_dragEnterHandler(r){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(r),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var e=this.option("itemPoints"),t=e[e.length-1];if(t){var n=this.$element(),i=this._getSourceElement(),o=this._isVerticalOrientation(),a=o?Vt(i,!0):er(i,!0),s=n.get(0)[o?"scrollHeight":"scrollWidth"],l=n.get(0)[o?"scrollTop":"scrollLeft"],u=o?"top":"left",c=t[u],d=n.offset()[u],h=d+s-l-c;if(h<a&&o){var p=this._getItems(),f=E(this._getPrevVisibleItem(p));this._$modifiedItem=f,this._modifiedItemMargin=f.get(0).style.marginBottom,f.css("marginBottom",a-h);var v=f.closest(".dx-sortable"),g=v.data("dxScrollable")||v.data("dxScrollView");g&&g.update()}}}},_dragLeaveHandler(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop(r){var e=this._getTargetDraggable(),t=e.$element(),n=this._getScrollable(t);if(n){var{left:i,right:o,top:a,bottom:s}=YVe(n),l=this.option("toIndex"),u=this.option("itemPoints"),c=u==null?void 0:u.filter(h=>h.index===l)[0];if(c&&c.top!==void 0){var d=this._isVerticalOrientation();return d?a<=Math.ceil(c.top)&&Math.floor(c.top)<=s:i<=Math.ceil(c.left)&&Math.floor(c.left)<=o}}return!0},dragEnd(r){this._unsubscribeFromSourceScroll();var e=this._getSourceElement(),t=this._getSourceDraggable(),n=t.NAME!==this.NAME,i=this.option("toIndex"),{event:o}=r,a=this._allowDrop(o);if(i!==null&&i>=0&&a){var s,l;if(t!==this&&(s=this._fireAddEvent(o),s||(l=this._fireRemoveEvent(o))),n&&FC(e),this.option("moveItemOnDrop")&&!s&&this._moveItem(e,i,l),t===this)return this._fireReorderEvent(o)}return X().resolve()},dragMove(r){var e=this.option("itemPoints");if(e){for(var t=this._isVerticalOrientation(),n=t?"top":"left",i=t?r.pageY:r.pageX,o=this.option("rtlEnabled"),a,s=e.length-1;s>=0;s--){var l=e[s+1]&&(e[s][n]+e[s+1][n])/2;if((!t&&o?i>l:l>i)||l===void 0)a=e[s];else break}a&&(this._updatePlaceholderPosition(r,a),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder(){var r;return this._isIndicateMode()&&(r=E("<div>").addClass(this._addWidgetPrefix(Kj)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=r,r},_getItems(){var r=this._getItemsSelector();return this._$content().find(r).not(".".concat(this._addWidgetPrefix(Kj))).not(".".concat(this._addWidgetPrefix(jVe))).toArray()},_allowReordering(){var r=this._getSourceDraggable(),e=this._getTargetDraggable();return r!==e||this.option("allowReordering")},_isValidPoint(r,e,t){var n=this.option("allowDropInsideItem"),i=t||this._allowReordering();return!i&&(r!==0||!n)?!1:this._isIndicateMode()?e===-1||r!==e&&(t||r!==e+1):!0},_getItemPoints(){var r=[],e,t,n,i=this.option("rtlEnabled"),o=this._isVerticalOrientation(),a=this._getItems(),s=a.filter(qj),l=s.length,u=this._getDraggableElement(),c=s.indexOf(u.get(0));if(l){for(var d=0;d<=l;d++){var h=!o&&i^d===l,p=o&&d===l;d<l&&(e=E(s[d]),t=e.offset(),n=er(e)),r.push({dropInsideItem:!1,left:t.left+(h?n:0),top:t.top+(p?r[d-1].height:0),index:d===l?a.length:a.indexOf(e.get(0)),$item:e,width:er(e),height:Vt(e),isValid:this._isValidPoint(d,c)})}if(this.option("allowDropInsideItem")){var f=r;r=[];for(var v=0;v<f.length;v++)r.push(f[v]),f[v+1]&&r.push($({},f[v],{dropInsideItem:!0,top:Math.floor((f[v].top+f[v+1].top)/2),left:Math.floor((f[v].left+f[v+1].left)/2),isValid:this._isValidPoint(v,c,!0)}))}}else r.push({dropInsideItem:!1,index:0,isValid:!0});return r},_updateItemPoints(r){(r||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints(r){var e=this.option("itemPoints");if(r&&e&&!this.option("autoUpdate")){var t=this._isVerticalOrientation(),n=t?"top":"left";e.forEach(i=>{i[n]-=r})}},_getElementIndex(r){return this._getItems().indexOf(r.get(0))},_getDragTemplateArgs(r){var e=this.callBase.apply(this,arguments);return e.model.fromIndex=this._getElementIndex(r),e},_togglePlaceholder(r){this._$placeholderElement&&this._$placeholderElement.toggle(r)},_isVerticalOrientation(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex(r,e){var t=this._getSourceDraggable()!==this._getTargetDraggable(),n=this._getActualFromIndex();return r===null?n:Math.max(t||n>=r||e?r:r-1,0)},_updatePlaceholderPosition(r,e){var t=this._getSourceDraggable(),n=this._normalizeToIndex(e.index,e.dropInsideItem),i=$(this._getEventArgs(r),{toIndex:n,dropInsideItem:e.dropInsideItem});if(e.isValid&&this._getAction("onDragChange")(i),i.cancel||!e.isValid){e.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:e.dropInsideItem,toIndex:e.index}),this._getAction("onPlaceholderPrepared")($(this._getEventArgs(r),{placeholderElement:ut(this._$placeholderElement),dragElement:ut(t._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection(r,e){if(this._$scrollable=this._getScrollable(r),this._$scrollable){var t=gt(this._$scrollable),n=this._$scrollable.offset().left-r.offset().left,i=er(r)-n-t;n>0&&(e-=n),i>0&&(e-=i)}return e},_updatePlaceholderSizes(r,e){var t=this.option("dropInsideItem"),n=E(e),i=this._isVerticalOrientation(),o="",a="";r.toggleClass(this._addWidgetPrefix("placeholder-inside"),t),(i||t)&&(o=er(n)),(!i||t)&&(a=Vt(n)),o=this._makeWidthCorrection(n,o),r.css({width:o,height:a})},_moveItem(r,e,t){var n,i=this._getItems(),o=i[e],a=this._getSourceDraggable();t&&(r=r.clone(),a._toggleDragSourceClass(!1,r)),o||(n=i[e-1]),this._moveItemCore(r,o,n)},_moveItemCore(r,e,t){!e&&!t?r.appendTo(this.$element()):t?r.insertAfter(E(t)):r.insertBefore(E(e))},_getDragStartArgs(r,e){return $(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(e)})},_getEventArgs(r){var e=this._getSourceDraggable(),t=this._getTargetDraggable(),n=t.option("dropInsideItem");return $(this.callBase.apply(this,arguments),{fromIndex:e.option("fromIndex"),toIndex:this._normalizeToIndex(t.option("toIndex"),n),dropInsideItem:n})},_optionChanged(r){var{name:e}=r;switch(e){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(t=>{var n=t?r.value:r.previousValue;if(n!==null){var i=E(this._getItems()[n]);this._toggleDragSourceClass(t,i)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(r);break;case"toIndex":this._optionChangedToIndex(r);break;default:this.callBase(r)}},_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible(r){var e=this.$element(),t;if(e.css("overflow")!=="hidden"?t=e.get(0):e.parents().each(function(){if(E(this).css("overflow")!=="visible")return t=this,!1}),t){var n=Dn(t),i=this._isVerticalOrientation(),o=i?"top":"left",a=i?"bottom":"right",s=i?jj.pageYOffset:jj.pageXOffset;if(r[o]<n[o]+s||r[o]>n[a]+s)return!1}return!0},_optionChangedToIndex(r){var e=r.value;if(this._isIndicateMode()){var t=e!==null&&e>=0;this._togglePlaceholder(t),t&&this._movePlaceholder()}else this._moveItems(r.previousValue,r.value,r.fullUpdate)},update(){if(!(this.option("fromIndex")===null&&this.option("toIndex")===null)){this._updateItemPoints(!0),this._updateDragSourceClass();var r=this.option("toIndex");this._optionChangedToIndex({value:r,fullUpdate:!0})}},_updateDragSourceClass(){var r=this._getActualFromIndex(),e=E(this._getItems()[r]);e.length&&(this._$sourceElement=e,this._toggleDragSourceClass(!0,e))},_makeLeftCorrection(r){var e=this._$scrollable;if(e&&this._isVerticalOrientation()){var t=e.offset().left-r;t>0&&(r+=t)}return r},_movePlaceholder(){var r=this._$placeholderElement||this._createPlaceholder();if(r){var e=this._getItems(),t=this.option("toIndex"),n=this._isVerticalOrientation(),i=this.option("rtlEnabled"),o=this.option("dropInsideItem"),a=null,s=e[t];if(s){var l=E(s);a=l.offset(),!n&&i&&!o&&(a.left+=er(l,!0))}else{var u=s=this._getPrevVisibleItem(e,t);u&&(a=E(u).offset(),n?a.top+=Vt(u,!0):i||(a.left+=er(u,!0)))}if(this._updatePlaceholderSizes(r,s),a&&!this._isPositionVisible(a)&&(a=null),a){var c=n&&t===e.length,d=Vt(r);a.left=this._makeLeftCorrection(a.left),a.top=c&&a.top>=d?a.top-d:a.top,this._move(a,r)}r.toggle(!!a)}},_getPositions(r,e,t,n){for(var i=[],o=0;o<r.length;o++){var a=0;if(n===null||t===null){i.push(a);continue}t===-1?o>=n&&(a=e):n===-1?o>t&&(a=-e):t<n?o>t&&o<n&&(a=-e):t>n&&o>=n&&o<t&&(a=e),i.push(a)}return i},_getDraggableElementSize(r){var e=this._getDraggableElement(),t=this.option("draggableElementSize");return t||(t=r?(Vt(e)+Vt(e,!0))/2:(er(e)+er(e,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",t)),t},_getActualFromIndex(){var{fromIndex:r,fromIndexOffset:e,offset:t}=this.option();return r==null?null:r+e-t},_moveItems(r,e,t){for(var n=this._getActualFromIndex(),i=this._isVerticalOrientation(),o=i?"top":"left",a=this._getDraggableElementSize(i),s=this._getItems(),l=this._getPositions(s,a,n,r),u=this._getPositions(s,a,n,e),c=this.option("animation"),d=this.option("rtlEnabled"),h=0;h<s.length;h++){var p=s[h],f=l[h],v=u[h];e===null||n===null?qVe(p):(f!==v||t&&v)&&KVe(p,$({},c,{to:{[o]:!i&&d?-v:v}}))}},_toggleDragSourceClass(r,e){var t=e||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||t&&t.toggleClass(this._addWidgetPrefix("source-hidden"),r)},_dispose(){this.reset(),this.callBase()},_fireAddEvent(r){var e=this._getEventArgs(r);return this._getAction("onAdd")(e),e.cancel},_fireRemoveEvent(r){var e=this._getSourceDraggable(),t=this._getEventArgs(r);return e._getAction("onRemove")(t),t.cancel},_fireReorderEvent(r){var e=this._getEventArgs(r);return this._getAction("onReorder")(e),e.promise||X().resolve()}});Kt(UVe,cQ);var XVe={dragCell:"dx-drag-cell"},qd={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview",dragView:"dragview"},QVe=r=>(e,t)=>{var n=E(e);if(t.rowType==="data")return n.addClass(qd.cellFocusDisabled),E("<span>").addClass(r(qd.handleIcon));ye.setEmptyText(n)},ZVe={createHandleTemplateFunc:QVe},JVe={init(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering(){var r=this.option("rowDragging");return!!(r&&(r.allowReordering||r.allowDropInsideItem||r.group))},_updateHandleColumn(){var r=this.option("rowDragging"),e=this._allowReordering(),t=this._columnsController,n=e&&r.showDragIcons;t==null||t.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:XVe.dragCell,value:""}],cssClass:qd.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:n}),t==null||t.columnOption("type:drag","visible",n)},_renderContent(){var r=this.option("rowDragging"),e=this._allowReordering(),t=this.callBase.apply(this,arguments),n=this._isFixedTableRendering,i=n?"_sortableFixed":"_sortable",o=n?"_sortable":"_sortableFixed",a=u=>{var c;(c=this._sortableFixed)===null||c===void 0||c.$element().css("pointerEvents",u?"auto":"")},s=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",l=this.option("dataRowTemplate")?"> table > tbody".concat(s):"> table > tbody > ".concat(s);return(e||this[i])&&t.length&&(this[i]=this._createComponent(t,cQ,$({component:this.component,contentTemplate:null,filter:l,cursorOffset:u=>{var{event:c}=u,d=E(this.element()).offset();return{x:c.pageX-d.left}},onDraggableElementShown:u=>{if(!r.dragTemplate){var c=E(u.dragElement),d=c.children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(d)}},dragTemplate:this._getDraggableRowTemplate(),handle:r.showDragIcons&&".".concat(qd.commandDrag),dropFeedbackMode:"indicate"},r,{onDragStart:u=>{var c,d;(c=this.getController("keyboardNavigation"))===null||c===void 0||c._resetFocusedCell();var h=u.component.getVisibleRows()[u.fromIndex];u.itemData=h&&h.data;var p=h&&h.rowType==="data";u.cancel=!e||!p,(d=r.onDragStart)===null||d===void 0||d.call(r,u)},onDragEnter:()=>{a(!0)},onDragLeave:()=>{a(!1)},onDragEnd:u=>{var c;a(!1),(c=r.onDragEnd)===null||c===void 0||c.call(r,u)},onAdd:u=>{var c;a(!1),(c=r.onAdd)===null||c===void 0||c.call(r,u)},dropFeedbackMode:r.dropFeedbackMode,onOptionChanged:u=>{var c=this._sortableFixed;c&&(u.name==="fromIndex"||u.name==="toIndex")&&this[o].option(u.name,u.value)}})),t.toggleClass("dx-scrollable-container",n),t.toggleClass(qd.sortableWithoutHandle,e&&!r.showDragIcons)),t},_renderCore(r){this.callBase.apply(this,arguments),r&&r.changeType==="update"&&r.repaintChangesOnly&&ye.isVirtualRowRendering(this)&&qi(()=>{this._updateSortable()})},_updateSortable(){var r=this._dataController.getRowIndexOffset(),e=r-this._previousOffset;[this._sortable,this._sortableFixed].forEach(t=>{var n=t==null?void 0:t.option("toIndex");L(n)&&L(this._previousOffset)&&(t==null||t.option("toIndex",n-e)),t==null||t.option("offset",r),t==null||t.update()}),this._previousOffset=r},_resizeCore(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions(r){var e=this.option(),t=this.getColumns(),n=E(this.getRowElement(r.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:e.columnFixing,columnAutoWidth:e.columnAutoWidth,showColumnLines:e.showColumnLines,columns:t.map(i=>({width:i.width||i.visibleWidth,fixed:i.fixed,fixedPosition:i.fixedPosition})),onRowPrepared:i=>{var o=i.component.getView("rowsView");E(i.rowElement).replaceWith(n.eq(o._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition(r){var e=r==null?void 0:r.getScrollable();e==null||e.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate(){return r=>{var e=this.component.$element(),t=E("<div>");YF(t,gt(e));var n=this._dataController.items(),i=n&&n[r.fromIndex],o=this._getDraggableGridOptions(i);return this._createComponent(t,this.component.NAME,o),t.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix(qd.rowsView),")")).hide(),t.addClass(this.addWidgetPrefix(qd.dragView)),t}},_getHandleTemplate(){return ZVe.createHandleTemplateFunc(r=>this.addWidgetPrefix(r))},optionChanged(r){r.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),r.handled=!0),this.callBase.apply(this,arguments)}},eBe={defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:JVe}}};at.registerModule("rowDragging",eBe);var dQ={exports:{}},tBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rBe=tBe,nBe=rBe;function hQ(){}function pQ(){}pQ.resetWarningCache=hQ;var iBe=function(){function r(n,i,o,a,s,l){if(l!==nBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pQ,resetWarningCache:hQ};return t.PropTypes=t,t};dQ.exports=iBe();var pe=dQ.exports;const ue=Doe(pe);var sM=B.on;B.one;var Cf=B.off;B.trigger;var oBe=B.triggerHandler;B.Event;/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var aBe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sBe=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Yj=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xj=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},fQ=_.createContext({lock:function(){},unlock:function(){}});function UO(){return Math.random().toString(36).substring(2)}var lBe=function(){function r(){this._map=new Map}return r.prototype.set=function(e,t){var n=e.key1,i=e.key2,o=this._map.get(n);o||(o=new Map,this._map.set(n,o)),o.set(i,t)},r.prototype.get=function(e){var t=e.key1,n=e.key2,i=this._map.get(t);return i?i.get(n):void 0},r.prototype.delete=function(e){var t=e.key1,n=e.key2,i=this._map.get(t);i&&(i.delete(n),i.size===0&&this._map.delete(t))},Object.defineProperty(r.prototype,"empty",{get:function(){return this._map.size===0},enumerable:!1,configurable:!0}),r.prototype.shallowCopy=function(){var e=new r;return e._map=this._map,e},r.prototype[Symbol.iterator]=function(){var e,t,n,i,o,a,s,l,u,c,d,h,p,f,v,g;return sBe(this,function(m){switch(m.label){case 0:m.trys.push([0,11,12,13]),e=Yj(this._map),t=e.next(),m.label=1;case 1:if(t.done)return[3,10];n=Xj(t.value,2),i=n[0],o=n[1],m.label=2;case 2:m.trys.push([2,7,8,9]),a=(v=void 0,Yj(o)),s=a.next(),m.label=3;case 3:return s.done?[3,6]:(l=Xj(s.value,2),u=l[0],c=l[1],[4,[{key1:i,key2:u},c]]);case 4:m.sent(),m.label=5;case 5:return s=a.next(),[3,3];case 6:return[3,9];case 7:return d=m.sent(),v={error:d},[3,9];case 8:try{s&&!s.done&&(g=a.return)&&g.call(a)}finally{if(v)throw v.error}return[7];case 9:return t=e.next(),[3,1];case 10:return[3,13];case 11:return h=m.sent(),p={error:h},[3,13];case 12:try{t&&!t.done&&(f=e.return)&&f.call(e)}finally{if(p)throw p.error}return[7];case 13:return[2]}})},r}(),Qj=function(r){aBe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(lBe);function uBe(r){return r.length?""+r[0].toUpperCase()+r.substr(1):""}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var cBe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Zj=function(r,e,t){var n={display:"none"};switch(r){case"TABLE":return _.createElement("tbody",{style:n,ref:e});case"TBODY":return _.createElement("tr",{style:n,ref:e});default:return _.createElement(t,{style:n,ref:e})}},dBe=function(r){var e=r.templateFactory,t=r.data,n=r.index,i=r.container,o=r.onRemoved,a=r.onRendered,s=cBe(_.useState(!1),2),l=s[0],u=s[1],c=_.useRef(!1),d=_.useMemo(function(){return{lock:function(){c.current=!0},unlock:function(){c.current=!1}}},[]),h=_.useRef(),p=_.useRef(),f=_.useRef(),v=_.useCallback(function(C,y){y!=null&&y.isUnmounting||c.current||(h.current&&Cf(h.current,_l,v),f.current&&Cf(f.current,_l,v),o())},[o]);_.useLayoutEffect(function(){var C=h.current;return C&&C.nodeType===Node.ELEMENT_NODE?(Cf(C,_l,v),sM(C,_l,v)):l?f.current&&(Cf(f.current,_l,v),sM(f.current,_l,v)):u(!0),function(){h.current&&i.appendChild(h.current),p.current&&i.appendChild(p.current),f.current&&i.appendChild(f.current),C&&Cf(C,_l,v)}},[v,l,i]),_.useEffect(function(){a()},[a]);var g=Zj(i==null?void 0:i.nodeName,function(C){p.current=C,h.current=C==null?void 0:C.previousSibling},"div"),m=l?Zj(i==null?void 0:i.nodeName,function(C){f.current=C},"span"):void 0;return Bu.createPortal(_.createElement(_.Fragment,null,_.createElement(fQ.Provider,{value:d},e({data:t,index:n,onRendered:a}),g,m)),i)},hBe=_.memo(dBe);/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var pBe={useLegacyTemplateEngine:!1};function fBe(r){return pBe[r]}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var pE=function(){return pE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},pE.apply(this,arguments)},NS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};function Jj(r){if(fBe("useLegacyTemplateEngine")){var e=r.data;return e&&Object.prototype.hasOwnProperty.call(e,"key")&&(e.dxkey=e.key),e}return r}var vBe=function(r){var e=r.init,t=NS(_.useState(new Qj),2),n=t[0],i=t[1],o=NS(_.useState(),2),a=o[0],s=o[1],l=_.useRef(""),u=_.useRef({}),c=_.useCallback(function(g,m){g.nodeType===Node.ELEMENT_NODE&&sM(g,_l,m)},[]),d=_.useCallback(function(g,m){g.nodeType===Node.ELEMENT_NODE&&Cf(g,_l,m)},[]),h=_.useCallback(function(g){return g.get?g.get(0):g},[]),p=_.useCallback(function(g,m){return{key1:g,key2:m}},[]),f=_.useCallback(function(){return""+UO()+UO()+UO()},[]),v=_.useCallback(function(g){return function(m){var C=m.model,y=m.index,w=m.container,T=m.onRendered,S=h(w),x=p(C,S),I=function(){i(function(D){var A=D.get(x);return A?(D.delete(x),D.shallowCopy()):D})},R=l.current;return i(function(D){return D.set(x,{templateKey:g,index:y,componentKey:f(),onRendered:function(){d(S,I),R===l.current&&(T==null||T())},onRemoved:I}),D.shallowCopy()}),S}},[d,p]);return _.useMemo(function(){function g(w){switch(w.type){case"children":return function(){return w.content};case"render":return function(T){return Jj(T),w.content(T.data,T.index)};case"component":return function(T){return T=Jj(T),_.createElement.bind(null,w.content)(T)};default:return function(){return _.createElement(_.Fragment)}}}function m(w){var T=Object.entries(w).reduce(function(x,I){var R,D=NS(I,2),A=D[0],V=D[1];return pE(pE({},x),(R={},R[A]=g(V),R))},{});u.current=T;var S=Object.keys(T).reduce(function(x,I){return x[I]={render:v(I)},x},{});return S}function C(){l.current=f(),i(new Qj)}function y(w){s({onUpdated:w})}e({createDXTemplates:m,clearInstantiationModels:C,updateTemplates:y})},[e,v]),_.useEffect(function(){a&&a.onUpdated()},[a]),n.empty?null:_.createElement(_.Fragment,null,Array.from(n).map(function(g){var m=NS(g,2),C=m[0],y=C.key1,w=C.key2,T=m[1],S=T.index,x=T.templateKey,I=T.componentKey,R=T.onRendered,D=T.onRemoved;c(w,D);var A=u.current[x];return A?_.createElement(hBe,{key:I,templateFactory:A,data:y,index:S,container:w,onRemoved:D,onRendered:R}):null}))};/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function fd(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.filter(function(t){return t}).join(".")}function gBe(r){var e=r.split("[");return e.length===1?{isCollectionItem:!1,name:r}:{isCollectionItem:!0,name:e[0],index:Number(e[1].slice(0,-1))}}var mBe=function(){var r,e,t=(e=(r=window==null?void 0:window.navigator)===null||r===void 0?void 0:r.userAgent)!==null&&e!==void 0?e:"",n=t.indexOf("MSIE"),i=t.indexOf("Trident/");return n>0||i>0},_Be=function(r,e){return Object.keys(r).length!==Object.keys(e).length?!1:Object.keys(r).every(function(t){return r[t]===e[t]})};/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function lM(r,e,t){r.templates.forEach(function(n){if(n.isAnonymous){var i=fd(r.fullName,n.optionName);e[n.optionName]=i,t[i]=n}else t[n.optionName]=n})}function uv(r,e,t){var n={};return Object.keys(r.predefinedOptions).forEach(function(i){n[i]=r.predefinedOptions[i]}),Object.keys(r.configs).forEach(function(i){n[i]=uv(r.configs[i],e,t)}),Object.keys(r.configCollections).forEach(function(i){n[i]=r.configCollections[i].map(function(o){return uv(o,e,t)})}),t||Object.keys(r.initialOptions).forEach(function(i){n[i]=r.initialOptions[i]}),Object.keys(r.options).forEach(function(i){n[i]=r.options[i]}),lM(r,n,e),n}function uM(r,e){var t={},n=uv(r,t,e);return{templates:t,options:n}}var qh;(function(r){r[r.Simple=0]="Simple",r[r.Complex=1]="Complex",r[r.Array=2]="Array"})(qh||(qh={}));function vQ(r,e){var t=e.shift();if(!t)return{value:r,type:qh.Simple};if(r instanceof Object&&Object.keys(r).includes(t))return vQ(r[t],e)}function r_(r,e){var t=e.shift();if(!t)return{value:uM(r,!0).options,type:qh.Complex};var n=gBe(t);if(n.name in r.options){var i=n.isCollectionItem?r.options[n.name][n.index]:r.options[n.name];return vQ(i,e)}if(n.isCollectionItem){var o=r.configCollections[n.name];if(!o)return;var a=o[n.index];return a?r_(a,e):void 0}var s=r.configs[n.name];if(s)return r_(s,e);var l=r.configCollections[n.name];if(l)return e.length!==0?void 0:{value:l.map(function(u){return uv(u,{},!0)}),type:qh.Array}}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function CBe(r,e,t){var n={},i={},o={},a={};lM(r,n,i),lM(e,o,a),t.addRemovedValues(n,o,r.fullName),Object.keys(n).forEach(function(s){n[s]!==o[s]&&(t.options[fd(r.fullName,s)]=n[s])}),Object.keys(i).forEach(function(s){var l=i[s],u=a[s];u&&l.content===u.content||(t.templates[s]=l)})}function LN(r,e,t){if(!e){t.options[r.fullName]=uv(r,t.templates,!0);return}t.addRemovedValues(r.options,e.options,r.fullName),t.addRemovedValues(r.configCollections,e.configCollections,r.fullName),t.addRemovedValues(r.configs,e.configs,r.fullName),wBe(r,e,t),Object.keys(r.configs).forEach(function(n){LN(r.configs[n],e.configs[n],t)}),Object.keys(r.options).forEach(function(n){r.options[n]!==e.options[n]&&(t.options[fd(r.fullName,n)]=r.options[n])}),CBe(r,e,t)}function yBe(r,e,t,n){var i=Object.keys(e).filter(function(o){return!Object.keys(r).includes(o)});i.forEach(function(o){n.push(fd(t,o))})}function SBe(r,e){var t={options:{},removedOptions:[],templates:{},addRemovedValues:function(n,i,o){yBe(n,i,o,this.removedOptions)}};return LN(r,e,t),t}function wBe(r,e,t){Object.keys(r.configCollections).forEach(function(n){var i=r.configCollections[n],o=e.configCollections[n]||[];if(!i||i.length!==o.length){var a=[];i.forEach(function(l){var u=uv(l,t.templates,!0);a.push(u)}),t.options[fd(r.fullName,n)]=a;return}for(var s=0;s<i.length;s+=1)LN(i[s],o[s],t)})}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var e2=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},bBe=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},cM=new Set,gQ=-1,mQ=-1;function _Q(){clearTimeout(gQ),clearTimeout(mQ)}function CQ(){_Q(),gQ=window.setTimeout(function(){mQ=window.setTimeout(function(){cM.forEach(function(r){return r.execGuards()})})})}var EBe=function(){function r(){this.guards={},this.isUpdating=!1,cM.add(this),this.onOptionChanged=this.onOptionChanged.bind(this),this.wrapOptionValue=this.wrapOptionValue.bind(this)}return r.prototype.setInstance=function(e,t,n,i){this.instance=e,this.currentConfig=t,this.subscribableOptions=new Set(n),this.independentEvents=new Set(i)},r.prototype.getInitialOptions=function(e){var t=this,n=uM(e,!1),i={};return Object.keys(n.options).forEach(function(o){i[o]=t.wrapOptionValue(o,n.options[o])}),i},r.prototype.getTemplateOptions=function(e){var t=uM(e,!1);return t.templates},r.prototype.update=function(e,t){var n=this,i=[],o=function(s){var l=s.value,u=s.fullName;i.push([u,l])};this.instance.on("optionChanged",o);var a=SBe(e,this.currentConfig);!a.options&&!a.templates&&!a.removedOptions.length||(this.instance.beginUpdate(),this.isUpdating=!0,a.removedOptions.forEach(function(s){n.resetOption(s)}),Object.keys(t).length>0&&this.setValue("integrationOptions",{templates:t}),Object.keys(a.options).forEach(function(s){n.setValue(s,a.options[s])}),this.isUpdating=!1,this.instance.off("optionChanged",o),this.currentConfig=e,i.forEach(function(s){var l=e2(s,2),u=l[0],c=l[1],d=e.options[u];Object.prototype.hasOwnProperty.call(e.options,u)&&d!==c&&n.setValue(u,d)}),this.instance.endUpdate())},r.prototype.onOptionChanged=function(e){var t=this,n;if(!this.isUpdating){var i=r_(this.currentConfig,e.fullName.split("."));if((!i||i.value!==e.value)&&this.callOptionChangeHandler(e.fullName,e.value),i=r_(this.currentConfig,e.fullName.split(".")),!!i){var o=i.value,a=i.type;if(o instanceof Array&&a===qh.Array){for(var s=0;s<o.length;s+=1)if(o[s]!==((n=e.value)===null||n===void 0?void 0:n[s])){this.addGuard(e.fullName,o);return}}else if(a===qh.Complex&&o instanceof Object)Object.keys(o).forEach(function(c){var d;o[c]!==((d=e.value)===null||d===void 0?void 0:d[c])&&t.addGuard(fd(e.fullName,c),o[c])});else{var l=o===e.value,u=!l&&o instanceof Object&&e.value instanceof Object&&_Be(o,e.value);if(l||u||this.instance.skipOptionsRollBack)return;this.addGuard(e.fullName,o)}}}},r.prototype.dispose=function(){var e=this;cM.delete(this),Object.keys(this.guards).forEach(function(t){delete e.guards[t]})},r.prototype.isOptionSubscribable=function(e){return this.subscribableOptions.has(e)},r.prototype.isIndependentEvent=function(e){return this.independentEvents.has(e)},r.prototype.callOptionChangeHandler=function(e,t){if(this.isOptionSubscribable(e)){var n=e.split("."),i=n[n.length-1];if(!i.startsWith("on")){var o="on"+uBe(i)+"Change";n[n.length-1]=o;var a=r_(this.currentConfig,n);if(a){if(typeof a.value!="function")throw new Error("Invalid value for the "+o+` property.
                `+o+" must be a function.");a.value(t)}}}},r.prototype.wrapOptionValue=function(e,t){var n=this;return e.substr(0,2)==="on"&&typeof t=="function"?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];(!n.isUpdating||n.isIndependentEvent(e))&&t.apply(void 0,bBe([],e2(i)))}:t},r.prototype.addGuard=function(e,t){var n=this;if(this.guards[e]===void 0){var i=function(){n.setValue(e,t),delete n.guards[e]};this.guards[e]=i,CQ()}},r.prototype.execGuards=function(){Object.values(this.guards).forEach(function(e){return e()})},r.prototype.resetOption=function(e){this.instance.resetOption(e)},r.prototype.setValue=function(e,t){this.guards[e]&&delete this.guards[e],this.instance.option(e,this.wrapOptionValue(e,t))},r}();/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var yQ=["style","id"],SQ="className",xBe=["dropZone","dialogTrigger"];function IBe(r){return r==="children"||r===SQ||yQ.includes(r)}function TBe(r,e,t){t=t||[];var n={},i={},o={},a={};return t.forEach(function(s){a[s.component]=!0,a[s.render]=!0}),Object.keys(r).forEach(function(s){var l=e?e[s]:null,u=r[s];if(!IBe(s)){if(l){n[l]=u;return}if(a[s]){o[s]=u;return}if(xBe.includes(s)){i[s]=u&&u.current?u.current:u;return}i[s]=r[s]}}),{options:i,defaults:n,templates:o}}function t2(r){return r[SQ]}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var RBe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wQ=function(r){RBe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){return null},e}(_.PureComponent),jO=function(r){return!r.component&&!r.render&&!r.children?new Error("The Template component requires 'component' or 'render' property"):null};wQ.propTypes={name:pe.string.isRequired,component:jO,render:jO,children:jO};/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var xl;(function(r){r[r.Option=0]="Option",r[r.Template=1]="Template",r[r.Unknown=2]="Unknown"})(xl||(xl={}));function bQ(r,e){var t=r;if(!t||!t.type)return{type:xl.Unknown};if(t.type===wQ)return{type:xl.Template,props:t.props};var n=t.type;if(n.OptionName){var i=n.OptionName,o=n.IsCollectionItem,a=e&&e[i];return a&&(o=a.isCollectionItem,a.optionName&&(i=a.optionName)),{type:xl.Option,descriptor:{name:i,isCollection:o,templates:n.TemplateProps||[],initialValuesProps:n.DefaultsProps||{},predefinedValuesProps:n.PredefinedProps||{},expectedChildren:n.ExpectedChildren||{}},props:t.props}}return{type:xl.Unknown}}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function OBe(r,e,t){return e.tmplOption==="template"&&t?{optionName:e.tmplOption,isAnonymous:!0,type:"children",content:r.children,keyFn:r[e.keyFn]}:r[e.render]?{optionName:e.tmplOption,isAnonymous:!0,type:"render",content:r[e.render],keyFn:r[e.keyFn]}:r[e.component]?{optionName:e.tmplOption,isAnonymous:!0,type:"component",content:r[e.component],keyFn:r[e.keyFn]}:null}function DBe(r){return r.name?r.component?{optionName:r.name,isAnonymous:!1,type:"component",content:r.component,keyFn:r.keyFn}:r.render?{optionName:r.name,isAnonymous:!1,type:"render",content:r.render,keyFn:r.keyFn}:{optionName:r.name,isAnonymous:!1,type:"children",content:r.children,keyFn:r.keyFn}:null}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var dM=function(){return dM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},dM.apply(this,arguments)};function ABe(r,e){var t=[],n={},i={},o=!1;return _.Children.map(r.props.children,function(a){var s=bQ(a,r.descriptor.expectedChildren);if(s.type===xl.Unknown){a!=null&&a!==!1&&(o=!0);return}if(s.type===xl.Template){var l=DBe(s.props);l&&t.push(l);return}if(s.descriptor.isCollection){var u=n[s.descriptor.name];u||(u=[],n[s.descriptor.name]=u);var c=hM(s,fd(e,s.descriptor.name)+"["+u.length+"]");u.push(c);return}var d=hM(s,e);i[s.descriptor.name]=d}),{configs:i,configCollections:n,templates:t,hasTranscludedContent:o}}function hM(r,e){var t=r.descriptor.isCollection?e:fd(e,r.descriptor.name),n=TBe(r.props,r.descriptor.initialValuesProps,r.descriptor.templates),i=ABe(r,t);return r.descriptor.templates.forEach(function(o){var a=OBe(r.props,o,e.length>0?i.hasTranscludedContent:!1);a&&i.templates.push(a)}),{fullName:t,predefinedOptions:r.descriptor.predefinedValuesProps,initialOptions:n.defaults,options:n.options,templates:i.templates,configCollections:i.configCollections,configs:i.configs}}function PBe(r,e){return hM({type:xl.Option,descriptor:dM({name:"",isCollection:!1},r),props:e},"")}/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var MBe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n_=function(){return n_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},n_.apply(this,arguments)},kS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},KO=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},_l="dxremove",EQ=function(r){MBe(e,r);function e(t){var n=r.call(this,t)||this;return n.isPortalComponent=!1,n._templateProps=[],n._childNodes=[],n.useRequestAnimationFrameFlag=!1,n.useDeferUpdateForTemplates=!1,n.guardsUpdateScheduled=!1,n._createWidget=n._createWidget.bind(n),n._setTemplateManagerHooks=n._setTemplateManagerHooks.bind(n),n._optionsManager=new EBe,n}return e.displayContentsStyle=function(){return mBe()?{width:"100%",height:"100%",padding:0,margin:0}:{display:"contents"}},e.prototype.componentDidMount=function(){var t,n,i=this.props.style;!((n=this._childNodes)===null||n===void 0)&&n.length?(t=this._element).append.apply(t,KO([],kS(this._childNodes))):this._element.childNodes.length&&(this._childNodes=Array.from(this._element.childNodes)),this._updateCssClasses(null,this.props),i&&this._setInlineStyles(i)},e.prototype.componentDidUpdate=function(t){var n;this._updateCssClasses(t,this.props);var i=this._getConfig(),o=this._optionsManager.getTemplateOptions(i),a=((n=this._createDXTemplates)===null||n===void 0?void 0:n.call(this,o))||{};this._optionsManager.update(i,a),this._scheduleTemplatesUpdate()},e.prototype.componentWillUnmount=function(){var t;if(this._lockParentOnRemoved(),this._instance){var n={isUnmounting:!0};(t=this._childNodes)===null||t===void 0||t.forEach(function(i){var o;return(o=i.parentNode)===null||o===void 0?void 0:o.removeChild(i)}),oBe(this._element,_l,n),this._instance.dispose()}this._optionsManager.dispose(),this._unlockParentOnRemoved()},e.prototype._createWidget=function(t){var n,i;t=t||this._element;var o=this._getConfig(),a=n_({templatesRenderAsynchronously:!0},this._optionsManager.getInitialOptions(o)),s=this._optionsManager.getTemplateOptions(o),l=(n=this._createDXTemplates)===null||n===void 0?void 0:n.call(this,s);l&&Object.keys(l).length&&(a=n_(n_({},a),{integrationOptions:{templates:l}})),(i=this._clearInstantiationModels)===null||i===void 0||i.call(this),this._instance=new this._WidgetClass(t,a),this.useRequestAnimationFrameFlag||(this.useDeferUpdateForTemplates=this._instance.option("integrationOptions.useDeferUpdateForTemplates")),this._optionsManager.setInstance(this._instance,o,this.subscribableOptions,this.independentEvents),this._instance.on("optionChanged",this._optionsManager.onOptionChanged)},e.prototype._scheduleTemplatesUpdate=function(){var t=this;if(!this.guardsUpdateScheduled){this.guardsUpdateScheduled=!0;var n=this.useDeferUpdateForTemplates?qi:w_;n(function(){var i;t.guardsUpdateScheduled=!1,(i=t._updateTemplates)===null||i===void 0||i.call(t,function(){return CQ()})}),_Q()}},e.prototype._getConfig=function(){return PBe({templates:this._templateProps,initialValuesProps:this._defaults,predefinedValuesProps:{},expectedChildren:this._expectedChildren},this.props)},e.prototype._getElementProps=function(){var t=this,n={ref:function(i){t._element=i}};return yQ.forEach(function(i){var o=t.props;i in o&&(n[i]=o[i])}),n},e.prototype._setInlineStyles=function(t){var n=this;Object.entries(t).forEach(function(i){var o=kS(i,2),a=o[0],s=o[1];n._element.style[a]=s})},e.prototype._updateCssClasses=function(t,n){var i,o,a=t?t2(t):void 0,s=t2(n);if(a!==s){if(a){var l=a.split(" ").filter(function(u){return u});l.length&&(i=this._element.classList).remove.apply(i,KO([],kS(l)))}if(s){var l=s.split(" ").filter(function(c){return c});l.length&&(o=this._element.classList).add.apply(o,KO([],kS(l)))}}},e.prototype._lockParentOnRemoved=function(){var t;(t=this.context)===null||t===void 0||t.lock()},e.prototype._unlockParentOnRemoved=function(){var t;(t=this.context)===null||t===void 0||t.unlock()},e.prototype._setTemplateManagerHooks=function(t){var n=t.createDXTemplates,i=t.clearInstantiationModels,o=t.updateTemplates;this._createDXTemplates=n,this._clearInstantiationModels=i,this._updateTemplates=o},e.prototype.renderChildren=function(){var t=this.props.children;return t},e.prototype.renderContent=function(){var t=this,n=this.props.children;return this.isPortalComponent&&n?_.createElement("div",{ref:function(i){i&&t.portalContainer!==i&&(t.portalContainer=i,t.forceUpdate())},style:e.displayContentsStyle()}):this.renderChildren()},e.prototype.renderPortal=function(){return this.portalContainer&&Bu.createPortal(this.renderChildren(),this.portalContainer)},e.prototype.render=function(){return _.createElement(_.Fragment,{},_.createElement("div",this._getElementProps(),this.renderContent(),_.createElement(vBe,{init:this._setTemplateManagerHooks})),this.isPortalComponent&&this.renderPortal())},e.contextType=fQ,e}(_.PureComponent);/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var FBe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LBe=function(r){FBe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var t=this.props.onMounted;t?t(this._createWidget):this._createWidget()},e}(EQ);/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var NBe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kBe=function(r){NBe(e,r);function e(t){var n=r.call(this,t)||this;return n._extensionCreators=[],n._registerExtension=n._registerExtension.bind(n),n}return e.prototype.componentDidMount=function(){r.prototype.componentDidMount.call(this),this._createWidget(),this._createExtensions()},e.prototype.componentWillUnmount=function(){r.prototype.componentWillUnmount.call(this),this.clearExtensions()},e.prototype.clearExtensions=function(){this._extensionCreators=[]},e.prototype.renderChildren=function(){var t=this;return _.Children.map(this.props.children,function(n){return n&&Object.prototype.isPrototypeOf.call(LBe,n.type)?_.cloneElement(n,{onMounted:t._registerExtension}):n})},e.prototype._registerExtension=function(t){this._extensionCreators.push(t)},e.prototype._createExtensions=function(){var t=this;this._extensionCreators.forEach(function(n){return n(t._element)})},e}(EQ);/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var VBe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ze=function(r){VBe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props.children,n=_.Children.map(t,function(i){var o=bQ(i);return o.type===xl.Option?i:null});return _.createElement(_.Fragment,{},n)},e}(_.PureComponent);/*!
 * devextreme-react
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var Xe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xQ=function(r){Xe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._WidgetClass=lN,t.useRequestAnimationFrameFlag=!0,t.subscribableOptions=["columns","editing","editing.changes","editing.editColumnName","editing.editRowKey","filterPanel","filterPanel.filterEnabled","filterValue","focusedColumnIndex","focusedRowIndex","focusedRowKey","groupPanel","groupPanel.visible","paging","paging.pageIndex","paging.pageSize","searchPanel","searchPanel.text","selectedRowKeys","selectionFilter"],t.independentEvents=["onAdaptiveDetailRowPreparing","onCellClick","onCellDblClick","onCellPrepared","onContentReady","onContextMenuPreparing","onDataErrorOccurred","onDisposing","onEditCanceled","onEditCanceling","onEditingStart","onEditorPrepared","onEditorPreparing","onExporting","onFocusedCellChanging","onFocusedRowChanging","onInitialized","onInitNewRow","onKeyDown","onRowClick","onRowCollapsed","onRowCollapsing","onRowDblClick","onRowExpanded","onRowExpanding","onRowInserted","onRowInserting","onRowPrepared","onRowRemoved","onRowRemoving","onRowUpdated","onRowUpdating","onRowValidating","onSaved","onSaving","onToolbarPreparing"],t._defaults={defaultColumns:"columns",defaultEditing:"editing",defaultFilterPanel:"filterPanel",defaultFilterValue:"filterValue",defaultFocusedColumnIndex:"focusedColumnIndex",defaultFocusedRowIndex:"focusedRowIndex",defaultFocusedRowKey:"focusedRowKey",defaultGroupPanel:"groupPanel",defaultPaging:"paging",defaultSearchPanel:"searchPanel",defaultSelectedRowKeys:"selectedRowKeys",defaultSelectionFilter:"selectionFilter"},t._expectedChildren={column:{optionName:"columns",isCollectionItem:!0},columnChooser:{optionName:"columnChooser",isCollectionItem:!1},columnFixing:{optionName:"columnFixing",isCollectionItem:!1},dataGridHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},dataGridSelection:{optionName:"selection",isCollectionItem:!1},editing:{optionName:"editing",isCollectionItem:!1},export:{optionName:"export",isCollectionItem:!1},filterBuilder:{optionName:"filterBuilder",isCollectionItem:!1},filterBuilderPopup:{optionName:"filterBuilderPopup",isCollectionItem:!1},filterPanel:{optionName:"filterPanel",isCollectionItem:!1},filterRow:{optionName:"filterRow",isCollectionItem:!1},grouping:{optionName:"grouping",isCollectionItem:!1},groupPanel:{optionName:"groupPanel",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},keyboardNavigation:{optionName:"keyboardNavigation",isCollectionItem:!1},loadPanel:{optionName:"loadPanel",isCollectionItem:!1},masterDetail:{optionName:"masterDetail",isCollectionItem:!1},pager:{optionName:"pager",isCollectionItem:!1},paging:{optionName:"paging",isCollectionItem:!1},remoteOperations:{optionName:"remoteOperations",isCollectionItem:!1},rowDragging:{optionName:"rowDragging",isCollectionItem:!1},scrolling:{optionName:"scrolling",isCollectionItem:!1},searchPanel:{optionName:"searchPanel",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1},sortByGroupSummaryInfo:{optionName:"sortByGroupSummaryInfo",isCollectionItem:!0},sorting:{optionName:"sorting",isCollectionItem:!1},stateStoring:{optionName:"stateStoring",isCollectionItem:!1},summary:{optionName:"summary",isCollectionItem:!1},toolbar:{optionName:"toolbar",isCollectionItem:!1}},t._templateProps=[{tmplOption:"dataRowTemplate",render:"dataRowRender",component:"dataRowComponent",keyFn:"dataRowKeyFn"},{tmplOption:"rowTemplate",render:"rowRender",component:"rowComponent",keyFn:"rowKeyFn"}],t}return Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(kBe);xQ.propTypes={accessKey:pe.string,activeStateEnabled:pe.bool,allowColumnReordering:pe.bool,allowColumnResizing:pe.bool,autoNavigateToFocusedRow:pe.bool,cacheEnabled:pe.bool,cellHintEnabled:pe.bool,columnAutoWidth:pe.bool,columnChooser:pe.object,columnFixing:pe.object,columnHidingEnabled:pe.bool,columnMinWidth:pe.number,columnResizingMode:pe.oneOfType([pe.string,pe.oneOf(["nextColumn","widget"])]),columns:pe.array,columnWidth:pe.oneOfType([pe.number,pe.oneOfType([pe.string,pe.oneOf(["auto"])])]),customizeColumns:pe.func,dateSerializationFormat:pe.string,disabled:pe.bool,editing:pe.object,elementAttr:pe.object,errorRowEnabled:pe.bool,export:pe.object,filterBuilder:pe.object,filterBuilderPopup:pe.object,filterPanel:pe.object,filterRow:pe.object,filterSyncEnabled:pe.oneOfType([pe.bool,pe.oneOfType([pe.string,pe.oneOf(["auto"])])]),filterValue:pe.oneOfType([pe.array,pe.func,pe.string]),focusedColumnIndex:pe.number,focusedRowEnabled:pe.bool,focusedRowIndex:pe.number,grouping:pe.object,groupPanel:pe.object,headerFilter:pe.object,height:pe.oneOfType([pe.func,pe.number,pe.string]),highlightChanges:pe.bool,hint:pe.string,hoverStateEnabled:pe.bool,keyboardNavigation:pe.object,keyExpr:pe.oneOfType([pe.array,pe.string]),loadPanel:pe.object,masterDetail:pe.object,noDataText:pe.string,onAdaptiveDetailRowPreparing:pe.func,onCellClick:pe.func,onCellDblClick:pe.func,onCellHoverChanged:pe.func,onCellPrepared:pe.func,onContentReady:pe.func,onContextMenuPreparing:pe.func,onDataErrorOccurred:pe.func,onDisposing:pe.func,onEditCanceled:pe.func,onEditCanceling:pe.func,onEditingStart:pe.func,onEditorPrepared:pe.func,onEditorPreparing:pe.func,onExporting:pe.func,onFocusedCellChanged:pe.func,onFocusedCellChanging:pe.func,onFocusedRowChanged:pe.func,onFocusedRowChanging:pe.func,onInitialized:pe.func,onInitNewRow:pe.func,onKeyDown:pe.func,onOptionChanged:pe.func,onRowClick:pe.func,onRowCollapsed:pe.func,onRowCollapsing:pe.func,onRowDblClick:pe.func,onRowExpanded:pe.func,onRowExpanding:pe.func,onRowInserted:pe.func,onRowInserting:pe.func,onRowPrepared:pe.func,onRowRemoved:pe.func,onRowRemoving:pe.func,onRowUpdated:pe.func,onRowUpdating:pe.func,onRowValidating:pe.func,onSaved:pe.func,onSaving:pe.func,onSelectionChanged:pe.func,onToolbarPreparing:pe.func,pager:pe.object,paging:pe.object,remoteOperations:pe.oneOfType([pe.bool,pe.object,pe.oneOfType([pe.string,pe.oneOf(["auto"])])]),renderAsync:pe.bool,repaintChangesOnly:pe.bool,rowAlternationEnabled:pe.bool,rowDragging:pe.object,rtlEnabled:pe.bool,scrolling:pe.object,searchPanel:pe.object,selectedRowKeys:pe.array,selection:pe.object,selectionFilter:pe.oneOfType([pe.array,pe.func,pe.string]),showBorders:pe.bool,showColumnHeaders:pe.bool,showColumnLines:pe.bool,showRowLines:pe.bool,sortByGroupSummaryInfo:pe.array,sorting:pe.object,stateStoring:pe.object,summary:pe.object,syncLookupFilterValues:pe.bool,tabIndex:pe.number,toolbar:pe.object,twoWayBindingEnabled:pe.bool,visible:pe.bool,width:pe.oneOfType([pe.func,pe.number,pe.string]),wordWrapEnabled:pe.bool};(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="animation",e.ExpectedChildren={hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"async"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="at",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="boundaryOffset",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="buttons",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="changes",e.IsCollectionItem=!0,e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="colCountByScreen",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="collision",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="columns",e.IsCollectionItem=!0,e.DefaultsProps={defaultFilterValue:"filterValue",defaultFilterValues:"filterValues",defaultGroupIndex:"groupIndex",defaultSelectedFilterOperation:"selectedFilterOperation",defaultSortIndex:"sortIndex",defaultSortOrder:"sortOrder",defaultVisible:"visible",defaultVisibleIndex:"visibleIndex"},e.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},button:{optionName:"buttons",isCollectionItem:!0},columnHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},columnLookup:{optionName:"lookup",isCollectionItem:!1},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},format:{optionName:"format",isCollectionItem:!1},formItem:{optionName:"formItem",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"cellTemplate",render:"cellRender",component:"cellComponent",keyFn:"cellKeyFn"},{tmplOption:"editCellTemplate",render:"editCellRender",component:"editCellComponent",keyFn:"editCellKeyFn"},{tmplOption:"groupCellTemplate",render:"groupCellRender",component:"groupCellComponent",keyFn:"groupCellKeyFn"},{tmplOption:"headerCellTemplate",render:"headerCellRender",component:"headerCellComponent",keyFn:"headerCellKeyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="columnChooser",e.ExpectedChildren={columnChooserSearch:{optionName:"search",isCollectionItem:!1},columnChooserSelection:{optionName:"selection",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="search",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="selection",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="columnFixing",e.ExpectedChildren={columnFixingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="headerFilter",e.ExpectedChildren={columnHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="search",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="lookup",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"compare"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="cursorOffset",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="customOperations",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"custom"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="headerFilter",e.ExpectedChildren={dataGridHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},dataGridHeaderFilterTexts:{optionName:"texts",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="search",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="selection",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="editing",e.DefaultsProps={defaultChanges:"changes",defaultEditColumnName:"editColumnName",defaultEditRowKey:"editRowKey"},e.ExpectedChildren={change:{optionName:"changes",isCollectionItem:!0},editingTexts:{optionName:"texts",isCollectionItem:!1},form:{optionName:"form",isCollectionItem:!1},popup:{optionName:"popup",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"email"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="export",e.ExpectedChildren={exportTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="fields",e.IsCollectionItem=!0,e.ExpectedChildren={fieldLookup:{optionName:"lookup",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1}},e.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="lookup",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="filterBuilder",e.DefaultsProps={defaultValue:"value"},e.ExpectedChildren={customOperation:{optionName:"customOperations",isCollectionItem:!0},field:{optionName:"fields",isCollectionItem:!0},filterOperationDescriptions:{optionName:"filterOperationDescriptions",isCollectionItem:!1},groupOperationDescriptions:{optionName:"groupOperationDescriptions",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="filterBuilderPopup",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="filterOperationDescriptions",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="filterPanel",e.DefaultsProps={defaultFilterEnabled:"filterEnabled"},e.ExpectedChildren={filterPanelTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="filterRow",e.ExpectedChildren={operationDescriptions:{optionName:"operationDescriptions",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="form",e.DefaultsProps={defaultFormData:"formData"},e.ExpectedChildren={colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="format",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="formItem",e.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="from",e.ExpectedChildren={position:{optionName:"position",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="grouping",e.ExpectedChildren={groupingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="groupItems",e.IsCollectionItem=!0,e.ExpectedChildren={valueFormat:{optionName:"valueFormat",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="groupOperationDescriptions",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="groupPanel",e.DefaultsProps={defaultVisible:"visible"},e})(Ze);var BBe=function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="headerFilter",e}(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="hide",e.ExpectedChildren={from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="keyboardNavigation",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="label",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="loadPanel",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="lookup",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="masterDetail",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="my",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"numeric"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="offset",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="operationDescriptions",e})(Ze);var HBe=function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="pager",e}(Ze),GBe=function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="paging",e.DefaultsProps={defaultPageIndex:"pageIndex",defaultPageSize:"pageSize"},e}(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"pattern"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="popup",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.ExpectedChildren={animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="position",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"range"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="remoteOperations",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"required"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="rowDragging",e.ExpectedChildren={cursorOffset:{optionName:"cursorOffset",isCollectionItem:!1}},e.TemplateProps=[{tmplOption:"dragTemplate",render:"dragRender",component:"dragComponent",keyFn:"dragKeyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="scrolling",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="search",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="searchPanel",e.DefaultsProps={defaultText:"text"},e})(Ze);var $Be=function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="selection",e}(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="show",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="sortByGroupSummaryInfo",e.IsCollectionItem=!0,e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="sorting",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="stateStoring",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"stringLength"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="summary",e.ExpectedChildren={groupItem:{optionName:"groupItems",isCollectionItem:!0},summaryTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1},totalItem:{optionName:"totalItems",isCollectionItem:!0}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="texts",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="to",e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="toolbar",e.ExpectedChildren={item:{optionName:"items",isCollectionItem:!0}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="toolbarItems",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="totalItems",e.IsCollectionItem=!0,e.ExpectedChildren={valueFormat:{optionName:"valueFormat",isCollectionItem:!1}},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"required"},e})(Ze);(function(r){Xe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.OptionName="valueFormat",e})(Ze);var IQ={exports:{}},TQ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=_;function WBe(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var zBe=typeof Object.is=="function"?Object.is:WBe,UBe=ey.useSyncExternalStore,jBe=ey.useRef,KBe=ey.useEffect,qBe=ey.useMemo,YBe=ey.useDebugValue;TQ.useSyncExternalStoreWithSelector=function(r,e,t,n,i){var o=jBe(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=qBe(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&a.hasValue){var f=a.value;if(i(f,p))return d=f}return d=p}if(f=d,zBe(c,p))return f;var v=n(p);return i!==void 0&&i(f,v)?f:(c=p,d=v)}var u=!1,c,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,n,i]);var s=UBe(r,o[0],o[1]);return KBe(function(){a.hasValue=!0,a.value=s},[s]),YBe(s),s};IQ.exports=TQ;var XBe=IQ.exports,Ea="default"in Zf?Uo:Zf,r2=Symbol.for("react-redux-context"),n2=typeof globalThis<"u"?globalThis:{};function QBe(){if(!Ea.createContext)return{};const r=n2[r2]??(n2[r2]=new Map);let e=r.get(Ea.createContext);return e||(e=Ea.createContext(null),r.set(Ea.createContext,e)),e}var id=QBe(),ZBe=()=>{throw new Error("uSES not initialized!")};function NN(r=id){return function(){return Ea.useContext(r)}}var RQ=NN(),OQ=ZBe,JBe=r=>{OQ=r},e1e=(r,e)=>r===e;function t1e(r=id){const e=r===id?RQ:NN(r),t=(n,i={})=>{const{equalityFn:o=e1e,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:s,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();Ea.useRef(!0);const h=Ea.useCallback({[n.name](f){return n(f)}}[n.name],[n,c,a.stabilityCheck]),p=OQ(l.addNestedSub,s.getState,u||s.getState,h,o);return Ea.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var DQ=t1e();function r1e(r){r()}function n1e(){let r=null,e=null;return{clear(){r=null,e=null},notify(){r1e(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var i2={notify(){},get:()=>[]};function i1e(r,e){let t,n=i2,i=0,o=!1;function a(v){c();const g=n.subscribe(v);let m=!1;return()=>{m||(m=!0,g(),d())}}function s(){n.notify()}function l(){f.onStateChange&&f.onStateChange()}function u(){return o}function c(){i++,t||(t=e?e.addNestedSub(l):r.subscribe(l),n=n1e())}function d(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=i2)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const f={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return f}var o1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a1e=o1e?Ea.useLayoutEffect:Ea.useEffect;function s1e({store:r,context:e,children:t,serverState:n,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const a=Ea.useMemo(()=>{const u=i1e(r);return{store:r,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:o}},[r,n,i,o]),s=Ea.useMemo(()=>r.getState(),[r]);a1e(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=e||id;return Ea.createElement(l.Provider,{value:a},t)}var l1e=s1e;function AQ(r=id){const e=r===id?RQ:NN(r),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var u1e=AQ();function c1e(r=id){const e=r===id?u1e:AQ(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var PQ=c1e();JBe(XBe.useSyncExternalStoreWithSelector);function Mi(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var d1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",o2=d1e,qO=()=>Math.random().toString(36).substring(7).split("").join("."),h1e={INIT:`@@redux/INIT${qO()}`,REPLACE:`@@redux/REPLACE${qO()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qO()}`},fE=h1e;function kN(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function MQ(r,e,t){if(typeof r!="function")throw new Error(Mi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Mi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Mi(1));return t(MQ)(r,e)}let n=r,i=e,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((g,m)=>{a.set(m,g)}))}function c(){if(l)throw new Error(Mi(3));return i}function d(g){if(typeof g!="function")throw new Error(Mi(4));if(l)throw new Error(Mi(5));let m=!0;u();const C=s++;return a.set(C,g),function(){if(m){if(l)throw new Error(Mi(6));m=!1,u(),a.delete(C),o=null}}}function h(g){if(!kN(g))throw new Error(Mi(7));if(typeof g.type>"u")throw new Error(Mi(8));if(typeof g.type!="string")throw new Error(Mi(17));if(l)throw new Error(Mi(9));try{l=!0,i=n(i,g)}finally{l=!1}return(o=a).forEach(C=>{C()}),g}function p(g){if(typeof g!="function")throw new Error(Mi(10));n=g,h({type:fE.REPLACE})}function f(){const g=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Mi(11));function C(){const w=m;w.next&&w.next(c())}return C(),{unsubscribe:g(C)}},[o2](){return this}}}return h({type:fE.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[o2]:f}}function p1e(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:fE.INIT})>"u")throw new Error(Mi(12));if(typeof t(void 0,{type:fE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mi(13))})}function f1e(r){const e=Object.keys(r),t={};for(let o=0;o<e.length;o++){const a=e[o];typeof r[a]=="function"&&(t[a]=r[a])}const n=Object.keys(t);let i;try{p1e(t)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],h=t[d],p=a[d],f=h(p,s);if(typeof f>"u")throw s&&s.type,new Error(Mi(14));u[d]=f,l=l||f!==p}return l=l||n.length!==Object.keys(a).length,l?u:a}}function vE(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function v1e(...r){return e=>(t,n)=>{const i=e(t,n);let o=()=>{throw new Error(Mi(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=r.map(l=>l(a));return o=vE(...s)(i.dispatch),{...i,dispatch:o}}}function g1e(r){return kN(r)&&"type"in r&&typeof r.type=="string"}var FQ=Symbol.for("immer-nothing"),a2=Symbol.for("immer-draftable"),Fa=Symbol.for("immer-state");function Bs(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var cv=Object.getPrototypeOf;function od(r){return!!r&&!!r[Fa]}function Pu(r){var e;return r?LQ(r)||Array.isArray(r)||!!r[a2]||!!((e=r.constructor)!=null&&e[a2])||g0(r)||m0(r):!1}var m1e=Object.prototype.constructor.toString();function LQ(r){if(!r||typeof r!="object")return!1;const e=cv(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===m1e}function V_(r,e){v0(r)===0?Object.entries(r).forEach(([t,n])=>{e(t,n,r)}):r.forEach((t,n)=>e(n,t,r))}function v0(r){const e=r[Fa];return e?e.type_:Array.isArray(r)?1:g0(r)?2:m0(r)?3:0}function pM(r,e){return v0(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function NQ(r,e,t){const n=v0(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function _1e(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function g0(r){return r instanceof Map}function m0(r){return r instanceof Set}function $d(r){return r.copy_||r.base_}function fM(r,e){if(g0(r))return new Map(r);if(m0(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);if(!e&&LQ(r))return cv(r)?{...r}:Object.assign(Object.create(null),r);const t=Object.getOwnPropertyDescriptors(r);delete t[Fa];let n=Reflect.ownKeys(t);for(let i=0;i<n.length;i++){const o=n[i],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:r[o]})}return Object.create(cv(r),t)}function VN(r,e=!1){return _0(r)||od(r)||!Pu(r)||(v0(r)>1&&(r.set=r.add=r.clear=r.delete=C1e),Object.freeze(r),e&&V_(r,(t,n)=>VN(n,!0))),r}function C1e(){Bs(2)}function _0(r){return Object.isFrozen(r)}var y1e={};function Yh(r){const e=y1e[r];return e||Bs(0,r),e}var B_;function kQ(){return B_}function S1e(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s2(r,e){e&&(Yh("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function vM(r){gM(r),r.drafts_.forEach(w1e),r.drafts_=null}function gM(r){r===B_&&(B_=r.parent_)}function l2(r){return B_=S1e(B_,r)}function w1e(r){const e=r[Fa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function u2(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Fa].modified_&&(vM(e),Bs(4)),Pu(r)&&(r=gE(e,r),e.parent_||mE(e,r)),e.patches_&&Yh("Patches").generateReplacementPatches_(t[Fa].base_,r,e.patches_,e.inversePatches_)):r=gE(e,t,[]),vM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==FQ?r:void 0}function gE(r,e,t){if(_0(e))return e;const n=e[Fa];if(!n)return V_(e,(i,o)=>c2(r,n,e,i,o,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return mE(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,a=!1;n.type_===3&&(o=new Set(i),i.clear(),a=!0),V_(o,(s,l)=>c2(r,n,i,s,l,t,a)),mE(r,i,!1),t&&r.patches_&&Yh("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function c2(r,e,t,n,i,o,a){if(od(i)){const s=o&&e&&e.type_!==3&&!pM(e.assigned_,n)?o.concat(n):void 0,l=gE(r,i,s);if(NQ(t,n,l),od(l))r.canAutoFreeze_=!1;else return}else a&&t.add(i);if(Pu(i)&&!_0(i)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;gE(r,i),(!e||!e.scope_.parent_)&&mE(r,i)}}function mE(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&VN(e,t)}function b1e(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:kQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=BN;t&&(i=[n],o=H_);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return n.draft_=s,n.revoke_=a,s}var BN={get(r,e){if(e===Fa)return r;const t=$d(r);if(!pM(t,e))return E1e(r,t,e);const n=t[e];return r.finalized_||!Pu(n)?n:n===YO(r.base_,e)?(XO(r),r.copy_[e]=_M(n,r)):n},has(r,e){return e in $d(r)},ownKeys(r){return Reflect.ownKeys($d(r))},set(r,e,t){const n=VQ($d(r),e);if(n!=null&&n.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=YO($d(r),e),o=i==null?void 0:i[Fa];if(o&&o.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(_1e(t,i)&&(t!==void 0||pM(r.base_,e)))return!0;XO(r),mM(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return YO(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,XO(r),mM(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=$d(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Bs(11)},getPrototypeOf(r){return cv(r.base_)},setPrototypeOf(){Bs(12)}},H_={};V_(BN,(r,e)=>{H_[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});H_.deleteProperty=function(r,e){return H_.set.call(this,r,e,void 0)};H_.set=function(r,e,t){return BN.set.call(this,r[0],e,t,r[0])};function YO(r,e){const t=r[Fa];return(t?$d(t):r)[e]}function E1e(r,e,t){var i;const n=VQ(e,t);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(r.draft_):void 0}function VQ(r,e){if(!(e in r))return;let t=cv(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=cv(t)}}function mM(r){r.modified_||(r.modified_=!0,r.parent_&&mM(r.parent_))}function XO(r){r.copy_||(r.copy_=fM(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var x1e=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const a=this;return function(l=o,...u){return a.produce(l,c=>t.call(this,c,...u))}}typeof t!="function"&&Bs(6),n!==void 0&&typeof n!="function"&&Bs(7);let i;if(Pu(e)){const o=l2(this),a=_M(e,void 0);let s=!0;try{i=t(a),s=!1}finally{s?vM(o):gM(o)}return s2(o,n),u2(i,o)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===FQ&&(i=void 0),this.autoFreeze_&&VN(i,!0),n){const o=[],a=[];Yh("Patches").generateReplacementPatches_(e,i,o,a),n(o,a)}return i}else Bs(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...s)=>this.produceWithPatches(a,l=>e(l,...s));let n,i;return[this.produce(e,t,(a,s)=>{n=a,i=s}),n,i]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Pu(r)||Bs(8),od(r)&&(r=BQ(r));const e=l2(this),t=_M(r,void 0);return t[Fa].isManual_=!0,gM(e),t}finishDraft(r,e){const t=r&&r[Fa];(!t||!t.isManual_)&&Bs(9);const{scope_:n}=t;return s2(n,e),u2(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=Yh("Patches").applyPatches_;return od(r)?n(r,e):this.produce(r,i=>n(i,e))}};function _M(r,e){const t=g0(r)?Yh("MapSet").proxyMap_(r,e):m0(r)?Yh("MapSet").proxySet_(r,e):b1e(r,e);return(e?e.scope_:kQ()).drafts_.push(t),t}function BQ(r){return od(r)||Bs(10,r),HQ(r)}function HQ(r){if(!Pu(r)||_0(r))return r;const e=r[Fa];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=fM(r,e.scope_.immer_.useStrictShallowCopy_)}else t=fM(r,!0);return V_(t,(n,i)=>{NQ(t,n,HQ(i))}),e&&(e.finalized_=!1),t}var La=new x1e,GQ=La.produce;La.produceWithPatches.bind(La);La.setAutoFreeze.bind(La);La.setUseStrictShallowCopy.bind(La);La.applyPatches.bind(La);La.createDraft.bind(La);La.finishDraft.bind(La);function I1e(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function T1e(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function R1e(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var d2=r=>Array.isArray(r)?r:[r];function O1e(r){const e=Array.isArray(r[0])?r[0]:r;return R1e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function D1e(r,e){const t=[],{length:n}=r;for(let i=0;i<n;i++)t.push(r[i].apply(null,e));return t}var A1e=class{constructor(r){this.value=r}deref(){return this.value}},P1e=typeof WeakRef<"u"?WeakRef:A1e,M1e=0,h2=1;function VS(){return{s:M1e,v:void 0,o:null,p:null}}function HN(r,e={}){let t=VS();const{resultEqualityCheck:n}=e;let i,o=0;function a(){var d;let s=t;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const f=arguments[h];if(typeof f=="function"||typeof f=="object"&&f!==null){let v=s.o;v===null&&(s.o=v=new WeakMap);const g=v.get(f);g===void 0?(s=VS(),v.set(f,s)):s=g}else{let v=s.p;v===null&&(s.p=v=new Map);const g=v.get(f);g===void 0?(s=VS(),v.set(f,s)):s=g}}const u=s;let c;if(s.s===h2?c=s.v:(c=r.apply(null,arguments),o++),u.s=h2,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new P1e(c):c}return u.v=c,c}return a.clearCache=()=>{t=VS(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function $Q(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),I1e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...t,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=HN,argsMemoizeOptions:f=[],devModeChecks:v={}}=c,g=d2(h),m=d2(f),C=O1e(i),y=d(function(){return o++,u.apply(null,arguments)},...g),w=p(function(){a++;const S=D1e(C,arguments);return s=y.apply(null,S),s},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:C,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var F1e=$Q(HN),L1e=Object.assign((r,e=F1e)=>{T1e(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(o=>r[o]);return e(n,(...o)=>o.reduce((a,s,l)=>(a[t[l]]=s,a),{}))},{withTypes:()=>L1e});function WQ(r){return({dispatch:t,getState:n})=>i=>o=>typeof o=="function"?o(t,n,r):i(o)}var N1e=WQ(),k1e=WQ,V1e=(...r)=>{const e=$Q(...r),t=Object.assign((...n)=>{const i=e(...n),o=(a,...s)=>i(od(a)?BQ(a):a,...s);return Object.assign(o,i),o},{withTypes:()=>t});return t};V1e(HN);var B1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vE:vE.apply(null,arguments)},H1e=r=>r&&typeof r.match=="function";function xu(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(Yo(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>g1e(n)&&n.type===r,t}var zQ=class bm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,bm.prototype)}static get[Symbol.species](){return bm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new bm(...e[0].concat(this)):new bm(...e.concat(this))}};function p2(r){return Pu(r)?GQ(r,()=>{}):r}function f2(r,e,t){if(r.has(e)){let i=r.get(e);return t.update&&(i=t.update(i,e,r),r.set(e,i)),i}if(!t.insert)throw new Error(Yo(10));const n=t.insert(e,r);return r.set(e,n),n}function G1e(r){return typeof r=="boolean"}var $1e=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new zQ;return t&&(G1e(t)?a.push(N1e):a.push(k1e(t.extraArgument))),a},W1e="RTK_autoBatch",UQ=r=>e=>{setTimeout(e,r)},z1e=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UQ(10),U1e=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,o=!1,a=!1;const s=new Set,l=r.type==="tick"?queueMicrotask:r.type==="raf"?z1e:r.type==="callback"?r.queueNotification:UQ(r.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),h=n.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[W1e]),o=!i,o&&(a||(a=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},j1e=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new zQ(r);return n&&i.push(U1e(typeof n=="object"?n:void 0)),i},K1e=!0;function q1e(r){const e=$1e(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=r||{};let s;if(typeof t=="function")s=t;else if(kN(t))s=f1e(t);else throw new Error(Yo(1));let l;typeof n=="function"?l=n(e):l=e();let u=vE;i&&(u=B1e({trace:!K1e,...typeof i=="object"&&i}));const c=v1e(...l),d=j1e(c);let h=typeof a=="function"?a(d):d();const p=u(...h);return MQ(s,o,p)}function jQ(r){const e={},t=[];let n;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(Yo(28));if(s in e)throw new Error(Yo(29));return e[s]=a,i},addMatcher(o,a){return t.push({matcher:o,reducer:a}),i},addDefaultCase(o){return n=o,i}};return r(i),[e,t,n]}function Y1e(r){return typeof r=="function"}function X1e(r,e){let[t,n,i]=jQ(e),o;if(Y1e(r))o=()=>p2(r());else{const s=p2(r);o=()=>s}function a(s=o(),l){let u=[t[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(od(c)){const p=d(c,l);return p===void 0?c:p}else{if(Pu(c))return GQ(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw new Error(Yo(9))}return h}}return c},s)}return a.getInitialState=o,a}var Q1e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KQ=(r=21)=>{let e="",t=r;for(;t--;)e+=Q1e[Math.random()*64|0];return e},Z1e=(r,e)=>H1e(r)?r.match(e):r(e);function J1e(...r){return e=>r.some(t=>Z1e(t,e))}var eHe=["name","message","stack","code"],QO=class{constructor(r,e){uT(this,"_type");this.payload=r,this.meta=e}},v2=class{constructor(r,e){uT(this,"_type");this.payload=r,this.meta=e}},tHe=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of eHe)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},rHe=(()=>{function r(e,t,n){const i=xu(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),o=xu(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),a=xu(e+"/rejected",(l,u,c,d,h)=>({payload:d,error:(n&&n.serializeError||tHe)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function s(l){return(u,c,d)=>{const h=n!=null&&n.idGenerator?n.idGenerator(l):KQ(),p=new AbortController;let f,v;function g(C){v=C,p.abort()}const m=async function(){var w,T;let C;try{let S=(w=n==null?void 0:n.condition)==null?void 0:w.call(n,l,{getState:c,extra:d});if(iHe(S)&&(S=await S),S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((I,R)=>{f=()=>{R({name:"AbortError",message:v||"Aborted"})},p.signal.addEventListener("abort",f)});u(o(h,l,(T=n==null?void 0:n.getPendingMeta)==null?void 0:T.call(n,{requestId:h,arg:l},{getState:c,extra:d}))),C=await Promise.race([x,Promise.resolve(t(l,{dispatch:u,getState:c,extra:d,requestId:h,signal:p.signal,abort:g,rejectWithValue:(I,R)=>new QO(I,R),fulfillWithValue:(I,R)=>new v2(I,R)})).then(I=>{if(I instanceof QO)throw I;return I instanceof v2?i(I.payload,h,l,I.meta):i(I,h,l)})])}catch(S){C=S instanceof QO?a(null,h,l,S.payload,S.meta):a(S,h,l)}finally{f&&p.signal.removeEventListener("abort",f)}return n&&!n.dispatchConditionRejection&&a.match(C)&&C.meta.condition||u(C),C}();return Object.assign(m,{abort:g,requestId:h,arg:l,unwrap(){return m.then(nHe)}})}}return Object.assign(s,{pending:o,rejected:a,fulfilled:i,settled:J1e(a,i),typePrefix:e})}return r.withTypes=()=>r,r})();function nHe(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function iHe(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var oHe=Symbol.for("rtk-slice-createasyncthunk");function aHe(r,e){return`${r}/${e}`}function sHe({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[oHe];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Yo(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(uHe()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(y,w){const T=typeof y=="string"?y:y.type;if(!T)throw new Error(Yo(12));if(T in u.sliceCaseReducersByType)throw new Error(Yo(13));return u.sliceCaseReducersByType[T]=w,c},addMatcher(y,w){return u.sliceMatchers.push({matcher:y,reducer:w}),c},exposeAction(y,w){return u.actionCreators[y]=w,c},exposeCaseReducer(y,w){return u.sliceCaseReducersByName[y]=w,c}};l.forEach(y=>{const w=s[y],T={reducerName:y,type:aHe(o,y),createNotation:typeof i.reducers=="function"};dHe(w)?pHe(T,w,c,e):cHe(T,w,c)});function d(){const[y={},w=[],T=void 0]=typeof i.extraReducers=="function"?jQ(i.extraReducers):[i.extraReducers],S={...y,...u.sliceCaseReducersByType};return X1e(i.initialState,x=>{for(let I in S)x.addCase(I,S[I]);for(let I of u.sliceMatchers)x.addMatcher(I.matcher,I.reducer);for(let I of w)x.addMatcher(I.matcher,I.reducer);T&&x.addDefaultCase(T)})}const h=y=>y,p=new Map;let f;function v(y,w){return f||(f=d()),f(y,w)}function g(){return f||(f=d()),f.getInitialState()}function m(y,w=!1){function T(x){let I=x[y];return typeof I>"u"&&w&&(I=g()),I}function S(x=h){const I=f2(p,w,{insert:()=>new WeakMap});return f2(I,x,{insert:()=>{const R={};for(const[D,A]of Object.entries(i.selectors??{}))R[D]=lHe(A,x,g,w);return R}})}return{reducerPath:y,getSelectors:S,get selectors(){return S(T)},selectSlice:T}}const C={name:o,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...m(a),injectInto(y,{reducerPath:w,...T}={}){const S=w??a;return y.inject({reducerPath:S,reducer:v},T),{...C,...m(S,!0)}}};return C}}function lHe(r,e,t,n){function i(o,...a){let s=e(o);return typeof s>"u"&&n&&(s=t()),r(s,...a)}return i.unwrapped=r,i}var qQ=sHe();function uHe(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function cHe({type:r,reducerName:e,createNotation:t},n,i){let o,a;if("reducer"in n){if(t&&!hHe(n))throw new Error(Yo(17));o=n.reducer,a=n.prepare}else o=n;i.addCase(r,o).exposeCaseReducer(e,o).exposeAction(e,a?xu(r,a):xu(r))}function dHe(r){return r._reducerDefinitionType==="asyncThunk"}function hHe(r){return r._reducerDefinitionType==="reducerWithPrepare"}function pHe({type:r,reducerName:e},t,n,i){if(!i)throw new Error(Yo(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=t,d=i(r,o,c);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(e,{fulfilled:a||BS,pending:s||BS,rejected:l||BS,settled:u||BS})}function BS(){}var fHe=(r,e)=>{if(typeof r!="function")throw new Error(Yo(32))},GN="listenerMiddleware",vHe=r=>{let{type:e,actionCreator:t,matcher:n,predicate:i,effect:o}=r;if(e)i=xu(e).match;else if(t)e=t.type,i=t.match;else if(n)i=n;else if(!i)throw new Error(Yo(21));return fHe(o),{predicate:i,type:e,effect:o}},gHe=Object.assign(r=>{const{type:e,predicate:t,effect:n}=vHe(r);return{id:KQ(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Yo(22))}}},{withTypes:()=>gHe}),mHe=Object.assign(xu(`${GN}/add`),{withTypes:()=>mHe});xu(`${GN}/removeAll`);var _He=Object.assign(xu(`${GN}/remove`),{withTypes:()=>_He});function Yo(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const CHe={selectedUsers:[]},YQ=qQ({name:"users",initialState:CHe,reducers:{storeSelectedUsers:(r,e)=>{r.selectedUsers=e.payload}}}),{storeSelectedUsers:yHe}=YQ.actions,SHe=YQ.reducer,wHe=({formSubmissionData:r})=>{const[e,t]=_.useState([]),[n,i]=_.useState(!1),o=PQ(),a=MF(),s=[{dataField:"firstName",caption:"First Name"},{dataField:"lastName",caption:"Last Name"},{dataField:"age",caption:"Age"},{dataField:"email",caption:"Email"},{dataField:"selectedState",caption:"State"},{dataField:"isIndian",caption:"Indian"}],l=c=>{t(c.selectedRowsData),c.selectedRowKeys.length>0?i(!0):i(!1)},u=()=>{console.log("selectedRows",e),o(yHe(e)),a("/users")};return O.jsxs("div",{className:"data-grid-container",children:[O.jsx("p",{className:"table-title",children:"List Of Users:"}),O.jsxs(xQ,{dataSource:r,columns:s,columnAutoWidth:!0,showColumnLines:!0,showRowLines:!0,rowAlternationEnabled:!0,showBorders:!0,width:"100%",keyExpr:"id",onSelectionChanged:l,children:[O.jsx(BBe,{allowSearch:!0,visible:!0}),O.jsx($Be,{mode:"multiple",selectAllMode:"allPages",showCheckBoxesMode:"always"}),O.jsx(GBe,{enabled:!0,defaultPageSize:5}),O.jsx(HBe,{showInfo:!0,showNavigationButtons:!0})]}),n&&O.jsx("button",{onClick:u,className:"submit-users-btn",children:"Submit"})]})},XQ=r=>{var t,n,i,o;const e={firstName:"",lastName:"",email:"",age:"",selectedState:""};return(t=r.firstName)!=null&&t.trim()||(e.firstName="First Name is required"),(n=r.lastName)!=null&&n.trim()||(e.lastName="Last Name is required"),(i=r.email)!=null&&i.trim()||(e.email="Email is required"),r.isIndian&&!((o=r.selectedState)!=null&&o.trim())&&(e.selectedState="Please select a state"),e},QQ=_.createContext(void 0),bHe=()=>{const r=_.useContext(QQ);if(!r)throw new Error("useMyContext1 must be used within a UserFormContextProvider1");return r},ZQ=({children:r})=>{const[e,t]=_.useState([]);_.useEffect(()=>{const i=localStorage.getItem("userData");i?t(JSON.parse(i)):console.log("no data")},[]);const n=i=>{console.log("test",i),t(i),localStorage.setItem("userData",JSON.stringify(i))};return O.jsx(QQ.Provider,{value:{data:e,updateContextData:n},children:r})};ZQ.propTypes={children:ue.node.isRequired};const EHe="modulepreload",xHe=function(r,e){return new URL(r,e).href},g2={},C0=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.all(t.map(l=>{if(l=xHe(l,n),l in g2)return;g2[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!n)for(let p=o.length-1;p>=0;p--){const f=o[p];if(f.href===l&&(!u||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":EHe,u||(h.as="script",h.crossOrigin=""),h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},IHe=Uo.lazy(()=>C0(()=>import("./select-Dbf0UpRq.js"),__vite__mapDeps([0,1,2]),import.meta.url)),JQ=Uo.lazy(()=>C0(()=>import("./portalModal-x_R3ywci.js"),__vite__mapDeps([3,1,4]),import.meta.url));let HS;const THe=new Uint8Array(16);function RHe(){if(!HS&&(HS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!HS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return HS(THe)}const Oi=[];for(let r=0;r<256;++r)Oi.push((r+256).toString(16).slice(1));function OHe(r,e=0){return Oi[r[e+0]]+Oi[r[e+1]]+Oi[r[e+2]]+Oi[r[e+3]]+"-"+Oi[r[e+4]]+Oi[r[e+5]]+"-"+Oi[r[e+6]]+Oi[r[e+7]]+"-"+Oi[r[e+8]]+Oi[r[e+9]]+"-"+Oi[r[e+10]]+Oi[r[e+11]]+Oi[r[e+12]]+Oi[r[e+13]]+Oi[r[e+14]]+Oi[r[e+15]]}const DHe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),m2={randomUUID:DHe};function eZ(r,e,t){if(m2.randomUUID&&!e&&!r)return m2.randomUUID();r=r||{};const n=r.random||(r.rng||RHe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return OHe(n)}const Rg=Uo.lazy(()=>C0(()=>import("./inputfield-ybNpIhpz.js"),__vite__mapDeps([5,1,6]),import.meta.url)),AHe=()=>{const{data:r,updateContextData:e}=bHe(),[t,n]=_.useState(!1),[i,o]=_.useState([]);_.useEffect(()=>{r&&o(r)},[r]);const[a,s]=_.useState({id:"",firstName:"",lastName:"",email:"",age:void 0,selectedState:"",isIndian:!1,statesData:[]}),[l,u]=_.useState({firstName:"",lastName:"",email:"",age:"",selectedState:""});_.useEffect(()=>{c()},[]);const c=async()=>{try{const y=await(await fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states")).json();s({...a,statesData:y.states})}catch(C){console.log(C)}},d=C=>{let y=!1;return r==null||r.map(w=>{w.email===C.email&&(y=!0)}),console.log("check",y),y},h=C=>{const{name:y,value:w}=C.target;s({...a,[y]:w})},p=C=>{const y=C.target.value;s({...a,selectedState:y})},f=C=>{C.preventDefault();const y=eZ(),w=XQ(a);if(w.firstName===""&&w.lastName===""&&w.email===""&&w.email===""&&w.age===""){const T=a.isIndian?"Yes":"No",S=a.selectedState===""?"_":a.selectedState,x={id:y,firstName:a.firstName,lastName:a.lastName,age:a.age,email:a.email,isIndian:T,selectedState:S},I=[...i];d(x)?n(!0):(I.push(x),o(I),e(I),m())}else u(w)},v=()=>{s({...a,isIndian:!a.isIndian})},g=C=>{const{name:y,value:w}=C.target;let T="";switch(y){case"firstName":/^[a-zA-Z]+$/.test(w)||(T="Only alphabets are allowed");break;case"lastName":/^[a-zA-Z]+$/.test(w)||(T="Only alphabets are allowed");break;case"age":/^\d+$/.test(w)||(T="Age must be a number");break;case"email":/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(w)||(T="Invalid email address");break}u({...l,[y]:T})},m=()=>{s({firstName:"",lastName:"",email:"",age:void 0,selectedState:"",statesData:a.statesData,isIndian:!1}),u({firstName:"",lastName:"",email:"",age:"",selectedState:""})};return O.jsxs("div",{className:"total-container",children:[O.jsxs(mse,{className:"form-container",action:"/users",method:"POST",onSubmit:f,children:[O.jsx("h2",{className:"form-title",children:"User Details"}),O.jsx(Rg,{labelText:"First Name",name:"firstName",onChange:h,value:a.firstName??"",onBlur:g}),l.firstName&&O.jsx("div",{className:"error-message",children:l.firstName}),O.jsx(Rg,{labelText:"Last Name",name:"lastName",onChange:h,value:a.lastName??"",onBlur:g}),l.lastName&&O.jsx("div",{className:"error-message",children:l.lastName}),O.jsx(Rg,{labelText:"Email",inputType:"email",name:"email",onChange:h,value:a.email??"",onBlur:g}),l.firstName&&O.jsx("div",{className:"error-message",children:l.email}),O.jsx(Rg,{labelText:"Age",name:"age",onChange:h,value:a.age??"",inputType:"number"}),l.age&&O.jsx("div",{className:"error-message",children:l.age}),O.jsx("div",{className:"radio-btns-wrapper",children:O.jsxs("div",{className:"radio-btns-container",children:[O.jsx("span",{children:"Are you an Indian?"}),O.jsx(Rg,{inputType:"radio",labelText:"",checked:a.isIndian,name:"yes",value:"yes",onChange:v,onBlur:g}),O.jsx("p",{className:"label-yes",children:"Yes"})]})}),(a==null?void 0:a.isIndian)&&O.jsx(IHe,{data:a,onChangefunction:p,errors:l,selectLabel:"Select State",defaultOption:"Andhra Pradesh"}),O.jsxs("div",{className:"btn-container",children:[O.jsx("button",{className:"submit-btn",type:"submit",children:"Submit"}),O.jsx("button",{type:"button",onClick:m,className:"reset-btn",children:"Reset"})]})]}),(r==null?void 0:r.length)>0&&O.jsx(wHe,{formSubmissionData:i}),t&&O.jsx("div",{className:"clipping-container ",children:O.jsx(JQ,{showModal:t,setShowModal:n,modalText:"User already Exist"})})]})};var tZ={},y0={},rZ={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */function Dl(r){return r==null||r===""?null:r}function Ee(r,e){return e===void 0&&(e=!1),r!=null&&(r!==""||e)}function At(r){return!Ee(r)}function Sa(r){return r==null||r.length===0}function G_(r){return r!=null&&typeof r.toString=="function"?r.toString():null}function Kc(r){if(r!==void 0){if(r===null||r==="")return null;if(typeof r=="number")return isNaN(r)?void 0:r;var e=parseInt(r,10);return isNaN(e)?void 0:e}}function _E(r){if(r!==void 0)return r===null||r===""?!1:typeof r=="boolean"?r:/true/i.test(r)}function PHe(r){if(!(r==null||r===""))return r}function CM(r,e){var t=r?JSON.stringify(r):null,n=e?JSON.stringify(e):null;return t===n}function MHe(r,e,t){t===void 0&&(t=!1);var n=r==null,i=e==null;if(r&&r.toNumber&&(r=r.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(a,s){return a>s?1:a<s?-1:0}if(typeof r!="string"||!t)return o(r,e);try{return r.localeCompare(e)}catch{return o(r,e)}}function wh(r){if(r instanceof Set||r instanceof Map){var e=[];return r.forEach(function(t){return e.push(t)}),e}return Object.values(r)}var FHe=Object.freeze({__proto__:null,makeNull:Dl,exists:Ee,missing:At,missingOrEmpty:Sa,toStringOrNull:G_,attrToNumber:Kc,attrToBoolean:_E,attrToString:PHe,jsonEquals:CM,defaultComparator:MHe,values:wh}),nZ=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},r.prototype.getUniqueKey=function(e,t){e=G_(e);for(var n=0;;){var i=void 0;if(e?(i=e,n!==0&&(i+="_"+n)):t?(i=t,n!==0&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}},r}(),LHe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NHe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};function Qi(r,e){var t,n;if(r!=null){if(Array.isArray(r)){for(var i=0;i<r.length;i++)e(i.toString(),r[i]);return}try{for(var o=LHe(Object.entries(r)),a=o.next();!a.done;a=o.next()){var s=NHe(a.value,2),l=s[0],u=s[1];e(l,u)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}function $N(r){for(var e={},t=Object.keys(r),n=0;n<t.length;n++){var i=t[n],o=r[i];e[i]=o}return e}function CE(r,e){if(r){var t=r,n={};return Object.keys(t).forEach(function(i){if(!(e&&e.indexOf(i)>=0)){var o=t[i],a=yE(o)&&o.constructor===Object;a?n[i]=CE(o):n[i]=o}}),n}}function ad(r){if(!r)return[];var e=Object;if(typeof e.values=="function")return e.values(r);var t=[];for(var n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&t.push(r[n]);return t}function xa(r,e,t,n){t===void 0&&(t=!0),n===void 0&&(n=!1),Ee(e)&&Qi(e,function(i,o){var a=r[i];if(a!==o){if(n){var s=a==null&&o!=null;if(s){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(a={},r[i]=a)}}yE(o)&&yE(a)&&!Array.isArray(a)?xa(a,o,t,n):(t||o!==void 0)&&(r[i]=o)}})}function Wf(r,e,t){if(!(!e||!r)){if(!t)return r[e];for(var n=e.split("."),i=r,o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}}function iZ(r,e,t){e===void 0&&(e=[]),Object.keys(r).forEach(function(a){var s=r[a];typeof s=="object"&&!e.includes(a)&&(r[a]=void 0)});var n=Object.getPrototypeOf(r),i={},o=function(a){return"AG Grid: Grid API function ".concat(a,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(t)};Object.getOwnPropertyNames(n).forEach(function(a){var s=n[a];if(typeof s=="function"&&!e.includes(a)){var l=function(){console.warn(o(a))};i[a]={value:l,writable:!0}}}),Object.defineProperties(r,i)}function yE(r){return typeof r=="object"&&r!==null}var kHe=Object.freeze({__proto__:null,iterateObject:Qi,cloneObject:$N,deepCloneDefinition:CE,getAllValuesInObject:ad,mergeDeep:xa,getValueUsingField:Wf,removeAllReferences:iZ,isNonNullObject:yE}),_2={};function bh(r,e){_2[e]||(r(),_2[e]=!0)}function Tt(r){bh(function(){return console.warn("AG Grid: "+r)},r)}function Hs(r){bh(function(){return console.error("AG Grid: "+r)},r)}function S0(r){if(r.name)return r.name;var e=/function\s+([^\(]+)/.exec(r.toString());return e&&e.length===2?e[1].trim():null}function w0(r){return!!(r&&r.constructor&&r.call&&r.apply)}function oZ(r){aZ(r,400)}var ZO=[],JO=!1;function yM(r){ZO.push(r),!JO&&(JO=!0,window.setTimeout(function(){var e=ZO.slice();ZO.length=0,JO=!1,e.forEach(function(t){return t()})},0))}function aZ(r,e){e===void 0&&(e=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(t){return t()})},e)}function Ia(r,e){var t;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this;window.clearTimeout(t),t=window.setTimeout(function(){r.apply(o,n)},e)}}function SM(r,e){var t=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,a=new Date().getTime();a-t<e||(t=a,r.apply(o,n))}}function WN(r,e,t,n){t===void 0&&(t=100);var i=new Date().getTime(),o=null,a=!1,s=function(){var l=new Date().getTime()-i>t;(r()||l)&&(e(),a=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};s(),a||(o=window.setInterval(s,10))}function VHe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return r.reduce(function(n,i){return i(n)},t)}}var BHe=function(){},HHe=Object.freeze({__proto__:null,doOnce:bh,warnOnce:Tt,errorOnce:Hs,getFunctionName:S0,isFunction:w0,executeInAWhile:oZ,executeNextVMTurn:yM,executeAfter:aZ,debounce:Ia,throttle:SM,waitUntil:WN,compose:VHe,noop:BHe}),Ct;(function(r){r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue"})(Ct||(Ct={}));var Og=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},C2=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Nr=function(){function r(){}return r.register=function(e){r.__register(e,!0,void 0)},r.registerModules=function(e){r.__registerModules(e,!0,void 0)},r.__register=function(e,t,n){r.runVersionChecks(e),n!==void 0?(r.areGridScopedModules=!0,r.gridModulesMap[n]===void 0&&(r.gridModulesMap[n]={}),r.gridModulesMap[n][e.moduleName]=e):r.globalModulesMap[e.moduleName]=e,r.setModuleBased(t)},r.__unRegisterGridModules=function(e){delete r.gridModulesMap[e]},r.__registerModules=function(e,t,n){r.setModuleBased(t),e&&e.forEach(function(i){return r.__register(i,t,n)})},r.isValidModuleVersion=function(e){var t=Og(e.version.split(".")||[],2),n=t[0],i=t[1],o=Og(r.currentModuleVersion.split(".")||[],2),a=o[0],s=o[1];return n===a&&i===s},r.runVersionChecks=function(e){if(r.currentModuleVersion||(r.currentModuleVersion=e.version),e.version?r.isValidModuleVersion(e)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is version ").concat(e.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is incompatible. Please update all modules to the same version.")),e.validate){var t=e.validate();if(!t.isValid){var n=t;console.error("AG Grid: ".concat(n.message))}}},r.setModuleBased=function(e){r.moduleBased===void 0?r.moduleBased=e:r.moduleBased!==e&&bh(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.__setIsBundled=function(){r.isBundled=!0},r.__assertRegistered=function(e,t,n){var i;if(this.__isRegistered(e,n))return!0;var o=t+e,a;if(r.isBundled)a="AG Grid: unable to use ".concat(t,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(r.moduleBased||r.moduleBased===void 0){var s=(i=Object.entries(Ct).find(function(l){var u=Og(l,2);u[0];var c=u[1];return c===e}))===null||i===void 0?void 0:i[0];a="AG Grid: unable to use ".concat(t," as the ").concat(s," is not registered").concat(r.areGridScopedModules?" for gridId: ".concat(n):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(s," } from '").concat(e,`';
    
    ModuleRegistry.registerModules([ `).concat(s,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else a="AG Grid: unable to use ".concat(t,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return bh(function(){console.warn(a)},o),!1},r.__warnEnterpriseChartDisabled=function(e){var t="ag-charts-enterprise",n=t+":"+e,i="https://ag-grid.com/javascript-data-grid/integrated-charts/",o="AG Grid: the '".concat(e,"' chart type is not supported in AG Charts Community. See ").concat(i," for more details.");bh(function(){console.warn(o)},n)},r.__isRegistered=function(e,t){var n;return!!r.globalModulesMap[e]||!!(!((n=r.gridModulesMap[t])===null||n===void 0)&&n[e])},r.__getRegisteredModules=function(e){return C2(C2([],Og(wh(r.globalModulesMap)),!1),Og(wh(r.gridModulesMap[e]||{})),!1)},r.__getGridRegisteredModules=function(e){var t;return wh((t=r.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]},r.__isPackageBased=function(){return!r.moduleBased},r.globalModulesMap={},r.gridModulesMap={},r.areGridScopedModules=!1,r}(),GHe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},$He=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},sZ=function(){function r(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return wh(this.beanWrappers).map(function(e){return e.beanInstance})},r.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},r.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),Ee(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},r.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Qi(this.beanWrappers,function(n,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=e.getBeansForParameters(o,i.bean.name),s=new(i.bean.bind.apply(i.bean,$He([null],GHe(a),!1)));i.beanInstance=s});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(t))},r.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var n=void 0;e.prototype.constructor?n=S0(e.prototype.constructor):n=""+e,console.error("Context item ".concat(n," is not a bean"));return}var i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i},r.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(i,o){var a=i.agClassAttributes;a&&a.forEach(function(s){var l=t.lookupBeanInstance(o,s.beanName,s.optional);n[s.attributeName]=l})})})},r.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(i,o){Qi(i.autowireMethods,function(a,s){if(a!=="agConstructor"){var l=t.getBeansForParameters(s,o);n[a].apply(n,l)}})})})},r.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);n!=null;){var i=n.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,a=this.getBeanName(i);t(o,a)}n=Object.getPrototypeOf(n)}},r.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),n=t.substring(9,t.indexOf("("));return n},r.prototype.getBeansForParameters=function(e,t){var n=this,i=[];return e&&Qi(e,function(o,a){var s=n.lookupBeanInstance(t,a);i[Number(o)]=s}),i},r.prototype.lookupBeanInstance=function(e,t,n){if(n===void 0&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(t," is used after the grid is destroyed!")),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var i=this.beanWrappers[t];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference ".concat(t," while initialising ").concat(e)),null)},r.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach(function(i){return n.callLifeCycleMethodsOnBean(i,t)})},r.prototype.callLifeCycleMethodsOnBean=function(e,t,n){var i={};this.forEachMetaDataInHierarchy(e,function(a){var s=a[t];s&&s.forEach(function(l){l!=n&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(a){return e[a]()})},r.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,Nr.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},r.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(n){t.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy");var i=n;typeof i.destroy=="function"&&i.destroy()}),[]):[]},r.prototype.isDestroyed=function(){return this.destroyed},r.prototype.getGridId=function(){return this.contextParams.gridId},r}();function wM(r,e,t){var n=Xh(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function Fe(r,e,t){var n=Xh(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function Ji(r,e,t){var n=Xh(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function et(r){return function(e){var t=Xh(e);t.beanName=r}}function k(r){return function(e,t,n){lZ(e,r,!1,e,t,null)}}function Cr(r){return function(e,t,n){lZ(e,r,!0,e,t,null)}}function lZ(r,e,t,n,i,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var a=Xh(r.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:i,beanName:e,optional:t})}function Ta(r){return function(e,t,n){var i=typeof e=="function"?e:e.constructor,o;if(typeof n=="number"){var a=void 0;t?(o=Xh(i),a=t):(o=Xh(i),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][n]=r}}}function Xh(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var y2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},GS=function(r,e){return function(t,n){e(t,n,r)}},qu=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(e,t,n,i){if(n===void 0&&(n=null),i===void 0&&(i=null),this.frameworkOverrides=t,this.gridOptionsService=e,n){var o=e.useAsyncEvents();this.addGlobalListener(n,o)}i&&this.addGlobalListener(i,!1)},r.prototype.setFrameworkOverrides=function(e){this.frameworkOverrides=e},r.prototype.getListeners=function(e,t,n){var i=t?this.allAsyncListeners:this.allSyncListeners,o=i.get(e);return!o&&n&&(o=new Set,i.set(e,o)),o},r.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},r.prototype.addEventListener=function(e,t,n){n===void 0&&(n=!1),this.getListeners(e,n,!0).add(t)},r.prototype.removeEventListener=function(e,t,n){n===void 0&&(n=!1);var i=this.getListeners(e,n,!1);if(i&&(i.delete(t),i.size===0)){var o=n?this.allAsyncListeners:this.allSyncListeners;o.delete(e)}},r.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},r.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},r.prototype.dispatchEvent=function(e){var t=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},r.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},r.prototype.dispatchToListeners=function(e,t){var n=this,i,o=e.type;if(t&&"event"in e){var a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}var s=function(d,h){return d.forEach(function(p){if(h.has(p)){var f=n.frameworkOverrides?function(){return n.frameworkOverrides.wrapIncoming(function(){return p(e)})}:function(){return p(e)};t?n.dispatchAsync(f):f()}})},l=(i=this.getListeners(o,t,!1))!==null&&i!==void 0?i:new Set,u=new Set(l);u.size>0&&s(u,l);var c=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){var h=n.frameworkOverrides?function(){return n.frameworkOverrides.wrapIncoming(function(){return d(o,e)})}:function(){return d(o,e)};t?n.dispatchAsync(h):h()})},r.prototype.dispatchAsync=function(e){var t=this;this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(t.flushAsyncQueue.bind(t),0)}),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},y2([GS(0,Ta("gridOptionsService")),GS(1,Ta("frameworkOverrides")),GS(2,Ta("globalEventListener")),GS(3,Ta("globalSyncEventListener"))],r.prototype,"setBeans",null),r=y2([et("eventService")],r),r}(),zN=function(){function r(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return r.prototype.wrap=function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(i){t.frameworkOverrides.wrapOutgoing(function(){return e(i)})},this.wrappedListeners.set(e,n)),n},r.prototype.wrapGlobal=function(e){var t=this,n=e;return this.frameworkOverrides.shouldWrapOutgoing&&(n=function(i,o){t.frameworkOverrides.wrapOutgoing(function(){return e(i,o)})},this.wrappedGlobalListeners.set(e,n)),n},r.prototype.unwrap=function(e){var t;return(t=this.wrappedListeners.get(e))!==null&&t!==void 0?t:e},r.prototype.unwrapGlobal=function(e){var t;return(t=this.wrappedGlobalListeners.get(e))!==null&&t!==void 0?t:e},r}(),Dg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},WHe={resizable:!0,sortable:!0},zHe=0;function uZ(){return zHe++}var Kr=function(){function r(e,t,n,i){this.instanceId=uZ(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new qu,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.setState(e)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);var t=e.sortIndex,n=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);var i=e.hide,o=e.initialHide;i!==void 0?this.visible=!i:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var a=e.flex,s=e.initialFlex;a!==void 0?this.flex=a:s!==void 0&&(this.flex=s)},r.prototype.setColDef=function(e,t,n){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(e){this.parent=e},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},r.prototype.initDotNotation=function(){var e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=Ee(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Ee(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},r.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},r.prototype.initTooltip=function(){this.tooltipEnabled=Ee(this.colDef.tooltipField)||Ee(this.colDef.tooltipValueGetter)||Ee(this.colDef.tooltipComponent)},r.prototype.resetActualWidth=function(e){var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(e){if(At(this.colDef)||At(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.addEventListener=function(e,t){var n,i;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new zN(this.frameworkOverrides));var o=(i=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.wrap(t))!==null&&i!==void 0?i:t;this.eventService.addEventListener(e,o)},r.prototype.removeEventListener=function(e,t){var n,i,o=(i=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.unwrap(t))!==null&&i!==void 0?i:t;this.eventService.removeEventListener(e,o)},r.prototype.createColumnFunctionCallbackParams=function(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})},r.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1},r.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},r.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},r.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},r.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},r.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},r.prototype.getColDefValue=function(e){var t;return(t=this.colDef[e])!==null&&t!==void 0?t:WHe[e]},r.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var n=this.createColumnFunctionCallbackParams(e),i=t;return i(n)}return!1},r.prototype.setMoving=function(e,t){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},r.prototype.createColumnEvent=function(e,t){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:t})},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(e,t){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},r.prototype.setMenuVisible=function(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},r.prototype.isSortAscending=function(){return this.sort==="asc"},r.prototype.isSortDescending=function(){return this.sort==="desc"},r.prototype.isSortNone=function(){return At(this.sort)},r.prototype.isSorting=function(){return Ee(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},r.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(e,t,n){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var i=this.createColumnEvent("filterChanged",t);n&&xa(i,n),this.eventService.dispatchEvent(i)},r.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},r.prototype.setPinned=function(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},r.prototype.setFirstRightPinned=function(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},r.prototype.setLastLeftPinned=function(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},r.prototype.isPinnedLeft=function(){return this.pinned==="left"},r.prototype.isPinnedRight=function(){return this.pinned==="right"},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(e,t){var n=e===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},r.prototype.isVisible=function(){return this.visible},r.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},r.prototype.getColumnGroupPaddingInfo=function(){var e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var t=e.getPaddingLevel()+1,n=!0;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.colId},r.prototype.getUniqueId=function(){return this.colId},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},r.prototype.createBaseColDefParams=function(e){var t=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this});return t},r.prototype.getColSpan=function(e){if(At(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},r.prototype.getRowSpan=function(e){if(At(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},r.prototype.setActualWidth=function(e,t,n){n===void 0&&(n=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},r.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},r.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},r.prototype.setMinimum=function(e){Ee(this.minWidth)&&this.setActualWidth(this.minWidth,e)},r.prototype.setRowGroupActive=function(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},r.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},r.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},r.prototype.getMenuTabs=function(e){Tt("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");var t=this.getColDef().menuTabs;return t==null&&(t=e),t},r.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:r.EVENT_STATE_UPDATED,key:e})},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",r.EVENT_STATE_UPDATED="columnStateUpdated",Dg([k("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Dg([k("columnUtils")],r.prototype,"columnUtils",void 0),Dg([k("columnHoverService")],r.prototype,"columnHoverService",void 0),Dg([k("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),Dg([Fe],r.prototype,"initialise",null),r}(),UHe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Rn=function(){function r(e,t,n,i){this.localEventService=new qu,this.expandable=!1,this.instanceId=uZ(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=i}return r.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},r.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:r.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(e){this.children=e},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(t){t instanceof Kr?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},r.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",t)}),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",t)}),e.expandableListenerRemoveCallback=null}},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding(),o=0,a=i.length;o<a;o++){var s=i[o];if(s.isVisible()){var l=s.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}}var u=e&&t&&n;if(this.expandable!==u){this.expandable=u;var c={type:r.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},r.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(n){n.forEach(function(i){var o=i instanceof r&&i.isPadding();o?t(i.children):e.push(i)})};return t(this.children),e},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",UHe([Ji],r.prototype,"destroy",null),r}(),jHe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function KHe(r){return r!=null&&r.length>0}function Dr(r){if(!(!r||!r.length))return r[r.length-1]}function fu(r,e,t){return r==null&&e==null?!0:r!=null&&e!=null&&r.length===e.length&&r.every(function(n,i){return t?t(n,e[i]):e[i]===n})}function qHe(r,e){return fu(r,e)}function cZ(r){return r.sort(function(e,t){return e-t})}function YHe(r,e){if(r)for(var t=r.length-2;t>=0;t--){var n=r[t]===e,i=r[t+1]===e;n&&i&&r.splice(t+1,1)}}function UN(r,e){var t=r.indexOf(e);t>=0&&(r[t]=r[r.length-1],r.pop())}function Go(r,e){var t=r.indexOf(e);t>=0&&r.splice(t,1)}function dZ(r,e){for(var t=0;t<e.length;t++)UN(r,e[t])}function hZ(r,e){for(var t=0;t<e.length;t++)Go(r,e[t])}function $_(r,e,t){r.splice(t,0,e)}function XHe(r,e,t){if(!(r==null||e==null))for(var n=e.length-1;n>=0;n--){var i=e[n];$_(r,i,t)}}function bM(r,e,t){hZ(r,e),e.slice().reverse().forEach(function(n){return $_(r,n,t)})}function $s(r,e){return r.indexOf(e)>-1}function pZ(r){return[].concat.apply([],r)}function EM(r,e){e==null||r==null||e.forEach(function(t){return r.push(t)})}function QHe(r){return r.map(G_)}function ZHe(r,e){if(r!=null)for(var t=r.length-1;t>=0;t--)e(r[t],t)}var JHe=Object.freeze({__proto__:null,existsAndNotEmpty:KHe,last:Dr,areEqual:fu,shallowCompare:qHe,sortNumerically:cZ,removeRepeatsFromArray:YHe,removeFromUnorderedArray:UN,removeFromArray:Go,removeAllFromUnorderedArray:dZ,removeAllFromArray:hZ,insertIntoArray:$_,insertArrayIntoArray:XHe,moveInArray:bM,includes:$s,flatten:pZ,pushAll:EM,toStrings:QHe,forEachReverse:ZHe}),fZ="__ag_Grid_Stop_Propagation",eGe=["touchstart","touchend","touchmove","touchcancel","scroll"],eD={};function Ys(r){r[fZ]=!0}function Ws(r){return r[fZ]===!0}var jN=function(){var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof eD[t]=="boolean")return eD[t];var n=document.createElement(r[t]||"div");return t="on"+t,eD[t]=t in n};return e}();function SE(r,e,t){for(var n=e;n;){var i=r.getDomData(n,t);if(i)return i;n=n.parentElement}return null}function wE(r,e){return!e||!r?!1:gZ(e).indexOf(r)>=0}function vZ(r){for(var e=[],t=r.target;t;)e.push(t),t=t.parentElement;return e}function gZ(r){var e=r;return e.path?e.path:e.composedPath?e.composedPath():vZ(e)}function mZ(r,e,t,n){var i=$s(eGe,t),o=i?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(e,t,n,o)}var tGe=Object.freeze({__proto__:null,stopPropagationForAgGrid:Ys,isStopPropagationForAgGrid:Ws,isEventSupported:jN,getCtrlForEventTarget:SE,isElementInEventPath:wE,createEventPath:vZ,getEventPath:gZ,addSafePassiveEventListener:mZ}),Pd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Re=function(){function r(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!e.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new qu),this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},r.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},r.prototype.addManagedListener=function(e,t,n){var i=this;if(!this.destroyed){e instanceof HTMLElement?mZ(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var o=function(){return e.removeEventListener(t,n),i.destroyFunctions=i.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.setupGridOptionListener=function(e,t){var n=this;this.gridOptionsService.addEventListener(e,t);var i=function(){return n.gridOptionsService.removeEventListener(e,t),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==i}),null};return this.destroyFunctions.push(i),i},r.prototype.addManagedPropertyListener=function(e,t){return this.destroyed?function(){return null}:this.setupGridOptionListener(e,t)},r.prototype.addManagedPropertyListeners=function(e,t){var n=this;if(!this.destroyed){var i=e.join("-")+this.propertyListenerId++,o=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===n.lastChangeSetIdLookup[i])return;n.lastChangeSetIdLookup[i]=a.changeSet.id}var s={type:"gridPropertyChanged",changeSet:a.changeSet,source:a.source};t(s)};e.forEach(function(a){return n.setupGridOptionListener(a,o)})}},r.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},r.prototype.createManagedBean=function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n},r.prototype.createBean=function(e,t,n){return(t||this.getContext()).createBean(e,n)},r.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},r.prototype.destroyBeans=function(e,t){var n=this;return e&&e.forEach(function(i){return n.destroyBean(i,t)}),[]},r.EVENT_DESTROYED="destroyed",Pd([k("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),Pd([k("context")],r.prototype,"context",void 0),Pd([k("eventService")],r.prototype,"eventService",void 0),Pd([k("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Pd([k("localeService")],r.prototype,"localeService",void 0),Pd([k("environment")],r.prototype,"environment",void 0),Pd([Ji],r.prototype,"destroy",null),r}(),rGe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$S=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nGe=function(r,e){return function(t,n){e(t,n,r)}},_Z=function(r){rGe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,n,i,o){var a=new nZ,s=this.extractExistingTreeData(i),l=s.existingCols,u=s.existingGroups,c=s.existingColKeys;a.addExistingKeys(c);var d=this.recursivelyCreateColumns(t,0,n,l,a,u,o),h=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+h);var p=this.balanceColumnTree(d,0,h,a),f=function(v,g){v instanceof Rn&&v.setupExpandable(),v.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,p,f),{columnTree:p,treeDept:h}},e.prototype.extractExistingTreeData=function(t){var n=[],i=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(a){if(a instanceof Rn){var s=a;i.push(s)}else{var l=a;o.push(l.getId()),n.push(l)}}),{existingCols:n,existingGroups:i,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,n){var i=this;return t.map(function(o){return i.createAutoGroupTreeItem(n,o)})},e.prototype.createAutoGroupTreeItem=function(t,n){for(var i=this.findDepth(t),o=n,a=i-1;a>=0;a--){var s=new Rn(null,"FAKE_PATH_".concat(n.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return i===0&&n.setOriginalParent(null),o},e.prototype.findDepth=function(t){for(var n=0,i=t;i&&i[0]&&i[0]instanceof Rn;)n++,i=i[0].getChildren();return n},e.prototype.balanceColumnTree=function(t,n,i,o){for(var a=[],s=0;s<t.length;s++){var l=t[s];if(l instanceof Rn){var u=l,c=this.balanceColumnTree(u.getChildren(),n+1,i,o);u.setChildren(c),a.push(u)}else{for(var d=void 0,h=void 0,p=i-1;p>=n;p--){var f=o.getUniqueKey(null,null),v=this.createMergedColGroupDef(null),g=new Rn(v,f,!0,n);this.createBean(g),h&&h.setChildren([g]),h=g,d||(d=h)}if(d&&h){a.push(d);var m=t.some(function(C){return C instanceof Rn});if(m){h.setChildren([l]);continue}else{h.setChildren(t);break}}a.push(l)}}return a},e.prototype.findMaxDept=function(t,n){for(var i=n,o=0;o<t.length;o++){var a=t[o];if(a instanceof Rn){var s=a,l=this.findMaxDept(s.getChildren(),n+1);i<l&&(i=l)}}return i},e.prototype.recursivelyCreateColumns=function(t,n,i,o,a,s,l){if(!t)return[];for(var u=new Array(t.length),c=0;c<u.length;c++){var d=t[c];this.isColumnGroup(d)?u[c]=this.createColumnGroup(i,d,n,o,a,s,l):u[c]=this.createColumn(i,d,o,a,l)}return u},e.prototype.createColumnGroup=function(t,n,i,o,a,s,l){var u=this.createMergedColGroupDef(n),c=a.getUniqueKey(u.groupId||null,null),d=new Rn(u,c,!1,i);this.createBean(d);var h=this.findExistingGroup(n,s);h&&s.splice(h.idx,1);var p=h==null?void 0:h.group;p&&d.setExpanded(p.isExpanded());var f=this.recursivelyCreateColumns(u.children,i+1,t,o,a,s,l);return d.setChildren(f),d},e.prototype.createMergedColGroupDef=function(t){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,t),n},e.prototype.createColumn=function(t,n,i,o,a){var s=this.findExistingColumn(n,i);s&&(i==null||i.splice(s.idx,1));var l=s==null?void 0:s.column;if(l){var c=this.addColumnDefaultAndTypes(n,l.getColId());l.setColDef(c,n,a),this.applyColumnState(l,c,a)}else{var u=o.getUniqueKey(n.colId,n.field),c=this.addColumnDefaultAndTypes(n,u);l=new Kr(c,n,u,t),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},e.prototype.applyColumnState=function(t,n,i){var o=Kc(n.flex);o!==void 0&&t.setFlex(o);var a=t.getFlex()<=0;if(a){var s=Kc(n.width);if(s!=null)t.setActualWidth(s,i);else{var l=t.getActualWidth();t.setActualWidth(l,i)}}n.sort!==void 0&&(n.sort=="asc"||n.sort=="desc"?t.setSort(n.sort,i):t.setSort(void 0,i));var u=Kc(n.sortIndex);u!==void 0&&t.setSortIndex(u);var c=_E(n.hide);c!==void 0&&t.setVisible(!c,i),n.pinned!==void 0&&t.setPinned(n.pinned)},e.prototype.findExistingColumn=function(t,n){if(n)for(var i=0;i<n.length;i++){var o=n[i].getUserProvidedColDef();if(o){var a=t.colId!=null;if(a){if(n[i].getId()===t.colId)return{idx:i,column:n[i]};continue}var s=t.field!=null;if(s){if(o.field===t.field)return{idx:i,column:n[i]};continue}if(o===t)return{idx:i,column:n[i]}}}},e.prototype.findExistingGroup=function(t,n){var i=t.groupId!=null;if(i)for(var o=0;o<n.length;o++){var a=n[o],s=a.getColGroupDef();if(s&&a.getId()===t.groupId)return{idx:o,group:a}}},e.prototype.addColumnDefaultAndTypes=function(t,n){var i={},o=this.gridOptionsService.get("defaultColDef");xa(i,o,!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(i,t,n);a&&this.assignColumnTypes(a,i),xa(i,t,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&l&&xa(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},e.prototype.assignColumnTypes=function(t,n){if(t.length){var i=Object.assign({},jHe),o=this.gridOptionsService.get("columnTypes")||{};Qi(o,function(a,s){if(a in i)console.warn("AG Grid: the column type '".concat(a,"' is a default column type and cannot be overridden."));else{var l=s;l.type&&Tt("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[a]=s}}),t.forEach(function(a){var s=i[a.trim()];s?xa(n,s,!1,!0):console.warn("AG Grid: colDef.type '"+a+"' does not correspond to defined gridOptions.columnTypes")})}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},$S([k("columnUtils")],e.prototype,"columnUtils",void 0),$S([k("dataTypeService")],e.prototype,"dataTypeService",void 0),$S([nGe(0,Ta("loggerFactory"))],e.prototype,"setBeans",null),e=$S([et("columnFactory")],e),e}(Re),iGe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Kn=function(){function r(e,t,n,i){this.displayedChildren=[],this.localEventService=new qu,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=i}return r.createUniqueId=function(e,t){return e+"_"+t},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(e){this.parent=e},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.partId)},r.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},r.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof r&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=Dr(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(e){return{type:e}},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getPartId=function(){return this.partId},r.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(n){e===n&&(t=!0),n instanceof r&&n.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},r.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},r.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},r.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},r.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof Kr?e.push(t):t instanceof r&&t.addDisplayedLeafColumns(e)})},r.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof Kr?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},r.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var n=t?t.providedColumnGroup.isExpandable():!1;if(!n){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof r&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var a=i.getColumnGroupShow();switch(a){case"open":t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(i);break;case"closed":t.providedColumnGroup.isExpanded()||e.displayedChildren.push(i);break;default:e.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",iGe([k("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),W=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",r.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",r.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",r.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",r.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",r.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_CUT_START="cutStart",r.EVENT_CUT_END="cutEnd",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_RANGE_DELETE_START="rangeDeleteStart",r.EVENT_RANGE_DELETE_END="rangeDeleteEnd",r.EVENT_UNDO_STARTED="undoStarted",r.EVENT_UNDO_ENDED="undoEnded",r.EVENT_REDO_STARTED="redoStarted",r.EVENT_REDO_ENDED="redoEnded",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_TOOLTIP_SHOW="tooltipShow",r.EVENT_TOOLTIP_HIDE="tooltipHide",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_STORE_REFRESHED="storeRefreshed",r.EVENT_STATE_UPDATED="stateUpdated",r.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_STORE_UPDATED="storeUpdated",r.EVENT_FILTER_DESTROYED="filterDestroyed",r.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",r.EVENT_ROW_COUNT_READY="rowCountReady",r.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",r.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",r.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",r.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",r.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",r}(),KN=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n},r}(),oGe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qh="ag-Grid-AutoColumn",aGe=function(r){oGe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createAutoGroupColumns=function(t){var n=this,i=[],o=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return o&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?t.forEach(function(s,l){i.push(n.createOneAutoGroupColumn(s,l))}):i.push(this.createOneAutoGroupColumn()),i},e.prototype.updateAutoGroupColumns=function(t,n){var i=this;t.forEach(function(o,a){return i.updateOneAutoGroupColumn(o,a,n)})},e.prototype.createOneAutoGroupColumn=function(t,n){var i;t?i="".concat(Qh,"-").concat(t.getId()):i=Qh;var o=this.createAutoGroupColDef(i,t,n);o.colId=i;var a=new Kr(o,null,i,!0);return this.context.createBean(a),a},e.prototype.updateOneAutoGroupColumn=function(t,n,i){var o=t.getColDef(),a=typeof o.showRowGroup=="string"?o.showRowGroup:void 0,s=a!=null?this.columnModel.getPrimaryColumn(a):void 0,l=this.createAutoGroupColDef(t.getId(),s??void 0,n);t.setColDef(l,null,i),this.columnFactory.applyColumnState(t,l,i)},e.prototype.createAutoGroupColDef=function(t,n,i){var o=this.createBaseColDef(n),a=this.gridOptionsService.get("autoGroupColumnDef");if(xa(o,a),o=this.columnFactory.addColumnDefaultAndTypes(o,t),!this.gridOptionsService.get("treeData")){var s=At(o.field)&&At(o.valueGetter)&&At(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";s&&(o.filter=!1)}i&&i>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},e.prototype.createBaseColDef=function(t){var n=this.gridOptionsService.get("autoGroupColumnDef"),i=this.localeService.getLocaleTextFunc(),o={headerName:i("group","Group")},a=n&&(n.cellRenderer||n.cellRendererSelector);if(a||(o.cellRenderer="agGroupCellRenderer"),t){var s=t.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=t.getColId()}else o.showRowGroup=!0;return o},tD([k("columnModel")],e.prototype,"columnModel",void 0),tD([k("columnFactory")],e.prototype,"columnFactory",void 0),e=tD([et("autoGroupColService")],e),e}(Re),sGe=/[&<>"']/g,lGe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function uGe(r){var e=String.fromCharCode;function t(d){var h=[];if(!d)return[];for(var p=d.length,f=0,v,g;f<p;)v=d.charCodeAt(f++),v>=55296&&v<=56319&&f<p?(g=d.charCodeAt(f++),(g&64512)==56320?h.push(((v&1023)<<10)+(g&1023)+65536):(h.push(v),f--)):h.push(v);return h}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,h){return e(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var h=d.toString(16).toUpperCase(),p=h.padStart(4,"0");return"_x".concat(p,"_")}if(!(d&4294967168))return e(d);var f="";return d&4294965248?d&4294901760?d&4292870144||(f=e(d>>18&7|240),f+=i(d,12),f+=i(d,6)):(n(d),f=e(d>>12&15|224),f+=i(d,6)):f=e(d>>6&31|192),f+=e(d&63|128),f}for(var a=t(r),s=a.length,l=-1,u,c="";++l<s;)u=a[l],c+=o(u);return c}function cGe(r){return r[0].toUpperCase()+r.substring(1).toLowerCase()}function oi(r,e){if(r==null)return null;var t=r.toString().toString();return e?t:t.replace(sGe,function(n){return lGe[n]})}function CZ(r){if(!r||r==null)return null;var e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g,n=r.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ");return n.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}function yZ(r){return r.replace(/[A-Z]/g,function(e){return"-".concat(e.toLocaleLowerCase())})}var dGe=Object.freeze({__proto__:null,utf8_encode:uGe,capitalise:cGe,escapeString:oi,camelCaseToHumanText:CZ,camelCaseToHyphenated:yZ});function Pc(r){var e=new Map;return r.forEach(function(t){return e.set(t[0],t[1])}),e}function hGe(r,e){var t=new Map;return r.forEach(function(n){return t.set(e(n),n)}),t}function pGe(r){var e=[];return r.forEach(function(t,n){return e.push(n)}),e}var fGe=Object.freeze({__proto__:null,convertToMap:Pc,mapById:hGe,keys:pGe}),vGe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ri=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gGe=function(r,e){return function(t,n){e(t,n,r)}},mGe=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},ra=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},na=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},rD=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SZ=function(r){vGe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.viewportRowLeft={},t.viewportRowRight={},t.viewportRowCenter={},t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.changeEventsDispatching=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var n=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(i){return t.buildAutoGroupColumns(Mf(i.source))}),this.addManagedPropertyListener("autoGroupColumnDef",function(i){return t.onAutoGroupColumnDefChanged(Mf(i.source))}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(i){return t.onSharedColDefChanged(Mf(i.source))}),this.addManagedPropertyListener("pivotMode",function(i){return t.setPivotMode(t.gridOptionsService.get("pivotMode"),Mf(i.source))}),this.addManagedListener(this.eventService,W.EVENT_FIRST_DATA_RENDERED,function(){return t.onFirstDataRendered()})},e.prototype.buildAutoGroupColumns=function(t){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(t))},e.prototype.onAutoGroupColumnDefChanged=function(t){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t)},e.prototype.onSharedColDefChanged=function(t){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t),this.createColumnsFromColumnDefs(!0,t))},e.prototype.setColumnDefs=function(t,n){var i=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(i,n)},e.prototype.recreateColumnDefs=function(t){this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,n){var i={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(a){i[a.getInstanceId()]=a}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(a){i[a.getInstanceId()]=null});var o=Object.values(i).filter(function(a){return a!=null});this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,n){var i=this,o=t?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,s=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,s,n);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(n,a),this.extractPivotColumns(n,a),this.extractValueColumns(n,a),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),this.changeEventsDispatching=!0,o&&o(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(n)},e.prototype.shouldRowModelIgnoreRefresh=function(){return this.changeEventsDispatching},e.prototype.dispatchNewColumnsLoaded=function(t){var n={type:W.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(n),t==="gridInitializing"&&this.onColumnsReady()},e.prototype.dispatchEverythingChanged=function(t){var n={type:W.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(n)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,n=this.primaryColumns;if(n){var i=n.filter(function(a){return t.gridColumns.indexOf(a)>=0}),o=this.gridColumns.filter(function(a){return i.indexOf(a)<0});this.gridColumns=na(na([],ra(o),!1),ra(i),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var n=t,i=[];n!=null;)i.push(n),n=this.getDisplayedColAfter(n);return i},e.prototype.checkViewportColumns=function(t){if(t===void 0&&(t=!1),this.displayedColumnsCenter!=null){var n=this.extractViewport();if(n){var i={type:W.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(i)}}},e.prototype.setViewportPosition=function(t,n,i){i===void 0&&(i=!1),(t!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return t&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(t,n){if(!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=t,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n);var i={type:W.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.getSecondaryPivotColumn=function(t,n){if(At(this.secondaryColumns))return null;var i=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn,u=fu(s,t),c=l===i;u&&c&&(o=a)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var n,i;this.gridOptionsService.get("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?Dr(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?Dr(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,t),o.setFirstRightPinned(o===i,t)})},e.prototype.autoSizeColumns=function(t){var n=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return n.autoSizeColumns(t)});return}var i=t.columns,o=t.skipHeader,a=t.skipHeaderGroups,s=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,h=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),p=a??h;d!==0;)d=0,this.actionOnGridColumns(i,function(f){if(c.indexOf(f)>=0)return!1;var v=n.autoWidthCalculator.getPreferredWidthForColumn(f,h);if(v>0){var g=n.normaliseColumnWidth(f,v);f.setActualWidth(g,u),c.push(f),d++}return!0},u);p||this.autoSizeColumnGroupsByColumns(i,u,s),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,n,i,o){if(o===void 0&&(o=null),t&&t.length){var a={type:W.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:n,source:i};this.eventService.dispatchEvent(a)}},e.prototype.dispatchColumnChangedEvent=function(t,n,i){var o={type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var n=t.movedColumns,i=t.source,o=t.toIndex,a=t.finished,s={type:W.EVENT_COLUMN_MOVED,columns:n,column:n&&n.length===1?n[0]:null,toIndex:o,finished:a,source:i};this.eventService.dispatchEvent(s)},e.prototype.dispatchColumnPinnedEvent=function(t,n){if(t.length){var i=t.length===1?t[0]:null,o=this.getCommonValue(t,function(s){return s.getPinned()}),a={type:W.EVENT_COLUMN_PINNED,pinned:o??null,columns:t,column:i,source:n};this.eventService.dispatchEvent(a)}},e.prototype.dispatchColumnVisibleEvent=function(t,n){if(t.length){var i=t.length===1?t[0]:null,o=this.getCommonValue(t,function(s){return s.isVisible()}),a={type:W.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:i,source:n};this.eventService.dispatchEvent(a)}},e.prototype.autoSizeColumn=function(t,n,i){t&&this.autoSizeColumns({columns:[t],skipHeader:i,skipHeaderGroups:!0,source:n})},e.prototype.autoSizeColumnGroupsByColumns=function(t,n,i){var o,a,s,l,u=new Set,c=this.getGridColumns(t);c.forEach(function(y){for(var w=y.getParent();w&&w!=i;)w.isPadding()||u.add(w),w=w.getParent()});var d,h=[];try{for(var p=rD(u),f=p.next();!f.done;f=p.next()){var v=f.value;try{for(var g=(s=void 0,rD(this.ctrlsService.getHeaderRowContainerCtrls())),m=g.next();!m.done;m=g.next()){var C=m.value;if(d=C.getHeaderCtrlForColumn(v),d)break}}catch(y){s={error:y}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(n)}}catch(y){o={error:y}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return h},e.prototype.autoSizeAllColumns=function(t,n){var i=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(t,n)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:n,source:t})},e.prototype.getColumnsFromTree=function(t){var n=[],i=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof Kr?n.push(s):s instanceof Rn&&i(s.getChildren())}};return i(t),n},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,n,i,o){for(var a=[],s=null,l=function(d){var h=n[d],p=n.length-d,f=Math.min(h.getColSpan(t),p),v=[h];if(f>1){for(var g=f-1,m=1;m<=g;m++)v.push(n[d+m]);d+=g}var C;if(i?(C=!1,v.forEach(function(w){i(w)&&(C=!0)})):C=!0,C){if(a.length===0&&s){var y=o?o(h):!1;y&&a.push(s)}a.push(h)}s=h,u=d},u,c=0;c<n.length;c++)l(c),c=u;return a},e.prototype.getViewportCenterColumnsForRow=function(t){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(a){var s=a.getLeft();return Ee(s)&&s>n.viewportLeft},o=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,o,i)},e.prototype.isColumnAtEdge=function(t,n){var i=this.getAllDisplayedColumns();if(!i.length)return!1;var o=n==="first",a;if(t instanceof Kn){var s=t.getDisplayedLeafColumns();if(!s.length)return!1;a=o?s[0]:Dr(s)}else a=t;return(o?i[0]:Dr(i))===a},e.prototype.getAriaColumnIndex=function(t){var n;return t instanceof Kn?n=t.getLeafColumns()[0]:n=t,this.ariaOrderColumns.indexOf(n)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var n=t.getLeft()||0,i=n+t.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200,s=n<o&&i<o,l=n>a&&i>a;return!s&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,n,i,o,a,s){var l=this;if(!(!t||Sa(t))){var u=!1;if(t.forEach(function(d){if(d){var h=l.getPrimaryColumn(d);if(h){if(i){if(n.indexOf(h)>=0)return;n.push(h)}else{if(n.indexOf(h)<0)return;Go(n,h)}o(h),u=!0}}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var c={type:a,columns:n,column:n.length===1?n[0]:null,source:s};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,n){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,W.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},e.prototype.setRowGroupActive=function(t,n,i){t!==n.isRowGroupActive()&&(n.setRowGroupActive(t,i),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([n],!1,i),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([n],!0,i))},e.prototype.addRowGroupColumns=function(t,n){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),W.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumns=function(t,n){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),W.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.addPivotColumns=function(t,n){this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,n)},W.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.setPivotColumns=function(t,n){this.setPrimaryColumnList(t,this.pivotColumns,W.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,n)},n)},e.prototype.removePivotColumns=function(t,n){this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,n)},W.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.setPrimaryColumnList=function(t,n,i,o,a,s){var l=this;if(this.gridColumns){var u=new Map;n.forEach(function(c,d){return u.set(c,d)}),n.length=0,Ee(t)&&t.forEach(function(c){var d=l.getPrimaryColumn(c);d&&n.push(d)}),n.forEach(function(c,d){var h=u.get(c);if(h===void 0){u.set(c,0);return}o&&h!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=n.indexOf(c)>=0;a(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(i,na([],ra(u.keys()),!1),s)}},e.prototype.setValueColumns=function(t,n){this.setPrimaryColumnList(t,this.valueColumns,W.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},e.prototype.setValueActive=function(t,n,i){if(t!==n.isValueActive()&&(n.setValueActive(t,i),t&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},e.prototype.addValueColumns=function(t,n){this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),W.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.removeValueColumns=function(t,n){this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),W.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.normaliseColumnWidth=function(t,n){var i=t.getMinWidth();Ee(i)&&n<i&&(n=i);var o=t.getMaxWidth();return Ee(o)&&t.isGreaterThanMax(n)&&(n=o),n},e.prototype.getPrimaryOrGridColumn=function(t){var n=this.getPrimaryColumn(t);return n||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,n,i,o){var a=this,s=[];t.forEach(function(l){var u=a.getPrimaryOrGridColumn(l.key);if(u){s.push({width:l.newWidth,ratios:[1],columns:[u]});var c=a.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(n=!n),n){var d=a.getDisplayedColAfter(u);if(!d)return;var h=u.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;s.push({width:p,ratios:[1],columns:[d]})}}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var n=t.columns,i=t.width,o=0,a=0,s=!0;n.forEach(function(c){var d=c.getMinWidth();o+=d||0;var h=c.getMaxWidth();Ee(h)&&h>0?a+=h:s=!1});var l=i>=o,u=!s||i<=a;return l&&u},e.prototype.resizeColumnSets=function(t){var n=this,i=t.resizeSets,o=t.finished,a=t.source,s=!i||i.every(function(f){return n.checkMinAndMaxWidthsForSet(f)});if(!s){if(o){var l=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(l,o,a)}return}var u=[],c=[];i.forEach(function(f){var v=f.width,g=f.columns,m=f.ratios,C={},y={};g.forEach(function(I){return c.push(I)});for(var w=!0,T=0,S=function(){if(T++,T>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";w=!1;var I=[],R=0,D=v;g.forEach(function(V,F){var P=y[V.getId()];if(P)D-=C[V.getId()];else{I.push(V);var M=m[F];R+=M}});var A=1/R;I.forEach(function(V,F){var P=F===I.length-1,M;P?M=D:(M=Math.round(m[F]*v*A),D-=M);var N=V.getMinWidth(),H=V.getMaxWidth();Ee(N)&&M<N?(M=N,y[V.getId()]=!0,w=!0):Ee(H)&&H>0&&M>H&&(M=H,y[V.getId()]=!0,w=!0),C[V.getId()]=M})};w;){var x=S();if(x==="break")break}g.forEach(function(I){var R=C[I.getId()],D=I.getActualWidth();D!==R&&(I.setActualWidth(R,a),u.push(I))})});var d=u.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var p=c.concat(h);(d||o)&&this.dispatchColumnResizedEvent(p,o,a,h)},e.prototype.setColumnAggFunc=function(t,n,i){if(t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(W.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},e.prototype.moveRowGroupColumn=function(t,n,i){if(!this.isRowGroupEmpty()){var o=this.rowGroupColumns[t],a=this.rowGroupColumns.slice(t,n);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(n,0,o);var s={type:W.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:a.length===1?a[0]:null,source:i};this.eventService.dispatchEvent(s)}},e.prototype.moveColumns=function(t,n,i,o){if(o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),n>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var a=this.getGridColumns(t),s=!this.doesMovePassRules(a,n);s||(bM(this.gridColumns,a,n),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:a,source:i,toIndex:n,finished:o}),this.columnAnimationService.finish())}},e.prototype.doesMovePassRules=function(t,n){var i=this.getProposedColumnOrder(t,n);return this.doesOrderPassRules(i)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,n){var i=this.gridColumns.slice();return bM(i,t,n),i},e.prototype.sortColumnsLikeGridColumns=function(t){var n=this;if(!(!t||t.length<=1)){var i=t.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0;i||t.sort(function(o,a){var s=n.gridColumns.indexOf(o),l=n.gridColumns.indexOf(a);return s-l})}},e.prototype.doesMovePassLockedPositions=function(t){var n=0,i=!0,o=function(a){return a?a===!0||a==="left"?0:2:1};return t.forEach(function(a){var s=o(a.getColDef().lockPosition);s<n&&(i=!1),n=s}),i},e.prototype.doesMovePassMarryChildren=function(t){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof Rn){var o=i,a=o.getColGroupDef(),s=a&&a.marryChildren;if(s){var l=[];o.getLeafColumns().forEach(function(p){var f=t.indexOf(p);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,h=o.getLeafColumns().length-1;d>h&&(n=!1)}}}),n},e.prototype.moveColumnByIndex=function(t,n,i){if(this.gridColumns){var o=this.gridColumns[t];this.moveColumns([o],n,i)}},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(i,o){return t.gridColumns.indexOf(i)-t.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(i,o){return t.lastPrimaryOrder.indexOf(i)-t.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var o=this.bodyWidth!==t||this.leftWidth!==n||this.rightWidth!==i;if(o){this.bodyWidth=t,this.leftWidth=n,this.rightWidth=i;var a={type:W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(a);var s={type:W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns:null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns:null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){var t;return(t=this.gridColumns)!==null&&t!==void 0?t:[]},e.prototype.isEmpty=function(){return Sa(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return Sa(this.rowGroupColumns)},e.prototype.setColumnsVisible=function(t,n,i){n===void 0&&(n=!1),this.applyColumnState({state:t.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!n}})},i)},e.prototype.setColumnsPinned=function(t,n,i){if(this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;n===!0||n==="left"?o="left":n==="right"?o="right":o=null,this.actionOnGridColumns(t,function(a){return a.getPinned()!==o?(a.setPinned(o),!0):!1},i,function(){var a={type:W.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i};return a}),this.columnAnimationService.finish()}},e.prototype.actionOnGridColumns=function(t,n,i,o){var a=this;if(!Sa(t)){var s=[];if(t.forEach(function(u){if(u){var c=a.getGridColumn(u);if(c){var d=n(c);d!==!1&&s.push(c)}}}),!!s.length&&(this.updateDisplayedColumns(i),Ee(o)&&o)){var l=o();l.columns=s,l.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var n=this.getAllDisplayedColumns(),i=n.indexOf(t);return i>0?n[i-1]:null},e.prototype.getDisplayedColAfter=function(t){var n=this.getAllDisplayedColumns(),i=n.indexOf(t);return i<n.length-1?n[i+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,n){for(var i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),a=n==="After"?Dr(o):o[0],s="getDisplayedCol".concat(n);;){var l=this[s](a);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,n){for(var i=t.getParent(),o,a;;){var s=i.getProvidedColumnGroup();if(o=s.getLevel(),a=i.getPaddingLevel(),o+a<=n)break;i=i.getParent()}return i},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var n=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,a=t.getSort()!=null?t.getSort():null,s=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:n,pivot:t.isPivotActive(),pivotIndex:i,flex:l};return u},e.prototype.getColumnState=function(){if(At(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),n=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},e.prototype.orderColumnStateList=function(t){var n=Pc(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));t.sort(function(i,o){var a=n.has(i.colId)?n.get(i.colId):-1,s=n.has(o.colId)?n.get(o.colId):-1;return a-s})},e.prototype.resetColumnState=function(t){var n=this;if(!Sa(this.primaryColumns)){var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),i&&(l=l.concat(i)),l.forEach(function(u){var c=n.getColumnStateFromColDef(u);At(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=a++),At(c.pivotIndex)&&c.pivot&&(c.pivotIndex=s++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},t)}},e.prototype.getColumnStateFromColDef=function(t){var n=function(g,m){return g??m??null},i=t.getColDef(),o=n(i.sort,i.initialSort),a=n(i.sortIndex,i.initialSortIndex),s=n(i.hide,i.initialHide),l=n(i.pinned,i.initialPinned),u=n(i.width,i.initialWidth),c=n(i.flex,i.initialFlex),d=n(i.rowGroupIndex,i.initialRowGroupIndex),h=n(i.rowGroup,i.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);var p=n(i.pivotIndex,i.initialPivotIndex),f=n(i.pivot,i.initialPivot);p==null&&(f==null||f==!1)&&(p=null,f=null);var v=n(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:o,sortIndex:a,hide:s,pinned:l,width:u,flex:c,rowGroup:h,rowGroupIndex:d,pivot:f,pivotIndex:p,aggFunc:v}},e.prototype.applyColumnState=function(t,n){var i=this;if(Sa(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var h=i.compareColumnStatesAndDispatchEvents(n);i.autoGroupsNeedBuilding=!0;var p=c.slice(),f={},v={},g=[],m=[],C=0,y=i.rowGroupColumns.slice(),w=i.pivotColumns.slice();u.forEach(function(I){var R=I.colId||"",D=R.startsWith(Qh);if(D){g.push(I),m.push(I);return}var A=d(R);A?(i.syncColumnWithStateItem(A,I,t.defaultState,f,v,!1,n),Go(p,A)):(m.push(I),C+=1)});var T=function(I){return i.syncColumnWithStateItem(I,null,t.defaultState,f,v,!1,n)};p.forEach(T);var S=function(I,R,D,A){var V=I[D.getId()],F=I[A.getId()],P=V!=null,M=F!=null;if(P&&M)return V-F;if(P)return-1;if(M)return 1;var N=R.indexOf(D),H=R.indexOf(A),G=N>=0,z=H>=0;return G&&z?N-H:G?-1:1};i.rowGroupColumns.sort(S.bind(i,f,y)),i.pivotColumns.sort(S.bind(i,v,w)),i.updateGridColumns();var x=i.groupAutoColumns?i.groupAutoColumns.slice():[];return g.forEach(function(I){var R=i.getAutoColumn(I.colId);Go(x,R),i.syncColumnWithStateItem(R,I,t.defaultState,null,null,!0,n)}),x.forEach(T),i.applyOrderAfterApplyState(t),i.updateDisplayedColumns(n),i.dispatchEverythingChanged(n),h(),{unmatchedAndAutoStates:m,unmatchedCount:C}};this.columnAnimationService.start();var a=o(t.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||Ee(t.defaultState))&&(l=o(s,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var n=this;if(!(!t.applyOrder||!t.state)){var i=[],o={};t.state.forEach(function(s){if(!(!s.colId||o[s.colId])){var l=n.gridColumnsMap[s.colId];l&&(i.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(Qh);c?$_(i,s,a++):i.push(s)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var n=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){var s=n.getPrimaryAndSecondaryAndAutoColumns(),l=function(C,y,w,T){var S=y.map(T),x=w.map(T),I=fu(S,x);if(!I){var R=new Set(y);w.forEach(function(V){R.delete(V)||R.add(V)});var D=na([],ra(R),!1),A={type:C,columns:D,column:D.length===1?D[0]:null,source:t};n.eventService.dispatchEvent(A)}},u=function(C){var y=[];return s.forEach(function(w){var T=a[w.getColId()];T&&C(T,w)&&y.push(w)}),y},c=function(C){return C.getColId()};l(W.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,n.rowGroupColumns,c),l(W.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,n.pivotColumns,c);var d=function(C,y){var w=C.aggFunc!=null,T=w!=y.isValueActive(),S=w&&C.aggFunc!=y.getAggFunc();return T||S},h=u(d);h.length>0&&n.dispatchColumnChangedEvent(W.EVENT_COLUMN_VALUE_CHANGED,h,t);var p=function(C,y){return C.width!=y.getActualWidth()};n.dispatchColumnResizedEvent(u(p),!0,t);var f=function(C,y){return C.pinned!=y.getPinned()};n.dispatchColumnPinnedEvent(u(f),t);var v=function(C,y){return C.hide==y.isVisible()};n.dispatchColumnVisibleEvent(u(v),t);var g=function(C,y){return C.sort!=y.getSort()||C.sortIndex!=y.getSortIndex()},m=u(g);m.length>0&&n.sortController.dispatchSortChangedEvents(t,m),n.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,n){if(!(!t||t.length==0)){for(var i=n(t[0]),o=1;o<t.length;o++)if(i!==n(t[o]))return;return i}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,n){var i=this,o=this.getColumnState(),a={};o.forEach(function(d){return a[d.colId]=d});var s={};t.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=t.filter(function(d){return s[d.colId]}),u=o.filter(function(d){return s[d.colId]}),c=[];u.forEach(function(d,h){var p=l&&l[h];if(p&&p.colId!==d.colId){var f=i.getGridColumn(p.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:n,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,n,i,o,a,s,l){if(t){var u=function(I,R){var D={value1:void 0,value2:void 0},A=!1;return n&&(n[I]!==void 0&&(D.value1=n[I],A=!0),Ee(R)&&n[R]!==void 0&&(D.value2=n[R],A=!0)),!A&&i&&(i[I]!==void 0&&(D.value1=i[I]),Ee(R)&&i[R]!==void 0&&(D.value2=i[R])),D},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&t.setPinned(d);var h=this.columnUtils.calculateColMinWidth(t.getColDef()),p=u("flex").value1;if(p!==void 0&&t.setFlex(p),p==null){var f=u("width").value1;f!=null&&h!=null&&f>=h&&t.setActualWidth(f,l)}var v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?t.setSort(v,l):t.setSort(void 0,l));var g=u("sortIndex").value1;if(g!==void 0&&t.setSortIndex(g),!(s||!t.isPrimary())){var m=u("aggFunc").value1;m!==void 0&&(typeof m=="string"?(t.setAggFunc(m),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(Ee(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,l),Go(this.valueColumns,t))));var C=u("rowGroup","rowGroupIndex"),y=C.value1,w=C.value2;(y!==void 0||w!==void 0)&&(typeof w=="number"||y?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),o&&typeof w=="number"&&(o[t.getId()]=w)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),Go(this.rowGroupColumns,t)));var T=u("pivot","pivotIndex"),S=T.value1,x=T.value2;(S!==void 0||x!==void 0)&&(typeof x=="number"||S?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),a&&typeof x=="number"&&(a[t.getId()]=x)):t.isPivotActive()&&(t.setPivotActive(!1,l),Go(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,n){var i=[];return t&&t.forEach(function(o){var a=n(o);a&&i.push(a)}),i},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var n=this.getGridColumn(t);return n||console.warn("AG Grid: could not find column "+t),n},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,n,i){if(!t||!i)return null;if(typeof t=="string"&&i[t])return i[t];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],t))return n[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var n=t.getColDef().showRowGroup;if(!n)return null;if(n===!0)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(n);return i?[i]:null},e.prototype.getAutoColumn=function(t){var n=this;return!this.groupAutoColumns||!Ee(this.groupAutoColumns)||At(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return n.columnsMatch(i,t)})||null},e.prototype.columnsMatch=function(t,n){var i=t===n,o=t.getColDef()===n,a=t.getColId()==n;return i||o||a},e.prototype.getDisplayNameForColumn=function(t,n,i){if(i===void 0&&(i=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,n);return i?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,n,i){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,t,n,i):null},e.prototype.getDisplayNameForColumnGroup=function(t,n){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),n)},e.prototype.getHeaderName=function(t,n,i,o,a){var s=t.headerValueGetter;if(s){var l=this.gridOptionsService.addGridCommonParams({colDef:t,column:n,columnGroup:i,providedColumnGroup:o,location:a});return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return CZ(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,n){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return n;var i=t.getColDef().pivotValueColumn,o=Ee(i),a=null,s;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return n;a=i?i.getAggFunc():null,s=!0}else{var c=t.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(a=t.getAggFunc(),s=!0):s=!1}if(s){var h=typeof a=="string"?a:"func",p=this.localeService.getLocaleTextFunc(),f=p(h,h);return"".concat(f,"(").concat(n,")")}return n},e.prototype.getColumnGroup=function(t,n){if(!t)return null;if(t instanceof Kn)return t;var i=this.getAllDisplayedTrees(),o=typeof n=="number",a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){if(s instanceof Kn){var l=s,u=void 0;o?u=t===l.getGroupId()&&n===l.getPartId():u=t===l.getGroupId(),u&&(a=l)}}),a},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(i,o){return i.setValueActive(o,t)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,t)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},e.prototype.extractColumns=function(t,n,i,o,a,s,l){t===void 0&&(t=[]),n===void 0&&(n=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(p){var f=t.indexOf(p)<0,v=p.getColDef(),g=_E(s(v)),m=_E(l(v)),C=Kc(o(v)),y=Kc(a(v)),w,T=g!==void 0,S=C!==void 0,x=m!==void 0,I=y!==void 0;if(T?w=g:S?C===null?w=!1:w=C>=0:f?x?w=m:I?w=y!=null&&y>=0:w=!1:w=n.indexOf(p)>=0,w){var R=f?C!=null||y!=null:C!=null;R?u.push(p):c.push(p)}});var d=function(p){var f=o(p.getColDef()),v=a(p.getColDef());return f??v};u.sort(function(p,f){var v=d(p),g=d(f);return v===g?0:v<g?-1:1});var h=[].concat(u);return n.forEach(function(p){c.indexOf(p)>=0&&h.push(p)}),c.forEach(function(p){h.indexOf(p)<0&&h.push(p)}),n.forEach(function(p){h.indexOf(p)<0&&i(p,!1)}),h.forEach(function(p){n.indexOf(p)<0&&i(p,!0)}),h},e.prototype.extractPivotColumns=function(t,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(i,o){return i.setPivotActive(o,t)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},e.prototype.resetColumnGroupState=function(t){if(this.primaryColumnTree){var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof Rn){var o=i.getColGroupDef(),a={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};n.push(a)}}),this.setColumnGroupState(n,t)}},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof Rn&&t.push({groupId:n.getGroupId(),open:n.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,n){var i=this;if(this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(t.forEach(function(s){var l=s.groupId,u=s.open,c=i.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(i.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),o.push(c))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.length){var a={type:W.EVENT_COLUMN_GROUP_OPENED,columnGroup:Rn.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(a)}this.columnAnimationService.finish()}},e.prototype.setColumnGroupOpened=function(t,n,i){var o;t instanceof Rn?o=t.getId():o=t||"",this.setColumnGroupState([{groupId:o,open:n}],i)},e.prototype.getProvidedColumnGroup=function(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof Rn&&i.getId()===t&&(n=i)}),n},e.prototype.calculateColumnsForDisplay=function(){var t=this,n;return this.pivotMode&&At(this.secondaryColumns)?n=this.gridColumns.filter(function(i){var o=t.groupAutoColumns&&$s(t.groupAutoColumns,i),a=t.valueColumns&&$s(t.valueColumns,i);return o||a}):n=this.gridColumns.filter(function(i){var o=t.groupAutoColumns&&$s(t.groupAutoColumns,i);return o||i.isVisible()}),n},e.prototype.checkColSpanActiveInCols=function(t){var n=!1;return t.forEach(function(i){Ee(i.getColDef().colSpan)&&(n=!0)}),n},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var n=function(i){var o=i.getColDef(),a=o.showRowGroup;o&&Ee(a)&&(t.groupDisplayColumns.push(i),typeof a=="string"?t.groupDisplayColumnsMap[a]=i:a===!0&&t.getRowGroupColumns().forEach(function(s){t.groupDisplayColumnsMap[s.getId()]=i}))};this.gridColumns.forEach(n)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return Ee(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,n){var i=this;if(this.gridColumns){var o=t&&t.length>0;if(!(!o&&At(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(t);var a=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,n);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return i.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}}},e.prototype.processSecondaryColumnDefinitions=function(t){var n=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!n&&!i)){var o=function(a){a.forEach(function(s){var l=Ee(s.children);if(l){var u=s;i&&i(u),o(u.children)}else{var c=s;n&&n(c)}})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this,n=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i=this.createGroupAutoColumnsIfNeeded();if(i){var o=Pc(this.groupAutoColumns.map(function(u){return[u,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(u){return!o.has(u)}),this.lastPrimaryOrder=na(na([],ra(this.groupAutoColumns),!1),ra(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(u){return!o.has(u)}),this.lastSecondaryOrder=na(na([],ra(this.groupAutoColumns),!1),ra(this.lastSecondaryOrder),!1))}var a;if(this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.some(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(a=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,a=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(a),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!fu(n,this.gridBalancedTree)){var l={type:W.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");t||Tt("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},e.prototype.orderGridColsLike=function(t){if(!At(t)){var n=Pc(t.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){n.has(c)&&(i=!1)}),!i){var o=Pc(this.gridColumns.map(function(c){return[c,!0]})),a=t.filter(function(c){return o.has(c)}),s=Pc(a.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!s.has(c)}),u=a.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var h=[];!h.length&&d;){var p=d.getLeafColumns();p.forEach(function(g){var m=u.indexOf(g)>=0,C=h.indexOf(g)<0;m&&C&&h.push(g)}),d=d.getOriginalParent()}if(!h.length){u.push(c);return}var f=h.map(function(g){return u.indexOf(g)}),v=Math.max.apply(Math,na([],ra(f),!1));$_(u,c,v+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,n=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&t!==void 0?t:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?n:n.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},e.prototype.placeLockedColumns=function(t){var n=[],i=[],o=[];return t.forEach(function(a){var s=a.getColDef().lockPosition;s==="right"?o.push(a):s==="left"||s===!0?n.push(a):i.push(a)}),na(na(na([],ra(n),!1),ra(i),!1),ra(o),!1)},e.prototype.addAutoGroupToGridColumns=function(){if(At(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var n={type:W.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinColumnsAriaOrder=function(){var t,n,i=this.getAllGridColumns(),o=[],a=[],s=[];try{for(var l=rD(i),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.getPinned();d?d===!0||d==="left"?o.push(c):s.push(c):a.push(c)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}this.ariaOrderColumns=o.concat(a).concat(s)},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var n=this;if(this.primaryColumns){var i=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=n.getWidthOfColsInList(a);a.forEach(function(u){s-=u.getActualWidth(),u.setLeft(s,t)})}else{var l=0;a.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}dZ(i,a)}),i.forEach(function(a){a.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(n){if(n instanceof Kn){var i=n;i.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(i){i instanceof Kr&&n.push(i)})},e.prototype.isColumnVirtualisationSuppressed=function(){return this.suppressColumnVirtualisation||this.viewportRight===0},e.prototype.extractViewportColumns=function(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,n){var i;switch(t){case"left":i=this.viewportRowLeft[n];break;case"right":i=this.viewportRowRight[n];break;default:i=this.viewportRowCenter[n];break}return At(i)&&(i=[]),i},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(i){return t[i.getId()]=!0});var n=function(i,o,a){for(var s=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof Kr)c=t[u.getId()]===!0;else{var d=u,h=d.getDisplayedChildren();h&&(c=n(h,o,a+1))}c&&(s=!0,o[a]||(o[a]=[]),o[a].push(u))}return s};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var n=this.viewportColumns.map(t).join("#"),i=this.viewportColumnsHash!==n;return i&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),i},e.prototype.refreshFlexedColumns=function(t){var n;t===void 0&&(t={});var i=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(t.resizingCols){for(var a=new Set(t.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){o=l;break}}for(var u=0,c=[],d=0,h=0,l=0;l<this.displayedColumnsCenter.length;l++){var p=this.displayedColumnsCenter[l].getFlex()&&l>o;p?(c.push(this.displayedColumnsCenter[l]),h+=this.displayedColumnsCenter[l].getFlex(),d+=(n=this.displayedColumnsCenter[l].getMinWidth())!==null&&n!==void 0?n:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var f=[];u+d>this.flexViewportWidth&&(c.forEach(function(I){var R;return I.setActualWidth((R=I.getMinWidth())!==null&&R!==void 0?R:0,i)}),f=c,c=[]);var v=[],g;e:for(;;){g=this.flexViewportWidth-u;for(var m=g/h,l=0;l<c.length;l++){var C=c[l],y=m*C.getFlex(),w=0,T=C.getMinWidth(),S=C.getMaxWidth();if(Ee(T)&&y<T?w=T:Ee(S)&&y>S&&(w=S),w){C.setActualWidth(w,i),UN(c,C),h-=C.getFlex(),f.push(C),u+=C.getActualWidth();continue e}v[l]=Math.round(y)}break}var x=g;return c.forEach(function(I,R){I.setActualWidth(Math.min(v[R],x),i),f.push(I),x-=v[R]}),t.skipSetLeft||this.setLeftValues(i),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,i,c),c},e.prototype.sizeColumnsToFit=function(t,n,i,o){var a=this,s,l,u,c,d;if(n===void 0&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(t,n,i,o)});return}var h={};o&&((s=o==null?void 0:o.columnLimits)===null||s===void 0||s.forEach(function(H){var G=H.key,z=mGe(H,["key"]);h[typeof G=="string"?G:G.getColId()]=z}));var p=this.getAllDisplayedColumns(),f=t===this.getWidthOfColsInList(p);if(!(t<=0||!p.length||f)){var v=[],g=[];p.forEach(function(H){H.getColDef().suppressSizeToFit===!0?g.push(H):v.push(H)});var m=v.slice(0),C=!1,y=function(H){Go(v,H),g.push(H)};for(v.forEach(function(H){var G,z;H.resetActualWidth(n);var j=h==null?void 0:h[H.getId()],q=(G=j==null?void 0:j.minWidth)!==null&&G!==void 0?G:o==null?void 0:o.defaultMinWidth,K=(z=j==null?void 0:j.maxWidth)!==null&&z!==void 0?z:o==null?void 0:o.defaultMaxWidth,ie=H.getActualWidth();typeof q=="number"&&ie<q?H.setActualWidth(q,n,!0):typeof K=="number"&&ie>K&&H.setActualWidth(K,n,!0)});!C;){C=!0;var w=t-this.getWidthOfColsInList(g);if(w<=0)v.forEach(function(H){var G,z,j=(z=(G=h==null?void 0:h[H.getId()])===null||G===void 0?void 0:G.minWidth)!==null&&z!==void 0?z:o==null?void 0:o.defaultMinWidth;if(typeof j=="number"){H.setActualWidth(j,n,!0);return}H.setMinimum(n)});else for(var T=w/this.getWidthOfColsInList(v),S=w,x=v.length-1;x>=0;x--){var I=v[x],R=h==null?void 0:h[I.getId()],D=(l=R==null?void 0:R.minWidth)!==null&&l!==void 0?l:o==null?void 0:o.defaultMinWidth,A=(u=R==null?void 0:R.maxWidth)!==null&&u!==void 0?u:o==null?void 0:o.defaultMaxWidth,V=(c=I.getMinWidth())!==null&&c!==void 0?c:0,F=(d=I.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,P=typeof D=="number"&&D>V?D:I.getMinWidth(),M=typeof A=="number"&&A<F?A:I.getMaxWidth(),N=Math.round(I.getActualWidth()*T);Ee(P)&&N<P?(N=P,y(I),C=!1):Ee(M)&&N>M?(N=M,y(I),C=!1):x===0&&(N=S),I.setActualWidth(N,n,!0),S-=N}}m.forEach(function(H){H.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(m,!0,n)}},e.prototype.buildDisplayedTrees=function(t){var n=[],i=[],o=[];t.forEach(function(s){switch(s.getPinned()){case"left":n.push(s);break;case"right":i.push(s);break;default:o.push(s);break}});var a=new KN;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var n=function(i){t.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},e.prototype.isDisplayed=function(t){var n=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return n===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(n){n instanceof Kn&&n.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),a=o&&!i&&!n;if(a){var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(s,this.groupAutoColumns);if(l||t)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType"),n=t==="custom";if(n)return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return i==="custom"},e.prototype.autoColsEqual=function(t,n){return fu(t,n,function(i,o){return i.getColId()===o.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(n,i){return n+i.getActualWidth()},0)},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.get("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&n.reverse();for(var i=0;i<n.length;i++){var o=this[n[i]]();if(o.length)return t?Dr(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,n){var i=t.setAutoHeaderHeight(n);if(i){var o={type:W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,na([t],ra(n),!1))},e.prototype.getHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("headerHeight"))!==null&&t!==void 0?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return(t=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("groupHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&t!==void 0?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(t){return t()}),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t,n){var i=t.getUserProvidedColDef();if(!i)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(i,t.getColId());return t.setColDef(o,i,n),!0},e.prototype.isColumnGroupingLocked=function(t){var n=this.gridOptionsService.get("groupLockGroupColumns");if(!t.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;var i=this.rowGroupColumns.findIndex(function(o){return o.getColId()===t.getColId()});return n>i},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,n){var i=this,o={},a=function(s,l,u,c,d,h){if(!l.length||!i.primaryColumns)return[];for(var p=Object.keys(s),f=new Set(p),v=new Set(p),g=new Set(l.map(function(D){var A=D.getColId();return v.delete(A),A}).concat(p)),m=[],C={},y=0,w=0;w<i.primaryColumns.length;w++){var T=i.primaryColumns[w].getColId();g.has(T)&&(m.push(T),C[T]=y++)}var S=1e3,x=!1,I=0,R=function(D){for(var A=C[D],V=I;V<A;V++){var F=m[V];v.has(F)&&(s[F][d]=S++,v.delete(F))}I=A};l.forEach(function(D){var A=D.getColId();if(f.has(A))R(A),s[A][d]=S++;else{var V=D.getColDef(),F=V[d]===null||V[d]===void 0&&V[h]==null;if(F){if(!x){var P=V[u]||V[u]===void 0&&V[c];P?R(A):(v.forEach(function(M){s[M][d]=S+C[M]}),S+=m.length,x=!0)}o[A]||(o[A]={colId:A}),o[A][d]=S++}}})};return a(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},e.prototype.onColumnsReady=function(){var t=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n){var i=n.type;setTimeout(function(){if(i==="fitGridWidth"){var o=n.columnLimits,a=n.defaultMinWidth,s=n.defaultMaxWidth,l=o==null?void 0:o.map(function(u){var c=u.colId,d=u.minWidth,h=u.maxWidth;return{key:c,minWidth:d,maxWidth:h}});t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else i==="fitProvidedWidth"&&t.sizeColumnsToFit(n.width,"sizeColumnsToFit")})}},e.prototype.onFirstDataRendered=function(){var t=this,n=this.gridOptionsService.get("autoSizeStrategy");if((n==null?void 0:n.type)==="fitCellContents"){var i=n.colIds,o=n.skipHeader;setTimeout(function(){i?t.autoSizeColumns({columns:i,skipHeader:o,source:"autosizeColumns"}):t.autoSizeAllColumns("autosizeColumns",o)})}},Ri([k("expressionService")],e.prototype,"expressionService",void 0),Ri([k("columnFactory")],e.prototype,"columnFactory",void 0),Ri([k("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Ri([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Ri([k("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Ri([k("columnUtils")],e.prototype,"columnUtils",void 0),Ri([k("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Ri([k("autoGroupColService")],e.prototype,"autoGroupColService",void 0),Ri([Cr("aggFuncService")],e.prototype,"aggFuncService",void 0),Ri([Cr("valueCache")],e.prototype,"valueCache",void 0),Ri([Cr("animationFrameService")],e.prototype,"animationFrameService",void 0),Ri([k("sortController")],e.prototype,"sortController",void 0),Ri([k("columnDefFactory")],e.prototype,"columnDefFactory",void 0),Ri([Fe],e.prototype,"init",null),Ri([Ji],e.prototype,"destroyColumns",null),Ri([gGe(0,Ta("loggerFactory"))],e.prototype,"setBeans",null),e=Ri([et("columnModel")],e),e}(Re);function Mf(r){return r==="gridOptionsUpdated"?"gridOptionsChanged":r}var _Ge=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CGe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wZ=function(r){_Ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var n=this.calculateColMinWidth(t),i=this.calculateColMaxWidth(t),o,a=Kc(t.width),s=Kc(t.initialWidth);return a!=null?o=a:s!=null?o=s:o=200,Math.max(Math.min(o,i),n)},e.prototype.getOriginalPathForColumn=function(t,n){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];if(c instanceof Rn){var d=c;a(d.getChildren(),l+1),i[l]=c}else c===t&&(o=!0)}};return a(n,0),o?i:null},e.prototype.depthFirstOriginalTreeSearch=function(t,n,i){var o=this;n&&n.forEach(function(a){a instanceof Rn&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),i),i(a,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,n){var i=this;t&&t.forEach(function(o){o instanceof Kn&&i.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,n){var i=this;t&&t.forEach(function(o){o instanceof Kn&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},e=CGe([et("columnUtils")],e),e}(Re),yGe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SGe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bZ=function(r){yGe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,n,i,o){for(var a=this,s=this.mapOldGroupsById(o),l=[],u=t,c=function(){var d=u;u=[];for(var h=0,p=function(T){var S=h;h=T;var x=d[S],I=x instanceof Kn?x.getProvidedColumnGroup():x,R=I.getOriginalParent();if(R==null){for(var D=S;D<T;D++)l.push(d[D]);return}for(var A=a.createColumnGroup(R,n,s,i),D=S;D<T;D++)A.addChild(d[D]);u.push(A)},f=1;f<d.length;f++){var v=d[f],g=v instanceof Kn?v.getProvidedColumnGroup():v,m=g.getOriginalParent(),C=d[h],y=C instanceof Kn?C.getProvidedColumnGroup():C,w=y.getOriginalParent();m!==w&&p(f)}h<d.length&&p(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,n,i,o){var a=t.getGroupId(),s=n.getInstanceIdForKey(a),l=Kn.createUniqueId(a,s),u=i[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),Ee(u)?u.reset():(u=new Kn(t,a,s,o),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var n={},i=function(o){o.forEach(function(a){if(a instanceof Kn){var s=a;n[a.getUniqueId()]=s,i(s.getChildren())}})};return t&&i(t),n},e.prototype.setupParentsIntoColumns=function(t,n){var i=this;t.forEach(function(o){if(o.setParent(n),o instanceof Kn){var a=o;i.setupParentsIntoColumns(a.getChildren(),a)}})},e=SGe([et("displayedGroupCreator")],e),e}(Re),oc=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},ac=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},wGe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Ls=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu"],r.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],r.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=ac(ac([],oc(r.FUNCTIONAL_PROPERTIES),!1),oc(r.CALLBACK_PROPERTIES),!1),r.ALL_PROPERTIES=ac(ac(ac(ac(ac(ac([],oc(r.ARRAY_PROPERTIES),!1),oc(r.OBJECT_PROPERTIES),!1),oc(r.STRING_PROPERTIES),!1),oc(r.NUMBER_PROPERTIES),!1),oc(r.FUNCTION_PROPERTIES),!1),oc(r.BOOLEAN_PROPERTIES),!1),r}(),xM=function(){return xM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},xM.apply(this,arguments)},S2=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},w2=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},qN=function(){function r(){}r.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)},r.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},r.combineAttributesAndGridOptions=function(t,n){typeof t!="object"&&(t={});var i=xM({},t),o=r.getGridOptionKeys();return o.forEach(function(a){var s=n[a];typeof s<"u"&&s!==r.VUE_OMITTED_PROPERTY&&(i[a]=s)}),i},r.processOnChange=function(t,n){if(t){var i={},o=!1;if(Object.keys(t).filter(function(s){return r.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){i[s]=t[s],o=!0}),!!o){n.__internalUpdateGridOptions(i);var a={type:W.EVENT_COMPONENT_STATE_CHANGED};Qi(i,function(s,l){a[s]=l}),n.dispatchEvent(a)}}};var e;return e=r,r.EVENTS=wh(W),r.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",r.EXCLUDED_INTERNAL_EVENTS=[W.EVENT_SCROLLBAR_WIDTH_CHANGED,W.EVENT_CHECKBOX_CHANGED,W.EVENT_HEIGHT_SCALE_CHANGED,W.EVENT_BODY_HEIGHT_CHANGED,W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,W.EVENT_SCROLL_VISIBILITY_CHANGED,W.EVENT_COLUMN_HOVER_CHANGED,W.EVENT_FLASH_CELLS,W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,W.EVENT_DISPLAYED_ROWS_CHANGED,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,W.EVENT_POPUP_TO_FRONT,W.EVENT_STORE_UPDATED,W.EVENT_COLUMN_PANEL_ITEM_DRAG_START,W.EVENT_COLUMN_PANEL_ITEM_DRAG_END,W.EVENT_FILL_START,W.EVENT_FILL_END,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,W.EVENT_FULL_WIDTH_ROW_FOCUSED,W.EVENT_HEADER_HEIGHT_CHANGED,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,W.EVENT_CELL_FOCUS_CLEARED,W.EVENT_GRID_STYLES_CHANGED,W.EVENT_FILTER_DESTROYED,W.EVENT_ROW_DATA_UPDATE_STARTED,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,W.EVENT_DATA_TYPES_INFERRED,W.EVENT_FIELD_VALUE_CHANGED,W.EVENT_FIELD_PICKER_VALUE_SELECTED,W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,W.EVENT_SUPPRESS_MENU_HIDE_CHANGED,W.EVENT_SUPPRESS_FIELD_DOT_NOTATION,W.EVENT_ROW_COUNT_READY,W.EVENT_SIDE_BAR_UPDATED],r.PUBLIC_EVENTS=r.EVENTS.filter(function(t){return!$s(r.EXCLUDED_INTERNAL_EVENTS,t)}),r.EVENT_CALLBACKS=r.EVENTS.map(function(t){return r.getCallbackForEvent(t)}),r.STRING_PROPERTIES=Ls.STRING_PROPERTIES,r.OBJECT_PROPERTIES=Ls.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=Ls.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=Ls.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=Ls.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=Ls.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=Ls.ALL_PROPERTIES,r.ALL_PROPERTIES_AND_CALLBACKS=w2(w2([],S2(e.ALL_PROPERTIES),!1),S2(e.EVENT_CALLBACKS),!1),r.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(r.ALL_PROPERTIES_AND_CALLBACKS),r}(),bGe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EGe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},EZ=function(r){bGe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var n=this;t&&t.forEach(function(i){return n.addComponent(i)})},e.prototype.addComponent=function(t){var n=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=n.toUpperCase();this.componentsMappedByName[i]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=EGe([et("agStackComponentsRegistry")],e),e}(Re);function ys(r,e,t){t==null||typeof t=="string"&&t==""?YN(r,e):Ss(r,e,t)}function Ss(r,e,t){r.setAttribute(xZ(e),t.toString())}function YN(r,e){r.removeAttribute(xZ(e))}function xZ(r){return"aria-".concat(r)}function si(r,e){e?r.setAttribute("role",e):r.removeAttribute("role")}function IZ(r){var e;return r==="asc"?e="ascending":r==="desc"?e="descending":r==="mixed"?e="other":e="none",e}function xGe(r){return parseInt(r.getAttribute("aria-level"),10)}function TZ(r){return parseInt(r.getAttribute("aria-posinset"),10)}function RZ(r){return r.getAttribute("aria-label")}function vd(r,e){ys(r,"label",e)}function bE(r,e){ys(r,"labelledby",e)}function IGe(r,e){ys(r,"describedby",e)}function XN(r,e){ys(r,"live",e)}function OZ(r,e){ys(r,"atomic",e)}function DZ(r,e){ys(r,"relevant",e)}function AZ(r,e){ys(r,"level",e)}function QN(r,e){ys(r,"disabled",e)}function b0(r,e){ys(r,"hidden",e)}function ZN(r,e){ys(r,"activedescendant",e)}function Mu(r,e){Ss(r,"expanded",e)}function PZ(r){YN(r,"expanded")}function JN(r,e){Ss(r,"setsize",e)}function ek(r,e){Ss(r,"posinset",e)}function MZ(r,e){Ss(r,"multiselectable",e)}function FZ(r,e){Ss(r,"rowcount",e)}function tk(r,e){Ss(r,"rowindex",e)}function LZ(r,e){Ss(r,"colcount",e)}function rk(r,e){Ss(r,"colindex",e)}function NZ(r,e){Ss(r,"colspan",e)}function kZ(r,e){Ss(r,"sort",e)}function VZ(r){YN(r,"sort")}function dv(r,e){ys(r,"selected",e)}function TGe(r,e){Ss(r,"checked",e===void 0?"mixed":e)}function nk(r,e){ys(r,"controls",e.id),bE(e,r.id)}function ik(r,e){return e===void 0?r("ariaIndeterminate","indeterminate"):e===!0?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}var RGe=Object.freeze({__proto__:null,setAriaRole:si,getAriaSortState:IZ,getAriaLevel:xGe,getAriaPosInSet:TZ,getAriaLabel:RZ,setAriaLabel:vd,setAriaLabelledBy:bE,setAriaDescribedBy:IGe,setAriaLive:XN,setAriaAtomic:OZ,setAriaRelevant:DZ,setAriaLevel:AZ,setAriaDisabled:QN,setAriaHidden:b0,setAriaActiveDescendant:ZN,setAriaExpanded:Mu,removeAriaExpanded:PZ,setAriaSetSize:JN,setAriaPosInSet:ek,setAriaMultiSelectable:MZ,setAriaRowCount:FZ,setAriaRowIndex:tk,setAriaColCount:LZ,setAriaColIndex:rk,setAriaColSpan:NZ,setAriaSort:kZ,removeAriaSort:VZ,setAriaSelected:dv,setAriaChecked:TGe,setAriaControls:nk,getAriaCheckboxStateName:ik}),nD,WS,iD,oD,aD,sD,IM,TM;function Hl(){return nD===void 0&&(nD=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),nD}function ok(){if(WS===void 0)if(Hl()){var r=navigator.userAgent.match(/version\/(\d+)/i);r&&(WS=r[1]!=null?parseFloat(r[1]):0)}else WS=0;return WS}function E0(){if(iD===void 0){var r=window;iD=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return iD}function ak(){return oD===void 0&&(oD=/(firefox)/i.test(navigator.userAgent)),oD}function sk(){return aD===void 0&&(aD=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),aD}function Yu(){return sD===void 0&&(sD=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),sD}function lk(){return!Hl()||ok()>=15}function EE(r){if(!r)return null;var e=r.tabIndex,t=r.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!ak())?null:e.toString()}function BZ(){if(!document.body)return-1;var r=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var n=r*2;if(t.style.height=n+"px",n>e||t.clientHeight!==n)break;r=n}return document.body.removeChild(t),r}function HZ(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function GZ(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function $Z(){return TM==null&&WZ(),TM}function WZ(){var r=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",r.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(TM=t,IM=t===0)}function uk(){return IM==null&&WZ(),IM}var OGe=Object.freeze({__proto__:null,isBrowserSafari:Hl,getSafariVersion:ok,isBrowserChrome:E0,isBrowserFirefox:ak,isMacOsUserAgent:sk,isIOSUserAgent:Yu,browserSupportsPreventScroll:lk,getTabIndex:EE,getMaxDivHeight:BZ,getBodyWidth:HZ,getBodyHeight:GZ,getScrollbarWidth:$Z,isInvisibleScrollbar:uk});function zf(r,e){return r.toString().padStart(e,"0")}function zZ(r,e){for(var t=[],n=r;n<=e;n++)t.push(n);return t}function DGe(r){return typeof r=="string"&&(r=parseInt(r,10)),typeof r=="number"?Math.floor(r):null}function AGe(r,e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(r&255),r>>>=8;return t}function PGe(r,e,t){return typeof r!="number"?"":ck(Math.round(r*100)/100,e,t)}function ck(r,e,t){return typeof r!="number"?"":r.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(e))}function MGe(r){return r==null?null:r.reduce(function(e,t){return e+t},0)}var FGe=Object.freeze({__proto__:null,padStartWidthZeros:zf,createArrayOfNumbers:zZ,cleanNumber:DGe,decToHex:AGe,formatNumberTwoDecimalPlacesAndCommas:PGe,formatNumberCommas:ck,sum:MGe}),lD=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};function us(r,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!r)return null;var n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(i){return zf(i,2)}).join(t);return e&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(i){return zf(i,2)}).join(":")),n}var uD=function(r){if(r>3&&r<21)return"th";var e=r%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Uf(r,e){e===void 0&&(e="YYYY-MM-DD");var t=zf(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return"".concat(r.getFullYear())},MMMM:function(){return n[r.getMonth()]},MMM:function(){return n[r.getMonth()].slice(0,3)},MM:function(){return zf(r.getMonth()+1,2)},Mo:function(){return"".concat(r.getMonth()+1).concat(uD(r.getMonth()+1))},M:function(){return"".concat(r.getMonth()+1)},Do:function(){return"".concat(r.getDate()).concat(uD(r.getDate()))},DD:function(){return zf(r.getDate(),2)},D:function(){return"".concat(r.getDate())},dddd:function(){return i[r.getDay()]},ddd:function(){return i[r.getDay()].slice(0,3)},dd:function(){return i[r.getDay()].slice(0,2)},do:function(){return"".concat(r.getDay()).concat(uD(r.getDay()))},d:function(){return"".concat(r.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return e.replace(a,function(s){return s in o?o[s]():s})}function jo(r){if(!r)return null;var e=lD(r.split(" "),2),t=e[0],n=e[1];if(!t)return null;var i=t.split("-").map(function(f){return parseInt(f,10)});if(i.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=lD(i,3),a=o[0],s=o[1],l=o[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!n||n==="00:00:00")return u;var c=lD(n.split(":").map(function(f){return parseInt(f,10)}),3),d=c[0],h=c[1],p=c[2];return d>=0&&d<24&&u.setHours(d),h>=0&&h<60&&u.setMinutes(h),p>=0&&p<60&&u.setSeconds(p),u}var LGe=Object.freeze({__proto__:null,serialiseDate:us,dateToFormattedString:Uf,parseDateTimeFromString:jo}),NGe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kGe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},zS;function RM(r,e,t){for(var n=r.parentElement,i=n&&n.firstChild;i;)e&&i.classList.toggle(e,i===r),t&&i.classList.toggle(t,i!==r),i=i.nextSibling}var UZ="[tabindex], input, select, button, textarea, [href]",dk="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function hk(r){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",n=e.call(r,t),i=e.call(r,dk),o=Na(r),a=n&&!i&&o;return a}function Sr(r,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;r.classList.toggle("ag-hidden",!e),n||b0(r,!e)}function jZ(r,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;r.classList.toggle("ag-invisible",!e),n||b0(r,!e)}function hv(r,e){var t="disabled",n=e?function(i){return i.setAttribute(t,"")}:function(i){return i.removeAttribute(t)};n(r),Ck(r.querySelectorAll("input"),function(i){return n(i)})}function Eh(r,e,t){for(var n=0;r;){if(r.classList.contains(e))return!0;if(r=r.parentElement,typeof t=="number"){if(++n>t)break}else if(r===t)break}return!1}function gd(r){var e=window.getComputedStyle(r),t=e.height,n=e.width,i=e.borderTopWidth,o=e.borderRightWidth,a=e.borderBottomWidth,s=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,h=e.marginTop,p=e.marginRight,f=e.marginBottom,v=e.marginLeft,g=e.boxSizing;return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(v||"0"),boxSizing:g}}function ty(r){var e=gd(r);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function yp(r){var e=gd(r);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function pk(r){var e=gd(r),t=e.marginBottom+e.marginTop;return Math.ceil(r.offsetHeight+t)}function W_(r){var e=gd(r),t=e.marginLeft+e.marginRight;return Math.ceil(r.offsetWidth+t)}function fk(r){var e=r.getBoundingClientRect(),t=gd(r),n=t.borderTopWidth,i=t.borderLeftWidth,o=t.borderRightWidth,a=t.borderBottomWidth;return{top:e.top+(n||0),left:e.left+(i||0),right:e.right+(o||0),bottom:e.bottom+(a||0)}}function z_(){if(typeof zS=="boolean")return zS;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(r),r.scrollLeft=1,zS=Math.floor(r.scrollLeft)===0,document.body.removeChild(r),zS}function U_(r,e){var t=r.scrollLeft;return e&&(t=Math.abs(t),E0()&&!z_()&&(t=r.scrollWidth-r.clientWidth-t)),t}function j_(r,e,t){t&&(z_()?e*=-1:(Hl()||E0())&&(e=r.scrollWidth-r.clientWidth-e)),r.scrollLeft=e}function mi(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function Il(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function vk(r){return!!r.offsetParent}function Na(r){var e=r;if(e.checkVisibility)return e.checkVisibility({checkVisibilityCSS:!0});var t=!vk(r)||window.getComputedStyle(r).visibility!=="visible";return!t}function Ko(r){var e=document.createElement("div");return e.innerHTML=(r||"").trim(),e.firstChild}function gk(r,e,t){t&&t.nextSibling===e||(t?t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e):r.firstChild&&r.firstChild!==e&&r.insertAdjacentElement("afterbegin",e))}function mk(r,e){for(var t=0;t<e.length;t++){var n=e[t],i=r.children[t];i!==n&&r.insertBefore(n,i)}}function KZ(r,e,t){t?t.insertAdjacentElement("afterend",e):r.firstChild?r.insertAdjacentElement("afterbegin",e):r.appendChild(e)}function _k(r,e){var t,n;if(e)try{for(var i=NGe(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=kGe(o.value,2),s=a[0],l=a[1];if(!(!s||!s.length||l==null)){var u=yZ(s),c=l.toString(),d=c.replace(/\s*!important/g,""),h=d.length!=c.length?"important":void 0;r.style.setProperty(u,d,h)}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function qZ(r){return r.clientWidth<r.scrollWidth}function YZ(r){return r.clientHeight<r.scrollHeight}function K_(r,e){e==="flex"?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):cs(r,e)}function cs(r,e){e=x0(e),r.style.width=e.toString(),r.style.maxWidth=e.toString(),r.style.minWidth=e.toString()}function VGe(r,e){e==="flex"?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):xh(r,e)}function xh(r,e){e=x0(e),r.style.height=e.toString(),r.style.maxHeight=e.toString(),r.style.minHeight=e.toString()}function x0(r){return typeof r=="number"?"".concat(r,"px"):r}function ry(r){return r instanceof Node||r instanceof HTMLElement}function XZ(r){if(r==null)return[];var e=[];return Ck(r,function(t){return e.push(t)}),e}function QZ(r,e){if(r)for(var t=0;t<r.length;t++){var n=r[t];e(n.name,n.value)}}function Al(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t.toString())}function Ck(r,e){if(r!=null)for(var t=0;t<r.length;t++)e(r[t])}function yk(r,e){r.then(function(t){var n=t.getGui();n!=null&&(typeof n=="object"?e.appendChild(n):e.innerHTML=n)})}var BGe=Object.freeze({__proto__:null,radioCssClass:RM,FOCUSABLE_SELECTOR:UZ,FOCUSABLE_EXCLUDE:dk,isFocusableFormField:hk,setDisplayed:Sr,setVisible:jZ,setDisabled:hv,isElementChildOfClass:Eh,getElementSize:gd,getInnerHeight:ty,getInnerWidth:yp,getAbsoluteHeight:pk,getAbsoluteWidth:W_,getElementRectWithOffset:fk,isRtlNegativeScroll:z_,getScrollLeft:U_,setScrollLeft:j_,clearElement:mi,removeFromParent:Il,isInDOM:vk,isVisible:Na,loadTemplate:Ko,ensureDomOrder:gk,setDomChildOrder:mk,insertWithDomOrder:KZ,addStylesToElement:_k,isHorizontalScrollShowing:qZ,isVerticalScrollShowing:YZ,setElementWidth:K_,setFixedWidth:cs,setElementHeight:VGe,setFixedHeight:xh,formatSize:x0,isNodeOrElement:ry,copyNodeList:XZ,iterateNamedNodeMap:QZ,addOrRemoveAttribute:Al,nodeListForEach:Ck,bindCellRendererToHtmlElement:yk}),HGe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ZZ(r,e,t){var n={},i=r.filter(function(o){return!e.some(function(a){return a===o})});return i.length>0&&i.forEach(function(o){return n[o]=ny(o,t).values}),n}function ny(r,e,t,n){var i,o,a=e.map(function(f,v){return{value:f,relevance:GGe(r.toLowerCase(),f.toLocaleLowerCase()),idx:v}});if(a.sort(function(f,v){return v.relevance-f.relevance}),t&&(a=a.filter(function(f){return f.relevance!==0})),a.length>0&&n&&n>0){var s=a[0].relevance,l=s*n;a=a.filter(function(f){return l-f.relevance<0})}var u=[],c=[];try{for(var d=HGe(a),h=d.next();!h.done;h=d.next()){var p=h.value;u.push(p.value),c.push(p.idx)}}catch(f){i={error:f}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return{values:u,indices:c}}function GGe(r,e){for(var t=r.replace(/\s/g,""),n=e.replace(/\s/g,""),i=0,o=-1,a=0;a<t.length;a++){var s=n.indexOf(t[a],o+1);s!==-1&&(o=s,i+=100-o*100/1e4*100)}return i}var $Ge=Object.freeze({__proto__:null,fuzzyCheckStrings:ZZ,fuzzySuggestions:ny}),JZ={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Ya(r,e,t){var n=Yn(r,e,t);if(n){var i=n.className;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function Yn(r,e,t,n){var i=null,o=t&&t.getColDef().icons;if(o&&(i=o[r]),e&&!i){var a=e.get("icons");a&&(i=a[r])}if(i){var s=void 0;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return Ko(s);if(ry(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=JZ[r];return u||(n?u=r:(console.warn("AG Grid: Did not find icon ".concat(r)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),si(l,"presentation"),l}}var WGe=Object.freeze({__proto__:null,iconNameClassMap:JZ,createIcon:Ya,createIconNoSpan:Yn}),le=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.D="KeyD",r.V="KeyV",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r}(),zGe=65,UGe=67,jGe=86,KGe=68,qGe=90,YGe=89;function I0(r){if(r.altKey||r.ctrlKey||r.metaKey)return!1;var e=r.key.length===1;return e}function xE(r,e,t,n,i){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a=r.addGridCommonParams({event:e,editing:i,column:n,node:t,data:t.data,colDef:n.getColDef()});if(o){var s=o(a);if(s)return!0}return!1}function eJ(r,e,t,n){var i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!Ee(o))return!1;var a=r.addGridCommonParams({colDef:i,column:n,headerRowIndex:t,event:e});return!!o(a)}function tJ(r){var e=r.keyCode,t;switch(e){case zGe:t=le.A;break;case UGe:t=le.C;break;case jGe:t=le.V;break;case KGe:t=le.D;break;case qGe:t=le.Z;break;case YGe:t=le.Y;break;default:t=r.code}return t}function rJ(r,e){return e===void 0&&(e=!1),r===le.DELETE?!0:!e&&r===le.BACKSPACE?sk():!1}var XGe=Object.freeze({__proto__:null,isEventFromPrintableCharacter:I0,isUserSuppressingKeyboardEvent:xE,isUserSuppressingHeaderKeyboardEvent:eJ,normaliseQwertyAzerty:tJ,isDeleteKey:rJ});function Sk(r,e,t){if(t===0)return!1;var n=Math.abs(r.clientX-e.clientX),i=Math.abs(r.clientY-e.clientY);return Math.max(n,i)<=t}var QGe=Object.freeze({__proto__:null,areEventsNear:Sk});function ZGe(r,e){if(!r)return!1;for(var t=function(s,l){var u=e[s.id],c=e[l.id],d=u!==void 0,h=c!==void 0,p=d&&h,f=!d&&!h;return p?u-c:f?s.__objectId-l.__objectId:d?1:-1},n,i,o=!1,a=0;a<r.length-1;a++)if(n=r[a],i=r[a+1],t(n,i)>0){o=!0;break}return o?(r.sort(t),!0):!1}var JGe=Object.freeze({__proto__:null,sortRowNodesByOrder:ZGe});function wk(r){var e=new Set;return r.forEach(function(t){return e.add(t)}),e}var e$e=Object.freeze({__proto__:null,convertToSet:wk}),ei=function(){return ei=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ei.apply(this,arguments)},t$e=ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei(ei({},RGe),JHe),OGe),LGe),BGe),tGe),HHe),$Ge),FHe),WGe),XGe),fGe),QGe),FGe),kHe),JGe),e$e),dGe),Jt=t$e,Zh=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return r.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(e){this.nextValue+=e},r}(),sh;(function(r){r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED"})(sh||(sh={}));var Wo=function(){function r(e){var t=this;this.status=sh.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(n){return t.onDone(n)},function(n){return t.onReject(n)})}return r.all=function(e){return new r(function(t){var n=e.length,i=new Array(n);e.forEach(function(o,a){o.then(function(s){i[a]=s,n--,n===0&&t(i)})})})},r.resolve=function(e){return e===void 0&&(e=null),new r(function(t){return t(e)})},r.prototype.then=function(e){var t=this;return new r(function(n){t.status===sh.RESOLVED?n(e(t.resolution)):t.waiters.push(function(i){return n(e(i))})})},r.prototype.resolveNow=function(e,t){return this.status===sh.RESOLVED?t(this.resolution):e},r.prototype.onDone=function(e){this.status=sh.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},r.prototype.onReject=function(e){console.warn("TBI")},r}(),r$e=function(){function r(){this.timestamp=new Date().getTime()}return r.prototype.print=function(e){var t=new Date().getTime()-this.timestamp;console.info("".concat(e," = ").concat(t)),this.timestamp=new Date().getTime()},r}(),n$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yd=function(){return Yd=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Yd.apply(this,arguments)},cD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ds;(function(r){r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING"})(Ds||(Ds={}));var pl;(function(r){r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS"})(pl||(pl={}));var bk=function(r){n$e(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parentComp=t,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=i,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=Ds.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return e.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===pl.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===pl.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var n=this.gridOptionsService.get(t);return n<0&&Tt("".concat(t," should not be lower than 0")),Math.max(200,n)},e.prototype.getTooltipDelay=function(t){var n,i;return t==="show"?(n=this.tooltipShowDelayOverride)!==null&&n!==void 0?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(i=this.tooltipHideDelayOverride)!==null&&i!==void 0?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")},e.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?pl.HOVER:pl.FOCUS},e.prototype.onMouseEnter=function(t){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Yu()&&(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===Ds.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var n,i=t.relatedTarget,o=this.parentComp.getGui(),a=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&(a!=null&&a.contains(i))||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=Ds.NOTHING||e.isLocked)return!1;var n=0;return t&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=Ds.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),n=e.lastTooltipHideTime;return t-n<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===Ds.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=Ds.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=Yd({},this.parentComp.getTooltipParams());if(!Ee(t.value)){this.setToDoNothing();return}this.state=Ds.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(t);i.newAgStackInstance().then(n)},e.prototype.hideTooltip=function(t){if(!(!t&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());var n={type:W.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=Ds.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,n){var i=this.state!==Ds.SHOWING||this.tooltipInstanceCount!==t;if(i){this.getContext().destroyBean(n);return}var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===pl.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===pl.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===pl.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:W.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var n,i=this.parentComp.getGui(),o=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui(),a=t.relatedTarget;o!=null&&o.contains(a)||(this.isInteractingWithTooltip=!1,i.contains(a)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Yd(Yd({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Yd(Yd({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,i=this.tooltipComp,o=this.tooltipTrigger===pl.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){n(),t.getContext().destroyBean(i)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(t){t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){t.unlockService(),t.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,cD([k("popupService")],e.prototype,"popupService",void 0),cD([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),cD([Fe],e.prototype,"postConstruct",null),e}(Re),nJ=function(){function r(e){this.cssClassStates={},this.getGui=e}return r.prototype.addCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(a){return t.addCssClass(a)});return}var i=this.cssClassStates[e]!==!0;if(i&&e.length){var o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}},r.prototype.removeCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(a){return t.removeCssClass(a)});return}var i=this.cssClassStates[e]!==!1;if(i&&e.length){var o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}},r.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},r.prototype.addOrRemoveCssClass=function(e,t){var n=this;if(e){if(e.indexOf(" ")>=0){var i=(e||"").split(" ");if(i.length>1){i.forEach(function(s){return n.addOrRemoveCssClass(s,t)});return}}var o=this.cssClassStates[e]!==t;if(o&&e.length){var a=this.getGui();a&&a.classList.toggle(e,t),this.cssClassStates[e]=t}}},r}(),i$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},o$e=new Zh,jt=function(r){i$e(e,r);function e(t){var n=r.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=o$e.next(),n.cssClassManager=new nJ(function(){return n.eGui}),t&&n.setTemplate(t),n}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,n,i){var o=this,a=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},s=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new bk(o,n,i))};this.tooltipText!=t&&(this.tooltipText&&a(),t!=null&&(this.tooltipText=t,this.tooltipText&&s()))},e.prototype.createChildComponentsFromTags=function(t,n){var i=this,o=XZ(t.childNodes);o.forEach(function(a){if(a instanceof HTMLElement){var s=i.createComponentFromElement(a,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(a,u.getGui())},n);if(s){if(s.addItems&&a.children.length){i.createChildComponentsFromTags(a,n);var l=Array.prototype.slice.call(a.children);s.addItems(l)}i.swapComponentForNode(s,t,a)}else a.childNodes&&i.createChildComponentsFromTags(a,n)}})},e.prototype.createComponentFromElement=function(t,n,i){var o=t.nodeName,a=i?i[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){e.elementGettingCreated=t;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,n),l}return null},e.prototype.copyAttributesFromNode=function(t,n){QZ(t.attributes,function(i,o){return n.setAttribute(i,o)})},e.prototype.swapComponentForNode=function(t,n,i){var o=t.getGui();n.replaceChild(o,i),n.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,i)},e.prototype.swapInComponentForQuerySelectors=function(t,n){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===n&&(i[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var n=Object.getPrototypeOf(this);n!=null;){var i=n.__agComponentMetaData,o=S0(n.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(a){return t(a)}),n=Object.getPrototypeOf(n)}},e.prototype.activateTabIndex=function(t){var n=this.gridOptionsService.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(function(i){return i.setAttribute("tabindex",n.toString())})},e.prototype.setTemplate=function(t,n){var i=Ko(t);this.setTemplateFromElement(i,n)},e.prototype.setTemplateFromElement=function(t,n){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return n[i.attributeName]=l},a=i.refSelector&&t.getAttribute("ref")===i.refSelector;if(a)o(t.eGui);else{var s=t.eGui.querySelector(i.querySelector);s&&o(s.__agComponent||s)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,n){if(t!=null)if(n||(n=this.eGui),ry(t))n.appendChild(t);else{var i=t;n.appendChild(i.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,n){if(n===void 0&&(n={}),t!==this.visible){this.visible=t;var i=n.skipAriaHidden;jZ(this.eGui,t,{skipAriaHidden:i})}},e.prototype.setDisplayed=function(t,n){if(n===void 0&&(n={}),t!==this.displayed){this.displayed=t;var i=n.skipAriaHidden;Sr(this.eGui,t,{skipAriaHidden:i});var o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),r.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,n,i){var o=this;this.eGui.addEventListener(t,n,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(t,n)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,n){this.cssClassManager.addOrRemoveCssClass(t,n)},e.prototype.getAttribute=function(t){var n=this.eGui;return n?n.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'.concat(t,'"]'))},e.EVENT_DISPLAYED_CHANGED="displayedChanged",dD([k("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),dD([wM],e.prototype,"preConstructOnComponent",null),dD([wM],e.prototype,"createChildComponentsPreConstruct",null),e}(Re);function a$e(r){return iJ.bind(this,r,void 0)}function We(r){return iJ.bind(this,"[ref=".concat(r,"]"),r)}function iJ(r,e,t,n,i){if(r===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}s$e(t,"querySelectors",{attributeName:n,querySelector:r,refSelector:e})}function s$e(r,e,t){var n=l$e(r,S0(r.constructor));n[e]||(n[e]=[]),n[e].push(t)}function l$e(r,e){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[e]||(r.__agComponentMetaData[e]={}),r.__agComponentMetaData[e]}var u$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),b2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},c$e=function(r){u$e(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(n," ").concat(i("ariaFilterInput","Filter Input")))},e.prototype.onParentModelChanged=function(t){var n=this;if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(t);n.eFloatingFilterText.setValue(o)}})},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.init(t)},b2([We("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),b2([k("columnModel")],e.prototype,"columnModel",void 0),e}(jt),oJ=function(){function r(e,t,n,i){var o=this;this.alive=!0,this.context=e,this.eParent=i;var a=t.getDateCompDetails(n),s=a.newAgStackInstance();s.then(function(l){if(!o.alive){e.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},r.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},r.prototype.setDisplayed=function(e){Sr(this.eParent,e)},r.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},r.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},r.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},r.prototype.updateParams=function(e){var t,n,i=!1;if(!((t=this.dateComp)===null||t===void 0)&&t.refresh&&typeof this.dateComp.refresh=="function"){var o=this.dateComp.refresh(e);o!==null&&(i=!0)}if(!i&&(!((n=this.dateComp)===null||n===void 0)&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"){var o=this.dateComp.onParamsUpdated(e);o!==null&&Tt("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}},r.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},r}(),aJ=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if(typeof t!="string"){var n=[["displayKey"],["displayName"],["predicate","test"]],i=function(o){return o.some(function(a){return t[a]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!n.every(i)){e.filterOptions=e.filterOptions.filter(function(o){return o===t})||[];return}e.customFilterOptions[t.displayKey]=t}})},r.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},r}(),sJ={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},d$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OM=function(){return OM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},OM.apply(this,arguments)},E2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},md=function(r){d$e(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this)||this;return i.eFocusableElement=t,i.callbacks=n,i.callbacks=OM({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},n),i}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var n=this;this.addManagedListener(t,"keydown",function(i){if(!(i.defaultPrevented||Ws(i))){if(n.callbacks.shouldStopEventPropagation(i)){Ys(i);return}i.key===le.TAB?n.callbacks.onTabKeyDown(i):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(i)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",E2([k("focusService")],e.prototype,"focusService",void 0),E2([Fe],e.prototype,"postConstruct",null),e}(Re),h$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lJ="ag-resizer-wrapper",p$e='<div class="'.concat(lJ,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),Ek=function(r){h$e(e,r);function e(t,n){var i=r.call(this)||this;return i.element=t,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return e.prototype.center=function(){var t=this.offsetParent,n=t.clientHeight,i=t.clientWidth,o=i/2-this.getWidth()/2,a=n/2-this.getHeight()/2;this.offsetElement(o,a)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,n=t.centered,i=t.forcePopupParentAsOffsetParent,o=t.minWidth,a=t.width,s=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,p=Na(this.element);if(p){var f=this.findBoundaryElement(),v=window.getComputedStyle(f);if(v.minWidth!=null){var g=f.offsetWidth-this.element.offsetWidth;h=parseInt(v.minWidth,10)-g}if(v.minHeight!=null){var m=f.offsetHeight-this.element.offsetHeight;d=parseInt(v.minHeight,10)-m}}if(this.minHeight=s||d,this.minWidth=o||h,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),n)this.center();else if(u||c)this.offsetElement(u,c);else if(p&&i){var f=this.boundaryEl,C=!0;if(f||(f=this.findBoundaryElement(),C=!1),f){var y=parseFloat(f.style.top),w=parseFloat(f.style.left);C?this.offsetElement(isNaN(w)?0:w,isNaN(y)?0:y):this.setPosition(w,y)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,n){if(!(!this.config.popup||t===this.movable)){this.movable=t;var i=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var n=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(i){var o=t,a=!!o[i],s=n.getResizerElement(i),l={dragStartPixels:0,eElement:s,onDragStart:function(u){return n.onResizeStart(u,i)},onDragging:n.onResize.bind(n),onDragStop:function(u){return n.onResizeEnd(u,i)}};(a||!n.isAlive()&&!a)&&(a?(n.dragService.addDragSource(l),n.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",n.resizable[i]=a)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,n=t.height,i=t.width;i!==-1&&(this.element.style.width="".concat(i,"px")),n!==-1&&(this.element.style.height="".concat(n,"px"))},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var n=this.config.popup,i=this.element,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)xh(i,t),t=pk(i),o=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var a=this.getAvailableHeight();a&&t>a&&(t=a)}this.getHeight()!==t&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):n?xh(i,t):(i.style.height="".concat(t,"px"),i.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,n=t.popup,i=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=n?this.position.y:a.top,u=n?0:s.top,c=0;if(i){var d=this.element.parentElement;if(d){var h=d.getBoundingClientRect().bottom;c=h-a.bottom}}var p=o+u-l-c;return p},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var n=this.element,i=this.config.popup,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)cs(n,t),t=W_(n),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var a=this.offsetParent.clientWidth,s=i?this.position.x:this.element.getBoundingClientRect().left;a&&t+s>a&&(t=a-s)}this.getWidth()!==t&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?cs(n,t):(n.style.width="".concat(t,"px"),n.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=this.config.forcePopupParentAsOffsetParent,o=i?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var n=this;if(this.config.forcePopupParentAsOffsetParent){var i=function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height","".concat(o,"px"))};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n},e.prototype.updateDragStartPosition=function(t,n){this.dragStartPosition={x:t,y:n}},e.prototype.calculateMouseMovement=function(t){var n=t.e,i=t.isLeft,o=t.isTop,a=t.anywhereWithin,s=t.topBuffer,l=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,c=this.shouldSkipX(n,!!i,!!a,l)?0:l,d=this.shouldSkipY(n,!!o,s,u)?0:u;return{movementX:c,movementY:d}},e.prototype.shouldSkipX=function(t,n,i,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:a.left,c=u<=0&&s.left>=t.clientX||s.right<=t.clientX&&s.right<=l.right;return c?!0:(n?c=o<0&&t.clientX>u+s.left||o>0&&t.clientX<u+s.left:i?c=o<0&&t.clientX>l.right||o>0&&t.clientX<u+s.left:c=o<0&&t.clientX>l.right||o>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,n,i,o){i===void 0&&(i=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:a.top,c=u<=0&&s.top>=t.clientY||s.bottom<=t.clientY&&s.bottom<=l.bottom;return c?!0:(n?c=o<0&&t.clientY>u+s.top+i||o>0&&t.clientY<u+s.top:c=o<0&&t.clientY>l.bottom||o>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var n=new DOMParser,i=n.parseFromString(p$e,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".".concat(lJ));t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var i=this.config,o=i.popup,a=i.forcePopupParentAsOffsetParent;!o&&!a&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,n=t.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],n=0,i=0,o=0;o<t.length;o++){var a=t[o],s=!!a.style.flex&&a.style.flex!=="0 0 auto";if(a!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(s){var c=window.getComputedStyle(a);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=a.offsetHeight,u=a.offsetWidth;n+=l,i+=u}}return{height:n,width:i}},e.prototype.applySizeToSiblings=function(t){var n=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var a=i[o];a!==n&&(t?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(n=i[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var n=this.config,i=n.popup,o=n.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,l=a.isRight,u=a.isBottom,c=a.isLeft,d=l||c,h=u||s,p=this.calculateMouseMovement({e:t,isLeft:c,isTop:s}),f=p.movementX,v=p.movementY,g=this.position.x,m=this.position.y,C=0,y=0;if(d&&f){var w=c?-1:1,T=this.getWidth(),S=T+f*w,x=!1;c&&(C=T-S,(g+C<=0||S<=this.minWidth)&&(x=!0,C=0)),x||this.setWidth(S)}if(h&&v){var w=s?-1:1,I=this.getHeight(),R=I+v*w,D=!1;s?(y=I-R,(m+y<=0||R<=this.minHeight)&&(D=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&I<R&&this.getMinSizeOfSiblings().height+R>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(R)}this.updateDragStartPosition(t.clientX,t.clientY),((i||o)&&C||y)&&this.offsetElement(g+C,m+y)}},e.prototype.onResizeEnd=function(t,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(i)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var n=this.position,i=n.x,o=n.y,a;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:a}),l=s.movementX,u=s.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},hD([k("popupService")],e.prototype,"popupService",void 0),hD([k("resizeObserverService")],e.prototype,"resizeObserverService",void 0),hD([k("dragService")],e.prototype,"dragService",void 0),e}(Re),f$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},q_=function(r){f$e(e,r);function e(t){var n=r.call(this)||this;return n.filterNameKey=t,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n.buttonListeners=[],n}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new md(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Ek(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(i,t),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var n=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetButtonsPanel()},e.prototype.updateParams=function(t){var n=this;this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.resetButtonsPanel=function(){var t=this,n=this.providedFilterParams.buttons,i=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(mi(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s==null?void 0:s()}),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&Il(this.eButtonsPanel);return}var o=document.createDocumentFragment(),a=function(s){var l,u;switch(s){case"apply":l=t.translate("applyFilter"),u=function(h){return t.onBtApply(!1,!1,h)};break;case"clear":l=t.translate("clearFilter"),u=function(){return t.onBtClear()};break;case"reset":l=t.translate("resetFilter"),u=function(){return t.onBtReset()};break;case"cancel":l=t.translate("cancelFilter"),u=function(h){t.onBtCancel(h)};break;default:console.warn("AG Grid: Unknown button type specified");return}var c=s==="apply"?"submit":"button",d=Ko(`<button
                    type="`.concat(c,`"
                    ref="`).concat(s,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));t.buttonListeners.push(t.addManagedListener(d,"click",u)),o.append(d)};wk(n).forEach(function(s){return a(s)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Ia(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,i()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var n=this,i=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return i.then(function(){n.updateUiVisibility(),n.applyModel("api")})},e.prototype.onBtCancel=function(t){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(t)})},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,n){var i=this,o=function(){i.onUiChanged(!1,"prevent"),n==null||n()};t!=null?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,n,i){if(t===void 0&&(t=!1),n===void 0&&(n=!1),i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:n,source:o})}var a=this.providedFilterParams.closeOnApply;a&&this.applyActive&&!t&&!n&&this.close(i)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var n=t,i=n&&n.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:n}),this.hidePopup(o),this.hidePopup=null}},e.prototype.onUiChanged=function(t,n){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&hv(o,!i)}t&&!n||n==="immediately"?this.onBtApply(t):(!this.applyActive&&!n||n==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(!(!this.positionableFeature||t==="toolPanel")){var n=t==="floatingFilter"||t==="columnFilter",i=this,o=i.positionableFeature,a=i.gridOptionsService;n?(o.restoreLastSize(),o.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.refresh=function(t){return this.providedFilterParams=t,!0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,r.prototype.destroy.call(this)},e.prototype.translate=function(t){var n=this.localeService.getLocaleTextFunc();return n(t,sJ[t])},e.prototype.getCellValue=function(t){return this.providedFilterParams.getValue(t)},e.prototype.getPositionableElement=function(){return this.eFilterBody},pD([k("rowModel")],e.prototype,"rowModel",void 0),pD([We("eFilterBody")],e.prototype,"eFilterBody",void 0),pD([Fe],e.prototype,"postConstruct",null),e}(jt),v$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),g$e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xk=function(r){v$e(e,r);function e(t,n){var i=r.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=t||{},i}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,n=t.labelSeparator,i=t.label,o=t.labelWidth,a=t.labelAlignment;n!=null&&this.setLabelSeparator(n),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){mi(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Sr(this.eLabel,!1),si(this.eLabel,"presentation")):(Sr(this.eLabel,!0),si(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var n=this.getGui(),i=n.classList;return i.toggle("ag-label-align-left",t==="left"),i.toggle("ag-label-align-right",t==="right"),i.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(K_(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var n=this.getGui();return hv(n,t),n.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},g$e([Fe],e.prototype,"postConstruct",null),e}(jt),m$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ik=function(r){m$e(e,r);function e(t,n,i){var o=r.call(this,t,n)||this;return o.className=i,o}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},e.prototype.refreshAriaLabelledBy=function(){var t=this.getAriaElement(),n=this.getLabelId();RZ(t)!==null?bE(t,""):bE(t,n??"")},e.prototype.setAriaLabel=function(t){return vd(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,W.EVENT_FIELD_VALUE_CHANGED,function(){return t(n.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return cs(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t?this:(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED}),this)},e}(xk),_$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ag=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},C$e=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Tk=function(r){_$e(e,r);function e(t){var n=r.call(this,t,(t==null?void 0:t.template)||C$e,t==null?void 0:t.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=t==null?void 0:t.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!t)return n;var i=t.pickerGap,o=t.maxPickerHeight,a=t.variableWidth,s=t.minPickerWidth,l=t.maxPickerWidth;return i!=null&&(n.pickerGap=i),n.variableWidth=!!a,o!=null&&n.setPickerMaxHeight(o),s!=null&&n.setPickerMinWidth(s),l!=null&&n.setPickerMaxWidth(l),n}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setupAria();var t="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",t);var n=this.getAriaElement();this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Yn(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Mu(t,!1),this.ariaRole&&si(t,this.ariaRole)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t){var n=this.getFocusableElement();if(n!==this.eWrapper&&(t==null?void 0:t.target)===n)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case le.UP:case le.DOWN:case le.ENTER:case le.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case le.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,n=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,function(){t.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),a=this.config,s=a.pickerAriaLabelKey,l=a.pickerAriaLabelValue,u=a.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:i,closeOnEsc:!0,closedCallback:function(){var y=n.activeElement===n.body;t.beforeHidePicker(),y&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:o(s,l)},h=this.popupService.addPopup(d),p=this,f=p.maxPickerHeight,v=p.minPickerWidth,g=p.maxPickerWidth,m=p.variableWidth;m?(v&&(i.style.minWidth=v),i.style.width=x0(W_(this.eWrapper)),g&&(i.style.maxWidth=g)):K_(i,g??W_(this.eWrapper));var C=f??"".concat(ty(this.popupService.getPopupParent()),"px");return i.style.setProperty("max-height",C),i.style.position="absolute",this.alignPickerToComponent(),h.hideFunc},e.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var t=this.config.pickerType,n=this.pickerGap,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:n})}},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){if(this.isAlive()){var n=this.getAriaElement();Mu(n,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var n;!((n=this.pickerComponent)===null||n===void 0)&&n.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setInputWidth=function(t){return K_(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.minPickerWidth=t??void 0,this},e.prototype.setPickerMaxWidth=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerWidth=t??void 0,this},e.prototype.setPickerMaxHeight=function(t){return typeof t=="number"&&(t="".concat(t,"px")),this.maxPickerHeight=t??void 0,this},e.prototype.destroy=function(){this.hidePicker(),r.prototype.destroy.call(this)},Ag([k("popupService")],e.prototype,"popupService",void 0),Ag([We("eLabel")],e.prototype,"eLabel",void 0),Ag([We("eWrapper")],e.prototype,"eWrapper",void 0),Ag([We("eDisplayField")],e.prototype,"eDisplayField",void 0),Ag([We("eIcon")],e.prototype,"eIcon",void 0),e}(Ik),y$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S$e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},x2=function(r){y$e(e,r);function e(t){t===void 0&&(t="default");var n=r.call(this,'<div class="ag-list ag-'.concat(t,'-list" role="listbox"></div>'))||this;return n.cssIdentifier=t,n.options=[],n.itemEls=[],n}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var n=t.key;switch(n){case le.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case le.DOWN:case le.UP:var o=n===le.DOWN,a=void 0;if(t.preventDefault(),!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{var s=this.itemEls.indexOf(this.highlightedEl),l=s+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}this.highlightItem(a);break}},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(i){return n.addOption(i)}),this},e.prototype.addOption=function(t){var n=t.value,i=t.text,o=oi(i||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(n,i){ek(n,i+1),JN(n,t.length)})},e.prototype.renderOption=function(t,n){var i=this,o=document.createElement("div");si(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(n,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,n){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var i=this.options.findIndex(function(a){return a.value===t});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var n=this.options.findIndex(function(i){return i.value===t.value});n!==-1&&this.highlightItem(this.itemEls[n])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){Na(t)&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),dv(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!Na(this.highlightedEl)||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),dv(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",S$e([Fe],e.prototype,"init",null),e}(jt),w$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DM=function(){return DM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},DM.apply(this,arguments)},iy=function(r){w$e(e,r);function e(t){return r.call(this,DM({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new x2("select")),this.listComponent.setParentComponent(this);var n=this.listComponent.getAriaElement(),i="ag-select-list-".concat(this.listComponent.getCompId());n.setAttribute("id",i),nk(this.getAriaElement(),n),this.listComponent.addGuiEventListener("keydown",function(o){o.key===le.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,x2.EVENT_ITEM_SELECTED,function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,W.EVENT_FIELD_VALUE_CHANGED,function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())})},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(r.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(i){return n.addOption(i)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,n,i){if(this.value===t||!this.listComponent)return this;i||this.listComponent.setValue(t,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,t,n))},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),r.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}(Tk),b$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Nc=function(r){b$e(e,r);function e(t,n,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var a=r.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),n)||this;return a.inputType=i,a.displayFieldTag=o,a}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var t=this.config,n=t.width,i=t.value;n!=null&&this.setWidth(n),i!=null&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){return t.setValue(n.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return K_(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var n=this.eInput;return n.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return Al(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return vd(this.eInput,t),this.refreshAriaLabelledBy(),this},e.prototype.setDisabled=function(t){return hv(this.eInput,t),r.prototype.setDisabled.call(this,t)},e.prototype.setAutoComplete=function(t){if(t===!0)Al(this.eInput,"autocomplete",null);else{var n=typeof t=="string"?t:"off";Al(this.eInput,"autocomplete",n)}return this},fD([We("eLabel")],e.prototype,"eLabel",void 0),fD([We("eWrapper")],e.prototype,"eWrapper",void 0),fD([We("eInput")],e.prototype,"eInput",void 0),e}(Ik),E$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oy=function(r){E$e(e,r);function e(t,n,i){n===void 0&&(n="ag-checkbox"),i===void 0&&(i="checkbox");var o=r.call(this,t,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),r.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,t):this.setValue(n)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,n){return this.refreshSelectedClass(t),this.setSelected(t,n),this},e.prototype.setName=function(t){var n=this.getInputElement();return n.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,n){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,n||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,i){this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:n,event:i});var o=this.getInputElement(),a={type:W.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n};this.eventService.dispatchEvent(a)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var n=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,n,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(Nc),x$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rk=function(r){x$e(e,r);function e(t){return r.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,W.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(oy),I$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T$e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},R$e=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Ok=function(){function r(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}return r.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var n=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(n){var o=e,a=o.conditions;if(!a){var s=o.condition1,l=o.condition2;a=[s,l]}var u=a.map(function(m){return t.getModelAsString(m)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(i(c,sJ[c])," "))}else{if(e.type===yn.BLANK||e.type===yn.NOT_BLANK)return i(e.type,e.type);var d=e,h=this.optionsFactory.getCustomOption(d.type),p=h||{},f=p.displayKey,v=p.displayName,g=p.numberOfInputs;return f&&v&&g===0?(i(f,v),v):this.conditionToString(d,h)}},r.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},r.prototype.formatValue=function(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)},r}(),yn=function(r){I$e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var i=n.numberOfInputs;return i??1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,n){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var n=this;this.eTypes.forEach(function(i,o){o===0?i.setValue(t,!0):i.setValue(n.optionsFactory.getDefaultOption(),!0)})},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map(function(t){return t.getValue()})},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,n){var i=this;if(!t&&!n)return!0;if(!t&&n||t&&!n)return!1;var o=!t.operator,a=!n.operator,s=!o&&a||o&&!a;if(s)return!1;var l;if(o){var u=t,c=n;l=this.areSimpleModelsEqual(u,c)}else{var d=t,h=n;l=d.operator===h.operator&&fu(d.conditions,h.conditions,function(p,f){return i.areSimpleModelsEqual(p,f)})}return l},e.prototype.shouldRefresh=function(t){var n,i,o,a=this.getModel(),s=a?(n=a.conditions)!==null&&n!==void 0?n:[a]:null,l=(o=(i=t.filterOptions)===null||i===void 0?void 0:i.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),u=!s||s.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof t.maxNumConditions=="number"&&s&&s.length>t.maxNumConditions)},e.prototype.refresh=function(t){if(!this.shouldRefresh(t))return!1;var n=r.prototype.refresh.call(this,t);return n?(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},e.prototype.setModelIntoUi=function(t){var n=this,i=t.operator;if(i){var o=t;o.conditions||(o.conditions=[o.condition1,o.condition2]);var a=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,h){n.eTypes[h].setValue(d.type,!0),n.setConditionIntoUi(d,h)})}else{var c=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Wo.resolve()},e.prototype.validateAndUpdateConditions=function(t){var n=t.length;return n>this.maxNumConditions&&(t.splice(this.maxNumConditions),Tt('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n},e.prototype.doesFilterPass=function(t){var n=this,i,o=this.getModel();if(o==null)return!0;var a=o.operator,s=[];if(a){var l=o;s.push.apply(s,R$e([],T$e((i=l.conditions)!==null&&i!==void 0?i:[]),!1))}else s.push(o);var u=a&&a==="OR"?"some":"every";return s[u](function(c){return n.individualConditionPasses(t,c)})},e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new aJ,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var n,i;t.suppressAndOrCondition!=null&&Tt('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),t.alwaysShowBothConditions!=null&&Tt('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(n=t.maxNumConditions)!==null&&n!==void 0?n:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Tt('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=t.numAlwaysVisibleConditions)!==null&&i!==void 0?i:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Tt('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Tt('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,n=this.createManagedBean(new iy);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(a){return t.resetInput(a)}),this.addChangedListeners(n,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,a),this.resetJoinOperatorOr(i,o,a),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,n,i){var o=this.createManagedBean(new Rk);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(i)),n.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return t==="AND"||t==="OR"?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(i){return typeof i=="string"?t.createBoilerplateListOption(i):t.createCustomListOption(i)})},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach(function(n){t.addOption(n)}),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var n=t.displayKey,i=this.optionsFactory.getCustomOption(t.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,n=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var a=(t=this.lastUiCompletePosition)!==null&&t!==void 0?t:this.getNumConditions()-2;if(n<a){this.removeConditionsAndOperators(a+1);var s=n+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},e.prototype.updateConditionStatusesAndValues=function(t,n){var i=this;this.eTypes.forEach(function(a,s){var l=i.isConditionDisabled(s,t);a.setDisabled(l||i.filterListOptions.length<=1),s===1&&(hv(i.eJoinOperatorPanels[0],l),i.eJoinOperatorsAnd[0].setDisabled(l),i.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){Sr(a,i.isConditionBodyVisible(s))});var o=(n??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(o,!0)}),this.forEachInput(function(a,s,l,u){i.setElementDisplayed(a,s<u),i.setElementDisabled(a,i.isConditionDisabled(l,t))}),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,n){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,n),this.removeElements(this.eConditionBodies,t,n),this.removeValueElements(t,n);var i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}},e.prototype.removeElements=function(t,n,i){var o=this.removeItems(t,n,i);o.forEach(function(a){return Il(a)})},e.prototype.removeComponents=function(t,n,i){var o=this,a=this.removeItems(t,n,i);a.forEach(function(s){Il(s.getGui()),o.destroyBean(s)})},e.prototype.removeItems=function(t,n,i){return i==null?t.splice(n):t.splice(n,i)},e.prototype.afterGuiAttached=function(t){if(r.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof Nc&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){r.prototype.afterGuiDetached.call(this);var t=this.getModel();this.resetUiToActiveModel(t);for(var n=-1,i=-1,o=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))n===-1&&(n=s,i=s);else{var l=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),u=s<n;(l||u)&&(this.removeConditionsAndOperators(s,1),o=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,a),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},e.prototype.getPlaceholderText=function(t,n){var i=this.translate(t);if(w0(this.filterPlaceholder)){var o=this.filterPlaceholder,a=this.eTypes[n].getValue(),s=this.translate(a);i=o({filterOptionKey:a,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i},e.prototype.resetPlaceholder=function(){var t=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,a,s){if(i instanceof Nc){var l=o===0&&s>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&s>1?n("ariaFilterFromValue","Filter from value"):o===0?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(t.getPlaceholderText(l,a)),i.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,n,i){t instanceof Nc&&t.setValue(n!=null?String(n):null,!0)},e.prototype.setElementDisplayed=function(t,n){t instanceof jt&&Sr(t.getGui(),n)},e.prototype.setElementDisabled=function(t,n){t instanceof jt&&hv(t.getGui(),n)},e.prototype.attachElementOnChange=function(t,n){t instanceof Nc&&t.onValueChange(n)},e.prototype.forEachInput=function(t){var n=this;this.getConditionTypes().forEach(function(i,o){n.forEachPositionTypeInput(o,i,t)})},e.prototype.forEachPositionInput=function(t,n){var i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,n)},e.prototype.forEachPositionTypeInput=function(t,n,i){for(var o=this.getNumberOfInputs(n),a=this.getInputs(t),s=0;s<a.length;s++){var l=a[s];l!=null&&i(l,s,t,o)}},e.prototype.isConditionDisabled=function(t,n){return this.isReadOnly()?!0:t===0?!1:t>n+1},e.prototype.isConditionBodyVisible=function(t){var n=this.getConditionType(t),i=this.getNumberOfInputs(n);return i>0},e.prototype.isConditionUiComplete=function(t){if(t>=this.getNumConditions())return!1;var n=this.getConditionType(t);return!(n===e.EMPTY||this.getValues(t).some(function(i){return i==null}))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&t.push(this.createCondition(n));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return n.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return n.resetJoinOperatorAnd(i,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return n.resetJoinOperatorOr(i,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return n.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Wo.resolve()},e.prototype.resetType=function(t){var n=this.localeService.getLocaleTextFunc(),i=n("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,n,i){this.resetJoinOperator(t,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},e.prototype.resetJoinOperatorOr=function(t,n,i){this.resetJoinOperator(t,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},e.prototype.resetJoinOperator=function(t,n,i,o,a){this.updateJoinOperatorDisabled(t.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(o),n)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach(function(n,i){return t.updateJoinOperatorDisabled(n,i)}),this.eJoinOperatorsOr.forEach(function(n,i){return t.updateJoinOperatorDisabled(n,i)})},e.prototype.updateJoinOperatorDisabled=function(t,n){t.setDisabled(this.isReadOnly()||n>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,n){var i=this,o=this.mapValuesFromModel(t);this.forEachInput(function(a,s,l,u){l===n&&i.setElementValue(a,o[s]!=null?o[s]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var n=this;this.forEachInput(function(i,o,a,s){n.setElementValue(i,o===0&&a===0?t:null,!0)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,n){var i=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(n,function(o){i.attachElementOnChange(o,i.listener)}))},e.prototype.individualConditionPasses=function(t,n){var i=this.getCellValue(t.node),o=this.mapValuesFromModel(n),a=this.optionsFactory.getCustomOption(n.type),s=this.evaluateCustomFilter(a,o,i);return s??(i==null?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,i,n,t))},e.prototype.evaluateCustomFilter=function(t,n,i){if(t!=null){var o=t.predicate;if(o!=null&&!n.some(function(a){return a==null}))return o(n,i)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(q_),O$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Un=function(r){O$e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,i){var o=this.comparator(),a=t[0]!=null?o(t[0],n):0;switch(i.type){case e.EQUALS:return a===0;case e.NOT_EQUAL:return a!==0;case e.GREATER_THAN:return a>0;case e.GREATER_THAN_OR_EQUAL:return a>=0;case e.LESS_THAN:return a<0;case e.LESS_THAN_OR_EQUAL:return a<=0;case e.IN_RANGE:{var s=o(t[1],n);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0}case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(yn),uJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AM=function(){return AM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},AM.apply(this,arguments)},D$e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},I2=1e3,T2=1/0,cJ=function(r){uJ(e,r);function e(t,n,i){var o=r.call(this,n,i)||this;return o.dateFilterParams=t,o}return e.prototype.conditionToString=function(t,n){var i=t.type,o=(n||{}).numberOfInputs,a=i==yn.IN_RANGE||o===2,s=jo(t.dateFrom),l=jo(t.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var c=s!==null?Uf(s,u):"null",d=l!==null?Uf(l,u):"null";return"".concat(c,"-").concat(d)}return s!=null?Uf(s,u):"".concat(i)},e.prototype.updateParams=function(t){r.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},e}(Ok),Dk=function(r){uJ(e,r);function e(){var t=r.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=I2,t.maxValidYear=T2,t.minValidDate=null,t.maxValidDate=null,t}return e.prototype.afterGuiAttached=function(t){r.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.dateFrom,o=n.dateTo,a=n.type;return[i&&jo(i)||null,o&&jo(o)||null].slice(0,this.getNumberOfInputs(a))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,n){var i=n;return n==null||i<t?-1:i>t?1:0},e.prototype.setParams=function(t){this.dateFilterParams=t,r.prototype.setParams.call(this,t);var n=function(i,o){if(t[i]!=null)if(isNaN(t[i]))console.warn("AG Grid: DateFilter ".concat(i," is not a number"));else return t[i]==null?o:Number(t[i]);return o};this.minValidYear=n("minValidYear",I2),this.maxValidYear=n("maxValidYear",T2),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:jo(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:jo(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new cJ(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var n=this,i=new oJ(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc(function(){return i.destroy()}),i},e.prototype.setElementValue=function(t,n){t.setDate(n)},e.prototype.setElementDisplayed=function(t,n){t.setDisplayed(n)},e.prototype.setElementDisabled=function(t,n){t.setDisabled(n)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,n,i,o){var a=document.createElement("div");a.classList.add("ag-filter-".concat(o)),a.classList.add("ag-filter-date-".concat(o)),n.push(a),t.appendChild(a),i.push(this.createDateCompWrapper(a))},e.prototype.removeValueElements=function(t,n){this.removeDateComps(this.dateConditionFromComps,t,n),this.removeDateComps(this.dateConditionToComps,t,n),this.removeItems(this.eConditionPanelsFrom,t,n),this.removeItems(this.eConditionPanelsTo,t,n)},e.prototype.removeDateComps=function(t,n,i){var o=this.removeItems(t,n,i);o.forEach(function(a){return a.destroy()})},e.prototype.isValidDateValue=function(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(t){var n=this;if(!r.prototype.isConditionUiComplete.call(this,t))return!1;var i=!0;return this.forEachInput(function(o,a,s,l){s!==t||!i||a>=l||(i=i&&n.isValidDateValue(o.getDate()))}),i},e.prototype.areSimpleModelsEqual=function(t,n){return t.dateFrom===n.dateFrom&&t.dateTo===n.dateTo&&t.type===n.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={},o=this.getValues(t);return o.length>0&&(i.dateFrom=us(o[0])),o.length>1&&(i.dateTo=us(o[1])),AM({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(i)})},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var n=[];return this.forEachPositionInput(t,function(i,o,a,s){o<s&&n.push(i.getDate())}),n},e.prototype.translate=function(t){return t===Un.LESS_THAN?r.prototype.translate.call(this,"before"):t===Un.GREATER_THAN?r.prototype.translate.call(this,"after"):r.prototype.translate.call(this,t)},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[Un.EQUALS,Un.NOT_EQUAL,Un.LESS_THAN,Un.GREATER_THAN,Un.IN_RANGE,Un.BLANK,Un.NOT_BLANK],D$e([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(Un),A$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dJ=function(r){A$e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return t==null?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var n=t.operator,i;if(n){var o=t;i=o.conditions[0]}else i=t;this.lastType=i.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var n=t.operator;if(n)return!1;var i=t;return this.isTypeEditable(i.type)},e.prototype.init=function(t){this.setSimpleParams(t,!1)},e.prototype.setSimpleParams=function(t,n){n===void 0&&(n=!0),this.optionsFactory=new aJ,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),n||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;var i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var n=this.optionsFactory.getCustomOption(t),i=(n||{}).numberOfInputs;return i==null||i==1},e.prototype.isTypeEditable=function(t){var n=[yn.IN_RANGE,yn.EMPTY,yn.BLANK,yn.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&n.indexOf(t)<0},e}(jt),P$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},M$e=function(r){P$e(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return Dk.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(t){r.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new cJ(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){r.prototype.refresh.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())},e.prototype.updateCompOnModelChange=function(t){var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(n),n){if(t){var i=t;this.dateComp.setDate(jo(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)},e.prototype.setEditable=function(t){Sr(this.eDateWrapper,t),Sr(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(r.prototype.setLastTypeFromModel.call(this,t),this.updateCompOnModelChange(t))},e.prototype.onDateChanged=function(){var t=this,n=this.dateComp.getDate(),i=us(n);this.params.parentFilterInstance(function(o){if(o){var a=jo(i);o.onFloatingFilterChanged(t.getLastType()||null,a)}})},e.prototype.getDateComponentParams=function(){var t=q_.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ia(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new oJ(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},e.prototype.updateDateComponent=function(){var t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},vD([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),vD([We("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),vD([We("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(dJ),F$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L$e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},N$e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},k$e=function(r){F$e(e,r);function e(){return r.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this;this.params=t,this.setParams(t);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(a){a.target===i.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},e.prototype.setParams=function(t){var n=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&Hl(),n.type=i?"date":"text";var o=t.filterParams||{},a=o.minValidYear,s=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&a&&Tt("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&s&&Tt("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=N$e([l,u].map(function(p){return p instanceof Date?p:jo(p)}),2),d=c[0],h=c[1];d&&h&&d.getTime()>h.getTime()&&Tt("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?n.min=Uf(l):n.min=l:a&&(n.min="".concat(a,"-01-01")),u?u instanceof Date?n.max=Uf(u):n.max=u:s&&(n.max="".concat(s,"-12-31"))},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return jo(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(us(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:E0()||ak()||Hl()&&ok()>=14.1},L$e([We("eDateInput")],e.prototype,"eDateInput",void 0),e}(jt),V$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_d=function(r){V$e(e,r);function e(t,n,i){return n===void 0&&(n="ag-text-field"),i===void 0&&(i="text"),r.call(this,t,n,i)||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,n){return this.eInput.value!==t&&(this.eInput.value=Ee(t)?t:""),r.prototype.setValue.call(this,t,n)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("[".concat(this.config.allowedCharPattern,"]")),n=function(i){I0(i)&&i.key&&!t.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",n),this.addManagedListener(this.eInput,"paste",function(i){var o,a=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");a&&a.split("").some(function(s){return!t.test(s)})&&i.preventDefault()})},e}(Nc),B$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T0=function(r){B$e(e,r);function e(t){return r.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(t.eInput.value),i=isNaN(n)?"":t.normalizeValue(n.toString());t.value!==i&&t.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));var n=parseFloat(t);return this.min!=null&&n<this.min?t=this.min.toString():this.max!=null&&n>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,n){if(this.precision==null)return t;if(n){var i=parseFloat(t).toFixed(this.precision);return parseFloat(i).toString()}var o=String(t).split(".");if(o.length>1){if(o[1].length<=this.precision)return t;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,Al(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,Al(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,Al(this.eInput,"step",t),this)},e.prototype.setValue=function(t,n){var i=this;return this.setValueOrInputValue(function(o){return r.prototype.setValue.call(i,o,n)},function(){return i},t)},e.prototype.setStartValue=function(t){var n=this;return this.setValueOrInputValue(function(i){return r.prototype.setValue.call(n,i,!0)},function(i){n.eInput.value=i},t)},e.prototype.setValueOrInputValue=function(t,n,i){if(Ee(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return t(i);if(!o){i=this.adjustPrecision(i);var a=this.normalizeValue(i);o=i!=a}if(o)return n(i)}return t(i)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):r.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return typeof t=="string"&&t.includes("e")},e}(_d),hJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pJ=function(r){hJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var i=(n||{}).numberOfInputs,o=t.type==yn.IN_RANGE||i===2;return o?"".concat(this.formatValue(t.filter),"-").concat(this.formatValue(t.filterTo)):t.filter!=null?this.formatValue(t.filter):"".concat(t.type)},e}(Ok);function PM(r){var e=(r??{}).allowedCharPattern;return e??null}var Ak=function(r){hJ(e,r);function e(){var t=r.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.prototype.refresh=function(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:r.prototype.refresh.call(this,t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.filter,o=n.filterTo,a=n.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(a))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,n){return t===n?0:t<n?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t,r.prototype.setParams.call(this,t),this.filterModelFormatter=new pJ(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(t,n,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;r.prototype.setElementValue.call(this,t,o)},e.prototype.createValueElement=function(){var t=PM(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),si(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",t),this.createFromToElement(n,this.eValuesTo,"to",t),n},e.prototype.createFromToElement=function(t,n,i,o){var a=this.createManagedBean(o?new _d({allowedCharPattern:o}):new T0);a.addCssClass("ag-filter-".concat(i)),a.addCssClass("ag-filter-filter"),n.push(a),t.appendChild(a.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.getValues=function(t){var n=this,i=[];return this.forEachPositionInput(t,function(o,a,s,l){a<l&&i.push(n.processValue(n.stringToFloat(o.getValue())))}),i},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return t==null||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var n=Dl(t);return n!=null&&n.trim()===""&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):n==null||n.trim()==="-"?null:parseFloat(n)},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={filterType:this.getFilterType(),type:n},o=this.getValues(t);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput(function(n){if(!n.getInputElement().validity.valid){t=!0;return}}),t},e.DEFAULT_FILTER_OPTIONS=[Un.EQUALS,Un.NOT_EQUAL,Un.GREATER_THAN,Un.GREATER_THAN_OR_EQUAL,Un.LESS_THAN,Un.LESS_THAN_OR_EQUAL,Un.IN_RANGE,Un.BLANK,Un.NOT_BLANK],e}(Un),fJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IE=function(){return IE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},IE.apply(this,arguments)},vJ=function(r){fJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var i=(n||{}).numberOfInputs,o=t.type==yn.IN_RANGE||i===2;return o?"".concat(t.filter,"-").concat(t.filterTo):t.filter!=null?"".concat(t.filter):"".concat(t.type)},e}(Ok),R0=function(r){fJ(e,r);function e(){var t=r.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.trimInput=function(t){var n=t&&t.trim();return n===""?t:n},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){this.textFilterParams=t,r.prototype.setParams.call(this,t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new vJ(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(Jt.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(n){var i=n.filterOption,o=n.value,a=n.filterText;return t(i,o,a)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(t,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,n){var i=this,o=[];return this.forEachPositionInput(t,function(a,s,l,u){var c;if(s<u){var d=Dl(a.getValue());n&&i.textFilterParams.trimInput&&(d=(c=e.trimInput(d))!==null&&c!==void 0?c:null,a.setValue(d,!0)),o.push(d)}}),o},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),si(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,n,i){var o=this.createManagedBean(new _d);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),n.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.filter,o=n.filterTo,a=n.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(a))},e.prototype.evaluateNullValue=function(t){var n=[yn.NOT_EQUAL,yn.NOT_CONTAINS,yn.BLANK];return t?n.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,n,i,o){var a=this,s=t.map(function(m){return a.formatter(m)})||[],l=this.formatter(n),u=this.textFilterParams,c=u.api,d=u.colDef,h=u.column,p=u.columnApi,f=u.context,v=u.textFormatter;if(i.type===yn.BLANK)return this.isBlank(n);if(i.type===yn.NOT_BLANK)return!this.isBlank(n);var g={api:c,colDef:d,column:h,columnApi:p,context:f,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:v};return s.some(function(m){return a.matcher(IE(IE({},g),{filterText:m}))})},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[yn.CONTAINS,yn.NOT_CONTAINS,yn.EQUALS,yn.NOT_EQUAL,yn.STARTS_WITH,yn.ENDS_WITH,yn.BLANK,yn.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,i=t.value,o=t.filterText;if(o==null)return!1;switch(n){case e.CONTAINS:return i.indexOf(o)>=0;case e.NOT_CONTAINS:return i.indexOf(o)<0;case e.EQUALS:return i===o;case e.NOT_EQUAL:return i!=o;case e.STARTS_WITH:return i.indexOf(o)===0;case e.ENDS_WITH:var a=i.lastIndexOf(o);return a>=0&&a===i.length-o.length;default:return!1}},e}(yn),gJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mJ=function(r){gJ(e,r);function e(t){var n=r.call(this)||this;return n.params=t,n.valueChangedListener=function(){},n}return e.prototype.setupGui=function(t){var n=this,i;this.eFloatingFilterTextInput=this.createManagedBean(new _d((i=this.params)===null||i===void 0?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();t.appendChild(o),this.addManagedListener(o,"input",function(a){return n.valueChangedListener(a)}),this.addManagedListener(o,"keydown",function(a){return n.valueChangedListener(a)})},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,n){this.eFloatingFilterTextInput.setValue(t,n)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(Re),_J=function(r){gJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(t){this.setupFloatingFilterInputService(t),r.prototype.init.call(this,t),this.setTextInputParams(t)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var n;this.params=t;var i=(n=t.browserAutoComplete)!==null&&n!==void 0?n:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:i}),this.applyActive=q_.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=q_.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=Ia(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(a)}},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){r.prototype.refresh.call(this,t),this.setTextInputParams(t)},e.prototype.recreateFloatingFilterInputService=function(t){var n=this.floatingFilterInputService.getValue();mi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(n,!0)},e.prototype.getAriaLabel=function(t){var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(n," ").concat(i("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var n=this,i=t.key===le.ENTER;if(!(this.applyActive&&!i)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=R0.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},gD([k("columnModel")],e.prototype,"columnModel",void 0),gD([We("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),gD([Fe],e.prototype,"postConstruct",null),e}(dJ),CJ=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H$e=function(r){CJ(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return e.prototype.setupGui=function(t){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new T0),this.eFloatingFilterTextInput=this.createManagedBean(new _d),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();t.appendChild(i),t.appendChild(o),this.setupListeners(i,function(a){return n.valueChangedListener(a)}),this.setupListeners(o,function(a){return n.valueChangedListener(a)})},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,n){this.getActiveInputElement().setValue(t,n)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,n){this.addManagedListener(t,"input",n),this.addManagedListener(t,"keydown",n)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(Re),G$e=function(r){CJ(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){var n;r.prototype.init.call(this,t),this.filterModelFormatter=new pJ(this.localeService,this.optionsFactory,(n=t.filterParams)===null||n===void 0?void 0:n.numberFormatter)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){var n=PM(t.filterParams);n!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),r.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return Ak.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=PM(t.filterParams),this.allowedCharPattern?this.createManagedBean(new mJ({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new H$e)},e}(_J),$$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yJ=function(r){$$e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.call(this,t),this.filterModelFormatter=new vJ(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(t){this.refresh(t)},e.prototype.refresh=function(t){r.prototype.refresh.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return R0.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new mJ)},e}(_J),ki=function(){function r(e,t){t===void 0&&(t=!1);var n=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new qu,this.eElement=e,this.preventMouseClick=t;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",a,{passive:!1})})}return r.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t].identifier===this.touchStart.identifier;if(n)return e[t]}return null},r.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},r.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){var i=t.touchStart===n;if(t.touching&&i&&!t.moved){t.moved=!0;var o={type:r.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(o)}},500)}},r.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var n=!Sk(t,this.touchStart,4);n&&(this.moved=!0)}}},r.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var t={type:r.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},r.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>r.DOUBLE_TAP_MILLIS){var n={type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}(),W$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Md=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},O0=function(r){W$e(e,r);function e(t){var n=r.call(this)||this;return t||n.setTemplate(e.TEMPLATE),n}return e.prototype.attachCustomElements=function(t,n,i,o,a){this.eSortOrder=t,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=a},e.prototype.setupSort=function(t,n){var i=this;n===void 0&&(n=!1),this.column=t,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",function(){return i.updateIcons()}),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,function(){return i.updateIcons()}),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,n,i){if(n!=null){var o=Yn(t,this.gridOptionsService,i);o&&n.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var n=t==="asc";Sr(this.eSortAsc,n,{skipAriaHidden:!0})}if(this.eSortDesc){var i=t==="desc";Sr(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),a=t==null;Sr(this.eSortNone,!o&&a,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup,i=this.gridOptionsService.isColumnsSortingCoupledToGroup();i&&n&&(this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Sr(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t=this,n;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=(n=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&n!==void 0?n:-1,a=i.some(function(l){var u;return(u=t.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:!1}),s=o>=0&&a;Sr(this.eSortOrder,s,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():mi(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,Md([We("eSortOrder")],e.prototype,"eSortOrder",void 0),Md([We("eSortAsc")],e.prototype,"eSortAsc",void 0),Md([We("eSortDesc")],e.prototype,"eSortDesc",void 0),Md([We("eSortMixed")],e.prototype,"eSortMixed",void 0),Md([We("eSortNone")],e.prototype,"eSortNone",void 0),Md([k("columnModel")],e.prototype,"columnModel",void 0),Md([k("sortController")],e.prototype,"sortController",void 0),e}(jt),z$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),To=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},MM=function(r){z$e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t,n=(t=this.params.template)!==null&&t!==void 0?t:e.TEMPLATE;return n=n&&n.trim?n.trim():n,n},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var n=oi(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=n)}},e.prototype.addInIcon=function(t,n,i){if(n!=null){var o=Yn(t,this.gridOptionsService,i);o&&n.appendChild(o)}},e.prototype.setupTap=function(){var t=this,n=this.gridOptionsService;if(!n.get("suppressTouch")){var i=new ki(this.getGui(),!0),o=this.shouldSuppressMenuHide(),a=o&&Ee(this.eMenu),s=a?new ki(this.eMenu,!0):i;if(this.params.enableMenu){var l=a?"EVENT_TAP":"EVENT_LONG_TAP",u=function(h){return t.params.showColumnMenuAfterMouseClick(h.touchStart)};this.addManagedListener(s,ki[l],u)}if(this.params.enableSorting){var c=function(h){var p,f,v=h.touchStart.target;o&&(!((p=t.eMenu)===null||p===void 0)&&p.contains(v)||!((f=t.eFilterButton)===null||f===void 0)&&f.contains(v))||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,ki.EVENT_TAP,c)}if(this.params.enableFilterButton){var d=new ki(this.eFilterButton,!0);this.addManagedListener(d,"tap",function(){return t.params.showFilter(t.eFilterButton)}),this.addDestroyFunc(function(){return d.destroy()})}this.addDestroyFunc(function(){return i.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},e.prototype.workOutShowMenu=function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()},e.prototype.shouldSuppressMenuHide=function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()},e.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Il(this.eMenu),this.eMenu=void 0;return}var n=this.menuService.isLegacyMenuEnabled();this.addInIcon(n?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!n),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return t.params.showColumnMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},e.prototype.onMenuKeyboardShortcut=function(t){var n,i,o,a,s=this.params.column,l=this.menuService.isLegacyMenuEnabled();if(t&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(s))return this.params.showFilter((i=(n=this.eFilterButton)!==null&&n!==void 0?n:this.eMenu)!==null&&i!==void 0?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()),!0;return!1},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new O0(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,Kr.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var o=t.params.column.isMoving(),a=new Date().getTime(),s=a-t.lastMovingChanged<50,l=o||s;if(!l){var u=t.gridOptionsService.get("multiSortKey")==="ctrl",c=u?i.ctrlKey||i.metaKey:i.shiftKey;t.params.progressSort(c)}});var n=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var i=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),o=i==null?void 0:i.every(function(s){return t.params.column.getSort()==s.getSort()}),a=!o;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},e.prototype.setupFilterIcon=function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))},e.prototype.setupFilterButton=function(){var t=this;if(this.eFilterButton){var n=this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this));n?this.addManagedListener(this.eFilterButton,"click",function(){return t.params.showFilter(t.eFilterButton)}):this.eFilterButton=void 0}},e.prototype.configureFilter=function(t,n,i){if(!t)return Il(n),!1;var o=this.params.column;return this.addInIcon("filter",n,o),this.addManagedListener(o,Kr.EVENT_FILTER_CHANGED,i),i(),!0},e.prototype.onFilterChangedIcon=function(){var t=this.params.column.isFilterActive();Sr(this.eFilter,t,{skipAriaHidden:!0})},e.prototype.onFilterChangedButton=function(){var t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)},e.prototype.getAnchorElementForMenu=function(t){var n,i,o,a;return t?(i=(n=this.eFilterButton)!==null&&n!==void 0?n:this.eMenu)!==null&&i!==void 0?i:this.getGui():(a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,To([k("sortController")],e.prototype,"sortController",void 0),To([k("menuService")],e.prototype,"menuService",void 0),To([k("columnModel")],e.prototype,"columnModel",void 0),To([We("eFilter")],e.prototype,"eFilter",void 0),To([We("eFilterButton")],e.prototype,"eFilterButton",void 0),To([We("eSortIndicator")],e.prototype,"eSortIndicator",void 0),To([We("eMenu")],e.prototype,"eMenu",void 0),To([We("eLabel")],e.prototype,"eLabel",void 0),To([We("eText")],e.prototype,"eText",void 0),To([We("eSortOrder")],e.prototype,"eSortOrder",void 0),To([We("eSortAsc")],e.prototype,"eSortAsc",void 0),To([We("eSortDesc")],e.prototype,"eSortDesc",void 0),To([We("eSortMixed")],e.prototype,"eSortMixed",void 0),To([We("eSortNone")],e.prototype,"eSortNone",void 0),e}(jt),U$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},j$e=function(r){U$e(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;t.template&&Tt("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(a){if(!Ws(a)){var s=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var i=function(a){Ys(a)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Rn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Rn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,n){var i=new ki(t,!0);this.addManagedListener(i,ki.EVENT_TAP,n),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(t,"click",n)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var n=this.params.columnGroup.isExpanded();Sr(this.eOpenIcon,n),Sr(this.eCloseIcon,!n)}else Sr(this.eOpenIcon,!1),Sr(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,n){var i=Yn(t,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){Sr(this.eOpenIcon,!1),Sr(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t,n=this.params,i=n.displayName,o=n.columnGroup;if(Ee(i)){var a=oi(i,!0);this.getRefElement("agLabel").textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!(!((t=o.getColGroupDef())===null||t===void 0)&&t.suppressStickyLabel))},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,mD([k("columnModel")],e.prototype,"columnModel",void 0),mD([We("agOpened")],e.prototype,"eOpenIcon",void 0),mD([We("agClosed")],e.prototype,"eCloseIcon",void 0),e}(jt),K$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cd=function(r){K$e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,n=t&&t.isAlive();n&&t.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},e}(jt),q$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y$e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},SJ=function(r){q$e(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),Ee(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var n=t.key;(n===le.LEFT||n===le.UP||n===le.RIGHT||n===le.DOWN||t.shiftKey&&n===le.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return!Ee(t)&&!Ee(this.params.value)?this.params.value:this.params.parseValue(t)},e.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,Y$e([We("eTextArea")],e.prototype,"eTextArea",void 0),e}(Cd),X$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),R2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wJ=function(r){X$e(e,r);function e(){var t=r.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var n=this,i=n.eSelect,o=n.valueFormatterService,a=n.gridOptionsService,s=t.values,l=t.value,u=t.eventKey;if(At(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===le.ENTER:!1;var c=!1;s.forEach(function(f){var v={value:f},g=o.formatValue(t.column,null,f),m=g!=null;v.text=m?g:f,i.addOption(v),c=c||l===f}),c?i.setValue(t.value,!0):t.values.length&&i.setValue(t.values[0],!0);var d=t.valueListGap,h=t.valueListMaxWidth,p=t.valueListMaxHeight;d!=null&&i.setPickerGap(d),p!=null&&i.setPickerMaxHeight(p),h!=null&&i.setPickerMaxWidth(h),a.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,iy.EVENT_ITEM_SELECTED,function(){return t.stopEditing()})},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){t.isAlive()&&t.eSelect.showPicker()})},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},R2([k("valueFormatterService")],e.prototype,"valueFormatterService",void 0),R2([We("eSelect")],e.prototype,"eSelect",void 0),e}(Cd),Q$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Z$e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},D0=function(r){Q$e(e,r);function e(t){var n=r.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(t.getTemplate(),`
            </div>`))||this;return n.cellEditorInput=t,n}return e.prototype.init=function(t){this.params=t;var n=this.eInput;this.cellEditorInput.init(n,t);var i;if(t.cellStartedEdit){this.focusAfterAttached=!0;var o=t.eventKey;o===le.BACKSPACE||t.eventKey===le.DELETE?i="":o&&o.length===1?i=o:(i=this.cellEditorInput.getStartValue(),o!==le.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&n.setStartValue(i),this.addManagedListener(n.getGui(),"keydown",function(a){var s=a.key;(s===le.PAGE_UP||s===le.PAGE_DOWN)&&a.preventDefault()})},e.prototype.afterGuiAttached=function(){var t,n,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Hl()||o.getFocusableElement().focus();var a=o.getInputElement();this.highlightAllOnFocus?a.select():(n=(t=this.cellEditorInput).setCaret)===null||n===void 0||n.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,n=t.getFocusableElement(),i=t.getInputElement();n.focus(),i.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},Z$e([We("eInput")],e.prototype,"eInput",void 0),e}(Cd),J$e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eWe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)},r.prototype.getValue=function(){var e=this.eInput.getValue();return!Ee(e)&&!Ee(this.params.value)?this.params.value:this.params.parseValue(e)},r.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},r.prototype.setCaret=function(){var e=this.eInput.getValue(),t=Ee(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},r}(),FM=function(r){J$e(e,r);function e(){return r.call(this,new eWe)||this}return e}(D0),tWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nWe="",iWe="",bJ=function(r){tWe(e,r);function e(){var t=r.call(this)||this;t.refreshCount=0;var n=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),n.appendChild(i),n.appendChild(o),t.setTemplateFromElement(n),t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)},e.prototype.showDelta=function(t,n){var i=Math.abs(n),o=t.formatValue(i),a=Ee(o)?o:i,s=n>=0;s?this.eDelta.textContent=nWe+a:this.eDelta.textContent=iWe+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){n===t.refreshCount&&t.hideDeltaValue()},2e3)})},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),mi(this.eDelta)},e.prototype.refresh=function(t,n){n===void 0&&(n=!1);var i=t.value;if(i===this.lastValue||(Ee(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:Ee(t.value)?this.eValue.textContent=i:mi(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){var o=i-this.lastValue;this.showDelta(t,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),n||this.setTimerToRemoveDelta(),this.lastValue=i,!0},rWe([k("filterManager")],e.prototype,"filterManager",void 0),e}(jt),oWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},EJ=function(r){oWe(e,r);function e(){var t=r.call(this)||this;t.refreshCount=0;var n=document.createElement("span"),i=document.createElement("span");return i.setAttribute("class","ag-value-slide-current"),n.appendChild(i),t.setTemplateFromElement(n),t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t,!0)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){n===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)})},e.prototype.refresh=function(t,n){n===void 0&&(n=!1);var i=t.value;return At(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(n||this.addSlideAnimation(),this.lastValue=i,Ee(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:Ee(t.value)?this.eCurrent.textContent=i:mi(this.eCurrent),!0)},aWe([k("filterManager")],e.prototype,"filterManager",void 0),e}(jt),Ff=function(){return Ff=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ff.apply(this,arguments)},Zt=function(){function r(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return r.prototype.setData=function(e){this.setDataCommon(e,!1)},r.prototype.updateData=function(e){this.setDataCommon(e,!0)},r.prototype.setDataCommon=function(e,t){var n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(i)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(e,t,n){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:n}},r.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},r.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var e=new r(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},r.prototype.setDataAndId=function(e,t){var n=Ee(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)},r.prototype.setRowSelectable=function(e,t){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED)),t)return;var n=this.beans.gridOptionsService.get("groupSelectsChildren");if(n){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},r.prototype.setId=function(e){var t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){var n=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(r.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},r.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},r.prototype.isPixelInRange=function(e){return!Ee(this.rowTop)||!Ee(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},r.prototype.isHovered=function(){return this.hovered},r.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Ia(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var e=this,t=!1,n=!0,i=0,o=this.__autoHeights;if(o!=null){var a=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(a.forEach(function(l){var u=o[l.getId()];if(u==null)if(e.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":c=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:c=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(c.includes(l)){t=!0;return}u=-1}else{t=!0;return}else n=!1;u>i&&(i=u)}),!t&&((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}}},r.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(W.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},r.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},r.prototype.setDataValue=function(e,t,n){var i=this,o=function(){var u;return typeof e!="string"?e:(u=i.beans.columnModel.getGridColumn(e))!==null&&u!==void 0?u:i.beans.columnModel.getPrimaryColumn(e)},a=o(),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,t,n),!1;var l=this.beans.valueService.setValue(this,a,t,n);return this.dispatchCellChangedEvent(a,t,s),this.checkRowSelectable(),l},r.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t,i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),s=n&&o&&!a,l=this.beans.valueService.getValue(e,this,!1,s);return l},r.prototype.dispatchEventForSaveValueReadOnly=function(e,t,n,i){var o=this.beans.gridOptionsService.addGridCommonParams({type:W.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:n,value:n,source:i});this.beans.eventService.dispatchEvent(o)},r.prototype.setGroupValue=function(e,t){var n=this.beans.columnModel.getGridColumn(e);At(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,o))},r.prototype.setAggData=function(e){var t=this,n=this.aggData;if(this.aggData=e,this.eventService){var i=function(a){var s=t.aggData?t.aggData[a]:void 0,l=n?n[a]:void 0;if(s!==l){var u=t.beans.columnModel.lookupGridColumn(a);u&&t.dispatchCellChangedEvent(u,s,l)}};for(var o in this.aggData)i(o);for(var o in e)o in this.aggData||i(o)}},r.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,t=this.beans.gridOptionsService.isRowModelType("serverSide");if(t){var n=this.beans.gridOptionsService.get("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&Sa(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(e,t,n){var i={type:r.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:n};this.dispatchLocalEvent(i)},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},r.prototype.calculateSelectedFromChildren=function(){var e,t=!1,n=!1,i=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(l===null)continue;s=l}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:i=!0;break}}if(!(i||t&&n))return t?!0:n?!1:this.selectable?this.selected:null},r.prototype.setSelectedInitialValue=function(e){this.selected=e},r.prototype.selectThisNode=function(e,t,n){n===void 0&&(n="api");var i=!this.selectable&&e,o=this.selected===e;if(i||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(r.EVENT_ROW_SELECTED))}var s=Ff(Ff({},this.createGlobalRowEvent(W.EVENT_ROW_SELECTED)),{event:t||null,source:n});return this.beans.eventService.dispatchEvent(s),!0},r.prototype.setSelected=function(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n="api"),typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n})},r.prototype.setSelectedParams=function(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Ff(Ff({},e),{nodes:[this.footer?this.sibling:this]}))},r.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},r.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},r.prototype.addEventListener=function(e,t){var n,i;this.eventService||(this.eventService=new qu),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new zN(this.beans.frameworkOverrides));var o=(i=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.wrap(t))!==null&&i!==void 0?i:t;this.eventService.addEventListener(e,o)},r.prototype.removeEventListener=function(e,t){var n,i;if(this.eventService){var o=(i=(n=this.frameworkEventListenerService)===null||n===void 0?void 0:n.unwrap(t))!==null&&i!==void 0?i:t;this.eventService.removeEventListener(e,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,n=!0,i=!1,o=null;n&&!i;){var a=t.parent,s=Ee(a)&&t.firstChild;s?a.rowGroupColumn===e&&(i=!0,o=a):n=!1,t=a}return i?o:null},r.prototype.isFullWidthCell=function(){if(this.detail)return!0;var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1},r.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},r.prototype.createFooter=function(){var e=this;if(!this.sibling){var t=new Set(["eventService","__objectId","sticky"]),n=new r(this.beans);Object.keys(this).forEach(function(i){t.has(i)||(n[i]=e[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},r.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}(),sWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TE=function(){return TE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},TE.apply(this,arguments)},O2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Pk=function(r){sWe(e,r);function e(){return r.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.rowNode.isSelected();this.eCheckbox.setValue(t,!0)},e.prototype.onClicked=function(t,n,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:n,event:i,source:"checkboxSelected"})},e.prototype.init=function(t){var n=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){Ys(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){Ys(s);var l=n.gridOptionsService.get("groupSelectsFiltered"),u=n.eCheckbox.getValue();if(n.shouldHandleIndeterminateState(u,l)){var c=n.onClicked(!0,l,s||{});c===0&&n.onClicked(!1,l,s)}else u?n.onClicked(!1,l,s):n.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,Zt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsService.get("isRowSelectable"),o=i||typeof this.getIsVisible()=="function";if(o){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,Zt.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,Zt.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,n){return n&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,n,i,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if(typeof s=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(n=this.column)===null||n===void 0?void 0:n.createColumnFunctionCallbackParams(this.rowNode);a=u?s(TE(TE({},l),u)):!1}else a=s??!1;var c=(i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!a),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(a);return}this.setVisible(a)},e.prototype.getIsVisible=function(){var t,n;return this.overrides?this.overrides.isVisible:(n=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||n===void 0?void 0:n.checkboxSelection},O2([We("eCheckbox")],e.prototype,"eCheckbox",void 0),O2([Fe],e.prototype,"postConstruct",null),e}(jt),Jh;(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"})(Jh||(Jh={}));var qo;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right"})(qo||(qo={}));var lWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},US=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fo;(function(r){r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(fo||(fo={}));var ri=function(r){lWe(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}t=e,e.prototype.init=function(){this.ePinnedIcon=Ya("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Ya("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Ya("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Ya("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Ya("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Ya("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Ya("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Ya("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Ya("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(n,i){i===void 0&&(i=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},e.prototype.removeDragSource=function(n){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});i&&(this.dragService.removeDragSource(i.params),Go(this.dragSourceAndParamsList,i))},e.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(i){return n.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(n,i){this.dragging=!0,this.dragSource=n,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(n,i){var o=this,a,s,l,u,c=this.getHorizontalDirection(n),d=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var h=this.dropTargets.filter(function(v){return o.isMouseOnDropTarget(n,v)}),p=this.findCurrentDropTarget(n,h);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(n,c,d,i),this.lastDropTarget!==null&&p===null&&((s=(a=this.dragSource).onGridExit)===null||s===void 0||s.call(a,this.dragItem)),this.lastDropTarget===null&&p!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(p,n,c,d,i),this.lastDropTarget=p;else if(p&&p.onDragging){var f=this.createDropTargetEvent(p,n,c,d,i);p.onDragging(f)}},e.prototype.getAllContainersFromDropTarget=function(n){var i=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return i?o.concat(i):o},e.prototype.allContainersIntersect=function(n,i){var o,a;try{for(var s=US(i),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=n.clientX>=c.left&&n.clientX<c.right,h=n.clientY>=c.top&&n.clientY<c.bottom;if(!d||!h)return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},e.prototype.isMouseOnDropTarget=function(n,i){var o,a,s=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=US(s),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(n,d)){l=!0;break}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(n,i){var o,a,s,l,u=i.length;if(u===0)return null;if(u===1)return i[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(n.clientX,n.clientY);try{for(var h=US(d),p=h.next();!p.done;p=h.next()){var f=p.value;try{for(var v=(s=void 0,US(i)),g=v.next();!g.done;g=v.next()){var m=g.value,C=pZ(this.getAllContainersFromDropTarget(m));if(C.indexOf(f)!==-1)return m}}catch(y){s={error:y}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(y){o={error:y}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return null},e.prototype.enterDragTargetIfExists=function(n,i,o,a,s){if(n){if(n.onDragEnter){var l=this.createDropTargetEvent(n,i,o,a,s);n.onDragEnter(l)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(n,i,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,n,i,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(n){this.dropTargets.push(n)},e.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==n.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},e.prototype.findExternalZone=function(n){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===n.getContainer()})||null},e.prototype.getHorizontalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return i===o?null:i>o?qo.Left:qo.Right},e.prototype.getVerticalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return i===o?null:i>o?Jh.Up:Jh.Down},e.prototype.createDropTargetEvent=function(n,i,o,a,s){var l=n.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,h=c.columnApi,p=c.dragItem,f=c.dragSource,v=i.clientX-u.left,g=i.clientY-u.top;return{event:i,x:v,y:g,vDirection:a,hDirection:o,dragSource:f,fromNudge:s,dragItem:p,api:d,columnApi:h,dropZoneTarget:l}},e.prototype.positionGhost=function(n){var i=this.eGhost;if(i){var o=i.getBoundingClientRect(),a=o.height,s=HZ()-2,l=GZ()-2,u=fk(i.offsetParent),c=n.clientY,d=n.clientX,h=c-u.top-a/2,p=d-u.left-10,f=this.gridOptionsService.getDocument(),v=f.defaultView||window,g=v.pageYOffset||f.documentElement.scrollTop,m=v.pageXOffset||f.documentElement.scrollLeft;s>0&&p+i.clientWidth>s+m&&(p=s+m-i.clientWidth),p<0&&(p=0),l>0&&h+i.clientHeight>l+g&&(h=l+g-i.clientHeight),h<0&&(h=0),i.style.left="".concat(p,"px"),i.style.top="".concat(h,"px")}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=Ko(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;w0(o)&&(o=o()),i.innerHTML=oi(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsService.getDocument(),s=null,l=null;try{s=a.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());var u=s.querySelector("body");u?l=u:s instanceof ShadowRoot?l=s:s instanceof Document?l=s==null?void 0:s.documentElement:l=s}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(n,i){i===void 0&&(i=!1),mi(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():t.ICON_NOT_ALLOWED),n){case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;case t.ICON_AGGREGATE:o=this.eAggregateIcon;break;case t.ICON_PIVOT:o=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Fd([k("dragService")],e.prototype,"dragService",void 0),Fd([k("mouseEventService")],e.prototype,"mouseEventService",void 0),Fd([k("columnApi")],e.prototype,"columnApi",void 0),Fd([k("gridApi")],e.prototype,"gridApi",void 0),Fd([Fe],e.prototype,"init",null),Fd([Ji],e.prototype,"clearDragSourceParamsList",null),e=t=Fd([et("dragAndDropService")],e),e}(Re),A0=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),i_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},RE=function(r){A0(e,r);function e(t,n,i,o,a,s){var l=r.call(this)||this;return l.cellValueFn=t,l.rowNode=n,l.column=i,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Yn("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.get("rowDragManaged")?new cWe(this,this.beans,this.rowNode,this.column):new uWe(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,n){this.setTemplateFromElement(t),this.addDragSource(n)},e.prototype.getSelectedNodes=function(){var t=this.gridOptionsService.get("rowDragMultiRow");if(!t)return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return n.indexOf(this.rowNode)!==-1?n:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.get("rowDragManaged"),n=this.gridOptionsService.get("treeData");n&&t&&Tt("If using row drag with tree data, you cannot have rowDragManaged=true")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var n=t.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var n=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var i=this.localeService.getLocaleTextFunc();this.dragSource={type:fo.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,a=n.getDragItem(),s=((o=a.rowNodes)===null||o===void 0?void 0:o.length)||1,l=n.getRowDragText(n.column);return l?l(a,s):s===1?n.cellValueFn():"".concat(s," ").concat(i("rowDragRows","rows"))},getDragItem:function(){return n.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},i_([k("beans")],e.prototype,"beans",void 0),i_([Fe],e.prototype,"postConstruct",null),i_([Ji],e.prototype,"removeDragSource",null),e}(jt),xJ=function(r){A0(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.rowNode=n,o.column=i,o}return e.prototype.setDisplayedOrVisible=function(t){var n={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,n);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=w0(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(i,n)):(this.parent.setDisplayed(i,n),this.parent.setVisible(!0,n))}},e}(Re),uWe=function(r){A0(e,r);function e(t,n,i,o){var a=r.call(this,t,i,o)||this;return a.beans=n,a}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)},i_([Fe],e.prototype,"postConstruct",null),e}(xJ),cWe=function(r){A0(e,r);function e(t,n,i,o){var a=r.call(this,t,i,o)||this;return a.beans=n,a}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,W.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),n=t.getRowDragFeature(),i=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!a||o;this.setDisplayedOrVisible(s)},i_([Fe],e.prototype,"postConstruct",null),e}(xJ),dWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OE=function(){return OE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},OE.apply(this,arguments)},Pg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},IJ=function(r){dWe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i,o,a,s,l){var u,c,d,h;this.params=l,this.eGui=n,this.eCheckbox=i,this.eExpanded=o,this.eContracted=a,this.comp=t,this.compClass=s;var p=l.node;l.value;var f=l.colDef,v=this.isTopLevelFooter();if(!v){var g=this.isEmbeddedRowMismatch();if(g)return;if(p.footer&&this.gridOptionsService.get("groupHideOpenParents")){var m=f&&f.showRowGroup,C=p.rowGroupColumn&&p.rowGroupColumn.getColId();if(m!==C)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!v){var y=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(D){var A;return D.getColId()===((A=l.colDef)===null||A===void 0?void 0:A.showRowGroup)}),w=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),T=w||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(D){var A;return D.getColId()===((A=l.colDef)===null||A===void 0?void 0:A.showRowGroup)})),S=!p.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),x=this.isExpandable(),I=this.columnModel.isPivotMode()&&p.leafGroup&&((d=p.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((h=l.column)===null||h===void 0?void 0:h.getColDef().showRowGroup),R=!this.showingValueForOpenedParent&&!x&&!S&&!T&&!y&&!I;if(R)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.getCellAriaRole=function(){var t,n,i=(t=this.params.colDef)===null||t===void 0?void 0:t.cellAriaRole,o=(n=this.params.column)===null||n===void 0?void 0:n.getColDef().cellAriaRole;return i||o||"gridcell"},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,n=t.node,i=t.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){PZ(i);return}var o=function(){Mu(i,!!n.expanded)};this.expandListener=this.addManagedListener(n,Zt.EVENT_EXPANDED_CHANGED,o)||null,o()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,n=t==null;if(n||t.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var t=this.params.pinned==="left",n=this.params.pinned==="right",i=!t&&!n;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!n:!i:this.columnModel.isPinningLeft()?!t:!i},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var i=n.parent;i!=null;){if(i.rowGroupColumn&&t.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}At(this.displayedGroupNode)&&(this.displayedGroupNode=n)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,n=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var i=t.rowGroupColumn!=null;if(i){var o=t.rowGroupColumn.getId(),a=n.isRowGroupDisplayed(o);if(a){this.showingValueForOpenedParent=!1;return}}var s=t.groupData[n.getId()]!=null;this.showingValueForOpenedParent=s},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t,n=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(n),o=n.valueFormatted,a=n.value,s=o;if(s==null){var l=this.displayedGroupNode.rowGroupColumn&&((t=this.params.column)===null||t===void 0?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();s=u("blanks","(Blanks)")}else s=a??null}this.comp.setInnerRenderer(i,s)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!t)return this.params;var i=n!=null;if(i){var o=n.isRowGroupDisplayed(t.getId());if(!o)return this.params}var a=this.params,s=this.params,l=s.value,u=s.node,c=this.valueFormatterService.formatValue(t,u,l),d=OE(OE({},a),{valueFormatted:c});return d},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,n="";if(t){var i=$N(this.params);i.value=this.params.value,typeof t=="function"?n=t(i):typeof t=="string"?n=this.expressionService.evaluate(t,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else{var o=this.localeService.getLocaleTextFunc(),a=o("footerTotal","Total");n=a+" "+(this.params.value!=null?this.params.value:"")}var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,n)},e.prototype.getInnerCompDetails=function(t){var n=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var i=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(c){return c&&c.componentClass==n.compClass};if(i&&!o(i))return i;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,t);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Zt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow(),i=n&&t!=null&&t>=0,o=i?"(".concat(t,")"):"";this.comp.setChildCount(o)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var n=this.params.column,i=n==null||n.isRowGroupDisplayed(t.getId());return i},e.prototype.addExpandAndContract=function(){var t,n=this.params,i=Yn("groupExpanded",this.gridOptionsService,null),o=Yn("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var a=n.eGridCell,s=((t=this.params.column)===null||t===void 0?void 0:t.isCellEditable(n.node))&&this.gridOptionsService.get("enableGroupEdit");!s&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,Zt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Zt.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Zt.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Zt.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Zt.EVENT_HAS_CHILDREN_CHANGED,l)},e.prototype.onExpandClicked=function(t){Ws(t)||(Ys(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var n=this.displayedGroupNode,i=!n.expanded;!i&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(i,t)},e.prototype.scrollToStickyNode=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature();i.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&t.leafGroup,i=t.isExpandable()&&!t.footer&&!n;if(!i)return!1;var o=this.params.column,a=o!=null&&typeof o.getColDef().showRowGroup=="string";if(a){var s=this.isShowRowGroupForThisRow();return s}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,n=t.params,i=t.displayedGroupNode,o=t.columnModel,a=n.node,s=this.isExpandable();if(s){var l=this.showingValueForOpenedParent?!0:a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=s&&!c,h=a.footer&&a.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,n=this.params.suppressPadding;n||(this.addManagedListener(t,Zt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var t=this.params,n=t.node,i=!!t.colDef,o=this.gridOptionsService.get("treeData"),a=!i||o||t.colDef.showRowGroup===!0,s=a?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var n=new RE(function(){return t.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,n=this.displayedGroupNode,i=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(i){var o=new Pk;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},e.prototype.onKeyDown=function(t){var n=t.key===le.ENTER;if(!(!n||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!Ws(t)){var n=wE(this.eExpanded,t)||wE(this.eContracted,t);n||this.onExpandOrContract(t)}},Pg([k("expressionService")],e.prototype,"expressionService",void 0),Pg([k("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Pg([k("columnModel")],e.prototype,"columnModel",void 0),Pg([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Pg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(Re),hWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},LM=function(r){hWe(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this,i={setInnerRenderer:function(l,u){return n.setRenderDetails(l,u)},setChildCount:function(l){return n.eChildCount.textContent=l},addOrRemoveCssClass:function(l,u){return n.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return Sr(n.eContracted,l)},setExpandedDisplayed:function(l){return Sr(n.eExpanded,l)},setCheckboxVisible:function(l){return n.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new IJ),a=!t.colDef,s=this.getGui();o.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),a&&si(s,o.getCellAriaRole())},e.prototype.setRenderDetails=function(t,n){var i=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return i.context.destroyBean(a)};i.isAlive()?(i.eValue.appendChild(a.getGui()),i.addDestroyFunc(s)):s()}})}else this.eValue.innerText=n},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,Mg([We("eExpanded")],e.prototype,"eExpanded",void 0),Mg([We("eContracted")],e.prototype,"eContracted",void 0),Mg([We("eCheckbox")],e.prototype,"eCheckbox",void 0),Mg([We("eValue")],e.prototype,"eValue",void 0),Mg([We("eChildCount")],e.prototype,"eChildCount",void 0),e}(jt),pWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),D2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fWe=function(r){pWe(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=Yn("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,D2([We("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),D2([We("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(jt),vWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gWe=function(r){vWe(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this,i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??e.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){n.getGui().textContent=o("loadingOoo","Loading...")})}},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',e}(jt),mWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_We=function(r){mWe(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this,i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??e.DEFAULT_NO_ROWS_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){n.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',e}(jt),CWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yWe=function(r){CWe(e,r);function e(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var n=t.value;this.getGui().textContent=oi(n,!0)},e}(Cd),SWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wWe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);var n=e.getInputElement();t.preventStepping?e.addManagedListener(n,"keydown",this.preventStepping):t.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")},r.prototype.preventStepping=function(e){(e.key===le.UP||e.key===le.DOWN)&&e.preventDefault()},r.prototype.getValue=function(){var e=this.eInput.getValue();if(!Ee(e)&&!Ee(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t},r.prototype.getStartValue=function(){return this.params.value},r}(),TJ=function(r){SWe(e,r);function e(){return r.call(this,new wWe)||this}return e}(D0),bWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EWe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},r.prototype.getValue=function(){var e=this.eInput.getDate();return!Ee(e)&&!Ee(this.params.value)?this.params.value:e??null},r.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return us(e,!1)},r}(),RJ=function(r){bWe(e,r);function e(){return r.call(this,new EWe)||this}return e}(D0),xWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TWe=function(){function r(e){this.getDataTypeService=e}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},r.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return!Ee(e)&&!Ee(this.params.value)?this.params.value:this.params.parseValue(e??"")},r.prototype.getStartValue=function(){var e,t;return us((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)},r.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)},r.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)},r}(),OJ=function(r){xWe(e,r);function e(){var t=r.call(this,new TWe(function(){return t.dataTypeService}))||this;return t}return IWe([k("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(D0),RWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},DJ=function(r){RWe(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this;this.params=t,this.updateCheckbox(t);var i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),XN(i,"polite"),this.addManagedListener(i,"click",function(a){if(Ys(a),!n.eCheckbox.isDisabled()){var s=n.eCheckbox.getValue();n.onCheckboxChanged(s)}}),this.addManagedListener(i,"dblclick",function(a){Ys(a)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===le.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===o.activeElement&&n.eCheckbox.toggle();var s=n.eCheckbox.getValue();n.onCheckboxChanged(s),a.preventDefault()}})},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var n,i,o,a,s=!0;if(t.node.group&&t.column){var l=t.column.getColId();l.startsWith(Qh)?a=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?a=(n=t.value)!==null&&n!==void 0?n:void 0:s=!1}else a=(i=t.value)!==null&&i!==void 0?i:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(a);var u=t.disabled!=null?t.disabled:!(!((o=t.column)===null||o===void 0)&&o.isCellEditable(t.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=ik(c,a),h=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(h)},e.prototype.onCheckboxChanged=function(t){var n=this.params,i=n.column,o=n.node,a=n.rowIndex,s=n.value,l={type:W.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:W.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:t,valueChanged:u};this.eventService.dispatchEvent(c)},e.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,OWe([We("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(jt),DWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},AJ=function(r){DWe(e,r);function e(){return r.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.init=function(t){var n=this,i;this.params=t;var o=(i=t.value)!==null&&i!==void 0?i:void 0;this.eCheckbox.setValue(o);var a=this.eCheckbox.getInputElement();a.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,W.EVENT_FIELD_VALUE_CHANGED,function(s){return n.setAriaLabel(s.selected)})},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var n=this.localeService.getLocaleTextFunc(),i=ik(n,t),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},AWe([We("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(Cd),PWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PJ=function(r){PWe(e,r);function e(){var t=r.call(this)||this;return t.setTemplate("<div></div>"),t}return e.prototype.init=function(t){var n;this.params=t,this.cssClassPrefix=(n=this.params.cssClassPrefix)!==null&&n!==void 0?n:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()},e.prototype.configureDefaults=function(){return!0},e.prototype.addIcon=function(){if(!this.params.isCompact){var t=Ko('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?t.appendChild(Yn("check",this.gridOptionsService)):this.params.icon&&(ry(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){var t=Ko('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(t)},e.prototype.addShortcut=function(){if(!this.params.isCompact){var t=Ko('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){var t=Ko('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),n=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Mu(n,!1),t.appendChild(Yn(i,this.gridOptionsService))}n.appendChild(t)},e.prototype.getClassName=function(t){return"".concat(this.cssClassPrefix,"-").concat(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(jt),MWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_D=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},A2=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},P2=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},MJ=function(r){MWe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:k$e,agColumnHeader:MM,agColumnGroupHeader:j$e,agSortIndicator:O0,agTextColumnFloatingFilter:yJ,agNumberColumnFloatingFilter:G$e,agDateColumnFloatingFilter:M$e,agReadOnlyFloatingFilter:c$e,agAnimateShowChangeCellRenderer:bJ,agAnimateSlideCellRenderer:EJ,agGroupCellRenderer:LM,agGroupRowRenderer:LM,agLoadingCellRenderer:fWe,agCheckboxCellRenderer:DJ,agCellEditor:FM,agTextCellEditor:FM,agNumberCellEditor:TJ,agDateCellEditor:RJ,agDateStringCellEditor:OJ,agSelectCellEditor:wJ,agLargeTextCellEditor:SJ,agCheckboxCellEditor:AJ,agTextColumnFilter:R0,agNumberColumnFilter:Ak,agDateColumnFilter:Dk,agLoadingOverlay:gWe,agNoRowsOverlay:_We,agTooltipComponent:yWe,agMenuItem:PJ},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:Ct.SetFilterModule,agSetColumnFloatingFilter:Ct.SetFilterModule,agMultiColumnFilter:Ct.MultiFilterModule,agMultiColumnFloatingFilter:Ct.MultiFilterModule,agGroupColumnFilter:Ct.RowGroupingModule,agGroupColumnFloatingFilter:Ct.RowGroupingModule,agRichSelect:Ct.RichSelectModule,agRichSelectCellEditor:Ct.RichSelectModule,agDetailCellRenderer:Ct.MasterDetailModule,agSparklineCellRenderer:Ct.SparklinesModule},t.jsComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&Qi(this.gridOptions.components,function(n,i){return t.registerJsComponent(n,i)})},e.prototype.registerDefaultComponent=function(t,n){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=n},e.prototype.registerJsComponent=function(t,n){this.jsComps[t]=n},e.prototype.retrieve=function(t,n){var i=this,o=function(d,h){return{componentFromFramework:h,component:d}},a=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(a!=null)return o(a,!0);var s=this.jsComps[n];if(s){var l=this.getFrameworkOverrides().isFrameworkComponent(s);return o(s,l)}var u=this.agGridDefaults[n];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[n];return c?Nr.__assertRegistered(c,"AG Grid '".concat(t,"' component: ").concat(n),this.context.getGridId()):bh(function(){i.warnAboutMissingComponent(t,n)},"MissingComp"+n),null},e.prototype.warnAboutMissingComponent=function(t,n){var i=P2(P2([],A2(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),A2(Object.keys(this.jsComps)),!1),o=ny(n,i,!0,.8).values;console.warn("AG Grid: Could not find '".concat(n,`' component. It was configured as "`).concat(t,": '").concat(n,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},_D([k("gridOptions")],e.prototype,"gridOptions",void 0),_D([Fe],e.prototype,"init",null),e=_D([et("userComponentRegistry")],e),e}(Re),FWe={propertyName:"dateComponent",cellRenderer:!1},LWe={propertyName:"headerComponent",cellRenderer:!1},NWe={propertyName:"headerGroupComponent",cellRenderer:!1},M2={propertyName:"cellRenderer",cellRenderer:!0},kWe={propertyName:"cellEditor",cellRenderer:!1},F2={propertyName:"innerRenderer",cellRenderer:!0},VWe={propertyName:"loadingOverlayComponent",cellRenderer:!1},BWe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},HWe={propertyName:"tooltipComponent",cellRenderer:!1},NM={propertyName:"filter",cellRenderer:!1},GWe={propertyName:"floatingFilterComponent",cellRenderer:!1},$We={propertyName:"toolPanel",cellRenderer:!1},WWe={propertyName:"statusPanel",cellRenderer:!1},zWe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},UWe={propertyName:"loadingCellRenderer",cellRenderer:!0},jWe={propertyName:"groupRowRenderer",cellRenderer:!0},KWe={propertyName:"detailCellRenderer",cellRenderer:!0},qWe={propertyName:"menuItem",cellRenderer:!1},FJ=function(){function r(){}return r.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}(),YWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},LJ=function(r){YWe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,n){return this.getCompDetails(t,LWe,"agColumnHeader",n)},e.prototype.getHeaderGroupCompDetails=function(t){var n=t.columnGroup.getColGroupDef();return this.getCompDetails(n,NWe,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,zWe,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,UWe,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,jWe,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,KWe,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,n){return this.getCompDetails(t,F2,null,n)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,n){return this.getCompDetails(t,F2,null,n)},e.prototype.getCellRendererDetails=function(t,n){return this.getCompDetails(t,M2,null,n)},e.prototype.getCellEditorDetails=function(t,n){return this.getCompDetails(t,kWe,"agCellEditor",n,!0)},e.prototype.getFilterDetails=function(t,n,i){return this.getCompDetails(t,NM,i,n,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,FWe,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,VWe,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,BWe,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,HWe,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,n){return this.getCompDetails(t,M2,null,n)},e.prototype.getFloatingFilterCompDetails=function(t,n,i){return this.getCompDetails(t,GWe,i,n)},e.prototype.getToolPanelCompDetails=function(t,n){return this.getCompDetails(t,$We,null,n,!0)},e.prototype.getStatusPanelCompDetails=function(t,n){return this.getCompDetails(t,WWe,null,n,!0)},e.prototype.getMenuItemCompDetails=function(t,n){return this.getCompDetails(t,qWe,"agMenuItem",n,!0)},e.prototype.getCompDetails=function(t,n,i,o,a){var s=this;a===void 0&&(a=!1);var l=n.propertyName,u=n.cellRenderer,c=this.getCompKeys(t,n,o),d=c.compName,h=c.jsComp,p=c.fwComp,f=c.paramsFromSelector,v=c.popupFromSelector,g=c.popupPositionFromSelector,m=function(T){var S=s.userComponentRegistry.retrieve(l,T);S&&(h=S.componentFromFramework?void 0:S.component,p=S.componentFromFramework?S.component:void 0)};if(d!=null&&m(d),h==null&&p==null&&i!=null&&m(i),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),!h&&!p){a&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var C=this.mergeParamsWithApplicationProvidedParams(t,n,o,f),y=h==null,w=h||p;return{componentFromFramework:y,componentClass:w,params:C,type:n,popupFromSelector:v,popupPositionFromSelector:g,newAgStackInstance:function(){return s.newAgStackInstance(w,y,C,n)}}},e.prototype.getCompKeys=function(t,n,i){var o=this,a=n.propertyName,s,l,u,c,d,h;if(t){var p=t,f=p[a+"Selector"],v=f?f(i):null,g=function(m){if(typeof m=="string")s=m;else if(m!=null&&m!==!0){var C=o.getFrameworkOverrides().isFrameworkComponent(m);C?u=m:l=m}};v?(g(v.component),c=v.params,d=v.popup,h=v.popupPosition):g(p[a])}return{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}},e.prototype.newAgStackInstance=function(t,n,i,o){var a=o.propertyName,s=!n,l;if(s)l=new t;else{var u=this.componentMetadataProvider.retrieve(a);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?Wo.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,n,i,o){o===void 0&&(o=null);var a=this.gridOptionsService.getGridCommonParams();xa(a,i);var s=t,l=s&&s[n.propertyName+"Params"];if(typeof l=="function"){var u=l(i);xa(a,u)}else typeof l=="object"&&xa(a,l);return xa(a,o),a},e.prototype.initComponent=function(t,n){if(this.context.createBean(t),t.init!=null)return t.init(n)},e.prototype.getDefaultFloatingFilterType=function(t,n){if(t==null)return null;var i=null,o=this.getCompKeys(t,NM),a=o.compName,s=o.jsComp,l=o.fwComp;if(a)i=FJ.getFloatingFilterType(a);else{var u=s==null&&l==null&&t.filter===!0;u&&(i=n())}return i},zp([k("gridOptions")],e.prototype,"gridOptions",void 0),zp([k("agComponentUtils")],e.prototype,"agComponentUtils",void 0),zp([k("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),zp([k("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),zp([Cr("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=zp([et("userComponentFactory")],e),e}(Re),NJ=function(){function r(){}return r.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},r.ALL_PROPERTIES=Object.keys(r.ColDefPropertyMap),r}(),Y_;(function(r){r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET"})(Y_||(Y_={}));var XWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kJ=function(r){XWe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var n=t.dragSource.eElement,i=t.mouseDownListener;if(n.removeEventListener("mousedown",i),t.touchEnabled){var o=t.touchStartListener;n.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var n=this.dragSources.find(function(i){return i.dragSource===t});n&&(this.removeListener(n),Go(this.dragSources,n))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var n=this,i=this.onMouseDown.bind(this,t),o=t.eElement,a=t.includeTouch,s=t.stopPropagationForTouch;o.addEventListener("mousedown",i);var l=null,u=this.gridOptionsService.get("suppressTouch");a&&!u&&(l=function(c){hk(c.target)||(c.cancelable&&(c.preventDefault(),s&&c.stopPropagation()),n.onTouchStart(t,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:i,touchStartListener:l,touchEnabled:!!a})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,n){var i=this;this.currentDragParams=t,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var a=function(d){return i.onTouchMove(d,t.eElement)},s=function(d){return i.onTouchUp(d,t.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=n.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:a,options:{passive:!0}},{target:u,type:"touchend",listener:s,options:{passive:!0}},{target:u,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,n){var i=this,o=n;if(!(t.skipMouseEvent&&t.skipMouseEvent(n))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,n.button===0)){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var a=function(d){return i.onMouseMove(d,t.eElement)},s=function(d){return i.onMouseUp(d,t.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:a},{target:u,type:"mouseup",listener:s},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onMouseMove(n,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(n){var i=n.target,o=n.type,a=n.listener,s=n.options;i.addEventListener(o,a,s)}),this.dragEndFunctions.push(function(){t.forEach(function(n){var i=n.target,o=n.type,a=n.listener,s=n.options;i.removeEventListener(o,a,s)})})},e.prototype.isEventNearStartEvent=function(t,n){var i=this.currentDragParams.dragStartPixels,o=Ee(i)?i:4;return Sk(t,n,o)},e.prototype.getFirstActiveTouch=function(t){for(var n=0;n<t.length;n++)if(t[n].identifier===this.touchStart.identifier)return t[n];return null},e.prototype.onCommonMove=function(t,n,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,n))return;this.dragging=!0;var o={type:W.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,n){var i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,n)},e.prototype.onMouseMove=function(t,n){var i;if(Hl()){var o=this.gridOptionsService.getDocument();(i=o.getSelection())===null||i===void 0||i.removeAllRanges()}this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,n)},e.prototype.shouldPreventMouseEvent=function(t){var n=this.gridOptionsService.get("enableCellTextSelection"),i=t.type==="mousemove";return n&&i&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var n=t.target,i=n==null?void 0:n.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,n){var i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,n)},e.prototype.onMouseUp=function(t,n){this.onUpCommon(t,n)},e.prototype.onUpCommon=function(t,n){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var i={type:W.EVENT_DRAG_STOPPED,target:n};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},CD([k("mouseEventService")],e.prototype,"mouseEventService",void 0),CD([Ji],e.prototype,"removeAllListeners",null),e=CD([et("dragService")],e),e}(Re),Mk=function(){function r(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(e,t){t===void 0&&(t=!1);var n=t||this.shouldSkipVerticalScroll();if(!(n&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<i.left+o,this.tickRight=e.clientX>i.right-o,this.tickUp=e.clientY<i.top+o&&!n,this.tickDown=e.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-e),this.tickRight&&this.setHorizontalPosition(n+e)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}(),QWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},yD="ag-list-item-hovered",ZWe=function(r){QWe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.comp=t,o.virtualList=n,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragValue=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this,n={isInterestedIn:function(i){return i===t.params.dragSourceType},getIconName:function(){return t.moveBlocked?ri.ICON_PINNED:ri.ICON_MOVE},getContainer:function(){return t.comp.getGui()},onDragging:function(i){return t.onDragging(i)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(n)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new Mk({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(n){return t.scrollTop=n}})},e.prototype.onDragging=function(t){if(!(!this.currentDragValue||this.moveBlocked)){var n=this.getListDragItem(t),i=this.virtualList.getComponentAt(n.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=n,RM(o,yD),RM(o,"ag-item-highlight-".concat(n.position)))}}},e.prototype.getListDragItem=function(t){var n=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(t.y-i+a)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,s)|0;return{rowIndex:u,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){var t=this.virtualList.getGui();t.querySelectorAll(".".concat(yD)).forEach(function(n){[yD,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){n.classList.remove(i)})}),this.lastHoveredListItem=null},L2([k("dragAndDropService")],e.prototype,"dragAndDropService",void 0),L2([Fe],e.prototype,"postConstruct",null),e}(Re),Pl;(function(r){r[r.Above=0]="Above",r[r.Below=1]="Below"})(Pl||(Pl={}));var vr=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function lh(r){var e=r,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():r}var Fk=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.__getModel=function(){return this.rowModel},r.prototype.getGridId=function(){return this.context.getGridId()},r.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},r.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},r.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},r.prototype.forEachDetailGridInfo=function(e){var t=0;Qi(this.detailGridInfoMap,function(n,i){Ee(i)&&(e(i,t),t++)})},r.prototype.getDataAsCsv=function(e){if(Nr.__assertRegistered(Ct.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},r.prototype.exportDataAsCsv=function(e){Nr.__assertRegistered(Ct.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},r.prototype.assertNotExcelMultiSheet=function(e,t){return Nr.__assertRegistered(Ct.ExcelExportModule,"api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===Y_.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},r.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},r.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},r.prototype.getSheetDataForExcel=function(e){if(Nr.__assertRegistered(Ct.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(Y_.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(e)},r.prototype.getMultipleSheetsAsExcel=function(e){if(Nr.__assertRegistered(Ct.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},r.prototype.exportMultipleSheetsAsExcel=function(e){Nr.__assertRegistered(Ct.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)},r.prototype.setGridAriaProperty=function(e,t){if(e){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-".concat(e);t===null?n.removeAttribute(i):n.setAttribute(i,t)}},r.prototype.logMissingRowModel=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error("AG Grid: api.".concat(e," can only be called when gridOptions.rowModelType is ").concat(t.join(" or ")))},r.prototype.logDeprecation=function(e,t,n,i){Tt("Since ".concat(e," api.").concat(t," is deprecated. Please use ").concat(n," instead. ").concat(i))},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},r.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.refreshCells=function(e){var t=this;e===void 0&&(e={}),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.refreshCells(e)})},r.prototype.flashCells=function(e){var t=this;e===void 0&&(e={});var n=function(i){return Tt("Since v31.1 api.flashCells parameter '".concat(i,"Delay' is deprecated. Please use '").concat(i,"Duration' instead."))};Ee(e.fadeDelay)&&n("fade"),Ee(e.flashDelay)&&n("flash"),this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.flashCells(e)})},r.prototype.redrawRows=function(e){var t=this;e===void 0&&(e={});var n=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return t.rowRenderer.redrawRows(n)})},r.prototype.refreshHeader=function(){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return Tt("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel},r.prototype.setRowNodeExpanded=function(e,t,n){this.expansionService.setRowNodeExpanded(e,t,n)},r.prototype.onGroupExpandedOrCollapsed=function(){if(At(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},r.prototype.refreshClientSideRowModel=function(e){if(At(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},r.prototype.addRenderedRowListener=function(e,t,n){this.rowRenderer.addRenderedRowListener(e,t,n)},r.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},r.prototype.getAdvancedFilterModel=function(){return Nr.__assertRegistered(Ct.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},r.prototype.setAdvancedFilterModel=function(e){this.filterManager.setAdvancedFilterModel(e)},r.prototype.showAdvancedFilterBuilder=function(){Nr.__assertRegistered(Ct.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},r.prototype.setNodesSelected=function(e){var t=e.nodes.every(function(s){return s.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):s.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(t){var n=e.nodes,i=e.source,o=e.newValue,a=n;this.selectionService.setNodesSelected({nodes:a,source:i??"api",newValue:o})}},r.prototype.selectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},r.prototype.deselectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},r.prototype.selectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},r.prototype.deselectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},r.prototype.getServerSideSelectionState=function(){return At(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},r.prototype.setServerSideSelectionState=function(e){if(At(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")},r.prototype.selectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},r.prototype.deselectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},r.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){if(At(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColumnVisible=function(e,t){var n=this;t===void 0&&(t="auto"),this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},"ensureVisible")},r.prototype.ensureIndexVisible=function(e,t){var n=this;this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},"ensureVisible")},r.prototype.ensureNodeVisible=function(e,t){var n=this;t===void 0&&(t=null),this.frameworkOverrides.wrapIncoming(function(){return n.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},"ensureVisible")},r.prototype.forEachLeafNode=function(e){if(At(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)},r.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},r.prototype.forEachNodeAfterFilter=function(e){if(At(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)},r.prototype.forEachNodeAfterFilterAndSort=function(e){if(At(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},r.prototype.getFilterInstance=function(e,t){return Tt("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)},r.prototype.getColumnFilterInstance=function(e){return this.filterManager.getColumnFilterInstance(e)},r.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},r.prototype.getStatusPanel=function(e){if(Nr.__assertRegistered(Ct.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return lh(t)}},r.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(e){e===void 0&&(e="api"),this.filterManager.onFilterChanged({source:e})},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(e){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.filterManager.setFilterModel(e)})},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getColumnFilterModel=function(e){return this.filterManager.getColumnFilterModel(e)},r.prototype.setColumnFilterModel=function(e,t){return this.filterManager.setColumnFilterModel(e,t)},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(e,t,n){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:n,forceBrowserFocus:!0})},r.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},r.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},r.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},r.prototype.assertSideBarLoaded=function(e){return Nr.__assertRegistered(Ct.SideBarModule,"api."+e,this.context.getGridId())},r.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},r.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)},r.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)},r.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")},r.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},r.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},r.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},r.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},r.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return lh(t)}},r.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},r.prototype.resetRowHeights=function(){if(Ee(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},r.prototype.setRowCount=function(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(e,t){var n=this.columnModel.getPrimaryColumn(e);return At(n)&&(n=this.columnModel.getGridColumn(e)),At(n)?null:this.valueService.getValue(n,t)},r.prototype.addEventListener=function(e,t){this.apiEventService.addEventListener(e,t)},r.prototype.addGlobalListener=function(e){this.apiEventService.addGlobalListener(e)},r.prototype.removeEventListener=function(e,t){this.apiEventService.removeEventListener(e,t)},r.prototype.removeGlobalListener=function(e){this.apiEventService.removeGlobalListener(e)},r.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},r.prototype.destroy=function(){var e="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var t={type:W.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(t),this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),iZ(this,["isDestroyed"],e)}},r.prototype.isDestroyed=function(){return this.destroyCalled},r.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(Nr.__assertRegistered(Ct.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},r.prototype.addCellRange=function(e){if(this.rangeService){this.rangeService.addCellRange(e);return}Nr.__assertRegistered(Ct.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},r.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),Nr.__assertRegistered(Ct.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},r.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},r.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.assertChart=function(e,t){if(Nr.__assertRegistered(Ct.GridChartsModule,"api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return t()})},r.prototype.getChartModels=function(){var e=this;return this.assertChart("getChartModels",function(){return e.chartService.getChartModels()})},r.prototype.getChartRef=function(e){var t=this;return this.assertChart("getChartRef",function(){return t.chartService.getChartRef(e)})},r.prototype.getChartImageDataURL=function(e){var t=this;return this.assertChart("getChartImageDataURL",function(){return t.chartService.getChartImageDataURL(e)})},r.prototype.downloadChart=function(e){var t=this;return this.assertChart("downloadChart",function(){return t.chartService.downloadChart(e)})},r.prototype.openChartToolPanel=function(e){var t=this;return this.assertChart("openChartToolPanel",function(){return t.chartService.openChartToolPanel(e)})},r.prototype.closeChartToolPanel=function(e){var t=this;return this.assertChart("closeChartToolPanel",function(){return t.chartService.closeChartToolPanel(e.chartId)})},r.prototype.createRangeChart=function(e){var t=this;return this.assertChart("createRangeChart",function(){return t.chartService.createRangeChart(e)})},r.prototype.createPivotChart=function(e){var t=this;return this.assertChart("createPivotChart",function(){return t.chartService.createPivotChart(e)})},r.prototype.createCrossFilterChart=function(e){var t=this;return this.assertChart("createCrossFilterChart",function(){return t.chartService.createCrossFilterChart(e)})},r.prototype.updateChart=function(e){var t=this;return this.assertChart("updateChart",function(){return t.chartService.updateChart(e)})},r.prototype.restoreChart=function(e,t){var n=this;return this.assertChart("restoreChart",function(){return n.chartService.restoreChart(e,t)})},r.prototype.assertClipboard=function(e,t){Nr.__assertRegistered(Ct.ClipboardModule,"api"+e,this.context.getGridId())&&t()},r.prototype.copyToClipboard=function(e){var t=this;this.assertClipboard("copyToClipboard",function(){return t.clipboardService.copyToClipboard(e)})},r.prototype.cutToClipboard=function(e){var t=this;this.assertClipboard("cutToClipboard",function(){return t.clipboardService.cutToClipboard(e)})},r.prototype.copySelectedRowsToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return t.clipboardService.copySelectedRowsToClipboard(e)})},r.prototype.copySelectedRangeToClipboard=function(e){var t=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return t.clipboardService.copySelectedRangeToClipboard(e)})},r.prototype.copySelectedRangeDown=function(){var e=this;this.assertClipboard("copySelectedRangeDown",function(){return e.clipboardService.copyRangeDown()})},r.prototype.pasteFromClipboard=function(){var e=this;this.assertClipboard("pasteFromClipboard",function(){return e.clipboardService.pasteFromClipboard()})},r.prototype.showColumnMenuAfterButtonClick=function(e,t){Tt("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");var n=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:n,buttonElement:t,positionBy:"button"})},r.prototype.showColumnMenuAfterMouseClick=function(e,t){Tt("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");var n=this.columnModel.getGridColumn(e);if(n||(n=this.columnModel.getPrimaryColumn(e)),!n){console.error("AG Grid: column '".concat(e,"' not found"));return}this.menuService.showColumnMenu({column:n,mouseEvent:t,positionBy:"mouse"})},r.prototype.showColumnChooser=function(e){this.menuService.showColumnChooser({chooserParams:e})},r.prototype.showColumnFilter=function(e){var t=this.columnModel.getGridColumn(e);if(!t){console.error("AG Grid: column '".concat(e,"' not found"));return}this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"})},r.prototype.showColumnMenu=function(e){var t=this.columnModel.getGridColumn(e);if(!t){console.error("AG Grid: column '".concat(e,"' not found"));return}this.menuService.showColumnMenu({column:t,positionBy:"auto"})},r.prototype.hidePopupMenu=function(){this.menuService.hidePopupMenu()},r.prototype.hideColumnChooser=function(){this.menuService.hideColumnChooser()},r.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},r.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},r.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),n=t.map(lh);return n},r.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),n=t.map(lh);return n},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},r.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn("AG Grid: no column found for ".concat(e.colKey));return}var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},i=e.rowPinned==null;i&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(e.key))},r.prototype.addAggFunc=function(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})},r.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)},r.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},r.prototype.applyServerSideRowData=function(e){var t,n,i=(t=e.startRow)!==null&&t!==void 0?t:0,o=(n=e.route)!==null&&n!==void 0?n:[];if(i<0){console.warn("AG Grid: invalid value ".concat(e.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},r.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},r.prototype.applyTransaction=function(e){var t=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.updateRowData(e)})},r.prototype.applyTransactionAsync=function(e,t){var n=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return n.clientSideRowModel.batchUpdateRowData(e,t)})},r.prototype.flushAsyncTransactions=function(){var e=this;if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.flushAsyncTransactions()})},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},r.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.getFirstDisplayedRow=function(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()},r.prototype.getFirstDisplayedRowIndex=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastDisplayedRow=function(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()},r.prototype.getLastDisplayedRowIndex=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},r.prototype.sizeColumnsToFit=function(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)},r.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},r.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},r.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},r.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},r.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},r.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},r.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},r.prototype.setColumnVisible=function(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")},r.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},r.prototype.setColumnPinned=function(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")},r.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")},r.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},r.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},r.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")},r.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t,"api")},r.prototype.setColumnWidth=function(e,t,n,i){n===void 0&&(n=!0),i===void 0&&(i="api"),this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,n,i)},r.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n="api"),this.columnModel.setColumnWidths(e,!1,t,n)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},r.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")},r.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},r.prototype.addValueColumn=function(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")},r.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},r.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},r.prototype.removeRowGroupColumn=function(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")},r.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},r.prototype.addRowGroupColumn=function(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")},r.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},r.prototype.removePivotColumn=function(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")},r.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},r.prototype.addPivotColumn=function(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")},r.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})},r.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})},r.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns("api",e)},r.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.getState=function(){return this.stateService.getState()},r.prototype.getGridOption=function(e){return this.gos.get(e)},r.prototype.setGridOption=function(e,t){var n;this.updateGridOptions((n={},n[e]=t,n))},r.prototype.updateGridOptions=function(e){this.gos.updateGridOptions({options:e})},r.prototype.__internalUpdateGridOptions=function(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})},r.prototype.deprecatedUpdateGridOption=function(e,t){Tt("set".concat(e.charAt(0).toUpperCase()).concat(e.slice(1,e.length)," is deprecated. Please use 'api.setGridOption('").concat(e,"', newValue)' or 'api.updateGridOptions({ ").concat(e,": newValue })' instead.")),this.setGridOption(e,t)},r.prototype.setPivotMode=function(e){this.deprecatedUpdateGridOption("pivotMode",e)},r.prototype.setPinnedTopRowData=function(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)},r.prototype.setPinnedBottomRowData=function(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)},r.prototype.setPopupParent=function(e){this.deprecatedUpdateGridOption("popupParent",e)},r.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)},r.prototype.setDataTypeDefinitions=function(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)},r.prototype.setPagination=function(e){this.deprecatedUpdateGridOption("pagination",e)},r.prototype.paginationSetPageSize=function(e){this.deprecatedUpdateGridOption("paginationPageSize",e)},r.prototype.setSideBar=function(e){this.deprecatedUpdateGridOption("sideBar",e)},r.prototype.setSuppressClipboardPaste=function(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)},r.prototype.setGroupRemoveSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)},r.prototype.setGroupRemoveLowestSingleChildren=function(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)},r.prototype.setGroupDisplayType=function(e){this.deprecatedUpdateGridOption("groupDisplayType",e)},r.prototype.setGroupIncludeFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)},r.prototype.setGroupIncludeTotalFooter=function(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)},r.prototype.setRowClass=function(e){this.deprecatedUpdateGridOption("rowClass",e)},r.prototype.setDeltaSort=function(e){this.deprecatedUpdateGridOption("deltaSort",e)},r.prototype.setSuppressRowDrag=function(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)},r.prototype.setSuppressMoveWhenRowDragging=function(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)},r.prototype.setSuppressRowClickSelection=function(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)},r.prototype.setEnableAdvancedFilter=function(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)},r.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)},r.prototype.setAdvancedFilterParent=function(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)},r.prototype.setAdvancedFilterBuilderParams=function(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)},r.prototype.setQuickFilter=function(e){Tt("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})},r.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)},r.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)},r.prototype.setQuickFilterParser=function(e){this.deprecatedUpdateGridOption("quickFilterParser",e)},r.prototype.setQuickFilterMatcher=function(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)},r.prototype.setAlwaysShowHorizontalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)},r.prototype.setAlwaysShowVerticalScroll=function(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)},r.prototype.setFunctionsReadOnly=function(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)},r.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),Tt("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})},r.prototype.setAutoGroupColumnDef=function(e,t){t===void 0&&(t="api"),Tt("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})},r.prototype.setDefaultColDef=function(e,t){t===void 0&&(t="api"),Tt("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})},r.prototype.setColumnTypes=function(e,t){t===void 0&&(t="api"),Tt("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})},r.prototype.setTreeData=function(e){this.deprecatedUpdateGridOption("treeData",e)},r.prototype.setServerSideDatasource=function(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)},r.prototype.setCacheBlockSize=function(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)},r.prototype.setDatasource=function(e){this.deprecatedUpdateGridOption("datasource",e)},r.prototype.setViewportDatasource=function(e){this.deprecatedUpdateGridOption("viewportDatasource",e)},r.prototype.setRowData=function(e){this.deprecatedUpdateGridOption("rowData",e)},r.prototype.setEnableCellTextSelection=function(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)},r.prototype.setHeaderHeight=function(e){this.deprecatedUpdateGridOption("headerHeight",e)},r.prototype.setDomLayout=function(e){this.deprecatedUpdateGridOption("domLayout",e)},r.prototype.setFillHandleDirection=function(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)},r.prototype.setGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)},r.prototype.setFloatingFiltersHeight=function(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)},r.prototype.setPivotHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)},r.prototype.setPivotGroupHeaderHeight=function(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)},r.prototype.setAnimateRows=function(e){this.deprecatedUpdateGridOption("animateRows",e)},r.prototype.setIsExternalFilterPresent=function(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)},r.prototype.setDoesExternalFilterPass=function(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)},r.prototype.setNavigateToNextCell=function(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)},r.prototype.setTabToNextCell=function(e){this.deprecatedUpdateGridOption("tabToNextCell",e)},r.prototype.setTabToNextHeader=function(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)},r.prototype.setNavigateToNextHeader=function(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)},r.prototype.setRowGroupPanelShow=function(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)},r.prototype.setGetGroupRowAgg=function(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)},r.prototype.setGetBusinessKeyForNode=function(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)},r.prototype.setGetChildCount=function(e){this.deprecatedUpdateGridOption("getChildCount",e)},r.prototype.setProcessRowPostCreate=function(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)},r.prototype.setGetRowId=function(e){Tt("getRowId is a static property and can no longer be updated.")},r.prototype.setGetRowClass=function(e){this.deprecatedUpdateGridOption("getRowClass",e)},r.prototype.setIsFullWidthRow=function(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)},r.prototype.setIsRowSelectable=function(e){this.deprecatedUpdateGridOption("isRowSelectable",e)},r.prototype.setIsRowMaster=function(e){this.deprecatedUpdateGridOption("isRowMaster",e)},r.prototype.setPostSortRows=function(e){this.deprecatedUpdateGridOption("postSortRows",e)},r.prototype.setGetDocument=function(e){this.deprecatedUpdateGridOption("getDocument",e)},r.prototype.setGetContextMenuItems=function(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)},r.prototype.setGetMainMenuItems=function(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)},r.prototype.setProcessCellForClipboard=function(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)},r.prototype.setSendToClipboard=function(e){this.deprecatedUpdateGridOption("sendToClipboard",e)},r.prototype.setProcessCellFromClipboard=function(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)},r.prototype.setProcessPivotResultColDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)},r.prototype.setProcessPivotResultColGroupDef=function(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)},r.prototype.setPostProcessPopup=function(e){this.deprecatedUpdateGridOption("postProcessPopup",e)},r.prototype.setInitialGroupOrderComparator=function(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)},r.prototype.setGetChartToolbarItems=function(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)},r.prototype.setPaginationNumberFormatter=function(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)},r.prototype.setGetServerSideGroupLevelParams=function(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)},r.prototype.setIsServerSideGroupOpenByDefault=function(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)},r.prototype.setIsApplyServerSideTransaction=function(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)},r.prototype.setIsServerSideGroup=function(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)},r.prototype.setGetServerSideGroupKey=function(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)},r.prototype.setGetRowStyle=function(e){this.deprecatedUpdateGridOption("getRowStyle",e)},r.prototype.setGetRowHeight=function(e){this.deprecatedUpdateGridOption("getRowHeight",e)},vr([Cr("csvCreator")],r.prototype,"csvCreator",void 0),vr([Cr("excelCreator")],r.prototype,"excelCreator",void 0),vr([k("rowRenderer")],r.prototype,"rowRenderer",void 0),vr([k("navigationService")],r.prototype,"navigationService",void 0),vr([k("filterManager")],r.prototype,"filterManager",void 0),vr([k("columnModel")],r.prototype,"columnModel",void 0),vr([k("selectionService")],r.prototype,"selectionService",void 0),vr([k("gridOptionsService")],r.prototype,"gos",void 0),vr([k("valueService")],r.prototype,"valueService",void 0),vr([k("alignedGridsService")],r.prototype,"alignedGridsService",void 0),vr([k("eventService")],r.prototype,"eventService",void 0),vr([k("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),vr([k("context")],r.prototype,"context",void 0),vr([k("rowModel")],r.prototype,"rowModel",void 0),vr([k("sortController")],r.prototype,"sortController",void 0),vr([k("paginationProxy")],r.prototype,"paginationProxy",void 0),vr([k("focusService")],r.prototype,"focusService",void 0),vr([k("dragAndDropService")],r.prototype,"dragAndDropService",void 0),vr([Cr("rangeService")],r.prototype,"rangeService",void 0),vr([Cr("clipboardService")],r.prototype,"clipboardService",void 0),vr([Cr("aggFuncService")],r.prototype,"aggFuncService",void 0),vr([k("menuService")],r.prototype,"menuService",void 0),vr([k("valueCache")],r.prototype,"valueCache",void 0),vr([k("animationFrameService")],r.prototype,"animationFrameService",void 0),vr([Cr("statusBarService")],r.prototype,"statusBarService",void 0),vr([Cr("chartService")],r.prototype,"chartService",void 0),vr([Cr("undoRedoService")],r.prototype,"undoRedoService",void 0),vr([Cr("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),vr([Cr("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),vr([k("ctrlsService")],r.prototype,"ctrlsService",void 0),vr([k("overlayService")],r.prototype,"overlayService",void 0),vr([Cr("sideBarService")],r.prototype,"sideBarService",void 0),vr([k("stateService")],r.prototype,"stateService",void 0),vr([k("expansionService")],r.prototype,"expansionService",void 0),vr([k("apiEventService")],r.prototype,"apiEventService",void 0),vr([k("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),vr([Fe],r.prototype,"init",null),r=vr([et("gridApi")],r),r}(),JWe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},VJ=function(r){JWe(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}t=e,e.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return n.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassQuickFilter=function(n){var i=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(a){return o?i.doesRowPassQuickFilterCache(n,a):i.doesRowPassQuickFilterNoCache(n,a)})},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},e.prototype.setQuickFilterParts=function(){var n=this,i=n.quickFilter,o=n.parser;i?this.quickFilterParts=o?o(i):i.split(" "):this.quickFilterParts=null},e.prototype.parseQuickFilter=function(n){return Ee(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(n){if(n!=null&&typeof n!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof n));return}var i=this.parseQuickFilter(n);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||i!==this.matcher;this.parser=n,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(n,i){var o=this,a=this.columnModel.getAllColumnsForQuickFilter();return a.some(function(s){var l=o.getQuickFilterTextForColumn(s,n);return Ee(l)&&l.indexOf(i)>=0})},e.prototype.doesRowPassQuickFilterCache=function(n,i){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(i)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(n,i){var o;n?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i);var a=this,s=a.quickFilterParts,l=a.matcher;return l(s,o)},e.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},e.prototype.getQuickFilterTextForColumn=function(n,i){var o=this.valueService.getValue(n,i,!0),a=n.getColDef();if(a.getQuickFilterText){var s=this.gridOptionsService.addGridCommonParams({value:o,node:i,data:i.data,column:n,colDef:a});o=a.getQuickFilterText(s)}return Ee(o)?o.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(n){var i=this,o=[],a=this.columnModel.getAllColumnsForQuickFilter();return a.forEach(function(s){var l=i.getQuickFilterTextForColumn(s,n);Ee(l)&&o.push(l)}),o.join(t.QUICK_FILTER_SEPARATOR)};var t;return e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR=`
`,Fg([k("valueService")],e.prototype,"valueService",void 0),Fg([k("columnModel")],e.prototype,"columnModel",void 0),Fg([k("rowModel")],e.prototype,"rowModel",void 0),Fg([Fe],e.prototype,"postConstruct",null),e=t=Fg([et("quickFilterService")],e),e}(Re),eze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fl=function(){return fl=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},fl.apply(this,arguments)},rl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},BJ=function(r){eze(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t.columnFilterModelUpdateQueue=[],t.advancedFilterModelUpdateQueue=[],t}return e.prototype.init=function(){var t=this,n,i,o;this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATED,function(){return t.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){t.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){t.updateAggFiltering(),t.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(a){return t.setAdvancedFilterModel(a.currentValue)}),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(a){var s=a.enabled;return t.onAdvancedFilterEnabledChanged(s)}),this.addManagedListener(this.eventService,W.EVENT_DATA_TYPES_INFERRED,function(){return t.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,VJ.EVENT_QUICK_FILTER_CHANGED,function(){return t.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=fl({},(o=(i=(n=this.gridOptionsService.get("initialState"))===null||n===void 0?void 0:n.filter)===null||i===void 0?void 0:i.filterModel)!==null&&o!==void 0?o:{})},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1},e.prototype.doesExternalFilterPass=function(t){var n=this.gridOptionsService.get("doesExternalFilterPass");return typeof n=="function"?n(t):!1},e.prototype.setFilterModel=function(t,n){var i=this;if(n===void 0&&(n="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:n});return}var o=[],a=this.getFilterModel();if(t){var s=wk(Object.keys(t));this.allColumnFilters.forEach(function(l,u){var c=t[u];o.push(i.setModelOnFilterWrapper(l.filterPromise,c)),s.delete(u)}),s.forEach(function(l){var u=i.columnModel.getPrimaryColumn(l)||i.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=i.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(i.setModelOnFilterWrapper(c.filterPromise,t[l]))})}else this.allColumnFilters.forEach(function(l){o.push(i.setModelOnFilterWrapper(l.filterPromise,null))});Wo.all(o).then(function(){var l=i.getFilterModel(),u=[];i.allColumnFilters.forEach(function(c,d){var h=a?a[d]:null,p=l?l[d]:null;Jt.jsonEquals(h,p)||u.push(c.column)}),u.length>0&&i.onFilterChanged({columns:u,source:n})})},e.prototype.setModelOnFilterWrapper=function(t,n){return new Wo(function(i){t.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(n)||Wo.resolve()).then(function(){return i()})})})},e.prototype.getFilterModel=function(){var t=this,n={};return this.allColumnFilters.forEach(function(i,o){var a=t.getModelFromFilterWrapper(i);Ee(a)&&(n[o]=a)}),n},e.prototype.getModelFromFilterWrapper=function(t){var n,i=t.filterPromise,o=i.resolveNow(null,function(a){return a});return o==null?(n=this.initialFilterModel[t.column.getColId()])!==null&&n!==void 0?n:null:typeof o.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var n=this,i;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((i=this.advancedFilterService)===null||i===void 0)&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return(t=this.advancedFilterService)===null||t===void 0?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,n){return this.doColumnFiltersPass(t,n,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(a){return a?a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},i=!!this.gridOptionsService.getGroupAggFiltering(),o=function(a){var s=!a.isPrimary();if(s)return!0;var l=!t.columnModel.isPivotActive(),u=a.isValueActive();return!u||!l?!1:t.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,n)){var s=a.filterPromise.resolveNow(null,function(l){return l});o(a.column)?t.activeAggregateFilters.push(s):t.activeColumnFilters.push(s)}})},e.prototype.updateFilterFlagInColumns=function(t,n){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});i.column.setFilterActive(o,t,n)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.doColumnFiltersPass=function(t,n,i){for(var o=t.data,a=t.aggData,s=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?a:o,u=0;u<s.length;u++){var c=s[u];if(!(c==null||c===n)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:l}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){var t=this.gridOptionsService.getGroupAggFiltering();t&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var n=this,i=function(){return n.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},e.prototype.onFilterChanged=function(t){t===void 0&&(t={});var n=t.source,i=t.filterInstance,o=t.additionalEventAttributes,a=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var s={source:n,type:W.EVENT_FILTER_CHANGED,columns:a||[]};o&&xa(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var t,n=(t=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&t!==void 0?t:!1;return!n&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var n=this;return function(i){var o=i.node;return n.valueService.getValue(t,o,!0)}},e.prototype.createGetValue=function(t){var n=this;return function(i,o){var a=o?n.columnModel.getGridColumn(o):t;return a?n.valueService.getValue(a,i,!0):void 0}},e.prototype.getFilterComponent=function(t,n,i){var o;if(i===void 0&&(i=!0),i)return((o=this.getOrCreateFilterWrapper(t,n))===null||o===void 0?void 0:o.filterPromise)||null;var a=this.cachedFilter(t);return a?a.filterPromise:null},e.prototype.isFilterActive=function(t){var n=this.cachedFilter(t);return!!n&&n.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,n){if(!t.isFilterAllowed())return null;var i=this.cachedFilter(t);return i?n!=="NO_UI"&&this.putIntoGui(i,n):(i=this.createFilterWrapper(t,n),this.setColumnFilterWrapper(t,i)),i},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var n;if(Nr.__isRegistered(Ct.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var i=this.dataTypeService.getBaseDataType(t);i==="number"?n="agNumberColumnFilter":i==="date"||i==="dateString"?n="agDateColumnFilter":n="agTextColumnFilter"}return n},e.prototype.getDefaultFloatingFilter=function(t){var n;if(Nr.__isRegistered(Ct.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var i=this.dataTypeService.getBaseDataType(t);i==="number"?n="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?n="agDateColumnFloatingFilter":n="agTextColumnFloatingFilter"}return n},e.prototype.createFilterInstance=function(t){var n=this,i=this.getDefaultFilter(t),o=t.getColDef(),a,s=fl(fl({},this.createFilterParams(t,o)),{filterModifiedCallback:function(){return n.filterModifiedCallbackFactory(a,t)()},filterChangedCallback:function(u){return n.filterChangedCallbackFactory(a,t)(u)},doesRowPassOtherFilter:function(u){return n.doesRowPassOtherFilters(a,u)}}),l=this.userComponentFactory.getFilterDetails(o,s,i);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return a=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,n){var i=this.gridOptionsService.addGridCommonParams({column:t,colDef:$N(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:function(){return!0}});return i},e.prototype.createFilterWrapper=function(t,n){var i,o={column:t,filterPromise:null,compiledElement:null,guiPromise:Wo.resolve(null),compDetails:null},a=this.createFilterInstance(t),s=a.filterPromise,l=a.compDetails;return o.filterPromise=(i=s==null?void 0:s())!==null&&i!==void 0?i:null,o.compDetails=l,s&&this.putIntoGui(o,n),o},e.prototype.putIntoGui=function(t,n){var i=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new Wo(function(a){t.filterPromise.then(function(s){var l=s.getGui();Ee(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=Ko(l)),o.appendChild(l),a(o);var u={type:W.EVENT_FILTER_OPENED,column:t.column,source:n,eGui:o};i.eventService.dispatchEvent(u)})})},e.prototype.onColumnsChanged=function(){var t=this,n=[];this.allColumnFilters.forEach(function(i,o){var a;i.column.isPrimary()?a=t.columnModel.getPrimaryColumn(o):a=t.columnModel.getGridColumn(o),!a&&(n.push(i.column),t.disposeFilterWrapper(i,"columnChanged"),t.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,n=this.columnModel.getGroupAutoColumns();n==null||n.forEach(function(i){i.getColDef().filter==="agGroupColumnFilter"&&t.getOrCreateFilterWrapper(i,"NO_UI")})},e.prototype.isFilterAllowed=function(t){var n,i;if(this.isAdvancedFilterEnabled())return!1;var o=t.isFilterAllowed();if(!o)return!1;var a=this.allColumnFilters.get(t.getColId());return(i=(n=a==null?void 0:a.filterPromise)===null||n===void 0?void 0:n.resolveNow(!0,function(s){return typeof(s==null?void 0:s.isFilterAllowed)=="function"?s==null?void 0:s.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0},e.prototype.getFloatingFilterCompDetails=function(t,n){var i=this,o=function(d){var h=i.getFilterComponent(t,"NO_UI");h!=null&&h.then(function(p){d(lh(p))})},a=t.getColDef(),s=fl(fl({},this.createFilterParams(t,a)),{filterChangedCallback:function(){return o(function(d){return i.filterChangedCallbackFactory(d,t)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,NM,s),u=this.userComponentFactory.getDefaultFloatingFilterType(a,function(){return i.getDefaultFloatingFilter(t)});u==null&&(u="agReadOnlyFloatingFilter");var c={column:t,filterParams:l,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:o,showParentFilter:n,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(a,c,u)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var n=this.getFilterComponent(t,"NO_UI",!1);return n?n.resolveNow(null,function(i){return i&&i.getModel()}):null},e.prototype.destroyFilter=function(t,n){n===void 0&&(n="api");var i=t.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var n=this.allColumnListeners.get(t);n&&(this.allColumnListeners.delete(t),n())},e.prototype.disposeFilterWrapper=function(t,n){var i=this;t.filterPromise.then(function(o){i.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(t.column.getColId());var a={type:W.EVENT_FILTER_DESTROYED,source:n,column:t.column};i.eventService.dispatchEvent(a)})},e.prototype.filterModifiedCallbackFactory=function(t,n){var i=this;return function(){var o={type:W.EVENT_FILTER_MODIFIED,column:n,filterInstance:t};i.eventService.dispatchEvent(o)}},e.prototype.filterChangedCallbackFactory=function(t,n){var i=this;return function(o){var a,s=(a=o==null?void 0:o.source)!==null&&a!==void 0?a:"api",l={filter:t,additionalEventAttributes:o,columns:[n],source:s};i.callOnFilterChangedOutsideRenderCycle(l)}},e.prototype.checkDestroyFilter=function(t){var n=this,i=this.allColumnFilters.get(t);if(i){var o=i.column,a=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(i.compDetails,a)){this.destroyFilter(o,"paramsUpdated");return}var s=o.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(o,"paramsUpdated");return}i.filterPromise.then(function(l){var u=l!=null&&l.refresh?l.refresh(fl(fl(fl({},n.createFilterParams(o,o.getColDef())),{filterModifiedCallback:n.filterModifiedCallbackFactory(l,o),filterChangedCallback:n.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(c){return n.doesRowPassOtherFilters(l,c)}}),s)):!0;u===!1&&n.destroyFilter(o,"paramsUpdated")})}},e.prototype.setColumnFilterWrapper=function(t,n){var i=this,o=t.getColId();this.allColumnFilters.set(o,n),this.allColumnListeners.set(o,this.addManagedListener(t,Kr.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(o)}))},e.prototype.areFilterCompsDifferent=function(t,n){if(!n||!t)return!0;var i=t.componentClass,o=n.componentClass,a=i===o||(i==null?void 0:i.render)&&(o==null?void 0:o.render)&&i.render===o.render;return!a},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var t=this.columnModel.getAllGridColumns();return t.some(function(n){return n.getColDef().floatingFilter})},e.prototype.getFilterInstance=function(t,n){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var i=this.getFilterInstanceImpl(t,function(a){if(n){var s=lh(a);n(s)}}),o=lh(i);return o},e.prototype.getColumnFilterInstance=function(t){var n=this;return new Promise(function(i){n.getFilterInstance(t,function(o){i(o)})})},e.prototype.getFilterInstanceImpl=function(t,n){var i=this.columnModel.getPrimaryColumn(t);if(i){var o=this.getFilterComponent(i,"NO_UI"),a=o&&o.resolveNow(null,function(s){return s});return a?setTimeout(n,0,a):o&&o.then(function(s){n(s)}),a}},e.prototype.warnAdvancedFilters=function(){Tt("Column Filter API methods have been disabled as Advanced Filters are enabled.")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var n;(n=this.advancedFilterService)===null||n===void 0||n.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach(function(n){var i=n.model,o=n.source;return t.setFilterModel(i,o)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(n){var i=n.key,o=n.model,a=n.resolve;t.setColumnFilterModel(i,o).then(function(){return a()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(n){return t.setAdvancedFilterModel(n)}),this.advancedFilterModelUpdateQueue=[]},e.prototype.getColumnFilterModel=function(t){var n=this.getFilterWrapper(t);return n?this.getModelFromFilterWrapper(n):null},e.prototype.setColumnFilterModel=function(t,n){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var i=function(){},o=new Promise(function(u){i=u});return this.columnFilterModelUpdateQueue.push({key:t,model:n,resolve:i}),o}var a=this.columnModel.getPrimaryColumn(t),s=a?this.getOrCreateFilterWrapper(a,"NO_UI"):null,l=function(u){return new Promise(function(c){u.then(function(d){return c(d)})})};return s?l(this.setModelOnFilterWrapper(s.filterPromise,n)):Promise.resolve()},e.prototype.getFilterWrapper=function(t){var n,i=this.columnModel.getPrimaryColumn(t);return i&&(n=this.cachedFilter(i))!==null&&n!==void 0?n:null},e.prototype.destroy=function(){var t=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return t.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},rl([k("valueService")],e.prototype,"valueService",void 0),rl([k("columnModel")],e.prototype,"columnModel",void 0),rl([k("rowModel")],e.prototype,"rowModel",void 0),rl([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),rl([k("rowRenderer")],e.prototype,"rowRenderer",void 0),rl([k("dataTypeService")],e.prototype,"dataTypeService",void 0),rl([k("quickFilterService")],e.prototype,"quickFilterService",void 0),rl([Cr("advancedFilterService")],e.prototype,"advancedFilterService",void 0),rl([Fe],e.prototype,"init",null),e=rl([et("filterManager")],e),e}(Re),tze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lk=function(r){tze(e,r);function e(t,n){var i=r.call(this,t)||this;return i.ctrl=n,i}return e.prototype.getCtrl=function(){return this.ctrl},e}(jt),rze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},HJ=function(r){rze(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i={addOrRemoveCssClass:function(o,a){return t.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return t.eFloatingFilterBody.classList.toggle(o,a)},setButtonWrapperDisplayed:function(o){return Sr(t.eButtonWrapper,o)},setCompDetails:function(o){return t.setCompDetails(o)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return t.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var n=this;if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(i){return n.afterCompCreated(i)})},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,Lg([We("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Lg([We("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Lg([We("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Lg([Fe],e.prototype,"postConstruct",null),Lg([Ji],e.prototype,"destroyFloatingFilterComp",null),e}(Lk),nze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ize=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qn;(function(r){r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print"})(qn||(qn={}));var Nk=function(r){nze(e,r);function e(t){var n=r.call(this)||this;return n.view=t,n}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),n={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},i=n.autoHeight?qn.AUTO_HEIGHT:n.print?qn.PRINT:qn.NORMAL;this.view.updateLayoutClasses(i,n)},e.prototype.getDomLayout=function(){var t,n=(t=this.gridOptionsService.get("domLayout"))!==null&&t!==void 0?t:"normal",i=["normal","print","autoHeight"];return i.indexOf(n)===-1?(Tt("".concat(n," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):n},ize([Fe],e.prototype,"postConstruct",null),e}(Re),oze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DE=function(){return DE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},DE.apply(this,arguments)},sc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zi;(function(r){r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal"})(zi||(zi={}));var oo;(function(r){r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer"})(oo||(oo={}));var aze=function(r){oze(e,r);function e(t){var n=r.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.lastOffsetHeight=-1,n.lastScrollTop=-1,n.eBodyViewport=t,n.resetLastHScrollDebounced=Ia(function(){return n.lastScrollSource[zi.Horizontal]=null},500),n.resetLastVScrollDebounced=Ia(function(){return n.lastScrollSource[zi.Vertical]=null},500),n}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.get("debounceVerticalScrollbar"),o=i?Ia(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=i?Ia(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(a)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var n=this.centerRowContainerCtrl==null;if(!n){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?t:-t,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-i),s.setContainerTranslateX(i),o.setContainerTranslateX(i),a.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[zi.Horizontal]===oo.Container;t=Math.abs(t),d?l.setScrollPosition(t):j_(c,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,n){return this.lastScrollSource[n]==null?(this.lastScrollSource[n]=t,!0):this.lastScrollSource[n]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(oo.FakeContainer,zi.Horizontal)&&this.onHScrollCommon(oo.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(oo.Container,zi.Horizontal)&&this.onHScrollCommon(oo.Container)},e.prototype.onHScrollCommon=function(t){var n=this.centerRowContainerCtrl.getViewportElement(),i=n.scrollLeft;if(!this.shouldBlockScrollUpdate(zi.Horizontal,i,!0)){var o;t===oo.Container?o=U_(n,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},e.prototype.onFakeVScroll=function(){this.isControllingScroll(oo.FakeContainer,zi.Vertical)&&this.onVScrollCommon(oo.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(oo.Container,zi.Vertical)&&this.onVScrollCommon(oo.Container)},e.prototype.onVScrollCommon=function(t){var n;t===oo.Container?n=this.eBodyViewport.scrollTop:n=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(zi.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,t===oo.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===n||(this.scrollLeft=t,this.fireScrollEvent(zi.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var n=this,i={type:W.EVENT_BODY_SCROLL,direction:t===zi.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=DE(DE({},i),{type:W.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},e.prototype.shouldBlockScrollUpdate=function(t,n,i){return i===void 0&&(i=!1),i&&!Yu()?!1:t===zi.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n)},e.prototype.shouldBlockVerticalScroll=function(t){var n=ty(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return t<0||t+n>i},e.prototype.shouldBlockHorizontalScroll=function(t){var n=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&z_()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+n>i},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(zi.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(oo.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,n){n===void 0&&(n=!1);var i=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(zi.Horizontal,t)&&(this.enableRtl&&z_()?t=t>0?0:o:t=Math.min(Math.max(t,i),o)),j_(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;var t={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return t},e.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,n){n===void 0&&(n=null);for(var i=this.rowModel.getRowCount(),o=-1,a=0;a<i;a++){var s=this.rowModel.getRow(a);if(typeof t=="function"){var l=t;if(s&&l(s)){o=a;break}}else if(t===s||t===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,n)},e.prototype.ensureIndexVisible=function(t,n){var i=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=o){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}var a=this.gridOptionsService.get("pagination"),s=a&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){s||i.paginationProxy.goToPageWithIndex(t);var l=i.ctrlsService.getGridBodyCtrl(),u=l.getStickyTopHeight(),c=i.paginationProxy.getRow(t),d;do{var h=c.rowTop,p=c.rowHeight,f=i.paginationProxy.getPixelOffset(),v=c.rowTop-f,g=v+c.rowHeight,m=i.getVScrollPosition(),C=i.heightScaler.getDivStretchOffset(),y=m.top+C,w=m.bottom+C,T=w-y,S=i.heightScaler.getScrollPositionForPixel(v),x=i.heightScaler.getScrollPositionForPixel(g-T),I=Math.min((S+x)/2,v),R=y+u>v,D=w<g,A=null;n==="top"?A=S:n==="bottom"?A=x:n==="middle"?A=I:R?A=S-u:D&&(A=x),A!==null&&(i.setVerticalScrollPosition(A),i.rowRenderer.redraw({afterScroll:!0})),d=h!==c.rowTop||p!==c.rowHeight}while(d);i.animationFrameService.flushAllFrames()})}},e.prototype.ensureColumnVisible=function(t,n){var i=this;n===void 0&&(n="auto");var o=this.columnModel.getGridColumn(t);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var a=this.getPositionedHorizontalScroll(o,n);this.getFrameworkOverrides().wrapIncoming(function(){a!==null&&i.centerRowContainerCtrl.setCenterViewportScrollLeft(a),i.centerRowContainerCtrl.onHorizontalViewportChanged(),i.animationFrameService.flushAllFrames()})}},e.prototype.setScrollPosition=function(t,n){var i=this;this.getFrameworkOverrides().wrapIncoming(function(){i.centerRowContainerCtrl.setCenterViewportScrollLeft(n),i.setVerticalScrollPosition(t),i.rowRenderer.redraw({afterScroll:!0}),i.animationFrameService.flushAllFrames()})},e.prototype.getPositionedHorizontalScroll=function(t,n){var i=this.isColumnOutsideViewport(t),o=i.columnBeforeStart,a=i.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:a)||s,d=u?a:o;n!=="auto"&&(c=n==="start",d=n==="end");var h=n==="middle";if(c||d||h){var p=this.getColumnBounds(t),f=p.colLeft,v=p.colMiddle,g=p.colRight;return h?v-l/2:c?u?g:f:u?f-l:g-l}return null},e.prototype.isColumnOutsideViewport=function(t){var n=this.getViewportBounds(),i=n.start,o=n.end,a=this.getColumnBounds(t),s=a.colLeft,l=a.colRight,u=this.enableRtl,c=u?i>l:o<l,d=u?o<s:i>s;return{columnBeforeStart:c,columnAfterEnd:d}},e.prototype.getColumnBounds=function(t){var n=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),a=t.getLeft(),s=n?-1:1,l=n?i-a:a,u=l+o*s,c=l+o/2*s;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=n,o=t+n;return{start:i,end:o,width:t}},sc([k("ctrlsService")],e.prototype,"ctrlsService",void 0),sc([k("animationFrameService")],e.prototype,"animationFrameService",void 0),sc([k("paginationProxy")],e.prototype,"paginationProxy",void 0),sc([k("rowModel")],e.prototype,"rowModel",void 0),sc([k("rowContainerHeightService")],e.prototype,"heightScaler",void 0),sc([k("rowRenderer")],e.prototype,"rowRenderer",void 0),sc([k("columnModel")],e.prototype,"columnModel",void 0),sc([Fe],e.prototype,"postConstruct",null),e}(Re),sze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kM=function(){return kM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},kM.apply(this,arguments)},ja=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lze=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},uze=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},cze=function(r){sze(e,r);function e(t){var n=r.call(this)||this;return n.isMultiRowDrag=!1,n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var n=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Mk({scrollContainer:n.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return n.getScrollFeature().setVerticalScrollPosition(i)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===fo.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsService.get("rowDragManaged");return t&&this.shouldPreventRowMove()?ri.ICON_NOT_ALLOWED:ri.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){var t=this.columnModel.getRowGroupColumns();if(t.length)return!0;var n=this.filterManager.isAnyFilterPresent();if(n)return!0;var i=this.sortController.isSortActive();return!!i},e.prototype.getRowNodes=function(t){var n=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var i=this.gridOptionsService.get("rowDragMultiRow"),o=uze([],lze(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return s.rowIndex==null||l.rowIndex==null?0:n.getRowIndexNumber(s)-n.getRowIndexNumber(l)}),a=t.dragItem.rowNode;return i&&o.indexOf(a)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(W.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var n=t.dragSource.dragSourceDomDataKey;return n===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getGui(),o=t.dropZoneTarget;return!i.contains(o)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var n=this.mouseEventService.getNormalisedPosition(t).y,i=this.gridOptionsService.get("rowDragManaged");i&&this.doManagedDrag(t,n),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,n){var i=this.isFromThisGrid(t),o=this.gridOptionsService.get("rowDragManaged"),a=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(a[0],n):this.moveRows(a,n))},e.prototype.getRowIndexNumber=function(t){return parseInt(Dr(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var n=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Pl.Below,a=this.mouseEventService.getNormalisedPosition(t).y,s=t.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(t))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===Pl.Above&&c--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!n.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,n,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(t,n,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var n=this;if(!t.getContainer()){Tt("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,i=t):(t.onDragEnter&&(i.onDragEnter=function(o){t.onDragEnter(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_ENTER,o))}),t.onDragLeave&&(i.onDragLeave=function(o){t.onDragLeave(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_LEAVE,o))}),t.onDragging&&(i.onDragging=function(o){t.onDragging(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_MOVE,o))}),t.onDragStop&&(i.onDragStop=function(o){t.onDragStop(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(kM({isInterestedIn:function(o){return o===fo.RowDrag},getIconName:function(){return ri.ICON_MOVE},external:!0},i))},e.prototype.getRowDropZone=function(t){var n=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:i,onDragEnter:t.onDragEnter?function(u){o(u),t.onDragEnter(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:t.onDragLeave?function(u){a(u),t.onDragLeave(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_LEAVE,u))}:a,onDragging:t.onDragging?function(u){s(u),t.onDragging(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_MOVE,u))}:s,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(n.draggingToRowDragEvent(W.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,n){var i=this.mouseEventService.getNormalisedPosition(n).y,o=i>this.paginationProxy.getCurrentPageHeight(),a=-1,s;o||(a=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(a));var l;switch(n.vDirection){case Jh.Down:l="down";break;case Jh.Up:l="up";break;default:l=null;break}var u=this.gridOptionsService.addGridCommonParams({type:t,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:a,overNode:s,y:i,vDirection:l});return u},e.prototype.dispatchGridEvent=function(t,n){var i=this.draggingToRowDragEvent(t,n);this.eventService.dispatchEvent(i)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(W.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(n){n.setDragging(!1)})},ja([k("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ja([k("rowModel")],e.prototype,"rowModel",void 0),ja([k("paginationProxy")],e.prototype,"paginationProxy",void 0),ja([k("columnModel")],e.prototype,"columnModel",void 0),ja([k("focusService")],e.prototype,"focusService",void 0),ja([k("sortController")],e.prototype,"sortController",void 0),ja([k("filterManager")],e.prototype,"filterManager",void 0),ja([k("selectionService")],e.prototype,"selectionService",void 0),ja([k("mouseEventService")],e.prototype,"mouseEventService",void 0),ja([k("ctrlsService")],e.prototype,"ctrlsService",void 0),ja([Cr("rangeService")],e.prototype,"rangeService",void 0),ja([Fe],e.prototype,"postConstruct",null),e}(Re),dze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ro=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ep;(function(r){r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation"})(ep||(ep={}));var GJ="ag-force-vertical-scroll",hze="ag-selectable",pze="ag-column-moving",$J=function(r){dze(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,n,i,o,a,s){var l=this;this.comp=t,this.eGridBody=n,this.eBodyViewport=i,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new Nk(this.comp)),this.bodyScrollFeature=this.createManagedBean(new aze(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var n=this;t.forEach(function(i){n.addManagedListener(i,"focusin",function(o){var a=o.target,s=Eh(a,"ag-root",i);i.classList.toggle("ag-has-focus",!s)}),n.addManagedListener(i,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=i.contains(s),u=Eh(s,"ag-root",i),c=Eh(a,"ag-root",i);c||(!l||u)&&i.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(pze,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1),this.comp.setCellSelectableCss(hze,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var i=n&&this.gridOptionsService.getScrollbarWidth()||0,o=uk()?16:0,a="calc(100% + ".concat(i+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return t.comp.setBodyViewportWidth(a)})},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var n=function(o){var a=o.relatedTarget;if(EE(a)===null){t.rowRenderer.stopEditing();return}var s=i.some(function(u){return u.contains(a)})&&t.mouseEventService.isElementInThisGrid(a);if(!s){var l=t.popupService;s=l.getActivePopups().some(function(u){return u.contains(a)})||l.isElementWithinCustomPopup(a)}s||t.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return t.addManagedListener(o,"focusout",n)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=n===-1?-1:t+n;this.comp.setRowCount(i)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var n=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(n)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowVerticalScroll"),n=t?GJ:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,t),t||i&&YZ(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,n=function(){var i=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),o=i?ep.ANIMATION_ON:ep.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(o,i)};n(),this.addManagedListener(this.eventService,W.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&i&&this.addManagedListener(n,"wheel",function(o){return t.onFullWidthContainerWheel(o,i)})},e.prototype.onFullWidthContainerWheel=function(t,n){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),n.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,n,i){if(!(!t&&!i)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=t||i;o.preventDefault()}var a=(t||n).target;(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:i,value:null,anchorToElement:this.eGridBody})}},e.prototype.mockContextMenuForIPad=function(t){if(Yu()){var n=new ki(this.eBodyViewport),i=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,ki.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+t),this.eBodyViewport.scrollTop-n},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new cze(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,n=t.getPinnedTopTotalHeight(),i=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(n),this.comp.setBottomHeight(i),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight("".concat(t,"px")),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(n,"px)"))}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),n=t.getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),i>0&&(o+=i+1),this.comp.setStickyTopTop("".concat(o,"px"))},e.prototype.sizeColumnsToFit=function(t,n){var i=this,o=this.isVerticalScrollShowing(),a=o?this.gridOptionsService.getScrollbarWidth():0,s=yp(this.eGridBody),l=s-a;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}n===void 0?window.setTimeout(function(){i.sizeColumnsToFit(t,100)},0):n===100?window.setTimeout(function(){i.sizeColumnsToFit(t,500)},100):n===500?window.setTimeout(function(){i.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},Ro([k("animationFrameService")],e.prototype,"animationFrameService",void 0),Ro([k("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Ro([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Ro([k("columnModel")],e.prototype,"columnModel",void 0),Ro([k("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ro([k("menuService")],e.prototype,"menuService",void 0),Ro([k("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Ro([k("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ro([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ro([k("rowRenderer")],e.prototype,"rowRenderer",void 0),Ro([k("popupService")],e.prototype,"popupService",void 0),Ro([k("mouseEventService")],e.prototype,"mouseEventService",void 0),Ro([k("rowModel")],e.prototype,"rowModel",void 0),Ro([k("filterManager")],e.prototype,"filterManager",void 0),e}(Re),X_;(function(r){r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE"})(X_||(X_={}));var uh;(function(r){r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION"})(uh||(uh={}));var Ng="ag-cell-range-selected",fze="ag-cell-range-chart",vze="ag-cell-range-single-cell",gze="ag-cell-range-chart-category",mze="ag-cell-range-handle",_ze="ag-cell-range-top",Cze="ag-cell-range-right",yze="ag-cell-range-bottom",Sze="ag-cell-range-left",wze=function(){function r(e,t){this.beans=e,this.cellCtrl=t}return r.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ng,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(Ng,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(Ng,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(Ng,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(Ng,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(fze,this.hasChartRange),dv(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(vze,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,o=!t&&e.bottom,a=!t&&e.left;this.cellComp.addOrRemoveCssClass(_ze,n),this.cellComp.addOrRemoveCssClass(Cze,i),this.cellComp.addOrRemoveCssClass(yze,o),this.cellComp.addOrRemoveCssClass(Sze,a)},r.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(n){return $s([uh.DIMENSION,uh.VALUE],n.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsService.get("enableRtl"),n=!1,i=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,h;t?(d=c.getDisplayedColAfter(s),h=c.getDisplayedColBefore(s)):(d=c.getDisplayedColBefore(s),h=c.getDisplayedColAfter(s));var p=u.getCellRanges().filter(function(C){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),C)});d||(a=!0),h||(i=!0);for(var f=0;f<p.length&&!(n&&i&&o&&a);f++){var v=p[f],g=u.getRangeStartRow(v),m=u.getRangeEndRow(v);!n&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&v.columns.indexOf(d)<0&&(a=!0),!i&&h&&v.columns.indexOf(h)<0&&(i=!0)}return{top:n,right:i,bottom:o,left:a}},r.prototype.refreshHandle=function(){if(!(!this.beans.rangeService||this.beans.context.isDestroyed())){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(mze,!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var a=Dr(i),s=this.cellCtrl.getCellPosition(),l=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=t.get("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=i[0].type===uh.DIMENSION,h=d&&n.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(gze,h),c=a.type===uh.VALUE}return c&&a.endRow!=null&&n.isContiguousRange(a)&&n.isBottomRightCell(a,s)},r.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,i=Dr(n.getCellRanges()).type,o=t.get("enableFillHandle")&&At(i),a=o?X_.FILL:X_.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}(),bze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eze=function(r){bze(e,r);function e(t,n){var i=r.call(this)||this;return i.cellCtrl=t,i.beans=n,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return e.prototype.setupRowSpan=function(){var t=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,W.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onNewColumnsLoaded=function(){var t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();fu(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width="".concat(t,"px")}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,n){return t+n.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),n=[];if(t===1)n.push(this.column);else for(var i=this.column,o=this.column.getPinned(),a=0;i&&a<t&&(n.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||At(i)||o!==i.getPinned()));a++);return n},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?t=Dr(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var i=this.beans.columnModel.getBodyContainerWidth();return n+i+(t||0)}return n+(t||0)},e.prototype.applyRowSpan=function(t){if(!(this.rowSpan===1&&!t)){var n=this.beans.gridOptionsService.getRowHeightAsNumber(),i=n*this.rowSpan;this.eGui.style.height="".concat(i,"px"),this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(Re),xze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ize=function(r){xze(e,r);function e(t,n){var i=r.call(this)||this;return i.staticClasses=[],i.cellCtrl=t,i.beans=n,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,n=this.column.getColDef(),i=n.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,o,function(a){return t.cellComp.addOrRemoveCssClass(a,!0)},function(a){return t.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=i},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var n;if(typeof t.cellStyle=="function"){var i=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=t.cellStyle;n=o(i)}else n=t.cellStyle;n&&this.cellComp.setUserStyles(n)}},e.prototype.applyClassesFromColDef=function(){var t=this,n=this.column.getColDef(),i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!0)})},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(Re),Tze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ay=function(r){Tze(e,r);function e(t,n){var i=r.call(this)||this;return i.ctrl=t,i.beans=n,i}return e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var n="title";t!=null&&t!=""?this.eGui.setAttribute(n,t):this.eGui.removeAttribute(n)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this,n,i,o,a;if(this.genericTooltipFeature==null){var s={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new bk(s,(i=(n=this.ctrl).getTooltipShowDelayOverride)===null||i===void 0?void 0:i.call(n),(a=(o=this.ctrl).getTooltipHideDelayOverride)===null||a===void 0?void 0:a.call(o)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,n=this.ctrl,i=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,a=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:i,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(Re),zt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kk=function(){function r(){}return r.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},zt([k("resizeObserverService")],r.prototype,"resizeObserverService",void 0),zt([k("paginationProxy")],r.prototype,"paginationProxy",void 0),zt([k("context")],r.prototype,"context",void 0),zt([k("columnApi")],r.prototype,"columnApi",void 0),zt([k("gridApi")],r.prototype,"gridApi",void 0),zt([k("gridOptionsService")],r.prototype,"gridOptionsService",void 0),zt([k("expressionService")],r.prototype,"expressionService",void 0),zt([k("environment")],r.prototype,"environment",void 0),zt([k("rowRenderer")],r.prototype,"rowRenderer",void 0),zt([k("templateService")],r.prototype,"templateService",void 0),zt([k("valueService")],r.prototype,"valueService",void 0),zt([k("eventService")],r.prototype,"eventService",void 0),zt([k("columnModel")],r.prototype,"columnModel",void 0),zt([k("headerNavigationService")],r.prototype,"headerNavigationService",void 0),zt([k("navigationService")],r.prototype,"navigationService",void 0),zt([k("columnAnimationService")],r.prototype,"columnAnimationService",void 0),zt([Cr("rangeService")],r.prototype,"rangeService",void 0),zt([k("focusService")],r.prototype,"focusService",void 0),zt([k("popupService")],r.prototype,"popupService",void 0),zt([k("valueFormatterService")],r.prototype,"valueFormatterService",void 0),zt([k("stylingService")],r.prototype,"stylingService",void 0),zt([k("columnHoverService")],r.prototype,"columnHoverService",void 0),zt([k("userComponentFactory")],r.prototype,"userComponentFactory",void 0),zt([k("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),zt([k("animationFrameService")],r.prototype,"animationFrameService",void 0),zt([k("dragService")],r.prototype,"dragService",void 0),zt([k("dragAndDropService")],r.prototype,"dragAndDropService",void 0),zt([k("sortController")],r.prototype,"sortController",void 0),zt([k("filterManager")],r.prototype,"filterManager",void 0),zt([k("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),zt([k("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),zt([k("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),zt([k("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),zt([k("selectionService")],r.prototype,"selectionService",void 0),zt([Cr("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),zt([k("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),zt([k("rowModel")],r.prototype,"rowModel",void 0),zt([k("ctrlsService")],r.prototype,"ctrlsService",void 0),zt([k("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),zt([k("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),zt([k("valueCache")],r.prototype,"valueCache",void 0),zt([k("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),zt([k("localeService")],r.prototype,"localeService",void 0),zt([k("valueParserService")],r.prototype,"valueParserService",void 0),zt([k("syncService")],r.prototype,"syncService",void 0),zt([k("ariaAnnouncementService")],r.prototype,"ariaAnnouncementService",void 0),zt([Fe],r.prototype,"postConstruct",null),r=zt([et("beans")],r),r}(),Rze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oze=function(r){Rze(e,r);function e(t,n,i){var o=r.call(this)||this;return o.cellCtrl=t,o.beans=n,o.column=i,o}return e.prototype.onMouseEvent=function(t,n){if(!Ws(n))switch(t){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n);break}},e.prototype.onCellClicked=function(t){var n=this;if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var i=this.beans,o=i.eventService,a=i.rangeService,s=i.gridOptionsService,l=t.ctrlKey||t.metaKey;a&&l&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);var u=this.cellCtrl.createEvent(t,W.EVENT_CELL_CLICKED);o.dispatchEvent(u);var c=this.column.getColDef();c.onCellClicked&&window.setTimeout(function(){n.beans.frameworkOverrides.wrapOutgoing(function(){c.onCellClicked(u)})},0);var d=(s.get("singleClickEdit")||c.singleClickEdit)&&!s.get("suppressClickEdit");d&&!(t.shiftKey&&(a==null?void 0:a.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!Yu()||jN("dblclick"))return!1;var t=new Date().getTime(),n=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,n},e.prototype.onCellDoubleClicked=function(t){var n=this,i=this.column.getColDef(),o=this.cellCtrl.createEvent(t,W.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(function(){n.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellDoubleClicked(o)})},0);var a=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");a&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var n=t.ctrlKey,i=t.metaKey,o=t.shiftKey,a=t.target,s=this,l=s.cellCtrl,u=s.beans,c=u.eventService,d=u.rangeService,h=u.focusService;if(!this.isRightClickInExistingRange(t)){var p=d&&d.getCellRanges().length!=0;if(!o||!p){var f=Hl()&&!l.isEditing()&&!hk(a);l.focusCell(f)}if(o&&p&&!h.isCellFocused(l.getCellPosition())){t.preventDefault();var v=h.getFocusedCell();if(v){var g=v.column,m=v.rowIndex,C=v.rowPinned,y=u.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:C}),w=y==null?void 0:y.getCellCtrl(g);w!=null&&w.isEditing()&&w.stopEditing(),h.setFocusedCell({column:g,rowIndex:m,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var T=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(T);else{var S=n||i;d.setRangeToCell(T,S)}}c.dispatchEvent(this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var n=this.beans.rangeService;if(n){var i=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},e.prototype.containsWidget=function(t){return Eh(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,W.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var n=this.cellCtrl.getGui(),i=n.contains(t.target),o=n.contains(t.relatedTarget);return i&&o},e.prototype.destroy=function(){},e}(kk),Dze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Aze=function(r){Dze(e,r);function e(t,n,i,o,a){var s=r.call(this)||this;return s.cellCtrl=t,s.beans=n,s.rowNode=o,s.rowCtrl=a,s}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var n=t.key;switch(n){case le.ENTER:this.onEnterKeyDown(t);break;case le.F2:this.onF2KeyDown(t);break;case le.ESCAPE:this.onEscapeKeyDown(t);break;case le.TAB:this.onTabKeyDown(t);break;case le.BACKSPACE:case le.DELETE:this.onBackspaceOrDeleteKeyDown(n,t);break;case le.DOWN:case le.UP:case le.RIGHT:case le.LEFT:this.onNavigationKeyDown(t,n);break}},e.prototype.onNavigationKeyDown=function(t,n){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,n,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(t);n&&this.beans.navigationService.ensureCellVisible(n)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,n){var i=this,o=i.cellCtrl,a=i.beans,s=i.rowNode,l=a.gridOptionsService,u=a.rangeService,c=a.eventService;o.isEditing()||(c.dispatchEvent({type:W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),rJ(t,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,n),c.dispatchEvent({type:W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var n=t.shiftKey?le.UP:le.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(le.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(le.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){var n=t.target,i=n!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=t.key;o===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(o,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!n.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:a,event:t,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:a,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(Re),Pze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fze=function(r){Pze(e,r);function e(t,n,i){var o=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=t,o.column=n,o.eCell=i,o}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(Yn("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var n=this,i=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var s=JSON.stringify(n.rowNode.data);t.dataTransfer.setData("application/json",s),t.dataTransfer.setData("text/plain",s)}catch{}};if(i){var a=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});i(a)}else o()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},Mze([Fe],e.prototype,"postConstruct",null),e}(jt),Lze=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Nze=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},kze="ag-column-first",Vze="ag-column-last",sy=function(){function r(){}return r.getHeaderClassesFromColDef=function(e,t,n,i){return At(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,n,i)},r.getToolPanelClassesFromColDef=function(e,t,n,i){return At(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,n,i)},r.refreshFirstAndLastStyles=function(e,t,n){e.addOrRemoveCssClass(kze,n.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass(Vze,n.isColumnAtEdge(t,"last"))},r.getClassParams=function(e,t,n,i){return t.addGridCommonParams({colDef:e,column:n,columnGroup:i})},r.getColumnClassesFromCollDef=function(e,t,n,i,o){if(At(e))return[];var a;if(typeof e=="function"){var s=this.getClassParams(t,n,i,o);a=e(s)}else a=e;return typeof a=="string"?[a]:Array.isArray(a)?Nze([],Lze(a),!1):[]},r}(),Bze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AE=function(){return AE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},AE.apply(this,arguments)},Hze="ag-cell",Gze="ag-cell-auto-height",$ze="ag-cell-normal-height",Wze="ag-cell-focus",zze="ag-cell-first-right-pinned",Uze="ag-cell-last-left-pinned",jze="ag-cell-not-inline-editing",Kze="ag-column-hover",qze="ag-cell-wrap-text",Yze=0,qc=function(r){Bze(e,r);function e(t,n,i,o){var a=r.call(this)||this;return a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=t,a.rowNode=n,a.beans=i,a.rowCtrl=o,a.instanceId=t.getId()+"-"+Yze++,a.colIdSanitised=oi(a.column.getId()),i.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new Eze(this,this.beans),this.addDestroyFunc(function(){var i;(i=t.cellPositionFeature)===null||i===void 0||i.destroy(),t.cellPositionFeature=null}),this.cellCustomStyleFeature=new Ize(this,this.beans),this.addDestroyFunc(function(){var i;(i=t.cellCustomStyleFeature)===null||i===void 0||i.destroy(),t.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Oze(this,this.beans,this.column),this.addDestroyFunc(function(){var i;(i=t.cellMouseListenerFeature)===null||i===void 0||i.destroy(),t.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Aze(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;(i=t.cellKeyboardListenerFeature)===null||i===void 0||i.destroy(),t.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){t.disableTooltipFeature()}));var n=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");n&&(this.cellRangeFeature=new wze(this.beans,this),this.addDestroyFunc(function(){var i;(i=t.cellRangeFeature)===null||i===void 0||i.destroy(),t.cellRangeFeature=null}))},e.prototype.enableTooltipFeature=function(){var t=this,n=function(){var o=t.column.getColDef(),a=t.rowNode.data;if(o.tooltipField&&Ee(a))return Wf(a,o.tooltipField,t.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s(t.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted})):null},i={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:n,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new ay(i,this.beans)},e.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},e.prototype.setComp=function(t,n,i,o,a){var s,l,u,c;this.cellComp=t,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(n),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(t),(u=this.tooltipFeature)===null||u===void 0||u.setComp(n),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,n),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var n=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!t)){var i=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(u){if(!n.editing&&n.isAlive()){var c=gd(i),d=c.paddingTop,h=c.paddingBottom,p=c.borderBottomWidth,f=c.borderTopWidth,v=d+h+p+f,g=t.offsetHeight,m=g+v;if(u<5){var C=n.beans.gridOptionsService.getDocument(),y=!C||!C.contains(t),w=m==0;if(y||w){window.setTimeout(function(){return a(u+1)},0);return}}var T=Math.max(m,o);n.rowNode.setRowAutoHeight(T,n.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(t,s);this.addDestroyFunc(function(){l(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},e.prototype.getCellAriaRole=function(){var t;return(t=this.column.getColDef().cellAriaRole)!==null&&t!==void 0?t:"gridcell"},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isCellRenderer=function(){var t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null},e.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},e.prototype.showValue=function(t){t===void 0&&(t=!1);var n=this.getValueToDisplay(),i;if(this.isCellRenderer()){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,n,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var n=this.rowNode.rowPinned!=null,i=typeof t=="function",o=n?!1:i||t===!0;return o},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return n||i||o},e.prototype.startEditing=function(t,n,i){var o=this;if(t===void 0&&(t=null),n===void 0&&(n=!1),i===void 0&&(i=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(t,n,i)});return}var a=this.createCellEditorParams(t,n),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a);this.editCompDetails=l;var u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!s.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(i,W.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var n={newValueExists:!1};if(t)return n;var i=this.cellComp.getCellEditor();if(!i)return n;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return n;var a=i.getValue();return{newValue:a,newValueExists:!0}},e.prototype.saveNewValue=function(t,n){if(n===t)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(t),i=n.newValue,o=n.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return o&&(s=this.saveNewValue(a,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,i,!t&&!!s),s},e.prototype.dispatchEditingStoppedEvent=function(t,n,i){var o=AE(AE({},this.createEvent(null,W.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,n){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:n,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},e.prototype.createCellRendererParams=function(){var t=this,n=this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(i){return t.beans.valueService.setValue(t.rowNode,t.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,a,s){return t.registerRowDragger(i,o,s)}});return n},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){var n=t.column===this.column;n&&this.refreshCell({})},e.prototype.refreshOrDestroyCell=function(t){var n;this.refreshShouldDestroy()?(n=this.rowCtrl)===null||n===void 0||n.refreshCell(this):this.refreshCell(t)},e.prototype.refreshCell=function(t){var n,i,o;if(!(this.suppressRefreshCell||this.editing)){var a=this.column.getColDef(),s=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!a.suppressCellFlash,u=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,c=t&&t.forceRefresh||u||s,d=!!this.cellComp,h=this.updateAndFormatValue(d),p=c||h;if(d){if(p){this.showValue(s);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),v=!l&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash);v&&this.flashCell(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},e.prototype.stopEditingAndFocus=function(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(n)},e.prototype.navigateAfterEdit=function(t){var n=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(n){var i=t?le.UP:le.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var n,i,o=(n=t==null?void 0:t.flashDuration)!==null&&n!==void 0?n:t==null?void 0:t.flashDelay,a=(i=t==null?void 0:t.fadeDuration)!==null&&i!==void 0?i:t==null?void 0:t.fadeDelay;this.animateCell("data-changed",o,a)},e.prototype.animateCell=function(t,n,i){var o=this;if(this.cellComp){var a="ag-cell-".concat(t),s="ag-cell-".concat(t,"-animation"),l=this.beans.gridOptionsService;n||(n=l.get("cellFlashDuration")),Ee(i)||(i=l.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},i))},n)})}},e.prototype.onFlashCells=function(t){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=t.cells[n];i&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var n;return(n=this.callValueFormatter(t))!==null&&n!==void 0?n:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){var n=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i:!0},e.prototype.valuesAreEqual=function(t,n){var i=this.column.getColDef();return i.equals?i.equals(t,n):t===n},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,n){var i=this.beans.gridOptionsService.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex});return i},e.prototype.processCharacter=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.processCharacter(t)},e.prototype.onKeyDown=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.onKeyDown(t)},e.prototype.onMouseEvent=function(t,n){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(t,n)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;(t=this.tooltipFeature)===null||t===void 0||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&((t=this.cellPositionFeature)===null||t===void 0||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,n=t.cellComp,i=t.column,o=t.beans;sy.refreshFirstAndLastStyles(n,i,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);rk(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return(t=this.cellPositionFeature)===null||t===void 0?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,n){var i=this;if(n===void 0&&(n=null),!this.cellComp){this.onCellCompAttachedFuncs.push(function(){i.startRowOrCellEdit(t,n)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,n)},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(zze,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Uze,t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Wze,n),n&&t&&t.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Dl(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(Hze,!0),this.cellComp.addOrRemoveCssClass(jze,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(Gze,t),this.cellComp.addOrRemoveCssClass($ze,!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Kze,t)}},e.prototype.onColDefChanged=function(){var t,n;if(this.cellComp){var i=this.column.isAutoHeight();i!==this.isAutoHeight&&((t=this.rowCtrl)===null||t===void 0||t.refreshCell(this));var o=this.column.isTooltipEnabled();if(o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(n=this.tooltipFeature)===null||n===void 0||n.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{var a=this.getCellEditor();if(a!=null&&a.refresh){var s=this.editCompDetails.params,l=s.eventKey,u=s.cellStartedEdit,c=this.createCellEditorParams(l,u),d=this.column.getColDef(),h=this.beans.userComponentFactory.getCellEditorDetails(d,c);a.refresh(h.params)}}}},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(qze,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var n=this,i=this.column.getColDef(),o=this.createEvent(t,W.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),i.onCellContextMenu&&window.setTimeout(function(){n.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellContextMenu(o)})},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Pk;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new Fze(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,n,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,n);return}var a=this.createRowDragComp(t,n,i);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){o.beans.context.destroyBean(a),o.customRowDragComp=null}))},e.prototype.createRowDragComp=function(t,n,i){var o=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l){Tt("managed row dragging is only allowed in the Client Side Row Model");return}if(a){Tt("managed row dragging is not possible when doing pagination");return}}var u=new RE(function(){return o.value},this.rowNode,this.column,t,n,i);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(Re),Xze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qze=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SD=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},wD=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Lo;(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"})(Lo||(Lo={}));var Zze=0,Yc=function(r){Xze(e,r);function e(t,n,i,o,a){var s=r.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=n,s.gridOptionsService=n.gridOptionsService,s.rowNode=t,s.paginationPage=n.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.suppressRowTransform=s.gridOptionsService.get("suppressRowTransform"),s.instanceId=t.id+"-"+Zze++,s.rowId=oi(t.id),s.initRowBusinessKey(),s.rowFocused=n.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=n.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(i),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=oi(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n,i){var o={rowComp:t,element:n,containerType:i};this.allRowGuis.push(o),i===ti.LEFT?this.leftGui=o:i===ti.RIGHT?this.rightGui=o:i===ti.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==t}),t){case ti.LEFT:this.leftGui=void 0;break;case ti.RIGHT:this.rightGui=void 0;break;case ti.FULL_WIDTH:this.fullWidthGui=void 0;break;case ti.CENTER:this.centerGui=void 0;break}},e.prototype.isCacheable=function(){return this.rowType===Lo.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},e.prototype.setCached=function(t){var n=t?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=n})},e.prototype.initialiseRowComp=function(t){var n=this,i=this.gridOptionsService;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=t.rowComp,a=this.getInitialRowClasses(t.containerType);a.forEach(function(s){return o.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Mu(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=oi(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var n=this,i=t.containerType,o=this.slideInAnimation[i];o&&(yM(function(){n.onTopChanged()}),this.slideInAnimation[i]=!1);var a=this.fadeInAnimation[i];a&&(yM(function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.get("enableRangeSelection")){Tt("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var n=this.beans.localeService.getLocaleTextFunc(),i=new RE(function(){return"1 ".concat(n("rowDragRow","row"))},this.rowNode,void 0,t.element,void 0,!0),o=this.createBean(i,this.beans.context);this.rowDragComps.push(o)},e.prototype.setupFullWidth=function(t){var n=this.getPinnedForContainer(t.containerType),i=this.createFullWidthParams(t.element,n);if(!(this.rowType==Lo.FullWidthDetail&&!Nr.__assertRegistered(Ct.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Lo.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Lo.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Lo.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderers=function(){var t,n;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(i){var o;return(o=i==null?void 0:i.rowComp)===null||o===void 0?void 0:o.getFullWidthCellRenderer()}):[(n=(t=this.fullWidthGui)===null||t===void 0?void 0:t.rowComp)===null||n===void 0?void 0:n.getFullWidthCellRenderer()]},e.prototype.getCellElement=function(t){var n=this.getCellCtrl(t);return n?n.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!t||!this.areAllContainersReady())){var n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(n)}},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&n&&i},e.prototype.setRowType=function(){var t=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer,s=a&&this.gridOptionsService.isGroupUseEntireRow(o);t?this.rowType=Lo.FullWidthLoading:i?this.rowType=Lo.FullWidthDetail:n?this.rowType=Lo.FullWidth:s?this.rowType=Lo.FullWidthGroup:this.rowType=Lo.Normal},e.prototype.updateColumnLists=function(t,n){var i=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),!this.isFullWidth()){var o=t||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,n,i){var o=this;i===void 0&&(i=null);var a={list:[],map:{}},s=function(l,u){a.list.push(u),a.map[l]=u};return n.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new qc(l,o.rowNode,o.beans,o)),s(u,c)}),t.list.forEach(function(l){var u=a.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){s(l.getColumn().getInstanceId(),l);return}l.destroy()}}),a},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var n=this;this.allRowGuis.forEach(function(i){var o=n.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,t)})},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case ti.LEFT:return this.leftCellCtrls.list;case ti.RIGHT:return this.rightCellCtrls.list;case ti.FULL_WIDTH:return[];case ti.CENTER:return this.centerCellCtrls.list;default:var n=t;throw new Error("Unhandled case: ".concat(n))}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var i=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,n){var i=!0,o=!1,a=t.getColumn();if(a.getPinned()!=n)return i;var s=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=s||l;if(u){var c=t.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),h=d.indexOf(c)>=0;return h?o:i}return i},e.prototype.getDomOrder=function(){var t=this.gridOptionsService.get("ensureDomOrder");return t||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var n=this,i=function(){t.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},e.prototype.setAnimateFlags=function(t){if(!(this.isSticky()||!t)){var n=Ee(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.isFullWidth=function(){return this.rowType!==Lo.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,n=function(u,c){return u?u.rowComp.refreshFullWidth(function(){return t.createFullWidthParams(u.element,c)}):!0},i=n(this.fullWidthGui,null),o=n(this.centerGui,null),a=n(this.leftGui,"left"),s=n(this.rightGui,"right"),l=i&&o&&a&&s;return l},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,Zt.EVENT_HEIGHT_CHANGED,function(){return t.onRowHeightChanged()}),this.addManagedListener(this.rowNode,Zt.EVENT_ROW_SELECTED,function(){return t.onRowSelected()}),this.addManagedListener(this.rowNode,Zt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Zt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Zt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,W.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,W.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,W.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,W.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,W.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,W.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(n,W.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){t.destroyBeans(t.rowDragComps,t.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var i=t.gridOptionsService.get("rowDragEntireRow");if(i){t.allRowGuis.forEach(function(o){t.addRowDraggerToRow(o)});return}t.destroyBeans(t.rowDragComps,t.beans.context),t.rowDragComps=[]}),this.addListenersForCellComps()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Zt.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Zt.EVENT_CELL_CHANGED,function(n){t.getAllCellCtrls().forEach(function(i){return i.onCellChanged(n)})})},e.prototype.onRowNodeDataChanged=function(t){var n=this,i=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(i){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.allRowGuis.forEach(function(a){n.setRowCompRowId(a.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var i=t===Pl.Above,o=t===Pl.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",t),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!n),Mu(i.element,t&&n)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:Dl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var n=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),i=n?n.element:null,o=i===t.target;if(o){var a=this.rowNode,s=this.beans.focusService.getFocusedCell(),l={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||Ws(t))){var n=this.allRowGuis.find(function(s){return s.element.contains(t.target)}),i=n?n.element:null,o=i===t.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(i,!1,t.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var n,i=this.rowNode,o=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,a=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)===null||n===void 0?void 0:n.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,n){var i={list:[],map:{}};return t.list.forEach(function(o){o!==n&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},e.prototype.onMouseEvent=function(t,n){switch(t){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}},e.prototype.createRowEvent=function(t,n){return this.gridOptionsService.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})},e.prototype.createRowEventWithSource=function(t,n){var i=this.createRowEvent(t,n);return i.source=this,i},e.prototype.onRowDblClick=function(t){if(!Ws(t)){var n=this.createRowEventWithSource(W.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(n)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=Eh(t.target,"ag-row-drag",3),!!this.isFullWidth()){var n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var n=Ws(t)||this.lastMouseDownOnDragger;if(!n){var i=this.createRowEventWithSource(W.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(i);var o=t.ctrlKey||t.metaKey,a=t.shiftKey,s=this.gridOptionsService.get("groupSelectsChildren");if(!(s&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:t,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:a,event:t,source:c})}}}},e.prototype.isRowSelectionBlocked=function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()},e.prototype.setupDetailRowAutoHeight=function(t){var n=this;if(this.rowType===Lo.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var i=function(){var a=t.clientHeight;if(a!=null&&a>0){var s=function(){n.rowNode.setRowHeight(a),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},o=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(o),i()}},e.prototype.createFullWidthParams=function(t,n){var i=this,o=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,u){return i.addFullWidthRowDragging(a,s,l,u)}});return o},e.prototype.addFullWidthRowDragging=function(t,n,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var a=new RE(function(){return i},this.rowNode,void 0,t,n,o);this.createManagedBean(a,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var n="ag-row-level-"+t,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},e.prototype.stopEditing=function(t){var n,i;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=Qze(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(t);a&&!t&&!s&&d&&(s=!0)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}if(s){var h=this.createRowEvent(W.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var n=t?this.createRowEvent(W.EVENT_ROW_EDITING_STARTED):this.createRowEvent(W.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},e.prototype.startRowEditing=function(t,n,i){if(t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(a,s){var l=s===n;return l?s.startEditing(t,l,i):s.startEditing(null,l,i),a?!0:s.isEditing()},!1);o&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var t=wD(wD(wD([],SD(this.centerCellCtrls.list),!1),SD(this.leftCellCtrls.list),!1),SD(this.rightCellCtrls.list),!1);return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(i){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){t.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})},function(n){t.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!1)})})},e.prototype.setStylesFromGridOptions=function(t,n){var i=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},e.prototype.getPinnedForContainer=function(t){var n=t===ti.LEFT?"left":t===ti.RIGHT?"right":null;return n},e.prototype.getInitialRowClasses=function(t){var n=this.getPinnedForContainer(t),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var n=this.gridOptionsService.getCallback("getRowStyle"),i;if(n){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=n(o)}return i||t?Object.assign({},t,i):this.emptyStyle},e.prototype.onRowSelected=function(t){var n=this,i=this.beans.gridOptionsService.getDocument(),o=!!this.rowNode.isSelected();this.forEachGui(t,function(a){a.rowComp.addOrRemoveCssClass("ag-row-selected",o),dv(a.element,o);var s=a.element.contains(i.activeElement);s&&(a===n.centerGui||a===n.fullWidthGui)&&n.announceDescription()})},e.prototype.announceDescription=function(){if(!this.isRowSelectionBlocked()){var t=this.rowNode.isSelected();if(!(t&&this.beans.gridOptionsService.get("suppressRowDeselection"))){var n=this.beans.localeService.getLocaleTextFunc(),i=n(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(t?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(i)}}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var n=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Zt.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Zt.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},e.prototype.roundRowTopToBounds=function(t){var n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(n.top,!0)-100,o=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(i,t),o)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,n){t?n(t):this.allRowGuis.forEach(n)},e.prototype.onRowHeightChanged=function(t){if(this.rowNode.rowHeight!=null){var n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),a=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(i,a)-2,"px"):void 0;this.forEachGui(t,function(l){l.element.style.height="".concat(n,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},e.prototype.addEventListener=function(t,n){r.prototype.addEventListener.call(this,t,n)},e.prototype.removeEventListener=function(t,n){r.prototype.removeEventListener.call(this,t,n)},e.prototype.destroyFirstPass=function(t){if(t===void 0&&(t=!1),this.active=!1,!t&&this.gridOptionsService.isAnimateRows()&&!this.isSticky()){var n=this.rowNode.rowTop!=null;if(n){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}this.rowNode.setHovered(!1);var o=this.createRowEvent(W.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),r.prototype.destroy.call(this)},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var t=function(n){return n.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var n=this;this.forEachGui(t,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,n){if(n===void 0&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return t;var i=this.beans.paginationProxy.getPixelOffset(),o=n?1:-1;return t+i*o},e.prototype.setRowTop=function(t){if(!this.printLayout&&Ee(t)){var n=this.applyPaginationOffset(t),i=this.rowNode.isRowPinned()||this.rowNode.sticky,o=i?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),a="".concat(o,"px");this.setRowTopStyle(a)}},e.prototype.getInitialRowTop=function(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(t),")")},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},e.prototype.setRowTopStyle=function(t){var n=this;this.allRowGuis.forEach(function(i){return n.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform("translateY(".concat(t,")"))})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var n=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==t&&(n=i)}),n!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(t)>=0&&(n=i)}),n},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,a=i+this.rowNode.rowIndex+1;this.forEachGui(t,function(s){s.rowComp.setRowIndex(n),s.rowComp.addOrRemoveCssClass("ag-row-even",o),s.rowComp.addOrRemoveCssClass("ag-row-odd",!o),tk(s.element,a)})},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(Re),Jze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ia=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eUe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},tUe=function(r){Jze(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",n=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,n)},e.prototype.addMouseListeners=function(){var t=this,n=jN("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",n];i.forEach(function(o){var a=t.processMouseEvent.bind(t,o);t.addManagedListener(t.element,o,a)})},e.prototype.processMouseEvent=function(t,n){if(!(!this.mouseEventService.isEventFromThisGrid(n)||Ws(n))){var i=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);t==="contextmenu"?this.handleContextMenuMouseEvent(n,void 0,i,o):(o&&o.onMouseEvent(t,n),i&&i.onMouseEvent(t,n))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(Yu()){var n=new ki(this.element),i=function(o){var a=t.getRowForEvent(o.touchEvent),s=t.mouseEventService.getRenderedCellForEvent(o.touchEvent);t.handleContextMenuMouseEvent(void 0,o.touchEvent,a,s)};this.addManagedListener(n,ki.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.getRowForEvent=function(t){for(var n=t.target;n;){var i=this.gridOptionsService.getDomData(n,Yc.DOM_DATA_KEY_ROW_CTRL);if(i)return i;n=n.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,n,i,o){var a=i?i.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){var u=t||n;o.dispatchCellContextMenuEvent(u??null),l=this.valueService.getValue(s,a)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:n,rowNode:a,column:s,value:l,anchorToElement:d})},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:SE(this.gridOptionsService,t,qc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:SE(this.gridOptionsService,t,Yc.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,n){var i=this.getControlsForEventTarget(n.target),o=i.cellCtrl,a=i.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,t,n):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,t,n))},e.prototype.processCellKeyboardEvent=function(t,n,i){var o=t.getRowNode(),a=t.getColumn(),s=t.isEditing(),l=!xE(this.gridOptionsService,i,o,a,s);if(l&&n==="keydown"){var u=!s&&this.navigationService.handlePageScrollingKey(i);u||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),I0(i)&&t.processCharacter(i)}if(n==="keydown"){var c=t.createEvent(i,W.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,n,i){var o=t.getRowNode(),a=this.focusService.getFocusedCell(),s=a&&a.column,l=!xE(this.gridOptionsService,i,o,s,!1);if(l){var u=i.key;if(n==="keydown")switch(u){case le.PAGE_HOME:case le.PAGE_END:case le.PAGE_UP:case le.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case le.UP:case le.DOWN:t.onKeyboardNavigate(i);break;case le.TAB:t.onTabKeyDown(i);break}}if(n==="keydown"){var c=t.createRowEvent(W.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}},e.prototype.doGridOperations=function(t,n){if(!(!t.ctrlKey&&!t.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(t)){var i=tJ(t);if(i===le.A)return this.onCtrlAndA(t);if(i===le.C)return this.onCtrlAndC(t);if(i===le.D)return this.onCtrlAndD(t);if(i===le.V)return this.onCtrlAndV(t);if(i===le.X)return this.onCtrlAndX(t);if(i===le.Y)return this.onCtrlAndY();if(i===le.Z)return this.onCtrlAndZ(t)}},e.prototype.onCtrlAndA=function(t){var n=this,i=n.pinnedRowModel,o=n.paginationProxy,a=n.rangeService;if(a&&o.isRowsToRender()){var s=eUe([i.isEmpty("top"),i.isEmpty("bottom")],2),l=s[0],u=s[1],c=l?null:"top",d=void 0,h=void 0;u?(d=null,h=this.paginationProxy.getRowCount()-1):(d="bottom",h=i.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(Sa(p))return;a.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:h,rowEndPinned:d,columnStart:p[0],columnEnd:Dr(p)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},ia([k("mouseEventService")],e.prototype,"mouseEventService",void 0),ia([k("valueService")],e.prototype,"valueService",void 0),ia([k("menuService")],e.prototype,"menuService",void 0),ia([k("ctrlsService")],e.prototype,"ctrlsService",void 0),ia([k("navigationService")],e.prototype,"navigationService",void 0),ia([k("focusService")],e.prototype,"focusService",void 0),ia([k("undoRedoService")],e.prototype,"undoRedoService",void 0),ia([k("columnModel")],e.prototype,"columnModel",void 0),ia([k("paginationProxy")],e.prototype,"paginationProxy",void 0),ia([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ia([Cr("rangeService")],e.prototype,"rangeService",void 0),ia([Cr("clipboardService")],e.prototype,"clipboardService",void 0),ia([Fe],e.prototype,"postConstruct",null),e}(Re),rUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},N2=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},k2=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},nUe=function(r){rUe(e,r);function e(t){var n=r.call(this)||this;return n.centerContainerCtrl=t,n}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){t.checkViewportAndScrolls()})},e.prototype.listenForResize=function(){var t=this,n=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=yp(t);if(!(n<=50)){var i=this.getPinnedColumnsOverflowingViewport(n-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(i.length){if(o){var a={columns:i,viewportWidth:n};i=o(a)}this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature")}}},e.prototype.getPinnedColumnsOverflowingViewport=function(t){var n=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),o=n+i;if(o<t)return[];for(var a=k2([],N2(this.columnModel.getDisplayedLeftColumns()),!1),s=k2([],N2(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],h=o-c-t;(u<a.length||l<s.length)&&h>0;){if(l<s.length){var p=s[l++];h-=p.getActualWidth(),d.push(p)}if(u<a.length&&h>0){var p=a[u++];h-=p.getActualWidth(),d.push(p)}}return d},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=ty(t);if(this.bodyHeight!==n){this.bodyHeight=n;var i={type:W.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,n)},kg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),kg([k("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),kg([k("columnModel")],e.prototype,"columnModel",void 0),kg([k("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),kg([Fe],e.prototype,"postConstruct",null),e}(Re),iUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oUe=function(r){iUe(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),n=t>0;Sr(this.element,n),cs(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},V2([k("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),V2([Fe],e.prototype,"postConstruct",null),e}(Re),aUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sUe=function(r){aUe(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),n=t>0;Sr(this.element,n),cs(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},B2([k("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),B2([Fe],e.prototype,"postConstruct",null),e}(Re),lUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},WJ=function(r){lUe(e,r);function e(t,n){var i=r.call(this)||this;return i.eContainer=t,i.eViewport=n,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),n=t!=null?"".concat(t,"px"):"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},H2([k("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),H2([Fe],e.prototype,"postConstruct",null),e}(Re),uUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cUe=function(r){uUe(e,r);function e(t){var n=r.call(this)||this;return n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;if(!At(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(i){var o=i.currentValue;if(o){t.enableFeature();return}t.disableFeature()}),this.addDestroyFunc(function(){return t.disableFeature()});var n=this.gridOptionsService.get("enableRangeSelection");n&&this.enableFeature()}},e.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},e.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},bD([Cr("rangeService")],e.prototype,"rangeService",void 0),bD([k("dragService")],e.prototype,"dragService",void 0),bD([Fe],e.prototype,"postConstruct",null),e}(Re),dUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ED=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Vk=function(r){dUe(e,r);function e(t,n){n===void 0&&(n=!1);var i=r.call(this)||this;return i.callback=t,i.addSpacer=n,i}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),i=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),a=t.getDisplayedColumnsRightWidth(),s;if(n)s=i+o+a;else if(s=i,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:a;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())}this.callback(s)},ED([k("columnModel")],e.prototype,"columnModel",void 0),ED([k("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),ED([Fe],e.prototype,"postConstruct",null),e}(Re),hUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Up=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jS=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},KS=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Ce;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth"})(Ce||(Ce={}));var ti;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth"})(ti||(ti={}));function zJ(r){switch(r){case Ce.CENTER:case Ce.TOP_CENTER:case Ce.STICKY_TOP_CENTER:case Ce.BOTTOM_CENTER:return ti.CENTER;case Ce.LEFT:case Ce.TOP_LEFT:case Ce.STICKY_TOP_LEFT:case Ce.BOTTOM_LEFT:return ti.LEFT;case Ce.RIGHT:case Ce.TOP_RIGHT:case Ce.STICKY_TOP_RIGHT:case Ce.BOTTOM_RIGHT:return ti.RIGHT;case Ce.FULL_WIDTH:case Ce.TOP_FULL_WIDTH:case Ce.STICKY_TOP_FULL_WIDTH:case Ce.BOTTOM_FULL_WIDTH:return ti.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var pUe=Pc([[Ce.CENTER,"ag-center-cols-container"],[Ce.LEFT,"ag-pinned-left-cols-container"],[Ce.RIGHT,"ag-pinned-right-cols-container"],[Ce.FULL_WIDTH,"ag-full-width-container"],[Ce.TOP_CENTER,"ag-floating-top-container"],[Ce.TOP_LEFT,"ag-pinned-left-floating-top"],[Ce.TOP_RIGHT,"ag-pinned-right-floating-top"],[Ce.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Ce.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Ce.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Ce.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Ce.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Ce.BOTTOM_CENTER,"ag-floating-bottom-container"],[Ce.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Ce.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Ce.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),fUe=Pc([[Ce.CENTER,"ag-center-cols-viewport"],[Ce.TOP_CENTER,"ag-floating-top-viewport"],[Ce.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Ce.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Bk=function(r){hUe(e,r);function e(t){var n=r.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=t,n.isFullWithContainer=n.name===Ce.TOP_FULL_WIDTH||n.name===Ce.STICKY_TOP_FULL_WIDTH||n.name===Ce.BOTTOM_FULL_WIDTH||n.name===Ce.FULL_WIDTH,n}return e.getRowContainerCssClasses=function(t){var n=pUe.get(t),i=fUe.get(t);return{container:n,viewport:i}},e.getPinned=function(t){switch(t){case Ce.BOTTOM_LEFT:case Ce.TOP_LEFT:case Ce.STICKY_TOP_LEFT:case Ce.LEFT:return"left";case Ce.BOTTOM_RIGHT:case Ce.TOP_RIGHT:case Ce.STICKY_TOP_RIGHT:case Ce.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([Ce.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new nUe(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case Ce.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Ce.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Ce.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Ce.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Ce.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Ce.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Ce.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Ce.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Ce.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Ce.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Ce.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Ce.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,n){t.indexOf(this.name)>=0&&n()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,n,i){var o=this;this.comp=t,this.eContainer=n,this.eViewport=i,this.createManagedBean(new tUe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[Ce.TOP_CENTER,Ce.TOP_LEFT,Ce.TOP_RIGHT],s=[Ce.STICKY_TOP_CENTER,Ce.STICKY_TOP_LEFT,Ce.STICKY_TOP_RIGHT],l=[Ce.BOTTOM_CENTER,Ce.BOTTOM_LEFT,Ce.BOTTOM_RIGHT],u=[Ce.CENTER,Ce.LEFT,Ce.RIGHT],c=KS(KS(KS(KS([],jS(a),!1),jS(l),!1),jS(u),!1),jS(s),!1),d=[Ce.CENTER,Ce.LEFT,Ce.RIGHT,Ce.FULL_WIDTH],h=[Ce.CENTER,Ce.TOP_CENTER,Ce.STICKY_TOP_CENTER,Ce.BOTTOM_CENTER],p=[Ce.LEFT,Ce.BOTTOM_LEFT,Ce.TOP_LEFT,Ce.STICKY_TOP_LEFT],f=[Ce.RIGHT,Ce.BOTTOM_RIGHT,Ce.TOP_RIGHT,Ce.STICKY_TOP_RIGHT];this.forContainers(p,function(){o.pinnedWidthFeature=o.createManagedBean(new oUe(o.eContainer)),o.addManagedListener(o.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new sUe(o.eContainer)),o.addManagedListener(o.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new WJ(o.eContainer,o.name===Ce.CENTER?i:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new cUe(o.eContainer))}),this.forContainers(h,function(){return o.createManagedBean(new Vk(function(v){return o.comp.setContainerWidth("".concat(v,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return t.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,n=[Ce.STICKY_TOP_CENTER,Ce.STICKY_TOP_LEFT,Ce.STICKY_TOP_RIGHT,Ce.STICKY_TOP_FULL_WIDTH],i=n.indexOf(this.name)>=0;if(i){this.comp.setDomOrder(!0);return}var o=function(){var a=t.gridOptionsService.get("ensureDomOrder"),s=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",o),o()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([Ce.TOP_CENTER,Ce.STICKY_TOP_CENTER,Ce.BOTTOM_CENTER],function(){var n=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",n)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([Ce.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([Ce.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.addPreventScrollWhileDragging=function(){var t=this,n=function(i){t.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",n)})},e.prototype.onHorizontalViewportChanged=function(t){t===void 0&&(t=!1);var n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,t)},e.prototype.getCenterWidth=function(){return yp(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return U_(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var n=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return n()})},e.prototype.isViewportInTheDOMTree=function(){return vk(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return U_(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowHorizontalScroll");return t||qZ(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX(".concat(t,"px)")},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){j_(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){var t=e.getPinned(this.name);return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())},e.prototype.onDisplayedRowsChanged=function(t){var n=this;if(t===void 0&&(t=!1),!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}var i=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),a=o||i,s=this.getRowCtrls().filter(function(l){var u=l.isFullWidth(),c=n.isFullWithContainer?!a&&u:a||!u;return c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:t})},e.prototype.getRowCtrls=function(){switch(this.name){case Ce.TOP_CENTER:case Ce.TOP_LEFT:case Ce.TOP_RIGHT:case Ce.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Ce.STICKY_TOP_CENTER:case Ce.STICKY_TOP_LEFT:case Ce.STICKY_TOP_RIGHT:case Ce.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Ce.BOTTOM_CENTER:case Ce.BOTTOM_LEFT:case Ce.BOTTOM_RIGHT:case Ce.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Up([k("dragService")],e.prototype,"dragService",void 0),Up([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Up([k("columnModel")],e.prototype,"columnModel",void 0),Up([k("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Up([k("rowRenderer")],e.prototype,"rowRenderer",void 0),Up([Fe],e.prototype,"postConstruct",null),e}(Re),vUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gUe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(Ce.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(Ce.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(Ce.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(Ce.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(Ce.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(Ce.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(Ce.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(Ce.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(Ce.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(Ce.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(Ce.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(Ce.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(Ce.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(Ce.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(Ce.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(Ce.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),UJ=function(r){vUe(e,r);function e(){return r.call(this,gUe)||this}return e.prototype.init=function(){var t=this,n=function(o,a){var s="".concat(o,"px");a.style.minHeight=s,a.style.height=s},i={setRowAnimationCssOnBodyViewport:function(o,a){return t.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return LZ(t.getGui(),o)},setRowCount:function(o){return FZ(t.getGui(),o)},setTopHeight:function(o){return n(o,t.eTop)},setBottomHeight:function(o){return n(o,t.eBottom)},setTopDisplay:function(o){return t.eTop.style.display=o},setBottomDisplay:function(o){return t.eBottom.style.display=o},setStickyTopHeight:function(o){return t.eStickyTop.style.height=o},setStickyTopTop:function(o){return t.eStickyTop.style.top=o},setStickyTopWidth:function(o){return t.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return t.addOrRemoveCssClass(o,a)},updateLayoutClasses:function(o,a){var s=[t.eBodyViewport.classList,t.eBody.classList];s.forEach(function(l){l.toggle(qn.AUTO_HEIGHT,a.autoHeight),l.toggle(qn.NORMAL,a.normal),l.toggle(qn.PRINT,a.print)}),t.addOrRemoveCssClass(qn.AUTO_HEIGHT,a.autoHeight),t.addOrRemoveCssClass(qn.NORMAL,a.normal),t.addOrRemoveCssClass(qn.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return t.eBodyViewport.classList.toggle(GJ,a)},registerBodyViewportResizeListener:function(o){var a=t.resizeObserverService.observeResize(t.eBodyViewport,o);t.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return t.eTop.style.overflowY=t.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(s){return s.classList.toggle(o,a)})},setBodyViewportWidth:function(o){return t.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new $J),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&MZ(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,n){var i=this.eBodyViewport.classList;i.toggle(ep.ANIMATION_ON,n),i.toggle(ep.ANIMATION_OFF,!n)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},tu([k("resizeObserverService")],e.prototype,"resizeObserverService",void 0),tu([Cr("rangeService")],e.prototype,"rangeService",void 0),tu([We("eBodyViewport")],e.prototype,"eBodyViewport",void 0),tu([We("eStickyTop")],e.prototype,"eStickyTop",void 0),tu([We("eTop")],e.prototype,"eTop",void 0),tu([We("eBottom")],e.prototype,"eBottom",void 0),tu([We("gridHeader")],e.prototype,"headerRootComp",void 0),tu([We("eBody")],e.prototype,"eBody",void 0),tu([Fe],e.prototype,"init",null),e}(jt),mUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jJ=function(r){mUe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){var t=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(function(){t.columnAnimationService.executeLaterVMTurn(function(){return t.updateImpl()})}):this.updateImpl()},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(!(!t||this.columnAnimationService.isActive())){var n={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},e.prototype.setScrollsVisible=function(t){var n=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(n){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var i={type:W.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},qS([k("ctrlsService")],e.prototype,"ctrlsService",void 0),qS([k("columnAnimationService")],e.prototype,"columnAnimationService",void 0),qS([Fe],e.prototype,"postConstruct",null),e=qS([et("scrollVisibleService")],e),e}(Re),_Ue=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},KJ=function(r){_Ue(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.gridInstanceId=t.gridInstanceSequence.next(),n}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(n){return SE(this.gridOptionsService,n.target,qc.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(n){var i=this.isElementInThisGrid(n.target);return i},e.prototype.isElementInThisGrid=function(n){for(var i=n;i;){var o=i[t.GRID_DOM_KEY];if(Ee(o)){var a=o===this.gridInstanceId;return a}i=i.parentElement}return!1},e.prototype.getCellPositionForEvent=function(n){var i=this.getRenderedCellForEvent(n);return i?i.getCellPosition():null},e.prototype.getNormalisedPosition=function(n){var i=this.gridOptionsService.isDomLayout("normal"),o=n,a,s;if(o.clientX!=null||o.clientY!=null?(a=o.clientX,s=o.clientY):(a=o.x,s=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();a+=c.left,s+=u.top}return{x:a,y:s}};var t;return e.gridInstanceSequence=new Zh,e.GRID_DOM_KEY="__ag_grid_instance",G2([k("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=G2([et("mouseEventService")],e),e}(Re),CUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PE=function(){return PE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},PE.apply(this,arguments)},Oo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qJ=function(r){CUe(e,r);function e(){var t=r.call(this)||this;return t.onPageDown=SM(t.onPageDown,100),t.onPageUp=SM(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t,n){n===void 0&&(n=!1);var i=t.key,o=t.altKey,a=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,l=this.mouseEventService.getCellPositionForEvent(t),u=!1;switch(i){case le.PAGE_HOME:case le.PAGE_END:!a&&!o&&(this.onHomeOrEndKey(i),u=!0);break;case le.LEFT:case le.RIGHT:case le.UP:case le.DOWN:if(!l)return!1;a&&!o&&!s&&(this.onCtrlUpDownLeftRight(i,l),u=!0);break;case le.PAGE_DOWN:case le.PAGE_UP:!a&&!o&&(u=this.handlePageUpDown(i,l,n));break}return u&&t.preventDefault(),u},e.prototype.handlePageUpDown=function(t,n,i){return i&&(n=this.focusService.getFocusedCell()),n?(t===le.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0):!1},e.prototype.navigateTo=function(t){var n=t.scrollIndex,i=t.scrollType,o=t.scrollColumn,a=t.focusIndex,s=t.focusColumn;if(Ee(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),Ee(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:a,rowPinned:null,column:s};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),s=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(s+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),a=i.top,s=this.paginationProxy.getRowIndexAtPixel(a+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,s,!0):this.navigateToNextPage(t,s,!0)},e.prototype.navigateToNextPage=function(t,n,i){i===void 0&&(i=!1);var o=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),c=i?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c,h=this.paginationProxy.getRowIndexAtPixel(d+l);if(h===t.rowIndex){var p=i?-1:1;n=h=t.rowIndex+p}var f;i?(f="bottom",h<a&&(h=a),n<a&&(n=a)):(f="top",h>s&&(h=s),n>s&&(n=s)),this.isRowTallerThanView(h)&&(n=h,f="top"),this.navigateTo({scrollIndex:n,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,n,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(t,i);o.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,n){var i;n===void 0&&(n=!1);for(var o=n?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=s;){var c=this.paginationProxy.getRow(u);if(c){var d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>a)break;l+=d}u+=o}return Math.max(0,Math.min(u,s))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},e.prototype.isRowTallerThanView=function(t){var n=this.paginationProxy.getRow(t);if(!n)return!1;var i=n.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,n){var i=this.cellNavigationService.getNextCellToFocus(t,n,!0),o=i.rowIndex,a=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},e.prototype.onHomeOrEndKey=function(t){var n=t===le.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=n?i[0]:Dr(i),a=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},e.prototype.onTabKeyDown=function(t,n){var i=n.shiftKey,o=this.tabToNextCellCommon(t,i,n);if(o){n.preventDefault();return}if(i){var a=t.getRowPosition(),s=a.rowIndex,l=a.rowPinned,u=l?s===0:s===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else t instanceof qc&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&n.preventDefault()},e.prototype.tabToNextCell=function(t,n){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,t,n)},e.prototype.tabToNextCellCommon=function(t,n,i){var o=t.isEditing();if(!o&&t instanceof qc){var a=t,s=a.getRowCtrl();s&&(o=s.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(t,n,i):l=this.moveToNextEditingCell(t,n,i):l=this.moveToNextCellNotEditing(t,n),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,n,i){i===void 0&&(i=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var a=this.findNextCellToFocusOn(o,n,!0);return a==null?!1:(a.startEditing(null,!0,i),a.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,n,i){i===void 0&&(i=null);var o=t.getCellPosition(),a=this.findNextCellToFocusOn(o,n,!0);if(a==null)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(s),c=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var d=t.getRowCtrl();d.stopEditing();var h=a.getRowCtrl();h.startRowEditing(void 0,void 0,i)}return u?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,n){var i=this.columnModel.getAllDisplayedColumns(),o;t instanceof Yc?o=PE(PE({},t.getRowPosition()),{column:n?i[0]:Dr(i)}):o=t.getCellPosition();var a=this.findNextCellToFocusOn(o,n,!1);if(a instanceof qc)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),n);return Ee(a)},e.prototype.findNextCellToFocusOn=function(t,n,i){for(var o=t;;){t!==o&&(t=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var a=this.gridOptionsService.getCallback("tabToNextCell");if(Ee(a)){var s={backwards:n,editing:i,previousCellPosition:t,nextCellPosition:o||null},l=a(s);Ee(l)?(l.floating&&(Tt("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(i&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth()||i)continue;return p}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}},e.prototype.isCellEditable=function(t){var n=this.lookupRowNodeForCell(t);return n?t.column.isCellEditable(n):!1},e.prototype.getCellByPosition=function(t){var n=this.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,n,i,o){for(var a=i,s=!1;a&&(a===i||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?n===le.LEFT&&(a=this.getLastCellOfColSpan(a)):n===le.RIGHT&&(a=this.getLastCellOfColSpan(a)),a=this.cellNavigationService.getNextCellToFocus(n,a),s=At(a);if(s&&t&&t.key===le.UP&&(a={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(Ee(l)){var u={key:n,previousCellPosition:i,nextCellPosition:a||null,event:t},c=l(u);Ee(c)?(c.floating&&(Tt("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),a={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:i.column},event:t||void 0,fromCell:!0});return}var h=this.getNormalisedPosition(a);h?this.focusPosition(h):this.tryToFocusFullWidthRow(a)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var n=this.getCellByPosition(t);return n?(t=n.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,n){n===void 0&&(n=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(n?Dr(i):i[0])};this.focusPosition(s);var l=a!=null?this.rowPositionUtils.before(s,a):!1,u={type:W.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var n=this.rowPositionUtils.getRowNode(t);return!!n},e.prototype.getLastCellOfColSpan=function(t){var n=this.getCellByPosition(t);if(!n)return t;var i=n.getColSpanningList();return i.length===1?t:{rowIndex:t.rowIndex,column:Dr(i),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var n=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(t.rowIndex),o=n&&(i==null?void 0:i.sticky);!o&&At(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},Oo([k("mouseEventService")],e.prototype,"mouseEventService",void 0),Oo([k("paginationProxy")],e.prototype,"paginationProxy",void 0),Oo([k("focusService")],e.prototype,"focusService",void 0),Oo([Cr("rangeService")],e.prototype,"rangeService",void 0),Oo([k("columnModel")],e.prototype,"columnModel",void 0),Oo([k("rowModel")],e.prototype,"rowModel",void 0),Oo([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Oo([k("rowRenderer")],e.prototype,"rowRenderer",void 0),Oo([k("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Oo([k("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Oo([k("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Oo([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Oo([Fe],e.prototype,"postConstruct",null),e=Oo([et("navigationService")],e),e}(Re),yUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},YJ=function(r){yUe(e,r);function e(t){var n=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=t,n}return e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,n=this.getGui(),i=this.params,o=function(a){xE(t.gridOptionsService,a,i.node,i.column,!0)||i.onKeyDown(a)};this.addManagedListener(n,"keydown",o)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",SUe([Fe],e.prototype,"postConstruct",null),e}(Cd),wUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XJ=function(r){wUe(e,r);function e(t,n,i,o,a){var s=r.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=t,s.column=n.getColumn(),s.rowNode=n.getRowNode(),s.rowCtrl=n.getRowCtrl(),s.eRow=o,s.cellCtrl=n;var l=document.createElement("div");l.setAttribute("comp-id","".concat(s.getCompId())),s.setTemplateFromElement(l);var u=s.getGui();s.forceWrapper=n.isForceWrapper(),s.refreshWrapper(!1);var c=function(p,f){f!=null&&f!=""?u.setAttribute(p,f):u.removeAttribute(p)};si(u,n.getCellAriaRole()),c("col-id",n.getColumnIdSanitised());var d=n.getTabIndex();d!==void 0&&c("tabindex",d.toString());var h={addOrRemoveCssClass:function(p,f){return s.addOrRemoveCssClass(p,f)},setUserStyles:function(p){return _k(u,p)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(p){return s.includeSelection=p},setIncludeRowDrag:function(p){return s.includeRowDrag=p},setIncludeDndSource:function(p){return s.includeDndSource=p},setRenderDetails:function(p,f,v){return s.setRenderDetails(p,f,v)},setEditDetails:function(p,f,v){return s.setEditDetails(p,f,v)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return n.setComp(h,s.getGui(),s.eCellWrapper,i,a),s}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,n,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var a=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t){var s=i||a,l=s?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)}},e.prototype.setEditDetails=function(t,n,i){t?this.createCellEditorInstance(t,n,i):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=n||this.forceWrapper,o=i&&this.eCellWrapper==null;if(o){var a=document.createElement("div");a.setAttribute("role","presentation"),a.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=a,this.getGui().appendChild(this.eCellWrapper)}var s=!i&&this.eCellWrapper!=null;s&&(Il(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var l=!t&&i,u=l&&this.eCellValue==null;if(u){var c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&this.eCellValue!=null;d&&(Il(this.eCellValue),this.eCellValue=void 0);var h=o||s||u||d;return h&&this.removeControls(),t||n&&this.addControls(),h},e.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,n,i){var o=this,a=this.editorVersion,s=t.newAgStackInstance();if(s){var l=t.params;s.then(function(c){return o.afterCellEditorCreated(a,c,l,n,i)});var u=At(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var n=this.getParentOfValue();mi(n);var i=t!=null?oi(t,!0):null;i!=null&&(n.textContent=i)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),Il(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Il(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var n=this.cellRenderer.refresh(t.params);return n===!0||n===void 0},e.prototype.createCellRendererInstance=function(t){var n=this,i=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!i,a=this.rendererVersion,s=t.componentClass,l=function(){var u=n.rendererVersion!==a||!n.isAlive();if(!u){var c=t.newAgStackInstance(),d=n.afterCellRendererCreated.bind(n,a,s);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,n,i){var o=!this.isAlive()||t!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var a=this.getParentOfValue();mi(a),a.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,n,i,o,a){var s=t!==this.editorVersion;if(s){this.beans.context.destroyBean(n);return}var l=n.isCancelBeforeStart&&n.isCancelBeforeStart();if(l){this.beans.context.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();var u=o||n.isPopup!==void 0&&n.isPopup();u?this.addPopupCellEditor(i,a):this.addInCellEditor(),this.refreshEditStyles(!0,u),n.afterGuiAttached&&n.afterGuiAttached()},e.prototype.refreshEditStyles=function(t,n){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!n),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();if(t.contains(n.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,n){var i=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new YJ(t));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=n??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},h=s.positionPopupByComponent.bind(s,d),p=this.beans.localeService.getLocaleTextFunc(),f=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:p("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();t.contains(n.activeElement)&&lk()&&t.focus({preventScroll:!0}),mi(this.getParentOfValue())},e}(jt),bUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EUe=function(r){bUe(e,r);function e(t,n,i){var o=r.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=t;var a=document.createElement("div");a.setAttribute("comp-id","".concat(o.getCompId())),a.setAttribute("style",o.getInitialStyle(i)),o.setTemplateFromElement(a);var s=o.getGui(),l=s.style;o.domOrder=o.rowCtrl.getDomOrder(),si(s,"row");var u=o.rowCtrl.getTabIndex();u!=null&&s.setAttribute("tabindex",u.toString());var c={setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,h){return o.addOrRemoveCssClass(d,h)},setUserStyles:function(d){return _k(s,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return s.setAttribute("row-index",d)},setRowId:function(d){return s.setAttribute("row-id",d)},setRowBusinessKey:function(d){return s.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}};return t.setComp(c,o.getGui(),i),o.addDestroyFunc(function(){t.unsetComp(i)}),o}return e.prototype.getInitialStyle=function(t){var n=this.rowCtrl.getInitialTransform(t);return n?"transform: ".concat(n):"top: ".concat(this.rowCtrl.getInitialRowTop(t))},e.prototype.showFullWidth=function(t){var n=this,i=function(a){if(n.isAlive()){var s=a.getGui();n.getGui().appendChild(s),n.rowCtrl.setupDetailRowAutoHeight(s),n.setFullWidthRowComp(a)}else n.beans.context.destroyBean(a)},o=t.newAgStackInstance();o&&o.then(i)},e.prototype.setCellCtrls=function(t){var n=this,i=Object.assign({},this.cellComps);t.forEach(function(a){var s=a.getInstanceId(),l=n.cellComps[s];l==null?n.newCellComp(a):i[s]=null});var o=ad(i).filter(function(a){return a!=null});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var n=this;if(this.domOrder){var i=[];t.forEach(function(o){var a=n.cellComps[o.getInstanceId()];a&&i.push(a.getGui())}),mk(this.getGui(),i)}},e.prototype.newCellComp=function(t){var n=new XJ(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=ad(this.cellComps).filter(function(n){return n!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var n=this;t.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();n.cellComps[o]===i&&(i.detach(),i.destroy(),n.cellComps[o]=null)}})},e.prototype.refreshFullWidth=function(t){var n=this.fullWidthCellRenderer;if(!n||!n.refresh)return!1;var i=t();return n.refresh(i)},e}(jt),xUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VM=function(){return VM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},VM.apply(this,arguments)},Vg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function IUe(){var r=jt.elementGettingCreated.getAttribute("name"),e=Bk.getRowContainerCssClasses(r),t,n=r===Ce.CENTER||r===Ce.TOP_CENTER||r===Ce.STICKY_TOP_CENTER||r===Ce.BOTTOM_CENTER;return n?t='<div class="'.concat(e.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(e.container,`" ref="eContainer"></div>
            </div>`):t='<div class="'.concat(e.container,'" ref="eContainer"></div>'),t}var QJ=function(r){xUe(e,r);function e(){var t=r.call(this,IUe())||this;return t.rowComps={},t.name=jt.elementGettingCreated.getAttribute("name"),t.type=zJ(t.name),t}return e.prototype.postConstruct=function(){var t=this,n={setViewportHeight:function(o){return t.eViewport.style.height=o},setRowCtrls:function(o){var a=o.rowCtrls;return t.setRowCtrls(a)},setDomOrder:function(o){t.domOrder=o},setContainerWidth:function(o){return t.eContainer.style.width=o}},i=this.createManagedBean(new Bk(this.name));i.setComp(n,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var n=this,i=VM({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(a){var s=a.getInstanceId(),l=i[s];if(l)n.rowComps[s]=l,delete i[s],n.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var u=new EUe(a,n.beans,n.type);n.rowComps[s]=u,n.appendRow(u.getGui())}};t.forEach(o),ad(i).forEach(function(a){n.eContainer.removeChild(a.getGui()),a.destroy()}),si(this.eContainer,"rowgroup")},e.prototype.appendRow=function(t){this.domOrder?KZ(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(gk(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},Vg([k("beans")],e.prototype,"beans",void 0),Vg([We("eViewport")],e.prototype,"eViewport",void 0),Vg([We("eContainer")],e.prototype,"eContainer",void 0),Vg([Fe],e.prototype,"postConstruct",null),Vg([Ji],e.prototype,"preDestroy",null),e}(jt),$2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ZJ=function(){function r(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return r.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var n=e.dragItem.columns;n&&n.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?t.columnsToAggregate.push(i):i.isAllowRowGroup()?t.columnsToGroup.push(i):i.isAllowPivot()&&t.columnsToPivot.push(i)))})}},r.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?ri.ICON_PINNED:ri.ICON_MOVE:null},r.prototype.onDragLeave=function(e){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(e){},r.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},$2([k("columnModel")],r.prototype,"columnModel",void 0),$2([k("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),TUe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Ih=function(){function r(){}return r.attemptMoveColumns=function(e){var t=e.isFromHeader,n=e.hDirection,i=e.xPosition,o=e.fromEnter,a=e.fakeEvent,s=e.pinned,l=e.gridOptionsService,u=e.columnModel,c=n===qo.Left,d=n===qo.Right,h=e.allMovingColumns;if(t){var p=[];h.forEach(function(A){for(var V,F=null,P=A.getParent();P!=null&&P.getDisplayedLeafColumns().length===1;)F=P,P=P.getParent();if(F!=null){var M=!!(!((V=F.getColGroupDef())===null||V===void 0)&&V.marryChildren),N=M?F.getProvidedColumnGroup().getLeafColumns():F.getLeafColumns();N.forEach(function(H){p.includes(H)||p.push(H)})}else p.includes(A)||p.push(A)}),h=p}var f=h.slice();u.sortColumnsLikeGridColumns(f);var v=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:i,pinned:s,gridOptionsService:l,columnModel:u}),g=this.calculateOldIndex(f,u);if(v.length!==0){var m=v[0],C=g!==null&&!o;if(t&&(C=g!==null),!(C&&!a&&(c&&m>=g||d&&m<=g))){for(var y=u.getAllDisplayedColumns(),w=[],T=null,S=0;S<v.length;S++){var x=v[S],I=u.getProposedColumnOrder(f,x);if(u.doesOrderPassRules(I)){var R=I.filter(function(A){return y.includes(A)});if(T===null)T=R;else if(!fu(R,T))break;var D=this.groupFragCount(I);w.push({move:x,fragCount:D})}}if(w.length!==0)return w.sort(function(A,V){return A.fragCount-V.fragCount}),this.moveColumns(h,w[0].move,"uiColumnMoved",!1,u)}}},r.moveColumns=function(e,t,n,i,o){return o.moveColumns(e,t,n,i),i?null:{columns:e,toIndex:t}},r.calculateOldIndex=function(e,t){var n=t.getAllGridColumns(),i=cZ(e.map(function(u){return n.indexOf(u)})),o=i[0],a=Dr(i),s=a-o,l=s!==i.length-1;return l?null:o},r.groupFragCount=function(e){function t(a){for(var s=[],l=a.getOriginalParent();l!=null;)s.push(l),l=l.getOriginalParent();return s}for(var n=0,i=function(a){var s,l=t(e[a]),u=t(e[a+1]);s=TUe(l.length>u.length?[l,u]:[u,l],2),l=s[0],u=s[1],l.forEach(function(c){u.indexOf(c)===-1&&n++})},o=0;o<e.length-1;o++)i(o);return n},r.calculateValidMoves=function(e){var t=e.movingCols,n=e.draggingRight,i=e.xPosition,o=e.pinned,a=e.gridOptionsService,s=e.columnModel,l=a.get("suppressMovableColumns")||t.some(function(A){return A.getColDef().suppressMovable});if(l)return[];var u=s.getDisplayedColumns(o),c=s.getAllGridColumns(),d=u.filter(function(A){return $s(t,A)}),h=u.filter(function(A){return!$s(t,A)}),p=c.filter(function(A){return!$s(t,A)}),f=0,v=i;if(n){var g=0;d.forEach(function(A){return g+=A.getActualWidth()}),v-=g}if(v>0){for(var m=0;m<h.length;m++){var C=h[m];if(v-=C.getActualWidth(),v<0)break;f++}n&&f++}var y;if(f>0){var w=h[f-1];y=p.indexOf(w)+1}else y=p.indexOf(h[0]),y===-1&&(y=0);var T=[y],S=function(A,V){return A-V};if(n){for(var x=y+1,I=c.length-1;x<=I;)T.push(x),x++;T.sort(S)}else{for(var x=y,I=c.length-1,R=c[x];x<=I&&u.indexOf(R)<0;)x++,T.push(x),R=c[x];x=y-1;for(var D=0;x>=D;)T.push(x),x--;T.sort(S).reverse()}return T},r.normaliseX=function(e,t,n,i,o){var a=o.getHeaderRowContainerCtrl(t).getViewport();if(n&&(e-=a.getBoundingClientRect().left),i.get("enableRtl")){var s=a.clientWidth;e=s-e}return t==null&&(e+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},r}(),Bg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},JJ=function(){function r(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!Ee(e)}return r.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?ri.ICON_PINNED:ri.ICON_MOVE},r.prototype.onDragEnter=function(e){var t=e.dragItem.columns,n=e.dragSource.type===fo.ToolPanel;if(n)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var i=e.dragItem.visibleState,o=(t||[]).filter(function(a){return i[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},r.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.setColumnsVisible=function(e,t,n){if(e){var i=e.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,t,n)}},r.prototype.setColumnsPinned=function(e,t,n){if(e){var i=e.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,t,n)}},r.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(e,t,n,i){var o=this,a;if(e===void 0&&(e=this.lastDraggingEvent),t===void 0&&(t=!1),n===void 0&&(n=!1),i===void 0&&(i=!1),i){if(this.lastMovedInfo){var s=this.lastMovedInfo,l=s.columns,u=s.toIndex;Ih.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,!At(e.hDirection)){var c=Ih.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),h=e.dragSource.type,p=((a=e.dragSource.getDragItem().columns)===null||a===void 0?void 0:a.filter(function(v){return v.getColDef().lockPinned?v.getPinned()==o.pinned:!0}))||[],f=Ih.attemptMoveColumns({allMovingColumns:p,isFromHeader:h===fo.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:t,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},r.prototype.normaliseDirection=function(e){if(this.gridOptionsService.get("enableRtl"))switch(e){case qo.Left:return qo.Right;case qo.Right:return qo.Left;default:console.error("AG Grid: Unknown direction ".concat(e))}else return e},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ri.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ri.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ri.ICON_MOVE))},r.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(s){return!s.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(ri.ICON_PINNED),this.failedMoveAttempts>7)){var a=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,a,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Bg([k("columnModel")],r.prototype,"columnModel",void 0),Bg([k("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Bg([k("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Bg([k("ctrlsService")],r.prototype,"ctrlsService",void 0),Bg([Fe],r.prototype,"init",null),r}(),RUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eee=function(r){RUe(e,r);function e(t,n){var i=r.call(this)||this;return i.pinned=t,i.eContainer=n,i}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){switch(t.pinned){case"left":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===fo.HeaderCell||t===fo.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new JJ(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new ZJ(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===fo.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Hg([k("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Hg([k("columnModel")],e.prototype,"columnModel",void 0),Hg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Hg([Fe],e.prototype,"postConstruct",null),Hg([Fe],e.prototype,"init",null),e}(Re),OUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},DUe=function(r){OUe(e,r);function e(t){var n=r.call(this,e.TEMPLATE,t)||this;return n.headerCompVersion=0,n.column=t.getColumnGroupChild(),n.pinned=t.getPinned(),n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=function(s,l){l!=null&&l!=""?n.setAttribute(s,l):n.removeAttribute(s)};i("col-id",this.column.getColId());var o={setWidth:function(s){return n.style.width=s},addOrRemoveCssClass:function(s,l){return t.addOrRemoveCssClass(s,l)},setAriaSort:function(s){return s?kZ(n,s):VZ(n)},setUserCompDetails:function(s){return t.setUserCompDetails(s)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var n=this;this.headerCompVersion++;var i=this.headerCompVersion;t.newAgStackInstance().then(function(o){return n.afterCompCreated(i,o)})},e.prototype.afterCompCreated=function(t,n){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,YS([We("eResize")],e.prototype,"eResize",void 0),YS([We("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),YS([Fe],e.prototype,"postConstruct",null),YS([Ji],e.prototype,"destroyHeaderComp",null),e}(Lk),AUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),W2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},PUe=function(r){AUe(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=function(a,s){return s!=null?n.setAttribute(a,s):n.removeAttribute(a)};n.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(a,s){return t.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return Sr(t.eResize,a)},setWidth:function(a){return n.style.width=a},setAriaExpanded:function(a){return i("aria-expanded",a)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerGroupComp}};this.ctrl.setComp(o,n,this.eResize)},e.prototype.setUserCompDetails=function(t){var n=this;t.newAgStackInstance().then(function(i){return n.afterHeaderCompCreated(i)})},e.prototype.afterHeaderCompCreated=function(t){var n=this,i=function(){return n.destroyBean(t)};if(!this.isAlive()){i();return}var o=this.getGui(),a=t.getGui();o.appendChild(a),this.addDestroyFunc(i),this.headerGroupComp=t,this.ctrl.setDragSource(o)},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,W2([We("eResize")],e.prototype,"eResize",void 0),W2([Fe],e.prototype,"postConstruct",null),e}(Lk),MUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bi;(function(r){r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter"})(bi||(bi={}));var tee=function(r){MUe(e,r);function e(t){var n=r.call(this)||this;return n.headerComps={},n.ctrl=t,n.setTemplate('<div class="'.concat(n.ctrl.getHeaderRowClass(),'" role="row"></div>')),n}return e.prototype.init=function(){var t=this;tk(this.getGui(),this.ctrl.getAriaRowIndex());var n={setHeight:function(i){return t.getGui().style.height=i},setTop:function(i){return t.getGui().style.top=i},setHeaderCtrls:function(i,o){return t.setHeaderCtrls(i,o)},setWidth:function(i){return t.getGui().style.width=i}};this.ctrl.setComp(n)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,n){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),Qi(o,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)}),n){var a=ad(this.headerComps);a.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var s=a.map(function(l){return l.getGui()});mk(this.getGui(),s)}}},e.prototype.createHeaderComp=function(t){var n;switch(this.ctrl.getType()){case bi.COLUMN_GROUP:n=new PUe(t);break;case bi.FLOATING_FILTER:n=new HJ(t);break;default:n=new DUe(t);break}return this.createBean(n),n.setParentComponent(this),n},z2([Fe],e.prototype,"init",null),z2([Ji],e.prototype,"destroyHeaderCtrls",null),e}(jt),FUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ld=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},LUe=0,ly=function(r){FUe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=t,o.parentRowCtrl=i,o.beans=n,o.instanceId=t.getUniqueId()+"-"+LUe++,o}return e.prototype.postConstruct=function(){var t=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],function(){return t.refreshTabIndex()})},e.prototype.shouldStopEventPropagation=function(t){var n=this.focusService.getFocusedHeader(),i=n.headerRowIndex,o=n.column;return eJ(this.gridOptionsService,t,i,o)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsService.getDocument(),n=t.activeElement;return n===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()},e.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,n=t.comp,i=t.column,o=t.beans;sy.refreshFirstAndLastStyles(n,i,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this,n=t.beans,i=t.column,o=n.columnModel.getAriaColumnIndex(i);rk(this.eGui,o)},e.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},e.prototype.refreshTabIndex=function(){var t=this.gridOptionsService.get("suppressHeaderFocus");t?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")},e.prototype.onGuiKeyDown=function(t){var n,i=this.gridOptionsService.getDocument(),o=i.activeElement,a=t.key===le.LEFT||t.key===le.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),!(o!==this.eGui||!t.shiftKey&&!t.altKey)&&((this.isResizing||a)&&(t.preventDefault(),t.stopImmediatePropagation()),!!a)){var s=t.key===le.LEFT!==this.gridOptionsService.get("enableRtl"),l=qo[s?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;var u=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(u,t.shiftKey),(n=this.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!0)}else this.moveHeader(l)}},e.prototype.getViewportAdjustedResizeDiff=function(t){var n=this.getResizeDiff(t),i=this.column.getPinned();if(i){var o=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),s=yp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(o+a+n>s)if(s>o+a)n=s-o-a;else return 0}return n},e.prototype.getResizeDiff=function(t){var n=t.key===le.LEFT!==this.gridOptionsService.get("enableRtl"),i=this.column.getPinned(),o=this.gridOptionsService.get("enableRtl");return i&&o!==(i==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier},e.prototype.onGuiKeyUp=function(){var t=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var n;(n=t.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!1)},150))},e.prototype.handleKeyDown=function(t){var n=this.getWrapperHasFocus();switch(t.key){case le.PAGE_DOWN:case le.PAGE_UP:case le.PAGE_HOME:case le.PAGE_END:n&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return t.gridOptionsService.setDomData(t.eGui,n,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},e.prototype.handleContextMenuMouseEvent=function(t,n,i){var o=t??n;this.gridOptionsService.get("preventDefaultOnContextMenu")&&o.preventDefault();var a=i instanceof Kr?i:void 0;this.menuService.isHeaderContextMenuEnabled(a)&&this.menuService.showHeaderContextMenu(a,t,n),this.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)},e.prototype.dispatchColumnMouseEvent=function(t,n){var i={type:t,column:n};this.eventService.dispatchEvent(i)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Ld([k("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Ld([k("focusService")],e.prototype,"focusService",void 0),Ld([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ld([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Ld([k("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ld([k("menuService")],e.prototype,"menuService",void 0),Ld([Fe],e.prototype,"postConstruct",null),e}(Re),NUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},P0=function(r){NUe(e,r);function e(t,n,i,o){var a=r.call(this)||this;return a.columnOrGroup=t,a.eCell=n,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=i,a}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Dr(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Kr.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),n=Ee(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&n&&!t;i?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,n=this.getColumnOrGroup(),i=n.getLeft(),o=n.getOldLeft(),a=this.modifyLeftForPrintLayout(n,o),s=this.modifyLeftForPrintLayout(n,i);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===s&&t.setLeft(s)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),n=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,n),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,n){var i=this.beans.gridOptionsService.isDomLayout("print");if(!i||t.getPinned()==="left")return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){var a=this.beans.columnModel.getBodyContainerWidth();return o+a+n}return o+n},e.prototype.setLeft=function(t){if(Ee(t)&&(this.eCell.style.left="".concat(t,"px")),this.columnOrGroup instanceof Kr)this.columnOrGroup;else{var n=this.columnOrGroup,i=n.getLeafColumns();if(!i.length)return;i.length>1&&NZ(this.ariaEl,i.length),i[0]}},kUe([Fe],e.prototype,"postConstruct",null),e}(Re),VUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),U2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Hk=function(r){VUe(e,r);function e(t,n){var i=r.call(this)||this;return i.columns=t,i.element=n,i}return e.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},U2([k("columnHoverService")],e.prototype,"columnHoverService",void 0),U2([Fe],e.prototype,"postConstruct",null),e}(Re),BUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ree=function(r){BUe(e,r);function e(t,n,i){var o=r.call(this,t,n,i)||this;return o.iconCreated=!1,o.column=t,o}return e.prototype.setComp=function(t,n,i,o){this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setGui(n),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Kr.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.resizeHeader=function(){},e.prototype.moveHeader=function(){},e.prototype.setupActive=function(){var t=this.column.getColDef(),n=!!t.filter,i=!!t.floatingFilter;this.active=n&&i},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var t=Yn("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new md(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();vd(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.getDocument(),i=n.activeElement,o=i===this.eGui;if(!o){var a=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(a){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),a.focus();return}var s=this.findNextColumnWithFloatingFilter(t.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var n=this.beans.columnModel,i=this.column;do if(i=t?n.getDisplayedColBefore(i):n.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();switch(t.key){case le.UP:case le.DOWN:n||t.preventDefault();case le.LEFT:case le.RIGHT:if(n)return;t.stopPropagation();case le.ENTER:n&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case le.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var n=this.eGui.contains(t.relatedTarget);if(!n){var i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),o=!!t.relatedTarget&&Eh(t.relatedTarget,"ag-floating-filter");if(i&&o&&t.target===this.eGui){var a=this.lastFocusEvent,s=!!(a&&a.key===le.TAB);if(a&&s){var l=a.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new Hk([this.column],this.eGui));var n=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var i=t.beans.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.setupLeft=function(){var t=new P0(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()},e.prototype.setupUserComp=function(){var t=this;if(this.active){var n=this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()});n&&this.setCompDetails(n)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var n=this.beans.filterManager,i=function(o){var a=t.comp.getFloatingFilterComp();a&&a.then(function(s){if(s){var l=n.getCurrentFloatingFilterParentModel(t.column);s.onParentModelChanged(l,o)}})};this.destroySyncListener=this.addManagedListener(this.column,Kr.EVENT_FILTER_CHANGED,i),n.isFilterActive(this.column)&&i(null)}},e.prototype.setupWidth=function(){var t=this,n=function(){var i="".concat(t.column.getActualWidth(),"px");t.comp.setWidth(i)};this.addManagedListener(this.column,Kr.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Kr.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())},e.prototype.updateFilterButton=function(){if(!this.suppressFilterButton&&this.comp){var t=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}},e.prototype.onColDefChanged=function(){var t=this,n,i,o=this.active;this.setupActive();var a=!o&&this.active;o&&!this.active&&((n=this.destroySyncListener)===null||n===void 0||n.call(this),(i=this.destroyFilterChangedListener)===null||i===void 0||i.call(this));var s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!s?this.updateCompDetails(s,a):l.then(function(u){var c;!u||t.beans.filterManager.areFilterCompsDifferent((c=t.userCompDetails)!==null&&c!==void 0?c:null,s)?t.updateCompDetails(s,a):t.updateFloatingFilterParams(s)})},e.prototype.updateCompDetails=function(t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},e.prototype.updateFloatingFilterParams=function(t){var n;if(t){var i=t.params;(n=this.comp.getFloatingFilterComp())===null||n===void 0||n.then(function(o){var a=!1;if(o!=null&&o.refresh&&typeof o.refresh=="function"){var s=o.refresh(i);s!==null&&(a=!0)}if(!a&&(o!=null&&o.onParamsUpdated)&&typeof o.onParamsUpdated=="function"){var s=o.onParamsUpdated(i);s!==null&&Tt("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}})}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},e}(ly),HUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},GUe=function(r){HUe(e,r);function e(t,n,i,o,a){var s=r.call(this)||this;return s.pinned=t,s.column=n,s.eResize=i,s.comp=o,s.ctrl=a,s}return e.prototype.postConstruct=function(){var t=this,n=[],i,o,a=function(){if(Sr(t.eResize,i),!!i){var u=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(n.push(u),o){var c=t.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){t.columnModel.autoSizeColumn(t.column,"uiColumnResized",c)};t.eResize.addEventListener("dblclick",d);var h=new ki(t.eResize);h.addEventListener(ki.EVENT_DOUBLE_TAP,d),n.push(function(){t.eResize.removeEventListener("dblclick",d),h.removeEventListener(ki.EVENT_DOUBLE_TAP,d),h.destroy()})}}},s=function(){n.forEach(function(u){return u()}),n.length=0},l=function(){var u=t.column.isResizable(),c=!t.gridOptionsService.get("suppressAutoSize")&&!t.column.getColDef().suppressAutoSize,d=u!==i||c!==o;d&&(i=u,o=c,s(),a())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},e.prototype.onResizing=function(t,n){var i=this,o=i.column,a=i.lastResizeAmount,s=i.resizeStartWidth,l=this.normaliseResizeAmount(n),u=s+l,c=[{key:o,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),h=this.pinnedWidthService.getPinnedRightWidth(),p=yp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+h+(l-a)>p)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.normaliseResizeAmount=function(t){var n=t,i=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?i&&(n*=-1):o&&(n*=-1),n},Gg([k("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Gg([k("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Gg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Gg([k("columnModel")],e.prototype,"columnModel",void 0),Gg([Fe],e.prototype,"postConstruct",null),e}(Re),$Ue=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),j2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},WUe=function(r){$Ue(e,r);function e(t){var n=r.call(this)||this;return n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=t,n}return e.prototype.onSpaceKeyDown=function(t){var n=this.cbSelectAll,i=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(i.activeElement)&&(t.preventDefault(),n.setValue(!n.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new oy),this.cbSelectAll.addCssClass("ag-header-select-all"),si(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,W.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),b0(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},e.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);var n=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue(),i=n?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(i,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(i,")")),this.headerCellCtrl.announceAriaDescription()},e.prototype.checkSelectionType=function(t){var n=this.gridOptionsService.get("rowSelection")==="multiple";return n?!0:(console.warn("AG Grid: ".concat(t," is only available if using 'multiple' rowSelection.")),!1)},e.prototype.checkRightRowModelType=function(t){var n=this.rowModel.getType(),i=n==="clientSide"||n==="serverSide";return i?!0:(console.warn("AG Grid: ".concat(t," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(n,".")),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),n=this.isFilteredOnly(),i=this.isCurrentPageOnly(),o="uiSelectAll";i?o="uiSelectAllCurrentPage":n&&(o="uiSelectAllFiltered");var a={source:o,justFiltered:n,justCurrentPage:i};t?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var n=t,i=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});t=n(i)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},e.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},e.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},j2([k("rowModel")],e.prototype,"rowModel",void 0),j2([k("selectionService")],e.prototype,"selectionService",void 0),e}(Re),zUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nee=function(r){zUe(e,r);function e(t,n,i){var o=r.call(this,t,n,i)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=t,o}return e.prototype.setComp=function(t,n,i,o){var a=this;this.comp=t,this.setGui(n),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new GUe(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new Hk([this.column],n)),this.createManagedBean(new P0(this.column,n,this.beans)),this.createManagedBean(new md(n,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Kr.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.resizeHeader=function(t,n){var i,o;if(this.column.isResizable()){var a=this.column.getActualWidth(),s=(i=this.column.getMinWidth())!==null&&i!==void 0?i:0,l=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,u=Math.min(Math.max(a+t,s),l);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:u}],n,!0,"uiColumnResized")}},e.prototype.moveHeader=function(t){var n=this,i=n.eGui,o=n.column,a=n.gridOptionsService,s=n.ctrlsService,l=this.getPinned(),u=i.getBoundingClientRect().left,c=o.getActualWidth(),d=a.get("enableRtl"),h=t===qo.Left!==d,p=Ih.normaliseX(h?u-20:u+c+20,l,!0,a,s);Ih.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:t,xPosition:p,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,t)},e.prototype.createParams=function(){var t=this,n=this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(i){t.menuService.showColumnMenu({column:t.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function(i){t.menuService.showColumnMenu({column:t.column,mouseEvent:i,positionBy:"mouse"})},showFilter:function(i){t.menuService.showFilterMenu({column:t.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:function(i){t.beans.sortController.progressSort(t.column,!!i,"uiColumnSorted")},setSort:function(i,o){t.beans.sortController.setSortForColumn(t.column,i,!!o,"uiColumnSorted")},eGridHeader:this.getGui()});return n},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new WUe(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t),t.key===le.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===le.ENTER&&this.onEnterKeyDown(t),t.key===le.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)},e.prototype.onEnterKeyDown=function(t){if(t.ctrlKey||t.metaKey)this.showMenuOnKeyPress(t,!0);else if(this.sortable){var n=t.shiftKey;this.beans.sortController.progressSort(this.column,n,"uiColumnSorted")}},e.prototype.showMenuOnKeyPress=function(t,n){var i=this.comp.getUserCompInstance();!i||!(i instanceof MM)||i.onMenuKeyboardShortcut(n)&&t.preventDefault()},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,n={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=t.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new ay(n,this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,n=function(){var i=t.column.getColDef(),o=sy.getHeaderClassesFromColDef(i,t.gridOptionsService,t.column,null),a=t.userHeaderClasses;t.userHeaderClasses=new Set(o),o.forEach(function(s){a.has(s)?a.delete(s):t.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return t.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(n),n()},e.prototype.setDragSource=function(t){var n=this;if(this.dragSourceElement=t,this.removeDragSource(),!(!t||!this.draggable)){var i=this,o=i.column,a=i.beans,s=i.displayName,l=i.dragAndDropService,u=i.gridOptionsService,c=a.columnModel,d=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:fo.HeaderCell,eElement:t,getDefaultIconName:function(){return d?ri.ICON_HIDE:ri.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem(o)},dragItemName:s,onDragStarted:function(){d=!u.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(p){var f;if(d){var v=((f=p==null?void 0:p.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!0,"uiColumnMoved")}},onGridExit:function(p){var f;if(d){var v=((f=p==null?void 0:p.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!1,"uiColumnMoved")}}};l.addDragSource(h,!0)}},e.prototype.createDragItem=function(t){var n={};return n[t.getId()]=t.isVisible(),{columns:[t],visibleState:n}},e.prototype.updateState=function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),n=this.comp.getUserCompInstance(),i=n!=null&&this.userCompDetails.componentClass==t.componentClass,o=i?this.attemptHeaderCompRefresh(t.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var n=this.comp.getUserCompInstance();if(!n||!n.refresh)return!1;var i=n.refresh(t);return i},e.prototype.calculateDisplayName=function(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),n=this.gridOptionsService.get("suppressMovableColumns"),i=!n&&!t.suppressMovable&&!t.lockPosition;return!!i||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,n=function(){var i=t.column.getActualWidth();t.comp.setWidth("".concat(i,"px"))};this.addManagedListener(this.column,Kr.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupMovingCss=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,Kr.EVENT_MOVING_CHANGED,n),n()},e.prototype.setupMenuClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,Kr.EVENT_MENU_VISIBLE_CHANGED,n),n()},e.prototype.setupSortableClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,Kr.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupFilterClass=function(){var t=this,n=function(){var i=t.column.isFilterActive();t.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),t.refreshAria()};this.addManagedListener(this.column,Kr.EVENT_FILTER_ACTIVE_CHANGED,n),n()},e.prototype.setupWrapTextClass=function(){var t=this,n=function(){var i=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};n(),this.addRefreshFunction(n)},e.prototype.onDisplayedColumnsChanged=function(){r.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,n=t.eGui,i=t.column,o=t.comp,a=t.beans;if(!i.isSpanHeaderHeight()){n.style.removeProperty("top"),n.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var s=this.column.getColumnGroupPaddingInfo(),l=s.numberOfParents,u=s.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var c=a.columnModel,d=c.getColumnHeaderRowHeight();if(l===0){o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),n.style.setProperty("height","".concat(d,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",u);var h=c.isPivotMode(),p=h?c.getPivotGroupHeaderHeight():c.getGroupHeaderHeight(),f=l*p;n.style.setProperty("top","".concat(-f,"px")),n.style.setProperty("height","".concat(d+f,"px"))},e.prototype.setupAutoHeight=function(t){var n=this,i=this.beans,o=i.columnModel,a=i.resizeObserverService,s=function(p){if(n.isAlive()){var f=gd(n.getGui()),v=f.paddingTop,g=f.paddingBottom,m=f.borderBottomWidth,C=f.borderTopWidth,y=v+g+m+C,w=t.offsetHeight,T=w+y;if(p<5){var S=n.beans.gridOptionsService.getDocument(),x=!S||!S.contains(t),I=T==0;if(x||I){window.setTimeout(function(){return s(p+1)},0);return}}o.setColumnHeaderHeight(n.column,T)}},l=!1,u,c=function(){var p=n.column.isAutoHeaderHeight();p&&!l&&d(),!p&&l&&h()},d=function(){l=!0,s(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=a.observeResize(t,function(){return s(0)})},h=function(){l=!1,u&&u(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};c(),this.addDestroyFunc(function(){return h()}),this.addManagedListener(this.column,Kr.EVENT_WIDTH_CHANGED,function(){return l&&s(0)}),this.addManagedListener(this.eventService,Kr.EVENT_SORT_CHANGED,function(){l&&window.setTimeout(function(){return s(0)})}),this.addRefreshFunction(c)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),n=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(IZ(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.refreshAriaFilterButton=function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)},e.prototype.refreshAriaFiltered=function(){var t=this.localeService.getLocaleTextFunc(),n=this.column.isFilterActive();n?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},e.prototype.setAriaDescriptionProperty=function(t,n){n!=null?this.ariaDescriptionProperties.set(t,n):this.ariaDescriptionProperties.delete(t)},e.prototype.announceAriaDescription=function(){var t=this,n=this.beans.gridOptionsService.getDocument();if(this.eGui.contains(n.activeElement)){var i=Array.from(this.ariaDescriptionProperties.keys()).sort(function(o,a){return o==="filter"?-1:a.charCodeAt(0)-o.charCodeAt(0)}).map(function(o){return t.ariaDescriptionProperties.get(o)}).join(". ");this.beans.ariaAnnouncementService.announceValue(i)}},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()},e.prototype.addColumnHoverListener=function(){var t=this,n=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var i=t.beans.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,n=function(a){return t.handleMouseOverChange(a.type==="mouseenter")},i=function(){return t.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CLICKED,t.column)},o=function(a){return t.handleContextMenuMouseEvent(a,void 0,t.column)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},e.prototype.handleMouseOverChange=function(t){this.setActiveHeader(t);var n=t?W.EVENT_COLUMN_HEADER_MOUSE_OVER:W.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:n,column:this.column};this.eventService.dispatchEvent(i)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},e.prototype.getAnchorElementForMenu=function(t){var n=this.comp.getUserCompInstance();return n instanceof MM?n.getAnchorElementForMenu(t):this.getGui()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},e}(ly),UUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jUe=function(r){UUe(e,r);function e(t,n,i,o){var a=r.call(this)||this;return a.eResize=n,a.comp=t,a.pinned=i,a.columnGroup=o,a}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.get("suppressAutoSize")){var i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],a=t.columnGroup.getDisplayedLeafColumns();a.forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&t.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")})}},e.prototype.onResizeStart=function(t){var n=this.getInitialValues(t);this.storeLocalValues(n),this.toggleColumnResizing(!0)},e.prototype.onResizing=function(t,n,i){i===void 0&&(i="uiColumnResized");var o=this.normaliseDragChange(n),a=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(a,i,t)},e.prototype.getInitialValues=function(t){var n=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(n),o=this.getSizeRatiosOfColumns(n,i),a={columnsToResize:n,resizeStartWidth:i,resizeRatios:o},s=null;if(t&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),u=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=a.groupAfterStartWidth=this.getInitialSizeOfColumns(u);a.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},e.prototype.storeLocalValues=function(t){var n=t.columnsToResize,i=t.resizeStartWidth,o=t.resizeRatios,a=t.groupAfterColumns,s=t.groupAfterStartWidth,l=t.groupAfterRatios;this.resizeCols=n,this.resizeStartWidth=i,this.resizeRatios=o,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},e.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},e.prototype.resizeLeafColumnsToFit=function(t){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();n>i.resizeStartWidth&&this.resizeColumns(i,n,t,!0)},e.prototype.resizeColumnsFromLocalValues=function(t,n,i){var o,a,s;if(i===void 0&&(i=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(a=this.resizeTakeFromStartWidth)!==null&&a!==void 0?a:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!==null&&s!==void 0?s:void 0};this.resizeColumns(l,t,n,i)}},e.prototype.resizeColumns=function(t,n,i,o){o===void 0&&(o=!0);var a=t.columnsToResize,s=t.resizeStartWidth,l=t.resizeRatios,u=t.groupAfterColumns,c=t.groupAfterStartWidth,d=t.groupAfterRatios,h=[];if(h.push({columns:a,ratios:l,width:n}),u){var p=n-s;h.push({columns:u,ratios:d,width:c-p})}this.columnModel.resizeColumnSets({resizeSets:h,finished:o,source:i}),o&&this.toggleColumnResizing(!1)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.getColumnsToResize=function(){var t=this.columnGroup.getDisplayedLeafColumns();return t.filter(function(n){return n.isResizable()})},e.prototype.getInitialSizeOfColumns=function(t){return t.reduce(function(n,i){return n+i.getActualWidth()},0)},e.prototype.getSizeRatiosOfColumns=function(t,n){return t.map(function(i){return i.getActualWidth()/n})},e.prototype.normaliseDragChange=function(t){var n=t;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(n*=-1):this.pinned==="right"&&(n*=-1),n},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.clearLocalValues()},XS([k("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),XS([k("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),XS([k("columnModel")],e.prototype,"columnModel",void 0),XS([Fe],e.prototype,"postConstruct",null),e}(Re),KUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},YUe=function(r){KUe(e,r);function e(t,n){var i=r.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=t,i}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Kn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",n),i.addEventListener("visibleChanged",n),t.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",n),i.removeEventListener("visibleChanged",n)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(t,"px")),this.comp.addOrRemoveCssClass("ag-hidden",t===0)},qUe([Fe],e.prototype,"postConstruct",null),e}(Re),XUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ME=function(){return ME=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ME.apply(this,arguments)},iee=function(r){XUe(e,r);function e(t,n,i){var o=r.call(this,t,n,i)||this;return o.onSuppressColMoveChange=function(){if(!o.isAlive()||o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var a=o.getGui();o.setDragSource(a)}},o.column=t,o}return e.prototype.setComp=function(t,n,i){this.comp=t,this.setGui(n),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Hk(a,n)),this.createManagedBean(new P0(this.column,n,this.beans)),this.createManagedBean(new YUe(t,this.column)),this.resizeFeature=this.createManagedBean(new jUe(t,i,o,this.column)),this.createManagedBean(new md(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(W.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},e.prototype.resizeHeader=function(t,n){if(this.resizeFeature){var i=this.resizeFeature.getInitialValues(n);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+t,"uiColumnResized",!0)}},e.prototype.moveHeader=function(t){var n=this,i=n.beans,o=n.eGui,a=n.column,s=n.gridOptionsService,l=n.ctrlsService,u=s.get("enableRtl"),c=t===qo.Left,d=this.getPinned(),h=o.getBoundingClientRect(),p=h.left,f=h.width,v=Ih.normaliseX(c!==u?p-20:p+f+20,d,!0,s,l),g=a.getGroupId(),m=this.focusService.getFocusedHeader();Ih.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:v,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:i.columnModel});var C=a.getDisplayedLeafColumns(),y=c?C[0]:Dr(C);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(y,"auto"),!this.isAlive()&&m&&this.restoreFocus(g,a,m)},e.prototype.restoreFocus=function(t,n,i){var o=n.getLeafColumns();if(o.length){var a=o[0].getParent();if(a){var s=this.findGroupWidthId(a,t);s&&this.focusService.focusHeaderPosition({headerPosition:ME(ME({},i),{column:s})})}}},e.prototype.findGroupWidthId=function(t,n){for(;t;){if(t.getGroupId()===n)return t;t=t.getParent()}return null},e.prototype.resizeLeafColumnsToFit=function(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,n=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){t.beans.columnModel.setColumnGroupOpened(t.column.getProvidedColumnGroup(),o,"gridInitializing")}}),i=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(i)},e.prototype.addHeaderMouseListeners=function(){var t=this,n=function(a){return t.handleMouseOverChange(a.type==="mouseenter")},i=function(){return t.dispatchColumnMouseEvent(W.EVENT_COLUMN_HEADER_CLICKED,t.column.getProvidedColumnGroup())},o=function(a){return t.handleContextMenuMouseEvent(a,void 0,t.column.getProvidedColumnGroup())};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},e.prototype.handleMouseOverChange=function(t){var n=t?W.EVENT_COLUMN_HEADER_MOUSE_OVER:W.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:n,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)},e.prototype.setupTooltip=function(){var t=this,n=this.column.getColGroupDef(),i={getColumn:function(){return t.column},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(i.getColDef=function(){return n});var o=this.createManagedBean(new ay(i,this.beans));o.setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Rn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Rn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.column;this.expandable=t.isExpandable();var n=t.isExpanded();this.expandable?this.comp.setAriaExpanded(n?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.column.getUniqueId()},e.prototype.addClasses=function(){var t=this,n=this.column.getColGroupDef(),i=sy.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.column);if(this.column.isPadding()){i.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(a){return a.isSpanHeaderHeight()})&&i.push("ag-header-span-height")}else i.push("ag-header-group-cell-with-group");i.forEach(function(a){return t.comp.addOrRemoveCssClass(a,!0)})},e.prototype.setupMovingCss=function(){var t=this,n=this.column.getProvidedColumnGroup(),i=n.getLeafColumns(),o=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};i.forEach(function(a){t.addManagedListener(a,Kr.EVENT_MOVING_CHANGED,o)}),o()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();if(!(!this.expandable||!n)&&t.key===le.ENTER){var i=this.column,o=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var n=this;if(!(!this.isAlive()||this.isSuppressMoving())&&(this.removeDragSource(),!!t)){var i=this,o=i.beans,a=i.column,s=i.displayName,l=i.gridOptionsService,u=i.dragAndDropService,c=o.columnModel,d=a.getProvidedColumnGroup().getLeafColumns(),h=!l.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:fo.HeaderCell,eElement:t,getDefaultIconName:function(){return h?ri.ICON_HIDE:ri.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return n.getDragItemForGroup(a)},onDragStarted:function(){h=!l.get("suppressDragLeaveHidesColumns"),d.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return d.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var v;if(h){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(m){return!m.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var v;if(h){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(m){return!m.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!1,"uiColumnMoved")}}};u.addDragSource(p,!0)}},e.prototype.getDragItemForGroup=function(t){var n=t.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(function(a){return i[a.getId()]=a.isVisible()});var o=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(function(a){n.indexOf(a)>=0&&(o.push(a),Go(n,a))}),n.forEach(function(a){return o.push(a)}),{columns:o,visibleState:i}},e.prototype.isSuppressMoving=function(){var t=!1;this.column.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)});var n=t||this.gridOptionsService.get("suppressMovableColumns");return n},e}(ly),QUe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),K2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},q2=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZUe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},JUe=0,sb=function(r){QUe(e,r);function e(t,n,i){var o=r.call(this)||this;o.instanceId=JUe++,o.rowIndex=t,o.pinned=n,o.type=i;var a=i==bi.COLUMN_GROUP?"ag-header-row-column-group":i==bi.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(a),o}return e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n){n===void 0&&(n=!0),this.comp=t,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return t.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return t.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){if(this.headerCellCtrls)return wh(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth("".concat(t,"px"))},e.prototype.getWidthForRow=function(){var t=this.beans.columnModel;if(this.isPrintLayout){var n=this.pinned!=null;return n?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null)}return t.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),n=t.topOffset,i=t.rowHeight;this.comp.setTop(n+"px"),this.comp.setHeight(i+"px")},e.prototype.getTopAndHeight=function(){var t=this.beans,n=t.columnModel,i=t.filterManager,o=n.getHeaderRowCount(),a=[],s=0;i.hasFloatingFilters()&&(o++,s=1);for(var l=n.getColumnGroupHeaderRowHeight(),u=n.getColumnHeaderRowHeight(),c=1+s,d=o-c,h=0;h<d;h++)a.push(l);a.push(u);for(var h=0;h<s;h++)a.push(n.getFloatingFiltersHeight());for(var p=0,h=0;h<this.rowIndex;h++)p+=a[h];var f=a[this.rowIndex];return{topOffset:p,rowHeight:f}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){t===void 0&&(t=!1);var n=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(n,i,t)},e.prototype.getHeaderCtrls=function(){var t,n,i,o,a=this,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=q2(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,s)}}catch(w){t={error:w}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var h=function(w){var T=a.beans,S=T.focusService,x=T.columnModel,I=S.isHeaderWrapperFocused(w);if(!I)return!1;var R=x.isDisplayed(w.getColumnGroupChild());return R};if(s)try{for(var p=q2(s),f=p.next();!f.done;f=p.next()){var v=ZUe(f.value,2),g=v[0],m=v[1],C=h(m);C?this.headerCellCtrls.set(g,m):this.destroyBean(m)}}catch(w){i={error:w}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}var y=Array.from(this.headerCellCtrls.values());return y},e.prototype.recycleAndCreateHeaderCtrls=function(t,n){if(this.headerCellCtrls&&!t.isEmptyGroup()){var i=t.getUniqueId(),o;n&&(o=n.get(i),n.delete(i));var a=o&&o.getColumnGroupChild()!=t;if(a&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case bi.FLOATING_FILTER:o=this.createBean(new ree(t,this.beans,this));break;case bi.COLUMN_GROUP:o=this.createBean(new iee(t,this.beans,this));break;default:o=this.createBean(new nee(t,this.beans,this));break}this.headerCellCtrls.set(i,o)}},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){if(this.pinned!=null)return[];var t=[],n=this.getActualDepth(),i=this.beans.columnModel;return["left",null,"right"].forEach(function(o){var a=i.getVirtualHeaderGroupRow(o,n);t=t.concat(a)}),t},e.prototype.getActualDepth=function(){return this.type==bi.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,n){if(!this.headerCellCtrls)return!1;var i=Array.from(this.headerCellCtrls.values()),o=i.find(function(a){return a.getColumnGroupChild()==t});return o?o.focus(n):!1},e.prototype.destroy=function(){var t=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(n){t.destroyBean(n)}),this.headerCellCtrls=void 0,r.prototype.destroy.call(this)},K2([k("beans")],e.prototype,"beans",void 0),K2([Fe],e.prototype,"postConstruct",null),e}(Re),eje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tje=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},rje=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},oee=function(r){eje(e,r);function e(t){var n=r.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=t,n}return e.prototype.setComp=function(t,n){this.comp=t,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var n=new eee(this.pinned,t);this.createManagedBean(n)},e.prototype.refresh=function(t){var n=this;t===void 0&&(t=!1);var i=new Zh,o=this.focusService.getFocusHeaderToUseAfterRefresh(),a=function(){var c=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var d=0;d<c;d++){var h=n.createBean(new sb(i.next(),n.pinned,bi.COLUMN_GROUP));n.groupsRowCtrls.push(h)}},s=function(){var c=i.next(),d=!n.hidden&&(n.columnsRowCtrl==null||!t||n.columnsRowCtrl.getRowIndex()!==c),h=d||n.hidden;h&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),d&&(n.columnsRowCtrl=n.createBean(new sb(c,n.pinned,bi.COLUMN)))},l=function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var c=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(!n.includeFloatingFilter){c();return}var d=i.next();if(n.filtersRowCtrl){var h=n.filtersRowCtrl.getRowIndex()!==d;(!t||h)&&c()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new sb(d,n.pinned,bi.FLOATING_FILTER)))};a(),s(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=rje([],tje(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new Vk(function(n){return t.comp.setCenterWidth("".concat(n,"px"))},!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var n=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;var o=function(){var a=n?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(a!=null){var s=a==0,l=t.hidden!==s,u=t.gridOptionsService.get("enableRtl"),c=t.gridOptionsService.getScrollbarWidth(),d=t.scrollVisibleService.isVerticalScrollShowing()&&(u&&n||!u&&i),h=d?a+c:a;t.comp.setPinnedContainerWidth("".concat(h,"px")),t.comp.setDisplayed(!s),l&&(t.hidden=s,t.refresh())}};this.addManagedListener(this.eventService,W.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,W.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,W.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof Kr)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var n=0;n<this.groupsRowCtrls.length;n++){var i=this.groupsRowCtrls[n].getHeaderCellCtrl(t);if(i)return i}},e.prototype.getHtmlElementForColumnHeader=function(t){var n=this.getHeaderCtrlForColumn(t);return n?n.getGui():null},e.prototype.getRowType=function(t){var n=this.getAllCtrls(),i=n[t];return i?i.getType():void 0},e.prototype.focusHeader=function(t,n,i){var o=this.getAllCtrls(),a=o[t];return a?a.focusHeader(n,i):!1},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),r.prototype.destroy.call(this)},jp([k("ctrlsService")],e.prototype,"ctrlsService",void 0),jp([k("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),jp([k("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),jp([k("columnModel")],e.prototype,"columnModel",void 0),jp([k("focusService")],e.prototype,"focusService",void 0),jp([k("filterManager")],e.prototype,"filterManager",void 0),e}(Re),nje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lb=function(r){nje(e,r);function e(t){var n=r.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=t,n}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return t.setDisplayed(o)},setCtrls:function(o){return t.setCtrls(o)},setCenterWidth:function(o){return t.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return t.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var a=t.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}},i=this.createManagedBean(new oee(this.pinned));i.setComp(n,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned=="left",n=this.pinned=="right",i=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,a=function(s){var l=s.getGui(),u=l.parentElement!=n.eRowContainer;u&&n.eRowContainer.appendChild(l),o&&gk(n.eRowContainer,l,o),o=l};t.forEach(function(s){var l=s.getInstanceId(),u=i[l];delete i[l];var c=u||n.createBean(new tee(s));n.headerRowComps[l]=c,n.rowCompsList.push(c),a(c)}),ad(i).forEach(function(s){return n.destroyRowComp(s)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,xD([We("eCenterContainer")],e.prototype,"eCenterContainer",void 0),xD([Fe],e.prototype,"init",null),xD([Ji],e.prototype,"destroyRowComps",null),e}(jt),ije=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$g=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ks;(function(r){r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT"})(ks||(ks={}));var aee=function(r){ije(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentHeaderRowWithoutSpan=-1,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.gridBodyCon=i.gridBodyCtrl});var n=this.gridOptionsService.getDocument();this.addManagedListener(n,"mousedown",function(){return t.setCurrentHeaderRowWithoutSpan(-1)})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,n,i){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,a=n.column,s=this.getHeaderRowCount(),l=t===ks.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(a,o):this.headerPositionUtils.getColumnVisibleChild(a,o),c=u.headerRowIndex,d=u.column,h=u.headerRowIndexWithoutSpan,p=!1;return c<0&&(c=0,d=a,p=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):h!==void 0&&(this.currentHeaderRowWithoutSpan=h),!p&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})},e.prototype.setCurrentHeaderRowWithoutSpan=function(t){this.currentHeaderRowWithoutSpan=t},e.prototype.navigateHorizontally=function(t,n,i){n===void 0&&(n=!1);var o=this.focusService.getFocusedHeader(),a=t===ks.LEFT,s=this.gridOptionsService.get("enableRtl"),l,u;return this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,a!==s?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!n?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:n,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},e.prototype.focusNextHeaderRow=function(t,n,i){var o=t.headerRowIndex,a=null,s;if(n==="Before"?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!a)return!1;var l=this.headerPositionUtils.getHeaderIndexToFocus(a.column,a==null?void 0:a.headerRowIndex),u=l.column,c=l.headerRowIndex;return this.focusService.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:c},direction:n,fromTab:!0,allowUserOverride:!0,event:i})},e.prototype.scrollToColumn=function(t,n){if(n===void 0&&(n="After"),!t.getPinned()){var i;if(t instanceof Kn){var o=t.getDisplayedLeafColumns();i=n==="Before"?Dr(o):o[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},$g([k("focusService")],e.prototype,"focusService",void 0),$g([k("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),$g([k("ctrlsService")],e.prototype,"ctrlsService",void 0),$g([Fe],e.prototype,"postConstruct",null),e=$g([et("headerNavigationService")],e),e}(Re),oje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},see=function(r){oje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,i){this.comp=t,this.eGui=n,this.createManagedBean(new md(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();var o=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",o),this.mockContextMenuForIPad(o),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this.columnModel,n=0,i=t.getHeaderRowCount(),o,a=this.filterManager.hasFloatingFilters();a&&(i++,n=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+n,c=i-u;if(o=n*t.getFloatingFiltersHeight(),o+=c*s,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:W.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns(),n=t.some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.get("enableRtl"),i=t.shiftKey!==n?ks.LEFT:ks.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var n=null;switch(t.key){case le.LEFT:n=ks.LEFT;case le.RIGHT:Ee(n)||(n=ks.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,t);break;case le.UP:n=ks.UP;case le.DOWN:Ee(n)||(n=ks.DOWN),this.headerNavigationService.navigateVertically(n,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var n=this.gridOptionsService.getDocument(),i=t.relatedTarget;!i&&this.eGui.contains(n.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},e.prototype.onHeaderContextMenu=function(t,n,i){if(!(!t&&!i||!this.menuService.isHeaderContextMenuEnabled())){var o=(t??n).target;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,t,i)}},e.prototype.mockContextMenuForIPad=function(t){if(Yu()){var n=new ki(this.eGui),i=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,ki.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},Kp([k("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Kp([k("focusService")],e.prototype,"focusService",void 0),Kp([k("columnModel")],e.prototype,"columnModel",void 0),Kp([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Kp([k("filterManager")],e.prototype,"filterManager",void 0),Kp([k("menuService")],e.prototype,"menuService",void 0),e}(Re),aje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lee=function(r){aje(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,n={addOrRemoveCssClass:function(a,s){return t.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){t.getGui().style.height=a,t.getGui().style.minHeight=a}},i=this.createManagedBean(new see);i.setComp(n,this.getGui(),this.getFocusableElement());var o=function(a){t.createManagedBean(a),t.appendChild(a)};o(new lb("left")),o(new lb(null)),o(new lb("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',sje([Fe],e.prototype,"postConstruct",null),e}(jt),lje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ID=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uee=function(r){lje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var n=this,i={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(i);var o=function(){return n.dragService.removeDragSource(i)};return o},e.prototype.onDragStart=function(t,n){this.dragStartX=n.clientX,this.setResizeIcons();var i=n instanceof MouseEvent&&n.shiftKey===!0;t.onResizeStart(i)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,n){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,n){this.resizeAmount=n.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},ID([k("dragService")],e.prototype,"dragService",void 0),ID([k("ctrlsService")],e.prototype,"ctrlsService",void 0),e=ID([et("horizontalResizeService")],e),e}(Re),uje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cee=function(r){uje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,n,i){var o=this;this.showPopup(t,function(a){o.popupService.positionPopupUnderMouseEvent({column:t,type:i,mouseEvent:n,ePopup:a})},i,n.target,this.menuService.isLegacyMenuEnabled())},e.prototype.showMenuAfterButtonClick=function(t,n,i){var o=this,a=-1,s="left",l=this.menuService.isLegacyMenuEnabled();!l&&this.gridOptionsService.get("enableRtl")&&(a=1,s="right");var u=l?void 0:4*a,c=l?void 0:4;this.showPopup(t,function(d){o.popupService.positionPopupByComponent({type:i,eventSource:n,ePopup:d,nudgeX:u,nudgeY:c,alignSide:s,keepWithinBounds:!0,position:"under",column:t})},i,n,l)},e.prototype.showPopup=function(t,n,i,o,a){var s=this,l=t?this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"):void 0;if(!l||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var u=document.createElement("div");si(u,"presentation"),u.classList.add("ag-menu"),a||u.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(u,"keydown",function(m){return s.trapFocusWithin(m,u)}),l.guiPromise.then(function(m){return u.appendChild(m)});var c,d=function(){var m;return(m=l.filterPromise)===null||m===void 0?void 0:m.then(function(C){var y;return(y=C==null?void 0:C.afterGuiDetached)===null||y===void 0?void 0:y.call(C)})},h=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,p=function(m){t.setMenuVisible(!1,"contextMenu");var C=m instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),C&&o&&Na(o)){var y=s.focusService.findTabbableParent(o);y&&y.focus()}d(),s.dispatchVisibleChangedEvent(!1,i,t)},f=this.localeService.getLocaleTextFunc(),v=a&&i!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:p,positionCallback:function(){return n(u)},anchorToElement:h,ariaLabel:v});g&&(this.hidePopup=c=g.hideFunc),l.filterPromise.then(function(m){n(u),m.afterGuiAttached&&m.afterGuiAttached({container:i,hidePopup:c})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,t)},e.prototype.trapFocusWithin=function(t,n){t.key!==le.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(n,t.shiftKey))},e.prototype.dispatchVisibleChangedEvent=function(t,n,i){var o={type:W.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:t,switchingTab:!1,key:n,column:i??null};this.eventService.dispatchEvent(o)},e.prototype.isMenuEnabled=function(t){var n;return t.isFilterAllowed()&&((n=t.getColDef().menuTabs)!==null&&n!==void 0?n:["filterMenuTab"]).includes("filterMenuTab")},e.prototype.showMenuAfterContextMenuEvent=function(){},qp([k("filterManager")],e.prototype,"filterManager",void 0),qp([k("popupService")],e.prototype,"popupService",void 0),qp([k("focusService")],e.prototype,"focusService",void 0),qp([k("ctrlsService")],e.prototype,"ctrlsService",void 0),qp([k("menuService")],e.prototype,"menuService",void 0),e=qp([et("filterMenuFactory")],e),e}(Re),cje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Th;(function(r){r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Th||(Th={}));var dee=function(r){cje(e,r);function e(t){var n=r.call(this)||this;n.skipTabGuardFocus=!1,n.forcingFocusOut=!1;var i=t.comp,o=t.eTopGuard,a=t.eBottomGuard,s=t.focusTrapActive,l=t.forceFocusOutWhenTabGuardsAreEmpty,u=t.focusInnerElement,c=t.onFocusIn,d=t.onFocusOut,h=t.shouldStopEventPropagation,p=t.onTabKeyDown,f=t.handleKeyDown,v=t.eFocusableElement;return n.comp=i,n.eTopGuard=o,n.eBottomGuard=a,n.providedFocusInnerElement=u,n.eFocusableElement=v,n.focusTrapActive=!!s,n.forceFocusOutWhenTabGuardsAreEmpty=!!l,n.providedFocusIn=c,n.providedFocusOut=d,n.providedShouldStopEventPropagation=h,n.providedOnTabKeyDown=p,n.providedHandleKeyDown=f,n}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new md(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)},onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return t.addManagedListener(n,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){if(!this.forcingFocusOut){var t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())}},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty){var n=this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0;if(n){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}}var i=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)},e.prototype.findNextElementOutsideAndFocus=function(t){var n=this.gridOptionsService.getDocument(),i=this.focusService.findFocusableElements(n.body,null,!0),o=i.indexOf(t?this.eTopGuard:this.eBottomGuard);if(o!==-1){var a,s;t?(a=0,s=o):(a=o+1,s=i.length);var l=i.slice(a,s),u=this.gridOptionsService.get("tabIndex");l.sort(function(c,d){var h=parseInt(c.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return p===u?1:h===u?-1:h===0?1:p===0?-1:h-p}),l[t?l.length-1:0].focus()}},e.prototype.onFocusIn=function(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())},e.prototype.onFocusOut=function(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())},e.prototype.onTabKeyDown=function(t){var n=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!this.focusTrapActive&&!t.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);i&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[t?n.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){var n=this;if(t===void 0&&(t=!1),!this.forcingFocusOut){var i=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(function(){n.forcingFocusOut=!1,n.activateTabGuards()})}},e.prototype.isTabGuard=function(t){return t===this.eTopGuard||t===this.eBottomGuard},Y2([k("focusService")],e.prototype,"focusService",void 0),Y2([Fe],e.prototype,"postConstruct",null),e}(Re),dje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hje=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},pje=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Dv=function(r){dje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){n.forEach(function(a){return o!=null?a.setAttribute("tabindex",o):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new dee({comp:i,focusTrapActive:!!t.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:t.forceFocusOutWhenTabGuardsAreEmpty}))},e.prototype.createTabGuard=function(t){var n=document.createElement("div"),i=t==="top"?Th.TAB_GUARD_TOP:Th.TAB_GUARD_BOTTOM;return n.classList.add(Th.TAB_GUARD,i),si(n,"presentation"),n},e.prototype.addTabGuards=function(t,n){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",n)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];mi(this.getFocusableElement()),this.addTabGuards.apply(this,pje([],hje(t),!1))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,n){ry(t)||(t=t.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",t):r.prototype.appendChild.call(this,t,n)},e}(jt),fje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},vje=function(r){fje(e,r);function e(t){var n=r.call(this,e.getTemplate(t.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=t,t.items&&t.items.forEach(function(i){return n.addItem(i)}),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var n,i,o;return(o=(i=(n=t.activeItem)===null||n===void 0?void 0:n.tabbedItem)===null||i===void 0?void 0:i.afterDetachedCallback)===null||o===void 0?void 0:o.call(i)})},e.getTemplate=function(t){return'<div class="ag-tabs '.concat(t,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(t?"".concat(t,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(t?"".concat(t,"-body"):"",`"></div>
        </div>`)},e.prototype.handleKeyDown=function(t){var n=this.gridOptionsService.getDocument();switch(t.key){case le.RIGHT:case le.LEFT:if(!this.eHeader.contains(n.activeElement))return;var i=t.key===le.RIGHT,o=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=i!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;t.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case le.UP:case le.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var n=this,i=n.focusService,o=n.eHeader,a=n.eBody,s=n.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=t.target;if(t.preventDefault(),o.contains(u)){this.focusBody(t.shiftKey);return}var d=null;i.isTargetUnderManagedComponent(a,c)&&(t.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,c)),d||(d=s.eHeaderButton)),!d&&a.contains(u)&&(d=i.findNextFocusableElement(a,!1,t.shiftKey),d||this.focusHeader()),d&&d.focus()}},e.prototype.focusInnerElement=function(t){t?this.focusHeader():this.focusBody(!0)},e.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},e.prototype.focusBody=function(t){this.focusService.focusInto(this.eBody,t)},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var n=document.createElement("span");si(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(t.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),vd(n,t.titleLabel);var i={tabbedItem:t,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))},e.prototype.showItem=function(t){var n=this.items.find(function(i){return i.tabbedItem===t});n&&this.showItemWrapper(n)},e.prototype.showItemWrapper=function(t){var n=this,i,o,a,s,l,u,c=t.tabbedItem,d=t.eHeaderButton;if((o=(i=this.params).onItemClicked)===null||o===void 0||o.call(i,{item:c}),this.activeItem===t){(s=(a=this.params).onActiveItemClicked)===null||s===void 0||s.call(a);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),mi(this.eBody),c.bodyPromise.then(function(h){n.eBody.appendChild(h);var p=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,p),c.afterAttachedCallback&&c.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var f=c.getScrollableContainer&&c.getScrollableContainer()||h;n.lastScrollListener=n.addManagedListener(f,"scroll",function(){n.tabbedItemScrollMap.set(c.name,f.scrollTop)});var v=n.tabbedItemScrollMap.get(c.name);v!==void 0&&setTimeout(function(){f.scrollTop=v},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(u=(l=this.activeItem.tabbedItem).afterDetachedCallback)===null||u===void 0||u.call(l)),d.classList.add("ag-tab-selected"),this.activeItem=t},QS([k("focusService")],e.prototype,"focusService",void 0),QS([We("eHeader")],e.prototype,"eHeader",void 0),QS([We("eBody")],e.prototype,"eBody",void 0),QS([Fe],e.prototype,"postConstruct",null),e}(Dv),gje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_je=50,hee=function(r){gje(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,n){var i=this,o=this.gridOptionsService.getWindow(),a=function(){var c=new o.ResizeObserver(n);return c.observe(t),function(){return c.disconnect()}},s=function(){var c,d,h=(c=t==null?void 0:t.clientWidth)!==null&&c!==void 0?c:0,p=(d=t==null?void 0:t.clientHeight)!==null&&d!==void 0?d:0,f=!0,v=function(){var g,m;if(f){var C=(g=t==null?void 0:t.clientWidth)!==null&&g!==void 0?g:0,y=(m=t==null?void 0:t.clientHeight)!==null&&m!==void 0?m:0,w=C!==h||y!==p;w&&(h=C,p=y,n()),i.doNextPolyfillTurn(v)}};return v(),function(){return f=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?a():this.getFrameworkOverrides().wrapIncoming(function(){return s()},"resize-observer")},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var n=function(){var i=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,window.setTimeout(n,_je)}},e=mje([et("resizeObserverService")],e),e}(Re),Cje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},pee=function(r){Cje(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){var n=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,n&&t===0){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(t," called but animation frames are off"))},e.prototype.createTask=function(t,n,i){this.verifyAnimationFrameOn(i);var o={task:t,index:n,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,n){t.list.push(n),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var n=this.scrollGoingDown?1:-1;t.list.sort(function(i,o){return i.index!==o.index?n*(o.index-i.index):o.createOrder-i.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,i=n.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<t;){var h=d.getScrollFeature().scrollGridIfNeeded();if(!h){var p=void 0;if(i.length)this.sortTaskList(n),p=i.pop().task;else if(a.length)this.sortTaskList(o),p=a.pop().task;else if(s.length)p=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}u=new Date().getTime()-l}i.length||a.length||s.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var n=this,i=!1;return function(){if(!n.isOn()){window.setTimeout(t,0);return}i||(i=!0,n.addDestroyTask(function(){i=!1,t()}))}},ZS([k("ctrlsService")],e.prototype,"ctrlsService",void 0),ZS([k("paginationProxy")],e.prototype,"paginationProxy",void 0),ZS([Fe],e.prototype,"init",null),e=ZS([et("animationFrameService")],e),e}(Re),ur;(function(r){r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing"})(ur||(ur={}));var yje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fee=function(r){yje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},e.prototype.expandRows=function(t){if(this.isClientSideRowModel){var n=new Set(t);this.rowModel.forEachNode(function(i){i.id&&n.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},e.prototype.getExpandedRows=function(){var t=[];return this.rowModel.forEachNode(function(n){var i=n.expanded,o=n.id;i&&o&&t.push(o)}),t},e.prototype.expandAll=function(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)},e.prototype.setRowNodeExpanded=function(t,n,i){t&&(i&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,n,i),t.setExpanded(n))},e.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:ur.MAP})},TD([k("rowModel")],e.prototype,"rowModel",void 0),TD([Fe],e.prototype,"postConstruct",null),e=TD([et("expansionService")],e),e}(Re),Sje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ru=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},vee=function(r){Sje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t;this.activeMenuFactory=(t=this.enterpriseMenuFactory)!==null&&t!==void 0?t:this.filterMenuFactory},e.prototype.showColumnMenu=function(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")},e.prototype.showFilterMenu=function(t){var n=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(n,t,t.containerType,!0)},e.prototype.showHeaderContextMenu=function(t,n,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,n,i)},e.prototype.showContextMenu=function(t){var n,i,o,a=t.column,s=t.anchorToElement,l=t.rowNode,u=t.value;(n=this.contextMenuFactory)===null||n===void 0||n.onContextMenu((i=t.mouseEvent)!==null&&i!==void 0?i:null,(o=t.touchEvent)!==null&&o!==void 0?o:null,l??null,a??null,u,s)},e.prototype.showColumnChooser=function(t){var n;(n=this.columnChooserFactory)===null||n===void 0||n.showColumnChooser(t)},e.prototype.hidePopupMenu=function(){var t;(t=this.contextMenuFactory)===null||t===void 0||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()},e.prototype.hideColumnChooser=function(){var t;(t=this.columnChooserFactory)===null||t===void 0||t.hideActiveColumnChooser()},e.prototype.isColumnMenuInHeaderEnabled=function(t){var n=t.getColDef(),i=n.suppressMenu,o=n.suppressHeaderMenuButton,a=o??i;return!a&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)},e.prototype.isFilterMenuInHeaderEnabled=function(t){return!t.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(t)},e.prototype.isHeaderContextMenuEnabled=function(t){return!(t!=null&&t.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"},e.prototype.isHeaderMenuButtonAlwaysShowEnabled=function(){return this.isSuppressMenuHide()},e.prototype.isHeaderMenuButtonEnabled=function(){var t=!this.isSuppressMenuHide(),n=Yu()&&t;return!n},e.prototype.isHeaderFilterButtonEnabled=function(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)},e.prototype.isFilterMenuItemEnabled=function(t){return this.filterManager.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)},e.prototype.isColumnMenuAnchoringEnabled=function(){return!this.isLegacyMenuEnabled()},e.prototype.areAdditionalColumnMenuItemsEnabled=function(){return this.getColumnMenuType()==="new"},e.prototype.isLegacyMenuEnabled=function(){return this.getColumnMenuType()==="legacy"},e.prototype.isFloatingFilterButtonEnabled=function(t){var n,i=t.getColDef(),o=(n=i.floatingFilterComponentParams)===null||n===void 0?void 0:n.suppressFilterButton;return o!=null&&Tt("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!o:!i.suppressFloatingFilterButton},e.prototype.getColumnMenuType=function(){var t;return(t=this.gridOptionsService.get("columnMenu"))!==null&&t!==void 0?t:"legacy"},e.prototype.isFloatingFilterButtonDisplayed=function(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)},e.prototype.isSuppressMenuHide=function(){var t=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?t:!0},e.prototype.showColumnMenuCommon=function(t,n,i,o){var a=this,s=n.column,l=n.positionBy;if(l==="button"){var u=n.buttonElement;t.showMenuAfterButtonClick(s,u,i,o)}else if(l==="mouse"){var c=n.mouseEvent;t.showMenuAfterMouseEvent(s,c,i,o)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(function(){var d=a.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);t.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(o),i,!0)}))},ru([Cr("enterpriseMenuFactory")],e.prototype,"enterpriseMenuFactory",void 0),ru([k("filterMenuFactory")],e.prototype,"filterMenuFactory",void 0),ru([Cr("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),ru([k("ctrlsService")],e.prototype,"ctrlsService",void 0),ru([k("animationFrameService")],e.prototype,"animationFrameService",void 0),ru([Cr("columnChooserFactory")],e.prototype,"columnChooserFactory",void 0),ru([k("filterManager")],e.prototype,"filterManager",void 0),ru([Fe],e.prototype,"postConstruct",null),e=ru([et("menuService")],e),e}(Re),wje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gee=function(r){wje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,n){var i=this.getHeaderCellForColumn(t);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return n||o.push(i),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var n=this.getHeaderCellForColumn(t);return n?this.addElementsToContainerAndGetWidth([n]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var n=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();t.forEach(function(l){return n.cloneItemIntoDummy(l,i)}),o.appendChild(i);var a=i.offsetWidth;o.removeChild(i);var s=this.getAutoSizePadding();return a+s},e.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},e.prototype.getHeaderCellForColumn=function(t){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(t);o!=null&&(n=o)}),n},e.prototype.cloneItemIntoDummy=function(t,n){var i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),a=o.classList,s=["ag-header-cell","ag-header-group-cell"].some(function(h){return i.classList.contains(h)});s?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&a.add(d)}break}l=l.parentElement}o.appendChild(i),n.appendChild(o)},Wg([k("rowRenderer")],e.prototype,"rowRenderer",void 0),Wg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Wg([k("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Wg([Fe],e.prototype,"postConstruct",null),e=Wg([et("autoWidthCalculator")],e),e}(Re),bje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Eje=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xje=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Ije=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Tje=function(r){bje(e,r);function e(t,n){var i=r.call(this)||this;return i.createRowCon=t,i.destroyRowCtrls=n,i.stickyRowCtrls=[],i.containerHeight=0,i}return e.prototype.postConstruct=function(){var t=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(n){t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(f){var v,g,m;i.push(f);var C;if(t.isClientSide){for(var y=f;y.isExpandable()&&y.expanded;)if(y.master)y=y.detailNode;else if(y.childrenAfterSort){if(y.childrenAfterSort.length===0)break;y=Dr(y.childrenAfterSort)}C=y.rowTop+y.rowHeight}else if(f.master)C=f.detailNode.rowTop+f.detailNode.rowHeight;else{var w=(v=f.childStore)===null||v===void 0?void 0:v.getStoreBounds();C=((g=w==null?void 0:w.heightPx)!==null&&g!==void 0?g:0)+((m=w==null?void 0:w.topPx)!==null&&m!==void 0?m:0)}var T=o+n+f.rowHeight;C<T?f.stickyRowTop=n+(C-T):f.stickyRowTop=n,n=0,i.forEach(function(S){var x=S.stickyRowTop+S.rowHeight;n<x&&(n=x)})},s=0;;){var l=o+n,u=this.rowModel.getRowIndexAtPixel(l),c=this.rowModel.getRow(u);if(c==null||c.level<0||s++===100)break;for(var d=[],h=c.parent;h.level>=0;)d.push(h),h=h.parent;var p=d.reverse().find(function(f){return i.indexOf(f)<0&&f.displayed});if(p){a(p);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<l){a(c);continue}break}return this.refreshNodesAndContainerHeight(i,n)},e.prototype.refreshStickyNode=function(t){for(var n=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==t&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,n){var i,o,a,s=this,l=!1,u=this.stickyRowCtrls.filter(function(g){return t.indexOf(g.getRowNode())===-1}),c=t.filter(function(g){return s.stickyRowCtrls.findIndex(function(m){return m.getRowNode()===g})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(g){d[g.getRowNode().id]=g,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(m){return m!==g})});try{for(var h=Eje(Object.values(d)),p=h.next();!p.done;p=h.next()){var f=p.value;f.getRowNode().sticky=!1}}catch(g){i={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}this.destroyRowCtrls(d,!1);var v=c.map(function(g){return g.sticky=!0,s.createRowCon(g,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,Ije([],xje(v),!1)),this.stickyRowCtrls.forEach(function(g){return g.setRowTop(g.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(g,m){return m.getRowNode().rowIndex-g.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),l=!0),l},JS([k("rowModel")],e.prototype,"rowModel",void 0),JS([k("rowRenderer")],e.prototype,"rowRenderer",void 0),JS([k("ctrlsService")],e.prototype,"ctrlsService",void 0),JS([Fe],e.prototype,"postConstruct",null),e}(Re),Rje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ts=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lc=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},uc=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Oje=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mee=function(r){Rje(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t.setupRangeSelectionListeners=function(){var n=function(){t.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},i=function(){t.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){t.eventService.addEventListener(W.EVENT_RANGE_SELECTION_CHANGED,n),t.eventService.addEventListener(W.EVENT_COLUMN_MOVED,i),t.eventService.addEventListener(W.EVENT_COLUMN_PINNED,i),t.eventService.addEventListener(W.EVENT_COLUMN_VISIBLE,i)},a=function(){t.eventService.removeEventListener(W.EVENT_RANGE_SELECTION_CHANGED,n),t.eventService.removeEventListener(W.EVENT_COLUMN_MOVED,i),t.eventService.removeEventListener(W.EVENT_COLUMN_PINNED,i),t.eventService.removeEventListener(W.EVENT_COLUMN_VISIBLE,i)};t.addDestroyFunc(function(){return a()}),t.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?o():a()});var s=t.gridOptionsService.get("enableRangeSelection");s&&o()},t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){var t=this;if(this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return t.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return t.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return t.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var n=this.rowModel.getType();(n==="clientSide"||n==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Tje(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var t=this.getKeepDetailRowsCount(),n=t??3;this.cachedRowCtrls=new Dje(n)}},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=ad(this.rowCtrlsByRowIndex),n=ad(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];n.length>0||i.length>0?this.allRowCtrls=uc(uc(uc([],lc(t),!1),lc(n),!1),lc(i),!1):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(t)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(t)})},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUSED,function(n){t.onCellFocusChanged(n)}),this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUS_CLEARED,function(){t.onCellFocusChanged()}),this.addManagedListener(this.eventService,W.EVENT_FLASH_CELLS,function(n){t.getAllCellCtrls().forEach(function(i){return i.onFlashCells(n)})}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,W.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n.forEach(function(i){var o=function(d){t.getAllCellCtrls().forEach(function(h){h.getColumn()===i&&d(h)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener("leftChanged",a),i.addEventListener("widthChanged",s),i.addEventListener("firstRightPinnedChanged",l),i.addEventListener("lastLeftPinnedChanged",u),i.addEventListener("colDefChanged",c),t.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",a),i.removeEventListener("widthChanged",s),i.removeEventListener("firstRightPinnedChanged",l),i.removeEventListener("lastLeftPinnedChanged",u),i.removeEventListener("colDefChanged",c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t||this.gridOptionsService.get("embedFullWidthRows"),i=n!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=n,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var n={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(n)},e.prototype.getAllCellsForColumn=function(t){var n=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(t);o&&n.push(o)}),n},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,n){var i=this;t.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),t.length=0,n&&n.forEach(function(o){var a=new Yc(o,i.beans,!1,!1,i.printLayout);t.push(a)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.redrawRow=function(t,n){var i=this,o;if(n===void 0&&(n=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else if(!((o=this.cachedRowCtrls)===null||o===void 0)&&o.has(t)){this.cachedRowCtrls.removeRow(t);return}else{var a=function(s){var l=s[t.rowIndex];l&&l.getRowNode()===t&&(l.destroyFirstPass(),l.destroySecondPass(),s[t.rowIndex]=i.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var n=this,i=t!=null;if(i){t==null||t.forEach(function(o){return n.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var n=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var i=this.gridOptionsService.getDocument(),o=i.activeElement,a=this.gridOptionsService.getDomData(o,qc.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,Yc.DOM_DATA_KEY_ROW_CTRL),l=a||s;return l?n:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var i=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),a=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),n!=null&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var n=t.newData||t.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");n&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){for(var t=[],n=this.getAllRowCtrls(),i=n.length,o=0;o<i;o++)for(var a=n[o].getAllCellCtrls(),s=a.length,l=0;l<s;l++)t.push(a[l]);return t},e.prototype.getAllRowCtrls=function(){var t,n,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=uc(uc(uc([],lc(this.topRowCtrls),!1),lc(this.bottomRowCtrls),!1),lc(i),!1);try{for(var a=Oje(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,n,i){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(t,i)},e.prototype.flashCells=function(t){t===void 0&&(t={}),this.getCellCtrls(t.rowNodes,t.columns).forEach(function(n){return n.flashCell(t)})},e.prototype.refreshCells=function(t){var n=this;t===void 0&&(t={});var i={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.refreshOrDestroyCell(i)}),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(function(o){if(o.isFullWidth()){var a=o.refreshFullWidth();a||n.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var n=this,i,o=this.getCellCtrls(t.rowNodes,t.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((i=t.columns)===null||i===void 0)&&i.length)return o;var a=[],s=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(s&&!n.isRowInMap(l.getRowNode(),s))&&l.isFullWidth())for(var u=l.getFullWidthCellRenderers(),c=0;c<u.length;c++){var d=u[c];d!=null&&a.push(d)}}),uc(uc([],lc(a),!1),lc(o),!1)},e.prototype.getCellEditorInstances=function(t){var n=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(i){var o=i.getCellEditor();o&&n.push(o)}),n},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var i=n.getCellPosition();t.push(i)}}),t},e.prototype.mapRowNodes=function(t){if(t){var n={top:{},bottom:{},normal:{}};return t.forEach(function(i){var o=i.id;i.rowPinned==="top"?n.top[o]=i:i.rowPinned==="bottom"?n.bottom[o]=i:n.normal[o]=i}),n}},e.prototype.isRowInMap=function(t,n){var i=t.id,o=t.rowPinned;return o==="bottom"?n.bottom[i]!=null:o==="top"?n.top[i]!=null:n.normal[i]!=null},e.prototype.getRowCtrls=function(t){var n=this,i=this.mapRowNodes(t),o=this.getAllRowCtrls();return!t||!i?o:o.filter(function(a){var s=a.getRowNode();return n.isRowInMap(s,i)})},e.prototype.getCellCtrls=function(t,n){var i=this,o;Ee(n)&&(o={},n.forEach(function(s){var l=i.columnModel.getGridColumn(s);Ee(l)&&(o[l.getId()]=!0)}));var a=[];return this.getRowCtrls(t).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||a.push(l)})}),a},e.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];Qi(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode().id==null;a&&t.push(i)}),this.removeRowCtrls(t);var n={};return Qi(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();n[a.id]=o}),this.rowCtrlsByRowIndex={},n},e.prototype.removeRowCtrls=function(t,n){var i=this;n===void 0&&(n=!1),t.forEach(function(o){var a=i.rowCtrlsByRowIndex[o];a&&(a.destroyFirstPass(n),a.destroySecondPass()),delete i.rowCtrlsByRowIndex[o]})},e.prototype.onBodyScroll=function(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){t===void 0&&(t={});var n=t.afterScroll,i;this.stickyRowFeature&&lk()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(n&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!s),i!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},e.prototype.removeRowCompsNotToDraw=function(t,n){var i={};t.forEach(function(s){return i[s]=!0});var o=Object.keys(this.rowCtrlsByRowIndex),a=o.filter(function(s){return!i[s]});this.removeRowCtrls(a,n)},e.prototype.calculateIndexesToDraw=function(t){var n=this,i=zZ(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var h=d.getRowNode().rowIndex;h!=null&&(h<n.firstRenderedRow||h>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(d)&&i.push(h)};Qi(this.rowCtrlsByRowIndex,o),Qi(t,o),i.sort(function(c,d){return c-d});for(var a=[],s=0;s<i.length;s++){var l=i[s],u=this.paginationProxy.getRow(l);u&&!u.sticky&&a.push(l)}return a},e.prototype.recycleRows=function(t,n,i){var o=this;n===void 0&&(n=!1),i===void 0&&(i=!1);var a=this.calculateIndexesToDraw(t);if((this.printLayout||i)&&(n=!1),this.removeRowCompsNotToDraw(a,!n),a.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,t,n,i);Ee(u)}),t){var s=i&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;s?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,n)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){t===void 0&&(t=!1);var n={type:W.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(n)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight(),i=this.pinningLeft!==t||n!==this.pinningRight;i&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(n){var i=n.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var n=this,i=this.mapRowNodes(t);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(i!=null&&!n.isRowInMap(a,i))})},e.prototype.createOrUpdateRowCtrl=function(t,n,i,o){var a,s=this.rowCtrlsByRowIndex[t];s||(a=this.paginationProxy.getRow(t),Ee(a)&&Ee(n)&&n[a.id]&&a.alreadyRendered&&(s=n[a.id],n[a.id]=null));var l=!s;if(l)if(a||(a=this.paginationProxy.getRow(t)),Ee(a))s=this.createRowCon(a,i,o);else return;return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s},e.prototype.destroyRowCtrls=function(t,n){var i=this,o=[];Qi(t,function(a,s){if(s){if(i.cachedRowCtrls&&s.isCacheable()){i.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!n),n?(i.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete i.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),n&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),oZ(o))},e.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},e.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),n=this.gridOptionsService.getRowHeightAsNumber();return t*n},e.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var t,n;if(!this.paginationProxy.isRowsToRender())t=0,n=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,p=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),v=o.getScrollFeature().getVScrollPosition(),g=v.top,m=v.bottom;a?(l=h+f,u=p+f):(l=Math.max(g+c-i,h)+f,u=Math.min(m+c+i,p)+f),this.firstVisibleVPixel=Math.max(g+c,h)+f,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(s);var C=this.paginationProxy.getRowIndexAtPixel(l),y=this.paginationProxy.getRowIndexAtPixel(u),w=this.paginationProxy.getPageFirstRow(),T=this.paginationProxy.getPageLastRow();C<w&&(C=w),y>T&&(y=T),t=C,n=y}var S=this.gridOptionsService.isDomLayout("normal"),x=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),I=Math.max(this.getRowBuffer(),500);S&&!x&&n-t>I&&(n=t+I);var R=t!==this.firstRenderedRow,D=n!==this.lastRenderedRow;if(R||D){this.firstRenderedRow=t,this.lastRenderedRow=n;var A={type:W.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:n};this.eventService.dispatchEvent(A)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:W.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(n)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,n){var i=this.paginationProxy.ensureRowHeightsValid(t,n,-1,-1);return i&&this.updateContainerHeights(),i},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var n=!1,i=!0,o=t.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=t.isEditing(),l=o.detail,u=a||s||l;if(!u)return n;var c=this.paginationProxy.isRowPresent(o);return c?i:n},e.prototype.createRowCon=function(t,n,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var a=this.gridOptionsService.get("suppressAnimationFrame"),s=i&&!a&&!this.printLayout,l=new Yc(t,this.beans,n,s,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(n){return t[n].getRowNode()})},e.prototype.getRowByPosition=function(t){var n,i=t.rowIndex;switch(t.rowPinned){case"top":n=this.topRowCtrls[i];break;case"bottom":n=this.bottomRowCtrls[i];break;default:n=this.rowCtrlsByRowIndex[i],n||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null);break}return n},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,n){var i=t==null||n==null;if(i)return!1;var o=t>this.lastRenderedRow,a=n<this.firstRenderedRow,s=!a&&!o;return s},Ts([k("animationFrameService")],e.prototype,"animationFrameService",void 0),Ts([k("paginationProxy")],e.prototype,"paginationProxy",void 0),Ts([k("columnModel")],e.prototype,"columnModel",void 0),Ts([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ts([k("rowModel")],e.prototype,"rowModel",void 0),Ts([k("focusService")],e.prototype,"focusService",void 0),Ts([k("beans")],e.prototype,"beans",void 0),Ts([k("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Ts([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Ts([Fe],e.prototype,"postConstruct",null),e=Ts([et("rowRenderer")],e),e}(Re),Dje=function(){function r(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return r.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},r.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var n=t.getRowNode()!=e;return n?null:t},r.prototype.has=function(e){return this.entriesMap[e.id]!=null},r.prototype.removeRow=function(e){var t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Go(this.entriesList,n)},r.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],Go(this.entriesList,e)},r.prototype.getEntries=function(){return this.entriesList},r}(),Aje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),X2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_ee=function(r){Aje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.formatValue=function(t,n,i,o,a){a===void 0&&(a=!0);var s=null,l,u=t.getColDef();if(o?l=o:a&&(l=u.valueFormatter),l){var c=this.gridOptionsService.addGridCommonParams({value:i,node:n,data:n?n.data:null,colDef:u,column:t});typeof l=="function"?s=l(c):s=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s},X2([k("expressionService")],e.prototype,"expressionService",void 0),e=X2([et("valueFormatterService")],e),e}(Re),Pje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cee=function(r){Pje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return t.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return t.setPinnedBottomRowData()})},e.prototype.isEmpty=function(t){var n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Sa(n)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,n){var i=n==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Sa(i))return 0;for(var o=0;o<i.length;o++){var a=i[o],s=a.rowTop+a.rowHeight-1;if(s>=t)return o}return i.length-1},e.prototype.setPinnedTopRowData=function(){var t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0);var n={type:W.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.setPinnedBottomRowData=function(){var t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1);var n={type:W.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.createNodesFromData=function(t,n){var i=this,o=[];if(t){var a=0;t.forEach(function(s,l){var u=new Zt(i.beans);u.data=s;var c=n?Zt.ID_PREFIX_TOP_PINNED:Zt.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=n?"top":"bottom",u.setRowTop(a),u.setRowHeight(i.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),a+=u.rowHeight,o.push(u)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){Sa(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){Sa(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var n=Dr(t);return n.rowTop+n.rowHeight},RD([k("beans")],e.prototype,"beans",void 0),RD([Fe],e.prototype,"init",null),e=RD([et("pinnedRowModel")],e),e}(Re),BM;(function(r){r.Applied="Applied",r.StoreNotFound="StoreNotFound",r.StoreLoading="StoreLoading",r.StoreWaitingToLoad="StoreWaitingToLoad",r.StoreLoadingFailed="StoreLoadingFailed",r.StoreWrongType="StoreWrongType",r.Cancelled="Cancelled",r.StoreNotStarted="StoreNotStarted"})(BM||(BM={}));var uy=function(){function r(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},r.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var o=e.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(o)}t(e)},r.prototype.forEachChangedNodeDepthFirst=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},r.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},r.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];){var i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n},r.prototype.populateColumnsMap=function(e,t){var n=this;if(!(!this.keepingColumns||!t))for(var i=e;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(function(o){return n.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},r.prototype.linkPathItems=function(e,t){for(var n=e,i=0;i<t;i++){var o=this.mapToItems[n.id],a=this.mapToItems[n.parent.id];a.children||(a.children=[]),a.children.push(o),n=n.parent}},r.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},r.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},r.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id],i=t.filter(function(o){return n[o.getId()]});return i},r.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id],i=t.filter(function(o){return!n[o.getId()]});return i},r}(),Mje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FE=function(r){Mje(e,r);function e(t){var n=r.call(this)||this;return n.state=e.STATE_WAITING_TO_LOAD,n.version=0,n.id=t,n}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var n=this.isRequestMostRecentAndLive(t);n&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,n){this.successCommon(t,n)},e.prototype.pageLoaded=function(t,n,i){this.successCommon(t,{rowData:n,rowCount:i})},e.prototype.isRequestMostRecentAndLive=function(t){var n=t===this.version,i=this.isAlive();return n&&i},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(t);i&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(Re),Fje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ew=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Lje=function(r,e){return function(t,n){e(t,n,r)}},yee=function(r){Fje(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.get("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=Jt.debounce(this.performCheckBlocksToLoad.bind(this),n))},e.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(n==null)return 2;if(!(n<=0))return n},e.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(FE.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(n){Jt.removeFromArray(this.blocks,n)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:t.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var n=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===FE.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var n=this.rowModel;return n.getBlockStates()}var i={};return this.blocks.forEach(function(o){var a=o.getBlockStateJson(),s=a.id,l=a.state;i[s]=l}),i},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},e.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var t;return e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",ew([k("rowModel")],e.prototype,"rowModel",void 0),ew([Fe],e.prototype,"postConstruct",null),ew([Lje(0,Ta("loggerFactory"))],e.prototype,"setBeans",null),e=t=ew([et("rowNodeBlockLoader")],e),e}(Re),Nje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},See=function(r){Nje(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,n,i,o){var a=this.rowModel.ensureRowHeightsValid(t,n,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},e.prototype.isPaginateChildRows=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return t?!0:this.gridOptionsService.get("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var n={type:W.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,newPageSize:t?t.newPageSize:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(n)},e.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var t={type:W.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t||typeof this.currentPage!="number")){this.currentPage=t;var n={type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(n)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return At(this.topRowBounds)||At(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,n=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:n}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var n=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return n},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var n=this.getPageFirstRow(),i=this.getPageLastRow(),o=n;o<=i;o++){var a=this.getRow(o);a&&t(a)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var n=this.rowModel.getRowBounds(t);return n.rowIndex=t,n},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var n=this.getPageForIndex(t);this.goToPage(n)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var n=this.getPageForIndex(t.rowIndex);return n===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),n=Math.floor(t/this.pageSize);this.goToPage(n)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPage=function(t){this.currentPage=t},Object.defineProperty(e.prototype,"pageSize",{get:function(){return Ee(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:Ee(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ee(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ee(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),e.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},e.prototype.setPageSize=function(t,n){var i=this.pageSize;switch(n){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){var o={type:W.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},e.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Ee(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:W.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(n),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},OD([k("rowModel")],e.prototype,"rowModel",void 0),OD([Fe],e.prototype,"postConstruct",null),e=OD([et("paginationProxy")],e),e}(Re),kje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Q2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wee=function(r){kje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,n,i,o){this.processClassRules(void 0,t.cellClassRules,n,i,o),this.processStaticCellClasses(t,n,i)},e.prototype.processClassRules=function(t,n,i,o,a){if(!(n==null&&t==null)){var s={},l={},u=function(f,v){f.split(" ").forEach(function(g){g.trim()!=""&&v(g)})};if(n)for(var c=Object.keys(n),d=function(f){var v=c[f],g=n[v],m;typeof g=="string"?m=h.expressionService.evaluate(g,i):typeof g=="function"&&(m=g(i)),u(v,function(C){m?s[C]=!0:l[C]=!0})},h=this,p=0;p<c.length;p++)d(p);t&&a&&Object.keys(t).forEach(function(f){return u(f,function(v){s[v]||(l[v]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(o)}},e.prototype.getStaticCellClasses=function(t,n){var i=t.cellClass;if(!i)return[];var o;if(typeof i=="function"){var a=i;o=a(n)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},e.prototype.processStaticCellClasses=function(t,n,i){var o=this.getStaticCellClasses(t,n);o.forEach(function(a){i(a)})},Q2([k("expressionService")],e.prototype,"expressionService",void 0),e=Q2([et("stylingService")],e),e}(Re),Vje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bee=function(r){Vje(e,r);function e(t){return r.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,n){return r.prototype.setValue.call(this,t,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(oy),Bje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eee=function(r){Bje(e,r);function e(t){return r.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,n){var i=r.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Nc),Hje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xee=function(r){Hje(e,r);function e(t){return r.call(this,t,"ag-date-field","date")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=Hl();this.addManagedListener(this.eInput,"mousedown",function(){t.isDisabled()||n||t.eInput.focus()}),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var n,i=t instanceof Date?(n=us(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.min===i?this:(this.min=i,Al(this.eInput,"min",i),this)},e.prototype.setMax=function(t){var n,i=t instanceof Date?(n=us(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.max===i?this:(this.max=i,Al(this.eInput,"max",i),this)},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,Al(this.eInput,"step",t),this)},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return(t=jo(this.getValue()))!==null&&t!==void 0?t:void 0},e.prototype.setDate=function(t,n){this.setValue(us(t??null,!1),n)},e}(_d),Gje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iee=function(r){Gje(e,r);function e(t){return r.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var t=this.config,n=t.min,i=t.max,o=t.step;n!=null&&this.setMinValue(n),i!=null&&this.setMaxValue(i),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){var i=n.target.value;t.setValue(i)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,n){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var i=r.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},e}(Nc),$je=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Z2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wje=function(r){$je(e,r);function e(t,n){var i=r.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=t,i.wrapperEl=n,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},e.prototype.setState=function(t){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(t));var i=this.populateWithRenderer(t,n);i||this.populateWithoutRenderer(t,n),this.value=t},e.prototype.highlightString=function(t){var n=this.parsedValue;if(!(this.params.cellRenderer||!Ee(n))){var i=Ee(t);if(i){var o=n==null?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){var a=o+t.length,s=oi(n.slice(0,o),!0),l=oi(n.slice(o,a),!0),u=oi(n.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else i=!1}i||this.renderValueWithoutRenderer(n)}},e.prototype.updateHighlighted=function(t){var n,i=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((n=i.parentElement)===null||n===void 0||n.setAttribute("id",o),t){var a=this.getParentComponent().getAriaElement();ZN(a,o),this.wrapperEl.setAttribute("data-active-option",o)}dv(i.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,n){var i=this.gridOptionsService.getDocument(),o=this.getGui(),a=i.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=oi(Ee(n)?n:t,!0);this.parsedValue=Ee(s)?s:null,o.appendChild(a),this.renderValueWithoutRenderer(s)},e.prototype.renderValueWithoutRenderer=function(t){var n=this.getGui().querySelector("span");n&&(n.innerHTML=Ee(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,n){var i=this,o,a;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:n})),a&&(o=a.newAgStackInstance()),o&&yk(o,this.getGui()),o?(o.then(function(s){i.addDestroyFunc(function(){i.getContext().destroyBean(s)})}),!0):!1},e.prototype.onClick=function(){var t=this.getParentComponent(),n={type:W.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t==null||t.dispatchEvent(n)},Z2([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Z2([Fe],e.prototype,"postConstruct",null),e}(jt),zje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gk=function(r){zje(e,r);function e(t){var n=r.call(this,e.getTemplate((t==null?void 0:t.cssIdentifier)||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var i=t||{},o=i.cssIdentifier,a=o===void 0?"default":o,s=i.ariaRole,l=s===void 0?"listbox":s,u=i.listName;return n.cssIdentifier=a,n.ariaRole=l,n.listName=u,n}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)},focusInnerElement:function(n){return t.focusInnerElement(n)},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc(),n=t("ariaDefaultListName",this.listName||"List"),i=this.eContainer;si(i,this.ariaRole),vd(i,n)},e.prototype.addResizeObserver=function(){var t=this,n=function(){return t.animationFrameService.requestAnimationFrame(function(){return t.drawVirtualRows()})},i=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(i)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var n=t.target;n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=TZ(n)-1)},e.prototype.onFocusOut=function(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)},e.prototype.handleKeyDown=function(t){switch(t.key){case le.UP:case le.DOWN:this.navigate(t.key===le.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(Ys(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var n=this.lastFocusedRowIndex+(t?-1:1);return n<0||n>=this.model.getRowCount()?!1:(this.focusRow(n),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var n=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(n.isAlive()){var i=n.renderedRows.get(t);i&&i.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var n=this.renderedRows.get(t);return n&&n.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(n,i){return t(n.rowComponent,i)})},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'.concat(t,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(t,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,n){n===void 0&&(n=!0);var i=this.model.getRowCount();if(typeof t!="number"||t<0||t>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;var o=t*this.rowHeight,a=o+this.rowHeight,s=this.getGui(),l=s.scrollTop,u=s.offsetHeight,c=l+u,d=n?0:this.rowHeight,h=l>o+d,p=c<a-d;if(h)return s.scrollTop=o,!0;if(p){var f=a-u;return s.scrollTop=f,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var n=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height="".concat(i*this.rowHeight,"px"),WN(function(){return n.eContainer.clientHeight>=i*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(t)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(n,i){return t.removeRow(i)})},e.prototype.drawVirtualRows=function(t){if(!(!this.isAlive()||!this.model)){var n=this.getGui(),i=n.scrollTop,o=i+n.offsetHeight,a=Math.floor(i/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(a,s,t)}},e.prototype.ensureRowsRendered=function(t,n,i){var o=this;this.renderedRows.forEach(function(s,l){(l<t||l>n)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),i&&this.refreshRows();for(var a=t;a<=n;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},e.prototype.insertRow=function(t){var n=this,i=this.model.getRow(t),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),si(o,this.ariaRole==="tree"?"treeitem":"option"),JN(o,this.model.getRowCount()),ek(o,t+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*t,"px");var a=this.componentCreator(i,o);a.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=t}),o.appendChild(a.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:a,eDiv:o,value:i})},e.prototype.removeRow=function(t){var n=this.renderedRows.get(t);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,n=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var a,s;if(o>=n)t.removeRow(o);else{var l=t.model.getRow(o);!((s=(a=t.model).areRowsEqual)===null||s===void 0)&&s.call(a,i.value,l)?t.componentUpdater(l,i.rowComponent):t.removeRow(o)}})},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()},{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),r.prototype.destroy.call(this))},tw([k("resizeObserverService")],e.prototype,"resizeObserverService",void 0),tw([k("animationFrameService")],e.prototype,"animationFrameService",void 0),tw([We("eContainer")],e.prototype,"eContainer",void 0),tw([Fe],e.prototype,"postConstruct",null),e}(Dv),Uje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LE=function(){return LE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},LE.apply(this,arguments)},J2=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jje=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Tee=function(r){Uje(e,r);function e(t){var n=this,i,o;n=r.call(this,LE(LE({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=t==null?void 0:t.template)!==null&&i!==void 0?i:jje,modalPicker:!1},t),{maxPickerHeight:(o=t==null?void 0:t.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,n.searchString="",n.highlightedItem=-1,n.lastRowHovered=-1,n.searchStringCreator=null;var a=t||{},s=a.cellRowHeight,l=a.value,u=a.valueList,c=a.searchStringCreator;return s!=null&&(n.cellRowHeight=s),l!==void 0&&(n.value=l),u!=null&&(n.values=u),c&&(n.searchStringCreator=c),n}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,i=n.allowTyping,o=n.placeholder;i?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay,s=a===void 0?300:a;this.clearSearchString=Ia(this.clearSearchString,s),this.renderSelectedValue(),i&&(this.eInput.onValueChange(function(l){return t.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),i=t.createElement("div");i.classList.add("ag-loading-text"),i.innerText=n("loadingOoo","Loading..."),this.eLoading=i},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new Gk({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));var n=function(c,d){};this.listComponent.setComponentUpdater(n),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,W.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){t.onListValueSelected(c.value,c.fromEnterKey)});var i=this.cellRowHeight;i&&this.listComponent.setRowHeight(i);var o=this.listComponent.getGui(),a=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(c){return c.preventDefault()}),o.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());a.setAttribute("id",s);var l=this.localeService.getLocaleTextFunc(),u=l(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);vd(a,u),nk(this.eWrapper,a)},e.prototype.renderSelectedValue=function(){var t=this,n=this,i=n.value,o=n.eDisplayField,a=n.config,s=this.config,l=s.allowTyping,u=s.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(i):i;if(l){this.eInput.setValue(u??c);return}var d;a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:c}));var h;if(d&&(h=d.newAgStackInstance()),h)mi(o),yk(h,o),h.then(function(f){t.addDestroyFunc(function(){return t.getContext().destroyBean(f)})});else if(Ee(this.value))o.innerText=c,o.classList.remove("ag-display-as-placeholder");else{var p=a.placeholder;Ee(p)?(o.innerHTML="".concat(oi(p)),o.classList.add("ag-display-as-placeholder")):mi(o)}},e.prototype.getCurrentValueIndex=function(){var t=this,n=t.currentList,i=t.value;if(i==null||!n)return-1;for(var o=0;o<n.length;o++)if(n[o]===i)return o;return-1},e.prototype.highlightFilterMatch=function(){var t=this,n;(n=this.listComponent)===null||n===void 0||n.forEachRenderedRow(function(i,o){i.highlightString(t.searchString)})},e.prototype.highlightSelectedValue=function(t){var n=this,i;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(o,a){var s=t===-1?!1:n.highlightedItem===a;o.updateHighlighted(s)})},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var n=t.valueList,i=t.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]},areRowsEqual:function(o,a){return o===a}}),i&&(this.values?this.listComponent.refresh(!0):(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){r.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},e.prototype.showCurrentValueInPicker=function(){var t,n;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((t=this.eLoading)===null||t===void 0)&&t.offsetParent&&((n=this.eLoading.parentElement)===null||n===void 0||n.removeChild(this.eLoading));var i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,r.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(){if(this.eInput){var t=this.eInput.getFocusableElement();t.focus(),t.select()}},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var n=t.key;if(n===le.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!I0(t))return;t.preventDefault(),this.searchTextFromCharacter(n)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){t==null&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var n=this.config.valueFormatter,i=n===void 0?function(a){return a}:n,o;return typeof t[0]=="number"||typeof t[0]=="string"?o=t.map(function(a){return i(a)}):typeof t[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(t)),o},e.prototype.getSuggestionsAndFilteredValues=function(t,n){var i=this,o=[],a=[];if(!t.length)return{suggestions:o,filteredValues:a};var s=this.config,l=s.searchType,u=l===void 0?"fuzzy":l,c=s.filterList;if(u==="fuzzy"){var d=ny(this.searchString,n,!0);o=d.values;var h=d.indices;if(c&&h.length)for(var p=0;p<h.length;p++)a.push(this.values[h[p]])}else o=n.filter(function(f,v){var g=f.toLocaleLowerCase(),m=i.searchString.toLocaleLowerCase(),C=u==="match"?g.startsWith(m):g.indexOf(m)!==-1;return c&&C&&a.push(i.values[v]),C});return{suggestions:o,filteredValues:a}},e.prototype.filterListModel=function(t){var n=this.config.filterList;n&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())},e.prototype.runSearch=function(){var t,n,i=this.values,o=this.buildSearchStrings(i);if(!o){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,o),s=a.suggestions,l=a.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,h=u.searchType,p=h===void 0?"fuzzy":h,f=l.length,v=!!(c&&this.searchString!=="");if(this.filterListModel(v?l:i),s.length){var g=v?0:o.indexOf(s[0]);this.selectListItem(g)}else if(this.highlightSelectedValue(-1),!v||f)(t=this.listComponent)===null||t===void 0||t.ensureIndexVisible(0);else if(v){this.getAriaElement().removeAttribute("data-active-option");var m=(n=this.listComponent)===null||n===void 0?void 0:n.getAriaElement();m&&ZN(m,null)}d&&p!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},e.prototype.displayOrHidePicker=function(){var t,n=(t=this.listComponent)===null||t===void 0?void 0:t.getGui(),i=this.currentList?this.currentList.length===0:!1;n==null||n.classList.toggle("ag-hidden",i)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,n){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length)){var i=this.listComponent.ensureIndexVisible(t,!n);i&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}},e.prototype.setValue=function(t,n,i){var o=this.currentList?this.currentList.indexOf(t):-1;return o===-1?this:(this.value=t,i||this.selectListItem(o),this.renderSelectedValue(),r.prototype.setValue.call(this,t,n))},e.prototype.createRowComponent=function(t){var n=new Wje(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(t);var i=this.config,o=i.highlightMatch,a=i.searchType,s=a===void 0?"fuzzy":a;return o&&s!=="fuzzy"&&n.highlightString(this.searchString),n},e.prototype.getRowForMouseEvent=function(t){var n=this.listComponent;if(!n)return-1;var i=n==null?void 0:n.getGui(),o=i.getBoundingClientRect(),a=n.getScrollTop(),s=t.clientY-o.top+a;return Math.floor(s/n.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var n=this.getRowForMouseEvent(t);n!==-1&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0))}},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var i=n===le.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}var o=this.highlightedItem,a=i?1:-1,s=o===-1?0:o+a;this.selectListItem(s)},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,n){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,n),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,n){var i={type:W.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:t};this.dispatchEvent(i)},e.prototype.getFocusableElement=function(){var t=this.config.allowTyping;return t?this.eInput.getFocusableElement():r.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var n=t.key,i=this.config.allowTyping;switch(n){case le.LEFT:case le.RIGHT:case le.PAGE_HOME:case le.PAGE_END:i||t.preventDefault();break;case le.PAGE_UP:case le.PAGE_DOWN:t.preventDefault();break;case le.DOWN:case le.UP:this.onNavigationKeyDown(t,n);break;case le.ESCAPE:this.isPickerDisplayed&&(Na(this.listComponent.getGui())&&(t.preventDefault(),Ys(t)),this.hidePicker());break;case le.ENTER:this.onEnterKeyDown(t);break;case le.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,r.prototype.destroy.call(this)},J2([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),J2([We("eInput")],e.prototype,"eInput",void 0),e}(Tk),Kje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ree=function(r){Kje(e,r);function e(t){var n=r.call(this,t,e.TEMPLATE)||this;return n.labelAlignment="top",n}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var n=this,i=W.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),t(parseFloat(o))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:W.EVENT_FIELD_VALUE_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,rw([We("eLabel")],e.prototype,"eLabel",void 0),rw([We("eSlider")],e.prototype,"eSlider",void 0),rw([We("eText")],e.prototype,"eText",void 0),rw([Fe],e.prototype,"init",null),e}(xk),qje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Oee=function(r){qje(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,e.getTemplate(t))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var i=t.title,o=t.enabled,a=t.items,s=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return n.title=i,n.cssIdentifier=t.cssIdentifier||"default",n.enabled=o??!0,n.items=a||[],n.alignItems=t.alignItems||"center",s!=null&&(n.suppressEnabledCheckbox=s),l!=null&&(n.suppressOpenCloseIcons=l),n}return e.getTemplate=function(t){var n=t.cssIdentifier||"default",i=t.direction||"vertical";return'<div class="ag-group ag-'.concat(n,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(n,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(n,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(n,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(i," ag-").concat(n,`-group-container"></div>
        </div>`)},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Ya("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Ya("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case le.ENTER:case le.SPACE:n.preventDefault(),t.toggleGroupExpand();break;case le.RIGHT:case le.LEFT:n.preventDefault(),t.toggleGroupExpand(n.key===le.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Mu(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Sr(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Sr(this.eGroupOpenedIcon,t&&this.expanded),Sr(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=t;var n="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(n),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Sr(this.eContainer,!0),this):(t=t??!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),Sr(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var n=this;t.forEach(function(i){return n.addItem(i)})},e.prototype.prependItem=function(t){this.insertItem(t,this.eContainer.firstChild)},e.prototype.addItem=function(t){this.insertItem(t,null)},e.prototype.insertItem=function(t,n){var i=this.eContainer,o=t instanceof jt?t.getGui():t;o.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),i.insertBefore(o,n),this.items.push(o)},e.prototype.hideItem=function(t,n){var i=this.items[n];Sr(i,!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,n){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),n||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var n=this;return this.cbGroupEnabled.onValueChange(function(i){n.setEnabled(i,!0),t(i)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",cc([We("eTitleBar")],e.prototype,"eTitleBar",void 0),cc([We("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),cc([We("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),cc([We("eToolbar")],e.prototype,"eToolbar",void 0),cc([We("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),cc([We("eTitle")],e.prototype,"eTitle",void 0),cc([We("eContainer")],e.prototype,"eContainer",void 0),cc([Fe],e.prototype,"postConstruct",null),e}(jt),Yje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dee=function(r){Yje(e,r);function e(t,n){t===void 0&&(t=0);var i=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=t,i.menuItems=[],i.params=n??{column:null,node:null,value:null},i}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)},onFocusIn:function(n){return t.handleFocusIn(n)},onFocusOut:function(n){return t.handleFocusOut(n)}})},e.prototype.onTabKeyDown=function(t){var n=this.getParentComponent(),i=n&&n.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case le.UP:case le.RIGHT:case le.DOWN:case le.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case le.ESCAPE:this.closeIfIsChild()&&Ys(t);break}},e.prototype.handleFocusIn=function(t){var n,i,o=t.relatedTarget;!this.tabGuardCtrl.isTabGuard(o)&&(this.getGui().contains(o)||!((i=(n=this.activeMenuItem)===null||n===void 0?void 0:n.getSubMenuGui())===null||i===void 0)&&i.contains(o))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())},e.prototype.handleFocusOut=function(t){var n,i=t.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||!((n=this.activeMenuItem.getSubMenuGui())===null||n===void 0)&&n.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var n=this;t!=null&&Wo.all(t.map(function(i){return i==="separator"?Wo.resolve({eGui:n.createSeparator()}):typeof i=="string"?(console.warn("AG Grid: unrecognised menu item ".concat(i)),Wo.resolve({eGui:null})):n.addItem(i)})).then(function(i){i.forEach(function(o){o!=null&&o.eGui&&(n.appendChild(o.eGui),o.comp&&n.menuItems.push(o.comp))})})},e.prototype.addItem=function(t){var n=this,i=this.createManagedBean(new Em);return i.init({menuItemDef:t,isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})},level:this.level,contextParams:this.params}).then(function(){return i.setParentComponent(n),n.addManagedListener(i,Em.EVENT_CLOSE_MENU,function(o){n.dispatchEvent(o)}),n.addManagedListener(i,Em.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem}),{comp:i,eGui:i.getGui()}})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(n){return!n.isDisabled()})[0];t&&t.activate()},e.prototype.createSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;return Ko(t)},e.prototype.handleNavKey=function(t){switch(t){case le.UP:case le.DOWN:var n=this.findNextItem(t===le.UP);n&&n!==this.activeMenuItem&&n.activate();return}var i=this.gridOptionsService.get("enableRtl")?le.RIGHT:le.LEFT;t===i?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var n=this.getParentComponent();return n&&n instanceof Em?(t&&t.preventDefault(),n.closeSubMenu(),n.getGui().focus(),!0):!1},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var n=this.menuItems.filter(function(l){return!l.isDisabled()});if(n.length){if(!this.activeMenuItem)return t?Dr(n):n[0];t&&n.reverse();for(var i,o=!1,a=0;a<n.length;a++){var s=n[a];if(!o){s===this.activeMenuItem&&(o=!0);continue}i=s;break}return o&&!i?n[0]:i||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},eK([k("focusService")],e.prototype,"focusService",void 0),eK([Fe],e.prototype,"postConstruct",null),e}(Dv),Xje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Aee=function(r){Xje(e,r);function e(t){var n=r.call(this)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.handleKeyDown=function(t){t.key===le.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},Qje([Fe],e.prototype,"postConstruct",null),e}(Dv),Zje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),o_=function(){return o_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},o_.apply(this,arguments)},DD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Em=function(r){Zje(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isActive=!1,t.subMenuIsOpen=!1,t.subMenuIsOpening=!1,t.suppressRootStyles=!0,t.suppressAria=!0,t.suppressFocus=!0,t}return e.prototype.init=function(t){var n=this,i,o,a=t.menuItemDef,s=t.isAnotherSubMenuOpen,l=t.level,u=t.childComponent,c=t.contextParams;this.params=t.menuItemDef,this.level=l,this.isAnotherSubMenuOpen=s,this.childComponent=u,this.contextParams=c,this.cssClassPrefix=(o=(i=this.params.menuItemParams)===null||i===void 0?void 0:i.cssClassPrefix)!==null&&o!==void 0?o:"ag-menu-option";var d=this.userComponentFactory.getMenuItemCompDetails(this.params,o_(o_({},a),{level:l,isAnotherSubMenuOpen:s,openSubMenu:function(h){return n.openSubMenu(h)},closeSubMenu:function(){return n.closeSubMenu()},closeMenu:function(h){return n.closeMenu(h)},updateTooltip:function(h){return n.updateTooltip(h)},onItemActivated:function(){return n.onItemActivated()}}));return d.newAgStackInstance().then(function(h){var p;n.menuItemComp=h;var f=(p=h.configureDefaults)===null||p===void 0?void 0:p.call(h);f&&n.configureDefaults(f===!0?void 0:f)})},e.prototype.addListeners=function(t,n){var i=this;n!=null&&n.suppressClick||this.addManagedListener(t,"click",function(o){return i.onItemSelected(o)}),n!=null&&n.suppressKeyboardSelect||this.addManagedListener(t,"keydown",function(o){(o.key===le.ENTER||o.key===le.SPACE)&&(o.preventDefault(),i.onItemSelected(o))}),n!=null&&n.suppressMouseDown||this.addManagedListener(t,"mousedown",function(o){o.stopPropagation(),o.preventDefault()}),n!=null&&n.suppressMouseOver||(this.addManagedListener(t,"mouseenter",function(){return i.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return i.onMouseLeave()}))},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this,i,o;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){this.subMenuIsOpening=!0;var a=Ko('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=a;var s,l=function(){n.subMenuIsOpening=!1};if(this.childComponent){var u=this.createBean(new Aee(this.childComponent));u.setParentComponent(this);var c=u.getGui(),d="mouseenter",h=function(){return n.cancelDeactivate()};c.addEventListener(d,h),s=function(){return c.removeEventListener(d,h)},a.appendChild(c),this.childComponent.afterGuiAttached&&(l=function(){n.childComponent.afterGuiAttached(),n.subMenuIsOpening=!1})}else if(this.params.subMenu){var p=this.createBean(new Dee(this.level+1,this.contextParams));p.setParentComponent(this),p.addMenuItems(this.params.subMenu),a.appendChild(p.getGui()),this.addManagedListener(p,e.EVENT_CLOSE_MENU,function(m){return n.dispatchEvent(m)}),p.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),s=function(){return n.destroyBean(p)},t&&(l=function(){p.activateFirstItem(),n.subMenuIsOpening=!1})}var f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:a}),v=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:a,positionCallback:f,anchorToElement:this.eGui,ariaLabel:v("ariaLabelSubMenu","SubMenu"),afterGuiAttached:l});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=function(){var m,C;g&&g.hideFunc(),n.subMenuIsOpen=!1,n.setAriaExpanded(!1),s(),(C=(m=n.menuItemComp).setExpanded)===null||C===void 0||C.call(m,!1),n.eSubMenuGui=void 0},(o=(i=this.menuItemComp).setExpanded)===null||o===void 0||o.call(i,!0)}},e.prototype.setAriaExpanded=function(t){this.suppressAria||Mu(this.eGui,t)},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.isSubMenuOpening=function(){return this.subMenuIsOpening},e.prototype.activate=function(t){var n=this,i,o;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),(o=(i=this.menuItemComp).setActive)===null||o===void 0||o.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),t&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){var t,n;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),(n=(t=this.menuItemComp).setActive)===null||n===void 0||n.call(t,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.getGui=function(){return this.menuItemComp.getGui()},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getSubMenuGui=function(){return this.eSubMenuGui},e.prototype.onItemSelected=function(t){var n=this,i,o;(o=(i=this.menuItemComp).select)===null||o===void 0||o.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(function(){return n.params.action(n.gridOptionsService.addGridCommonParams(o_({},n.contextParams)))}):this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(t)},e.prototype.closeMenu=function(t){var n={type:e.EVENT_CLOSE_MENU,event:t};this.dispatchEvent(n)},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.configureDefaults=function(t){var n=this,i,o,a;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(function(){return n.configureDefaults(t)});return}var s=this.menuItemComp.getGui(),l=(o=(i=this.menuItemComp).getRootElement)===null||o===void 0?void 0:o.call(i);l&&(t!=null&&t.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=l),this.eGui=s,this.suppressRootStyles=!!(t!=null&&t.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(a=this.params.cssClasses)===null||a===void 0||a.forEach(function(u){return s.classList.add(u)}),this.params.disabled&&s.classList.add("".concat(this.cssClassPrefix,"-disabled"))),t!=null&&t.suppressTooltip||this.setTooltip(),this.suppressAria=!!(t!=null&&t.suppressAria),this.suppressAria||(si(s,"treeitem"),AZ(s,this.level+1),this.params.disabled&&QN(s,!0)),t!=null&&t.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,t),this.suppressFocus=!!(t!=null&&t.suppressFocus)},e.prototype.updateTooltip=function(t){this.tooltip=t,!this.tooltipFeature&&this.menuItemComp&&this.setTooltip()},e.prototype.setTooltip=function(){var t=this;this.tooltip&&(this.tooltipFeature=this.createManagedBean(new ay({getGui:function(){return t.getGui()},getTooltipValue:function(){return t.tooltip},getLocation:function(){return"menu"}},this.beans)),this.tooltipFeature.setComp(this.getGui()))},e.EVENT_CLOSE_MENU="closeMenu",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,DD([k("popupService")],e.prototype,"popupService",void 0),DD([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),DD([k("beans")],e.prototype,"beans",void 0),e}(Re),Jje=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Pee=function(r){Jje(e,r);function e(t){var n=r.call(this,e.getTemplate(t))||this;return n.config=t,n.closable=!0,n}return e.getTemplate=function(t){var n=t.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(n,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(n,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(n,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(n,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(n,`-panel-content-wrapper"></div>
        </div>`)},e.prototype.postConstruct=function(){var t=this,n=this.config,i=n.component,o=n.closable,a=n.hideTitleBar,s=n.title,l=n.minWidth,u=l===void 0?250:l,c=n.width,d=n.minHeight,h=d===void 0?250:d,p=n.height,f=n.centered,v=n.popup,g=n.x,m=n.y;this.positionableFeature=new Ek(this.getGui(),{minWidth:u,width:c,minHeight:h,height:p,centered:f,x:g,y:m,popup:v,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var C=this.getGui();i&&this.setBodyComponent(i),a?Sr(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(y){var w=t.gridOptionsService.getDocument();if(C.contains(y.relatedTarget)||C.contains(w.activeElement)||t.eTitleBarButtons.contains(y.target)){y.preventDefault();return}var T=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");T&&T.focus()}),!(v&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new jt(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),o=Yn("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,n){var i=this.eTitleBarButtons,o=i.children,a=o.length;n==null&&(n=a),n=Math.max(0,Math.min(n,a)),t.addCssClass("ag-panel-title-bar-button");var s=t.getGui();n===0?i.insertAdjacentElement("afterbegin",s):n===a?i.insertAdjacentElement("beforeend",s):o[n-1].insertAdjacentElement("afterend",s),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return ty(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return yp(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&Na(t)&&this.close(),r.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',zg([We("eContentWrapper")],e.prototype,"eContentWrapper",void 0),zg([We("eTitleBar")],e.prototype,"eTitleBar",void 0),zg([We("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),zg([We("eTitle")],e.prototype,"eTitle",void 0),zg([Fe],e.prototype,"postConstruct",null),e}(jt),e2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NE=function(){return NE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},NE.apply(this,arguments)},t2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},r2e=function(r){e2e(e,r);function e(t){var n=r.call(this,NE(NE({},t),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=this.config,o=i.movable,a=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(l){n.contains(l.relatedTarget)||t.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},e.prototype.renderComponent=function(){var t=this.getGui(),n=this.config,i=n.alwaysOnTop,o=n.modal,a=n.title,s=n.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:i,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});u&&(this.close=u.hideFunc)},e.prototype.onClosed=function(t){var n,i;this.destroy(),(i=(n=this.config).closedCallback)===null||i===void 0||i.call(n,t)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,i=n.x,o=n.y,a=n.width,s=n.height;this.setWidth(a),this.setHeight(s),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){Sr(this.maximizeIcon,!this.isMaximized),Sr(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var n=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||t===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new jt('<div class="ag-dialog-button"></span>')),n=t.getGui();return this.maximizeIcon=Yn("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Yn("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},t2e([k("popupService")],e.prototype,"popupService",void 0),e}(Pee),n2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kE=function(){return kE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},kE.apply(this,arguments)},Ug=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},rK=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},nK=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xc;(function(r){r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal"})(xc||(xc={}));var i2e=0,Mee=function(r){n2e(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.popupList=[],n}t=e,e.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(i){n.gridCtrl=i.gridCtrl}),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},e.prototype.getPopupParent=function(){var n=this.gridOptionsService.get("popupParent");return n||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(n){var i=n.eventSource,o=n.ePopup,a=this.getPopupIndex(o);if(a!==-1){var s=this.popupList[a];s.alignedToElement=i}var l=i.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,xc.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var h=u.right-u.left,p=h-d,f;this.gridOptionsService.get("enableRtl")?(f=g(),f<0&&(f=v(),this.setAlignedStyles(o,"left")),f>p&&(f=0,this.setAlignedStyles(o,"right"))):(f=v(),f>p&&(f=g(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(f,"px"),o.style.top="".concat(c,"px");function v(){return l.right-u.left-2}function g(){return l.left-u.left-d}},e.prototype.positionPopupUnderMouseEvent=function(n){var i=this,o=n.ePopup,a=n.nudgeX,s=n.nudgeY,l=n.skipObserver;this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return i.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},e.prototype.calculatePointerAlign=function(n){var i=this.getParentRect();return{x:n.clientX-i.left,y:n.clientY-i.top}},e.prototype.positionPopupByComponent=function(n){var i=this,o=n.ePopup,a=n.nudgeX,s=n.nudgeY,l=n.keepWithinBounds,u=n.eventSource,c=n.alignSide,d=c===void 0?"left":c,h=n.position,p=h===void 0?"over":h,f=n.column,v=n.rowNode,g=n.type,m=u.getBoundingClientRect(),C=this.getParentRect(),y=this.getPopupIndex(o);if(y!==-1){var w=this.popupList[y];w.alignedToElement=u}var T=function(){var S=m.left-C.left;d==="right"&&(S-=o.offsetWidth-m.width);var x;if(p==="over")x=m.top-C.top,i.setAlignedStyles(o,"over");else{i.setAlignedStyles(o,"under");var I=i.shouldRenderUnderOrAbove(o,m,C,n.nudgeY||0);I==="under"?x=m.top-C.top+m.height:x=m.top-o.offsetHeight-(s||0)*2-C.top}return{x:S,y:x}};this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:T,postProcessCallback:function(){return i.callPostProcessPopup(g,o,u,null,f,v)}})},e.prototype.shouldRenderUnderOrAbove=function(n,i,o,a){var s=o.bottom-i.bottom,l=i.top-o.top,u=n.offsetHeight+a;return s>u?"under":l>u||l>s?"above":"under"},e.prototype.setAlignedStyles=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var a=this.popupList[o],s=a.alignedToElement;if(s){var l=["right","left","over","above","under"];l.forEach(function(u){s.classList.remove("ag-has-popup-positioned-".concat(u)),n.classList.remove("ag-popup-positioned-".concat(u))}),i&&(s.classList.add("ag-has-popup-positioned-".concat(i)),n.classList.add("ag-popup-positioned-".concat(i)))}}},e.prototype.callPostProcessPopup=function(n,i,o,a,s,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:s,rowNode:l,ePopup:i,type:n,eventSource:o,mouseEvent:a};u(c)}},e.prototype.positionPopup=function(n){var i=this,o=n.ePopup,a=n.keepWithinBounds,s=n.nudgeX,l=n.nudgeY,u=n.skipObserver,c=n.updatePosition,d={width:0,height:0},h=function(f){f===void 0&&(f=!1);var v=c(),g=v.x,m=v.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,s&&(g+=s),l&&(m+=l),a&&(g=i.keepXYWithinBounds(o,g,xc.horizontal),m=i.keepXYWithinBounds(o,m,xc.vertical)),o.style.left="".concat(g,"px"),o.style.top="".concat(m,"px"),n.postProcessCallback&&n.postProcessCallback())};if(h(),!u){var p=this.resizeObserverService.observeResize(o,function(){return h(!0)});setTimeout(function(){return p()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===n.body?i=n.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),fk(i)},e.prototype.keepXYWithinBounds=function(n,i,o){var a=o===xc.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",u=a?"offsetHeight":"offsetWidth",c=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),h=d.documentElement,p=this.getPopupParent(),f=p.getBoundingClientRect(),v=d.documentElement.getBoundingClientRect(),g=p===d.body,m=n[u],C=a?pk:W_,y=g?C(h)+h[c]:p[s];g&&(y-=Math.abs(v[l]-f[l]));var w=y-m;return Math.min(Math.max(i,0),Math.abs(w))},e.prototype.addPopup=function(n){var i=this.gridOptionsService.getDocument(),o=n.eChild,a=n.ariaLabel,s=n.alwaysOnTop,l=n.positionCallback,u=n.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var h=this.createPopupWrapper(o,a,!!s),p=this.addEventListenersToPopup(kE(kE({},n),{wrapperEl:h}));return l&&l(),this.addPopupToPopupList(o,h,p,u),{hideFunc:p}},e.prototype.initialisePopupPosition=function(n){var i=this.getPopupParent(),o=i.getBoundingClientRect();Ee(n.style.top)||(n.style.top="".concat(o.top*-1,"px")),Ee(n.style.left)||(n.style.left="".concat(o.left*-1,"px"))},e.prototype.createPopupWrapper=function(n,i,o){var a,s=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(a=l.classList).add.apply(a,rK([],tK(u),!1)),l.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||si(n,"dialog"),vd(n,i),l.appendChild(n),s.appendChild(l),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),l},e.prototype.handleThemeChange=function(){var n,i,o,a,s,l=this.environment.getTheme().allThemes;try{for(var u=nK(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var h=(o=void 0,nK(Array.from(d.wrapper.classList))),p=h.next();!p.done;p=h.next()){var f=p.value;f.startsWith("ag-theme-")&&d.wrapper.classList.remove(f)}}catch(v){o={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}l.length&&(s=d.wrapper.classList).add.apply(s,rK([],tK(l),!1))}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}},e.prototype.addEventListenersToPopup=function(n){var i=this,o=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=n.wrapperEl,l=n.eChild;n.click;var u=n.closedCallback,c=n.afterGuiAttached,d=n.closeOnEsc,h=n.modal,p=!1,f=function(C){if(s.contains(o.activeElement)){var y=C.key;y===le.ESCAPE&&!Ws(C)&&m({keyboardEvent:C})}},v=function(C){return m({mouseEvent:C})},g=function(C){return m({touchEvent:C})},m=function(C){C===void 0&&(C={});var y=C.mouseEvent,w=C.touchEvent,T=C.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:y,touchEvent:w},l)||p||(p=!0,a.removeChild(s),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",v),o.removeEventListener("touchstart",g),o.removeEventListener("contextmenu",v),i.eventService.removeEventListener(W.EVENT_DRAG_STARTED,v),u&&u(y||w||T),i.removePopupFromPopupList(l))};return c&&c({hidePopup:m}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),h&&(o.addEventListener("mousedown",v),i.eventService.addEventListener(W.EVENT_DRAG_STARTED,v),o.addEventListener("touchstart",g),o.addEventListener("contextmenu",v))},0),m},e.prototype.addPopupToPopupList=function(n,i,o,a){this.popupList.push({element:n,wrapper:i,hideFunc:o,instanceId:i2e++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(n,a)},e.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(i){return i.element===n})},e.prototype.setPopupPositionRelatedToElement=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var a=this.popupList[o];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,!!i){var s=this.keepPopupPositionedRelativeTo({element:i,ePopup:n,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},e.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(i){return i.element!==n})},e.prototype.keepPopupPositionedRelativeTo=function(n){var i=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=n.element,l=n.ePopup,u=s.getBoundingClientRect(),c=a.top-u.top,d=a.left-u.left,h=c,p=d,f=l.style.top,v=parseInt(f.substring(0,f.length-1),10),g=l.style.left,m=parseInt(g.substring(0,g.length-1),10);return new Wo(function(C){i.getFrameworkOverrides().setInterval(function(){var y=o.getBoundingClientRect(),w=s.getBoundingClientRect(),T=w.top==0&&w.left==0&&w.height==0&&w.width==0;if(T){n.hidePopup();return}var S=y.top-w.top;if(S!=h){var x=i.keepXYWithinBounds(l,v+c-S,xc.vertical);l.style.top="".concat(x,"px")}h=S;var I=y.left-w.left;if(I!=p){var R=i.keepXYWithinBounds(l,m+d-I,xc.horizontal);l.style.left="".concat(R,"px")}p=I},200).then(function(y){var w=function(){y!=null&&window.clearInterval(y)};C(w)})})},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},e.prototype.isEventFromCurrentPopup=function(n,i){var o=n.mouseEvent,a=n.touchEvent,s=o||a;if(!s)return!1;var l=this.getPopupIndex(i);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(wE(c.element,s))return!0}return this.isElementWithinCustomPopup(s.target)},e.prototype.isElementWithinCustomPopup=function(n){for(var i=this.gridOptionsService.getDocument();n&&n!==i.body;){if(n.classList.contains("ag-custom-component-popup")||n.parentElement===null)return!0;n=n.parentElement}return!1},e.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},e.prototype.setAlwaysOnTop=function(n,i){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},e.prototype.bringPopupToFront=function(n){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,u=this.getWrapper(n);if(!(!u||a<=1||!i.contains(n))){var c=o.indexOf(u),d=u.querySelectorAll("div"),h=[];if(d.forEach(function(g){g.scrollTop!==0&&h.push([g,g.scrollTop])}),l){var p=u.classList.contains("ag-always-on-top");p?c!==a-1&&Dr(s).insertAdjacentElement("afterend",u):c!==a-l-1&&s[0].insertAdjacentElement("beforebegin",u)}else c!==a-1&&Dr(o).insertAdjacentElement("afterend",u);for(;h.length;){var f=h.pop();f[0].scrollTop=f[1]}var v={type:"popupToFront",eWrapper:u};this.eventService.dispatchEvent(v)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Ug([k("focusService")],e.prototype,"focusService",void 0),Ug([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Ug([k("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ug([Fe],e.prototype,"postConstruct",null),e=t=Ug([et("popupService")],e),e}(Re),o2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a2e=function(r){o2e(e,r);function e(){var t=r.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return t.hasHighlighting=!1,t}return e.prototype.setState=function(t,n){this.value=t,this.render(),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var n,i=!1;if(Ee(t)){var o=(n=this.value)===null||n===void 0?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var a=o+t.length,s=oi(this.value.slice(0,o)),l=oi(this.value.slice(o,a)),u=oi(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(u)}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=(t=oi(this.value))!==null&&t!==void 0?t:"&nbsp;"},e}(jt),s2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},l2e=function(r){s2e(e,r);function e(t){var n=r.call(this,e.TEMPLATE)||this;return n.params=t,n.searchString="",n}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Gk({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(i){return t.autocompleteEntries[i]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return t.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue),o=n===le.UP?i-1:i+1;this.checkSetSelectedValue(o)},e.prototype.setSearch=function(t){this.searchString=t,Ee(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,n){var i,o=!1,a=t.toLocaleLowerCase(),s=n.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(a),d=c===0,h=c>=0;return h&&(!i||!o&&d||o===d&&l.length<i.length)&&(i=l,o=d),h});return!i&&s.length&&(i=s[0]),{topMatch:i,allMatches:s}},e.prototype.runSearch=function(){var t,n,i=this.params.autocompleteEntries,o=i.map(function(d){var h;return(h=d.displayValue)!==null&&h!==void 0?h:d.key}),a,s;if(this.params.useFuzzySearch)a=ny(this.searchString,o,!0).values,s=a.length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);a=l.allMatches,s=l.topMatch}var u=i.filter(function(d){var h=d.key,p=d.displayValue;return a.includes(p??h)});if(!u.length&&this.selectedValue&&(!((n=(t=this.params)===null||t===void 0?void 0:t.forceLastSelection)===null||n===void 0)&&n.call(t,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!s){var c=a.indexOf(s);this.checkSetSelectedValue(c)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(t.searchString)})},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var n=this.autocompleteEntries[t];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(t===o)}))},e.prototype.createRowComponent=function(t){var n,i=new a2e;return this.getContext().createBean(i),i.setState((n=t.displayValue)!==null&&n!==void 0?n:t.key,t===this.selectedValue),i},e.prototype.onMouseMove=function(t){var n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=t.clientY-n.top+i,a=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!==null&&t!==void 0?t:null},e.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,iK([We("eList")],e.prototype,"eList",void 0),iK([Fe],e.prototype,"init",null),e}(Cd),u2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fee=function(r){u2e(e,r);function e(){var t=r.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange(function(n){return t.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){t.destroyBean(t.autocompleteList)}),this.addGuiEventListener("focusout",function(){return t.onFocusOut()})},e.prototype.onValueChanged=function(t){var n=Dl(t);this.updateValue(n),this.updateAutocompleteList(n)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var n,i,o,a,s=(i=(n=this.listGenerator)===null||n===void 0?void 0:n.call(this,t,this.lastPosition))!==null&&i!==void 0?i:{enabled:!1};if((!s.type||s.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((a=this.autocompleteListParams)===null||a===void 0)&&a.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var n=this,i=t.key;switch(this.updateLastPosition(),i){case le.ENTER:this.onEnterKeyDown(t);break;case le.TAB:this.onTabKeyDown(t);break;case le.DOWN:case le.UP:this.onUpDownKeyDown(t,i);break;case le.LEFT:case le.RIGHT:case le.PAGE_HOME:case le.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case le.ESCAPE:this.onEscapeKeyDown(t);break;case le.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}},e.prototype.confirmSelection=function(){var t,n=(t=this.autocompleteList)===null||t===void 0?void 0:t.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,n){var i;t.preventDefault(),this.isListOpen?(i=this.autocompleteList)===null||i===void 0||i.onNavigationKeyDown(t,n):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!==null&&t!==void 0?t:null)},e.prototype.setCaret=function(t,n){var i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(t,t),t===o.value.length&&(o.scrollLeft=o.scrollWidth)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&t!==void 0?t:0},e.prototype.validate=function(t){var n;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((n=this.validationMessage)!==null&&n!==void 0?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new l2e({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),i={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return Dl(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var n=t.value,i=t.position,o=t.silent,a=t.updateListOnlyIfOpen,s=t.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,s),o||this.updateValue(n),(!a||this.isListOpen)&&this.updateAutocompleteList(n)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",AD([k("popupService")],e.prototype,"popupService",void 0),AD([We("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),AD([Fe],e.prototype,"postConstruct",null),e}(jt),c2e=["touchstart","touchend","touchmove","touchcancel"],Lee=function(){function r(e){e===void 0&&(e="javascript"),this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=function(t){return t()},this.wrapOutgoing=function(t){return t()}}return r.prototype.setInterval=function(e,t){return new Wo(function(n){n(window.setInterval(e,t))})},r.prototype.addEventListener=function(e,t,n,i){var o=$s(c2e,t);e.addEventListener(t,n,{capture:!!i,passive:o})},Object.defineProperty(r.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.frameworkComponent=function(e){return null},r.prototype.isFrameworkComponent=function(e){return!1},r.prototype.getDocLink=function(e){var t=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(t,"-data-grid").concat(e?"/".concat(e):"")},r}(),d2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},h2e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},p2e=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Nee=function(r){d2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,n,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(t,n):this.getNextCellToFocusWithoutCtrlPressed(t,n)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,n){var i=t===le.UP,o=t===le.DOWN,a=t===le.LEFT,s,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=n.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=n.rowIndex,s=a!==c?u[0]:Dr(u)}return{rowIndex:l,rowPinned:null,column:s}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,n){for(var i=n,o=!1;!o;){switch(t){case le.UP:i=this.getCellAbove(i);break;case le.DOWN:i=this.getCellBelow(i);break;case le.RIGHT:this.gridOptionsService.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case le.LEFT:this.gridOptionsService.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+t);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},e.prototype.isCellGoodToFocusOn=function(t){var n=t.column,i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}if(!i)return!1;var o=n.isSuppressNavigable(i);return!o},e.prototype.getCellToLeft=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColBefore(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColAfter(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var n=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(o);return a||{rowIndex:n+1,rowPinned:i}},e.prototype.getNextStickyPosition=function(t,n){if(!(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)){var i=p2e([],h2e(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=n?-1:1,a=i.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),s=i[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var n=t.rowPinned,i=t.rowIndex;if(n==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(n==="bottom"){var a=this.pinnedRowModel.getPinnedBottomRowData().length-1;return a<=i}var s=this.paginationProxy.getPageLastRow();return s<=i},e.prototype.getRowAbove=function(t){var n=t.rowIndex,i=t.rowPinned,o=i?n===0:n===this.paginationProxy.getPageFirstRow();if(o)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(a,!0);return s||{rowIndex:n-1,rowPinned:i}},e.prototype.getCellAbove=function(t){if(!t)return null;var n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,n){return n?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,a=this.columnModel.getDisplayedColAfter(t.column);if(!a){a=n[0];var s=this.getRowBelow(t);if(At(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,a=this.columnModel.getDisplayedColBefore(t.column);if(!a){a=Dr(n);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(At(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},Yp([k("columnModel")],e.prototype,"columnModel",void 0),Yp([k("rowModel")],e.prototype,"rowModel",void 0),Yp([k("rowRenderer")],e.prototype,"rowRenderer",void 0),Yp([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Yp([k("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Yp([et("cellNavigationService")],e),e}(Re),f2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},v2e=function(r,e){return function(t,n){e(t,n,r)}},kee=function(r){f2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.getAlignedGridApis=function(){var t=this,n,i=(n=this.gridOptionsService.get("alignedGrids"))!==null&&n!==void 0?n:[],o=typeof i=="function";typeof i=="function"&&(i=i());var a=function(){return"See ".concat(t.getFrameworkOverrides().getDocLink("aligned-grids"))},s=i.map(function(l){var u;if(!l){Hs("alignedGrids contains an undefined option."),o||Hs(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Hs(a());return}if(l instanceof Fk)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||Hs("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return s},e.prototype.init=function(){this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){this.consuming||this.getAlignedGridApis().forEach(function(n){var i=n.__getAlignedGridService();t(i)})},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(n){n.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(n){n.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var n=this;this.onEvent(function(){var i=n.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(t.left,!0)})},e.prototype.getMasterColumns=function(t){var n=[];return t.columns?t.columns.forEach(function(i){n.push(i)}):t.column&&n.push(t.column),n},e.prototype.getColumnIds=function(t){var n=[];return t.columns?t.columns.forEach(function(i){n.push(i.getColId())}):t.column&&n.push(t.column.getColId()),n},e.prototype.onColumnEvent=function(t){var n=this;this.onEvent(function(){switch(t.type){case W.EVENT_COLUMN_MOVED:case W.EVENT_COLUMN_VISIBLE:case W.EVENT_COLUMN_PINNED:case W.EVENT_COLUMN_RESIZED:var i=t;n.processColumnEvent(i);break;case W.EVENT_COLUMN_GROUP_OPENED:var o=t;n.processGroupOpenedEvent(o);break;case W.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(t){var n=this;t.columnGroups.forEach(function(i){var o=null;if(i){var a=i.getGroupId();o=n.columnModel.getProvidedColumnGroup(a)}i&&!o||(n.logger.log("onColumnEvent-> processing "+t+" expanded = "+i.isExpanded()),n.columnModel.setColumnGroupOpened(o,i.isExpanded(),"alignedGridChanged"))})},e.prototype.processColumnEvent=function(t){var n=this,i,o=t.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!a)){var s=this.getMasterColumns(t);switch(t.type){case W.EVENT_COLUMN_MOVED:{var l=t,u=t.api.getColumnState(),c=u.map(function(m){return{colId:m.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," toIndex = ").concat(l.toIndex))}break;case W.EVENT_COLUMN_VISIBLE:{var d=t,u=t.api.getColumnState(),c=u.map(function(y){return{colId:y.colId,hide:y.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," visible = ").concat(d.visible))}break;case W.EVENT_COLUMN_PINNED:{var h=t,u=t.api.getColumnState(),c=u.map(function(y){return{colId:y.colId,pinned:y.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," pinned = ").concat(h.pinned))}break;case W.EVENT_COLUMN_RESIZED:var p=t,f={};s.forEach(function(m){n.logger.log("onColumnEvent-> processing ".concat(t.type," actualWidth = ").concat(m.getActualWidth())),f[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(i=p.flexColumns)===null||i===void 0||i.forEach(function(m){f[m.getId()]&&delete f[m.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged");break}var v=this.ctrlsService.getGridBodyCtrl(),g=v.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(m){m.setGridOption("alwaysShowVerticalScroll",g)})}},jg([k("columnModel")],e.prototype,"columnModel",void 0),jg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),jg([v2e(0,Ta("loggerFactory"))],e.prototype,"setBeans",null),jg([Fe],e.prototype,"init",null),e=jg([et("alignedGridsService")],e),e}(Re),g2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Vee=function(r){g2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.selectedNodes=new Map,t.lastRowNode=null,t}return e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){t.groupSelectsChildren=t.gridOptionsService.get("groupSelectsChildren"),t.rowSelection=t.gridOptionsService.get("rowSelection"),t.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,W.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},e.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},e.prototype.setNodesSelected=function(t){var n,i=t.newValue,o=t.clearSelection,a=t.suppressFinishActions,s=t.rangeSelect,l=t.nodes,u=t.event,c=t.source,d=c===void 0?"api":c;if(l.length===0)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var h=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,p=l.map(function(I){return I.footer?I.sibling:I});if(s){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=null;if(d==="checkboxSelected"&&i===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){var v=p[0],g=v!==f;if(g&&this.isMultiselect())return this.selectRange(v,f,i,d)}}this.lastRowNode=i?null:p[0];for(var m=0,C=0;C<p.length;C++){var y=p[C],w=h&&y.group;if(!w){var T=y.selectThisNode(i,u,d);T&&m++}this.groupSelectsChildren&&(!((n=y.childrenAfterGroup)===null||n===void 0)&&n.length)&&(m+=this.selectChildren(y,i,h,d))}if(!a){var S=i&&(o||!this.isMultiselect());if(S&&(m+=this.clearOtherNodes(p[0],d)),m>0){this.updateGroupsFromChildrenSelections(d);var x={type:W.EVENT_SELECTION_CHANGED,source:d};this.eventService.dispatchEvent(x)}}return m},e.prototype.selectRange=function(t,n,i,o){var a=this;i===void 0&&(i=!0);var s=this.rowModel.getNodesInRangeForSelection(t,n),l=0;s.forEach(function(c){if(!(c.group&&a.groupSelectsChildren)){var d=c.selectThisNode(i,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:W.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},e.prototype.selectChildren=function(t,n,i,o){var a=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return At(a)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:a})},e.prototype.getLastSelectedNode=function(){var t=Array.from(this.selectedNodes.keys());if(t.length==0)return null;var n=this.selectedNodes.get(Dr(t));return n||null},e.prototype.getSelectedNodes=function(){var t=[];return this.selectedNodes.forEach(function(n){n&&t.push(n)}),t},e.prototype.getSelectedRows=function(){var t=[];return this.selectedNodes.forEach(function(n){n&&n.data&&t.push(n.data)}),t},e.prototype.getSelectionCount=function(){return this.selectedNodes.size},e.prototype.filterFromSelection=function(t){var n=new Map;this.selectedNodes.forEach(function(i,o){var a=i&&t(i);a&&n.set(o,i)}),this.selectedNodes=n},e.prototype.updateGroupsFromChildrenSelections=function(t,n){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var i=this.rowModel,o=i.getRootNode();n||(n=new uy(!0,o),n.setInactive());var a=!1;return n.forEachChangedNodeDepthFirst(function(s){if(s!==o){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(l===null?!1:l,void 0,t)||a}}),a},e.prototype.clearOtherNodes=function(t,n){var i=this,o=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==t.id){var l=i.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),i.groupSelectsChildren&&s.parent&&o.set(s.parent.id,s.parent)}}),o.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(l===null?!1:l,void 0,n)}),a},e.prototype.onRowSelected=function(t){var n=t.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes.set(n.id,n):this.selectedNodes.delete(n.id))},e.prototype.syncInRowNode=function(t,n){this.syncInOldRowNode(t,n),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,n){var i=Ee(n)&&t.id!==n.id;if(i&&n){var o=n.id,a=this.selectedNodes.get(o)==t;a&&this.selectedNodes.set(n.id,n)}},e.prototype.syncInNewRowNode=function(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)},e.prototype.reset=function(t){var n=this.getSelectionCount();if(this.resetNodes(),n){var i={type:W.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}},e.prototype.resetNodes=function(){var t;(t=this.selectedNodes)===null||t===void 0||t.clear()},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var t=this.rowModel,n=t.getTopLevelNodes();if(n===null)return;var i=[];function o(a){for(var s=0,l=a.length;s<l;s++){var u=a[s];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(n),i},e.prototype.isEmpty=function(){var t=0;return this.selectedNodes.forEach(function(n){n&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){var n=function(u){return u.selectThisNode(!1,void 0,o)},i=this.rowModel.getType()==="clientSide",o=t.source,a=t.justFiltered,s=t.justCurrentPage;if(s||a){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(a,s).forEach(n)}else this.selectedNodes.forEach(function(u){u&&n(u)}),this.reset(o);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:W.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},e.prototype.getSelectedCounts=function(t,n){var i=this,o=0,a=0,s=function(l){i.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&a++)};return this.getNodesToSelect(t,n).forEach(s),{selectedCount:o,notSelectedCount:a}},e.prototype.getSelectAllState=function(t,n){var i=this.getSelectedCounts(t,n),o=i.selectedCount,a=i.notSelectedCount;return o===0&&a===0?!1:o>0&&a>0?null:o>0},e.prototype.hasNodesToSelect=function(t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),this.getNodesToSelect(t,n).filter(function(i){return i.selectable}).length>0},e.prototype.getNodesToSelect=function(t,n){var i=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(s){if(!s.group){o.push(s);return}if(!s.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(s);return}i.groupSelectsChildren||o.push(s)}),o;var a=this.rowModel;return t?(a.forEachNodeAfterFilter(function(s){o.push(s)}),o):(a.forEachNode(function(s){o.push(s)}),o)},e.prototype.selectAllRowNodes=function(t){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var n=t.source,i=t.justFiltered,o=t.justCurrentPage,a=function(l){return l.selectThisNode(!0,void 0,n)};this.getNodesToSelect(i,o).forEach(a),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);var s={type:W.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(s)},e.prototype.getSelectionState=function(){var t=[];return this.selectedNodes.forEach(function(n){n!=null&&n.id&&t.push(n.id)}),t.length?t:null},e.prototype.setSelectionState=function(t,n){if(Array.isArray(t)){var i=new Set(t),o=[];this.rowModel.forEachNode(function(a){i.has(a.id)&&o.push(a)}),this.setNodesSelected({newValue:!0,nodes:o,source:n})}},nw([k("rowModel")],e.prototype,"rowModel",void 0),nw([k("paginationProxy")],e.prototype,"paginationProxy",void 0),nw([Fe],e.prototype,"init",null),e=nw([et("selectionService")],e),e}(Re),oK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},m2e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},_2e=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},M0=function(){function r(e){var t=this;this.viaApi=function(n){for(var i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return Tt("Since v31, 'columnApi.".concat(n,"' is deprecated and moved to 'api.").concat(n,"'.")),(i=t.api)[n].apply(i,_2e([],m2e(o),!1))},this.api=e}return r.prototype.sizeColumnsToFit=function(e){this.viaApi("sizeColumnsToFit",e)},r.prototype.setColumnGroupOpened=function(e,t){this.viaApi("setColumnGroupOpened",e,t)},r.prototype.getColumnGroup=function(e,t){return this.viaApi("getColumnGroup",e,t)},r.prototype.getProvidedColumnGroup=function(e){return this.viaApi("getProvidedColumnGroup",e)},r.prototype.getDisplayNameForColumn=function(e,t){return this.viaApi("getDisplayNameForColumn",e,t)},r.prototype.getDisplayNameForColumnGroup=function(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)},r.prototype.getColumn=function(e){return this.viaApi("getColumn",e)},r.prototype.getColumns=function(){return this.viaApi("getColumns")},r.prototype.applyColumnState=function(e){return this.viaApi("applyColumnState",e)},r.prototype.getColumnState=function(){return this.viaApi("getColumnState")},r.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},r.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},r.prototype.setColumnGroupState=function(e){this.viaApi("setColumnGroupState",e)},r.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},r.prototype.isPinning=function(){return this.viaApi("isPinning")},r.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},r.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},r.prototype.getDisplayedColAfter=function(e){return this.viaApi("getDisplayedColAfter",e)},r.prototype.getDisplayedColBefore=function(e){return this.viaApi("getDisplayedColBefore",e)},r.prototype.setColumnVisible=function(e,t){this.viaApi("setColumnVisible",e,t)},r.prototype.setColumnsVisible=function(e,t){this.viaApi("setColumnsVisible",e,t)},r.prototype.setColumnPinned=function(e,t){this.viaApi("setColumnPinned",e,t)},r.prototype.setColumnsPinned=function(e,t){this.viaApi("setColumnsPinned",e,t)},r.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},r.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},r.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},r.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},r.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},r.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},r.prototype.moveColumn=function(e,t){this.viaApi("moveColumn",e,t)},r.prototype.moveColumnByIndex=function(e,t){this.viaApi("moveColumnByIndex",e,t)},r.prototype.moveColumns=function(e,t){this.viaApi("moveColumns",e,t)},r.prototype.moveRowGroupColumn=function(e,t){this.viaApi("moveRowGroupColumn",e,t)},r.prototype.setColumnAggFunc=function(e,t){this.viaApi("setColumnAggFunc",e,t)},r.prototype.setColumnWidth=function(e,t,n,i){n===void 0&&(n=!0),this.viaApi("setColumnWidth",e,t,n,i)},r.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),this.viaApi("setColumnWidths",e,t,n)},r.prototype.setPivotMode=function(e){this.viaApi("setPivotMode",e)},r.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},r.prototype.getPivotResultColumn=function(e,t){return this.viaApi("getPivotResultColumn",e,t)},r.prototype.setValueColumns=function(e){this.viaApi("setValueColumns",e)},r.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},r.prototype.removeValueColumn=function(e){this.viaApi("removeValueColumn",e)},r.prototype.removeValueColumns=function(e){this.viaApi("removeValueColumns",e)},r.prototype.addValueColumn=function(e){this.viaApi("addValueColumn",e)},r.prototype.addValueColumns=function(e){this.viaApi("addValueColumns",e)},r.prototype.setRowGroupColumns=function(e){this.viaApi("setRowGroupColumns",e)},r.prototype.removeRowGroupColumn=function(e){this.viaApi("removeRowGroupColumn",e)},r.prototype.removeRowGroupColumns=function(e){this.viaApi("removeRowGroupColumns",e)},r.prototype.addRowGroupColumn=function(e){this.viaApi("addRowGroupColumn",e)},r.prototype.addRowGroupColumns=function(e){this.viaApi("addRowGroupColumns",e)},r.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},r.prototype.setPivotColumns=function(e){this.viaApi("setPivotColumns",e)},r.prototype.removePivotColumn=function(e){this.viaApi("removePivotColumn",e)},r.prototype.removePivotColumns=function(e){this.viaApi("removePivotColumns",e)},r.prototype.addPivotColumn=function(e){this.viaApi("addPivotColumn",e)},r.prototype.addPivotColumns=function(e){this.viaApi("addPivotColumns",e)},r.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},r.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},r.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},r.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},r.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},r.prototype.autoSizeColumn=function(e,t){return this.viaApi("autoSizeColumn",e,t)},r.prototype.autoSizeColumns=function(e,t){this.viaApi("autoSizeColumns",e,t)},r.prototype.autoSizeAllColumns=function(e){this.viaApi("autoSizeAllColumns",e)},r.prototype.setPivotResultColumns=function(e){this.viaApi("setPivotResultColumns",e)},r.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},oK([k("gridApi")],r.prototype,"api",void 0),r=oK([et("columnApi")],r),r}(),C2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Bee=function(r){C2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var n=function(o){return t.callColumnCellValueChangedHandler(o)},i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(W.EVENT_CELL_VALUE_CHANGED,n,i),this.addDestroyFunc(function(){return t.eventService.removeEventListener(W.EVENT_CELL_VALUE_CHANGED,n,i)}),this.addManagedPropertyListener("treeData",function(o){return t.isTreeData=o.currentValue})},e.prototype.getValue=function(t,n,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!n){var a=t.getColDef(),s=a.field,l=t.getColId(),u=n.data,c,d=n.groupData&&n.groupData[l]!==void 0,h=!o&&n.aggData&&n.aggData[l]!==void 0,p=this.isSsrm&&o&&!!t.getColDef().aggFunc,f=this.isSsrm&&n.footer&&n.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===n.field);if(i&&a.filterValueGetter?c=this.executeFilterValueGetter(a.filterValueGetter,u,t,n):this.isTreeData&&h?c=n.aggData[l]:this.isTreeData&&a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,t,n):this.isTreeData&&s&&u?c=Wf(u,s,t.isFieldContainsDots()):d?c=n.groupData[l]:h?c=n.aggData[l]:a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,t,n):f?c=Wf(u,n.field,t.isFieldContainsDots()):s&&u&&!p&&(c=Wf(u,s,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var v=c.substring(1);c=this.executeValueGetter(v,u,t,n)}if(c==null){var g=this.getOpenedGroup(n,t);if(g!=null)return g}return c}},e.prototype.getOpenedGroup=function(t,n){if(this.gridOptionsService.get("showOpenedGroup")){var i=n.getColDef();if(i.showRowGroup)for(var o=n.getColDef().showRowGroup,a=t.parent;a!=null;){if(a.rowGroupColumn&&(o===!0||o===a.rowGroupColumn.getColId()))return a.key;a=a.parent}}},e.prototype.setValue=function(t,n,i,o){var a=this.columnModel.getPrimaryColumn(n);if(!t||!a)return!1;At(t.data)&&(t.data={});var s=a.getColDef(),l=s.field,u=s.valueSetter;if(At(l)&&At(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(a,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(a,t),newValue:i,colDef:a.getColDef(),column:a});c.newValue=i;var d;if(Ee(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(t.data,l,i,a.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(a,t);var h={type:W.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(h),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var n=t.colDef.onCellValueChanged;typeof n=="function"&&this.getFrameworkOverrides().wrapOutgoing(function(){n({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})})},e.prototype.setValueUsingField=function(t,n,i,o){if(!n)return!1;var a=!1;if(!o)a=t[n]===i,a||(t[n]=i);else for(var s=n.split("."),l=t;s.length>0&&l;){var u=s.shift();s.length===0?(a=l[u]===i,a||(l[u]=i)):l=l[u]}return!a},e.prototype.executeFilterValueGetter=function(t,n,i,o){var a=this.gridOptionsService.addGridCommonParams({data:n,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof t=="function"?t(a):this.expressionService.evaluate(t,a)},e.prototype.executeValueGetter=function(t,n,i,o){var a=i.getColId(),s=this.valueCache.getValue(o,a);if(s!==void 0)return s;var l=this.gridOptionsService.addGridCommonParams({data:n,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)}),u;return typeof t=="function"?u=t(l):u=this.expressionService.evaluate(t,l),this.valueCache.setValue(o,a,u),u},e.prototype.getValueCallback=function(t,n){var i=this.columnModel.getPrimaryColumn(n);return i?this.getValue(i,t):null},e.prototype.getKeyForNode=function(t,n){var i=this.getValue(t,n),o=t.getColDef().keyCreator,a=i;if(o){var s=this.gridOptionsService.addGridCommonParams({value:i,colDef:t.getColDef(),column:t,node:n,data:n.data});a=o(s)}return typeof a=="string"||a==null||(a=String(a),a==="[object Object]"&&Tt("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),a},Xp([k("expressionService")],e.prototype,"expressionService",void 0),Xp([k("columnModel")],e.prototype,"columnModel",void 0),Xp([k("valueCache")],e.prototype,"valueCache",void 0),Xp([k("dataTypeService")],e.prototype,"dataTypeService",void 0),Xp([Fe],e.prototype,"init",null),e=Xp([et("valueService")],e),e}(Re),y2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},S2e=function(r,e){return function(t,n){e(t,n,r)}},Hee=function(r){y2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,n){if(typeof t=="string")return this.evaluateExpression(t,n);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,n){try{var i=this.createExpressionFunction(t),o=i(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup);return o}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",n),console.log("Exception = "+a),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var n=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[t]=i,i},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},aK([S2e(0,Ta("loggerFactory"))],e.prototype,"setBeans",null),e=aK([et("expressionService")],e),e}(Re),w2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),b2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gee=function(r){w2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,n){var i=this.templateCache[t];if(i)return i;var o=this.waitingCallbacks[t],a=this;if(!o){o=[],this.waitingCallbacks[t]=o;var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,t)},s.open("GET",t),s.send()}return n&&o.push(n),null},e.prototype.handleHttpResult=function(t,n){if(t.status!==200||t.response===null){console.warn("AG Grid: Unable to get template error ".concat(t.status," - ").concat(n));return}this.templateCache[n]=t.response||t.responseText;for(var i=this.waitingCallbacks[n],o=0;o<i.length;o++){var a=i[o];a()}},e=b2e([et("templateService")],e),e}(Re),E2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},x2e=function(r,e){return function(t,n){e(t,n,r)}},$ee=function(r){E2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.get("debug")},e.prototype.create=function(t){return new F0(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},sK([x2e(0,Ta("gridOptionsService"))],e.prototype,"setBeans",null),e=sK([et("loggerFactory")],e),e}(Re),F0=function(){function r(e,t){this.name=e,this.isLoggingFunc=t}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},r}(),I2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wee=function(r){I2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,i){var o=this;this.view=t,this.eGridHostDiv=n,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===fo.HeaderCell||s===fo.ToolPanel},getIconName:function(){return ri.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new Nk(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,n=this.focusService.findTabbableParent(this.getGui());return((t=n==null?void 0:n.getAttribute("row-id"))===null||t===void 0?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return Nr.__isRegistered(Ct.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return Nr.__isRegistered(Ct.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return Nr.__isRegistered(Ct.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return Nr.__isRegistered(Ct.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:W.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var n=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(s){return s.contains(n.activeElement)}),a=o+(t?-1:1);return a<=0||a>=i.length?!1:this.focusService.focusInto(i[a])},e.prototype.focusInnerElement=function(t){var n=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(t){if(n.length>1)return this.focusService.focusInto(Dr(n),!0);var o=Dr(i);if(this.focusService.focusGridView(o,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(var a=1;a<n.length;a++)if(this.focusService.focusInto(n[a]))return!0;return!1}return this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},Qp([k("focusService")],e.prototype,"focusService",void 0),Qp([k("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Qp([k("columnModel")],e.prototype,"columnModel",void 0),Qp([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Qp([k("mouseEventService")],e.prototype,"mouseEventService",void 0),Qp([k("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(Re),T2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$k=function(r){T2e(e,r);function e(t){var n=r.call(this)||this;return n.eGridDiv=t,n}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(o){return t.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){t.getGui().style.userSelect=o??"",t.getGui().style.webkitUserSelect=o??""},setCursor:function(o){t.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new Wee);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return t.ctrl.focusInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0})},e.prototype.insertGridIntoDom=function(){var t=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){t.eGridDiv.removeChild(n),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,n){var i=this.eRootWrapperBody.classList;i.toggle(qn.AUTO_HEIGHT,n.autoHeight),i.toggle(qn.NORMAL,n.normal),i.toggle(qn.PRINT,n.print),this.addOrRemoveCssClass(qn.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(qn.NORMAL,n.normal),this.addOrRemoveCssClass(qn.PRINT,n.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",a=`<div class="ag-root-wrapper" role="presentation">
                `.concat(t,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(n,`
                </div>
                `).concat(i,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return a},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(n){return Na(n)})},Kg([k("loggerFactory")],e.prototype,"loggerFactory",void 0),Kg([We("gridBody")],e.prototype,"gridBodyComp",void 0),Kg([We("sideBar")],e.prototype,"sideBarComp",void 0),Kg([We("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),Kg([Fe],e.prototype,"postConstruct",null),e}(Dv),R2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nl=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},dc=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},zee=function(r){R2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(n,i,o){var a=this.getNextSortDirection(n);this.setSortForColumn(n,a,i,o)},e.prototype.setSortForColumn=function(n,i,o,a){i!=="asc"&&i!=="desc"&&(i=null);var s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[n];if(s&&n.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(n),c=u==null?void 0:u.filter(function(f){return f.isSortable()});c&&(l=dc([n],nl(c),!1))}l.forEach(function(f){return f.setSort(i,a)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),h=[];if(!d){var p=this.clearSortBarTheseColumns(l,a);h.push.apply(h,dc([],nl(p),!1))}this.updateSortIndex(n),h.push.apply(h,dc([],nl(l),!1)),this.dispatchSortChangedEvents(a,h)},e.prototype.updateSortIndex=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),a=i&&o||n,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=s.filter(function(c){return i&&c.getColDef().showRowGroup?!1:c!==a}),u=a.getSort()?dc(dc([],nl(l),!1),[a],!1):l;u.forEach(function(c,d){c.setSortIndex(d)})},e.prototype.onSortChanged=function(n,i){this.dispatchSortChangedEvents(n,i)},e.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=n.filter(function(o){return!!o.getSort()});return i&&i.length>0},e.prototype.dispatchSortChangedEvents=function(n,i){var o={type:W.EVENT_SORT_CHANGED,source:n};i&&(o.columns=i),this.eventService.dispatchEvent(o)},e.prototype.clearSortBarTheseColumns=function(n,i){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(a){n.includes(a)||(a.getSort()&&o.push(a),a.setSort(void 0,i))}),o},e.prototype.getNextSortDirection=function(n){var i;if(n.getColDef().sortingOrder?i=n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=t.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(i)),null;var o=i.indexOf(n.getSort()),a=o<0,s=o==i.length-1,l;return a||s?l=i[0]:l=i[o+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},e.prototype.getIndexedSortMap=function(){var n=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(c){var d=!!c.getAggFunc(),h=!c.isPrimary(),p=o?n.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||h||p})}var a=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(i=dc([],nl(new Set(i.map(function(c){var d;return(d=n.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};i.forEach(function(c,d){return l[c.getId()]=d}),i.sort(function(c,d){var h=c.getSortIndex(),p=d.getSortIndex();if(h!=null&&p!=null)return h-p;if(h==null&&p==null){var f=l[c.getId()],v=l[d.getId()];return f>v?1:-1}else return p==null?-1:1});var u=new Map;return i.forEach(function(c,d){return u.set(c,d)}),s&&a.forEach(function(c){var d=n.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},e.prototype.getColumnsWithSortingOrdered=function(){return dc([],nl(this.getIndexedSortMap().entries()),!1).sort(function(n,i){var o=nl(n,2);o[0];var a=o[1],s=nl(i,2);s[0];var l=s[1];return a-l}).map(function(n){var i=nl(n,1),o=i[0];return o})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},e.prototype.canColumnDisplayMixedSort=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return i&&o},e.prototype.getDisplaySortForColumn=function(n){var i=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!(i!=null&&i.length))return n.getSort();var o=n.getColDef().field!=null||!!n.getColDef().valueGetter,a=o?dc([n],nl(i),!1):i,s=a[0].getSort(),l=a.every(function(u){return u.getSort()==s});return l?s:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)};var t;return e.DEFAULT_SORTING_ORDER=["asc","desc",null],lK([k("columnModel")],e.prototype,"columnModel",void 0),e=t=lK([et("sortController")],e),e}(Re),O2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a_=function(){return a_=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},a_.apply(this,arguments)},Do=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Uee=function(r){O2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(n){var i=t.keyboardModeActive,o=n.type==="keydown";o&&(n.ctrlKey||n.metaKey||n.altKey)||i!==o&&(t.keyboardModeActive=o)},e.unregisterGridCompController=function(n){t.removeKeyboardModeEvents(n)},e.prototype.init=function(){var n=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl})},e.prototype.registerKeyboardFocusEvents=function(){var n=this.gridOptionsService.getDocument();t.addKeyboardModeEvents(n),t.instanceCount++,this.addDestroyFunc(function(){t.instanceCount--,t.unregisterGridCompController(n)})},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(n.getId());n!==i&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,Yc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,ly.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(n,i){for(var o=n;o;){var a=this.gridOptionsService.getDomData(o,i);if(a)return!1;o=o.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(n){var i=this;return this.isCellRestoreFocused(n)?(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0):!1},e.prototype.isCellRestoreFocused=function(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)},e.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,i=n.rowIndex,o=n.rowPinned,a=n.column,s={rowIndex:i,rowPinned:o,column:a,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return l&&(s.isFullWidthCell=l.isFullWidth()),s},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var n=a_({type:W.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},e.prototype.setFocusedCell=function(n){var i=n.column,o=n.rowIndex,a=n.rowPinned,s=n.forceBrowserFocus,l=s===void 0?!1:s,u=n.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(i);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:Dl(a),column:d}:null;var h=a_(a_({type:W.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(h)},e.prototype.isCellFocused=function(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},e.prototype.isHeaderWrapperFocused=function(n){if(this.focusedHeaderPosition==null)return!1;var i=n.getColumnGroupChild(),o=n.getRowIndex(),a=n.getPinned(),s=this.focusedHeaderPosition,l=s.column,u=s.headerRowIndex;return i===l&&o===u&&a==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(n,i){this.focusedHeaderPosition={headerRowIndex:n,column:i}},e.prototype.focusHeaderPosition=function(n){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;var i=n.direction,o=n.fromTab,a=n.allowUserOverride,s=n.event,l=n.fromCell,u=n.rowWithoutSpanValue,c=n.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(a){var d=this.getFocusedHeader(),h=this.headerNavigationService.getHeaderRowCount();if(o){var p=this.gridOptionsService.getCallback("tabToNextHeader");if(p){var f={backwards:i==="Before",previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:h};c=p(f)}}else{var p=this.gridOptionsService.getCallback("navigateToNextHeader");if(p&&s){var v={key:s.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:h,event:s};c=p(v)}}}if(!c)return!1;if(c.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()),m=g.focusHeader(c.headerRowIndex,c.column,s);return m&&(u!=null||l)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(u??-1),m},e.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];if(!n)return!1;n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0));var i=this.headerPositionUtils.getHeaderIndexToFocus(n,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})},e.prototype.focusLastHeader=function(n){var i=this.headerNavigationService.getHeaderRowCount()-1,o=Dr(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},rowWithoutSpanValue:-1,event:n})},e.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(n,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===Dl(i)},e.prototype.findFocusableElements=function(n,i,o){o===void 0&&(o=!1);var a=UZ,s=dk;i&&(s+=", "+i),o&&(s+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(n.querySelectorAll(a)).filter(function(d){return Na(d)}),u=Array.prototype.slice.apply(n.querySelectorAll(s));if(!u.length)return l;var c=function(d,h){return d.filter(function(p){return h.indexOf(p)===-1})};return c(l,u)},e.prototype.focusInto=function(n,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var a=this.findFocusableElements(n,null,o),s=i?Dr(a):a[0];return s?(s.focus({preventScroll:!0}),!0):!1},e.prototype.findFocusableElementBeforeTabGuard=function(n,i){if(!i)return null;var o=this.findFocusableElements(n),a=o.indexOf(i);if(a===-1)return null;for(var s=-1,l=a-1;l>=0;l--)if(o[l].classList.contains(Th.TAB_GUARD_TOP)){s=l;break}return s<=0?null:o[s-1]},e.prototype.findNextFocusableElement=function(n,i,o){n===void 0&&(n=this.eGridDiv);var a=this.findFocusableElements(n,i?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument(),l=s.activeElement,u;i?u=a.findIndex(function(d){return d.contains(l)}):u=a.indexOf(l);var c=u+(o?-1:1);return c<0||c>=a.length?null:a[c]},e.prototype.isTargetUnderManagedComponent=function(n,i){if(!i)return!1;var o=n.querySelectorAll(".".concat(md.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1},e.prototype.findTabbableParent=function(n,i){i===void 0&&(i=5);for(var o=0;n&&EE(n)===null&&++o<=i;)n=n.parentElement;return EE(n)===null?null:n},e.prototype.focusGridView=function(n,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();if(!n&&l&&(n=l.column),a==null||!n)return!1;if(this.navigationService.ensureCellVisible({rowIndex:a,column:n,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:n,rowPinned:Dl(s),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:a,rowPinned:s,column:n};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(n,i){return i===void 0&&(i=!1),!i&&this.gridCtrl.focusNextInnerContainer(n)?!0:((i||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},e.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n==null?void 0:n.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(n,i){var o,a,s=(o=i?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(a=this.columnModel.getAllDisplayedColumns())===null||a===void 0?void 0:a[0];return n?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var t;return e.keyboardModeActive=!1,e.instanceCount=0,Do([k("eGridDiv")],e.prototype,"eGridDiv",void 0),Do([k("columnModel")],e.prototype,"columnModel",void 0),Do([k("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Do([k("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),Do([k("rowRenderer")],e.prototype,"rowRenderer",void 0),Do([k("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Do([k("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Do([Cr("rangeService")],e.prototype,"rangeService",void 0),Do([k("navigationService")],e.prototype,"navigationService",void 0),Do([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Do([k("filterManager")],e.prototype,"filterManager",void 0),Do([Cr("advancedFilterService")],e.prototype,"advancedFilterService",void 0),Do([Fe],e.prototype,"init",null),e=t=Do([et("focusService")],e),e}(Re),D2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),A2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},P2e=function(r){D2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var n={type:W.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:W.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=A2e([et("columnHoverService")],e),e}(Re),M2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},F2e=function(r){M2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.suppressAnimation=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){return t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.isActive=function(){return this.active&&!this.suppressAnimation},e.prototype.setSuppressAnimation=function(t){this.suppressAnimation=t},e.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){var t=this;this.active&&this.flush(function(){t.active=!1})},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===n&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(t){var n=this;if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t();return}var i=function(o){for(;o.length;){var a=o.pop();a&&a()}};this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return i(n.executeNextFuncs)},0),window.setTimeout(function(){i(n.executeLaterFuncs),t()},200)})},PD([k("ctrlsService")],e.prototype,"ctrlsService",void 0),PD([Fe],e.prototype,"postConstruct",null),e=PD([et("columnAnimationService")],e),e}(Re),L2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},N2e=function(r){L2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCon=n.centerRowContainerCtrl,t.addManagedListener(t.eventService,W.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.addManagedPropertyListener("paginationAutoPageSize",t.onPaginationAutoSizeChanged.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},e.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var i=function(){var o=t.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(n/o);t.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?Ia(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},iw([k("ctrlsService")],e.prototype,"ctrlsService",void 0),iw([k("paginationProxy")],e.prototype,"paginationProxy",void 0),iw([Fe],e.prototype,"postConstruct",null),e=iw([et("paginationAutoPageSizeService")],e),e}(Re),k2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jee=function(r){k2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,n,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[n]=i)},e.prototype.getValue=function(t,n){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[n]},uK([Fe],e.prototype,"init",null),e=uK([et("valueCache")],e),e}(Re),V2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ow=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},B2e="paste",H2e=function(r){V2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,W.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==B2e&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,n){if(!this.gridOptionsService.get("suppressChangeDetection")){var i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new uy(o,this.clientSideRowModel.getRootNode());a.addParentNode(t.parent,[n]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},ow([k("rowModel")],e.prototype,"rowModel",void 0),ow([k("rowRenderer")],e.prototype,"rowRenderer",void 0),ow([Fe],e.prototype,"init",null),e=ow([et("changeDetectionService")],e),e}(Re),G2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$2e=function(r){G2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,n){var i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(n):null},e.prototype.adaptCellRendererFunction=function(t){var n=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var a=t(o),s=typeof a;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Ko("<span>"+a+"</span>");return}if(a==null){this.eGui=Ko("<span></span>");return}this.eGui=a},i}();return n},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},cK([k("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=cK([et("agComponentUtils")],e),e}(Re),W2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},z2e=function(r){W2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},MD([k("agComponentUtils")],e.prototype,"agComponentUtils",void 0),MD([Fe],e.prototype,"postConstruct",null),e=MD([et("componentMetadataProvider")],e),e}(Re),U2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},j2e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},K2e=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},q2e=25,dK=10,LD=8,Y2e=4,ND=4,kD=6,X2e=16,hK=14,VD=8,Q2e={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:Y2e*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:LD*7,headerCellMinWidth:48,listItemHeight:LD*4,rowHeight:LD*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:ND*8,headerCellMinWidth:24,listItemHeight:ND*6,rowHeight:ND*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:kD*8,headerCellMinWidth:36,listItemHeight:kD*4,rowHeight:kD*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:hK+VD*4.25,headerCellMinWidth:36,listItemHeight:X2e+VD,rowHeight:hK+VD*3.5,chartMenuPanelWidth:260}},pK={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Kee=function(r){U2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.calculatedSizes={},t}return e.prototype.postConstruct=function(){var t=this,n,i=(n=this.getTheme().el)!==null&&n!==void 0?n:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return t.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:W.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var n=this.getTheme(),i=n.themeFamily,o=n.el;if(!(!i||i.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var a=this.calculatedSizes[i][t];return a??(this.calculatedSizes[i][t]=this.calculateValueForSassProperty(t,i,o),this.calculatedSizes[i][t])}},e.prototype.calculateValueForSassProperty=function(t,n,i){var o,a="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),s=Q2e[a][t],l=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!pK[t])return s;var u=pK[t],c=l.createElement("div"),d=Array.from(i.classList);(o=c.classList).add.apply(o,K2e([n],j2e(d),!1)),c.style.position="absolute";var h=u.reduce(function(v,g){var m=l.createElement("div");return m.style.position="static",m.classList.add(g),v.appendChild(m),m},c),p=0;if(l.body){l.body.appendChild(c);var f=t.toLowerCase().indexOf("height")!==-1?"height":"width";p=parseInt(window.getComputedStyle(h)[f],10),l.body.removeChild(c)}return p||s},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,i=null,o=[];n;)if(i=t.exec(n.className),!i)n=n.parentElement||void 0;else{var a=n.className.match(t);a&&(o=a);break}if(!i)return{allThemes:o};var s=i[0];return{theme:s,el:n,themeFamily:s.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,n){var i;return(i=this.getSassVariable(n))!==null&&i!==void 0?i:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(q2e,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var i="".concat(n,"px");return t!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return Ee(t)?Math.max(t,dK):dK},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),r.prototype.destroy.call(this)},FD([k("eGridDiv")],e.prototype,"eGridDiv",void 0),FD([Fe],e.prototype,"postConstruct",null),e=FD([et("environment")],e),e}(Re),Z2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},J2e=function(r,e){return function(t,n){e(t,n,r)}},eKe=function(r){Z2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,W.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=BZ(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=n!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=n,this.uiBodyHeight=i,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,n=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(n," (").concat(this.pixelsToShave," * ").concat(t,")")),this.setDivStretchOffset(n)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var n=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:W.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition();return n.bottom-n.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var n=this.modelHeight-this.getUiBodyHeight(),i=t/n,o=this.maxScrollY*i;return o},aw([k("ctrlsService")],e.prototype,"ctrlsService",void 0),aw([J2e(0,Ta("loggerFactory"))],e.prototype,"agWire",null),aw([Fe],e.prototype,"postConstruct",null),e=aw([et("rowContainerHeightService")],e),e}(Re),tKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qee=function(r){tKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("isRowSelectable",function(){return t.updateSelectable()})},e.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},e.prototype.updateSelectable=function(t){t===void 0&&(t=!1);var n=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!(!n||!i)){var o=this.gridOptionsService.get("groupSelectsChildren"),a=this.rowModel.getType()==="clientSide"&&o,s=[],l=function(d){if(!(t&&!d.group)){if(a&&d.group){var h=d.childrenAfterGroup.some(function(f){return f.selectable===!0});d.setRowSelectable(h,!0);return}var p=i?i(d):!0;d.setRowSelectable(p,!0),!p&&d.isSelected()&&s.push(d)}};if(a){var u=this.rowModel,c=new uy(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof Vee&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},sw([k("rowModel")],e.prototype,"rowModel",void 0),sw([k("selectionService")],e.prototype,"selectionService",void 0),sw([Fe],e.prototype,"init",null),e=sw([et("selectableService")],e),e}(Re),rKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oa=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nKe=function(r){rKe(e,r);function e(){var t=r.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return e.prototype.postConstruct=function(){var t=this,n=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var i=this,o=i.btFirst,a=i.btPrevious,s=i.btNext,l=i.btLast;i.pageSizeComp,this.activateTabIndex([o,a,s,l]),o.insertAdjacentElement("afterbegin",Yn(n?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Yn(n?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Yn(n?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",Yn(n?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return t.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.get("pagination"),n=t&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},e.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var i=n.el,o=n.fn;t.addManagedListener(i,"click",o),t.addManagedListener(i,"keydown",function(a){(a.key===le.ENTER||a.key===le.SPACE)&&(a.preventDefault(),o())})}),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage(),i=t?n+1:0;this.lbCurrent.textContent=this.formatNumber(i)},e.prototype.formatNumber=function(t){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n){var i={value:t};return n(i)}var o=this.localeService.getLocaleTextFunc(),a=o("thousandSeparator",","),s=o("decimalSeparator",".");return ck(t,a,s)},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),n=t("page","Page"),i=t("to","to"),o=t("of","of"),a=t("firstPage","First Page"),s=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(i,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(n,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),a=t===i-1;this.nextButtonDisabled=a||o,this.lastButtonDisabled=!n||o||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,n){QN(t,n),t.classList.toggle("ag-disabled",n)},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,a,s;if(this.isZeroPagesToDisplay()?a=s=0:(a=n*t+1,s=a+n-1,i&&s>o&&(s=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return t&&n===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),a=o&&o.group&&!(o.groupData||o.aggData);if(a){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.textContent=this.formatNumber(n),this.lbRecordCount.textContent=this.formatNumber(i);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},oa([k("paginationProxy")],e.prototype,"paginationProxy",void 0),oa([k("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),oa([We("btFirst")],e.prototype,"btFirst",void 0),oa([We("btPrevious")],e.prototype,"btPrevious",void 0),oa([We("btNext")],e.prototype,"btNext",void 0),oa([We("btLast")],e.prototype,"btLast",void 0),oa([We("lbRecordCount")],e.prototype,"lbRecordCount",void 0),oa([We("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),oa([We("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),oa([We("lbCurrent")],e.prototype,"lbCurrent",void 0),oa([We("lbTotal")],e.prototype,"lbTotal",void 0),oa([We("pageSizeComp")],e.prototype,"pageSizeComp",void 0),oa([Fe],e.prototype,"postConstruct",null),e}(jt),iKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oKe=function(r){iKe(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t}return e.prototype.updateLayoutClasses=function(t,n){var i=this.eOverlayWrapper.classList;i.toggle(qn.AUTO_HEIGHT,n.autoHeight),i.toggle(qn.NORMAL,n.normal),i.toggle(qn.PRINT,n.print)},e.prototype.postConstruct=function(){this.createManagedBean(new Nk(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,n.toggle(t,!0)},e.prototype.showOverlay=function(t,n,i){var o=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(a){o.inProgress=!1,o.eOverlayWrapper.appendChild(a.getGui()),o.activeOverlay=a,o.updateListenerDestroyFunc=i,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){var t;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(t=this.updateListenerDestroyFunc)===null||t===void 0||t.call(this),mi(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},e.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,BD([k("overlayService")],e.prototype,"overlayService",void 0),BD([We("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),BD([Fe],e.prototype,"postConstruct",null),e}(jt),aKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Yee=function(r){aKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,n;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getLastRow=function(){var t,n=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(n="bottom",t=i-1):this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,n){return!t&&!n?!0:t&&!n||!t&&n?!1:t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned},e.prototype.before=function(t,n){switch(t.rowPinned){case"top":if(n.rowPinned!=="top")return!0;break;case"bottom":if(n.rowPinned!=="bottom")return!1;break;default:if(Ee(n.rowPinned))return n.rowPinned!=="top";break}return t.rowIndex<n.rowIndex},e.prototype.rowMax=function(t){var n=this,i;return t.forEach(function(o){(i===void 0||n.before(i,o))&&(i=o)}),i},e.prototype.rowMin=function(t){var n=this,i;return t.forEach(function(o){(i===void 0||n.before(o,i))&&(i=o)}),i},lw([k("rowModel")],e.prototype,"rowModel",void 0),lw([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),lw([k("paginationProxy")],e.prototype,"paginationProxy",void 0),e=lw([et("rowPositionUtils")],e),e}(Re),sKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Xee=function(r){sKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createId=function(t){var n=t.rowIndex,i=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:n,column:o,rowPinned:i})},e.prototype.createIdFromValues=function(t){var n=t.rowIndex,i=t.rowPinned,o=t.column;return"".concat(n,".").concat(i??"null",".").concat(o.getId())},e.prototype.equals=function(t,n){var i=t.column===n.column,o=t.rowPinned===n.rowPinned,a=t.rowIndex===n.rowIndex;return i&&o&&a},e=lKe([et("cellPositionUtils")],e),e}(Re),uKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xm=function(){function r(e){this.cellValueChanges=e}return r}(),HD=function(r){uKe(e,r);function e(t,n,i,o){var a=r.call(this,t)||this;return a.initialRange=n,a.finalRange=i,a.ranges=o,a}return e}(xm),fK=function(){function r(e){this.actionStack=[],this.maxStackSize=e||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}(),cKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VE=function(){return VE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},VE.apply(this,arguments)},il=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},dKe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},hKe=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},pKe=function(r){cKe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(n){var i={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,i),a=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,i),s=o||a||t.isPasting||t.isRangeInAction;if(s){var l=n.rowPinned,u=n.rowIndex,c=n.column,d=n.oldValue,h=n.value,p={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:h,oldValue:d};t.cellValueChanges.push(p)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var n=this.gridOptionsService.get("undoRedoCellEditingLimit");n<=0||(this.undoStack=new fK(n),this.redoStack=new fK(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,W.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,W.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,W.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var n={type:W.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:W.EVENT_UNDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var n={type:W.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:W.EVENT_REDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,n,i,o,a){if(!t)return!1;var s=t.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,function(l){return l[o]},a),s instanceof HD?this.processRange(s.ranges||[s[i]]):this.processCell(s.cellValueChanges),n.push(s),!0)},e.prototype.processAction=function(t,n,i){var o=this;t.cellValueChanges.forEach(function(a){var s=a.rowIndex,l=a.rowPinned,u=a.columnId,c={rowIndex:s,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,n(a),i)})},e.prototype.processRange=function(t){var n=this,i;this.rangeService.removeAllCellRanges(!0),t.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===t.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(i));var u={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var n=t[0],i=n.rowIndex,o=n.rowPinned,a={rowIndex:i,rowPinned:o},s=this.getRowNode(a),l={rowPinned:n.rowPinned,rowIndex:s.rowIndex,columnId:n.columnId};this.setLastFocusedCell(l,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,n){var i=t.rowIndex,o=t.columnId,a=t.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(i),s.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:a};this.focusService.setFocusedCell(VE(VE({},u),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_ROW_EDITING_STARTED,function(n){t.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,W.EVENT_ROW_EDITING_STOPPED,function(){var n=new xm(t.cellValueChanges);t.pushActionsToUndoStack(n),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_CELL_EDITING_STARTED,function(n){t.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,W.EVENT_CELL_EDITING_STOPPED,function(n){t.activeCellEdit=null;var i=n.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(i){var o=new xm(t.cellValueChanges);t.pushActionsToUndoStack(o)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,W.EVENT_PASTE_END,function(){var n=new xm(t.cellValueChanges);t.pushActionsToUndoStack(n),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,W.EVENT_FILL_END,function(n){var i=new HD(t.cellValueChanges,n.initialRange,n.finalRange);t.pushActionsToUndoStack(i),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,W.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;t.rangeService&&t.gridOptionsService.get("enableRangeSelection")?n=new HD(t.cellValueChanges,void 0,void 0,hKe([],dKe(t.rangeService.getCellRanges()),!1)):n=new xm(t.cellValueChanges),t.pushActionsToUndoStack(n),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},il([k("focusService")],e.prototype,"focusService",void 0),il([k("ctrlsService")],e.prototype,"ctrlsService",void 0),il([k("rowModel")],e.prototype,"rowModel",void 0),il([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),il([k("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),il([k("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),il([k("columnModel")],e.prototype,"columnModel",void 0),il([Cr("rangeService")],e.prototype,"rangeService",void 0),il([Fe],e.prototype,"init",null),e=il([et("undoRedoService")],e),e}(Re),fKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qee=function(r){fKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.findHeader=function(t,n){var i,o,a;if(t.column instanceof Kn?(o="getDisplayedGroup".concat(n),i=this.columnModel[o](t.column)):(a="getDisplayedCol".concat(n),i=this.columnModel[a](t.column)),!!i){var s=t.headerRowIndex;if(this.getHeaderRowType(s)!==bi.FLOATING_FILTER){for(var l=[i];i.getParent();)i=i.getParent(),l.push(i);i=l[l.length-1-s]}var u=this.getHeaderIndexToFocus(i,s),c=u.column,d=u.headerRowIndex;return{column:c,headerRowIndex:d}}},e.prototype.getHeaderIndexToFocus=function(t,n){var i;if(t instanceof Kn&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){var o=t;i=o.getLeafColumns()[0];for(var a=i;a!==o;)n++,a=a.getParent()}return{column:i||t,headerRowIndex:n}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return t?t.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()}):!1},e.prototype.getColumnVisibleParent=function(t,n){var i=this.getHeaderRowType(n),o=i===bi.FLOATING_FILTER,a=i===bi.COLUMN,s=o?t:t.getParent(),l=n-1,u=l;if(a&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;u=l,l<0&&(s=t,l=n,u=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:u}},e.prototype.getColumnVisibleChild=function(t,n,i){i===void 0&&(i="After");var o=this.getHeaderRowType(n),a=t,s=n+1,l=s;if(o===bi.COLUMN_GROUP){for(var u=t.getDisplayedLeafColumns(),c=i==="After"?u[0]:Dr(u),d=[],h=c;h.getParent()!==t;)h=h.getParent(),d.push(h);if(a=c,c.isSpanHeaderHeight())for(var p=d.length-1;p>=0;p--){var f=d[p];if(!f.isPadding()){a=f;break}s++}else a=Dr(d),a||(a=c)}return{column:a,headerRowIndex:s,headerRowIndexWithoutSpan:l}},e.prototype.getHeaderRowType=function(t){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,n){var i=this.columnModel.getAllDisplayedColumns(),o=i[n==="start"?0:i.length-1];if(o){var a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),s=a.getRowType(t);if(s==bi.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:s==null?-1:t,column:o}}},GD([k("columnModel")],e.prototype,"columnModel",void 0),GD([k("ctrlsService")],e.prototype,"ctrlsService",void 0),e=GD([et("headerPositionUtils")],e),e}(Re),vKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gKe=function(){function r(){}return r.prototype.buildColumnDefs=function(e,t,n){var i=this,o=[],a={};return e.forEach(function(s){for(var l=i.createDefFromColumn(s,t,n),u=!0,c=l,d=s.getOriginalParent(),h=null;d;){var p=null;if(d.isPadding()){d=d.getOriginalParent();continue}var f=a[d.getGroupId()];if(f){f.children.push(c),u=!1;break}if(p=i.createDefFromGroup(d),p&&(p.children=[c],a[p.groupId]=p,c=p,d=d.getOriginalParent()),d!=null&&h===d){u=!1;break}h=d}u&&o.push(c)}),o},r.prototype.createDefFromGroup=function(e){var t=CE(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},r.prototype.createDefFromColumn=function(e,t,n){var i=CE(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i},r=vKe([et("columnDefFactory")],r),r}(),$D=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mKe=function(){function r(){}return r.prototype.getInitialRowClasses=function(e){var t=[];return Ee(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),EM(t,this.processClassesFromGridOptions(e.rowNode)),EM(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t},r.prototype.processClassesFromGridOptions=function(e){var t=[],n=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var a={data:e.data,node:e,rowIndex:e.rowIndex},s=o(a);n(s)}return t},r.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(n){t.push(n)},function(n){}),t},r.prototype.processRowClassRules=function(e,t,n){var i=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,t,n)},r.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},$D([k("stylingService")],r.prototype,"stylingService",void 0),$D([k("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r=$D([et("rowCssClassCalculator")],r),r}(),_Ke=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zee=function(r){_Ke(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return t.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()})},e.prototype.doFullSort=function(t,n){var i=function(a,s){return{currentPos:s,rowNode:a}},o=t.map(i);return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(a){return a.rowNode})},e.prototype.compareRowNodes=function(t,n,i){for(var o=n.rowNode,a=i.rowNode,s=0,l=t.length;s<l;s++){var u=t[s],c=u.sort==="desc",d=this.getValue(o,u.column),h=this.getValue(a,u.column),p=void 0,f=this.getComparator(u,o);f?p=f(d,h,o,a,c):p=Jt.defaultComparator(d,h,this.isAccentedSort);var v=!isNaN(p);if(v&&p!==0)return u.sort==="asc"?p:p*-1}return n.currentPos-i.currentPos},e.prototype.getComparator=function(t,n){var i=t.column,o=i.getColDef().comparator;if(o!=null)return o;if(i.getColDef().showRowGroup){var a=!n.group&&i.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},e.prototype.getValue=function(t,n){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,t,!1,!1);var a=t.rowGroupColumn===n;if(a){var s=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(s){var l=(i=t.allLeafChildren)===null||i===void 0?void 0:i[0];return l?this.valueService.getValue(n,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return u?(o=t.groupData)===null||o===void 0?void 0:o[u.getId()]:void 0}if(!(t.group&&n.getColDef().showRowGroup))return this.valueService.getValue(n,t,!1,!1)},uw([k("valueService")],e.prototype,"valueService",void 0),uw([k("columnModel")],e.prototype,"columnModel",void 0),uw([Fe],e.prototype,"init",null),e=uw([et("rowNodeSorter")],e),e}(Re),CKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Jee=function(r){CKe(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(n)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},e.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerHeaderContainer=function(n,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},e.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=yKe([et(t.NAME)],e),e}(Re),SKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bKe=function(r){SKe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var n=this.registry[t];if(n!=null)return new n},e=wKe([et("ctrlsFactory")],e),e}(Re),EKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ete=function(r){EKe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.direction=n,i.hideTimeout=null,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,W.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",sk()||Yu())},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=uk(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,n=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],o=this.getGui();n.forEach(function(a){return t.addManagedListener(o,a,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(a){return t.addManagedListener(o,a,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.onScrollVisibilityChanged=function(){var t=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return t.setScrollVisible()})},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL,function(n){n.direction===t.direction&&(t.hideTimeout!==null&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL_END,function(){t.hideTimeout=window.setTimeout(function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null},400)})},e.prototype.attemptSettingScrollPosition=function(t){var n=this,i=this.getViewport();WN(function(){return Na(i)},function(){return n.setScrollPosition(t)},100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},qg([We("eViewport")],e.prototype,"eViewport",void 0),qg([We("eContainer")],e.prototype,"eContainer",void 0),qg([k("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),qg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),qg([k("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(jt),xKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},IKe=function(r){xKe(e,r);function e(){return r.call(this,e.TEMPLATE,"horizontal")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Vk(function(i){return t.eContainer.style.width="".concat(i,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),r.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(t,"px")}},e.prototype.onScrollVisibilityChanged=function(){r.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();i&&(n+=o),cs(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth(),s=this.enableRtl&&t;s&&(a+=o),cs(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,a=o===0&&n?16:o,s=i?0:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),xh(this.getGui(),s),xh(this.eViewport,s),xh(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return U_(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){Na(this.getViewport())||this.attemptSettingScrollPosition(t),j_(this.getViewport(),t,this.enableRtl)},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,Yg([We("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Yg([We("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Yg([k("columnModel")],e.prototype,"columnModel",void 0),Yg([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Yg([Fe],e.prototype,"postConstruct",null),e}(ete),TKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},RKe=function(r){TKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,W.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=t?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:W.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:W.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},WD([k("columnModel")],e.prototype,"columnModel",void 0),WD([Fe],e.prototype,"postConstruct",null),e=WD([et("pinnedWidthService")],e),e}(Re),OKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},DKe=function(r){OKe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var n=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var i=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},cw([k("animationFrameService")],e.prototype,"animationFrameService",void 0),cw([k("rowModel")],e.prototype,"rowModel",void 0),cw([Fe],e.prototype,"postConstruct",null),e=cw([et("rowNodeEventThrottle")],e),e}(Re),AKe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."}},hc=function(r,e){var t;return((t=e.rowModelType)!==null&&t!==void 0?t:"clientSide")==="clientSide"?{module:Ct.RowGroupingModule}:null},PKe={enableRowGroup:hc,rowGroup:hc,rowGroupIndex:hc,enablePivot:hc,enableValue:hc,pivot:hc,pivotIndex:hc,aggFunc:hc,cellEditor:function(r){return r.cellEditor==="agRichSelect"||r.cellEditor==="agRichSelectCellEditor"?{module:Ct.RichSelectModule}:null},menuTabs:function(r){var e,t=["columnsMenuTab","generalMenuTab"];return!((e=r.menuTabs)===null||e===void 0)&&e.some(function(n){return t.includes(n)})?{module:Ct.MenuModule}:null},columnsMenuParams:{module:[Ct.MenuModule,Ct.ColumnsToolPanelModule]},columnChooserParams:{module:[Ct.MenuModule,Ct.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(r,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(r,e){var t=e.rowSelection;return t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return Lf}},Lf={objectName:"colDef",allProperties:NJ.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:AKe,validations:PKe},vK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},gK=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},MKe={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"}},FKe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1},LKe={sideBar:{module:Ct.SideBarModule},statusBar:{module:Ct.StatusBarModule},enableCharts:{module:Ct.GridChartsModule},getMainMenuItems:{module:Ct.MenuModule},getContextMenuItems:{module:Ct.MenuModule},allowContextMenuWithControlKey:{module:Ct.MenuModule},enableAdvancedFilter:{module:Ct.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:Ct.RowGroupingModule,dependencies:function(r){var e,t=(e=r.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":var n="treeData requires 'getDataPath' in the ".concat(t," row model.");return r.getDataPath?null:n;case"serverSide":var i="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(t," row model.");return r.isServerSideGroup&&r.getServerSideGroupKey?null:i}return null}},masterDetail:{module:Ct.MasterDetailModule},enableRangeSelection:{module:Ct.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r){var e,t=(e=r.rowModelType)!==null&&e!==void 0?e:"clientSide";switch(t){case"clientSide":return null;case"serverSide":var n="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return r.suppressServerSideInfiniteScroll?n:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:Ct.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:Ct.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:Ct.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:Ct.ClientSideRowModelModule},columnDefs:function(){return Lf},defaultColDef:function(){return Lf},defaultColGroupDef:function(){return Lf},autoGroupColumnDef:function(){return Lf}},NKe={objectName:"gridOptions",allProperties:gK(gK([],vK(Ls.ALL_PROPERTIES),!1),vK(qN.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:MKe,validations:LKe},ol=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},dw=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},zD=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Wk=function(){function r(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new qu,this.globalEventHandlerFactory=function(n){return function(i,o){if(!t.destroyed){var a=e.alwaysSyncGlobalEvents.has(i);if(!(a&&!n||!a&&n)){var s=qN.getCallbackForEvent(i),l=t.gridOptions[s];typeof l=="function"&&t.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}e=r,Object.defineProperty(r.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),r.prototype.init=function(){this.columnApi=new M0(this.api);var t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},r.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},r.prototype.get=function(t){var n;return(n=this.gridOptions[t])!==null&&n!==void 0?n:FKe[t]},r.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},r.prototype.exists=function(t){return Ee(this.gridOptions[t])},r.prototype.mergeGridCommonParams=function(t){var n=this;if(t){var i=function(o){var a=o;return a.api=n.api,a.columnApi=n.columnApi,a.context=n.context,t(a)};return i}return t},r.toBoolean=function(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1},r.toNumber=function(t){if(typeof t=="number")return t;if(typeof t=="string"){var n=parseInt(t);return isNaN(n)?void 0:n}},r.toConstrainedNum=function(t,n){return function(i){var o=e.toNumber(i);if(!(o==null||o<t||o>n))return o}},r.getCoercedValue=function(t,n){var i=e.PROPERTY_COERCIONS.get(t);return i?i(n):n},r.getCoercedGridOptions=function(t){var n={};return Object.entries(t).forEach(function(i){var o=dw(i,2),a=o[0],s=o[1],l=e.getCoercedValue(a,s);n[a]=l}),n},r.prototype.updateGridOptions=function(t){var n=this,i=t.options,o=t.source,a=o===void 0?"api":o,s={id:e.changeSetId++,properties:[]},l=[];Object.entries(i).forEach(function(u){var c=dw(u,2),d=c[0],h=c[1];a==="api"&&wGe[d]&&Tt("".concat(d," is an initial property and cannot be updated."));var p=e.getCoercedValue(d,h),f=typeof p=="object"&&a==="api",v=n.gridOptions[d];if(f||v!==p){n.gridOptions[d]=p;var g={type:d,currentValue:p,previousValue:v,changeSet:s,source:a};l.push(g)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(u){return u.type}),l.forEach(function(u){n.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(u.type," from "),u.previousValue," to  ",u.currentValue),n.propertyEventService.dispatchEvent(u)})},r.prototype.addEventListener=function(t,n){this.propertyEventService.addEventListener(t,n)},r.prototype.removeEventListener=function(t,n){this.propertyEventService.removeEventListener(t,n)},r.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,n=t?this.gridOptions.scrollbarWidth:$Z();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:W.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&At(this.gridOptions.rowModelType)},r.prototype.isDomLayout=function(t){var n,i=(n=this.gridOptions.domLayout)!==null&&n!==void 0?n:"normal";return i===t},r.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},r.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},r.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},r.prototype.getRowHeightForNode=function(t,n,i){if(n===void 0&&(n=!1),i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:i,estimated:!0};var o={node:t,data:t.data},a=this.getCallback("getRowHeight")(o);if(this.isNumeric(a))return a===0&&Tt("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:s,estimated:!1}},r.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||At(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},r.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(t,n){var i=t[this.getDomDataKey()];return i?i[n]:void 0},r.prototype.setDomData=function(t,n,i){var o=this.getDomDataKey(),a=t[o];At(a)&&(a={},t[o]=a),a[n]=i},r.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&Ee(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&Ee(t)?t:document},r.prototype.getWindow=function(){var t=this.getDocument();return t.defaultView||window},r.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},r.prototype.getAsyncTransactionWaitMillis=function(){return Ee(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},r.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},r.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},r.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return!(t!=null&&t.comparator)&&!this.get("treeData")},r.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(t===!0)return function(){return!0}},r.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return t===!0||typeof t=="function"},r.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):t===!0?function(){return!0}:function(){return!1}},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},r.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType==="groupRows"},r.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},r.prototype.addGridCommonParams=function(t){var n=t;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,n};var e;return r.alwaysSyncGlobalEvents=new Set([W.EVENT_GRID_PRE_DESTROYED]),r.PROPERTY_COERCIONS=new Map(zD(zD(zD([],dw(Ls.BOOLEAN_PROPERTIES.map(function(t){return[t,e.toBoolean]})),!1),dw(Ls.NUMBER_PROPERTIES.map(function(t){return[t,e.toNumber]})),!1),[["groupAggFiltering",function(t){return typeof t=="function"?t:e.toBoolean(t)}],["pageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",e.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",e.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",e.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),r.changeSetId=0,ol([k("gridOptions")],r.prototype,"gridOptions",void 0),ol([k("eventService")],r.prototype,"eventService",void 0),ol([k("environment")],r.prototype,"environment",void 0),ol([k("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),ol([k("eGridDiv")],r.prototype,"eGridDiv",void 0),ol([k("validationService")],r.prototype,"validationService",void 0),ol([k("gridApi")],r.prototype,"api",void 0),ol([Fe],r.prototype,"init",null),ol([Ji],r.prototype,"destroy",null),r=e=ol([et("gridOptionsService")],r),r}(),kKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tte=function(r){kKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(i,o,a){var s={key:i,defaultValue:o,variableValues:a};return t(s)};var n=this.gridOptionsService.get("localeText");return function(i,o,a){var s=n&&n[i];if(s&&a&&a.length)for(var l=0;!(l>=a.length);){var u=s.indexOf("${variable}");if(u===-1)break;s=s.replace("${variable}",a[l++])}return s??o}},e=VKe([et("localeService")],e),e}(Re),BKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},GKe=function(r){BKe(e,r);function e(){return r.call(this,e.TEMPLATE,"vertical")||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createManagedBean(new WJ(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,W.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=t&&this.gridOptionsService.getScrollbarWidth()||0,o=i===0&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),cs(this.getGui(),o),cs(this.eViewport,o),cs(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService,n=t.getGridBodyCtrl(),i=n.getBodyViewportElement(),o=this.getScrollPosition(),a=i.scrollTop;o!=a&&this.setScrollPosition(a,!0)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t,n){!n&&!Na(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,HKe([Fe],e.prototype,"postConstruct",null),e}(ete),$Ke=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),No=function(){return No=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},No.apply(this,arguments)},Nd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},al=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Xg=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},mK={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},_K=["january","february","march","april","may","june","july","august","september","october","november","december"],rte=function(r){$Ke(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){t.groupHideOpenParents=t.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(n){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs(Mf(n.source))})},e.prototype.processDataTypeDefinitions=function(){var t=this,n,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(a){var s=al(a,2),l=s[0],u=s[1];t.dataTypeDefinitions[l]=No(No({},u),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(u)})});var o=(n=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&n!==void 0?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(a){var s=al(a,2),l=s[0],u=s[1],c=t.processDataTypeDefinition(u,o,[l],i);c&&(t.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(t.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(a){var s=t.dataTypeMatchers[a];s&&delete t.dataTypeMatchers[a],t.dataTypeMatchers[a]=s??i[a].dataTypeMatcher})},e.prototype.mergeDataTypeDefinitions=function(t,n){var i=No(No({},t),n);return t.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(i.columnTypes=Xg(Xg([],al(this.convertColumnTypes(t.columnTypes)),!1),al(this.convertColumnTypes(n.columnTypes)),!1)),i},e.prototype.processDataTypeDefinition=function(t,n,i,o){var a,s=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var l=o[s],u=n[s];if(l&&u&&(l=u),!this.validateDataTypeDefinition(t,l,s))return;a=this.mergeDataTypeDefinitions(l,t)}else{if(i.includes(s)){Tt('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=n[s];if(!this.validateDataTypeDefinition(t,c,s))return;var d=this.processDataTypeDefinition(c,n,Xg(Xg([],al(i),!1),[s],!1),o);if(!d)return;a=this.mergeDataTypeDefinitions(d,t)}return No(No({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},e.prototype.validateDataTypeDefinition=function(t,n,i){return n?n.baseDataType!==t.baseDataType?(Tt('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(Tt("The data type definition ".concat(i," does not exist.")),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var n=this;if(t.valueFormatter)return function(i){var o,a;if(!((o=i.node)===null||o===void 0)&&o.group){var s=i.column.getAggFunc();if(s){if(s==="first"||s==="last")return t.valueFormatter(i);if(t.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return t.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return t.valueFormatter(No(No({},i),{value:i.value.toNumber()}));if("value"in i.value)return t.valueFormatter(No(No({},i),{value:i.value.value}))}}}if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(n.groupHideOpenParents&&i.column.isRowGroupActive()){if(typeof i.value!="string"||!((a=t.dataTypeMatcher)===null||a===void 0)&&a.call(t,i.value))return t.valueFormatter(i);if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(i)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,n,i){var o=n.cellDataType,a=n.field;if(o===void 0&&(o=t.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(t,n)?this.inferCellDataType(a,i):!1),!o){t.cellDataType=!1;return}var s=this.dataTypeDefinitions[o];if(!s){Tt('Missing data type definition - "'.concat(o,'"'));return}return t.cellDataType=o,s.groupSafeValueFormatter&&(t.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(t.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,s,i),s.columnTypes},e.prototype.updateColDefAndGetColumnType=function(t,n,i){var o,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(t,n,i),l=(a=(o=n.type)!==null&&o!==void 0?o:s)!==null&&a!==void 0?a:t.type;return t.type=l,l?this.convertColumnTypes(l):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[t.getColId()];if(n){var i=function(o){n.add(o.key)};t.addEventListener(Kr.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return t.removeEventListener(Kr.EVENT_STATE_UPDATED,i)})}}},e.prototype.canInferCellDataType=function(t,n){var i=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,a))return!1;var s=n.type===null?t.type:n.type;if(s){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(s).some(function(c){var d=l[c.trim()];return d&&i.doColDefPropsPreventInference(d,a)});if(u)return!1}return!this.doColDefPropsPreventInference(t,a)},e.prototype.doColDefPropsPreventInference=function(t,n){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var a=al(o,2),s=a[0],l=a[1];return i.doesColDefPropPreventInference(t,n,s,l)})},e.prototype.doesColDefPropPreventInference=function(t,n,i,o){if(!n[i])return!1;var a=t[i];return a===null?(n[i]=!1,!1):o===void 0?!!a:a===o},e.prototype.inferCellDataType=function(t,n){var i;if(t){var o,a=this.getInitialData();if(a){var s=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Wf(a,t,s)}else this.initWaitForRowData(n);if(o!=null){var l=al((i=Object.entries(this.dataTypeMatchers).find(function(c){var d=al(c,2);d[0];var h=d[1];return h(o)}))!==null&&i!==void 0?i:["object"],1),u=l[0];return u}}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n!=null&&n.length?n[0].data:null},e.prototype.initWaitForRowData=function(t){var n=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;if(s){o==null||o(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(s,i),n.columnStateUpdatesPendingInference={},i&&n.columnModel.processResizeOperations();var l={type:W.EVENT_DATA_TYPES_INFERRED};n.eventService.dispatchEvent(l)}})}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,n){var i=this;this.initialData=t;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=al(l,2),c=u[0],d=u[1],h=i.columnModel.getGridColumn(c);if(h){var p=h.getColDef();if(i.columnModel.resetColumnDefIntoColumn(h,"cellDataTypeInferred")){var f=h.getColDef();if(n&&f.type&&f.type!==p.type){var v=i.getUpdatedColumnState(h,d);v.rowGroup&&v.rowGroupIndex==null&&(a[c]=v),v.pivot&&v.pivotIndex==null&&(s[c]=v),o.push(v)}}}}),n&&o.push.apply(o,Xg([],al(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,n){var i=this.columnModel.getColumnStateFromColDef(t);return n.forEach(function(o){delete i[o],o==="rowGroup"?delete i.rowGroupIndex:o==="pivot"&&delete i.pivotIndex}),i},e.prototype.checkObjectValueHandlers=function(t){var n=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=n.valueParser!==i.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==i.valueFormatter},e.prototype.convertColumnTypes=function(t){var n=[];if(t instanceof Array){var i=t.some(function(o){return typeof o!="string"});i?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else typeof t=="string"?n=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return n},e.prototype.getDateStringTypeDefinition=function(t){var n;return t?(n=this.getDataTypeDefinition(t))!==null&&n!==void 0?n:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(t){return this.getDateStringTypeDefinition(t).dateParser},e.prototype.getDateFormatterFunction=function(t){return this.getDateStringTypeDefinition(t).dateFormatter},e.prototype.getDataTypeDefinition=function(t){var n=t.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},e.prototype.getBaseDataType=function(t){var n;return(n=this.getDataTypeDefinition(t))===null||n===void 0?void 0:n.baseDataType},e.prototype.checkType=function(t,n){var i;if(n==null)return!0;var o=(i=this.getDataTypeDefinition(t))===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(n):!0},e.prototype.validateColDef=function(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Tt('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Tt('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},e.prototype.setColDefPropertiesForBaseDataType=function(t,n,i){var o=this,a=function(d,h,p){var f=d.getColDef().valueFormatter;return f===n.groupSafeValueFormatter&&(f=n.valueFormatter),o.valueFormatterService.formatValue(d,h,p,f)},s=Nr.__isRegistered(Ct.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var h=t.filterParams;t.filterParams=typeof h=="object"?No(No({},h),d):d};switch(n.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",s&&u({comparator:function(d,h){var p=d==null?0:parseInt(d),f=h==null?0:parseInt(h);return p===f?0:p>f?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===le.SPACE},u(s?{valueFormatter:function(d){return Ee(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,h){return h},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,h){return h===!1},numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&u({valueFormatter:function(d){var h=a(d.column,d.node,d.value);return Ee(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,h){if(h===1&&d!=null){var p=_K[Number(d)-1];return l(p,mK[p])}return d??l("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=function(d){return a(d.column,d.node,d.value)};var c=n.dateParser;u(s?{valueFormatter:function(d){var h=a(d.column,d.node,d.value);return Ee(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var h=c(d??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:function(d,h){if(h===1&&d!=null){var p=_K[Number(d)-1];return l(p,mK[p])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,h){var p=c(h);return h==null||p<d?-1:p>d?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=function(d,h){var p=o.columnModel.getPrimaryColumn(i),f=p==null?void 0:p.getColDef();if(!p||!f)return 0;var v=d==null?"":a(p,null,d),g=h==null?"":a(p,null,h);return v===g?0:v>g?1:-1},t.keyCreator=function(d){return a(d.column,d.node,d.value)},s?u({valueFormatter:function(d){var h=a(d.column,d.node,d.value);return Ee(h)?h:l("blanks","(Blanks)")}}):t.filterValueGetter=function(d){return a(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},e.prototype.getDefaultDataTypes=function(){var t=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){var o,a;return((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:Number(i.newValue)},valueFormatter:function(i){return i.value==null?"":typeof i.value!="number"||isNaN(i.value)?n("invalidNumber","Invalid Number"):String(i.value)},dataTypeMatcher:function(i){return typeof i=="number"}},text:{baseDataType:"text",valueParser:function(i){return i.newValue===""?null:G_(i.newValue)},dataTypeMatcher:function(i){return typeof i=="string"}},boolean:{baseDataType:"boolean",valueParser:function(i){var o,a;return i.newValue==null?i.newValue:((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:function(i){return i.value==null?"":String(i.value)},dataTypeMatcher:function(i){return typeof i=="boolean"}},date:{baseDataType:"date",valueParser:function(i){return jo(i.newValue==null?null:String(i.newValue))},valueFormatter:function(i){var o;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?n("invalidDate","Invalid Date"):(o=us(i.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return(o=jo(i))!==null&&o!==void 0?o:void 0},dateFormatter:function(i){var o;return(o=us(i??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(i){return t(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return t(String(i.value))?i.value:""},dataTypeMatcher:function(i){return typeof i=="string"&&t(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return(o=G_(i.value))!==null&&o!==void 0?o:""}}}},Nd([k("rowModel")],e.prototype,"rowModel",void 0),Nd([k("columnModel")],e.prototype,"columnModel",void 0),Nd([k("columnUtils")],e.prototype,"columnUtils",void 0),Nd([k("valueService")],e.prototype,"valueService",void 0),Nd([k("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Nd([Fe],e.prototype,"init",null),e=Nd([et("dataTypeService")],e),e}(Re),WKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nte=function(r){WKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.parseValue=function(t,n,i,o){var a=t.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:n,data:n==null?void 0:n.data,oldValue:o,newValue:i,colDef:a,column:t}),l=a.valueParser;return Ee(l)?typeof l=="function"?l(s):this.expressionService.evaluate(l,s):i},CK([k("expressionService")],e.prototype,"expressionService",void 0),e=CK([et("valueParserService")],e),e}(Re),zKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},UKe=function(r){zKe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.waitingForColumns=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedPropertyListener("columnDefs",function(n){return t.setColumnDefs(n)})},e.prototype.start=function(){var t=this;this.ctrlsService.whenReady(function(){var n=t.gridOptionsService.get("columnDefs");n?t.setColumnsAndData(n):t.waitingForColumns=!0,t.gridReady()})},e.prototype.setColumnsAndData=function(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()},e.prototype.gridReady=function(){var t=this;this.dispatchGridReadyEvent();var n=Nr.__isRegistered(Ct.EnterpriseCoreModule,this.context.getGridId()),i=new F0("AG Grid",function(){return t.gridOptionsService.get("debug")});i.log("initialised successfully, enterprise = ".concat(n))},e.prototype.dispatchGridReadyEvent=function(){var t={type:W.EVENT_GRID_READY};this.eventService.dispatchEvent(t)},e.prototype.setColumnDefs=function(t){var n=this.gridOptionsService.get("columnDefs");if(n){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(n);return}this.columnModel.setColumnDefs(n,Mf(t.source))}},Qg([k("ctrlsService")],e.prototype,"ctrlsService",void 0),Qg([k("columnModel")],e.prototype,"columnModel",void 0),Qg([k("rowModel")],e.prototype,"rowModel",void 0),Qg([Fe],e.prototype,"postConstruct",null),e=Qg([et("syncService")],e),e}(Re),jKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HM=function(){return HM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},HM.apply(this,arguments)},Zg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},KKe=function(r){jKe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.manuallyDisplayed=!1,t}return e.prototype.postConstruct=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_ROW_DATA_UPDATED,function(){return t.onRowDataUpdated()}),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,function(){return t.onNewColumnsLoaded()})},e.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var t={},n=this.userComponentFactory.getLoadingOverlayCompDetails(t);this.showOverlay(n,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var t={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(t);this.showOverlay(n,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},e.prototype.showOverlay=function(t,n,i){var o=this,a=t.newAgStackInstance(),s=this.addManagedPropertyListener(i,function(l){var u=l.currentValue;a.then(function(c){c.refresh&&c.refresh(o.gridOptionsService.addGridCommonParams(HM({},u??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(a,n,s)},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),n=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!n?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},Zg([k("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Zg([k("paginationProxy")],e.prototype,"paginationProxy",void 0),Zg([k("columnModel")],e.prototype,"columnModel",void 0),Zg([Fe],e.prototype,"postConstruct",null),e=Zg([et("overlayService")],e),e}(Re),qKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ic=function(){return Ic=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ic.apply(this,arguments)},aa=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},YKe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XKe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},QKe=function(r){qKe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.suppressEvents=!0,t.queuedUpdateSources=new Set,t.dispatchStateUpdateEventDebounced=Ia(function(){return t.dispatchQueuedStateUpdateEvents()},0),t}return e.prototype.postConstruct=function(){var t=this,n;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},this.ctrlsService.whenReady(function(){return t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnGridReady()})});var i=this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,function(s){var l=s.source;l==="gridInitializing"&&(i==null||i(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,W.EVENT_ROW_COUNT_READY,function(){o==null||o(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnRowCountReady()})}),a=this.addManagedListener(this.eventService,W.EVENT_FIRST_DATA_RENDERED,function(){a==null||a(),t.suppressEventsAndDispatchInitEvent(function(){return t.setupStateOnFirstDataRendered()})})},e.prototype.getState=function(){return this.cachedState},e.prototype.setupStateOnGridReady=function(){var t=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,W.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return t.updateCachedState("sideBar",t.getSideBarState())}),this.addManagedListener(this.eventService,W.EVENT_SIDE_BAR_UPDATED,function(){return t.updateCachedState("sideBar",t.getSideBarState())})},e.prototype.setupStateOnColumnsInitialised=function(){var t=this,n,i=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{};this.setColumnState(i),this.setColumnGroupState(i),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,function(){return t.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_MOVED,function(){return t.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PINNED,function(){return t.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_RESIZED,function(){return t.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VISIBLE,function(){return t.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,function(){return t.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,W.EVENT_COLUMN_GROUP_OPENED,function(){return t.updateCachedState("columnGroup",t.getColumnGroupState())})},e.prototype.setupStateOnRowCountReady=function(){var t=this,n,i=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=i.filter,a=i.rowGroupExpansion,s=i.rowSelection,l=i.pagination,u=this.gridOptionsService.get("advancedFilterModel");(o||u)&&this.setFilterState(o,u),a&&this.setRowGroupExpansionState(a),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,function(){return t.updateCachedState("filter",t.getFilterState())}),this.addManagedListener(this.eventService,W.EVENT_ROW_GROUP_OPENED,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,W.EVENT_EXPAND_COLLAPSE_ALL,function(){return t.updateCachedState("rowGroupExpansion",t.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,W.EVENT_SELECTION_CHANGED,function(){return t.updateCachedState("rowSelection",t.getRowSelectionState())}),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,function(c){(c.newPage||c.newPageSize)&&t.updateCachedState("pagination",t.getPaginationState())})},e.prototype.setupStateOnFirstDataRendered=function(){var t=this,n,i=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=i.scroll,a=i.rangeSelection,s=i.focusedCell,l=i.columnOrder;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),o&&this.setScrollState(o),this.setColumnPivotState(!!(l!=null&&l.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,W.EVENT_CELL_FOCUSED,function(){return t.updateCachedState("focusedCell",t.getFocusedCellState())}),this.addManagedListener(this.eventService,W.EVENT_RANGE_SELECTION_CHANGED,function(u){u.finished&&t.updateCachedState("rangeSelection",t.getRangeSelectionState())}),this.addManagedListener(this.eventService,W.EVENT_BODY_SCROLL_END,function(){return t.updateCachedState("scroll",t.getScrollState())})},e.prototype.getColumnState=function(){for(var t=this.columnModel.isPivotMode(),n=[],i=[],o=[],a=[],s=[],l=[],u=[],c=[],d=[],h=this.columnModel.getColumnState(),p=0;p<h.length;p++){var f=h[p],v=f.colId,g=f.sort,m=f.sortIndex,C=f.rowGroup,y=f.rowGroupIndex,w=f.aggFunc,T=f.pivot,S=f.pivotIndex,x=f.pinned,I=f.hide,R=f.width,D=f.flex;d.push(v),g&&(n[m??0]={colId:v,sort:g}),C&&(i[y??0]=v),typeof w=="string"&&o.push({colId:v,aggFunc:w}),T&&(a[S??0]=v),x&&(x==="right"?l:s).push(v),I&&u.push(v),(D||R)&&c.push({colId:v,flex:D??void 0,width:R})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||t?{pivotMode:t,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},e.prototype.setColumnState=function(t){var n=t.sort,i=t.rowGroup,o=t.aggregation,a=t.pivot,s=t.columnPinning,l=t.columnVisibility,u=t.columnSizing,c=t.columnOrder,d={},h=function(m){var C=d[m];return C||(C={colId:m},d[m]=C,C)};n&&n.sortModel.forEach(function(m,C){var y=m.colId,w=m.sort,T=h(y);T.sort=w,T.sortIndex=C}),i&&i.groupColIds.forEach(function(m,C){var y=h(m);y.rowGroup=!0,y.rowGroupIndex=C}),o&&o.aggregationModel.forEach(function(m){var C=m.colId,y=m.aggFunc;h(C).aggFunc=y}),a&&(a.pivotColIds.forEach(function(m,C){var y=h(m);y.pivot=!0,y.pivotIndex=C}),this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(m){h(m).pinned="left"}),s.rightColIds.forEach(function(m){h(m).pinned="right"})),l&&l.hiddenColIds.forEach(function(m){h(m).hide=!0}),u&&u.columnSizingModel.forEach(function(m){var C=m.colId,y=m.flex,w=m.width,T=h(C);T.flex=y??null,T.width=w});var p=c==null?void 0:c.orderedColIds,f=!!(p!=null&&p.length),v=f?p.map(function(m){return h(m)}):Object.values(d);if(v.length){this.columnStates=v;var g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:v,applyOrder:f,defaultState:g},"gridInitializing")}},e.prototype.setColumnPivotState=function(t){var n,i,o=this.columnStates;this.columnStates=void 0;var a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(o){var s=[];try{for(var l=YKe(o),u=l.next();!u.done;u=l.next()){var c=u.value;this.columnModel.getSecondaryColumn(c.colId)&&s.push(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}this.columnModel.applyColumnState({state:s,applyOrder:t},"gridInitializing")}a&&this.columnModel.setColumnGroupState(a,"gridInitializing")}},e.prototype.getColumnGroupState=function(){var t=this.columnModel.getColumnGroupState(),n=[];return t.forEach(function(i){var o=i.groupId,a=i.open;a&&n.push(o)}),n.length?{openColumnGroupIds:n}:void 0},e.prototype.setColumnGroupState=function(t){var n;if(t.hasOwnProperty("columnGroup")){var i=new Set((n=t.columnGroup)===null||n===void 0?void 0:n.openColumnGroupIds),o=this.columnModel.getColumnGroupState(),a=o.map(function(s){var l=s.groupId,u=i.has(l);return u&&i.delete(l),{groupId:l,open:u}});i.forEach(function(s){a.push({groupId:s,open:!0})}),a.length&&(this.columnGroupStates=a),this.columnModel.setColumnGroupState(a,"gridInitializing")}},e.prototype.getFilterState=function(){var t,n=this.filterManager.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);var i=(t=this.filterManager.getAdvancedFilterModel())!==null&&t!==void 0?t:void 0;return n||i?{filterModel:n,advancedFilterModel:i}:void 0},e.prototype.setFilterState=function(t,n){var i=t??{advancedFilterModel:n},o=i.filterModel,a=i.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},e.prototype.getRangeSelectionState=function(){var t,n=(t=this.rangeService)===null||t===void 0?void 0:t.getCellRanges().map(function(i){var o=i.id,a=i.type,s=i.startRow,l=i.endRow,u=i.columns,c=i.startColumn;return{id:o,type:a,startRow:s,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return n!=null&&n.length?{cellRanges:n}:void 0},e.prototype.setRangeSelectionState=function(t){var n=this,i;if(this.gridOptionsService.get("enableRangeSelection")){var o=t.cellRanges.map(function(a){return Ic(Ic({},a),{columns:a.colIds.map(function(s){return n.columnModel.getGridColumn(s)}),startColumn:n.columnModel.getGridColumn(a.startColId)})});(i=this.rangeService)===null||i===void 0||i.setCellRanges(o)}},e.prototype.getScrollState=function(){var t,n,i;if(this.isClientSideRowModel){var o=(t=this.ctrlsService.getGridBodyCtrl())===null||t===void 0?void 0:t.getScrollFeature(),a=((n=o==null?void 0:o.getHScrollPosition())!==null&&n!==void 0?n:{left:0}).left,s=((i=o==null?void 0:o.getVScrollPosition())!==null&&i!==void 0?i:{top:0}).top;return s||a?{top:s,left:a}:void 0}},e.prototype.setScrollState=function(t){var n;if(this.isClientSideRowModel){var i=t.top,o=t.left;(n=this.ctrlsService.getGridBodyCtrl())===null||n===void 0||n.getScrollFeature().setScrollPosition(i,o)}},e.prototype.getSideBarState=function(){var t,n;return(n=(t=this.sideBarService)===null||t===void 0?void 0:t.getSideBarComp())===null||n===void 0?void 0:n.getState()},e.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var t=this.focusService.getFocusedCell();if(t){var n=t.column,i=t.rowIndex,o=t.rowPinned;return{colId:n.getColId(),rowIndex:i,rowPinned:o}}}},e.prototype.setFocusedCellState=function(t){if(this.isClientSideRowModel){var n=t.colId,i=t.rowIndex,o=t.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(n),rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.getPaginationState=function(){var t=this.paginationProxy.getCurrentPage(),n=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!t&&!n))return{page:t,pageSize:n}},e.prototype.setPaginationState=function(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationProxy.setPage(t.page)},e.prototype.getRowSelectionState=function(){var t,n=this.selectionService.getSelectionState(),i=!n||!Array.isArray(n)&&(n.selectAll===!1||n.selectAllChildren===!1)&&!(!((t=n==null?void 0:n.toggledNodes)===null||t===void 0)&&t.length);return i?void 0:n},e.prototype.setRowSelectionState=function(t){this.selectionService.setSelectionState(t,"gridInitializing")},e.prototype.getRowGroupExpansionState=function(){var t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0},e.prototype.setRowGroupExpansionState=function(t){this.expansionService.expandRows(t.expandedRowGroupIds)},e.prototype.updateColumnState=function(t){var n=this,i=this.getColumnState(),o=!1;Object.entries(i).forEach(function(a){var s=XKe(a,2),l=s[0],u=s[1];CM(u,n.cachedState[l])||(o=!0)}),this.cachedState=Ic(Ic({},this.cachedState),i),o&&this.dispatchStateUpdateEvent(t)},e.prototype.updateCachedState=function(t,n){var i,o=this.cachedState[t];this.cachedState=Ic(Ic({},this.cachedState),(i={},i[t]=n,i)),CM(n,o)||this.dispatchStateUpdateEvent([t])},e.prototype.dispatchStateUpdateEvent=function(t){var n=this;this.suppressEvents||(t.forEach(function(i){return n.queuedUpdateSources.add(i)}),this.dispatchStateUpdateEventDebounced())},e.prototype.dispatchQueuedStateUpdateEvents=function(){var t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var n={type:W.EVENT_STATE_UPDATED,sources:t,state:this.cachedState};this.eventService.dispatchEvent(n)},e.prototype.suppressEventsAndDispatchInitEvent=function(t){var n=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(function(){n.suppressEvents=!1,n.queuedUpdateSources.clear(),n.isAlive()&&(n.columnAnimationService.setSuppressAnimation(!1),n.dispatchStateUpdateEvent(["gridInitializing"]))})},aa([k("filterManager")],e.prototype,"filterManager",void 0),aa([Cr("rangeService")],e.prototype,"rangeService",void 0),aa([k("ctrlsService")],e.prototype,"ctrlsService",void 0),aa([Cr("sideBarService")],e.prototype,"sideBarService",void 0),aa([k("focusService")],e.prototype,"focusService",void 0),aa([k("columnModel")],e.prototype,"columnModel",void 0),aa([k("paginationProxy")],e.prototype,"paginationProxy",void 0),aa([k("rowModel")],e.prototype,"rowModel",void 0),aa([k("selectionService")],e.prototype,"selectionService",void 0),aa([k("expansionService")],e.prototype,"expansionService",void 0),aa([k("columnAnimationService")],e.prototype,"columnAnimationService",void 0),aa([Fe],e.prototype,"postConstruct",null),e=aa([et("stateService")],e),e}(Re),ZKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kd=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Jg=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},JKe=function(r){ZKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.processGridOptions(this.gridOptions)},e.prototype.processGridOptions=function(t){this.processOptions(t,NKe)},e.prototype.processColumnDefs=function(t){this.processOptions(t,Lf)},e.prototype.processOptions=function(t,n){var i=this,o=n.validations,a=n.deprecations,s=n.allProperties,l=n.propertyExceptions,u=n.objectName,c=n.docsUrl;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,Jg(Jg([],kd(l??[]),!1),kd(Object.keys(a)),!1),s,u,c);var d=new Set,h=Object.keys(t);h.forEach(function(p){var f,v=a[p];if(v)if("renamed"in v){var g=v.renamed,m=v.version;d.add("As of v".concat(m,", ").concat(String(p)," is deprecated. Please use ").concat(String(g)," instead.")),t[g]=t[p]}else{var C=v.message,m=v.version;d.add("As of v".concat(m,", ").concat(String(p)," is deprecated. ").concat(C??""))}var y=t[p];if(!(y==null||y===!1)){var w=o[p],T;if(w)if(typeof w=="function"){var S=w(t,i.gridOptions);if(!S)return;if("objectName"in S){var x=t[p];if(Array.isArray(x)){x.forEach(function(M){i.processOptions(M,S)});return}i.processOptions(t[p],S);return}T=S}else T=w;else return;var I=T.module,R=T.dependencies,D=T.supportedRowModels;if(D){var A=(f=i.gridOptions.rowModelType)!==null&&f!==void 0?f:"clientSide";if(!D.includes(A)){d.add("".concat(String(p)," is not supported with the '").concat(A,"' row model."));return}}if(I){var V=Array.isArray(I)?I:[I],F=!0;if(V.forEach(function(M){Nr.__assertRegistered(M,String(p),i.context.getGridId())||(F=!1,d.add("".concat(String(p)," is only available when ").concat(M," is loaded.")))}),!F)return}if(R){var P=i.checkForWarning(p,R,t);if(P){d.add(P);return}}}}),d.size>0&&d.forEach(function(p){Tt(p)})},e.prototype.checkForWarning=function(t,n,i){if(typeof n=="function")return n(i,this.gridOptions);var o=Object.entries(n),a=o.find(function(c){var d=kd(c,2),h=d[0],p=d[1],f=i[h];return!p.includes(f)});if(!a)return null;var s=kd(a,2),l=s[0],u=s[1];return u.length>1?"'".concat(String(t),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(t),"' requires '").concat(l,"' to be ").concat(u[0],".")},e.prototype.checkProperties=function(t,n,i,o,a){var s=["__ob__","__v_skip","__metadata__"],l=ZZ(Object.getOwnPropertyNames(t),Jg(Jg(Jg([],kd(s),!1),kd(n),!1),kd(i),!1),i);if(Qi(l,function(c,d){Tt("invalid ".concat(o," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var u=this.getFrameworkOverrides().getDocLink(a);Tt("to see all the valid ".concat(o," properties please check: ").concat(u))}},UD([k("gridOptions")],e.prototype,"gridOptions",void 0),UD([Fe],e.prototype,"init",null),e=UD([et("validationService")],e),e}(Re),e4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},t4e=function(r){e4e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syncEventListeners=new Map,t.asyncEventListeners=new Map,t.syncGlobalEventListeners=new Set,t.asyncGlobalEventListeners=new Set,t}return e.prototype.postConstruct=function(){this.frameworkEventWrappingService=new zN(this.getFrameworkOverrides())},e.prototype.addEventListener=function(t,n){var i=this.frameworkEventWrappingService.wrap(n),o=this.gridOptionsService.useAsyncEvents(),a=o?this.asyncEventListeners:this.syncEventListeners;a.has(t)||a.set(t,new Set),a.get(t).add(i),this.eventService.addEventListener(t,i,o)},e.prototype.addGlobalListener=function(t){var n=this.frameworkEventWrappingService.wrapGlobal(t),i=this.gridOptionsService.useAsyncEvents(),o=i?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;o.add(n),this.eventService.addGlobalListener(n,i)},e.prototype.removeEventListener=function(t,n){var i,o=this.frameworkEventWrappingService.unwrap(n),a=this.asyncEventListeners.get(t),s=!!(a!=null&&a.delete(o));s||(i=this.asyncEventListeners.get(t))===null||i===void 0||i.delete(o),this.eventService.removeEventListener(t,o,s)},e.prototype.removeGlobalListener=function(t){var n=this.frameworkEventWrappingService.unwrapGlobal(t),i=this.asyncGlobalEventListeners.delete(n);i||this.syncGlobalEventListeners.delete(n),this.eventService.removeGlobalListener(n,i)},e.prototype.destroyEventListeners=function(t,n){var i=this;t.forEach(function(o,a){o.forEach(function(s){return i.eventService.removeEventListener(a,s,n)}),o.clear()}),t.clear()},e.prototype.destroyGlobalListeners=function(t,n){var i=this;t.forEach(function(o){return i.eventService.removeGlobalListener(o,n)}),t.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},yK([Fe],e.prototype,"postConstruct",null),e=yK([et("apiEventService")],e),e}(Re),r4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},n4e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},i4e=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},o4e=function(r){r4e(e,r);function e(){var t=r.call(this,'<span class="ag-paging-page-size"></span>')||this;return t.hasEmptyOption=!1,t.handlePageSizeItemSelected=function(){if(t.selectPageSizeComp){var n=t.selectPageSizeComp.getValue();if(n){var i=Number(n);isNaN(i)||i<1||i===t.paginationProxy.getPageSize()||(t.paginationProxy.setPageSize(i,"pageSizeSelector"),t.hasEmptyOption&&t.toggleSelectDisplay(!0),t.selectPageSizeComp.getFocusableElement().focus())}}},t}return e.prototype.init=function(){var t=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){t.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,W.EVENT_PAGINATION_CHANGED,function(n){return t.handlePaginationChanged(n)})},e.prototype.handlePaginationChanged=function(t){if(!(!this.selectPageSizeComp||!(t!=null&&t.newPageSize))){var n=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(n)?this.selectPageSizeComp.setValue(n.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},e.prototype.toggleSelectDisplay=function(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},e.prototype.reset=function(){mi(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},e.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},e.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},e.prototype.reloadPageSizesSelector=function(){var t=this,n=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),o=!i||!n.includes(i);o&&(n.unshift(""),Tt(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=n.map(function(c){return{value:String(c),text:String(c)}}),u=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new iy).addOptions(l).setValue(String(o?"":i)).setAriaLabel(u).setLabel(s).onValueChange(function(){return t.handlePageSizeItemSelected()}),this.hasEmptyOption=o},e.prototype.getPageSizeSelectorValues=function(){var t=[20,50,100],n=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(n)||!this.validateValues(n)?t:i4e([],n4e(n),!1).sort(function(i,o){return i-o})},e.prototype.validateValues=function(t){if(!t.length)return Tt(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var n=0;n<t.length;n++){var i=t[n],o=typeof i=="number",a=i>0;if(!o)return Tt(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!a)return Tt(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},e.prototype.destroy=function(){this.toggleSelectDisplay(!1),r.prototype.destroy.call(this)},hw([k("localeService")],e.prototype,"localeService",void 0),hw([k("gridOptionsService")],e.prototype,"gridOptionsService",void 0),hw([k("paginationProxy")],e.prototype,"paginationProxy",void 0),hw([Fe],e.prototype,"init",null),e}(jt),a4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},s4e=function(r){a4e(e,r);function e(){var t=r.call(this)||this;return t.descriptionContainer=null,t.announceValue=Ia(t.announceValue.bind(t),200),t}return e.prototype.postConstruct=function(){var t=this.gridOptionsService.getDocument(),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),XN(n,"polite"),DZ(n,"additions text"),OZ(n,!0),this.eGridDiv.appendChild(n)},e.prototype.announceValue=function(t){var n=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(function(){n.descriptionContainer.textContent=t},50))},e.prototype.destroy=function(){r.prototype.destroy.call(this);var t=this.descriptionContainer;t&&(mi(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null},jD([k("eGridDiv")],e.prototype,"eGridDiv",void 0),jD([Fe],e.prototype,"postConstruct",null),e=jD([et("ariaAnnouncementService")],e),e}(Re),SK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},wK=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};function l4e(r,e,t){if(!e)return Hs("No gridOptions provided to createGrid"),{};var n=Wk.getCoercedGridOptions(e),i=new zk().create(r,n,function(a){var s=new $k(r);a.createBean(s)},void 0,t);if(!Object.isFrozen(e)&&!(t!=null&&t.frameworkOverrides)){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:function(){Hs("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(e,"columnApi",{get:function(){Hs("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return i}var u4e=function(){function r(e,t,n){var i=this;if(Tt("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!t){Hs("No gridOptions provided to the grid");return}this.gridOptions=t;var o=new zk().create(e,t,function(a){var s=new $k(e),l=a.createBean(s);l.addDestroyFunc(function(){i.destroy()})},void 0,n);this.gridOptions.api=o,this.gridOptions.columnApi=new M0(o)}return r.prototype.destroy=function(){var e;this.gridOptions&&((e=this.gridOptions.api)===null||e===void 0||e.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},r}(),c4e=1,zk=function(){function r(){}return r.prototype.create=function(e,t,n,i,o){var a,s=!!t.debug,l=(a=t.gridId)!==null&&a!==void 0?a:String(c4e++),u=this.getRegisteredModules(o,l),c=this.createBeansList(t.rowModelType,u,l),d=this.createProvidedBeans(e,t,o);if(!c){Hs("Failed to create grid.");return}var h={providedBeanInstances:d,beanClasses:c,debug:s,gridId:l},p=new F0("Context",function(){return h.debug}),f=new sZ(h,p),v=f.getBean("beans");return this.registerModuleUserComponents(v,u),this.registerStackComponents(v,u),this.registerControllers(v,u),n(f),v.syncService.start(),i&&i(f),v.gridApi},r.prototype.registerControllers=function(e,t){t.forEach(function(n){n.controllers&&n.controllers.forEach(function(i){return e.ctrlsFactory.register(i)})})},r.prototype.registerStackComponents=function(e,t){var n=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(n)},r.prototype.getRegisteredModules=function(e,t){var n=e?e.modules:null,i=Nr.__getRegisteredModules(t),o=[],a={},s=function(l,u,c){var d=function(h){a[h.moduleName]||(a[h.moduleName]=!0,o.push(h),Nr.__register(h,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(h){return s(l,h,c)})};return n&&n.forEach(function(l){return s(!0,l,t)}),i&&i.forEach(function(l){return s(!Nr.__isPackageBased(),l,void 0)}),o},r.prototype.registerModuleUserComponents=function(e,t){var n=this.extractModuleEntity(t,function(i){return i.userComponents?i.userComponents:[]});n.forEach(function(i){e.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},r.prototype.createProvidedBeans=function(e,t,n){var i=n?n.frameworkOverrides:null;At(i)&&(i=new Lee);var o={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:oy},{componentName:"AgRadioButton",componentClass:Rk},{componentName:"AgToggleButton",componentClass:bee},{componentName:"AgInputTextField",componentClass:_d},{componentName:"AgInputTextArea",componentClass:Eee},{componentName:"AgInputNumberField",componentClass:T0},{componentName:"AgInputDateField",componentClass:xee},{componentName:"AgInputRange",componentClass:Iee},{componentName:"AgRichSelect",componentClass:Tee},{componentName:"AgSelect",componentClass:iy},{componentName:"AgSlider",componentClass:Ree},{componentName:"AgGridBody",componentClass:UJ},{componentName:"AgHeaderRoot",componentClass:lee},{componentName:"AgSortIndicator",componentClass:O0},{componentName:"AgPagination",componentClass:nKe},{componentName:"AgPageSizeSelector",componentClass:o4e},{componentName:"AgOverlayWrapper",componentClass:oKe},{componentName:"AgGroupComponent",componentClass:Oee},{componentName:"AgRowContainer",componentClass:QJ},{componentName:"AgFakeHorizontalScroll",componentClass:IKe},{componentName:"AgFakeVerticalScroll",componentClass:GKe},{componentName:"AgAutocomplete",componentClass:Fee}],n=this.extractModuleEntity(e,function(i){return i.agStackComponents?i.agStackComponents:[]});return t=t.concat(n),t},r.prototype.createBeansList=function(e,t,n){e===void 0&&(e="clientSide");var i=t.filter(function(u){return!u.rowModel||u.rowModel===e}),o={clientSide:Ct.ClientSideRowModelModule,infinite:Ct.InfiniteRowModelModule,serverSide:Ct.ServerSideRowModelModule,viewport:Ct.ViewportRowModelModule};if(!o[e]){Hs("Could not find row model for rowModelType = "+e);return}if(Nr.__assertRegistered(o[e],"rowModelType = '".concat(e,"'"),n)){var a=[kk,Yee,Xee,Qee,N2e,Fk,MJ,$2e,z2e,hee,LJ,eKe,uee,tte,JKe,Cee,kJ,bZ,qu,Wk,Mee,Vee,BJ,SZ,aee,See,mee,Hee,_Z,Gee,kee,qJ,jee,Bee,$ee,wZ,gee,cee,ri,M0,Uee,KJ,Kee,Nee,_ee,wee,jJ,zee,P2e,F2e,qee,aGe,H2e,pee,pKe,EZ,gKe,mKe,yee,Zee,Jee,RKe,DKe,bKe,rte,nte,VJ,UKe,KKe,QKe,fee,t4e,s4e,vee],s=this.extractModuleEntity(i,function(u){return u.beans?u.beans:[]});a.push.apply(a,wK([],SK(s),!1));var l=[];return a.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},r.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],wK([],SK(e.map(t)),!1))},r}(),d4e=function(){function r(){}return r.prototype.wrap=function(e,t,n,i){var o=this;n===void 0&&(n=[]);var a=this.createWrapper(e,i);return t.forEach(function(s){o.createMethod(a,s,!0)}),n.forEach(function(s){o.createMethod(a,s,!1)}),a},r.prototype.unwrap=function(e){return e},r.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},r.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},r}(),h4e={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},p4e=["chartSettings","chartData","chartFormat"],f4e=["chartUnlink","chartLink","chartDownload"],v4e={settings:"chartSettings",data:"chartData",format:"chartFormat"},g4e=0,GM;(function(r){r.InsideBase="insideBase",r.InsideEnd="insideEnd",r.Center="center",r.OutsideEnd="outsideEnd"})(GM||(GM={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v31.1.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Av=typeof global>"u"?{}:global;Av.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Av.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Av.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Av.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Av.Node=typeof Node>"u"?{}:Node;Av.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var em=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},tm=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},m4e=function(){function r(e,t,n,i,o,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=n,this.columnModel=i,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return r.prototype.getCopyOfNodesMap=function(){return Jt.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(e){return this.allNodesMap[e]},r.prototype.setRowData=function(e){var t=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map(function(o){return t.createNode(o,t.rootNode,r.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)},r.prototype.updateRowData=function(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.executeAdd(e,n),this.updateSelection(i,"rowDataChanged"),t&&Jt.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},r.prototype.isRowCountReady=function(){return this.rowCountReady},r.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:W.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)},r.prototype.updateSelection=function(e,t){var n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){var i={type:W.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}},r.prototype.executeAdd=function(e,t){var n=this,i,o=e.add,a=e.addIndex;if(!Jt.missingOrEmpty(o)){var s=o.map(function(v){return n.createNode(v,n.rootNode,r.TOP_LEVEL)});if(typeof a=="number"&&a>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=a,d=this.gridOptionsService.get("treeData");if(d&&a>0&&u>0){for(var h=0;h<u;h++)if(((i=l[h])===null||i===void 0?void 0:i.rowIndex)==a-1){c=h+1;break}}var p=l.slice(0,c),f=l.slice(c,l.length);this.rootNode.allLeafChildren=tm(tm(tm([],em(p),!1),em(s),!1),em(f),!1)}else this.rootNode.allLeafChildren=tm(tm([],em(this.rootNode.allLeafChildren),!1),em(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=s}},r.prototype.executeRemove=function(e,t,n){var i=this,o=e.remove;if(!Jt.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=i.lookupRowNode(s);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete i.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(e,t,n){var i=this,o=e.update;Jt.missingOrEmpty(o)||o.forEach(function(a){var s=i.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&n.push(s),i.setMasterForRow(s,a,r.TOP_LEVEL,!1),t.update.push(s))})},r.prototype.lookupRowNode=function(e){var t=this.gridOptionsService.getCallback("getRowId"),n;if(t){var i=t({data:e,level:0});if(n=this.allNodesMap[i],!n)return console.error("AG Grid: could not find row id=".concat(i,", data item was not found for this id")),null}else if(n=this.rootNode.allLeafChildren.find(function(o){return o.data===e}),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},r.prototype.createNode=function(e,t,n){var i=new Zt(this.beans);i.group=!1,this.setMasterForRow(i,e,n,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return t&&!o&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '".concat(i.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[i.id]=i,this.nextId++,i},r.prototype.setMasterForRow=function(e,t,n,i){var o=this.gridOptionsService.get("treeData");if(o)e.setMaster(!1),i&&(e.expanded=!1);else{var a=this.gridOptionsService.get("masterDetail");if(a){var s=this.gridOptionsService.get("isRowMaster");s?e.setMaster(s(t)):e.setMaster(!0)}else e.setMaster(!1);if(i){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=n+u;e.expanded=e.master?this.isExpanded(c):!1}}},r.prototype.isExpanded=function(e){var t=this.gridOptionsService.get("groupDefaultExpanded");return t===-1?!0:e<t},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),_4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ao=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Po=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Mo=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},vl;(function(r){r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes"})(vl||(vl={}));var C4e=function(r){_4e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=Jt.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t.hasStarted=!1,t.shouldSkipSettingDataOnStart=!1,t.isRefreshingModel=!1,t.rowCountReady=!1,t}return e.prototype.init=function(){var t=this,n=this.refreshModel.bind(this,{step:ur.EVERYTHING}),i=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:ur.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,W.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ur.PIVOT})),this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,W.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,W.EVENT_GRID_READY,function(){return t.onGridReady()}),this.addPropertyListeners(),this.rootNode=new Zt(this.beans),this.nodeManager=new m4e(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.addPropertyListeners=function(){var t=this,n=new Set(["treeData","masterDetail"]),i=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=Mo(Mo(Mo(Mo(Mo(Mo(Mo(Mo(Mo([],Po(n),!1),Po(i),!1),Po(o),!1),Po(a),!1),Po(a),!1),Po(s),!1),Po(l),!1),Po(u),!1),Po(c),!1);this.addManagedPropertyListeners(d,function(h){var p,f=(p=h.changeSet)===null||p===void 0?void 0:p.properties;if(f){var v=function(g){return f.some(function(m){return g.has(m)})};if(v(n)){t.setRowData(t.rootNode.allLeafChildren.map(function(g){return g.data}));return}if(v(i)){t.refreshModel({step:ur.EVERYTHING});return}if(v(o)){t.refreshModel({step:ur.FILTER});return}if(v(a)){t.refreshModel({step:ur.PIVOT});return}if(v(s)){t.refreshModel({step:ur.AGGREGATE});return}if(v(l)){t.refreshModel({step:ur.SORT});return}if(v(u)){t.refreshModel({step:ur.FILTER_AGGREGATES});return}v(c)&&t.refreshModel({step:ur.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return t.resetRowHeights()})},e.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},e.prototype.setInitialData=function(){var t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))},e.prototype.ensureRowHeightsValid=function(t,n,i,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(n),c=Math.max(l,i),d=Math.min(u,o),h=c;h<=d;h++){var p=this.getRow(h);if(p.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(f.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),n=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(s.id!=null&&i.add(s.id),s.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(s,o,t);s.setRowHeight(l.height,l.estimated)}s.setRowTop(n),s.setRowIndex(a),n+=s.rowHeight}return i},e.prototype.clearRowTopAndRowIndex=function(t,n){var i=t.isActive(),o=function(s){s&&s.id!=null&&!n.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){var l=s.level==-1,u=i&&!l&&!s.expanded;u||s.childrenAfterGroup.forEach(a)}};a(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,n,i){var o=this;i===void 0&&(i=0);var a=this.getRowIndexAtPixel(n),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s===t[0]?!1:(t.forEach(function(u){Jt.removeFromArray(o.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){Jt.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(a+i,0)+c)}),this.refreshModel({step:ur.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,n){var i=n!=null?this.getRowIndexAtPixel(n):null,o=i!=null?this.getRow(i):null;if(!o||!t||o===t||n==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var a=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o},e.prototype.getHighlightPosition=function(t,n){if(!n){var i=this.getRowIndexAtPixel(t);if(n=this.getRow(i||0),!n)return Pl.Below}var o=n.rowTop,a=n.rowHeight;return t-o<a/2?Pl.Above:Pl.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var n=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(n)return t;var i=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},e.prototype.getRowBounds=function(t){if(Jt.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[t];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ur.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),i=t.columns.length===0||t.columns.some(function(a){return a.isPrimary()}),o=i?ur.FILTER:ur.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:n})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ur.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ur.PIVOT}):this.refreshModel({step:ur.AGGREGATE})},e.prototype.createChangePath=function(t){var n=Jt.missingOrEmpty(t),i=new uy(!1,this.rootNode);return(n||this.gridOptionsService.get("treeData"))&&i.setInactive(),i},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;var n=t.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=n==null||n.length==0;return i},e.prototype.buildRefreshModelParams=function(t){var n=ur.EVERYTHING,i={everything:ur.EVERYTHING,group:ur.EVERYTHING,filter:ur.FILTER,map:ur.MAP,aggregate:ur.AGGREGATE,sort:ur.SORT,pivot:ur.PIVOT};if(Jt.exists(t)&&(n=i[t]),Jt.missing(n)){console.error("AG Grid: invalid step ".concat(t,", available steps are ").concat(Object.keys(i).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),a={step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return a},e.prototype.refreshModel=function(t){if(!(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())){var n=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var i=this.createChangePath(n.rowNodeTransactions);switch(this.isRefreshingModel=!0,n.step){case ur.EVERYTHING:this.doRowGrouping(n.rowNodeTransactions,n.rowNodeOrder,i,!!n.afterColumnsChanged);case ur.FILTER:this.doFilter(i);case ur.PIVOT:this.doPivot(i);case ur.AGGREGATE:this.doAggregate(i);case ur.FILTER_AGGREGATES:this.doFilterAggregates(i);case ur.SORT:this.doSort(n.rowNodeTransactions,i);case ur.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o),this.isRefreshingModel=!1;var a={type:W.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack};this.eventService.dispatchEvent(a)}}},e.prototype.isEmpty=function(){var t=Jt.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Jt.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return Jt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,n){var i=!n,o=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(i&&(l===n||l===t)&&(o=!0,l.group&&s)){a.push.apply(a,Mo([],Po(l.allLeafChildren),!1));return}if(!i){if(l!==n&&l!==t)return;i=!0}var u=!l.group||!s;if(u){a.push(l);return}}}),a},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var n=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;var o=Jt.last(this.rowsToDisplay);if(o.rowTop<=t)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((n+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?n=l+1:u.rowTop>t&&(i=l-1);var c=a===n&&s===i;if(c)return l;a=n,s=i}},e.prototype.isRowInPixel=function(t,n){var i=t.rowTop,o=t.rowTop+t.rowHeight,a=i<=n&&o>n;return a},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,i){return t(n,i)})},e.prototype.forEachNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Mo([],Po(this.rootNode.childrenAfterGroup||[]),!1),callback:t,recursionType:vl.Normal,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilter=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Mo([],Po(this.rootNode.childrenAfterAggFilter||[]),!1),callback:t,recursionType:vl.AfterFilter,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilterAndSort=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Mo([],Po(this.rootNode.childrenAfterSort||[]),!1),callback:t,recursionType:vl.AfterFilterAndSort,index:0,includeFooterNodes:n})},e.prototype.forEachPivotNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:vl.PivotNodes,index:0,includeFooterNodes:n})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var n,i=t.nodes,o=t.callback,a=t.recursionType,s=t.includeFooterNodes,l=t.index,u=0;u<i.length;u++){var c=i[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(a){case vl.Normal:d=c.childrenAfterGroup;break;case vl.AfterFilter:d=c.childrenAfterAggFilter;break;case vl.AfterFilterAndSort:d=c.childrenAfterSort;break;case vl.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Mo([],Po(d),!1),callback:o,recursionType:a,index:l,includeFooterNodes:s}))}}var h=(n=i[0])===null||n===void 0?void 0:n.parent;if(!s||!h)return l;var p=h===this.rootNode;if(p){var f=this.gridOptionsService.get("groupIncludeTotalFooter");if(!f)return l}else{var v=this.gridOptionsService.getGroupIncludeFooter();if(!v({node:h}))return l}return h.createFooter(),o(h.sibling,l++),l},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var n=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=t,o(u.childrenAfterGroup)};if(n){var d=Jt.exists(u.childrenAfterGroup);d&&c();return}if(i){var h=!u.leafGroup;h&&c();return}var p=u.group;p&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ur.MAP});var a=t?"expandAll":"collapseAll",s={type:W.EVENT_EXPAND_COLLAPSE_ALL,source:a};this.eventService.dispatchEvent(s)},e.prototype.doSort=function(t,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:n})},e.prototype.doRowGrouping=function(t,n,i,o){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:n,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i);if(a){var s={type:W.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:W.EVENT_ROW_COUNT_READY}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var n=typeof t=="string"&&t.indexOf(Zt.ID_PREFIX_ROW_GROUP)==0;if(n){var i=void 0;return this.forEachNode(function(o){o.id===t&&(i=o)}),i}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},e.prototype.dispatchUpdateEventsAndRefresh=function(){var t={type:W.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.refreshModel({step:ur.EVERYTHING,newData:!0})},e.prototype.batchUpdateRowData=function(t,n){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:n})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var n=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=t.nodeManager.updateRowData(s.rowDataTransaction,void 0);i.push(l),s.callback&&n.push(s.callback.bind(null,l)),typeof s.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(s){return s()})},0),i.length>0){var a={type:W.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,n){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(t,n),o=typeof t.addIndex=="number";return this.commonUpdateRowData([i],n,o),i},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!t){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];n[o.id]=i}return n}},e.prototype.commonUpdateRowData=function(t,n,i){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");i&&(n=this.createRowNodeOrder());var a={type:W.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(a),this.refreshModel({step:ur.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:ur.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var i=n.detailNode;i&&i.setRowHeight(i.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),t=!0}),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},e.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},e.prototype.isRowDataLoaded=function(){return this.rowCountReady},Ao([k("columnModel")],e.prototype,"columnModel",void 0),Ao([k("selectionService")],e.prototype,"selectionService",void 0),Ao([k("filterManager")],e.prototype,"filterManager",void 0),Ao([k("valueCache")],e.prototype,"valueCache",void 0),Ao([k("beans")],e.prototype,"beans",void 0),Ao([k("filterStage")],e.prototype,"filterStage",void 0),Ao([k("sortStage")],e.prototype,"sortStage",void 0),Ao([k("flattenStage")],e.prototype,"flattenStage",void 0),Ao([Cr("groupStage")],e.prototype,"groupStage",void 0),Ao([Cr("aggregationStage")],e.prototype,"aggregationStage",void 0),Ao([Cr("pivotStage")],e.prototype,"pivotStage",void 0),Ao([Cr("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),Ao([Fe],e.prototype,"init",null),e=Ao([et("rowModel")],e),e}(Re),y4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},S4e=function(r){y4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.changedPath;this.filterService.filter(n)},bK([k("filterService")],e.prototype,"filterService",void 0),e=bK([et("filterStage")],e),e}(Re),w4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},b4e=function(r){w4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=this,i=this.sortController.getSortOptions(),o=Jt.exists(i)&&i.length>0,a=o&&Jt.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=i.some(function(l){var u=n.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(i,o,a,t.rowNodeTransactions,t.changedPath,s)},KD([k("sortService")],e.prototype,"sortService",void 0),KD([k("sortController")],e.prototype,"sortController",void 0),e=KD([et("sortStage")],e),e}(Re),E4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},x4e=function(r){E4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.rowNode,i=[],o=this.columnModel.isPivotMode(),a=o&&n.leafGroup,s=a?[n]:n.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,i,o,0);var u=i.length>0,c=!a&&u&&l.groupIncludeTotalFooter;return c&&(n.createFooter(),this.addRowNodeToRowsToDisplay(l,n.sibling,i,0)),i},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren"),n=!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:n,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,n,i,o,a){if(!Jt.missingOrEmpty(n))for(var s=0;s<n.length;s++){var l=n[s],u=l.hasChildren(),c=o&&!u,d=t.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,h=t.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,p=o&&l.leafGroup,f=t.hideOpenParents&&l.expanded&&!l.master&&!p,v=!c&&!f&&!d&&!h;if(v&&this.addRowNodeToRowsToDisplay(t,l,i,a),!(o&&l.leafGroup)){if(u){var g=d||h;if(l.expanded||g){var m=g?a:a+1;this.recursivelyAddToRowsToDisplay(t,l.childrenAfterSort,i,o,m);var C=t.getGroupIncludeFooter({node:l});C?(l.createFooter(),this.addRowNodeToRowsToDisplay(t,l.sibling,i,m)):l.destroyFooter()}}else if(l.master&&l.expanded){var y=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(t,y,i,a)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,n,i,o){i.push(n),n.setUiLevel(t.isGroupMultiAutoColumn?0:o)},e.prototype.createDetailNode=function(t){if(Jt.exists(t.detailNode))return t.detailNode;var n=new Zt(this.beans);return n.detail=!0,n.selectable=!1,n.parent=t,Jt.exists(t.id)&&(n.id="detail_"+t.id),n.data=t.data,n.level=t.level+1,t.detailNode=n,n},qD([k("columnModel")],e.prototype,"columnModel",void 0),qD([k("beans")],e.prototype,"beans",void 0),e=qD([et("flattenStage")],e),e}(Re),I4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},T4e=function(r){I4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sort=function(t,n,i,o,a,s){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(v){return v.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),p=this.gridOptionsService.getCallback("postSortRows"),f=function(v){var g;l.pullDownGroupDataForHideOpenParents(v.childrenAfterAggFilter,!0);var m=h&&v.leafGroup,C=u&&c&&!v.leafGroup&&!s;if(C){var y=(g=l.columnModel.getRowGroupColumns())===null||g===void 0?void 0:g[v.level+1],w=(y==null?void 0:y.getSort())===null,T=v.childrenAfterAggFilter.slice(0);if(v.childrenAfterSort&&!w){var S={};v.childrenAfterSort.forEach(function(I,R){S[I.id]=R}),T.sort(function(I,R){var D,A;return((D=S[I.id])!==null&&D!==void 0?D:0)-((A=S[R.id])!==null&&A!==void 0?A:0)})}v.childrenAfterSort=T}else!n||m?v.childrenAfterSort=v.childrenAfterAggFilter.slice(0):i?v.childrenAfterSort=l.doDeltaSort(v,d,a,t):v.childrenAfterSort=l.rowNodeSorter.doFullSort(v.childrenAfterAggFilter,t);if(v.sibling&&(v.sibling.childrenAfterSort=v.childrenAfterSort),l.updateChildIndexes(v),p){var x={nodes:v.childrenAfterSort};p(x)}};a&&a.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(a)},e.prototype.calculateDirtyNodes=function(t){var n={},i=function(o){o&&o.forEach(function(a){return n[a.id]=!0})};return t&&t.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),n},e.prototype.doDeltaSort=function(t,n,i,o){var a=this,s=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var u={},c=[];s.forEach(function(f){n[f.id]||!i.canSkip(f)?c.push(f):u[f.id]=!0});var d=l.filter(function(f){return u[f.id]}),h=function(f,v){return{currentPos:v,rowNode:f}},p=c.map(h).sort(function(f,v){return a.rowNodeSorter.compareRowNodes(o,f,v)});return this.mergeSortedArrays(o,p,d.map(h)).map(function(f){var v=f.rowNode;return v})},e.prototype.mergeSortedArrays=function(t,n,i){for(var o=[],a=0,s=0;a<n.length&&s<i.length;){var l=this.rowNodeSorter.compareRowNodes(t,n[a],i[s]);l<0?o.push(n[a++]):o.push(i[s++])}for(;a<n.length;)o.push(n[a++]);for(;s<i.length;)o.push(i[s++]);return o},e.prototype.updateChildIndexes=function(t){if(!Jt.missing(t.childrenAfterSort))for(var n=t.childrenAfterSort,i=0;i<n.length;i++){var o=n[i],a=i===0,s=i===t.childrenAfterSort.length-1;o.setFirstChild(a),o.setLastChild(s),o.setChildIndex(i)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var n=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return Jt.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var i=function(o){n.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(a){a.hasChildren()&&i(a)})};t&&t.executeFromRootNode(function(o){return i(o)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,n){var i=this;!this.gridOptionsService.get("groupHideOpenParents")||Jt.missing(t)||t.forEach(function(o){var a=i.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=s.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(n)o.setGroupValue(s.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(c);h&&o.setGroupValue(s.getId(),h.key)}})})},YD([k("columnModel")],e.prototype,"columnModel",void 0),YD([k("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),e=YD([et("sortService")],e),e}(Re),R4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},O4e=function(r){R4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(t){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,t)},e.prototype.filterNodes=function(t,n){var i=this,o=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return h||p}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var h=u.childrenAfterGroup[d],p=c||i.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?a(u.childrenAfterGroup[d],p):o(h,p)}o(u,c)},s=function(u){return a(u,!1)};n.executeFromRootNode(s)}else{var l=function(u){return o(u,!1)};n.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},EK([k("filterManager")],e.prototype,"filterManager",void 0),e=EK([et("filterService")],e),e}(Re),D4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},A4e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},P4e=function(r){D4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return t.onRowDataUpdated()}))},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),n=this.gridOptionsService.get("resetRowDataOnUpdate");return n?!1:t},e.prototype.setRowData=function(t){var n=this.createTransactionForRowData(t);if(n){var i=A4e(n,2),o=i[0],a=i[1];this.clientSideRowModel.updateRowData(o,a)}},e.prototype.createTransactionForRowData=function(t){if(Jt.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var n=this.gridOptionsService.getCallback("getRowId");if(n==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),s=a?void 0:{};return Jt.exists(t)&&t.forEach(function(l,u){var c=n({data:l,level:0}),d=o[c];if(s&&(s[c]=u),d){var h=d.data!==l;h&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),Jt.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,s]},e.prototype.onRowDataUpdated=function(){var t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))},rm([k("rowModel")],e.prototype,"rowModel",void 0),rm([k("rowRenderer")],e.prototype,"rowRenderer",void 0),rm([k("selectionService")],e.prototype,"selectionService",void 0),rm([Fe],e.prototype,"postConstruct",null),e=rm([et("immutableService")],e),e}(Re),M4e="31.1.1",ite={version:M4e,moduleName:Ct.ClientSideRowModelModule,rowModel:"clientSide",beans:[C4e,S4e,b4e,x4e,T4e,O4e,P4e]},F4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xK=function(r){F4e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parentCache=n,o.params=i,o.startRow=t*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,n,i){Jt.exists(n)?t.setDataAndId(n,i.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,n=this.createLoadParams();if(Jt.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){t.params.datasource.getRows(n)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context};return t},e.prototype.forEachNode=function(t,n,i){var o=this;this.rowNodes.forEach(function(a,s){var l=o.startRow+s;l<i&&t(a,n.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,n){n===void 0&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=t-this.startRow;return this.rowNodes[i]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var n=this.startRow+t,i=new Zt(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(n),i.setRowTop(this.params.rowHeight*n),this.rowNodes.push(i)}},e.prototype.processServerResult=function(t){var n=this;this.rowNodes.forEach(function(o,a){var s=t.rowData?t.rowData[a]:void 0;!o.id&&o.alreadyRendered&&s&&(n.rowNodes[a]=new Zt(n.beans),n.rowNodes[a].setRowIndex(o.rowIndex),n.rowNodes[a].setRowTop(o.rowTop),n.rowNodes[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[a],s,n.startRow+a)});var i=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,i)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},XD([k("beans")],e.prototype,"beans",void 0),XD([Fe],e.prototype,"postConstruct",null),XD([Ji],e.prototype,"destroyRowNodes",null),e}(FE),L4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},N4e=function(r,e){return function(t,n){e(t,n,r)}},k4e=function(r){L4e(e,r);function e(t){var n=r.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,n){n===void 0&&(n=!1);var i=Math.floor(t/this.params.blockSize),o=this.blocks[i];if(!o){if(n)return;o=this.createBlock(i)}return o.getRow(t)},e.prototype.createBlock=function(t){var n=this.createBean(new xK(t,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.destroyBlock(n)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(t.getId(),", lastRow = ").concat(n)),this.checkRowCount(t,n),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,i=this.getBlocksInOrder().filter(function(u){return u!=t}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var d=u.getState()===xK.STATE_WAITING_TO_LOAD&&c>=l,h=a?c>=s:!1;if(d||h){if(n.isBlockCurrentlyDisplayed(u)||n.isBlockFocused(u))return;n.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||n.rowPinned!=null)return!1;var i=t.getStartRow(),o=t.getEndRow(),a=n.rowIndex>=i&&n.rowIndex<o;return a},e.prototype.isBlockCurrentlyDisplayed=function(t){var n=t.getStartRow(),i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,n){if(typeof n=="number"&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(t.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},e.prototype.setRowCount=function(t,n){this.rowCount=t,Jt.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var n=this,i=new Zh;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,i,n.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(i,o){return i.getId()-o.getId()},n=Jt.getAllValuesInObject(this.blocks).sort(t);return n},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:W.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,n=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*t.params.blockSize;o>=t.rowCount&&n.push(i)}),n.length>0&&n.forEach(function(i){return t.destroyBlock(i)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,n){var i=this,o=[],a=-1,s=!1,l=new Zh;Jt.missing(t)&&(s=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(s&&a+1!==d.getId()){u=!0;return}a=d.getId(),d.forEachNode(function(h){var p=h===t||h===n;(s||p)&&o.push(h),p&&(s=!s)},l,i.rowCount)}});var c=u||s;return c?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,pw([k("rowRenderer")],e.prototype,"rowRenderer",void 0),pw([k("focusService")],e.prototype,"focusService",void 0),pw([N4e(0,Ta("loggerFactory"))],e.prototype,"setBeans",null),pw([Ji],e.prototype,"destroyAllBlocks",null),e}(Re),V4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},B4e=function(r){V4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,n,i,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&Jt.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,W.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,W.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,W.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return t.setDatasource(t.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return t.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){t.rowHeight=t.gridOptionsService.getRowHeightAsNumber(),t.cacheParams.rowHeight=t.rowHeight,t.updateRowHeights()})},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!Jt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,n):[]},e.prototype.reset=function(){if(this.datasource){var t=this.gridOptionsService.getCallback("getRowId"),n=t!=null;n||this.selectionService.reset("rowDataChanged"),this.resetCache()}},e.prototype.createModelUpdatedEvent=function(){return{type:W.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Zh},this.infiniteCache=this.createBean(new k4e(this.cacheParams)),this.eventService.dispatchEventOnce({type:W.EVENT_ROW_COUNT_READY});var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.updateRowHeights=function(){var t=this;this.forEachNode(function(i){i.setRowHeight(t.rowHeight),i.setRowTop(t.rowHeight*i.rowIndex)});var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var n;return this.forEachNode(function(i){i.id===t&&(n=i)}),n},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var n=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return n>i?i:n}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var n=this.getRowNode(t.id);return!!n},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,n){this.infiniteCache&&this.infiniteCache.setRowCount(t,n)},pc([k("filterManager")],e.prototype,"filterManager",void 0),pc([k("sortController")],e.prototype,"sortController",void 0),pc([k("selectionService")],e.prototype,"selectionService",void 0),pc([k("rowRenderer")],e.prototype,"rowRenderer",void 0),pc([k("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),pc([Fe],e.prototype,"init",null),pc([Ji],e.prototype,"destroyDatasource",null),e=pc([et("rowModel")],e),e}(Re),H4e="31.1.1",ote={version:H4e,moduleName:Ct.InfiniteRowModelModule,rowModel:"infinite",beans:[B4e]},ate=function(){function r(){}return r.prototype.setBeans=function(e){this.beans=e},r.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?"".concat(e,".").concat(t):e},r.prototype.getData=function(e){var t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)},r.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},r}(),ste=function(){function r(e){this.groupColumns=[];var t=e.columnModel,n=e.valueService,i=e.gridOptionsService,o=e.valueFormatterService,a=e.valueParserService,s=e.processCellCallback,l=e.processHeaderCallback,u=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return r.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t??""},r.prototype.extractRowCellValue=function(e,t,n,i,o){var a=this.gridOptionsService.get("groupHideOpenParents"),s=(!a||o.footer)&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(e,o):this.valueService.getValue(e,o),l=this.processCell({accumulatedRowIndex:n,rowNode:o,column:e,value:s,processCellCallback:this.processCellCallback,type:i});return l},r.prototype.shouldRenderGroupSummaryCell=function(e,t,n){var i,o=e&&e.group;if(!o)return!1;var a=this.groupColumns.indexOf(t);if(a!==-1){if(((i=e.groupData)===null||i===void 0?void 0:i[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){var s=t.getColDef(),l=s==null||s.showRowGroup===!0;return l||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return n===0&&u},r.prototype.getHeaderName=function(e,t){return e?e(this.gridOptionsService.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},r.prototype.createValueForGroupNode=function(e,t){var n=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:t}));var i=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),a=function(c){var d,h;if(i||o)return c.key;var p=(d=c.groupData)===null||d===void 0?void 0:d[e.getId()];return!p||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?p:(h=n.valueFormatterService.formatValue(c.rowGroupColumn,c,p))!==null&&h!==void 0?h:p},s=t.footer,l=[a(t)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,l.push(a(t));var u=l.reverse().join(" -> ");return s?"Total ".concat(u):u},r.prototype.processCell=function(e){var t=this,n,i=e.accumulatedRowIndex,o=e.rowNode,a=e.column,s=e.value,l=e.processCellCallback,u=e.type;return l?{value:(n=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:i,column:a,node:o,value:s,type:u,parseValue:function(c){return t.valueParserService.parseValue(a,o,c,t.valueService.getValue(a,o))},formatValue:function(c){var d;return(d=t.valueFormatterService.formatValue(a,o,c))!==null&&d!==void 0?d:c}})))!==null&&n!==void 0?n:""}:a.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(a,o,s)}:{value:s??""}},r}(),lte=function(){function r(){}return r.download=function(e,t){var n=document.defaultView||window;if(!n){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=n.URL.createObjectURL(t);i.setAttribute("href",o),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)},r}(),G4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IK=`\r
`,$4e=function(r){G4e(e,r);function e(t){var n=r.call(this,t)||this;n.isFirstLine=!0,n.result="";var i=t.suppressQuotes,o=t.columnSeparator;return n.suppressQuotes=i,n.columnSeparator=o,n}return e.prototype.addCustomContent=function(t){var n=this;t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,IK),this.result+=t):t.forEach(function(i){n.beginNewLine(),i.forEach(function(o,a){a!==0&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,n,i,o){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var n=1;n<=t;n++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,n){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,n,i){var o;n!=0&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(t,n,n,"csv",i);this.result+=this.putInQuotes((o=a.valueFormatted)!==null&&o!==void 0?o:a.value)},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var n;typeof t=="string"?n=t:typeof t.toString=="function"?n=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n="");var i=n.replace(/"/g,'""');return'"'+i+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=IK),this.isFirstLine=!1},e}(ste),W4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ute=function(r){W4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,t)},e.prototype.export=function(t){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}var n=this.getMergedParams(t),i=this.getData(n),o=new Blob(["\uFEFF",i],{type:"text/plain"}),a=typeof n.fileName=="function"?n.fileName(this.gridOptionsService.getGridCommonParams()):n.fileName;lte.download(this.getFileName(a),o)},e.prototype.exportDataAsCsv=function(t){this.export(t)},e.prototype.getDataAsCsv=function(t,n){n===void 0&&(n=!1);var i=n?Object.assign({},t):this.getMergedParams(t);return this.getData(i)},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var n=this,i=n.columnModel,o=n.valueService,a=n.gridOptionsService,s=n.valueFormatterService,l=n.valueParserService,u=t,c=u.processCellCallback,d=u.processHeaderCallback,h=u.processGroupHeaderCallback,p=u.processRowGroupCallback,f=u.suppressQuotes,v=u.columnSeparator;return new $4e({columnModel:i,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:h||void 0,processRowGroupCallback:p||void 0,suppressQuotes:f||!1,columnSeparator:v||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},fc([k("columnModel")],e.prototype,"columnModel",void 0),fc([k("valueService")],e.prototype,"valueService",void 0),fc([k("gridSerializer")],e.prototype,"gridSerializer",void 0),fc([k("gridOptionsService")],e.prototype,"gridOptionsService",void 0),fc([k("valueFormatterService")],e.prototype,"valueFormatterService",void 0),fc([k("valueParserService")],e.prototype,"valueParserService",void 0),fc([Fe],e.prototype,"postConstruct",null),e=fc([et("csvCreator")],e),e}(ate),z4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$M;(function(r){r[r.HEADER_GROUPING=0]="HEADER_GROUPING",r[r.HEADER=1]="HEADER",r[r.BODY=2]="BODY"})($M||($M={}));var cte=function(r){z4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.serialize=function(t,n){n===void 0&&(n={});var i=n.allColumns,o=n.columnKeys,a=n.skipRowGroups,s=this.getColumnsToExport(i,a,o),l=Jt.compose(this.prepareSession(s),this.prependContent(n),this.exportColumnGroups(n,s),this.exportHeaders(n,s),this.processPinnedTopRows(n,s),this.processRows(n,s),this.processPinnedBottomRows(n,s),this.appendContent(n));return l(t).parse()},e.prototype.processRow=function(t,n,i,o){var a=n.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=n.rowPositions!=null,c=u||!!n.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,p=!!o.footer;n.skipRowGroups;var f=l&&o.leafGroup,v=o.allChildrenCount===1&&(s||f);if(!(!h&&!p&&(n.skipRowGroups||v||d)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&o.rowPinned==="top"||n.skipPinnedBottom&&o.rowPinned==="bottom")){var g=o.level===-1;if(!(g&&!h&&!p)){var m=a(this.gridOptionsService.addGridCommonParams({node:o}));if(!m){var C=t.onNewBodyRow(o);if(i.forEach(function(w,T){C.onColumn(w,T,o)}),n.getCustomContentBelowRow){var y=n.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));y&&t.addCustomContent(y)}}}}},e.prototype.appendContent=function(t){return function(n){var i=t.appendContent;return i&&n.addCustomContent(i),n}},e.prototype.prependContent=function(t){return function(n){var i=t.prependContent;return i&&n.addCustomContent(i),n}},e.prototype.prepareSession=function(t){return function(n){return n.prepare(t),n}},e.prototype.exportColumnGroups=function(t,n){var i=this;return function(o){if(!t.skipColumnGroupHeaders){var a=new KN,s=i.displayedGroupCreator.createDisplayedGroups(n,a,null);i.recursivelyAddHeaderGroups(s,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,n){return function(i){if(!t.skipColumnHeaders){var o=i.onNewHeaderRow();n.forEach(function(a,s){o.onColumn(a,s,void 0)})}return i}},e.prototype.processPinnedTopRows=function(t,n){var i=this;return function(o){var a=i.processRow.bind(i,o,t,n);return t.rowPositions?t.rowPositions.filter(function(s){return s.rowPinned==="top"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedTopRow(a),o}},e.prototype.processRows=function(t,n){var i=this;return function(o){var a=i.rowModel,s=a.getType(),l=s==="clientSide",u=s==="serverSide",c=!l&&t.onlySelected,d=i.processRow.bind(i,o,t,n),h=t.exportedRows,p=h===void 0?"filteredAndSorted":h;if(t.rowPositions)t.rowPositions.filter(function(v){return v.rowPinned==null}).sort(function(v,g){return v.rowIndex-g.rowIndex}).map(function(v){return a.getRow(v.rowIndex)}).forEach(d);else if(i.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(t.onlySelectedAllPages||c){var f=i.selectionService.getSelectedNodes();i.replicateSortedOrder(f),f.forEach(d)}else p==="all"?a.forEachNode(d):l||u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return o}},e.prototype.replicateSortedOrder=function(t){var n=this,i=this.sortController.getSortOptions(),o=function(a,s){var l,u,c,d;return a.rowIndex!=null&&s.rowIndex!=null?a.rowIndex-s.rowIndex:a.level===s.level?((l=a.parent)===null||l===void 0?void 0:l.id)===((u=s.parent)===null||u===void 0?void 0:u.id)?n.rowNodeSorter.compareRowNodes(i,{rowNode:a,currentPos:(c=a.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:s,currentPos:(d=s.rowIndex)!==null&&d!==void 0?d:-1}):o(a.parent,s.parent):a.level>s.level?o(a.parent,s):o(a,s.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,n){var i=this;return function(o){var a=i.processRow.bind(i,o,t,n);return t.rowPositions?t.rowPositions.filter(function(s){return s.rowPinned==="bottom"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedBottomRow(a),o}},e.prototype.getColumnsToExport=function(t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);var a=this.gridOptionsService.get("treeData"),s=[];return t&&!o?s=this.columnModel.getAllGridColumns():s=this.columnModel.getAllDisplayedColumns(),n&&!a&&(s=s.filter(function(l){return l.getColId()!==Qh})),s},e.prototype.recursivelyAddHeaderGroups=function(t,n,i){var o=[];t.forEach(function(a){var s=a;s.getChildren&&s.getChildren().forEach(function(l){return o.push(l)})}),t.length>0&&t[0]instanceof Kn&&this.doAddHeaderHeader(n,t,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,n,i)},e.prototype.doAddHeaderHeader=function(t,n,i){var o=this,a=t.onNewHeaderGroupingRow(),s=0;n.forEach(function(l){var u=l,c;i?c=i(o.gridOptionsService.addGridCommonParams({columnGroup:u})):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(h,p,f,v){var g=Jt.last(h),m=p.getColumnGroupShow()==="open";return m?(!g||g[1]!=null)&&(g=[f],h.push(g)):g&&g[1]==null&&(g[1]=f-1),f===v.length-1&&g&&g[1]==null&&(g[1]=f),h},[]);a.onColumn(u,c||"",s++,u.getLeafColumns().length-1,d)})},vc([k("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),vc([k("columnModel")],e.prototype,"columnModel",void 0),vc([k("rowModel")],e.prototype,"rowModel",void 0),vc([k("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),vc([k("selectionService")],e.prototype,"selectionService",void 0),vc([k("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),vc([k("sortController")],e.prototype,"sortController",void 0),e=vc([et("gridSerializer")],e),e}(Re),U4e="31.1.1",dte={version:U4e,moduleName:Ct.CsvExportModule,beans:[ute,cte]},fw=`\r
`,j4e=function(){function r(){}return r.createHeader=function(e){e===void 0&&(e={});var t="<?",n="?>",i=["version"];e.version||(e.version="1.0"),e.encoding&&i.push("encoding"),e.standalone&&i.push("standalone");var o=i.map(function(a){return"".concat(a,'="').concat(e[a],'"')}).join(" ");return"".concat(t,"xml ").concat(o," ").concat(n)},r.createXml=function(e,t){var n=this,i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){i+=n.returnAttributeIfPopulated(a.prefix+s,a.map[s],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(a){i+=n.returnAttributeIfPopulated(a,e.properties.rawMap[a],t)}));var o="<"+e.name+i;return!e.children&&e.textNode==null?o+"/>"+fw:e.textNode!=null?o+">"+e.textNode+"</"+e.name+">"+fw:(o+=">"+fw,e.children&&e.children.forEach(function(a){o+=n.createXml(a,t)}),o+"</"+e.name+">"+fw)},r.returnAttributeIfPopulated=function(e,t,n){if(!t&&t!==""&&t!==0)return"";var i=t;return typeof t=="boolean"&&n&&(i=n(t))," ".concat(e,'="').concat(i,'"')},r}(),K4e=function(r){var e=r.getHours();return e<<=6,e=e|r.getMinutes(),e<<=5,e=e|r.getSeconds()/2,e},q4e=function(r){var e=r.getFullYear()-1980;return e<<=4,e=e|r.getMonth()+1,e<<=5,e=e|r.getDate(),e};function Ui(r,e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(r&255),r>>>=8;return t}var TK=function(r){if(!r.length)return 0;for(var e=-1,t=0,n=0,i=0,o=0;o<r.length;o++)t=r[o],n=(e^t)&255,i=Y4e[n],e=e>>>8^i;return e^-1},RK=function(r){return r.length?TK(typeof r=="string"?new TextEncoder().encode(r):r):0},Y4e=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),hte=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(r,e||[])).next())})},pte=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},X4e=function(r){return hte(void 0,void 0,void 0,function(){var e,t,n,i,o;return pte(this,function(a){switch(a.label){case 0:return e=0,t=[],n=new WritableStream({write:function(s){t.push(s),e+=s.length}}),i=new ReadableStream({start:function(s){var l=new FileReader;l.onload=function(u){var c;!((c=u.target)===null||c===void 0)&&c.result&&s.enqueue(u.target.result),s.close()},l.readAsArrayBuffer(r)}}),o=new window.CompressionStream("deflate-raw"),[4,i.pipeThrough(o).pipeTo(n)];case 1:return a.sent(),[2,{size:e,content:new Blob(t)}]}})})},Q4e=function(r){return hte(void 0,void 0,void 0,function(){var e,t,n,i,o,a;return pte(this,function(s){switch(s.label){case 0:return e=new Blob([r]),[4,X4e(e)];case 1:return t=s.sent(),n=t.size,i=t.content,a=Uint8Array.bind,[4,i.arrayBuffer()];case 2:return o=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,{size:n,content:o}]}})})},pv=function(){return pv=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},pv.apply(this,arguments)},Z4e=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(r,e||[])).next())})},J4e=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},e3e=Jt.utf8_encode,t3e=function(r,e){return Z4e(void 0,void 0,void 0,function(){var t,n,i,o,a,s,l,u,c,d;return J4e(this,function(h){switch(h.label){case 0:return t=r.content,n=t?vte(t):{size:0,content:Uint8Array.from([])},i=n.size,o=n.content,a=void 0,s=void 0,l=!1,u=r.type==="file"&&o&&i>0,u?[4,Q4e(o)]:[3,2];case 1:c=h.sent(),a=c.content,s=c.size,l=!0,h.label=2;case 2:return d=fte(r,l,e,i,o,s),[2,pv(pv({},d),{content:a||o,isCompressed:l})]}})})},r3e=function(r,e){var t=r.content,n=(t?vte(t):{content:Uint8Array.from([])}).content,i=fte(r,!1,e,n.length,n,void 0);return pv(pv({},i),{content:n,isCompressed:!1})},fte=function(r,e,t,n,i,o){var a=r.content,s=r.path,l=r.created,u=K4e(l),c=q4e(l),d=RK(i),h=o!==void 0?o:n,p=e3e(s),f=p!==s,v="";if(f){var g=Ui(1,1)+Ui(RK(p),4)+p;v="up"+Ui(g.length,2)+g}var m="\0"+(f?"\0\b":"\0\0")+Ui(e?8:0,2)+Ui(u,2)+Ui(c,2)+Ui(h?d:0,4)+Ui(o??n,4)+Ui(n,4)+Ui(p.length,2)+Ui(v.length,2),C="PK"+m+p+v,y="PK\0"+m+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\0\0\0")+Ui(t,4)+p+v;return{localFileHeader:Uint8Array.from(C,function(w){return w.charCodeAt(0)}),centralDirectoryHeader:Uint8Array.from(y,function(w){return w.charCodeAt(0)})}},n3e=function(r,e,t){var n="PK\0\0\0\0"+Ui(r,2)+Ui(r,2)+Ui(e,4)+Ui(t,4)+"\0\0";return Uint8Array.from(n,function(i){return i.charCodeAt(0)})},i3e=function(r){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e},vte=function(r){var e;if(typeof r=="string"){var t=atob(r.split(";base64,")[1]);e=i3e(t)}else e=r;return{size:e.length,content:e}},OK=function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((n=n.apply(r,e||[])).next())})},DK=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},QD=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vw=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},gw=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},o3e=function(){function r(){}return r.addFolders=function(e){e.forEach(this.addFolder.bind(this))},r.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})},r.addFile=function(e,t,n){n===void 0&&(n=!1),this.files.push({path:e,created:new Date,content:n?t:new TextEncoder().encode(t),isBase64:n,type:"file"})},r.getZipFile=function(e){return e===void 0&&(e="application/zip"),OK(this,void 0,void 0,function(){var t;return DK(this,function(n){switch(n.label){case 0:return[4,this.buildCompressedFileStream()];case 1:return t=n.sent(),this.clearStream(),[2,new Blob([t],{type:e})]}})})},r.getUncompressedZipFile=function(e){e===void 0&&(e="application/zip");var t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})},r.clearStream=function(){this.folders=[],this.files=[]},r.packageFiles=function(e){var t,n,i=new Uint8Array(0),o=new Uint8Array(0),a=0,s=0;try{for(var l=QD(e),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.localFileHeader,h=c.centralDirectoryHeader,p=c.content,f=new Uint8Array(i.length+d.length);f.set(i),f.set(d,i.length),i=f;var v=new Uint8Array(i.length+p.length);v.set(i),v.set(p,i.length),i=v;var g=new Uint8Array(o.length+h.length);g.set(o),g.set(h,o.length),o=g,a+=d.length+p.length,s+=h.length}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}var m=n3e(e.length,s,a),C=new Uint8Array(i.length+o.length+m.length);return C.set(i),C.set(o,i.length),C.set(m,i.length+o.length),C},r.buildCompressedFileStream=function(){return OK(this,void 0,void 0,function(){var e,t,n,i,o,a,s,l,u,c,d,h;return DK(this,function(p){switch(p.label){case 0:e=gw(gw([],vw(this.folders),!1),vw(this.files),!1),t=[],n=0,p.label=1;case 1:p.trys.push([1,6,7,8]),i=QD(e),o=i.next(),p.label=2;case 2:return o.done?[3,5]:(a=o.value,[4,t3e(a,n)]);case 3:s=p.sent(),l=s.localFileHeader,u=s.content,t.push(s),n+=l.length+u.length,p.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return c=p.sent(),d={error:c},[3,8];case 7:try{o&&!o.done&&(h=i.return)&&h.call(i)}finally{if(d)throw d.error}return[7];case 8:return[2,this.packageFiles(t)]}})})},r.buildFileStream=function(){var e,t,n=gw(gw([],vw(this.folders),!1),vw(this.files),!1),i=[],o=0;try{for(var a=QD(n),s=a.next();!s.done;s=a.next()){var l=s.value,u=r3e(l,o),c=u.localFileHeader,d=u.content;i.push(u),o+=c.length+d.length}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.packageFiles(i)},r.folders=[],r.files=[],r}(),gte=[ite,ote,dte];Nr.registerModules(gte);const a3e=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl:ly,AgAbstractField:Ik,AgAbstractLabel:xk,AgAutocomplete:Fee,AgCheckbox:oy,AgDialog:r2e,AgGroupComponent:Oee,AgInputDateField:xee,AgInputNumberField:T0,AgInputRange:Iee,AgInputTextArea:Eee,AgInputTextField:_d,AgMenuItemComponent:Em,AgMenuItemRenderer:PJ,AgMenuList:Dee,AgMenuPanel:Aee,AgPanel:Pee,AgPickerField:Tk,AgPromise:Wo,get AgPromiseStatus(){return sh},AgRadioButton:Rk,AgRichSelect:Tee,AgSelect:iy,AgSlider:Ree,AgStackComponentsRegistry:EZ,AgToggleButton:bee,AlignedGridsService:kee,AllCommunityModules:gte,AnimateShowChangeCellRenderer:bJ,AnimateSlideCellRenderer:EJ,AnimationFrameService:pee,AutoScrollService:Mk,AutoWidthCalculator:gee,Autowired:k,get BarColumnLabelPlacement(){return GM},BaseComponentWrapper:d4e,BaseCreator:ate,BaseGridSerializingSession:ste,Bean:et,BeanStub:Re,Beans:kk,BodyDropPivotTarget:ZJ,BodyDropTarget:eee,CHART_TOOLBAR_ALLOW_LIST:f4e,CHART_TOOL_PANEL_ALLOW_LIST:p4e,CHART_TOOL_PANEL_MENU_OPTIONS:v4e,CellComp:XJ,CellCtrl:qc,CellNavigationService:Nee,CellPositionUtils:Xee,get CellRangeType(){return uh},ChangedPath:uy,CheckboxCellEditor:AJ,CheckboxCellRenderer:DJ,CheckboxSelectionComponent:Pk,ClientSideRowModelModule:ite,get ClientSideRowModelSteps(){return ur},ColDefUtil:NJ,Column:Kr,ColumnApi:M0,ColumnFactory:_Z,ColumnGroup:Kn,ColumnKeyCreator:nZ,ColumnModel:SZ,ColumnUtils:wZ,Component:jt,ComponentUtil:qN,Context:sZ,CssClassApplier:sy,CssClassManager:nJ,CsvCreator:ute,CsvExportModule:dte,CtrlsService:Jee,CustomTooltipFeature:bk,DEFAULT_CHART_GROUPS:h4e,DataTypeService:rte,DateCellEditor:RJ,DateFilter:Dk,DateStringCellEditor:OJ,DisplayedGroupCreator:bZ,Downloader:lte,DragAndDropService:ri,DragService:kJ,get DragSourceType(){return fo},Environment:Kee,EventService:qu,Events:W,get ExcelFactoryMode(){return Y_},ExpansionService:fee,ExpressionService:Hee,FilterManager:BJ,FloatingFilterMapper:FJ,FocusService:Uee,GROUP_AUTO_COLUMN_ID:Qh,Grid:u4e,GridApi:Fk,GridBodyComp:UJ,GridBodyCtrl:$J,GridComp:$k,GridCoreCreator:zk,GridCtrl:Wee,GridHeaderComp:lee,GridHeaderCtrl:see,GridOptionsService:Wk,GridSerializer:cte,GroupCellRenderer:LM,GroupCellRendererCtrl:IJ,GroupInstanceIdCreator:KN,HeaderCellCtrl:nee,HeaderFilterCellComp:HJ,HeaderFilterCellCtrl:ree,HeaderGroupCellCtrl:iee,get HeaderNavigationDirection(){return ks},HeaderNavigationService:aee,HeaderPositionUtils:Qee,HeaderRowComp:tee,HeaderRowContainerComp:lb,HeaderRowContainerCtrl:oee,HeaderRowCtrl:sb,get HeaderRowType(){return bi},get HorizontalDirection(){return qo},HorizontalResizeService:uee,InfiniteRowModelModule:ote,KeyCode:le,LargeTextCellEditor:SJ,get LayoutCssClasses(){return qn},LocaleService:tte,Logger:F0,LoggerFactory:$ee,ManagedFocusFeature:md,MenuService:vee,get ModuleNames(){return Ct},ModuleRegistry:Nr,MouseEventService:KJ,MoveColumnFeature:JJ,NavigationService:qJ,NumberCellEditor:TJ,NumberFilter:Ak,NumberSequence:Zh,Optional:Cr,PaginationProxy:See,PinnedRowModel:Cee,PopupComponent:Cd,PopupEditorWrapper:YJ,PopupService:Mee,PositionableFeature:Ek,PostConstruct:Fe,PreConstruct:wM,PreDestroy:Ji,PropertyKeys:Ls,ProvidedColumnGroup:Rn,ProvidedFilter:q_,Qualifier:Ta,QuerySelector:a$e,RefSelector:We,ResizeObserverService:hee,get RowAnimationCssClasses(){return ep},RowContainerComp:QJ,RowContainerCtrl:Bk,get RowContainerName(){return Ce},get RowContainerType(){return ti},RowCtrl:Yc,get RowHighlightPosition(){return Pl},RowNode:Zt,RowNodeBlock:FE,RowNodeBlockLoader:yee,RowNodeSorter:Zee,RowPositionUtils:Yee,RowRenderer:mee,get RowType(){return $M},ScalarFilter:Un,ScrollVisibleService:jJ,SelectCellEditor:wJ,SelectableService:qee,get SelectionHandleType(){return X_},get ServerSideTransactionResultStatus(){return BM},SetLeftFeature:P0,SimpleFilter:yn,SortController:zee,SortIndicatorComp:O0,StandardMenuFactory:cee,StylingService:wee,get TabGuardClassNames(){return Th},TabGuardComp:Dv,TabGuardCtrl:dee,TabbedLayout:vje,TemplateService:Gee,TextCellEditor:FM,TextFilter:R0,TextFloatingFilter:yJ,Timer:r$e,TooltipFeature:ay,TouchListener:ki,UserComponentFactory:LJ,UserComponentRegistry:MJ,ValueCache:jee,ValueFormatterService:_ee,ValueParserService:nte,ValueService:Bee,VanillaFrameworkOverrides:Lee,get VerticalDirection(){return Jh},VirtualList:Gk,VirtualListDragFeature:ZWe,XmlFactory:j4e,ZipContainer:o3e,_:Jt,__FORCE_MODULE_DETECTION:g4e,createGrid:l4e,getRowContainerTypeForName:zJ},Symbol.toStringTag,{value:"Module"})),Ci=Hu(a3e);var L0={},Co={},Uk={},Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.CustomContext=void 0;var s3e=_;Sp.CustomContext=s3e.createContext({setMethods:function(){}});var WM=ne&&ne.__assign||function(){return WM=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},WM.apply(this,arguments)},l3e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),u3e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),c3e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&l3e(e,r,t);return u3e(e,r),e};Object.defineProperty(Uk,"__esModule",{value:!0});var Im=c3e(_),d3e=Sp,h3e=function(r){var e=r.initialProps,t=r.addUpdateCallback,n=r.CustomComponentClass,i=r.setMethods,o=Im.useState(e),a=o[0],s=o[1];return Im.useEffect(function(){t(function(l){return s(l)})},[]),Im.default.createElement(d3e.CustomContext.Provider,{value:{setMethods:i}},Im.default.createElement(n,WM({},a)))};Uk.default=Im.memo(h3e);var cy={},jk={};Object.defineProperty(jk,"__esModule",{value:!0});var p3e=0;function f3e(){return"agPortalKey_"+ ++p3e}jk.default=f3e;var wp={},Pv={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mte=_;function or(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vo=Object.prototype.hasOwnProperty,v3e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AK={},PK={};function _te(r){return Vo.call(PK,r)?!0:Vo.call(AK,r)?!1:v3e.test(r)?PK[r]=!0:(AK[r]=!0,!1)}function So(r,e,t,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Gi[r]=new So(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Gi[e]=new So(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Gi[r]=new So(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Gi[r]=new So(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Gi[r]=new So(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Gi[r]=new So(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Gi[r]=new So(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Gi[r]=new So(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Gi[r]=new So(r,5,!1,r.toLowerCase(),null,!1,!1)});var Kk=/[\-:]([a-z])/g;function qk(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(Kk,qk);Gi[e]=new So(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(Kk,qk);Gi[e]=new So(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(Kk,qk);Gi[e]=new So(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Gi[r]=new So(r,1,!1,r.toLowerCase(),null,!1,!1)});Gi.xlinkHref=new So("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Gi[r]=new So(r,1,!1,r.toLowerCase(),null,!0,!0)});var ub={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g3e=["Webkit","ms","Moz","O"];Object.keys(ub).forEach(function(r){g3e.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),ub[e]=ub[r]})});var m3e=/["'&<>]/;function co(r){if(typeof r=="boolean"||typeof r=="number")return""+r;r=""+r;var e=m3e.exec(r);if(e){var t="",n,i=0;for(n=e.index;n<r.length;n++){switch(r.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==n&&(t+=r.substring(i,n)),i=n+1,t+=e}r=i!==n?t+r.substring(i,n):t}return r}var _3e=/([A-Z])/g,C3e=/^ms-/,zM=Array.isArray;function nu(r,e){return{insertionMode:r,selectedValue:e}}function y3e(r,e,t){switch(e){case"select":return nu(1,t.value!=null?t.value:t.defaultValue);case"svg":return nu(2,null);case"math":return nu(3,null);case"foreignObject":return nu(1,null);case"table":return nu(4,null);case"thead":case"tbody":case"tfoot":return nu(5,null);case"colgroup":return nu(7,null);case"tr":return nu(6,null)}return 4<=r.insertionMode||r.insertionMode===0?nu(1,null):r}var MK=new Map;function Cte(r,e,t){if(typeof t!="object")throw Error(or(62));e=!0;for(var n in t)if(Vo.call(t,n)){var i=t[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var o=co(n);i=co((""+i).trim())}else{o=n;var a=MK.get(o);a!==void 0||(a=co(o.replace(_3e,"-$1").toLowerCase().replace(C3e,"-ms-")),MK.set(o,a)),o=a,i=typeof i=="number"?i===0||Vo.call(ub,n)?""+i:i+"px":co((""+i).trim())}e?(e=!1,r.push(' style="',o,":",i)):r.push(";",o,":",i)}}e||r.push('"')}function sa(r,e,t,n){switch(t){case"style":Cte(r,e,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=Gi.hasOwnProperty(t)?Gi[t]:null,e!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=e.attributeName,e.type){case 3:n&&r.push(" ",t,'=""');break;case 4:n===!0?r.push(" ",t,'=""'):n!==!1&&r.push(" ",t,'="',co(n),'"');break;case 5:isNaN(n)||r.push(" ",t,'="',co(n),'"');break;case 6:!isNaN(n)&&1<=n&&r.push(" ",t,'="',co(n),'"');break;default:e.sanitizeURL&&(n=""+n),r.push(" ",t,'="',co(n),'"')}}else if(_te(t)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}r.push(" ",t,'="',co(n),'"')}}}function cb(r,e,t){if(e!=null){if(t!=null)throw Error(or(60));if(typeof e!="object"||!("__html"in e))throw Error(or(61));e=e.__html,e!=null&&r.push(""+e)}}function S3e(r){var e="";return mte.Children.forEach(r,function(t){t!=null&&(e+=t)}),e}function ZD(r,e,t,n){r.push(cl(t));var i=t=null,o;for(o in e)if(Vo.call(e,o)){var a=e[o];if(a!=null)switch(o){case"children":t=a;break;case"dangerouslySetInnerHTML":i=a;break;default:sa(r,n,o,a)}}return r.push(">"),cb(r,i,t),typeof t=="string"?(r.push(co(t)),null):t}var w3e=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,FK=new Map;function cl(r){var e=FK.get(r);if(e===void 0){if(!w3e.test(r))throw Error(or(65,r));e="<"+r,FK.set(r,e)}return e}function b3e(r,e,t,n,i){switch(e){case"select":r.push(cl("select"));var o=null,a=null;for(c in t)if(Vo.call(t,c)){var s=t[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:sa(r,n,c,s)}}return r.push(">"),cb(r,a,o),o;case"option":a=i.selectedValue,r.push(cl("option"));var l=s=null,u=null,c=null;for(o in t)if(Vo.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:sa(r,n,o,d)}}if(a!=null)if(t=l!==null?""+l:S3e(s),zM(a)){for(n=0;n<a.length;n++)if(""+a[n]===t){r.push(' selected=""');break}}else""+a===t&&r.push(' selected=""');else u&&r.push(' selected=""');return r.push(">"),cb(r,c,s),s;case"textarea":r.push(cl("textarea")),c=a=o=null;for(s in t)if(Vo.call(t,s)&&(l=t[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(or(91));default:sa(r,n,s,l)}if(o===null&&a!==null&&(o=a),r.push(">"),c!=null){if(o!=null)throw Error(or(92));if(zM(c)&&1<c.length)throw Error(or(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&r.push(`
`),o!==null&&r.push(co(""+o)),null;case"input":r.push(cl("input")),l=c=s=o=null;for(a in t)if(Vo.call(t,a)&&(u=t[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(or(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:sa(r,n,a,u)}return c!==null?sa(r,n,"checked",c):l!==null&&sa(r,n,"checked",l),o!==null?sa(r,n,"value",o):s!==null&&sa(r,n,"value",s),r.push("/>"),null;case"menuitem":r.push(cl("menuitem"));for(var h in t)if(Vo.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(or(400));default:sa(r,n,h,o)}return r.push(">"),null;case"title":r.push(cl("title")),o=null;for(d in t)if(Vo.call(t,d)&&(a=t[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(or(434));default:sa(r,n,d,a)}return r.push(">"),o;case"listing":case"pre":r.push(cl(e)),a=o=null;for(l in t)if(Vo.call(t,l)&&(s=t[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:sa(r,n,l,s)}if(r.push(">"),a!=null){if(o!=null)throw Error(or(60));if(typeof a!="object"||!("__html"in a))throw Error(or(61));t=a.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?r.push(`
`,t):r.push(""+t))}return typeof o=="string"&&o[0]===`
`&&r.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":r.push(cl(e));for(var p in t)if(Vo.call(t,p)&&(o=t[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(or(399,e));default:sa(r,n,p,o)}return r.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ZD(r,t,e,n);case"html":return i.insertionMode===0&&r.push("<!DOCTYPE html>"),ZD(r,t,e,n);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return ZD(r,t,e,n);r.push(cl(e)),a=o=null;for(u in t)if(Vo.call(t,u)&&(s=t[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":Cte(r,n,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:_te(u)&&typeof s!="function"&&typeof s!="symbol"&&r.push(" ",u,'="',co(s),'"')}return r.push(">"),cb(r,a,o),o}}function LK(r,e,t){if(r.push('<!--$?--><template id="'),t===null)throw Error(or(395));return r.push(t),r.push('"></template>')}function E3e(r,e,t,n){switch(t.insertionMode){case 0:case 1:return r.push('<div hidden id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 2:return r.push('<svg aria-hidden="true" style="display:none" id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 3:return r.push('<math aria-hidden="true" style="display:none" id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 4:return r.push('<table hidden id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 5:return r.push('<table hidden><tbody id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 6:return r.push('<table hidden><tr id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 7:return r.push('<table hidden><colgroup id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');default:throw Error(or(397))}}function x3e(r,e){switch(e.insertionMode){case 0:case 1:return r.push("</div>");case 2:return r.push("</svg>");case 3:return r.push("</math>");case 4:return r.push("</table>");case 5:return r.push("</tbody></table>");case 6:return r.push("</tr></table>");case 7:return r.push("</colgroup></table>");default:throw Error(or(397))}}var I3e=/[<\u2028\u2029]/g;function JD(r){return JSON.stringify(r).replace(I3e,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function T3e(r,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:r}}function NK(r,e,t,n){return t.generateStaticMarkup?(r.push(co(e)),!1):(e===""?r=n:(n&&r.push("<!-- -->"),r.push(co(e)),r=!0),r)}var s_=Object.assign,R3e=Symbol.for("react.element"),yte=Symbol.for("react.portal"),Ste=Symbol.for("react.fragment"),wte=Symbol.for("react.strict_mode"),bte=Symbol.for("react.profiler"),Ete=Symbol.for("react.provider"),xte=Symbol.for("react.context"),Ite=Symbol.for("react.forward_ref"),Tte=Symbol.for("react.suspense"),Rte=Symbol.for("react.suspense_list"),Ote=Symbol.for("react.memo"),Yk=Symbol.for("react.lazy"),O3e=Symbol.for("react.scope"),D3e=Symbol.for("react.debug_trace_mode"),A3e=Symbol.for("react.legacy_hidden"),P3e=Symbol.for("react.default_value"),kK=Symbol.iterator;function UM(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Ste:return"Fragment";case yte:return"Portal";case bte:return"Profiler";case wte:return"StrictMode";case Tte:return"Suspense";case Rte:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case xte:return(r.displayName||"Context")+".Consumer";case Ete:return(r._context.displayName||"Context")+".Provider";case Ite:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ote:return e=r.displayName||null,e!==null?e:UM(r.type)||"Memo";case Yk:e=r._payload,r=r._init;try{return UM(r(e))}catch{}}return null}var Dte={};function VK(r,e){if(r=r.contextTypes,!r)return Dte;var t={},n;for(n in r)t[n]=e[n];return t}var ch=null;function N0(r,e){if(r!==e){r.context._currentValue2=r.parentValue,r=r.parent;var t=e.parent;if(r===null){if(t!==null)throw Error(or(401))}else{if(t===null)throw Error(or(401));N0(r,t)}e.context._currentValue2=e.value}}function Ate(r){r.context._currentValue2=r.parentValue,r=r.parent,r!==null&&Ate(r)}function Pte(r){var e=r.parent;e!==null&&Pte(e),r.context._currentValue2=r.value}function Mte(r,e){if(r.context._currentValue2=r.parentValue,r=r.parent,r===null)throw Error(or(402));r.depth===e.depth?N0(r,e):Mte(r,e)}function Fte(r,e){var t=e.parent;if(t===null)throw Error(or(402));r.depth===t.depth?N0(r,t):Fte(r,t),e.context._currentValue2=e.value}function BE(r){var e=ch;e!==r&&(e===null?Pte(r):r===null?Ate(e):e.depth===r.depth?N0(e,r):e.depth>r.depth?Mte(e,r):Fte(e,r),ch=r)}var BK={isMounted:function(){return!1},enqueueSetState:function(r,e){r=r._reactInternals,r.queue!==null&&r.queue.push(e)},enqueueReplaceState:function(r,e){r=r._reactInternals,r.replace=!0,r.queue=[e]},enqueueForceUpdate:function(){}};function HK(r,e,t,n){var i=r.state!==void 0?r.state:null;r.updater=BK,r.props=t,r.state=i;var o={queue:[],replace:!1};r._reactInternals=o;var a=e.contextType;if(r.context=typeof a=="object"&&a!==null?a._currentValue2:n,a=e.getDerivedStateFromProps,typeof a=="function"&&(a=a(t,i),i=a==null?i:s_({},i,a),r.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function"&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function"))if(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&BK.enqueueReplaceState(r,r.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&e.length===1)r.state=e[0];else{for(o=a?e[0]:r.state,i=!0,a=a?1:0;a<e.length;a++){var s=e[a];s=typeof s=="function"?s.call(r,o,t,n):s,s!=null&&(i?(i=!1,o=s_({},o,s)):s_(o,s))}r.state=o}else o.queue=null}var M3e={id:1,overflow:""};function jM(r,e,t){var n=r.id;r=r.overflow;var i=32-db(n)-1;n&=~(1<<i),t+=1;var o=32-db(e)+i;if(30<o){var a=i-i%5;return o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,{id:1<<32-db(e)+i|t<<i|n,overflow:o+r}}return{id:1<<o|t<<i|n,overflow:r}}var db=Math.clz32?Math.clz32:N3e,F3e=Math.log,L3e=Math.LN2;function N3e(r){return r>>>=0,r===0?32:31-(F3e(r)/L3e|0)|0}function k3e(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var V3e=typeof Object.is=="function"?Object.is:k3e,Fu=null,Xk=null,hb=null,fn=null,Tm=!1,HE=!1,Q_=0,kc=null,k0=0;function Xd(){if(Fu===null)throw Error(or(321));return Fu}function GK(){if(0<k0)throw Error(or(312));return{memoizedState:null,queue:null,next:null}}function Qk(){return fn===null?hb===null?(Tm=!1,hb=fn=GK()):(Tm=!0,fn=hb):fn.next===null?(Tm=!1,fn=fn.next=GK()):(Tm=!0,fn=fn.next),fn}function Zk(){Xk=Fu=null,HE=!1,hb=null,k0=0,fn=kc=null}function Lte(r,e){return typeof e=="function"?e(r):e}function $K(r,e,t){if(Fu=Xd(),fn=Qk(),Tm){var n=fn.queue;if(e=n.dispatch,kc!==null&&(t=kc.get(n),t!==void 0)){kc.delete(n),n=fn.memoizedState;do n=r(n,t.action),t=t.next;while(t!==null);return fn.memoizedState=n,[n,e]}return[fn.memoizedState,e]}return r=r===Lte?typeof e=="function"?e():e:t!==void 0?t(e):e,fn.memoizedState=r,r=fn.queue={last:null,dispatch:null},r=r.dispatch=B3e.bind(null,Fu,r),[fn.memoizedState,r]}function WK(r,e){if(Fu=Xd(),fn=Qk(),e=e===void 0?null:e,fn!==null){var t=fn.memoizedState;if(t!==null&&e!==null){var n=t[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<e.length;i++)if(!V3e(e[i],n[i])){n=!1;break e}n=!0}if(n)return t[0]}}return r=r(),fn.memoizedState=[r,e],r}function B3e(r,e,t){if(25<=k0)throw Error(or(301));if(r===Fu)if(HE=!0,r={action:t,next:null},kc===null&&(kc=new Map),t=kc.get(e),t===void 0)kc.set(e,r);else{for(e=t;e.next!==null;)e=e.next;e.next=r}}function H3e(){throw Error(or(394))}function mw(){}var zK={readContext:function(r){return r._currentValue2},useContext:function(r){return Xd(),r._currentValue2},useMemo:WK,useReducer:$K,useRef:function(r){Fu=Xd(),fn=Qk();var e=fn.memoizedState;return e===null?(r={current:r},fn.memoizedState=r):e},useState:function(r){return $K(Lte,r)},useInsertionEffect:mw,useLayoutEffect:function(){},useCallback:function(r,e){return WK(function(){return r},e)},useImperativeHandle:mw,useEffect:mw,useDebugValue:mw,useDeferredValue:function(r){return Xd(),r},useTransition:function(){return Xd(),[!1,H3e]},useId:function(){var r=Xk.treeContext,e=r.overflow;r=r.id,r=(r&~(1<<32-db(r)-1)).toString(32)+e;var t=pb;if(t===null)throw Error(or(404));return e=Q_++,r=":"+t.idPrefix+"R"+r,0<e&&(r+="H"+e.toString(32)),r+":"},useMutableSource:function(r,e){return Xd(),e(r._source)},useSyncExternalStore:function(r,e,t){if(t===void 0)throw Error(or(407));return t()}},pb=null,eA=mte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function G3e(r){return console.error(r),null}function Rm(){}function $3e(r,e,t,n,i,o,a,s,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?G3e:i,onAllReady:o===void 0?Rm:o,onShellReady:a===void 0?Rm:a,onShellError:s===void 0?Rm:s,onFatalError:l===void 0?Rm:l},t=GE(e,0,null,t,!1,!1),t.parentFlushed=!0,r=Jk(e,r,null,t,c,Dte,null,M3e),u.push(r),e}function Jk(r,e,t,n,i,o,a,s){r.allPendingTasks++,t===null?r.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=r.pingedTasks;u.push(l),u.length===1&&Vte(r)},blockedBoundary:t,blockedSegment:n,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function GE(r,e,t,n,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:t,lastPushedText:i,textEmbedded:o}}function Z_(r,e){if(r=r.onError(e),r!=null&&typeof r!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof r+'" instead');return r}function $E(r,e){var t=r.onShellError;t(e),t=r.onFatalError,t(e),r.destination!==null?(r.status=2,r.destination.destroy(e)):(r.status=1,r.fatalError=e)}function UK(r,e,t,n,i){for(Fu={},Xk=e,Q_=0,r=t(n,i);HE;)HE=!1,Q_=0,k0+=1,fn=null,r=t(n,i);return Zk(),r}function jK(r,e,t,n){var i=t.render(),o=n.childContextTypes;if(o!=null){var a=e.legacyContext;if(typeof t.getChildContext!="function")n=a;else{t=t.getChildContext();for(var s in t)if(!(s in o))throw Error(or(108,UM(n)||"Unknown",s));n=s_({},a,t)}e.legacyContext=n,fa(r,e,i),e.legacyContext=a}else fa(r,e,i)}function KK(r,e){if(r&&r.defaultProps){e=s_({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function KM(r,e,t,n,i){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){i=VK(t,e.legacyContext);var o=t.contextType;o=new t(n,typeof o=="object"&&o!==null?o._currentValue2:i),HK(o,t,n,i),jK(r,e,o,t)}else{o=VK(t,e.legacyContext),i=UK(r,e,t,n,o);var a=Q_!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)HK(i,t,n,o),jK(r,e,i,t);else if(a){n=e.treeContext,e.treeContext=jM(n,1,0);try{fa(r,e,i)}finally{e.treeContext=n}}else fa(r,e,i)}else if(typeof t=="string"){switch(i=e.blockedSegment,o=b3e(i.chunks,t,n,r.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=y3e(a,t,n),qM(r,e,o),i.formatContext=a,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",t,">")}i.lastPushedText=!1}else{switch(t){case A3e:case D3e:case wte:case bte:case Ste:fa(r,e,n.children);return;case Rte:fa(r,e,n.children);return;case O3e:throw Error(or(343));case Tte:e:{t=e.blockedBoundary,i=e.blockedSegment,o=n.fallback,n=n.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=GE(r,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=GE(r,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=s,e.blockedSegment=u;try{if(qM(r,e,n),r.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,WE(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=Z_(r,c)}finally{e.blockedBoundary=t,e.blockedSegment=i}e=Jk(r,o,t,l,a,e.legacyContext,e.context,e.treeContext),r.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ite:if(n=UK(r,e,t.render,n,i),Q_!==0){t=e.treeContext,e.treeContext=jM(t,1,0);try{fa(r,e,n)}finally{e.treeContext=t}}else fa(r,e,n);return;case Ote:t=t.type,n=KK(t,n),KM(r,e,t,n,i);return;case Ete:if(i=n.children,t=t._context,n=n.value,o=t._currentValue2,t._currentValue2=n,a=ch,ch=n={parent:a,depth:a===null?0:a.depth+1,context:t,parentValue:o,value:n},e.context=n,fa(r,e,i),r=ch,r===null)throw Error(or(403));n=r.parentValue,r.context._currentValue2=n===P3e?r.context._defaultValue:n,r=ch=r.parent,e.context=r;return;case xte:n=n.children,n=n(t._currentValue2),fa(r,e,n);return;case Yk:i=t._init,t=i(t._payload),n=KK(t,n),KM(r,e,t,n,void 0);return}throw Error(or(130,t==null?t:typeof t,""))}}function fa(r,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case R3e:KM(r,e,t.type,t.props,t.ref);return;case yte:throw Error(or(257));case Yk:var n=t._init;t=n(t._payload),fa(r,e,t);return}if(zM(t)){qK(r,e,t);return}if(t===null||typeof t!="object"?n=null:(n=kK&&t[kK]||t["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(t))){if(t=n.next(),!t.done){var i=[];do i.push(t.value),t=n.next();while(!t.done);qK(r,e,i)}return}throw r=Object.prototype.toString.call(t),Error(or(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}typeof t=="string"?(n=e.blockedSegment,n.lastPushedText=NK(e.blockedSegment.chunks,t,r.responseState,n.lastPushedText)):typeof t=="number"&&(n=e.blockedSegment,n.lastPushedText=NK(e.blockedSegment.chunks,""+t,r.responseState,n.lastPushedText))}function qK(r,e,t){for(var n=t.length,i=0;i<n;i++){var o=e.treeContext;e.treeContext=jM(o,n,i);try{qM(r,e,t[i])}finally{e.treeContext=o}}}function qM(r,e,t){var n=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return fa(r,e,t)}catch(l){if(Zk(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var a=e.blockedSegment,s=GE(r,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,r=Jk(r,e.node,e.blockedBoundary,s,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(r,r),e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,BE(o)}else throw e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,BE(o),l}}function W3e(r){var e=r.blockedBoundary;r=r.blockedSegment,r.status=3,kte(this,e,r)}function Nte(r,e,t){var n=r.blockedBoundary;r.blockedSegment.status=3,n===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,r=t===void 0?Error(or(432)):t,n.errorDigest=e.onError(r),n.parentFlushed&&e.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return Nte(i,e,t)}),n.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(n=e.onAllReady,n()))}function WE(r,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&WE(r,t)}else r.completedSegments.push(e)}function kte(r,e,t){if(e===null){if(t.parentFlushed){if(r.completedRootSegment!==null)throw Error(or(389));r.completedRootSegment=t}r.pendingRootTasks--,r.pendingRootTasks===0&&(r.onShellError=Rm,e=r.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&WE(e,t),e.parentFlushed&&r.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(W3e,r),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(WE(e,t),e.completedSegments.length===1&&e.parentFlushed&&r.partialBoundaries.push(e)));r.allPendingTasks--,r.allPendingTasks===0&&(r=r.onAllReady,r())}function Vte(r){if(r.status!==2){var e=ch,t=eA.current;eA.current=zK;var n=pb;pb=r.responseState;try{var i=r.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=r,l=a.blockedSegment;if(l.status===0){BE(a.context);try{fa(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,kte(s,a.blockedBoundary,l)}catch(f){if(Zk(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,h=Z_(s,d);if(c===null?$E(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var p=s.onAllReady;p()}}}finally{}}}i.splice(0,o),r.destination!==null&&eV(r,r.destination)}catch(f){Z_(r,f),$E(r,f)}finally{pb=n,eA.current=t,t===zK&&BE(e)}}}function _w(r,e,t){switch(t.parentFlushed=!0,t.status){case 0:var n=t.id=r.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,r=r.responseState,e.push('<template id="'),e.push(r.placeholderPrefix),r=n.toString(16),e.push(r),e.push('"></template>');case 1:t.status=2;var i=!0;n=t.chunks;var o=0;t=t.children;for(var a=0;a<t.length;a++){for(i=t[a];o<i.index;o++)e.push(n[o]);i=V0(r,e,i)}for(;o<n.length-1;o++)e.push(n[o]);return o<n.length&&(i=e.push(n[o])),i;default:throw Error(or(390))}}function V0(r,e,t){var n=t.boundary;if(n===null)return _w(r,e,t);if(n.parentFlushed=!0,n.forceClientRender)return r.responseState.generateStaticMarkup||(n=n.errorDigest,e.push("<!--$!-->"),e.push("<template"),n&&(e.push(' data-dgst="'),n=co(n),e.push(n),e.push('"')),e.push("></template>")),_w(r,e,t),r=r.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),r;if(0<n.pendingTasks){n.rootSegmentID=r.nextSegmentId++,0<n.completedSegments.length&&r.partialBoundaries.push(n);var i=r.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),n=n.id=i,LK(e,r.responseState,n),_w(r,e,t),e.push("<!--/$-->")}if(n.byteSize>r.progressiveChunkSize)return n.rootSegmentID=r.nextSegmentId++,r.completedBoundaries.push(n),LK(e,r.responseState,n.id),_w(r,e,t),e.push("<!--/$-->");if(r.responseState.generateStaticMarkup||e.push("<!--$-->"),t=n.completedSegments,t.length!==1)throw Error(or(391));return V0(r,e,t[0]),r=r.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),r}function YK(r,e,t){return E3e(e,r.responseState,t.formatContext,t.id),V0(r,e,t),x3e(e,t.formatContext)}function XK(r,e,t){for(var n=t.completedSegments,i=0;i<n.length;i++)Bte(r,e,t,n[i]);if(n.length=0,r=r.responseState,n=t.id,t=t.rootSegmentID,e.push(r.startInlineScript),r.sentCompleteBoundaryFunction?e.push('$RC("'):(r.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),n===null)throw Error(or(395));return t=t.toString(16),e.push(n),e.push('","'),e.push(r.segmentPrefix),e.push(t),e.push('")<\/script>')}function Bte(r,e,t,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=t.rootSegmentID)===-1)throw Error(or(392));return YK(r,e,n)}return YK(r,e,n),r=r.responseState,e.push(r.startInlineScript),r.sentCompleteSegmentFunction?e.push('$RS("'):(r.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(r.segmentPrefix),i=i.toString(16),e.push(i),e.push('","'),e.push(r.placeholderPrefix),e.push(i),e.push('")<\/script>')}function eV(r,e){try{var t=r.completedRootSegment;if(t!==null&&r.pendingRootTasks===0){V0(r,e,t),r.completedRootSegment=null;var n=r.responseState.bootstrapChunks;for(t=0;t<n.length-1;t++)e.push(n[t]);t<n.length&&e.push(n[t])}var i=r.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];n=e;var s=r.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(n.push(s.startInlineScript),s.sentClientRenderFunction?n.push('$RX("'):(s.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(or(395));if(n.push(l),n.push('"'),u||c||d){n.push(",");var h=JD(u||"");n.push(h)}if(c||d){n.push(",");var p=JD(c||"");n.push(p)}if(d){n.push(",");var f=JD(d);n.push(f)}if(!n.push(")<\/script>")){r.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var v=r.completedBoundaries;for(o=0;o<v.length;o++)if(!XK(r,e,v[o])){r.destination=null,o++,v.splice(0,o);return}v.splice(0,o);var g=r.partialBoundaries;for(o=0;o<g.length;o++){var m=g[o];e:{i=r,a=e;var C=m.completedSegments;for(s=0;s<C.length;s++)if(!Bte(i,a,m,C[s])){s++,C.splice(0,s);var y=!1;break e}C.splice(0,s),y=!0}if(!y){r.destination=null,o++,g.splice(0,o);return}}g.splice(0,o);var w=r.completedBoundaries;for(o=0;o<w.length;o++)if(!XK(r,e,w[o])){r.destination=null,o++,w.splice(0,o);return}w.splice(0,o)}finally{r.allPendingTasks===0&&r.pingedTasks.length===0&&r.clientRenderedBoundaries.length===0&&r.completedBoundaries.length===0&&e.push(null)}}function z3e(r,e){try{var t=r.abortableTasks;t.forEach(function(n){return Nte(n,r,e)}),t.clear(),r.destination!==null&&eV(r,r.destination)}catch(n){Z_(r,n),$E(r,n)}}function U3e(){}function Hte(r,e,t,n){var i=!1,o=null,a="",s={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(r=$3e(r,T3e(t,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,U3e,void 0,function(){l=!0},void 0,void 0),Vte(r),z3e(r,n),r.status===1)r.status=2,s.destroy(r.fatalError);else if(r.status!==2&&r.destination===null){r.destination=s;try{eV(r,s)}catch(u){Z_(r,u),$E(r,u)}}if(i)throw o;if(!l)throw Error(or(426));return a}Pv.renderToNodeStream=function(){throw Error(or(207))};Pv.renderToStaticMarkup=function(r,e){return Hte(r,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Pv.renderToStaticNodeStream=function(){throw Error(or(208))};Pv.renderToString=function(r,e){return Hte(r,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Pv.version="18.2.0";var tV={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gte=_;function fr(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var va=null,ga=0;function Et(r,e){if(e.length!==0)if(512<e.length)0<ga&&(r.enqueue(new Uint8Array(va.buffer,0,ga)),va=new Uint8Array(512),ga=0),r.enqueue(e);else{var t=va.length-ga;t<e.length&&(t===0?r.enqueue(va):(va.set(e.subarray(0,t),ga),r.enqueue(va),e=e.subarray(t)),va=new Uint8Array(512),ga=0),va.set(e,ga),ga+=e.length}}function Sn(r,e){return Et(r,e),!0}function QK(r){va&&0<ga&&(r.enqueue(new Uint8Array(va.buffer,0,ga)),va=null,ga=0)}var $te=new TextEncoder;function _r(r){return $te.encode(r)}function dt(r){return $te.encode(r)}function Wte(r,e){typeof r.error=="function"?r.error(e):r.close()}var Bo=Object.prototype.hasOwnProperty,j3e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZK={},JK={};function zte(r){return Bo.call(JK,r)?!0:Bo.call(ZK,r)?!1:j3e.test(r)?JK[r]=!0:(ZK[r]=!0,!1)}function wo(r,e,t,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var $i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){$i[r]=new wo(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];$i[e]=new wo(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){$i[r]=new wo(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){$i[r]=new wo(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){$i[r]=new wo(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){$i[r]=new wo(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){$i[r]=new wo(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){$i[r]=new wo(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){$i[r]=new wo(r,5,!1,r.toLowerCase(),null,!1,!1)});var rV=/[\-:]([a-z])/g;function nV(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(rV,nV);$i[e]=new wo(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(rV,nV);$i[e]=new wo(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(rV,nV);$i[e]=new wo(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){$i[r]=new wo(r,1,!1,r.toLowerCase(),null,!1,!1)});$i.xlinkHref=new wo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){$i[r]=new wo(r,1,!1,r.toLowerCase(),null,!0,!0)});var fb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K3e=["Webkit","ms","Moz","O"];Object.keys(fb).forEach(function(r){K3e.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),fb[e]=fb[r]})});var q3e=/["'&<>]/;function Vi(r){if(typeof r=="boolean"||typeof r=="number")return""+r;r=""+r;var e=q3e.exec(r);if(e){var t="",n,i=0;for(n=e.index;n<r.length;n++){switch(r.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==n&&(t+=r.substring(i,n)),i=n+1,t+=e}r=i!==n?t+r.substring(i,n):t}return r}var Y3e=/([A-Z])/g,X3e=/^ms-/,YM=Array.isArray,Q3e=dt("<script>"),Z3e=dt("<\/script>"),J3e=dt('<script src="'),e5e=dt('<script type="module" src="'),e4=dt('" async=""><\/script>'),t5e=/(<\/|<)(s)(cript)/gi;function r5e(r,e,t,n){return""+e+(t==="s"?"\\u0073":"\\u0053")+n}function n5e(r,e,t,n,i){r=r===void 0?"":r,e=e===void 0?Q3e:dt('<script nonce="'+Vi(e)+'">');var o=[];if(t!==void 0&&o.push(e,_r((""+t).replace(t5e,r5e)),Z3e),n!==void 0)for(t=0;t<n.length;t++)o.push(J3e,_r(Vi(n[t])),e4);if(i!==void 0)for(n=0;n<i.length;n++)o.push(e5e,_r(Vi(i[n])),e4);return{bootstrapChunks:o,startInlineScript:e,placeholderPrefix:dt(r+"P:"),segmentPrefix:dt(r+"S:"),boundaryPrefix:r+"B:",idPrefix:r,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function dl(r,e){return{insertionMode:r,selectedValue:e}}function i5e(r){return dl(r==="http://www.w3.org/2000/svg"?2:r==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function o5e(r,e,t){switch(e){case"select":return dl(1,t.value!=null?t.value:t.defaultValue);case"svg":return dl(2,null);case"math":return dl(3,null);case"foreignObject":return dl(1,null);case"table":return dl(4,null);case"thead":case"tbody":case"tfoot":return dl(5,null);case"colgroup":return dl(7,null);case"tr":return dl(6,null)}return 4<=r.insertionMode||r.insertionMode===0?dl(1,null):r}var iV=dt("<!-- -->");function t4(r,e,t,n){return e===""?n:(n&&r.push(iV),r.push(_r(Vi(e))),!0)}var r4=new Map,a5e=dt(' style="'),n4=dt(":"),s5e=dt(";");function Ute(r,e,t){if(typeof t!="object")throw Error(fr(62));e=!0;for(var n in t)if(Bo.call(t,n)){var i=t[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var o=_r(Vi(n));i=_r(Vi((""+i).trim()))}else{o=n;var a=r4.get(o);a!==void 0||(a=dt(Vi(o.replace(Y3e,"-$1").toLowerCase().replace(X3e,"-ms-"))),r4.set(o,a)),o=a,i=typeof i=="number"?i===0||Bo.call(fb,n)?_r(""+i):_r(i+"px"):_r(Vi((""+i).trim()))}e?(e=!1,r.push(a5e,o,n4,i)):r.push(s5e,o,n4,i)}}e||r.push(Qd)}var Cc=dt(" "),yf=dt('="'),Qd=dt('"'),i4=dt('=""');function la(r,e,t,n){switch(t){case"style":Ute(r,e,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=$i.hasOwnProperty(t)?$i[t]:null,e!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=_r(e.attributeName),e.type){case 3:n&&r.push(Cc,t,i4);break;case 4:n===!0?r.push(Cc,t,i4):n!==!1&&r.push(Cc,t,yf,_r(Vi(n)),Qd);break;case 5:isNaN(n)||r.push(Cc,t,yf,_r(Vi(n)),Qd);break;case 6:!isNaN(n)&&1<=n&&r.push(Cc,t,yf,_r(Vi(n)),Qd);break;default:e.sanitizeURL&&(n=""+n),r.push(Cc,t,yf,_r(Vi(n)),Qd)}}else if(zte(t)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}r.push(Cc,_r(t),yf,_r(Vi(n)),Qd)}}}var yc=dt(">"),o4=dt("/>");function vb(r,e,t){if(e!=null){if(t!=null)throw Error(fr(60));if(typeof e!="object"||!("__html"in e))throw Error(fr(61));e=e.__html,e!=null&&r.push(_r(""+e))}}function l5e(r){var e="";return Gte.Children.forEach(r,function(t){t!=null&&(e+=t)}),e}var tA=dt(' selected=""');function rA(r,e,t,n){r.push(hl(t));var i=t=null,o;for(o in e)if(Bo.call(e,o)){var a=e[o];if(a!=null)switch(o){case"children":t=a;break;case"dangerouslySetInnerHTML":i=a;break;default:la(r,n,o,a)}}return r.push(yc),vb(r,i,t),typeof t=="string"?(r.push(_r(Vi(t))),null):t}var nA=dt(`
`),u5e=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,a4=new Map;function hl(r){var e=a4.get(r);if(e===void 0){if(!u5e.test(r))throw Error(fr(65,r));e=dt("<"+r),a4.set(r,e)}return e}var c5e=dt("<!DOCTYPE html>");function d5e(r,e,t,n,i){switch(e){case"select":r.push(hl("select"));var o=null,a=null;for(c in t)if(Bo.call(t,c)){var s=t[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:la(r,n,c,s)}}return r.push(yc),vb(r,a,o),o;case"option":a=i.selectedValue,r.push(hl("option"));var l=s=null,u=null,c=null;for(o in t)if(Bo.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:la(r,n,o,d)}}if(a!=null)if(t=l!==null?""+l:l5e(s),YM(a)){for(n=0;n<a.length;n++)if(""+a[n]===t){r.push(tA);break}}else""+a===t&&r.push(tA);else u&&r.push(tA);return r.push(yc),vb(r,c,s),s;case"textarea":r.push(hl("textarea")),c=a=o=null;for(s in t)if(Bo.call(t,s)&&(l=t[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(fr(91));default:la(r,n,s,l)}if(o===null&&a!==null&&(o=a),r.push(yc),c!=null){if(o!=null)throw Error(fr(92));if(YM(c)&&1<c.length)throw Error(fr(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&r.push(nA),o!==null&&r.push(_r(Vi(""+o))),null;case"input":r.push(hl("input")),l=c=s=o=null;for(a in t)if(Bo.call(t,a)&&(u=t[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(fr(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:la(r,n,a,u)}return c!==null?la(r,n,"checked",c):l!==null&&la(r,n,"checked",l),o!==null?la(r,n,"value",o):s!==null&&la(r,n,"value",s),r.push(o4),null;case"menuitem":r.push(hl("menuitem"));for(var h in t)if(Bo.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(fr(400));default:la(r,n,h,o)}return r.push(yc),null;case"title":r.push(hl("title")),o=null;for(d in t)if(Bo.call(t,d)&&(a=t[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(fr(434));default:la(r,n,d,a)}return r.push(yc),o;case"listing":case"pre":r.push(hl(e)),a=o=null;for(l in t)if(Bo.call(t,l)&&(s=t[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:la(r,n,l,s)}if(r.push(yc),a!=null){if(o!=null)throw Error(fr(60));if(typeof a!="object"||!("__html"in a))throw Error(fr(61));t=a.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?r.push(nA,_r(t)):r.push(_r(""+t)))}return typeof o=="string"&&o[0]===`
`&&r.push(nA),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":r.push(hl(e));for(var p in t)if(Bo.call(t,p)&&(o=t[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(fr(399,e));default:la(r,n,p,o)}return r.push(o4),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return rA(r,t,e,n);case"html":return i.insertionMode===0&&r.push(c5e),rA(r,t,e,n);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return rA(r,t,e,n);r.push(hl(e)),a=o=null;for(u in t)if(Bo.call(t,u)&&(s=t[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":Ute(r,n,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:zte(u)&&typeof s!="function"&&typeof s!="symbol"&&r.push(Cc,_r(u),yf,_r(Vi(s)),Qd)}return r.push(yc),vb(r,a,o),o}}var h5e=dt("</"),p5e=dt(">"),f5e=dt('<template id="'),v5e=dt('"></template>'),g5e=dt("<!--$-->"),m5e=dt('<!--$?--><template id="'),_5e=dt('"></template>'),C5e=dt("<!--$!-->"),y5e=dt("<!--/$-->"),S5e=dt("<template"),w5e=dt('"'),b5e=dt(' data-dgst="');dt(' data-msg="');dt(' data-stck="');var E5e=dt("></template>");function s4(r,e,t){if(Et(r,m5e),t===null)throw Error(fr(395));return Et(r,t),Sn(r,_5e)}var x5e=dt('<div hidden id="'),I5e=dt('">'),T5e=dt("</div>"),R5e=dt('<svg aria-hidden="true" style="display:none" id="'),O5e=dt('">'),D5e=dt("</svg>"),A5e=dt('<math aria-hidden="true" style="display:none" id="'),P5e=dt('">'),M5e=dt("</math>"),F5e=dt('<table hidden id="'),L5e=dt('">'),N5e=dt("</table>"),k5e=dt('<table hidden><tbody id="'),V5e=dt('">'),B5e=dt("</tbody></table>"),H5e=dt('<table hidden><tr id="'),G5e=dt('">'),$5e=dt("</tr></table>"),W5e=dt('<table hidden><colgroup id="'),z5e=dt('">'),U5e=dt("</colgroup></table>");function j5e(r,e,t,n){switch(t.insertionMode){case 0:case 1:return Et(r,x5e),Et(r,e.segmentPrefix),Et(r,_r(n.toString(16))),Sn(r,I5e);case 2:return Et(r,R5e),Et(r,e.segmentPrefix),Et(r,_r(n.toString(16))),Sn(r,O5e);case 3:return Et(r,A5e),Et(r,e.segmentPrefix),Et(r,_r(n.toString(16))),Sn(r,P5e);case 4:return Et(r,F5e),Et(r,e.segmentPrefix),Et(r,_r(n.toString(16))),Sn(r,L5e);case 5:return Et(r,k5e),Et(r,e.segmentPrefix),Et(r,_r(n.toString(16))),Sn(r,V5e);case 6:return Et(r,H5e),Et(r,e.segmentPrefix),Et(r,_r(n.toString(16))),Sn(r,G5e);case 7:return Et(r,W5e),Et(r,e.segmentPrefix),Et(r,_r(n.toString(16))),Sn(r,z5e);default:throw Error(fr(397))}}function K5e(r,e){switch(e.insertionMode){case 0:case 1:return Sn(r,T5e);case 2:return Sn(r,D5e);case 3:return Sn(r,M5e);case 4:return Sn(r,N5e);case 5:return Sn(r,B5e);case 6:return Sn(r,$5e);case 7:return Sn(r,U5e);default:throw Error(fr(397))}}var q5e=dt('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Y5e=dt('$RS("'),X5e=dt('","'),Q5e=dt('")<\/script>'),Z5e=dt('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),J5e=dt('$RC("'),eqe=dt('","'),tqe=dt('")<\/script>'),rqe=dt('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),nqe=dt('$RX("'),iqe=dt('"'),oqe=dt(")<\/script>"),iA=dt(","),aqe=/[<\u2028\u2029]/g;function oA(r){return JSON.stringify(r).replace(aqe,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var l_=Object.assign,sqe=Symbol.for("react.element"),jte=Symbol.for("react.portal"),Kte=Symbol.for("react.fragment"),qte=Symbol.for("react.strict_mode"),Yte=Symbol.for("react.profiler"),Xte=Symbol.for("react.provider"),Qte=Symbol.for("react.context"),Zte=Symbol.for("react.forward_ref"),Jte=Symbol.for("react.suspense"),ere=Symbol.for("react.suspense_list"),tre=Symbol.for("react.memo"),oV=Symbol.for("react.lazy"),lqe=Symbol.for("react.scope"),uqe=Symbol.for("react.debug_trace_mode"),cqe=Symbol.for("react.legacy_hidden"),dqe=Symbol.for("react.default_value"),l4=Symbol.iterator;function XM(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Kte:return"Fragment";case jte:return"Portal";case Yte:return"Profiler";case qte:return"StrictMode";case Jte:return"Suspense";case ere:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Qte:return(r.displayName||"Context")+".Consumer";case Xte:return(r._context.displayName||"Context")+".Provider";case Zte:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case tre:return e=r.displayName||null,e!==null?e:XM(r.type)||"Memo";case oV:e=r._payload,r=r._init;try{return XM(r(e))}catch{}}return null}var rre={};function u4(r,e){if(r=r.contextTypes,!r)return rre;var t={},n;for(n in r)t[n]=e[n];return t}var dh=null;function B0(r,e){if(r!==e){r.context._currentValue=r.parentValue,r=r.parent;var t=e.parent;if(r===null){if(t!==null)throw Error(fr(401))}else{if(t===null)throw Error(fr(401));B0(r,t)}e.context._currentValue=e.value}}function nre(r){r.context._currentValue=r.parentValue,r=r.parent,r!==null&&nre(r)}function ire(r){var e=r.parent;e!==null&&ire(e),r.context._currentValue=r.value}function ore(r,e){if(r.context._currentValue=r.parentValue,r=r.parent,r===null)throw Error(fr(402));r.depth===e.depth?B0(r,e):ore(r,e)}function are(r,e){var t=e.parent;if(t===null)throw Error(fr(402));r.depth===t.depth?B0(r,t):are(r,t),e.context._currentValue=e.value}function zE(r){var e=dh;e!==r&&(e===null?ire(r):r===null?nre(e):e.depth===r.depth?B0(e,r):e.depth>r.depth?ore(e,r):are(e,r),dh=r)}var c4={isMounted:function(){return!1},enqueueSetState:function(r,e){r=r._reactInternals,r.queue!==null&&r.queue.push(e)},enqueueReplaceState:function(r,e){r=r._reactInternals,r.replace=!0,r.queue=[e]},enqueueForceUpdate:function(){}};function d4(r,e,t,n){var i=r.state!==void 0?r.state:null;r.updater=c4,r.props=t,r.state=i;var o={queue:[],replace:!1};r._reactInternals=o;var a=e.contextType;if(r.context=typeof a=="object"&&a!==null?a._currentValue:n,a=e.getDerivedStateFromProps,typeof a=="function"&&(a=a(t,i),i=a==null?i:l_({},i,a),r.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function"&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function"))if(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&c4.enqueueReplaceState(r,r.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&e.length===1)r.state=e[0];else{for(o=a?e[0]:r.state,i=!0,a=a?1:0;a<e.length;a++){var s=e[a];s=typeof s=="function"?s.call(r,o,t,n):s,s!=null&&(i?(i=!1,o=l_({},o,s)):l_(o,s))}r.state=o}else o.queue=null}var hqe={id:1,overflow:""};function QM(r,e,t){var n=r.id;r=r.overflow;var i=32-gb(n)-1;n&=~(1<<i),t+=1;var o=32-gb(e)+i;if(30<o){var a=i-i%5;return o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,{id:1<<32-gb(e)+i|t<<i|n,overflow:o+r}}return{id:1<<o|t<<i|n,overflow:r}}var gb=Math.clz32?Math.clz32:vqe,pqe=Math.log,fqe=Math.LN2;function vqe(r){return r>>>=0,r===0?32:31-(pqe(r)/fqe|0)|0}function gqe(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var mqe=typeof Object.is=="function"?Object.is:gqe,Lu=null,aV=null,mb=null,vn=null,Om=!1,UE=!1,J_=0,Vc=null,H0=0;function Zd(){if(Lu===null)throw Error(fr(321));return Lu}function h4(){if(0<H0)throw Error(fr(312));return{memoizedState:null,queue:null,next:null}}function sV(){return vn===null?mb===null?(Om=!1,mb=vn=h4()):(Om=!0,vn=mb):vn.next===null?(Om=!1,vn=vn.next=h4()):(Om=!0,vn=vn.next),vn}function lV(){aV=Lu=null,UE=!1,mb=null,H0=0,vn=Vc=null}function sre(r,e){return typeof e=="function"?e(r):e}function p4(r,e,t){if(Lu=Zd(),vn=sV(),Om){var n=vn.queue;if(e=n.dispatch,Vc!==null&&(t=Vc.get(n),t!==void 0)){Vc.delete(n),n=vn.memoizedState;do n=r(n,t.action),t=t.next;while(t!==null);return vn.memoizedState=n,[n,e]}return[vn.memoizedState,e]}return r=r===sre?typeof e=="function"?e():e:t!==void 0?t(e):e,vn.memoizedState=r,r=vn.queue={last:null,dispatch:null},r=r.dispatch=_qe.bind(null,Lu,r),[vn.memoizedState,r]}function f4(r,e){if(Lu=Zd(),vn=sV(),e=e===void 0?null:e,vn!==null){var t=vn.memoizedState;if(t!==null&&e!==null){var n=t[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<e.length;i++)if(!mqe(e[i],n[i])){n=!1;break e}n=!0}if(n)return t[0]}}return r=r(),vn.memoizedState=[r,e],r}function _qe(r,e,t){if(25<=H0)throw Error(fr(301));if(r===Lu)if(UE=!0,r={action:t,next:null},Vc===null&&(Vc=new Map),t=Vc.get(e),t===void 0)Vc.set(e,r);else{for(e=t;e.next!==null;)e=e.next;e.next=r}}function Cqe(){throw Error(fr(394))}function Cw(){}var v4={readContext:function(r){return r._currentValue},useContext:function(r){return Zd(),r._currentValue},useMemo:f4,useReducer:p4,useRef:function(r){Lu=Zd(),vn=sV();var e=vn.memoizedState;return e===null?(r={current:r},vn.memoizedState=r):e},useState:function(r){return p4(sre,r)},useInsertionEffect:Cw,useLayoutEffect:function(){},useCallback:function(r,e){return f4(function(){return r},e)},useImperativeHandle:Cw,useEffect:Cw,useDebugValue:Cw,useDeferredValue:function(r){return Zd(),r},useTransition:function(){return Zd(),[!1,Cqe]},useId:function(){var r=aV.treeContext,e=r.overflow;r=r.id,r=(r&~(1<<32-gb(r)-1)).toString(32)+e;var t=_b;if(t===null)throw Error(fr(404));return e=J_++,r=":"+t.idPrefix+"R"+r,0<e&&(r+="H"+e.toString(32)),r+":"},useMutableSource:function(r,e){return Zd(),e(r._source)},useSyncExternalStore:function(r,e,t){if(t===void 0)throw Error(fr(407));return t()}},_b=null,aA=Gte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function yqe(r){return console.error(r),null}function Dm(){}function Sqe(r,e,t,n,i,o,a,s,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?yqe:i,onAllReady:o===void 0?Dm:o,onShellReady:a===void 0?Dm:a,onShellError:s===void 0?Dm:s,onFatalError:l===void 0?Dm:l},t=jE(e,0,null,t,!1,!1),t.parentFlushed=!0,r=uV(e,r,null,t,c,rre,null,hqe),u.push(r),e}function uV(r,e,t,n,i,o,a,s){r.allPendingTasks++,t===null?r.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=r.pingedTasks;u.push(l),u.length===1&&cre(r)},blockedBoundary:t,blockedSegment:n,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function jE(r,e,t,n,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:t,lastPushedText:i,textEmbedded:o}}function eC(r,e){if(r=r.onError(e),r!=null&&typeof r!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof r+'" instead');return r}function KE(r,e){var t=r.onShellError;t(e),t=r.onFatalError,t(e),r.destination!==null?(r.status=2,Wte(r.destination,e)):(r.status=1,r.fatalError=e)}function g4(r,e,t,n,i){for(Lu={},aV=e,J_=0,r=t(n,i);UE;)UE=!1,J_=0,H0+=1,vn=null,r=t(n,i);return lV(),r}function m4(r,e,t,n){var i=t.render(),o=n.childContextTypes;if(o!=null){var a=e.legacyContext;if(typeof t.getChildContext!="function")n=a;else{t=t.getChildContext();for(var s in t)if(!(s in o))throw Error(fr(108,XM(n)||"Unknown",s));n=l_({},a,t)}e.legacyContext=n,ma(r,e,i),e.legacyContext=a}else ma(r,e,i)}function _4(r,e){if(r&&r.defaultProps){e=l_({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function ZM(r,e,t,n,i){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){i=u4(t,e.legacyContext);var o=t.contextType;o=new t(n,typeof o=="object"&&o!==null?o._currentValue:i),d4(o,t,n,i),m4(r,e,o,t)}else{o=u4(t,e.legacyContext),i=g4(r,e,t,n,o);var a=J_!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)d4(i,t,n,o),m4(r,e,i,t);else if(a){n=e.treeContext,e.treeContext=QM(n,1,0);try{ma(r,e,i)}finally{e.treeContext=n}}else ma(r,e,i)}else if(typeof t=="string"){switch(i=e.blockedSegment,o=d5e(i.chunks,t,n,r.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=o5e(a,t,n),JM(r,e,o),i.formatContext=a,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(h5e,_r(t),p5e)}i.lastPushedText=!1}else{switch(t){case cqe:case uqe:case qte:case Yte:case Kte:ma(r,e,n.children);return;case ere:ma(r,e,n.children);return;case lqe:throw Error(fr(343));case Jte:e:{t=e.blockedBoundary,i=e.blockedSegment,o=n.fallback,n=n.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=jE(r,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=jE(r,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=s,e.blockedSegment=u;try{if(JM(r,e,n),u.lastPushedText&&u.textEmbedded&&u.chunks.push(iV),u.status=1,qE(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=eC(r,c)}finally{e.blockedBoundary=t,e.blockedSegment=i}e=uV(r,o,t,l,a,e.legacyContext,e.context,e.treeContext),r.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zte:if(n=g4(r,e,t.render,n,i),J_!==0){t=e.treeContext,e.treeContext=QM(t,1,0);try{ma(r,e,n)}finally{e.treeContext=t}}else ma(r,e,n);return;case tre:t=t.type,n=_4(t,n),ZM(r,e,t,n,i);return;case Xte:if(i=n.children,t=t._context,n=n.value,o=t._currentValue,t._currentValue=n,a=dh,dh=n={parent:a,depth:a===null?0:a.depth+1,context:t,parentValue:o,value:n},e.context=n,ma(r,e,i),r=dh,r===null)throw Error(fr(403));n=r.parentValue,r.context._currentValue=n===dqe?r.context._defaultValue:n,r=dh=r.parent,e.context=r;return;case Qte:n=n.children,n=n(t._currentValue),ma(r,e,n);return;case oV:i=t._init,t=i(t._payload),n=_4(t,n),ZM(r,e,t,n,void 0);return}throw Error(fr(130,t==null?t:typeof t,""))}}function ma(r,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case sqe:ZM(r,e,t.type,t.props,t.ref);return;case jte:throw Error(fr(257));case oV:var n=t._init;t=n(t._payload),ma(r,e,t);return}if(YM(t)){C4(r,e,t);return}if(t===null||typeof t!="object"?n=null:(n=l4&&t[l4]||t["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(t))){if(t=n.next(),!t.done){var i=[];do i.push(t.value),t=n.next();while(!t.done);C4(r,e,i)}return}throw r=Object.prototype.toString.call(t),Error(fr(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}typeof t=="string"?(n=e.blockedSegment,n.lastPushedText=t4(e.blockedSegment.chunks,t,r.responseState,n.lastPushedText)):typeof t=="number"&&(n=e.blockedSegment,n.lastPushedText=t4(e.blockedSegment.chunks,""+t,r.responseState,n.lastPushedText))}function C4(r,e,t){for(var n=t.length,i=0;i<n;i++){var o=e.treeContext;e.treeContext=QM(o,n,i);try{JM(r,e,t[i])}finally{e.treeContext=o}}}function JM(r,e,t){var n=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return ma(r,e,t)}catch(l){if(lV(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var a=e.blockedSegment,s=jE(r,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,r=uV(r,e.node,e.blockedBoundary,s,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(r,r),e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,zE(o)}else throw e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,zE(o),l}}function wqe(r){var e=r.blockedBoundary;r=r.blockedSegment,r.status=3,ure(this,e,r)}function lre(r,e,t){var n=r.blockedBoundary;r.blockedSegment.status=3,n===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,r=t===void 0?Error(fr(432)):t,n.errorDigest=e.onError(r),n.parentFlushed&&e.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return lre(i,e,t)}),n.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(n=e.onAllReady,n()))}function qE(r,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&qE(r,t)}else r.completedSegments.push(e)}function ure(r,e,t){if(e===null){if(t.parentFlushed){if(r.completedRootSegment!==null)throw Error(fr(389));r.completedRootSegment=t}r.pendingRootTasks--,r.pendingRootTasks===0&&(r.onShellError=Dm,e=r.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&qE(e,t),e.parentFlushed&&r.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(wqe,r),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(qE(e,t),e.completedSegments.length===1&&e.parentFlushed&&r.partialBoundaries.push(e)));r.allPendingTasks--,r.allPendingTasks===0&&(r=r.onAllReady,r())}function cre(r){if(r.status!==2){var e=dh,t=aA.current;aA.current=v4;var n=_b;_b=r.responseState;try{var i=r.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=r,l=a.blockedSegment;if(l.status===0){zE(a.context);try{ma(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(iV),a.abortSet.delete(a),l.status=1,ure(s,a.blockedBoundary,l)}catch(f){if(lV(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,h=eC(s,d);if(c===null?KE(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var p=s.onAllReady;p()}}}finally{}}}i.splice(0,o),r.destination!==null&&cV(r,r.destination)}catch(f){eC(r,f),KE(r,f)}finally{_b=n,aA.current=t,t===v4&&zE(e)}}}function yw(r,e,t){switch(t.parentFlushed=!0,t.status){case 0:var n=t.id=r.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,r=r.responseState,Et(e,f5e),Et(e,r.placeholderPrefix),r=_r(n.toString(16)),Et(e,r),Sn(e,v5e);case 1:t.status=2;var i=!0;n=t.chunks;var o=0;t=t.children;for(var a=0;a<t.length;a++){for(i=t[a];o<i.index;o++)Et(e,n[o]);i=G0(r,e,i)}for(;o<n.length-1;o++)Et(e,n[o]);return o<n.length&&(i=Sn(e,n[o])),i;default:throw Error(fr(390))}}function G0(r,e,t){var n=t.boundary;if(n===null)return yw(r,e,t);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,Sn(e,C5e),Et(e,S5e),n&&(Et(e,b5e),Et(e,_r(Vi(n))),Et(e,w5e)),Sn(e,E5e),yw(r,e,t);else if(0<n.pendingTasks){n.rootSegmentID=r.nextSegmentId++,0<n.completedSegments.length&&r.partialBoundaries.push(n);var i=r.responseState,o=i.nextSuspenseID++;i=dt(i.boundaryPrefix+o.toString(16)),n=n.id=i,s4(e,r.responseState,n),yw(r,e,t)}else if(n.byteSize>r.progressiveChunkSize)n.rootSegmentID=r.nextSegmentId++,r.completedBoundaries.push(n),s4(e,r.responseState,n.id),yw(r,e,t);else{if(Sn(e,g5e),t=n.completedSegments,t.length!==1)throw Error(fr(391));G0(r,e,t[0])}return Sn(e,y5e)}function y4(r,e,t){return j5e(e,r.responseState,t.formatContext,t.id),G0(r,e,t),K5e(e,t.formatContext)}function S4(r,e,t){for(var n=t.completedSegments,i=0;i<n.length;i++)dre(r,e,t,n[i]);if(n.length=0,r=r.responseState,n=t.id,t=t.rootSegmentID,Et(e,r.startInlineScript),r.sentCompleteBoundaryFunction?Et(e,J5e):(r.sentCompleteBoundaryFunction=!0,Et(e,Z5e)),n===null)throw Error(fr(395));return t=_r(t.toString(16)),Et(e,n),Et(e,eqe),Et(e,r.segmentPrefix),Et(e,t),Sn(e,tqe)}function dre(r,e,t,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=t.rootSegmentID)===-1)throw Error(fr(392));return y4(r,e,n)}return y4(r,e,n),r=r.responseState,Et(e,r.startInlineScript),r.sentCompleteSegmentFunction?Et(e,Y5e):(r.sentCompleteSegmentFunction=!0,Et(e,q5e)),Et(e,r.segmentPrefix),i=_r(i.toString(16)),Et(e,i),Et(e,X5e),Et(e,r.placeholderPrefix),Et(e,i),Sn(e,Q5e)}function cV(r,e){va=new Uint8Array(512),ga=0;try{var t=r.completedRootSegment;if(t!==null&&r.pendingRootTasks===0){G0(r,e,t),r.completedRootSegment=null;var n=r.responseState.bootstrapChunks;for(t=0;t<n.length-1;t++)Et(e,n[t]);t<n.length&&Sn(e,n[t])}var i=r.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];n=e;var s=r.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(Et(n,s.startInlineScript),s.sentClientRenderFunction?Et(n,nqe):(s.sentClientRenderFunction=!0,Et(n,rqe)),l===null)throw Error(fr(395));Et(n,l),Et(n,iqe),(u||c||d)&&(Et(n,iA),Et(n,_r(oA(u||"")))),(c||d)&&(Et(n,iA),Et(n,_r(oA(c||"")))),d&&(Et(n,iA),Et(n,_r(oA(d)))),Sn(n,oqe)}i.splice(0,o);var h=r.completedBoundaries;for(o=0;o<h.length;o++)S4(r,e,h[o]);h.splice(0,o),QK(e),va=new Uint8Array(512),ga=0;var p=r.partialBoundaries;for(o=0;o<p.length;o++){var f=p[o];e:{i=r,a=e;var v=f.completedSegments;for(s=0;s<v.length;s++)if(!dre(i,a,f,v[s])){s++,v.splice(0,s);var g=!1;break e}v.splice(0,s),g=!0}if(!g){r.destination=null,o++,p.splice(0,o);return}}p.splice(0,o);var m=r.completedBoundaries;for(o=0;o<m.length;o++)S4(r,e,m[o]);m.splice(0,o)}finally{QK(e),r.allPendingTasks===0&&r.pingedTasks.length===0&&r.clientRenderedBoundaries.length===0&&r.completedBoundaries.length===0&&e.close()}}function w4(r,e){try{var t=r.abortableTasks;t.forEach(function(n){return lre(n,r,e)}),t.clear(),r.destination!==null&&cV(r,r.destination)}catch(n){eC(r,n),KE(r,n)}}tV.renderToReadableStream=function(r,e){return new Promise(function(t,n){var i,o,a=new Promise(function(c,d){o=c,i=d}),s=Sqe(r,n5e(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),i5e(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(s.status===1)s.status=2,Wte(d,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=d;try{cV(s,d)}catch(h){eC(s,h),KE(s,h)}}},cancel:function(){w4(s)}},{highWaterMark:0});c.allReady=a,t(c)},function(c){a.catch(function(){}),n(c)},i);if(e&&e.signal){var l=e.signal,u=function(){w4(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}cre(s)})};tV.version="18.2.0";var Mv,hre;Mv=Pv,hre=tV;wp.version=Mv.version;wp.renderToString=Mv.renderToString;wp.renderToStaticMarkup=Mv.renderToStaticMarkup;wp.renderToNodeStream=Mv.renderToNodeStream;wp.renderToStaticNodeStream=Mv.renderToStaticNodeStream;wp.renderToReadableStream=hre.renderToReadableStream;var YE=ne&&ne.__assign||function(){return YE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},YE.apply(this,arguments)},bqe=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cy,"__esModule",{value:!0});cy.ReactComponent=void 0;var b4=_,nm=Ci,E4=bqe(jk),Eqe=Bu,xqe=wp,Iqe=function(){function r(e,t,n,i){var o=this;this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=E4.default(),this.portalKey=E4.default(),this.instanceCreated=this.isStatelessComponent()?nm.AgPromise.resolve(!1):new nm.AgPromise(function(a){o.resolveInstanceCreated=a})}return r.prototype.getGui=function(){return this.eParentElement},r.prototype.getRootElement=function(){var e=this.eParentElement.firstChild;return e},r.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},r.prototype.createParentElement=function(e){var t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n},r.prototype.addParentContainerStyleAndClasses=function(){var e=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(nm._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){nm._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');var t=this.componentInstance.getReactContainerClasses();t.forEach(function(n){return e.eParentElement.classList.add(n)})}},r.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},r.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},r.prototype.isStatelessComponent=function(){return this.statelessComponent},r.prototype.getReactComponentName=function(){return this.reactComponent.name},r.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},r.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},r.prototype.isStateless=function(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()},r.prototype.hasMethod=function(e){var t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)},r.prototype.callMethod=function(e,t){var n=this,i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i){setTimeout(function(){return n.callMethod(e,t)});return}var o=i[e];if(o)return o.apply(i,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})},r.prototype.addMethod=function(e,t){this[e]=t},r.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new nm.AgPromise(function(n){return t.createReactComponent(n)})},r.prototype.createOrUpdatePortal=function(e){var t=this;this.isStatelessComponent()||(this.ref=function(n){var i;t.componentInstance=n,t.addParentContainerStyleAndClasses(),(i=t.resolveInstanceCreated)===null||i===void 0||i.call(t,!0),t.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,YE(YE({},e),{key:this.key})),this.portal=Eqe.createPortal(this.reactElement,this.eParentElement,this.portalKey)},r.prototype.createElement=function(e,t){return b4.createElement(e,t)},r.prototype.createReactComponent=function(e){this.portalManager.mountReactPortal(this.portal,this,function(t){e(t)})},r.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},r.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},r.prototype.valueRenderedIsNull=function(e){if(!this.componentType.cellRenderer)return!1;var t=console.error;try{console.error=function(){};var n=xqe.renderToStaticMarkup(b4.createElement(this.reactComponent,e));return n===""}catch{}finally{console.error=t}return!1},r.prototype.refreshComponent=function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},r.prototype.fallbackMethod=function(e,t){var n=this[e+"Component"];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)},r.prototype.fallbackMethodAvailable=function(e){if(this.suppressFallbackMethods)return!1;var t=this[e+"Component"];return!!t},r}();cy.ReactComponent=Iqe;var Tqe=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XE=ne&&ne.__assign||function(){return XE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},XE.apply(this,arguments)},Rqe=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Co,"__esModule",{value:!0});Co.CustomComponentWrapper=Co.addOptionalMethods=void 0;var sA=Ci,Oqe=Rqe(Uk),Dqe=cy;function pre(r,e,t){r.forEach(function(n){var i=e[n];i&&(t[n]=i)})}Co.addOptionalMethods=pre;var Aqe=function(r){Tqe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.awaitUpdateCallback=new sA.AgPromise(function(n){t.resolveUpdateCallback=n}),t.wrapperComponent=Oqe.default,t}return e.prototype.init=function(t){return this.sourceParams=t,r.prototype.init.call(this,this.getProps())},e.prototype.addMethod=function(){},e.prototype.getInstance=function(){var t=this;return this.instanceCreated.then(function(){return t.componentInstance})},e.prototype.getFrameworkComponentInstance=function(){return this},e.prototype.createElement=function(t,n){var i=this;return r.prototype.createElement.call(this,this.wrapperComponent,{initialProps:n,CustomComponentClass:t,setMethods:function(o){return i.setMethods(o)},addUpdateCallback:function(o){i.updateCallback=function(){return o(i.getProps()),new sA.AgPromise(function(a){setTimeout(function(){a()})})},i.resolveUpdateCallback()}})},e.prototype.setMethods=function(t){this.providedMethods=t,pre(this.getOptionalMethods(),this.providedMethods,this)},e.prototype.getOptionalMethods=function(){return[]},e.prototype.getProps=function(){return XE(XE({},this.sourceParams),{key:this.key,ref:this.ref})},e.prototype.refreshProps=function(){var t=this;return this.updateCallback?this.updateCallback():new sA.AgPromise(function(n){return t.awaitUpdateCallback.then(function(){t.updateCallback().then(function(){return n()})})})},e}(Dqe.ReactComponent);Co.CustomComponentWrapper=Aqe;var Pqe=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(L0,"__esModule",{value:!0});L0.DateComponentWrapper=void 0;var Mqe=Co,Fqe=function(r){Pqe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.date=null,t.onDateChange=function(n){return t.updateDate(n)},t}return e.prototype.getDate=function(){return this.date},e.prototype.setDate=function(t){this.date=t,this.refreshProps()},e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e.prototype.getOptionalMethods=function(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]},e.prototype.updateDate=function(t){this.setDate(t),this.sourceParams.onDateChanged()},e.prototype.getProps=function(){var t=r.prototype.getProps.call(this);return t.date=this.date,t.onDateChange=this.onDateChange,delete t.onDateChanged,t},e}(Mqe.CustomComponentWrapper);L0.DateComponentWrapper=Fqe;var $0={},Lqe=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($0,"__esModule",{value:!0});$0.FilterComponentWrapper=void 0;var Nqe=Co,kqe=function(r){Lqe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.model=null,t.onModelChange=function(n){return t.updateModel(n)},t.onUiChange=function(){return t.sourceParams.filterChangedCallback()},t}return e.prototype.isFilterActive=function(){return this.model!=null},e.prototype.doesFilterPass=function(t){return this.providedMethods.doesFilterPass(t)},e.prototype.getModel=function(){return this.model},e.prototype.setModel=function(t){return this.model=t,this.refreshProps()},e.prototype.refresh=function(t){return this.sourceParams=t,this.refreshProps(),!0},e.prototype.getOptionalMethods=function(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]},e.prototype.updateModel=function(t){var n=this;this.setModel(t).then(function(){return n.sourceParams.filterChangedCallback()})},e.prototype.getProps=function(){var t=r.prototype.getProps.call(this);return t.model=this.model,t.onModelChange=this.onModelChange,t.onUiChange=this.onUiChange,delete t.filterChangedCallback,delete t.filterModifiedCallback,delete t.valueGetter,t},e}(Nqe.CustomComponentWrapper);$0.FilterComponentWrapper=kqe;var W0={},tp={},QE=ne&&ne.__assign||function(){return QE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},QE.apply(this,arguments)};Object.defineProperty(tp,"__esModule",{value:!0});tp.FloatingFilterComponentProxy=tp.updateFloatingFilterParent=void 0;var Vqe=Ci,Bqe=Co;function fre(r,e){r.parentFilterInstance(function(t){(t.setModel(e)||Vqe.AgPromise.resolve()).then(function(){r.filterParams.filterChangedCallback()})})}tp.updateFloatingFilterParent=fre;var Hqe=function(){function r(e,t){var n=this;this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=function(i){return n.updateModel(i)}}return r.prototype.getProps=function(){return QE(QE({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})},r.prototype.onParentModelChanged=function(e){this.model=e,this.refreshProps()},r.prototype.refresh=function(e){this.floatingFilterParams=e,this.refreshProps()},r.prototype.setMethods=function(e){Bqe.addOptionalMethods(this.getOptionalMethods(),e,this)},r.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},r.prototype.updateModel=function(e){this.model=e,this.refreshProps(),fre(this.floatingFilterParams,e)},r}();tp.FloatingFilterComponentProxy=Hqe;var Gqe=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(W0,"__esModule",{value:!0});W0.FloatingFilterComponentWrapper=void 0;var $qe=Co,Wqe=tp,zqe=function(r){Gqe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.model=null,t.onModelChange=function(n){return t.updateModel(n)},t}return e.prototype.onParentModelChanged=function(t){this.model=t,this.refreshProps()},e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},e.prototype.updateModel=function(t){this.model=t,this.refreshProps(),Wqe.updateFloatingFilterParent(this.sourceParams,t)},e.prototype.getProps=function(){var t=r.prototype.getProps.call(this);return t.model=this.model,t.onModelChange=this.onModelChange,t},e}($qe.CustomComponentWrapper);W0.FloatingFilterComponentWrapper=zqe;var z0={},Uqe=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(z0,"__esModule",{value:!0});z0.LoadingOverlayComponentWrapper=void 0;var jqe=Co,Kqe=function(r){Uqe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e}(jqe.CustomComponentWrapper);z0.LoadingOverlayComponentWrapper=Kqe;var U0={},qqe=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(U0,"__esModule",{value:!0});U0.MenuItemComponentWrapper=void 0;var Yqe=Co,Xqe=function(r){qqe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.active=!1,t.expanded=!1,t.onActiveChange=function(n){return t.updateActive(n)},t}return e.prototype.setActive=function(t){this.awaitSetActive(t)},e.prototype.setExpanded=function(t){this.expanded=t,this.refreshProps()},e.prototype.getOptionalMethods=function(){return["select","configureDefaults"]},e.prototype.awaitSetActive=function(t){return this.active=t,this.refreshProps()},e.prototype.updateActive=function(t){var n=this,i=this.awaitSetActive(t);t&&i.then(function(){return n.sourceParams.onItemActivated()})},e.prototype.getProps=function(){var t=r.prototype.getProps.call(this);return t.active=this.active,t.expanded=this.expanded,t.onActiveChange=this.onActiveChange,delete t.onItemActivated,t},e}(Yqe.CustomComponentWrapper);U0.MenuItemComponentWrapper=Xqe;var j0={},Qqe=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(j0,"__esModule",{value:!0});j0.NoRowsOverlayComponentWrapper=void 0;var Zqe=Co,Jqe=function(r){Qqe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.refresh=function(t){this.sourceParams=t,this.refreshProps()},e}(Zqe.CustomComponentWrapper);j0.NoRowsOverlayComponentWrapper=Jqe;var K0={},e6e=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(K0,"__esModule",{value:!0});K0.StatusPanelComponentWrapper=void 0;var t6e=Co,r6e=function(r){e6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.refresh=function(t){return this.sourceParams=t,this.refreshProps(),!0},e}(t6e.CustomComponentWrapper);K0.StatusPanelComponentWrapper=r6e;var q0={},n6e=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(q0,"__esModule",{value:!0});q0.ToolPanelComponentWrapper=void 0;var i6e=Co,o6e=function(r){n6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onStateChange=function(n){return t.updateState(n)},t}return e.prototype.refresh=function(t){return this.sourceParams=t,this.refreshProps(),!0},e.prototype.getState=function(){return this.state},e.prototype.updateState=function(t){this.state=t,this.refreshProps(),this.sourceParams.onStateUpdated()},e.prototype.getProps=function(){var t=r.prototype.getProps.call(this);return t.state=this.state,t.onStateChange=this.onStateChange,t},e}(i6e.CustomComponentWrapper);q0.ToolPanelComponentWrapper=o6e;var Y0={},x4=ne&&ne.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.PortalManager=void 0;var a6e=function(){function r(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||r.MAX_COMPONENT_CREATION_TIME_IN_MS}return r.prototype.getPortals=function(){return this.portals},r.prototype.destroy=function(){this.destroyed=!0},r.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(t){return t!==e}),this.batchUpdate()},r.prototype.getComponentWrappingElement=function(){return this.wrappingElement},r.prototype.mountReactPortal=function(e,t,n){this.portals=x4(x4([],this.portals),[e]),this.waitForInstance(t,n),this.batchUpdate()},r.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},r.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||(e.refresher(),e.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},r.prototype.waitForInstance=function(e,t,n){var i=this;if(n===void 0&&(n=Date.now()),this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){t(e);return}console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms."),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(function(){i.waitForInstance(e,t,n)})}},r.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,r}();Y0.PortalManager=a6e;var Ei={},s6e=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.BeansContext=void 0;var l6e=s6e(_);Ei.BeansContext=l6e.default.createContext({});var wn={},eF=ne&&ne.__assign||function(){return eF=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},eF.apply(this,arguments)},I4=ne&&ne.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},u6e=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wn,"__esModule",{value:!0});wn.getNextValueIfDifferent=wn.agFlushSync=wn.runWithoutFlushSync=wn.isComponentStateless=wn.CssClasses=wn.classesList=void 0;var tF=u6e(Bu),c6e=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(function(n){return n!=null&&n!==""});return t.join(" ")};wn.classesList=c6e;var d6e=function(){function r(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.classesMap={},t.forEach(function(i){e.classesMap[i]=!0})}return r.prototype.setClass=function(e,t){var n=!!this.classesMap[e]==t;if(n)return this;var i=new r;return i.classesMap=eF({},this.classesMap),i.classesMap[e]=t,i},r.prototype.toString=function(){var e=this,t=Object.keys(this.classesMap).filter(function(n){return e.classesMap[n]}).join(" ");return t},r}();wn.CssClasses=d6e;var h6e=function(r){var e=function(){return typeof Symbol=="function"&&Symbol.for},t=function(){return e()?Symbol.for("react.memo"):60115};return typeof r=="function"&&!(r.prototype&&r.prototype.isReactComponent)||typeof r=="object"&&r.$$typeof===t()};wn.isComponentStateless=h6e;var p6e=tF.default.createRoot!=null&&tF.default.flushSync!=null,Cb=!1;function f6e(r){return Cb||setTimeout(function(){return Cb=!1},0),Cb=!0,r()}wn.runWithoutFlushSync=f6e;var v6e=function(r,e){p6e&&r&&!Cb?tF.default.flushSync(e):e()};wn.agFlushSync=v6e;function g6e(r,e,t){if(e==null||r==null)return e;if(r===e||e.length===0&&r.length===0)return r;if(t||r.length===0&&e.length>0||r.length>0&&e.length===0)return e;for(var n=[],i=[],o=new Map,a=new Map,s=0;s<e.length;s++){var l=e[s];a.set(l.getInstanceId(),l)}for(var s=0;s<r.length;s++){var l=r[s];o.set(l.getInstanceId(),l),a.has(l.getInstanceId())&&n.push(l)}for(var s=0;s<e.length;s++){var l=e[s],u=l.getInstanceId();o.has(u)||i.push(l)}return n.length===r.length&&i.length===0?r:n.length===0&&i.length===e.length?e:I4(I4([],n),i)}wn.getNextValueIfDifferent=g6e;var dV={},Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.createSyncJsComp=Xs.showJsComp=void 0;var m6e=function(r,e,t,n){var i=!r||r.componentFromFramework||e.isDestroyed();if(!i){var o=r.newAgStackInstance();if(o){var a,s,l=!1;return o.then(function(u){if(l){e.destroyBean(u);return}a=u,s=a.getGui(),t.appendChild(s),T4(n,a)}),function(){l=!0,a&&(s&&s.parentElement&&s.parentElement.removeChild(s),e.destroyBean(a),n&&T4(n,void 0))}}}};Xs.showJsComp=m6e;var T4=function(r,e){if(r)if(r instanceof Function){var t=r;t(e)}else{var n=r;n.current=e}},_6e=function(r){var e=r.newAgStackInstance();if(e)return e.resolveNow(null,function(t){return t})};Xs.createSyncJsComp=_6e;var ZE=ne&&ne.__assign||function(){return ZE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ZE.apply(this,arguments)},C6e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),y6e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),S6e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&C6e(e,r,t);return y6e(e,r),e};Object.defineProperty(dV,"__esModule",{value:!0});var R4=Ci,zr=S6e(_),w6e=Ei,b6e=Xs,Sw=wn,vre=zr.forwardRef(function(r,e){var t,n=zr.useContext(w6e.BeansContext).context,i=zr.useRef(null),o=zr.useRef(null),a=zr.useRef(null),s=zr.useRef(null),l=zr.useRef(null),u=zr.useRef(),c=zr.useState(),d=c[0],h=c[1],p=zr.useState(),f=p[0],v=p[1],g=zr.useState(),m=g[0],C=g[1],y=zr.useState(function(){return new Sw.CssClasses}),w=y[0],T=y[1],S=zr.useState(function(){return new Sw.CssClasses("ag-hidden")}),x=S[0],I=S[1],R=zr.useState(function(){return new Sw.CssClasses("ag-hidden")}),D=R[0],A=R[1],V=zr.useState(function(){return new Sw.CssClasses("ag-invisible")}),F=V[0],P=V[1];zr.useImperativeHandle(e,function(){return{refresh:function(){return!1}}}),zr.useLayoutEffect(function(){return b6e.showJsComp(d,n,o.current)},[d]);var M=zr.useCallback(function(ee){if(i.current=ee,!i.current){n.destroyBean(u.current),u.current=null;return}var te={setInnerRenderer:function(de,Se){h(de),C(Se)},setChildCount:function(de){return v(de)},addOrRemoveCssClass:function(de,Se){return T(function(Me){return Me.setClass(de,Se)})},setContractedDisplayed:function(de){return A(function(Se){return Se.setClass("ag-hidden",!de)})},setExpandedDisplayed:function(de){return I(function(Se){return Se.setClass("ag-hidden",!de)})},setCheckboxVisible:function(de){return P(function(Se){return Se.setClass("ag-invisible",!de)})}};u.current=n.createBean(new R4.GroupCellRendererCtrl),u.current.init(te,i.current,a.current,s.current,l.current,vre,r)},[]),N=zr.useMemo(function(){return"ag-cell-wrapper "+w.toString()},[w]),H=zr.useMemo(function(){return"ag-group-expanded "+x.toString()},[x]),G=zr.useMemo(function(){return"ag-group-contracted "+D.toString()},[D]),z=zr.useMemo(function(){return"ag-group-checkbox "+F.toString()},[F]),j=d&&d.componentFromFramework,q=j?d.componentClass:void 0,K=d==null&&m!=null,ie=R4._.escapeString(m,!0);return zr.default.createElement("span",ZE({className:N,ref:M},r.colDef?{}:{role:(t=u.current)===null||t===void 0?void 0:t.getCellAriaRole()}),zr.default.createElement("span",{className:H,ref:s}),zr.default.createElement("span",{className:G,ref:l}),zr.default.createElement("span",{className:z,ref:a}),zr.default.createElement("span",{className:"ag-group-value",ref:o},K&&zr.default.createElement(zr.default.Fragment,null,ie),j&&zr.default.createElement(q,ZE({},d.params))),zr.default.createElement("span",{className:"ag-group-child-count"},f))});dV.default=vre;var hV={},pV={},fV={},vV={},gV={},mV={},JE=ne&&ne.__assign||function(){return JE=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},JE.apply(this,arguments)},E6e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),x6e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),I6e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&E6e(e,r,t);return x6e(e,r),e};Object.defineProperty(mV,"__esModule",{value:!0});var Di=I6e(_),T6e=Ei,lA=Ci,R6e=wn,O6e=Xs,D6e=function(r){var e=r.ctrl,t=e.isAlive(),n=Di.useContext(T6e.BeansContext).context,i=t?e.getColId():void 0,o=Di.useState(),a=o[0],s=o[1],l=Di.useRef(null),u=Di.useRef(null),c=Di.useRef(null),d=Di.useRef(),h=Di.useRef();t&&!h.current&&(h.current=new lA.CssClassManager(function(){return l.current}));var p=Di.useCallback(function(m){var C;if(l.current=m,!(!l.current||!t)){var y={setWidth:function(T){l.current&&(l.current.style.width=T)},addOrRemoveCssClass:function(T,S){return h.current.addOrRemoveCssClass(T,S)},setAriaSort:function(T){l.current&&(T?lA._.setAriaSort(l.current,T):lA._.removeAriaSort(l.current))},setUserCompDetails:function(T){return s(T)},getUserCompInstance:function(){return d.current||void 0}};e.setComp(y,l.current,u.current,c.current);var w=e.getSelectAllGui();(C=u.current)===null||C===void 0||C.insertAdjacentElement("afterend",w)}},[]);Di.useLayoutEffect(function(){return O6e.showJsComp(a,n,c.current,d)},[a]),Di.useEffect(function(){e.setDragSource(l.current)},[a]);var f=Di.useMemo(function(){var m=(a==null?void 0:a.componentFromFramework)&&R6e.isComponentStateless(a.componentClass);return!!m},[a]),v=a&&a.componentFromFramework,g=a&&a.componentClass;return Di.default.createElement("div",{ref:p,className:"ag-header-cell","col-id":i,role:"columnheader"},Di.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Di.default.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&f&&Di.default.createElement(g,JE({},a.params)),v&&!f&&Di.default.createElement(g,JE({},a.params,{ref:d}))))};mV.default=Di.memo(D6e);var _V={},ex=ne&&ne.__assign||function(){return ex=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},ex.apply(this,arguments)},A6e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),P6e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),M6e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&A6e(e,r,t);return P6e(e,r),e};Object.defineProperty(_V,"__esModule",{value:!0});var Wn=M6e(_),F6e=Ei,L6e=Xs,uA=wn,N6e=function(r){var e=Wn.useContext(F6e.BeansContext).context,t=r.ctrl,n=Wn.useState(function(){return new uA.CssClasses}),i=n[0],o=n[1],a=Wn.useState(function(){return new uA.CssClasses}),s=a[0],l=a[1],u=Wn.useState("false"),c=u[0],d=u[1],h=Wn.useState(),p=h[0],f=h[1],v=Wn.useState(),g=v[0],m=v[1],C=Wn.useMemo(function(){return t.getColId()},[]),y=Wn.useRef(null),w=Wn.useRef(null),T=Wn.useRef(),S=Wn.useCallback(function(V){if(y.current=V,!!y.current){var F={setWidth:function(P){y.current&&(y.current.style.width=P)},addOrRemoveCssClass:function(P,M){return o(function(N){return N.setClass(P,M)})},setUserCompDetails:function(P){return m(P)},setResizableDisplayed:function(P){l(function(M){return M.setClass("ag-hidden",!P)}),d(P?"false":"true")},setAriaExpanded:function(P){return f(P)},getUserCompInstance:function(){return T.current||void 0}};t.setComp(F,y.current,w.current)}},[]);Wn.useLayoutEffect(function(){return L6e.showJsComp(g,e,y.current)},[g]),Wn.useEffect(function(){y.current&&t.setDragSource(y.current)},[g]);var x=Wn.useMemo(function(){var V=(g==null?void 0:g.componentFromFramework)&&uA.isComponentStateless(g.componentClass);return!!V},[g]),I=Wn.useMemo(function(){return"ag-header-group-cell "+i.toString()},[i]),R=Wn.useMemo(function(){return"ag-header-cell-resize "+s.toString()},[s]),D=g&&g.componentFromFramework,A=g&&g.componentClass;return Wn.default.createElement("div",{ref:S,className:I,"col-id":C,role:"columnheader","aria-expanded":p},D&&x&&Wn.default.createElement(A,ex({},g.params)),D&&!x&&Wn.default.createElement(A,ex({},g.params,{ref:T})),Wn.default.createElement("div",{ref:w,"aria-hidden":c,className:R}))};_V.default=Wn.memo(N6e);var CV={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.warnReactiveCustomComponents=Nu.getInstance=void 0;var gre=Ci;function k6e(r,e){var t,n,i,o=(i=(n=(t=r)===null||t===void 0?void 0:t.getInstance)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:gre.AgPromise.resolve(void 0);o.then(function(a){return e(a)})}Nu.getInstance=k6e;function V6e(){gre._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}Nu.warnReactiveCustomComponents=V6e;var tx=ne&&ne.__assign||function(){return tx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tx.apply(this,arguments)},B6e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),H6e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),G6e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&B6e(e,r,t);return H6e(e,r),e};Object.defineProperty(CV,"__esModule",{value:!0});var Yr=G6e(_),$6e=Ei,W6e=Ci,ww=wn,z6e=Xs,U6e=tp,j6e=Sp,K6e=Nu,q6e=function(r){var e=Yr.useContext($6e.BeansContext),t=e.context,n=e.gridOptionsService,i=Yr.useState(function(){return new ww.CssClasses("ag-header-cell","ag-floating-filter")}),o=i[0],a=i[1],s=Yr.useState(function(){return new ww.CssClasses}),l=s[0],u=s[1],c=Yr.useState(function(){return new ww.CssClasses("ag-floating-filter-button","ag-hidden")}),d=c[0],h=c[1],p=Yr.useState("false"),f=p[0],v=p[1],g=Yr.useState(),m=g[0],C=g[1],y=Yr.useState(1);y[0];var w=y[1],T=Yr.useRef(null),S=Yr.useRef(null),x=Yr.useRef(null),I=Yr.useRef(null),R=Yr.useRef(),D=Yr.useRef(),A=function(ie){ie!=null&&R.current&&R.current(ie)},V=r.ctrl,F=Yr.useCallback(function(ie){if(T.current=ie,!!T.current){D.current=new W6e.AgPromise(function(te){R.current=te});var ee={addOrRemoveCssClass:function(te,de){return a(function(Se){return Se.setClass(te,de)})},addOrRemoveBodyCssClass:function(te,de){return u(function(Se){return Se.setClass(te,de)})},setButtonWrapperDisplayed:function(te){h(function(de){return de.setClass("ag-hidden",!te)}),v(te?"false":"true")},setWidth:function(te){T.current&&(T.current.style.width=te)},setCompDetails:function(te){return C(te)},getFloatingFilterComp:function(){return D.current?D.current:null},setMenuIcon:function(te){var de;return(de=I.current)===null||de===void 0?void 0:de.appendChild(te)}};V.setComp(ee,T.current,I.current,S.current)}},[]);Yr.useLayoutEffect(function(){return z6e.showJsComp(m,t,S.current,A)},[m]);var P=Yr.useMemo(function(){return o.toString()},[o]),M=Yr.useMemo(function(){return l.toString()},[l]),N=Yr.useMemo(function(){return d.toString()},[d]),H=Yr.useMemo(function(){var ie=m&&m.componentFromFramework&&ww.isComponentStateless(m.componentClass);return!!ie},[m]),G=Yr.useMemo(function(){return n.get("reactiveCustomComponents")},[]),z=Yr.useMemo(function(){if(m)if(G){var ie=new U6e.FloatingFilterComponentProxy(m.params,function(){return w(function(ee){return ee+1})});return A(ie),ie}else m.componentFromFramework&&K6e.warnReactiveCustomComponents()},[m]),j=z==null?void 0:z.getProps(),q=m&&m.componentFromFramework,K=m&&m.componentClass;return Yr.default.createElement("div",{ref:F,className:P,role:"gridcell"},Yr.default.createElement("div",{ref:S,className:M,role:"presentation"},q&&!G&&Yr.default.createElement(K,tx({},m.params,{ref:H?function(){}:A})),q&&G&&Yr.default.createElement(j6e.CustomContext.Provider,{value:{setMethods:function(ie){return z.setMethods(ie)}}},Yr.default.createElement(K,tx({},j)))),Yr.default.createElement("div",{ref:x,"aria-hidden":f,className:N,role:"presentation"},Yr.default.createElement("button",{ref:I,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))};CV.default=Yr.memo(q6e);var Y6e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),X6e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Q6e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Y6e(e,r,t);return X6e(e,r),e},yV=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gV,"__esModule",{value:!0});var O4=Ci,ua=Q6e(_),Z6e=yV(mV),J6e=yV(_V),eYe=yV(CV),D4=wn,tYe=function(r){var e=r.ctrl,t=ua.useMemo(function(){return e.getTopAndHeight()},[]),n=t.topOffset,i=t.rowHeight,o=e.getAriaRowIndex(),a=e.getHeaderRowClass(),s=ua.useState(function(){return i+"px"}),l=s[0],u=s[1],c=ua.useState(function(){return n+"px"}),d=c[0],h=c[1],p=ua.useState(function(){return e.getHeaderCtrls()}),f=p[0],v=p[1],g=ua.useRef(null),m=ua.useCallback(function(w){if(g.current=w,!!w){var T={setHeight:function(S){return u(S)},setTop:function(S){return h(S)},setHeaderCtrls:function(S,x,I){D4.agFlushSync(I,function(){v(function(R){return D4.getNextValueIfDifferent(R,S,x)})})},setWidth:function(S){g.current&&(g.current.style.width=S)}};e.setComp(T,!1)}},[]),C=ua.useMemo(function(){return{height:l,top:d}},[l,d]),y=ua.useCallback(function(w){switch(e.getType()){case O4.HeaderRowType.COLUMN_GROUP:return ua.default.createElement(J6e.default,{ctrl:w,key:w.getInstanceId()});case O4.HeaderRowType.FLOATING_FILTER:return ua.default.createElement(eYe.default,{ctrl:w,key:w.getInstanceId()});default:return ua.default.createElement(Z6e.default,{ctrl:w,key:w.getInstanceId()})}},[]);return ua.default.createElement("div",{ref:m,className:a,role:"row",style:C,"aria-rowindex":o},f.map(y))};gV.default=ua.memo(tYe);var rYe=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nYe=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iYe=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rYe(e,r,t);return nYe(e,r),e},oYe=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vV,"__esModule",{value:!0});var io=iYe(_),aYe=Ei,sYe=Ci,lYe=oYe(gV),uYe=function(r){var e=io.useState(!0),t=e[0],n=e[1],i=io.useState([]),o=i[0],a=i[1],s=io.useContext(aYe.BeansContext).context,l=io.useRef(null),u=io.useRef(null),c=io.useRef(null),d=r.pinned==="left",h=r.pinned==="right",p=!d&&!h,f=io.useCallback(function(m){if(l.current=m,!l.current){s.destroyBean(c.current),c.current=null;return}var C={setDisplayed:n,setCtrls:function(y){return a(y)},setCenterWidth:function(y){u.current&&(u.current.style.width=y)},setViewportScrollLeft:function(y){l.current&&(l.current.scrollLeft=y)},setPinnedContainerWidth:function(y){l.current&&(l.current.style.width=y,l.current.style.minWidth=y,l.current.style.maxWidth=y)}};c.current=s.createBean(new sYe.HeaderRowContainerCtrl(r.pinned)),c.current.setComp(C,l.current)},[]),v=t?"":"ag-hidden",g=function(){return o.map(function(m){return io.default.createElement(lYe.default,{ctrl:m,key:m.getInstanceId()})})};return io.default.createElement(io.default.Fragment,null,d&&io.default.createElement("div",{ref:f,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},g()),h&&io.default.createElement("div",{ref:f,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},g()),p&&io.default.createElement("div",{ref:f,className:"ag-header-viewport "+v,role:"presentation"},io.default.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},g())))};vV.default=io.memo(uYe);var cYe=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dYe=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hYe=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cYe(e,r,t);return dYe(e,r),e},pYe=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fV,"__esModule",{value:!0});var ca=hYe(_),fYe=Ei,vYe=Ci,gYe=wn,cA=pYe(vV),mYe=function(){var r=ca.useState(function(){return new gYe.CssClasses}),e=r[0],t=r[1],n=ca.useState(),i=n[0],o=n[1],a=ca.useContext(fYe.BeansContext).context,s=ca.useRef(null),l=ca.useRef(null),u=ca.useCallback(function(h){if(s.current=h,!h){a.destroyBean(l.current),l.current=null;return}var p={addOrRemoveCssClass:function(f,v){return t(function(g){return g.setClass(f,v)})},setHeightAndMinHeight:function(f){return o(f)}};l.current=a.createBean(new vYe.GridHeaderCtrl),l.current.setComp(p,s.current,s.current)},[]),c=ca.useMemo(function(){var h=e.toString();return"ag-header "+h},[e]),d=ca.useMemo(function(){return{height:i,minHeight:i}},[i]);return ca.default.createElement("div",{ref:u,className:c,style:d,role:"presentation"},ca.default.createElement(cA.default,{pinned:"left"}),ca.default.createElement(cA.default,{pinned:null}),ca.default.createElement(cA.default,{pinned:"right"}))};fV.default=ca.memo(mYe);var dy={};Object.defineProperty(dy,"__esModule",{value:!0});var _Ye=_,CYe=function(r,e){_Ye.useEffect(function(){var t=e.current;if(t){var n=t.parentElement;if(n){var i=document.createComment(r);return n.insertBefore(i,t),function(){n.removeChild(i)}}}},[r])};dy.default=CYe;var SV={},wV={},mre={},bV={},X0={};Object.defineProperty(X0,"__esModule",{value:!0});X0.useEffectOnce=void 0;var Zp=_,yYe=function(r){var e=Zp.useRef(r),t=Zp.useRef(),n=Zp.useRef(!1),i=Zp.useRef(!1),o=Zp.useState(0),a=o[1];n.current&&(i.current=!0),Zp.useEffect(function(){return n.current||(t.current=e.current(),n.current=!0),a(function(s){return s+1}),function(){i.current&&t.current&&t.current()}},[])};X0.useEffectOnce=yYe;var SYe=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wYe=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bYe=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&SYe(e,r,t);return wYe(e,r),e};Object.defineProperty(bV,"__esModule",{value:!0});var EYe=Ci,Am=bYe(_),xYe=Bu,IYe=Ei,TYe=X0,RYe=function(r){var e=Am.useState(),t=e[0],n=e[1],i=Am.useContext(IYe.BeansContext),o=i.context,a=i.popupService,s=i.localeService,l=i.gridOptionsService;return TYe.useEffectOnce(function(){var u=r.editDetails,c=r.cellCtrl,d=r.eParentCell,h=u.compDetails,p=l.get("stopEditingWhenCellsLoseFocus"),f=o.createBean(new EYe.PopupEditorWrapper(h.params)),v=f.getGui();if(r.jsChildComp){var g=r.jsChildComp.getGui();g&&v.appendChild(g)}var m={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:v,position:u.popupPosition,keepWithinBounds:!0},C=a.positionPopupByComponent.bind(a,m),y=s.getLocaleTextFunc(),w=a.addPopup({modal:p,eChild:v,closeOnEsc:!0,closedCallback:function(){c.onPopupEditorClosed()},anchorToElement:d,positionCallback:C,ariaLabel:y("ariaLabelCellEditor","Cell Editor")}),T=w?w.hideFunc:void 0;return n(f),r.jsChildComp&&r.jsChildComp.afterGuiAttached&&r.jsChildComp.afterGuiAttached(),function(){T!=null&&T(),o.destroyBean(f)}}),Am.default.createElement(Am.default.Fragment,null,t&&r.wrappedContent&&xYe.createPortal(r.wrappedContent,t.getGui()))};bV.default=Am.memo(RYe);var EV={};Object.defineProperty(EV,"__esModule",{value:!0});var bw=_,OYe=Ei,DYe=function(r,e,t,n,i,o){var a=bw.useContext(OYe.BeansContext).context,s=bw.useCallback(function(){var l=i.current;if(l){var u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),a.destroyBean(l),i.current=void 0}},[]);bw.useEffect(function(){var l=r!=null,u=r&&r.compDetails&&!r.compDetails.componentFromFramework,c=e&&t==null,d=l&&u&&!c;if(!d){s();return}var h=r.compDetails;if(i.current){var p=i.current,f=p.refresh!=null&&r.force==!1,v=f?p.refresh(h.params):!1,g=v===!0||v===void 0;if(g)return;s()}var m=h.newAgStackInstance();if(m){var C=m.resolveNow(null,function(T){return T});if(C){var y=C.getGui();if(y){var w=e?t:o.current;w.appendChild(y),i.current=C}}}},[r,e,n]),bw.useEffect(function(){return s},[])};EV.default=DYe;var Q0={},rx=ne&&ne.__assign||function(){return rx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rx.apply(this,arguments)};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.CellEditorComponentProxy=void 0;var AYe=Ci,PYe=Co,MYe=function(){function r(e,t){var n=this;this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new AYe.AgPromise(function(i){n.resolveInstanceCreated=i}),this.onValueChange=function(i){return n.updateValue(i)},this.value=e.value}return r.prototype.getProps=function(){return rx(rx({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})},r.prototype.getValue=function(){return this.value},r.prototype.refresh=function(e){this.cellEditorParams=e,this.refreshProps()},r.prototype.setMethods=function(e){PYe.addOptionalMethods(this.getOptionalMethods(),e,this)},r.prototype.getInstance=function(){var e=this;return this.instanceCreated.then(function(){return e.componentInstance})},r.prototype.setRef=function(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)===null||t===void 0||t.call(this),this.resolveInstanceCreated=void 0},r.prototype.getOptionalMethods=function(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},r.prototype.updateValue=function(e){this.value=e,this.refreshProps()},r}();Q0.CellEditorComponentProxy=MYe;(function(r){var e=ne&&ne.__assign||function(){return e=Object.assign||function(S){for(var x,I=1,R=arguments.length;I<R;I++){x=arguments[I];for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(S[D]=x[D])}return S},e.apply(this,arguments)},t=ne&&ne.__createBinding||(Object.create?function(S,x,I,R){R===void 0&&(R=I),Object.defineProperty(S,R,{enumerable:!0,get:function(){return x[I]}})}:function(S,x,I,R){R===void 0&&(R=I),S[R]=x[I]}),n=ne&&ne.__setModuleDefault||(Object.create?function(S,x){Object.defineProperty(S,"default",{enumerable:!0,value:x})}:function(S,x){S.default=x}),i=ne&&ne.__importStar||function(S){if(S&&S.__esModule)return S;var x={};if(S!=null)for(var I in S)I!=="default"&&Object.prototype.hasOwnProperty.call(S,I)&&t(x,S,I);return n(x,S),x},o=ne&&ne.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.CellCompState=void 0;var a=Ci,s=i(_),l=wn,u=o(bV),c=o(EV),d=Ei,h=Xs,p=Q0,f=Sp,v=Nu;(function(S){S[S.ShowValue=0]="ShowValue",S[S.EditValue=1]="EditValue"})(r.CellCompState||(r.CellCompState={}));var g=function(S,x,I){var R=I.getColumn();if(!S&&x.isPopup&&x.isPopup()){var D="AG Grid: Found an issue in column "+R.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(D)},"jsEditorComp-isPopup-"+I.getColumn().getColId())}if(S&&x.getPopupPosition&&x.getPopupPosition()!=null){var A="AG Grid: Found an issue in column "+R.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(A)},"jsEditorComp-getPopupPosition-"+I.getColumn().getColId())}},m=function(S,x,I){var R=S.compProxy;I(R);var D=R.getProps(),A=l.isComponentStateless(x);return s.default.createElement(f.CustomContext.Provider,{value:{setMethods:function(V){return R.setMethods(V)}}},A&&s.default.createElement(x,e({},D)),!A&&s.default.createElement(x,e({},D,{ref:function(V){return R.setRef(V)}})))},C=function(S,x,I){var R=S.compProxy;return s.default.createElement(s.default.Fragment,null,!R&&s.default.createElement(x,e({},S.compDetails.params,{ref:I})),R&&m(S,x,I))},y=function(S,x,I,R,D,A){var V=S.compDetails,F=V.componentClass,P=V.componentFromFramework&&!S.popup,M=V.componentFromFramework&&S.popup,N=!V.componentFromFramework&&S.popup;return s.default.createElement(s.default.Fragment,null,P&&C(S,F,x),M&&s.default.createElement(u.default,{editDetails:S,cellCtrl:D,eParentCell:R,wrappedContent:C(S,F,I)}),N&&A&&s.default.createElement(u.default,{editDetails:S,cellCtrl:D,eParentCell:R,jsChildComp:A}))},w=function(S,x,I,R,D,A,V){var F=S.compDetails,P=S.value,M=!F,N=F&&F.componentFromFramework,H=F&&F.componentClass,G=P!=null&&P.toString?P.toString():P,z=function(){return s.default.createElement(s.default.Fragment,null,M&&s.default.createElement(s.default.Fragment,null,G),N&&!A&&s.default.createElement(H,e({},F.params,{key:x,ref:R})),N&&A&&s.default.createElement(H,e({},F.params,{key:x})))};return s.default.createElement(s.default.Fragment,null,D?s.default.createElement("span",{role:"presentation",id:"cell-"+I,className:"ag-cell-value",ref:V},z()):z())},T=function(S){var x=s.useContext(d.BeansContext).context,I=S.cellCtrl,R=S.printLayout,D=S.editingRow,A=I.getTabIndex(),V=I.getColumnIdSanitised(),F=I.getInstanceId(),P=s.useState(function(){return I.isCellRenderer()?void 0:{compDetails:void 0,value:I.getValueToDisplay(),force:!1}}),M=P[0],N=P[1],H=s.useState(),G=H[0],z=H[1],j=s.useState(1),q=j[0],K=j[1],ie=s.useState(),ee=ie[0],te=ie[1],de=s.useState(!1),Se=de[0],Me=de[1],De=s.useState(!1),ze=De[0],he=De[1],ke=s.useState(!1),Oe=ke[0],je=ke[1],xe=s.useState(),ae=xe[0],Ie=xe[1],me=s.useMemo(function(){return I.isForceWrapper()},[I]),nt=s.useMemo(function(){return I.getCellAriaRole()},[I]),He=s.useRef(null),Ue=s.useRef(null),Ge=s.useRef(),ge=s.useRef(),_e=s.useRef(),Ve=s.useRef([]),Je=s.useRef(),vt=s.useState(0),ct=vt[0],Pe=vt[1],_t=s.useCallback(function(Qt){Je.current=Qt,Pe(function(Y){return Y+1})},[]),lr=M!=null&&(Se||Oe||ze),$t=me||lr,Ke=s.useCallback(function(Qt,Y){if(ge.current=Y,Y){g(Qt,Y,I);var re=Y.isCancelBeforeStart&&Y.isCancelBeforeStart();re&&setTimeout(function(){I.stopEditing(!0),I.focusCell(!0)})}},[I]),Ot=s.useCallback(function(Qt){return Ke(!0,Qt)},[Ke]),Le=s.useCallback(function(Qt){return Ke(!1,Qt)},[Ke]),rt=s.useRef();rt.current||(rt.current=new a.CssClassManager(function(){return He.current})),c.default(M,$t,Je.current,ct,Ge,He);var Pt=s.useRef();s.useLayoutEffect(function(){var Qt=Pt.current,Y=M;if(Pt.current=M,!(Qt==null||Qt.compDetails==null||Y==null||Y.compDetails==null)){var re=Qt.compDetails,oe=Y.compDetails;if(re.componentClass==oe.componentClass&&!(Ue.current==null||Ue.current.refresh==null)){var Be=Ue.current.refresh(oe.params);Be!=!0&&K(function(it){return it+1})}}},[M]),s.useLayoutEffect(function(){var Qt=G&&!G.compDetails.componentFromFramework;if(Qt){var Y=G.compDetails,re=G.popup===!0,oe=h.createSyncJsComp(Y);if(oe){var Be=oe.getGui();if(Ke(re,oe),!re){var it=(me?_e:He).current;it==null||it.appendChild(Be),oe.afterGuiAttached&&oe.afterGuiAttached()}return Ie(oe),function(){x.destroyBean(oe),Ke(re,void 0),Ie(void 0),Be&&Be.parentElement&&Be.parentElement.removeChild(Be)}}}},[G]);var Wt=s.useCallback(function(Qt){if(_e.current=Qt,!_e.current){Ve.current.forEach(function(oe){return oe()}),Ve.current=[];return}var Y=function(oe){var Be;if(oe){var it=oe.getGui();(Be=_e.current)===null||Be===void 0||Be.insertAdjacentElement("afterbegin",it),Ve.current.push(function(){x.destroyBean(oe),a._.removeFromParent(it)})}return oe};if(Se){var re=I.createSelectionCheckbox();Y(re)}Oe&&Y(I.createDndSource()),ze&&Y(I.createRowDragComp())},[I,x,Oe,ze,Se]),nr=s.useCallback(function(Qt){if(He.current=Qt,!!He.current&&I){var Y={addOrRemoveCssClass:function(oe,Be){return rt.current.addOrRemoveCssClass(oe,Be)},setUserStyles:function(oe){return te(oe)},getFocusableElement:function(){return He.current},setIncludeSelection:function(oe){return Me(oe)},setIncludeRowDrag:function(oe){return he(oe)},setIncludeDndSource:function(oe){return je(oe)},getCellEditor:function(){return ge.current||null},getCellRenderer:function(){return Ue.current?Ue.current:Ge.current},getParentOfValue:function(){return Je.current?Je.current:_e.current?_e.current:He.current},setRenderDetails:function(oe,Be,it){N(function(It){return(It==null?void 0:It.compDetails)!==oe||(It==null?void 0:It.value)!==Be||(It==null?void 0:It.force)!==it?{value:Be,compDetails:oe,force:it}:It})},setEditDetails:function(oe,Be,it,It){if(oe){var wt=void 0;It?wt=new p.CellEditorComponentProxy(oe.params,function(){return K(function(lt){return lt+1})}):oe.componentFromFramework&&v.warnReactiveCustomComponents(),z({compDetails:oe,popup:Be,popupPosition:it,compProxy:wt}),Be||N(void 0)}else z(function(lt){lt!=null&&lt.compProxy&&(ge.current=void 0)})}},re=_e.current||void 0;I.setComp(Y,He.current,re,R,D)}},[]),Vr=s.useMemo(function(){var Qt=M&&M.compDetails&&M.compDetails.componentFromFramework&&l.isComponentStateless(M.compDetails.componentClass);return!!Qt},[M]);s.useLayoutEffect(function(){var Qt;He.current&&(rt.current.addOrRemoveCssClass("ag-cell-value",!$t),rt.current.addOrRemoveCssClass("ag-cell-inline-editing",!!G&&!G.popup),rt.current.addOrRemoveCssClass("ag-cell-popup-editing",!!G&&!!G.popup),rt.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!G||!!G.popup),(Qt=I.getRowCtrl())===null||Qt===void 0||Qt.setInlineEditingCss(!!G),I.shouldRestoreFocus()&&!I.isEditing()&&He.current.focus({preventScroll:!0}))});var Br=function(){return s.default.createElement(s.default.Fragment,null,M!=null&&w(M,q,F,Ue,$t,Vr,_t),G!=null&&y(G,Le,Ot,He.current,I,ae))};return s.default.createElement("div",{ref:nr,style:ee,tabIndex:A,role:nt,"col-id":V},$t?s.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Wt},Br()):Br())};r.default=s.memo(T)})(mre);var Nf=ne&&ne.__assign||function(){return Nf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Nf.apply(this,arguments)},FYe=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),LYe=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),NYe=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&FYe(e,r,t);return LYe(e,r),e},kYe=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wV,"__esModule",{value:!0});var Xr=NYe(_),VYe=Ci,BYe=Xs,dA=wn,HYe=Ei,GYe=kYe(mre),$Ye=function(r){var e=Xr.useContext(HYe.BeansContext),t=e.context,n=e.gridOptionsService,i=r.rowCtrl,o=r.containerType,a=i.getTabIndex(),s=Xr.useRef(i.getDomOrder()),l=i.isFullWidth(),u=i.getRowNode().displayed,c=Xr.useState(function(){return u?i.getRowIndex():null}),d=c[0],h=c[1],p=Xr.useState(function(){return i.getRowId()}),f=p[0],v=p[1],g=Xr.useState(function(){return i.getBusinessKey()}),m=g[0],C=g[1],y=Xr.useState(function(){return i.getRowStyles()}),w=y[0],T=y[1],S=Xr.useState(function(){return null}),x=S[0],I=S[1],R=Xr.useState(),D=R[0],A=R[1],V=Xr.useState(function(){return u?i.getInitialRowTop(o):void 0}),F=V[0],P=V[1],M=Xr.useState(function(){return u?i.getInitialTransform(o):void 0}),N=M[0],H=M[1],G=Xr.useRef(null),z=Xr.useRef(),j=Xr.useRef(!1),q=Xr.useState(0),K=q[0],ie=q[1];Xr.useEffect(function(){var Oe;if(!j.current&&D&&!(K>10)){var je=(Oe=G.current)===null||Oe===void 0?void 0:Oe.firstChild;je?(i.setupDetailRowAutoHeight(je),j.current=!0):ie(function(xe){return xe+1})}},[D,K]);var ee=Xr.useRef();ee.current||(ee.current=new VYe.CssClassManager(function(){return G.current}));var te=Xr.useCallback(function(Oe){if(G.current=Oe,!G.current){i.unsetComp(o);return}if(i.isAlive()){var je={setTop:P,setTransform:H,addOrRemoveCssClass:function(xe,ae){return ee.current.addOrRemoveCssClass(xe,ae)},setDomOrder:function(xe){return s.current=xe},setRowIndex:h,setRowId:v,setRowBusinessKey:C,setUserStyles:T,setCellCtrls:function(xe,ae){dA.agFlushSync(ae,function(){I(function(Ie){return dA.getNextValueIfDifferent(Ie,xe,s.current)})})},showFullWidth:function(xe){return A(xe)},getFullWidthCellRenderer:function(){return z.current},refreshFullWidth:function(xe){return ze.current?(A(function(ae){return Nf(Nf({},ae),{params:xe()})}),!0):!z.current||!z.current.refresh?!1:z.current.refresh(xe())}};i.setComp(je,G.current,o)}},[]);Xr.useLayoutEffect(function(){return BYe.showJsComp(D,t,G.current,z)},[D]);var de=Xr.useMemo(function(){var Oe={top:F,transform:N};return Object.assign(Oe,w),Oe},[F,N,w]),Se=l&&D&&D.componentFromFramework,Me=!l&&x!=null,De=Xr.useMemo(function(){var Oe=(D==null?void 0:D.componentFromFramework)&&dA.isComponentStateless(D.componentClass);return!!Oe},[D]),ze=Xr.useRef(!1);Xr.useEffect(function(){ze.current=De&&!!D&&!!n.get("reactiveCustomComponents")},[De,D]);var he=function(){return x==null?void 0:x.map(function(Oe){return Xr.default.createElement(GYe.default,{cellCtrl:Oe,editingRow:i.isEditing(),printLayout:i.isPrintLayout(),key:Oe.getInstanceId()})})},ke=function(){var Oe=D.componentClass;return Xr.default.createElement(Xr.default.Fragment,null,De&&Xr.default.createElement(Oe,Nf({},D.params)),!De&&Xr.default.createElement(Oe,Nf({},D.params,{ref:z})))};return Xr.default.createElement("div",{ref:te,role:"row",style:de,"row-index":d,"row-id":f,"row-business-key":m,tabIndex:a},Me&&he(),Se&&ke())};wV.default=Xr.memo($Ye);var WYe=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zYe=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UYe=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&WYe(e,r,t);return zYe(e,r),e},_re=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(SV,"__esModule",{value:!0});var Vd=Ci,Pn=UYe(_),Ew=wn,jYe=_re(dy),KYe=_re(wV),qYe=Ei,YYe=function(r){var e=Pn.useContext(qYe.BeansContext).context,t=r.name,n=Pn.useMemo(function(){return Vd.getRowContainerTypeForName(t)},[t]),i=Pn.useRef(null),o=Pn.useRef(null),a=Pn.useRef([]),s=Pn.useState(function(){return[]}),l=s[0],u=s[1],c=Pn.useRef(!1),d=Pn.useRef(),h=Pn.useMemo(function(){return Vd.RowContainerCtrl.getRowContainerCssClasses(t)},[t]),p=Pn.useMemo(function(){return Ew.classesList(h.viewport)},[h]),f=Pn.useMemo(function(){return Ew.classesList(h.container)},[h]),v=t===Vd.RowContainerName.CENTER||t===Vd.RowContainerName.TOP_CENTER||t===Vd.RowContainerName.BOTTOM_CENTER||t===Vd.RowContainerName.STICKY_TOP_CENTER,g=v?i:o;jYe.default(" AG Row Container "+t+" ",g);var m=Pn.useCallback(function(){return v?i.current!=null&&o.current!=null:o.current!=null},[]),C=Pn.useCallback(function(){return v?i.current==null&&o.current==null:o.current==null},[]),y=Pn.useCallback(function(){if(C()&&(e.destroyBean(d.current),d.current=null),m()){var x=function(R){Ew.agFlushSync(R,function(){u(function(D){return Ew.getNextValueIfDifferent(D,a.current,c.current)})})},I={setViewportHeight:function(R){i.current&&(i.current.style.height=R)},setRowCtrls:function(R){var D=R.rowCtrls,A=R.useFlushSync,V=!!A&&a.current.length>0&&D.length>0;a.current=D,x(V)},setDomOrder:function(R){c.current!=R&&(c.current=R,x(!1))},setContainerWidth:function(R){o.current&&(o.current.style.width=R)}};d.current=e.createBean(new Vd.RowContainerCtrl(t)),d.current.setComp(I,o.current,i.current)}},[m,C]),w=Pn.useCallback(function(x){o.current=x,y()},[y]),T=Pn.useCallback(function(x){i.current=x,y()},[y]),S=function(){return Pn.default.createElement("div",{className:f,ref:w,role:"rowgroup"},l.map(function(x){return Pn.default.createElement(KYe.default,{rowCtrl:x,containerType:n,key:x.getInstanceId()})}))};return Pn.default.createElement(Pn.default.Fragment,null,v?Pn.default.createElement("div",{className:p,ref:T,role:"presentation"},S()):S())};SV.default=Pn.memo(YYe);var XYe=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QYe=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ZYe=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&XYe(e,r,t);return QYe(e,r),e},xV=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pV,"__esModule",{value:!0});var Jn=Ci,gr=ZYe(_),JYe=Ei,e9e=xV(fV),im=xV(dy),t9e=xV(SV),Jp=wn,r9e=function(){var r=gr.useContext(JYe.BeansContext),e=r.context,t=r.agStackComponentsRegistry,n=r.resizeObserverService,i=gr.useState(""),o=i[0],a=i[1],s=gr.useState(0),l=s[0],u=s[1],c=gr.useState(0),d=c[0],h=c[1],p=gr.useState("0px"),f=p[0],v=p[1],g=gr.useState("0px"),m=g[0],C=g[1],y=gr.useState("100%"),w=y[0],T=y[1],S=gr.useState(""),x=S[0],I=S[1],R=gr.useState(""),D=R[0],A=R[1],V=gr.useState(null),F=V[0],P=V[1],M=gr.useState(""),N=M[0],H=M[1],G=gr.useState(null),z=G[0],j=G[1],q=gr.useState("ag-layout-normal"),K=q[0],ie=q[1],ee=gr.useRef();ee.current||(ee.current=new Jn.CssClassManager(function(){return te.current}));var te=gr.useRef(null),de=gr.useRef(null),Se=gr.useRef(null),Me=gr.useRef(null),De=gr.useRef(null),ze=gr.useRef(null),he=gr.useRef([]),ke=gr.useRef([]);im.default(" AG Grid Body ",te),im.default(" AG Pinned Top ",de),im.default(" AG Sticky Top ",Se),im.default(" AG Middle ",De),im.default(" AG Pinned Bottom ",ze);var Oe=gr.useCallback(function(Ve){if(te.current=Ve,!te.current){e.destroyBeans(he.current),ke.current.forEach(function(_t){return _t()}),he.current=[],ke.current=[];return}if(e){var Je=function(_t){var lr=t.getComponentClass(_t),$t=e.createBean(new lr);return he.current.push($t),$t},vt=function(_t,lr){_t.appendChild(lr),ke.current.push(function(){return _t.removeChild(lr)})};vt(te.current,document.createComment(" AG Fake Horizontal Scroll ")),vt(te.current,Je("AG-FAKE-HORIZONTAL-SCROLL").getGui()),vt(te.current,document.createComment(" AG Overlay Wrapper ")),vt(te.current,Je("AG-OVERLAY-WRAPPER").getGui()),Me.current&&(vt(Me.current,document.createComment(" AG Fake Vertical Scroll ")),vt(Me.current,Je("AG-FAKE-VERTICAL-SCROLL").getGui()));var ct={setRowAnimationCssOnBodyViewport:a,setColumnCount:function(_t){te.current&&Jn._.setAriaColCount(te.current,_t)},setRowCount:function(_t){te.current&&Jn._.setAriaRowCount(te.current,_t)},setTopHeight:u,setBottomHeight:h,setStickyTopHeight:v,setStickyTopTop:C,setStickyTopWidth:T,setTopDisplay:I,setBottomDisplay:A,setColumnMovingCss:function(_t,lr){return ee.current.addOrRemoveCssClass(_t,lr)},updateLayoutClasses:ie,setAlwaysVerticalScrollClass:P,setPinnedTopBottomOverflowY:H,setCellSelectableCss:function(_t,lr){return j(lr?_t:null)},setBodyViewportWidth:function(_t){De.current&&(De.current.style.width=_t)},registerBodyViewportResizeListener:function(_t){if(De.current){var lr=n.observeResize(De.current,_t);ke.current.push(function(){return lr()})}}},Pe=e.createBean(new Jn.GridBodyCtrl);he.current.push(Pe),Pe.setComp(ct,te.current,De.current,de.current,ze.current,Se.current)}},[]),je=gr.useMemo(function(){return Jp.classesList("ag-root","ag-unselectable",K)},[K]),xe=gr.useMemo(function(){return Jp.classesList("ag-body-viewport",o,K,F,z)},[o,K,F,z]),ae=gr.useMemo(function(){return Jp.classesList("ag-body",K)},[K]),Ie=gr.useMemo(function(){return Jp.classesList("ag-floating-top",z)},[z]),me=gr.useMemo(function(){return Jp.classesList("ag-sticky-top",z)},[z]),nt=gr.useMemo(function(){return Jp.classesList("ag-floating-bottom",z)},[z]),He=gr.useMemo(function(){return{height:l,minHeight:l,display:x,overflowY:N}},[l,x,N]),Ue=gr.useMemo(function(){return{height:f,top:m,width:w}},[f,m,w]),Ge=gr.useMemo(function(){return{height:d,minHeight:d,display:D,overflowY:N}},[d,D,N]),ge=function(Ve){return gr.default.createElement(t9e.default,{name:Ve,key:Ve+"-container"})},_e=function(Ve){var Je=Ve.section,vt=Ve.children,ct=Ve.className,Pe=Ve.style;return gr.default.createElement("div",{ref:Je,className:ct,role:"presentation",style:Pe},vt.map(ge))};return gr.default.createElement("div",{ref:Oe,className:je,role:"treegrid"},gr.default.createElement(e9e.default,null),_e({section:de,className:Ie,style:He,children:[Jn.RowContainerName.TOP_LEFT,Jn.RowContainerName.TOP_CENTER,Jn.RowContainerName.TOP_RIGHT,Jn.RowContainerName.TOP_FULL_WIDTH]}),gr.default.createElement("div",{className:ae,ref:Me,role:"presentation"},_e({section:De,className:xe,children:[Jn.RowContainerName.LEFT,Jn.RowContainerName.CENTER,Jn.RowContainerName.RIGHT,Jn.RowContainerName.FULL_WIDTH]})),_e({section:Se,className:me,style:Ue,children:[Jn.RowContainerName.STICKY_TOP_LEFT,Jn.RowContainerName.STICKY_TOP_CENTER,Jn.RowContainerName.STICKY_TOP_RIGHT,Jn.RowContainerName.STICKY_TOP_FULL_WIDTH]}),_e({section:ze,className:nt,style:Ge,children:[Jn.RowContainerName.BOTTOM_LEFT,Jn.RowContainerName.BOTTOM_CENTER,Jn.RowContainerName.BOTTOM_RIGHT,Jn.RowContainerName.BOTTOM_FULL_WIDTH]}))};pV.default=gr.memo(r9e);var IV={},n9e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),i9e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o9e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&n9e(e,r,t);return i9e(e,r),e};Object.defineProperty(IV,"__esModule",{value:!0});var ha=o9e(_),xw=Ci,a9e=Ei,s9e=function(r,e){var t=r.children,n=r.eFocusableElement,i=r.onTabKeyDown,o=r.gridCtrl,a=r.forceFocusOutWhenTabGuardsAreEmpty,s=ha.useContext(a9e.BeansContext).context,l=ha.useRef(null),u=ha.useRef(null),c=ha.useRef(),d=function(g){var m=g==null?void 0:parseInt(g,10).toString();[l,u].forEach(function(C){var y,w;m===void 0?(y=C.current)===null||y===void 0||y.removeAttribute("tabindex"):(w=C.current)===null||w===void 0||w.setAttribute("tabindex",m)})};ha.useImperativeHandle(e,function(){return{forceFocusOutOfContainer:function(g){var m;(m=c.current)===null||m===void 0||m.forceFocusOutOfContainer(g)}}});var h=ha.useCallback(function(){if(!l.current&&!u.current){s.destroyBean(c.current),c.current=null;return}if(l.current&&u.current){var g={setTabIndex:d};c.current=s.createBean(new xw.TabGuardCtrl({comp:g,eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:n,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:function(m){return o.focusInnerElement(m)}}))}},[]),p=ha.useCallback(function(g){l.current=g,h()},[h]),f=ha.useCallback(function(g){u.current=g,h()},[h]),v=function(g){var m=g==="top"?xw.TabGuardClassNames.TAB_GUARD_TOP:xw.TabGuardClassNames.TAB_GUARD_BOTTOM;return ha.default.createElement("div",{className:xw.TabGuardClassNames.TAB_GUARD+" "+m,role:"presentation",ref:g==="top"?p:f})};return ha.default.createElement(ha.default.Fragment,null,v("top"),t,v("bottom"))},l9e=ha.forwardRef(s9e);IV.default=ha.memo(l9e);var u9e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),c9e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),d9e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&u9e(e,r,t);return c9e(e,r),e},TV=ne&&ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hV,"__esModule",{value:!0});var h9e=Ci,hn=d9e(_),p9e=Ei,f9e=TV(pV),v9e=TV(dy),g9e=TV(IV),A4=wn,m9e=function(r){var e=r.context,t=hn.useState(""),n=t[0],i=t[1],o=hn.useState(""),a=o[0];o[1];var s=hn.useState(""),l=s[0],u=s[1],c=hn.useState(null),d=c[0],h=c[1],p=hn.useState(null),f=p[0],v=p[1],g=hn.useState(!1),m=g[0],C=g[1],y=hn.useState(),w=y[0],T=y[1],S=hn.useRef(null),x=hn.useRef(null),I=hn.useRef(),R=hn.useState(null),D=R[0],A=R[1],V=hn.useRef(function(){}),F=hn.useCallback(function(){},[]),P=hn.useMemo(function(){return e.isDestroyed()?null:e.getBean("beans")},[e]);v9e.default(" AG Grid ",x);var M=hn.useCallback(function(j){if(x.current=j,!x.current){e.destroyBean(S.current),S.current=null;return}if(!e.isDestroyed()){S.current=e.createBean(new h9e.GridCtrl);var q=S.current;V.current=q.focusInnerElement.bind(q);var K={destroyGridUi:function(){},setRtlClass:i,forceFocusOutOfContainer:function(ie){var ee;(ee=I.current)===null||ee===void 0||ee.forceFocusOutOfContainer(ie)},updateLayoutClasses:u,getFocusableContainers:function(){var ie,ee,te=[],de=(ie=x.current)===null||ie===void 0?void 0:ie.querySelector(".ag-root"),Se=(ee=x.current)===null||ee===void 0?void 0:ee.querySelector(".ag-side-bar:not(.ag-hidden)");return de&&te.push(de),Se&&te.push(Se),te},setCursor:h,setUserSelect:v};q.setComp(K,x.current,x.current),C(!0)}},[]);hn.useEffect(function(){if(!(!w||!P||!S.current||!D||!x.current)){var j=S.current,q=[],K=P.agStackComponentsRegistry,ie=K.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),ee=K.getComponentClass("AG-SIDE-BAR"),te=K.getComponentClass("AG-STATUS-BAR"),de=K.getComponentClass("AG-WATERMARK"),Se=K.getComponentClass("AG-PAGINATION"),Me=[],De=x.current;if(j.showDropZones()&&ie){var ze=e.createBean(new ie),he=ze.getGui();De.insertAdjacentElement("afterbegin",he),Me.push(he),q.push(ze)}if(j.showSideBar()&&ee){var ke=e.createBean(new ee),he=ke.getGui(),Oe=D.querySelector(".ag-tab-guard-bottom");Oe&&(Oe.insertAdjacentElement("beforebegin",he),Me.push(he)),q.push(ke)}if(j.showStatusBar()&&te){var je=e.createBean(new te),he=je.getGui();De.insertAdjacentElement("beforeend",he),Me.push(he),q.push(je)}if(Se){var xe=e.createBean(new Se),he=xe.getGui();De.insertAdjacentElement("beforeend",he),Me.push(he),q.push(xe)}if(j.showWatermark()&&de){var ae=e.createBean(new de),he=ae.getGui();De.insertAdjacentElement("beforeend",he),Me.push(he),q.push(ae)}return function(){e.destroyBeans(q),Me.forEach(function(Ie){Ie.parentElement&&Ie.parentElement.removeChild(Ie)})}}},[w,D,P]);var N=hn.useMemo(function(){return A4.classesList("ag-root-wrapper",n,a,l)},[n,a,l]),H=hn.useMemo(function(){return A4.classesList("ag-root-wrapper-body","ag-focus-managed",l)},[l]),G=hn.useMemo(function(){return{userSelect:f??"",WebkitUserSelect:f??"",cursor:d??""}},[f,d]),z=hn.useCallback(function(j){I.current=j,T(j!==null)},[]);return hn.default.createElement("div",{ref:M,className:N,style:G,role:"presentation"},hn.default.createElement("div",{className:H,ref:A,role:"presentation"},m&&D&&P&&hn.default.createElement(p9e.BeansContext.Provider,{value:P},hn.default.createElement(g9e.default,{ref:z,eFocusableElement:D,onTabKeyDown:F,gridCtrl:S.current,forceFocusOutWhenTabGuardsAreEmpty:!0},hn.default.createElement(f9e.default,null)))))};hV.default=hn.memo(m9e);(function(r){var e=ne&&ne.__extends||function(){var F=function(P,M){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,H){N.__proto__=H}||function(N,H){for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&(N[G]=H[G])},F(P,M)};return function(P,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");F(P,M);function N(){this.constructor=P}P.prototype=M===null?Object.create(M):(N.prototype=M.prototype,new N)}}(),t=ne&&ne.__assign||function(){return t=Object.assign||function(F){for(var P,M=1,N=arguments.length;M<N;M++){P=arguments[M];for(var H in P)Object.prototype.hasOwnProperty.call(P,H)&&(F[H]=P[H])}return F},t.apply(this,arguments)},n=ne&&ne.__createBinding||(Object.create?function(F,P,M,N){N===void 0&&(N=M),Object.defineProperty(F,N,{enumerable:!0,get:function(){return P[M]}})}:function(F,P,M,N){N===void 0&&(N=M),F[N]=P[M]}),i=ne&&ne.__setModuleDefault||(Object.create?function(F,P){Object.defineProperty(F,"default",{enumerable:!0,value:P})}:function(F,P){F.default=P}),o=ne&&ne.__importStar||function(F){if(F&&F.__esModule)return F;var P={};if(F!=null)for(var M in F)M!=="default"&&Object.prototype.hasOwnProperty.call(F,M)&&n(P,F,M);return i(P,F),P},a=ne&&ne.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(r,"__esModule",{value:!0}),r.AgGridReactUi=void 0;var s=Ci,l=o(_),u=L0,c=$0,d=W0,h=z0,p=U0,f=j0,v=K0,g=q0,m=cy,C=Y0,y=Ei,w=wn,T=a(dV),S=a(hV),x=Nu,I=function(F){var P,M,N=l.useRef(),H=l.useRef(null),G=l.useRef(null),z=l.useRef([]),j=l.useRef([]),q=l.useRef(F),K=l.useRef(!1),ie=l.useState(void 0),ee=ie[0],te=ie[1],de=l.useState(0),Se=de[1],Me=l.useCallback(function(he){if(H.current=he,!H.current){z.current.forEach(function(me){return me()}),z.current.length=0;return}var ke=F.modules||[];G.current||(G.current=new C.PortalManager(function(){return Se(function(me){return me+1})},F.componentWrappingElement,F.maxComponentCreationTimeMs),z.current.push(function(){var me;(me=G.current)===null||me===void 0||me.destroy(),G.current=null}));var Oe=s.ComponentUtil.combineAttributesAndGridOptions(F.gridOptions,F),je={providedBeanInstances:{frameworkComponentWrapper:new D(G.current,!!Oe.reactiveCustomComponents)},modules:ke,frameworkOverrides:new V},xe=function(me){te(me),z.current.push(function(){me.destroy()});var nt=me.getBean(s.CtrlsService.NAME);nt.whenReady(function(){if(!me.isDestroyed()){var He=N.current;He&&F.setGridApi&&F.setGridApi(He,new s.ColumnApi(He))}})},ae=function(me){var nt=me.getBean(s.CtrlsService.NAME);nt.whenReady(function(){j.current.forEach(function(He){return He()}),j.current.length=0,K.current=!0})},Ie=new s.GridCoreCreator;N.current=Ie.create(H.current,Oe,xe,ae,je)},[]),De=l.useMemo(function(){return t({height:"100%"},F.containerStyle||{})},[F.containerStyle]),ze=l.useCallback(function(he){K.current?he():j.current.push(he)},[]);return l.useEffect(function(){var he=R(q.current,F);q.current=F,ze(function(){N.current&&s.ComponentUtil.processOnChange(he,N.current)})},[F]),l.default.createElement("div",{style:De,className:F.className,ref:Me},ee&&!ee.isDestroyed()?l.default.createElement(S.default,{context:ee}):null,(M=(P=G.current)===null||P===void 0?void 0:P.getPortals())!==null&&M!==void 0?M:null)};r.AgGridReactUi=I;function R(F,P){var M={};return Object.keys(P).forEach(function(N){var H=P[N];F[N]!==H&&(M[N]=H)}),M}var D=function(F){e(P,F);function P(M,N){var H=F.call(this)||this;return H.parent=M,H.reactiveCustomComponents=N,H}return P.prototype.createWrapper=function(M,N){if(this.reactiveCustomComponents){var H=function(j){switch(j){case"filter":return c.FilterComponentWrapper;case"floatingFilterComponent":return d.FloatingFilterComponentWrapper;case"dateComponent":return u.DateComponentWrapper;case"loadingOverlayComponent":return h.LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return f.NoRowsOverlayComponentWrapper;case"statusPanel":return v.StatusPanelComponentWrapper;case"toolPanel":return g.ToolPanelComponentWrapper;case"menuItem":return p.MenuItemComponentWrapper}},G=H(N.propertyName);if(G)return new G(M,this.parent,N)}else switch(N.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":x.warnReactiveCustomComponents();break}var z=!N.cellRenderer&&N.propertyName!=="toolPanel";return new m.ReactComponent(M,this.parent,N,z)},P}(s.BaseComponentWrapper),A=l.forwardRef(function(F,P){var M=l.useContext(y.BeansContext),N=M.ctrlsFactory,H=M.context,G=M.gridOptionsService,z=M.resizeObserverService,j=M.clientSideRowModel,q=M.serverSideRowModel,K=l.useState(function(){return new w.CssClasses}),ie=K[0],ee=K[1],te=l.useState(function(){return new w.CssClasses}),de=te[0],Se=te[1],Me=l.useState(),De=Me[0],ze=Me[1],he=l.useState(),ke=he[0],Oe=he[1],je=l.useRef(),xe=l.useRef(null),ae=l.useRef(),Ie=l.useMemo(function(){return s.ModuleRegistry.__getGridRegisteredModules(F.api.getGridId())},[F]),me=l.useMemo(function(){return ie.toString()+" ag-details-row"},[ie]),nt=l.useMemo(function(){return de.toString()+" ag-details-grid"},[de]);P&&l.useImperativeHandle(P,function(){return{refresh:function(){var Ge,ge;return(ge=(Ge=je.current)===null||Ge===void 0?void 0:Ge.refresh())!==null&&ge!==void 0?ge:!1}}}),F.template&&s._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");var He=l.useCallback(function(Ge){if(xe.current=Ge,!xe.current){H.destroyBean(je.current),ae.current&&ae.current();return}var ge={addOrRemoveCssClass:function(Je,vt){return ee(function(ct){return ct.setClass(Je,vt)})},addOrRemoveDetailGridCssClass:function(Je,vt){return Se(function(ct){return ct.setClass(Je,vt)})},setDetailGrid:function(Je){return ze(Je)},setRowData:function(Je){return Oe(Je)},getGui:function(){return xe.current}},_e=N.getInstance("detailCellRenderer");if(_e&&(H.createBean(_e),_e.init(ge,F),je.current=_e,G.get("detailRowAutoHeight"))){var Ve=function(){if(xe.current!=null){var Je=xe.current.clientHeight;if(Je!=null&&Je>0){var vt=function(){F.node.setRowHeight(Je),j?j.onRowHeightChanged():q&&q.onRowHeightChanged()};setTimeout(vt,0)}}};ae.current=z.observeResize(xe.current,Ve),Ve()}},[]),Ue=l.useCallback(function(Ge,ge){var _e;(_e=je.current)===null||_e===void 0||_e.registerDetailWithMaster(Ge,ge)},[]);return l.default.createElement("div",{className:me,ref:He},De&&l.default.createElement(r.AgGridReactUi,t({className:nt},De,{modules:Ie,rowData:ke,setGridApi:Ue})))}),V=function(F){e(P,F);function P(){var M=F.call(this,"react")||this;return M.frameworkComponents={agGroupCellRenderer:T.default,agGroupRowRenderer:T.default,agDetailCellRenderer:A},M.wrapIncoming=function(N,H){return H==="ensureVisible"?w.runWithoutFlushSync(N):N()},M.renderingEngine="react",M}return P.prototype.frameworkComponent=function(M){return this.frameworkComponents[M]},P.prototype.isFrameworkComponent=function(M){if(!M)return!1;var N=M.prototype,H=N&&"getGui"in N;return!H},P}(s.VanillaFrameworkOverrides)})(rZ);var _9e=ne&&ne.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rF=ne&&ne.__assign||function(){return rF=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rF.apply(this,arguments)},C9e=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),y9e=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),S9e=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&C9e(e,r,t);return y9e(e,r),e};Object.defineProperty(y0,"__esModule",{value:!0});y0.AgGridReact=void 0;var P4=S9e(_),w9e=rZ,b9e=function(r){_9e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.apiListeners=[],t.setGridApi=function(n,i){t.api=n,t.columnApi=i,t.apiListeners.forEach(function(o){return o(n)})},t}return e.prototype.registerApiListener=function(t){this.apiListeners.push(t)},e.prototype.componentWillUnmount=function(){this.apiListeners.length=0},e.prototype.render=function(){return P4.default.createElement(w9e.AgGridReactUi,rF({},this.props,{setGridApi:this.setGridApi}))},e}(P4.Component);y0.AgGridReact=b9e;var Cre={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChangeDetectionStrategyType=void 0,function(e){e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck"}(r.ChangeDetectionStrategyType||(r.ChangeDetectionStrategyType={}))})(Cre);var is={};Object.defineProperty(is,"__esModule",{value:!0});is.useGridMenuItem=is.useGridFloatingFilter=is.useGridFilter=is.useGridDate=is.useGridCellEditor=void 0;var E9e=_,x9e=Sp;function hy(r){var e=E9e.useContext(x9e.CustomContext).setMethods;e(r)}function I9e(r){hy(r)}is.useGridCellEditor=I9e;function T9e(r){return hy(r)}is.useGridDate=T9e;function R9e(r){return hy(r)}is.useGridFilter=R9e;function O9e(r){hy(r)}is.useGridFloatingFilter=O9e;function D9e(r){hy(r)}is.useGridMenuItem=D9e;(function(r){var e=ne&&ne.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),t=ne&&ne.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,i,a)};Object.defineProperty(r,"__esModule",{value:!0}),r.AgGridReact=void 0;var n=y0;Object.defineProperty(r,"AgGridReact",{enumerable:!0,get:function(){return n.AgGridReact}}),t(Cre,r),t(is,r),t(Nu,r)})(tZ);const yb=rHe("getTodoData",async()=>{try{return(await fetch("https://jsonplaceholder.typicode.com/todos")).json()}catch(r){console.log(r)}}),A9e={listOfTodos:[],hasError:!1,status:"idle"},P9e=qQ({name:"todos",initialState:A9e,reducers:{},extraReducers:r=>{r.addCase(yb.pending,e=>{e.status="loading"}).addCase(yb.fulfilled,(e,t)=>{e.status="succeeded",e.listOfTodos=t.payload}).addCase(yb.rejected,e=>{e.status="failed",e.hasError=!0})}}),M9e=P9e.reducer,F9e=q1e({reducer:{users:SHe,todos:M9e}}),L9e=()=>PQ(),N9e={black:"#000",white:"#fff"},tC=N9e,k9e={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ef=k9e,V9e={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},tf=V9e,B9e={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},rf=B9e,H9e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},nf=H9e,G9e={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},of=G9e,$9e={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},om=$9e,W9e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},z9e=W9e;function ku(r){let e="https://mui.com/production-error/?code="+r;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+r+"; visit "+e+" for the full message."}const U9e=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),py="$$material";function yre(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var j9e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,K9e=yre(function(r){return j9e.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91});function q9e(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function Y9e(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var X9e=function(){function r(t){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Y9e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=q9e(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},r}(),Wi="-ms-",nx="-moz-",Ur="-webkit-",Sre="comm",RV="rule",OV="decl",Q9e="@import",wre="@keyframes",Z9e="@layer",J9e=Math.abs,Z0=String.fromCharCode,e8e=Object.assign;function t8e(r,e){return Li(r,0)^45?(((e<<2^Li(r,0))<<2^Li(r,1))<<2^Li(r,2))<<2^Li(r,3):0}function bre(r){return r.trim()}function r8e(r,e){return(r=e.exec(r))?r[0]:r}function jr(r,e,t){return r.replace(e,t)}function nF(r,e){return r.indexOf(e)}function Li(r,e){return r.charCodeAt(e)|0}function rC(r,e,t){return r.slice(e,t)}function Cl(r){return r.length}function DV(r){return r.length}function Iw(r,e){return e.push(r),r}function n8e(r,e){return r.map(e).join("")}var J0=1,fv=1,Ere=0,ea=0,ni=0,Fv="";function eI(r,e,t,n,i,o,a){return{value:r,root:e,parent:t,type:n,props:i,children:o,line:J0,column:fv,length:a,return:""}}function am(r,e){return e8e(eI("",null,null,"",null,null,0),r,{length:-r.length},e)}function i8e(){return ni}function o8e(){return ni=ea>0?Li(Fv,--ea):0,fv--,ni===10&&(fv=1,J0--),ni}function Da(){return ni=ea<Ere?Li(Fv,ea++):0,fv++,ni===10&&(fv=1,J0++),ni}function Ml(){return Li(Fv,ea)}function Sb(){return ea}function fy(r,e){return rC(Fv,r,e)}function nC(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xre(r){return J0=fv=1,Ere=Cl(Fv=r),ea=0,[]}function Ire(r){return Fv="",r}function wb(r){return bre(fy(ea-1,iF(r===91?r+2:r===40?r+1:r)))}function a8e(r){for(;(ni=Ml())&&ni<33;)Da();return nC(r)>2||nC(ni)>3?"":" "}function s8e(r,e){for(;--e&&Da()&&!(ni<48||ni>102||ni>57&&ni<65||ni>70&&ni<97););return fy(r,Sb()+(e<6&&Ml()==32&&Da()==32))}function iF(r){for(;Da();)switch(ni){case r:return ea;case 34:case 39:r!==34&&r!==39&&iF(ni);break;case 40:r===41&&iF(r);break;case 92:Da();break}return ea}function l8e(r,e){for(;Da()&&r+ni!==57;)if(r+ni===84&&Ml()===47)break;return"/*"+fy(e,ea-1)+"*"+Z0(r===47?r:Da())}function u8e(r){for(;!nC(Ml());)Da();return fy(r,ea)}function c8e(r){return Ire(bb("",null,null,null,[""],r=xre(r),0,[0],r))}function bb(r,e,t,n,i,o,a,s,l){for(var u=0,c=0,d=a,h=0,p=0,f=0,v=1,g=1,m=1,C=0,y="",w=i,T=o,S=n,x=y;g;)switch(f=C,C=Da()){case 40:if(f!=108&&Li(x,d-1)==58){nF(x+=jr(wb(C),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=wb(C);break;case 9:case 10:case 13:case 32:x+=a8e(f);break;case 92:x+=s8e(Sb()-1,7);continue;case 47:switch(Ml()){case 42:case 47:Iw(d8e(l8e(Da(),Sb()),e,t),l);break;default:x+="/"}break;case 123*v:s[u++]=Cl(x)*m;case 125*v:case 59:case 0:switch(C){case 0:case 125:g=0;case 59+c:m==-1&&(x=jr(x,/\f/g,"")),p>0&&Cl(x)-d&&Iw(p>32?F4(x+";",n,t,d-1):F4(jr(x," ","")+";",n,t,d-2),l);break;case 59:x+=";";default:if(Iw(S=M4(x,e,t,u,c,i,s,y,w=[],T=[],d),o),C===123)if(c===0)bb(x,e,S,S,w,o,d,s,T);else switch(h===99&&Li(x,3)===110?100:h){case 100:case 108:case 109:case 115:bb(r,S,S,n&&Iw(M4(r,S,S,0,0,i,s,y,i,w=[],d),T),i,T,d,s,n?w:T);break;default:bb(x,S,S,S,[""],T,0,s,T)}}u=c=p=0,v=m=1,y=x="",d=a;break;case 58:d=1+Cl(x),p=f;default:if(v<1){if(C==123)--v;else if(C==125&&v++==0&&o8e()==125)continue}switch(x+=Z0(C),C*v){case 38:m=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(Cl(x)-1)*m,m=1;break;case 64:Ml()===45&&(x+=wb(Da())),h=Ml(),c=d=Cl(y=x+=u8e(Sb())),C++;break;case 45:f===45&&Cl(x)==2&&(v=0)}}return o}function M4(r,e,t,n,i,o,a,s,l,u,c){for(var d=i-1,h=i===0?o:[""],p=DV(h),f=0,v=0,g=0;f<n;++f)for(var m=0,C=rC(r,d+1,d=J9e(v=a[f])),y=r;m<p;++m)(y=bre(v>0?h[m]+" "+C:jr(C,/&\f/g,h[m])))&&(l[g++]=y);return eI(r,e,t,i===0?RV:s,l,u,c)}function d8e(r,e,t){return eI(r,e,t,Sre,Z0(i8e()),rC(r,2,-2),0)}function F4(r,e,t,n){return eI(r,e,t,OV,rC(r,0,n),rC(r,n+1,-1),n)}function jf(r,e){for(var t="",n=DV(r),i=0;i<n;i++)t+=e(r[i],i,r,e)||"";return t}function h8e(r,e,t,n){switch(r.type){case Z9e:if(r.children.length)break;case Q9e:case OV:return r.return=r.return||r.value;case Sre:return"";case wre:return r.return=r.value+"{"+jf(r.children,n)+"}";case RV:r.value=r.props.join(",")}return Cl(t=jf(r.children,n))?r.return=r.value+"{"+t+"}":""}function p8e(r){var e=DV(r);return function(t,n,i,o){for(var a="",s=0;s<e;s++)a+=r[s](t,n,i,o)||"";return a}}function f8e(r){return function(e){e.root||(e=e.return)&&r(e)}}var v8e=function(e,t,n){for(var i=0,o=0;i=o,o=Ml(),i===38&&o===12&&(t[n]=1),!nC(o);)Da();return fy(e,ea)},g8e=function(e,t){var n=-1,i=44;do switch(nC(i)){case 0:i===38&&Ml()===12&&(t[n]=1),e[n]+=v8e(ea-1,t,n);break;case 2:e[n]+=wb(i);break;case 4:if(i===44){e[++n]=Ml()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Z0(i)}while(i=Da());return e},m8e=function(e,t){return Ire(g8e(xre(e),t))},L4=new WeakMap,_8e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!L4.get(n))&&!i){L4.set(e,!0);for(var o=[],a=m8e(t,o),s=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)e.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},C8e=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Tre(r,e){switch(t8e(r,e)){case 5103:return Ur+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ur+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Ur+r+nx+r+Wi+r+r;case 6828:case 4268:return Ur+r+Wi+r+r;case 6165:return Ur+r+Wi+"flex-"+r+r;case 5187:return Ur+r+jr(r,/(\w+).+(:[^]+)/,Ur+"box-$1$2"+Wi+"flex-$1$2")+r;case 5443:return Ur+r+Wi+"flex-item-"+jr(r,/flex-|-self/,"")+r;case 4675:return Ur+r+Wi+"flex-line-pack"+jr(r,/align-content|flex-|-self/,"")+r;case 5548:return Ur+r+Wi+jr(r,"shrink","negative")+r;case 5292:return Ur+r+Wi+jr(r,"basis","preferred-size")+r;case 6060:return Ur+"box-"+jr(r,"-grow","")+Ur+r+Wi+jr(r,"grow","positive")+r;case 4554:return Ur+jr(r,/([^-])(transform)/g,"$1"+Ur+"$2")+r;case 6187:return jr(jr(jr(r,/(zoom-|grab)/,Ur+"$1"),/(image-set)/,Ur+"$1"),r,"")+r;case 5495:case 3959:return jr(r,/(image-set\([^]*)/,Ur+"$1$`$1");case 4968:return jr(jr(r,/(.+:)(flex-)?(.*)/,Ur+"box-pack:$3"+Wi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ur+r+r;case 4095:case 3583:case 4068:case 2532:return jr(r,/(.+)-inline(.+)/,Ur+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cl(r)-1-e>6)switch(Li(r,e+1)){case 109:if(Li(r,e+4)!==45)break;case 102:return jr(r,/(.+:)(.+)-([^]+)/,"$1"+Ur+"$2-$3$1"+nx+(Li(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~nF(r,"stretch")?Tre(jr(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Li(r,e+1)!==115)break;case 6444:switch(Li(r,Cl(r)-3-(~nF(r,"!important")&&10))){case 107:return jr(r,":",":"+Ur)+r;case 101:return jr(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ur+(Li(r,14)===45?"inline-":"")+"box$3$1"+Ur+"$2$3$1"+Wi+"$2box$3")+r}break;case 5936:switch(Li(r,e+11)){case 114:return Ur+r+Wi+jr(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Ur+r+Wi+jr(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Ur+r+Wi+jr(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Ur+r+Wi+r+r}return r}var y8e=function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case OV:e.return=Tre(e.value,e.length);break;case wre:return jf([am(e,{value:jr(e.value,"@","@"+Ur)})],i);case RV:if(e.length)return n8e(e.props,function(o){switch(r8e(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jf([am(e,{props:[jr(o,/:(read-\w+)/,":"+nx+"$1")]})],i);case"::placeholder":return jf([am(e,{props:[jr(o,/:(plac\w+)/,":"+Ur+"input-$1")]}),am(e,{props:[jr(o,/:(plac\w+)/,":"+nx+"$1")]}),am(e,{props:[jr(o,/:(plac\w+)/,Wi+"input-$1")]})],i)}return""})}},S8e=[y8e],Rre=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||S8e,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),m=1;m<g.length;m++)o[g[m]]=!0;s.push(v)});var l,u=[_8e,C8e];{var c,d=[h8e,f8e(function(v){c.insert(v)})],h=p8e(u.concat(i,d)),p=function(g){return jf(c8e(g),h)};l=function(g,m,C,y){c=C,p(g?g+"{"+m.styles+"}":m.styles),y&&(f.inserted[m.name]=!0)}}var f={key:t,sheet:new X9e({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return f.sheet.hydrate(s),f},Ore={exports:{}},en={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=typeof Symbol=="function"&&Symbol.for,AV=xi?Symbol.for("react.element"):60103,PV=xi?Symbol.for("react.portal"):60106,tI=xi?Symbol.for("react.fragment"):60107,rI=xi?Symbol.for("react.strict_mode"):60108,nI=xi?Symbol.for("react.profiler"):60114,iI=xi?Symbol.for("react.provider"):60109,oI=xi?Symbol.for("react.context"):60110,MV=xi?Symbol.for("react.async_mode"):60111,aI=xi?Symbol.for("react.concurrent_mode"):60111,sI=xi?Symbol.for("react.forward_ref"):60112,lI=xi?Symbol.for("react.suspense"):60113,w8e=xi?Symbol.for("react.suspense_list"):60120,uI=xi?Symbol.for("react.memo"):60115,cI=xi?Symbol.for("react.lazy"):60116,b8e=xi?Symbol.for("react.block"):60121,E8e=xi?Symbol.for("react.fundamental"):60117,x8e=xi?Symbol.for("react.responder"):60118,I8e=xi?Symbol.for("react.scope"):60119;function Ga(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case AV:switch(r=r.type,r){case MV:case aI:case tI:case nI:case rI:case lI:return r;default:switch(r=r&&r.$$typeof,r){case oI:case sI:case cI:case uI:case iI:return r;default:return e}}case PV:return e}}}function Dre(r){return Ga(r)===aI}en.AsyncMode=MV;en.ConcurrentMode=aI;en.ContextConsumer=oI;en.ContextProvider=iI;en.Element=AV;en.ForwardRef=sI;en.Fragment=tI;en.Lazy=cI;en.Memo=uI;en.Portal=PV;en.Profiler=nI;en.StrictMode=rI;en.Suspense=lI;en.isAsyncMode=function(r){return Dre(r)||Ga(r)===MV};en.isConcurrentMode=Dre;en.isContextConsumer=function(r){return Ga(r)===oI};en.isContextProvider=function(r){return Ga(r)===iI};en.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===AV};en.isForwardRef=function(r){return Ga(r)===sI};en.isFragment=function(r){return Ga(r)===tI};en.isLazy=function(r){return Ga(r)===cI};en.isMemo=function(r){return Ga(r)===uI};en.isPortal=function(r){return Ga(r)===PV};en.isProfiler=function(r){return Ga(r)===nI};en.isStrictMode=function(r){return Ga(r)===rI};en.isSuspense=function(r){return Ga(r)===lI};en.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===tI||r===aI||r===nI||r===rI||r===lI||r===w8e||typeof r=="object"&&r!==null&&(r.$$typeof===cI||r.$$typeof===uI||r.$$typeof===iI||r.$$typeof===oI||r.$$typeof===sI||r.$$typeof===E8e||r.$$typeof===x8e||r.$$typeof===I8e||r.$$typeof===b8e)};en.typeOf=Ga;Ore.exports=en;var T8e=Ore.exports,Are=T8e,R8e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},O8e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Pre={};Pre[Are.ForwardRef]=R8e;Pre[Are.Memo]=O8e;var D8e=!0;function A8e(r,e,t){var n="";return t.split(" ").forEach(function(i){r[i]!==void 0?e.push(r[i]+";"):n+=i+" "}),n}var Mre=function(e,t,n){var i=e.key+"-"+t.name;(n===!1||D8e===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Fre=function(e,t,n){Mre(e,t,n);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function P8e(r){for(var e=0,t,n=0,i=r.length;i>=4;++n,i-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var M8e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},F8e=/[A-Z]|^ms/g,L8e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Lre=function(e){return e.charCodeAt(1)===45},N4=function(e){return e!=null&&typeof e!="boolean"},hA=yre(function(r){return Lre(r)?r:r.replace(F8e,"-$&").toLowerCase()}),k4=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(L8e,function(n,i,o){return yl={name:i,styles:o,next:yl},i})}return M8e[e]!==1&&!Lre(e)&&typeof t=="number"&&t!==0?t+"px":t};function iC(r,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return yl={name:t.name,styles:t.styles,next:yl},t.name;if(t.styles!==void 0){var n=t.next;if(n!==void 0)for(;n!==void 0;)yl={name:n.name,styles:n.styles,next:yl},n=n.next;var i=t.styles+";";return i}return N8e(r,e,t)}case"function":{if(r!==void 0){var o=yl,a=t(r);return yl=o,iC(r,e,a)}break}}if(e==null)return t;var s=e[t];return s!==void 0?s:t}function N8e(r,e,t){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=iC(r,e,t[i])+";";else for(var o in t){var a=t[o];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":N4(a)&&(n+=hA(o)+":"+k4(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var s=0;s<a.length;s++)N4(a[s])&&(n+=hA(o)+":"+k4(o,a[s])+";");else{var l=iC(r,e,a);switch(o){case"animation":case"animationName":{n+=hA(o)+":"+l+";";break}default:n+=o+"{"+l+"}"}}}return n}var V4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,yl,FV=function(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";yl=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,o+=iC(n,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=iC(n,t,e[s]),i&&(o+=a[s]);V4.lastIndex=0;for(var l="",u;(u=V4.exec(o))!==null;)l+="-"+u[1];var c=P8e(o)+l;return{name:c,styles:o,next:yl}},k8e=function(e){return e()},Nre=Zf.useInsertionEffect?Zf.useInsertionEffect:!1,V8e=Nre||k8e,B4=Nre||_.useLayoutEffect,kre=_.createContext(typeof HTMLElement<"u"?Rre({key:"css"}):null),B8e=kre.Provider,Vre=function(e){return _.forwardRef(function(t,n){var i=_.useContext(kre);return e(t,i,n)})},dI=_.createContext({}),pA={exports:{}},H4;function Bre(){return H4||(H4=1,function(r){function e(){return r.exports=e=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},r.exports.__esModule=!0,r.exports.default=r.exports,e.apply(this,arguments)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(pA)),pA.exports}Bre();var H8e=Vre(function(r,e){var t=r.styles,n=FV([t],void 0,_.useContext(dI)),i=_.useRef();return B4(function(){var o=e.key+"-global",a=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[e]),B4(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(n.next!==void 0&&Fre(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function vv(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return FV(e)}var yd=function(){var e=vv.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},G8e=K9e,$8e=function(e){return e!=="theme"},G4=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?G8e:$8e},$4=function(e,t,n){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},W8e=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return Mre(t,n,i),V8e(function(){return Fre(t,n,i)}),null},z8e=function r(e,t){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,o,a;t!==void 0&&(o=t.label,a=t.target);var s=$4(e,t,n),l=s||G4(i),u=!l("as");return function(){var c=arguments,d=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)d.push(c[p],c[0][p])}var f=Vre(function(v,g,m){var C=u&&v.as||i,y="",w=[],T=v;if(v.theme==null){T={};for(var S in v)T[S]=v[S];T.theme=_.useContext(dI)}typeof v.className=="string"?y=A8e(g.registered,w,v.className):v.className!=null&&(y=v.className+" ");var x=FV(d.concat(w),g.registered,T);y+=g.key+"-"+x.name,a!==void 0&&(y+=" "+a);var I=u&&s===void 0?G4(C):l,R={};for(var D in v)u&&D==="as"||I(D)&&(R[D]=v[D]);return R.className=y,R.ref=m,_.createElement(_.Fragment,null,_.createElement(W8e,{cache:g,serialized:x,isStringTag:typeof C=="string"}),_.createElement(C,R))});return f.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=s,Object.defineProperty(f,"toString",{value:function(){return"."+a}}),f.withComponent=function(v,g){return r(v,b({},t,g,{shouldForwardProp:$4(f,g,!0)})).apply(void 0,d)},f}},U8e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],oF=z8e.bind();U8e.forEach(function(r){oF[r]=oF(r)});let aF;typeof document=="object"&&(aF=Rre({key:"css",prepend:!0}));function j8e(r){const{injectFirst:e,children:t}=r;return e&&aF?O.jsx(B8e,{value:aF,children:t}):t}function K8e(r){return r==null||Object.keys(r).length===0}function Hre(r){const{styles:e,defaultTheme:t={}}=r,n=typeof e=="function"?i=>e(K8e(i)?t:i):e;return O.jsx(H8e,{styles:n})}function LV(r,e){return oF(r,e)}const Gre=(r,e)=>{Array.isArray(r.__emotion_styles)&&(r.__emotion_styles=e(r.__emotion_styles))},q8e=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Hre,StyledEngineProvider:j8e,ThemeContext:dI,css:vv,default:LV,internal_processStyles:Gre,keyframes:yd},Symbol.toStringTag,{value:"Module"}));function du(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function $re(r){if(!du(r))return r;const e={};return Object.keys(r).forEach(t=>{e[t]=$re(r[t])}),e}function vo(r,e,t={clone:!0}){const n=t.clone?b({},r):r;return du(r)&&du(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(du(e[i])&&i in r&&du(r[i])?n[i]=vo(r[i],e[i],t):t.clone?n[i]=du(e[i])?$re(e[i]):e[i]:n[i]=e[i])}),n}const Y8e=Object.freeze(Object.defineProperty({__proto__:null,default:vo,isPlainObject:du},Symbol.toStringTag,{value:"Module"})),X8e=["values","unit","step"],Q8e=r=>{const e=Object.keys(r).map(t=>({key:t,val:r[t]}))||[];return e.sort((t,n)=>t.val-n.val),e.reduce((t,n)=>b({},t,{[n.key]:n.val}),{})};function Wre(r){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5}=r,i=se(r,X8e),o=Q8e(e),a=Object.keys(o);function s(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-n/100}${t})`}function u(h,p){const f=a.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t}) and (max-width:${(f!==-1&&typeof e[a[f]]=="number"?e[a[f]]:p)-n/100}${t})`}function c(h){return a.indexOf(h)+1<a.length?u(h,a[a.indexOf(h)+1]):s(h)}function d(h){const p=a.indexOf(h);return p===0?s(a[1]):p===a.length-1?l(a[p]):u(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return b({keys:a,values:o,up:s,down:l,between:u,only:c,not:d,unit:t},i)}const Z8e={borderRadius:4},J8e=Z8e;function u_(r,e){return e?vo(r,e,{clone:!1}):r}const NV={xs:0,sm:600,md:900,lg:1200,xl:1536},W4={keys:["xs","sm","md","lg","xl"],up:r=>`@media (min-width:${NV[r]}px)`};function Qs(r,e,t){const n=r.theme||{};if(Array.isArray(e)){const o=n.breakpoints||W4;return e.reduce((a,s,l)=>(a[o.up(o.keys[l])]=t(e[l]),a),{})}if(typeof e=="object"){const o=n.breakpoints||W4;return Object.keys(e).reduce((a,s)=>{if(Object.keys(o.values||NV).indexOf(s)!==-1){const l=o.up(s);a[l]=t(e[s],s)}else{const l=s;a[l]=e[l]}return a},{})}return t(e)}function zre(r={}){var e;return((e=r.keys)==null?void 0:e.reduce((n,i)=>{const o=r.up(i);return n[o]={},n},{}))||{}}function Ure(r,e){return r.reduce((t,n)=>{const i=t[n];return(!i||Object.keys(i).length===0)&&delete t[n],t},e)}function e7e(r,...e){const t=zre(r),n=[t,...e].reduce((i,o)=>vo(i,o),{});return Ure(Object.keys(t),n)}function t7e(r,e){if(typeof r!="object")return{};const t={},n=Object.keys(e);return Array.isArray(r)?n.forEach((i,o)=>{o<r.length&&(t[i]=!0)}):n.forEach(i=>{r[i]!=null&&(t[i]=!0)}),t}function fA({values:r,breakpoints:e,base:t}){const n=t||t7e(r,e),i=Object.keys(n);if(i.length===0)return r;let o;return i.reduce((a,s,l)=>(Array.isArray(r)?(a[s]=r[l]!=null?r[l]:r[o],o=l):typeof r=="object"?(a[s]=r[s]!=null?r[s]:r[o],o=s):a[s]=r,a),{})}function Te(r){if(typeof r!="string")throw new Error(ku(7));return r.charAt(0).toUpperCase()+r.slice(1)}const r7e=Object.freeze(Object.defineProperty({__proto__:null,default:Te},Symbol.toStringTag,{value:"Module"}));function hI(r,e,t=!0){if(!e||typeof e!="string")return null;if(r&&r.vars&&t){const n=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,r);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,r)}function ix(r,e,t,n=t){let i;return typeof r=="function"?i=r(t):Array.isArray(r)?i=r[t]||n:i=hI(r,t)||n,e&&(i=e(i,n,r)),i}function Xn(r){const{prop:e,cssProperty:t=r.prop,themeKey:n,transform:i}=r,o=a=>{if(a[e]==null)return null;const s=a[e],l=a.theme,u=hI(l,n)||{};return Qs(a,s,d=>{let h=ix(u,i,d);return d===h&&typeof d=="string"&&(h=ix(u,i,`${e}${d==="default"?"":Te(d)}`,d)),t===!1?h:{[t]:h}})};return o.propTypes={},o.filterProps=[e],o}function n7e(r){const e={};return t=>(e[t]===void 0&&(e[t]=r(t)),e[t])}const i7e={m:"margin",p:"padding"},o7e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},z4={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},a7e=n7e(r=>{if(r.length>2)if(z4[r])r=z4[r];else return[r];const[e,t]=r.split(""),n=i7e[e],i=o7e[t]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),kV=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],VV=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...kV,...VV];function vy(r,e,t,n){var i;const o=(i=hI(r,e,!1))!=null?i:t;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function BV(r){return vy(r,"spacing",8)}function rp(r,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),n=r(t);return e>=0?n:typeof n=="number"?-n:`-${n}`}function s7e(r,e){return t=>r.reduce((n,i)=>(n[i]=rp(e,t),n),{})}function l7e(r,e,t,n){if(e.indexOf(t)===-1)return null;const i=a7e(t),o=s7e(i,n),a=r[t];return Qs(r,a,o)}function jre(r,e){const t=BV(r.theme);return Object.keys(r).map(n=>l7e(r,e,n,t)).reduce(u_,{})}function Mn(r){return jre(r,kV)}Mn.propTypes={};Mn.filterProps=kV;function Fn(r){return jre(r,VV)}Fn.propTypes={};Fn.filterProps=VV;function u7e(r=8){if(r.mui)return r;const e=BV({spacing:r}),t=(...n)=>(n.length===0?[1]:n).map(o=>{const a=e(o);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function pI(...r){const e=r.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),t=n=>Object.keys(n).reduce((i,o)=>e[o]?u_(i,e[o](n)):i,{});return t.propTypes={},t.filterProps=r.reduce((n,i)=>n.concat(i.filterProps),[]),t}function ns(r){return typeof r!="number"?r:`${r}px solid`}function ws(r,e){return Xn({prop:r,themeKey:"borders",transform:e})}const c7e=ws("border",ns),d7e=ws("borderTop",ns),h7e=ws("borderRight",ns),p7e=ws("borderBottom",ns),f7e=ws("borderLeft",ns),v7e=ws("borderColor"),g7e=ws("borderTopColor"),m7e=ws("borderRightColor"),_7e=ws("borderBottomColor"),C7e=ws("borderLeftColor"),y7e=ws("outline",ns),S7e=ws("outlineColor"),fI=r=>{if(r.borderRadius!==void 0&&r.borderRadius!==null){const e=vy(r.theme,"shape.borderRadius",4),t=n=>({borderRadius:rp(e,n)});return Qs(r,r.borderRadius,t)}return null};fI.propTypes={};fI.filterProps=["borderRadius"];pI(c7e,d7e,h7e,p7e,f7e,v7e,g7e,m7e,_7e,C7e,fI,y7e,S7e);const vI=r=>{if(r.gap!==void 0&&r.gap!==null){const e=vy(r.theme,"spacing",8),t=n=>({gap:rp(e,n)});return Qs(r,r.gap,t)}return null};vI.propTypes={};vI.filterProps=["gap"];const gI=r=>{if(r.columnGap!==void 0&&r.columnGap!==null){const e=vy(r.theme,"spacing",8),t=n=>({columnGap:rp(e,n)});return Qs(r,r.columnGap,t)}return null};gI.propTypes={};gI.filterProps=["columnGap"];const mI=r=>{if(r.rowGap!==void 0&&r.rowGap!==null){const e=vy(r.theme,"spacing",8),t=n=>({rowGap:rp(e,n)});return Qs(r,r.rowGap,t)}return null};mI.propTypes={};mI.filterProps=["rowGap"];const w7e=Xn({prop:"gridColumn"}),b7e=Xn({prop:"gridRow"}),E7e=Xn({prop:"gridAutoFlow"}),x7e=Xn({prop:"gridAutoColumns"}),I7e=Xn({prop:"gridAutoRows"}),T7e=Xn({prop:"gridTemplateColumns"}),R7e=Xn({prop:"gridTemplateRows"}),O7e=Xn({prop:"gridTemplateAreas"}),D7e=Xn({prop:"gridArea"});pI(vI,gI,mI,w7e,b7e,E7e,x7e,I7e,T7e,R7e,O7e,D7e);function Kf(r,e){return e==="grey"?e:r}const A7e=Xn({prop:"color",themeKey:"palette",transform:Kf}),P7e=Xn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Kf}),M7e=Xn({prop:"backgroundColor",themeKey:"palette",transform:Kf});pI(A7e,P7e,M7e);function wa(r){return r<=1&&r!==0?`${r*100}%`:r}const F7e=Xn({prop:"width",transform:wa}),HV=r=>{if(r.maxWidth!==void 0&&r.maxWidth!==null){const e=t=>{var n,i;const o=((n=r.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[t])||NV[t];return o?((i=r.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${r.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:wa(t)}};return Qs(r,r.maxWidth,e)}return null};HV.filterProps=["maxWidth"];const L7e=Xn({prop:"minWidth",transform:wa}),N7e=Xn({prop:"height",transform:wa}),k7e=Xn({prop:"maxHeight",transform:wa}),V7e=Xn({prop:"minHeight",transform:wa});Xn({prop:"size",cssProperty:"width",transform:wa});Xn({prop:"size",cssProperty:"height",transform:wa});const B7e=Xn({prop:"boxSizing"});pI(F7e,HV,L7e,N7e,k7e,V7e,B7e);const H7e={border:{themeKey:"borders",transform:ns},borderTop:{themeKey:"borders",transform:ns},borderRight:{themeKey:"borders",transform:ns},borderBottom:{themeKey:"borders",transform:ns},borderLeft:{themeKey:"borders",transform:ns},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ns},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fI},color:{themeKey:"palette",transform:Kf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Kf},backgroundColor:{themeKey:"palette",transform:Kf},p:{style:Fn},pt:{style:Fn},pr:{style:Fn},pb:{style:Fn},pl:{style:Fn},px:{style:Fn},py:{style:Fn},padding:{style:Fn},paddingTop:{style:Fn},paddingRight:{style:Fn},paddingBottom:{style:Fn},paddingLeft:{style:Fn},paddingX:{style:Fn},paddingY:{style:Fn},paddingInline:{style:Fn},paddingInlineStart:{style:Fn},paddingInlineEnd:{style:Fn},paddingBlock:{style:Fn},paddingBlockStart:{style:Fn},paddingBlockEnd:{style:Fn},m:{style:Mn},mt:{style:Mn},mr:{style:Mn},mb:{style:Mn},ml:{style:Mn},mx:{style:Mn},my:{style:Mn},margin:{style:Mn},marginTop:{style:Mn},marginRight:{style:Mn},marginBottom:{style:Mn},marginLeft:{style:Mn},marginX:{style:Mn},marginY:{style:Mn},marginInline:{style:Mn},marginInlineStart:{style:Mn},marginInlineEnd:{style:Mn},marginBlock:{style:Mn},marginBlockStart:{style:Mn},marginBlockEnd:{style:Mn},displayPrint:{cssProperty:!1,transform:r=>({"@media print":{display:r}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vI},rowGap:{style:mI},columnGap:{style:gI},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wa},maxWidth:{style:HV},minWidth:{transform:wa},height:{transform:wa},maxHeight:{transform:wa},minHeight:{transform:wa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},gy=H7e;function G7e(...r){const e=r.reduce((n,i)=>n.concat(Object.keys(i)),[]),t=new Set(e);return r.every(n=>t.size===Object.keys(n).length)}function $7e(r,e){return typeof r=="function"?r(e):r}function Kre(){function r(t,n,i,o){const a={[t]:n,theme:i},s=o[t];if(!s)return{[t]:n};const{cssProperty:l=t,themeKey:u,transform:c,style:d}=s;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[t]:n};const h=hI(i,u)||{};return d?d(a):Qs(a,n,f=>{let v=ix(h,c,f);return f===v&&typeof f=="string"&&(v=ix(h,c,`${t}${f==="default"?"":Te(f)}`,f)),l===!1?v:{[l]:v}})}function e(t){var n;const{sx:i,theme:o={}}=t||{};if(!i)return null;const a=(n=o.unstable_sxConfig)!=null?n:gy;function s(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=zre(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const f=$7e(u[p],o);if(f!=null)if(typeof f=="object")if(a[p])h=u_(h,r(p,f,o,a));else{const v=Qs({theme:o},f,g=>({[p]:g}));G7e(v,f)?h[p]=e({sx:f,theme:o}):h=u_(h,v)}else h=u_(h,r(p,f,o,a))}),Ure(d,h)}return Array.isArray(i)?i.map(s):s(i)}return e}const Lv=Kre();Lv.filterProps=["sx"];function qre(r,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(r).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===r?e:{}}const W7e=["breakpoints","palette","spacing","shape"];function my(r={},...e){const{breakpoints:t={},palette:n={},spacing:i,shape:o={}}=r,a=se(r,W7e),s=Wre(t),l=u7e(i);let u=vo({breakpoints:s,direction:"ltr",components:{},palette:b({mode:"light"},n),spacing:l,shape:b({},J8e,o)},a);return u.applyStyles=qre,u=e.reduce((c,d)=>vo(c,d),u),u.unstable_sxConfig=b({},gy,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return Lv({sx:d,theme:this})},u}const z7e=Object.freeze(Object.defineProperty({__proto__:null,default:my,private_createBreakpoints:Wre,unstable_applyStyles:qre},Symbol.toStringTag,{value:"Module"}));function U7e(r){return Object.keys(r).length===0}function j7e(r=null){const e=_.useContext(dI);return!e||U7e(e)?r:e}const K7e=my();function _I(r=K7e){return j7e(r)}function q7e({styles:r,themeId:e,defaultTheme:t={}}){const n=_I(t),i=typeof r=="function"?r(e&&n[e]||n):r;return O.jsx(Hre,{styles:i})}const Y7e=["sx"],X7e=r=>{var e,t;const n={systemProps:{},otherProps:{}},i=(e=r==null||(t=r.theme)==null?void 0:t.unstable_sxConfig)!=null?e:gy;return Object.keys(r).forEach(o=>{i[o]?n.systemProps[o]=r[o]:n.otherProps[o]=r[o]}),n};function CI(r){const{sx:e}=r,t=se(r,Y7e),{systemProps:n,otherProps:i}=X7e(t);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...a)=>{const s=e(...a);return du(s)?b({},n,s):n}:o=b({},n,e),b({},i,{sx:o})}const Q7e=Object.freeze(Object.defineProperty({__proto__:null,default:Lv,extendSxProp:CI,unstable_createStyleFunctionSx:Kre,unstable_defaultSxConfig:gy},Symbol.toStringTag,{value:"Module"})),U4=r=>r,Z7e=()=>{let r=U4;return{configure(e){r=e},generate(e){return r(e)},reset(){r=U4}}},Yre=Z7e();function Xre(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Xre(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Ae(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Xre(r))&&(n&&(n+=" "),n+=e);return n}const J7e=["className","component"];function eXe(r={}){const{themeId:e,defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:i}=r,o=LV("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Lv);return _.forwardRef(function(l,u){const c=_I(t),d=CI(l),{className:h,component:p="div"}=d,f=se(d,J7e);return O.jsx(o,b({as:p,ref:u,className:Ae(h,i?i(n):n),theme:e&&c[e]||c},f))})}const Qre={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Gt(r,e,t="Mui"){const n=Qre[e];return n?`${t}-${n}`:`${Yre.generate(r)}-${e}`}function Bt(r,e,t="Mui"){const n={};return e.forEach(i=>{n[i]=Gt(r,i,t)}),n}var Zre={exports:{}},tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GV=Symbol.for("react.element"),$V=Symbol.for("react.portal"),yI=Symbol.for("react.fragment"),SI=Symbol.for("react.strict_mode"),wI=Symbol.for("react.profiler"),bI=Symbol.for("react.provider"),EI=Symbol.for("react.context"),tXe=Symbol.for("react.server_context"),xI=Symbol.for("react.forward_ref"),II=Symbol.for("react.suspense"),TI=Symbol.for("react.suspense_list"),RI=Symbol.for("react.memo"),OI=Symbol.for("react.lazy"),rXe=Symbol.for("react.offscreen"),Jre;Jre=Symbol.for("react.module.reference");function bs(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case GV:switch(r=r.type,r){case yI:case wI:case SI:case II:case TI:return r;default:switch(r=r&&r.$$typeof,r){case tXe:case EI:case xI:case OI:case RI:case bI:return r;default:return e}}case $V:return e}}}tn.ContextConsumer=EI;tn.ContextProvider=bI;tn.Element=GV;tn.ForwardRef=xI;tn.Fragment=yI;tn.Lazy=OI;tn.Memo=RI;tn.Portal=$V;tn.Profiler=wI;tn.StrictMode=SI;tn.Suspense=II;tn.SuspenseList=TI;tn.isAsyncMode=function(){return!1};tn.isConcurrentMode=function(){return!1};tn.isContextConsumer=function(r){return bs(r)===EI};tn.isContextProvider=function(r){return bs(r)===bI};tn.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===GV};tn.isForwardRef=function(r){return bs(r)===xI};tn.isFragment=function(r){return bs(r)===yI};tn.isLazy=function(r){return bs(r)===OI};tn.isMemo=function(r){return bs(r)===RI};tn.isPortal=function(r){return bs(r)===$V};tn.isProfiler=function(r){return bs(r)===wI};tn.isStrictMode=function(r){return bs(r)===SI};tn.isSuspense=function(r){return bs(r)===II};tn.isSuspenseList=function(r){return bs(r)===TI};tn.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===yI||r===wI||r===SI||r===II||r===TI||r===rXe||typeof r=="object"&&r!==null&&(r.$$typeof===OI||r.$$typeof===RI||r.$$typeof===bI||r.$$typeof===EI||r.$$typeof===xI||r.$$typeof===Jre||r.getModuleId!==void 0)};tn.typeOf=bs;Zre.exports=tn;var j4=Zre.exports;const nXe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function ene(r){const e=`${r}`.match(nXe);return e&&e[1]||""}function tne(r,e=""){return r.displayName||r.name||ene(r)||e}function K4(r,e,t){const n=tne(e);return r.displayName||(n!==""?`${t}(${n})`:t)}function iXe(r){if(r!=null){if(typeof r=="string")return r;if(typeof r=="function")return tne(r,"Component");if(typeof r=="object")switch(r.$$typeof){case j4.ForwardRef:return K4(r,r.render,"ForwardRef");case j4.Memo:return K4(r,r.type,"memo");default:return}}}const oXe=Object.freeze(Object.defineProperty({__proto__:null,default:iXe,getFunctionName:ene},Symbol.toStringTag,{value:"Module"})),aXe=["ownerState"],sXe=["variants"],lXe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function uXe(r){return Object.keys(r).length===0}function cXe(r){return typeof r=="string"&&r.charCodeAt(0)>96}function vA(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const dXe=my(),hXe=r=>r&&r.charAt(0).toLowerCase()+r.slice(1);function Tw({defaultTheme:r,theme:e,themeId:t}){return uXe(e)?r:e[t]||e}function pXe(r){return r?(e,t)=>t[r]:null}function Eb(r,e){let{ownerState:t}=e,n=se(e,aXe);const i=typeof r=="function"?r(b({ownerState:t},n)):r;if(Array.isArray(i))return i.flatMap(o=>Eb(o,b({ownerState:t},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=se(i,sXe);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(b({ownerState:t},n,t)):Object.keys(l.props).forEach(c=>{(t==null?void 0:t[c])!==l.props[c]&&n[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style(b({ownerState:t},n,t)):l.style))}),s}return i}function fXe(r={}){const{themeId:e,defaultTheme:t=dXe,rootShouldForwardProp:n=vA,slotShouldForwardProp:i=vA}=r,o=a=>Lv(b({},a,{theme:Tw(b({},a,{defaultTheme:t,themeId:e}))}));return o.__mui_systemSx=!0,(a,s={})=>{Gre(a,T=>T.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=pXe(hXe(u))}=s,p=se(s,lXe),f=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let g,m=vA;u==="Root"||u==="root"?m=n:u?m=i:cXe(a)&&(m=void 0);const C=LV(a,b({shouldForwardProp:m,label:g},p)),y=T=>typeof T=="function"&&T.__emotion_real!==T||du(T)?S=>Eb(T,b({},S,{theme:Tw({theme:S.theme,defaultTheme:t,themeId:e})})):T,w=(T,...S)=>{let x=y(T);const I=S?S.map(y):[];l&&h&&I.push(A=>{const V=Tw(b({},A,{defaultTheme:t,themeId:e}));if(!V.components||!V.components[l]||!V.components[l].styleOverrides)return null;const F=V.components[l].styleOverrides,P={};return Object.entries(F).forEach(([M,N])=>{P[M]=Eb(N,b({},A,{theme:V}))}),h(A,P)}),l&&!f&&I.push(A=>{var V;const F=Tw(b({},A,{defaultTheme:t,themeId:e})),P=F==null||(V=F.components)==null||(V=V[l])==null?void 0:V.variants;return Eb({variants:P},b({},A,{theme:F}))}),v||I.push(o);const R=I.length-S.length;if(Array.isArray(T)&&R>0){const A=new Array(R).fill("");x=[...T,...A],x.raw=[...T.raw,...A]}const D=C(x,...I);return a.muiName&&(D.muiName=a.muiName),D};return C.withConfig&&(w.withConfig=C.withConfig),w}}const Ii=fXe();function WV(r,e){const t=b({},e);return Object.keys(r).forEach(n=>{if(n.toString().match(/^(components|slots)$/))t[n]=b({},r[n],t[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=r[n]||{},o=e[n];t[n]={},!o||!Object.keys(o)?t[n]=i:!i||!Object.keys(i)?t[n]=o:(t[n]=b({},o),Object.keys(i).forEach(a=>{t[n][a]=WV(i[a],o[a])}))}else t[n]===void 0&&(t[n]=r[n])}),t}function vXe(r){const{theme:e,name:t,props:n}=r;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?n:WV(e.components[t].defaultProps,n)}function rne({props:r,name:e,defaultTheme:t,themeId:n}){let i=_I(t);return n&&(i=i[n]||i),vXe({theme:i,name:e,props:r})}const sn=typeof window<"u"?_.useLayoutEffect:_.useEffect;function nne(r,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(r,t))}const gXe=Object.freeze(Object.defineProperty({__proto__:null,default:nne},Symbol.toStringTag,{value:"Module"}));function zV(r,e=0,t=1){return nne(r,e,t)}function mXe(r){r=r.slice(1);const e=new RegExp(`.{1,${r.length>=6?2:1}}`,"g");let t=r.match(e);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function DI(r){if(r.type)return r;if(r.charAt(0)==="#")return DI(mXe(r));const e=r.indexOf("("),t=r.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(ku(9,r));let n=r.substring(e+1,r.length-1),i;if(t==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ku(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:t,values:n,colorSpace:i}}function UV(r){const{type:e,colorSpace:t}=r;let{values:n}=r;return e.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function Ps(r,e){return r=DI(r),e=zV(e),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.type==="color"?r.values[3]=`/${e}`:r.values[3]=e,UV(r)}function _Xe(r,e){if(r=DI(r),e=zV(e),r.type.indexOf("hsl")!==-1)r.values[2]*=1-e;else if(r.type.indexOf("rgb")!==-1||r.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)r.values[t]*=1-e;return UV(r)}function CXe(r,e){if(r=DI(r),e=zV(e),r.type.indexOf("hsl")!==-1)r.values[2]+=(100-r.values[2])*e;else if(r.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)r.values[t]+=(255-r.values[t])*e;else if(r.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)r.values[t]+=(1-r.values[t])*e;return UV(r)}function yXe(r,e){return()=>null}function sF(...r){return r.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function Nv(r,e=166){let t;function n(...i){const o=()=>{r.apply(this,i)};clearTimeout(t),t=setTimeout(o,e)}return n.clear=()=>{clearTimeout(t)},n}function gA(r,e){var t,n;return _.isValidElement(r)&&e.indexOf((t=r.type.muiName)!=null?t:(n=r.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function An(r){return r&&r.ownerDocument||document}function Gl(r){return An(r).defaultView||window}function ox(r,e){typeof r=="function"?r(e):r&&(r.current=e)}let q4=0;function SXe(r){const[e,t]=_.useState(r),n=r||e;return _.useEffect(()=>{e==null&&(q4+=1,t(`mui-${q4}`))},[e]),n}const Y4=Zf.useId;function _n(r){if(Y4!==void 0){const e=Y4();return r??e}return SXe(r)}function Rh({controlled:r,default:e,name:t,state:n="value"}){const{current:i}=_.useRef(r!==void 0),[o,a]=_.useState(e),s=i?r:o,l=_.useCallback(u=>{i||a(u)},[]);return[s,l]}function cn(r){const e=_.useRef(r);return sn(()=>{e.current=r}),_.useRef((...t)=>(0,e.current)(...t)).current}function ln(...r){return _.useMemo(()=>r.every(e=>e==null)?null:e=>{r.forEach(t=>{ox(t,e)})},r)}const X4={};function wXe(r,e){const t=_.useRef(X4);return t.current===X4&&(t.current=r(e)),t}const bXe=[];function EXe(r){_.useEffect(r,bXe)}let jV=class ine{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ine}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}};function kf(){const r=wXe(jV.create).current;return EXe(r.disposeEffect),r}let AI=!0,lF=!1;const xXe=new jV,IXe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function TXe(r){const{type:e,tagName:t}=r;return!!(t==="INPUT"&&IXe[e]&&!r.readOnly||t==="TEXTAREA"&&!r.readOnly||r.isContentEditable)}function RXe(r){r.metaKey||r.altKey||r.ctrlKey||(AI=!0)}function mA(){AI=!1}function OXe(){this.visibilityState==="hidden"&&lF&&(AI=!0)}function DXe(r){r.addEventListener("keydown",RXe,!0),r.addEventListener("mousedown",mA,!0),r.addEventListener("pointerdown",mA,!0),r.addEventListener("touchstart",mA,!0),r.addEventListener("visibilitychange",OXe,!0)}function AXe(r){const{target:e}=r;try{return e.matches(":focus-visible")}catch{}return AI||TXe(e)}function one(){const r=_.useCallback(i=>{i!=null&&DXe(i.ownerDocument)},[]),e=_.useRef(!1);function t(){return e.current?(lF=!0,xXe.start(100,()=>{lF=!1}),e.current=!1,!0):!1}function n(i){return AXe(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:t,ref:r}}function ane(r){const e=r.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let af;function sne(){if(af)return af;const r=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",r.appendChild(e),r.dir="rtl",r.style.fontSize="14px",r.style.width="4px",r.style.height="1px",r.style.position="absolute",r.style.top="-1000px",r.style.overflow="scroll",document.body.appendChild(r),af="reverse",r.scrollLeft>0?af="default":(r.scrollLeft=1,r.scrollLeft===0&&(af="negative")),document.body.removeChild(r),af}function PXe(r,e){const t=r.scrollLeft;if(e!=="rtl")return t;switch(sne()){case"negative":return r.scrollWidth-r.clientWidth+t;case"reverse":return r.scrollWidth-r.clientWidth-t;default:return t}}const KV=r=>{const e=_.useRef({});return _.useEffect(()=>{e.current=r}),e.current};function tt(r,e,t=void 0){const n={};return Object.keys(r).forEach(i=>{n[i]=r[i].reduce((o,a)=>{if(a){const s=e(a);s!==""&&o.push(s),t&&t[a]&&o.push(t[a])}return o},[]).join(" ")}),n}const MXe=_.createContext(),_y=()=>{const r=_.useContext(MXe);return r??!1};function oC(r){"@babel/helpers - typeof";return oC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oC(r)}function FXe(r,e){if(oC(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(oC(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function aC(r){var e=FXe(r,"string");return oC(e)=="symbol"?e:String(e)}const LXe=["component","direction","spacing","divider","children","className","useFlexGap"],NXe=my(),kXe=Ii("div",{name:"MuiStack",slot:"Root",overridesResolver:(r,e)=>e.root});function VXe(r){return rne({props:r,name:"MuiStack",defaultTheme:NXe})}function BXe(r,e){const t=_.Children.toArray(r).filter(Boolean);return t.reduce((n,i,o)=>(n.push(i),o<t.length-1&&n.push(_.cloneElement(e,{key:`separator-${o}`})),n),[])}const HXe=r=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[r],GXe=({ownerState:r,theme:e})=>{let t=b({display:"flex",flexDirection:"column"},Qs({theme:e},fA({values:r.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(r.spacing){const n=BV(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof r.spacing=="object"&&r.spacing[u]!=null||typeof r.direction=="object"&&r.direction[u]!=null)&&(l[u]=!0),l),{}),o=fA({values:r.direction,base:i}),a=fA({values:r.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,u,c)=>{if(!o[l]){const h=u>0?o[c[u-1]]:"column";o[l]=h}}),t=vo(t,Qs({theme:e},a,(l,u)=>r.useFlexGap?{gap:rp(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${HXe(u?o[u]:r.direction)}`]:rp(n,l)}}))}return t=e7e(e.breakpoints,t),t};function $Xe(r={}){const{createStyledComponent:e=kXe,useThemeProps:t=VXe,componentName:n="MuiStack"}=r,i=()=>tt({root:["root"]},l=>Gt(n,l),{}),o=e(GXe);return _.forwardRef(function(l,u){const c=t(l),d=CI(c),{component:h="div",direction:p="column",spacing:f=0,divider:v,children:g,className:m,useFlexGap:C=!1}=d,y=se(d,LXe),w={direction:p,spacing:f,useFlexGap:C},T=i();return O.jsx(o,b({as:h,ownerState:w,ref:u,className:Ae(T.root,m)},y,{children:v?BXe(g,v):g}))})}function WXe(r,e){return b({toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}}},e)}var Qn={},lne={exports:{}};(function(r){function e(t){return t&&t.__esModule?t:{default:t}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(lne);var une=lne.exports;const zXe=Hu(U9e),UXe=Hu(gXe);var cne=une;Object.defineProperty(Qn,"__esModule",{value:!0});var Ir=Qn.alpha=fne;Qn.blend=rQe;Qn.colorChannel=void 0;var qV=Qn.darken=QV;Qn.decomposeColor=fs;Qn.emphasize=tQe;var jXe=Qn.getContrastRatio=QXe;Qn.getLuminance=ax;Qn.hexToRgb=dne;Qn.hslToRgb=pne;var YV=Qn.lighten=ZV;Qn.private_safeAlpha=ZXe;Qn.private_safeColorChannel=void 0;Qn.private_safeDarken=JXe;Qn.private_safeEmphasize=vne;Qn.private_safeLighten=eQe;Qn.recomposeColor=kv;Qn.rgbToHex=XXe;var Q4=cne(zXe),KXe=cne(UXe);function XV(r,e=0,t=1){return(0,KXe.default)(r,e,t)}function dne(r){r=r.slice(1);const e=new RegExp(`.{1,${r.length>=6?2:1}}`,"g");let t=r.match(e);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function qXe(r){const e=r.toString(16);return e.length===1?`0${e}`:e}function fs(r){if(r.type)return r;if(r.charAt(0)==="#")return fs(dne(r));const e=r.indexOf("("),t=r.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error((0,Q4.default)(9,r));let n=r.substring(e+1,r.length-1),i;if(t==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Q4.default)(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:t,values:n,colorSpace:i}}const hne=r=>{const e=fs(r);return e.values.slice(0,3).map((t,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${t}%`:t).join(" ")};Qn.colorChannel=hne;const YXe=(r,e)=>{try{return hne(r)}catch{return r}};Qn.private_safeColorChannel=YXe;function kv(r){const{type:e,colorSpace:t}=r;let{values:n}=r;return e.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function XXe(r){if(r.indexOf("#")===0)return r;const{values:e}=fs(r);return`#${e.map((t,n)=>qXe(n===3?Math.round(255*t):t)).join("")}`}function pne(r){r=fs(r);const{values:e}=r,t=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),a=(u,c=(u+t/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return r.type==="hsla"&&(s+="a",l.push(e[3])),kv({type:s,values:l})}function ax(r){r=fs(r);let e=r.type==="hsl"||r.type==="hsla"?fs(pne(r)).values:r.values;return e=e.map(t=>(r.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function QXe(r,e){const t=ax(r),n=ax(e);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function fne(r,e){return r=fs(r),e=XV(e),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.type==="color"?r.values[3]=`/${e}`:r.values[3]=e,kv(r)}function ZXe(r,e,t){try{return fne(r,e)}catch{return r}}function QV(r,e){if(r=fs(r),e=XV(e),r.type.indexOf("hsl")!==-1)r.values[2]*=1-e;else if(r.type.indexOf("rgb")!==-1||r.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)r.values[t]*=1-e;return kv(r)}function JXe(r,e,t){try{return QV(r,e)}catch{return r}}function ZV(r,e){if(r=fs(r),e=XV(e),r.type.indexOf("hsl")!==-1)r.values[2]+=(100-r.values[2])*e;else if(r.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)r.values[t]+=(255-r.values[t])*e;else if(r.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)r.values[t]+=(1-r.values[t])*e;return kv(r)}function eQe(r,e,t){try{return ZV(r,e)}catch{return r}}function tQe(r,e=.15){return ax(r)>.5?QV(r,e):ZV(r,e)}function vne(r,e,t){try{return vne(r,e)}catch{return r}}function rQe(r,e,t,n=1){const i=(l,u)=>Math.round((l**(1/n)*(1-t)+u**(1/n)*t)**n),o=fs(r),a=fs(e),s=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return kv({type:"rgb",values:s})}const nQe=["mode","contrastThreshold","tonalOffset"],Z4={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tC.white,default:tC.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_A={text:{primary:tC.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tC.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function J4(r,e,t,n){const i=n.light||n,o=n.dark||n*1.5;r[e]||(r.hasOwnProperty(t)?r[e]=r[t]:e==="light"?r.light=YV(r.main,i):e==="dark"&&(r.dark=qV(r.main,o)))}function iQe(r="light"){return r==="dark"?{main:rf[200],light:rf[50],dark:rf[400]}:{main:rf[700],light:rf[400],dark:rf[800]}}function oQe(r="light"){return r==="dark"?{main:tf[200],light:tf[50],dark:tf[400]}:{main:tf[500],light:tf[300],dark:tf[700]}}function aQe(r="light"){return r==="dark"?{main:ef[500],light:ef[300],dark:ef[700]}:{main:ef[700],light:ef[400],dark:ef[800]}}function sQe(r="light"){return r==="dark"?{main:nf[400],light:nf[300],dark:nf[700]}:{main:nf[700],light:nf[500],dark:nf[900]}}function lQe(r="light"){return r==="dark"?{main:of[400],light:of[300],dark:of[700]}:{main:of[800],light:of[500],dark:of[900]}}function uQe(r="light"){return r==="dark"?{main:om[400],light:om[300],dark:om[700]}:{main:"#ed6c02",light:om[500],dark:om[900]}}function cQe(r){const{mode:e="light",contrastThreshold:t=3,tonalOffset:n=.2}=r,i=se(r,nQe),o=r.primary||iQe(e),a=r.secondary||oQe(e),s=r.error||aQe(e),l=r.info||sQe(e),u=r.success||lQe(e),c=r.warning||uQe(e);function d(v){return jXe(v,_A.text.primary)>=t?_A.text.primary:Z4.text.primary}const h=({color:v,name:g,mainShade:m=500,lightShade:C=300,darkShade:y=700})=>{if(v=b({},v),!v.main&&v[m]&&(v.main=v[m]),!v.hasOwnProperty("main"))throw new Error(ku(11,g?` (${g})`:"",m));if(typeof v.main!="string")throw new Error(ku(12,g?` (${g})`:"",JSON.stringify(v.main)));return J4(v,"light",C,n),J4(v,"dark",y,n),v.contrastText||(v.contrastText=d(v.main)),v},p={dark:_A,light:Z4};return vo(b({common:b({},tC),mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:z9e,contrastThreshold:t,getContrastText:d,augmentColor:h,tonalOffset:n},p[e]),i)}const dQe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function hQe(r){return Math.round(r*1e5)/1e5}const e3={textTransform:"uppercase"},t3='"Roboto", "Helvetica", "Arial", sans-serif';function pQe(r,e){const t=typeof e=="function"?e(r):e,{fontFamily:n=t3,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=t,h=se(t,dQe),p=i/14,f=d||(m=>`${m/u*p}rem`),v=(m,C,y,w,T)=>b({fontFamily:n,fontWeight:m,fontSize:f(C),lineHeight:y},n===t3?{letterSpacing:`${hQe(w/C)}em`}:{},T,c),g={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(s,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(s,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(s,14,1.75,.4,e3),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,e3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vo(b({htmlFontSize:u,pxToRem:f,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},g),h,{clone:!1})}const fQe=.2,vQe=.14,gQe=.12;function In(...r){return[`${r[0]}px ${r[1]}px ${r[2]}px ${r[3]}px rgba(0,0,0,${fQe})`,`${r[4]}px ${r[5]}px ${r[6]}px ${r[7]}px rgba(0,0,0,${vQe})`,`${r[8]}px ${r[9]}px ${r[10]}px ${r[11]}px rgba(0,0,0,${gQe})`].join(",")}const mQe=["none",In(0,2,1,-1,0,1,1,0,0,1,3,0),In(0,3,1,-2,0,2,2,0,0,1,5,0),In(0,3,3,-2,0,3,4,0,0,1,8,0),In(0,2,4,-1,0,4,5,0,0,1,10,0),In(0,3,5,-1,0,5,8,0,0,1,14,0),In(0,3,5,-1,0,6,10,0,0,1,18,0),In(0,4,5,-2,0,7,10,1,0,2,16,1),In(0,5,5,-3,0,8,10,1,0,3,14,2),In(0,5,6,-3,0,9,12,1,0,3,16,2),In(0,6,6,-3,0,10,14,1,0,4,18,3),In(0,6,7,-4,0,11,15,1,0,4,20,3),In(0,7,8,-4,0,12,17,2,0,5,22,4),In(0,7,8,-4,0,13,19,2,0,5,24,4),In(0,7,9,-4,0,14,21,2,0,5,26,4),In(0,8,9,-5,0,15,22,2,0,6,28,5),In(0,8,10,-5,0,16,24,2,0,6,30,5),In(0,8,11,-5,0,17,26,2,0,6,32,5),In(0,9,11,-5,0,18,28,2,0,7,34,6),In(0,9,12,-6,0,19,29,2,0,7,36,6),In(0,10,13,-6,0,20,31,3,0,8,38,7),In(0,10,13,-6,0,21,33,3,0,8,40,7),In(0,10,14,-6,0,22,35,3,0,8,42,7),In(0,11,14,-7,0,23,36,3,0,9,44,8),In(0,11,15,-7,0,24,38,3,0,9,46,8)],_Qe=["duration","easing","delay"],CQe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},yQe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function r3(r){return`${Math.round(r)}ms`}function SQe(r){if(!r)return 0;const e=r/36;return Math.round((4+15*e**.25+e/5)*10)}function wQe(r){const e=b({},CQe,r.easing),t=b({},yQe,r.duration);return b({getAutoHeightDuration:SQe,create:(i=["all"],o={})=>{const{duration:a=t.standard,easing:s=e.easeInOut,delay:l=0}=o;return se(o,_Qe),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:r3(a)} ${s} ${typeof l=="string"?l:r3(l)}`).join(",")}},r,{easing:e,duration:t})}const bQe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},EQe=bQe,xQe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function gne(r={},...e){const{mixins:t={},palette:n={},transitions:i={},typography:o={}}=r,a=se(r,xQe);if(r.vars)throw new Error(ku(18));const s=cQe(n),l=my(r);let u=vo(l,{mixins:WXe(l.breakpoints,t),palette:s,shadows:mQe.slice(),typography:pQe(s,o),transitions:wQe(i),zIndex:b({},EQe)});return u=vo(u,a),u=e.reduce((c,d)=>vo(c,d),u),u.unstable_sxConfig=b({},gy,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return Lv({sx:d,theme:this})},u}function IQe(r){return String(r).match(/[\d.\-+]*\s*(.*)/)[1]||""}function TQe(r){return parseFloat(r)}const RQe=gne(),PI=RQe;function Xu(){const r=_I(PI);return r[py]||r}function qt({props:r,name:e}){return rne({props:r,name:e,defaultTheme:PI,themeId:py})}var Cy={},CA={exports:{}},n3;function OQe(){return n3||(n3=1,function(r){function e(t,n){if(t==null)return{};var i={},o=Object.keys(t),a,s;for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&(i[a]=t[a]);return i}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(CA)),CA.exports}const mne=Hu(q8e),DQe=Hu(Y8e),AQe=Hu(r7e),PQe=Hu(oXe),MQe=Hu(z7e),FQe=Hu(Q7e);var Vv=une;Object.defineProperty(Cy,"__esModule",{value:!0});var LQe=Cy.default=qQe;Cy.shouldForwardProp=xb;Cy.systemDefaultTheme=void 0;var Qa=Vv(Bre()),uF=Vv(OQe()),i3=$Qe(mne),NQe=DQe;Vv(AQe);Vv(PQe);var kQe=Vv(MQe),VQe=Vv(FQe);const BQe=["ownerState"],HQe=["variants"],GQe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _ne(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(_ne=function(n){return n?t:e})(r)}function $Qe(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var t=_ne(e);if(t&&t.has(r))return t.get(r);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in r)if(o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)){var a=i?Object.getOwnPropertyDescriptor(r,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=r[o]}return n.default=r,t&&t.set(r,n),n}function WQe(r){return Object.keys(r).length===0}function zQe(r){return typeof r=="string"&&r.charCodeAt(0)>96}function xb(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const UQe=Cy.systemDefaultTheme=(0,kQe.default)(),jQe=r=>r&&r.charAt(0).toLowerCase()+r.slice(1);function Rw({defaultTheme:r,theme:e,themeId:t}){return WQe(e)?r:e[t]||e}function KQe(r){return r?(e,t)=>t[r]:null}function Ib(r,e){let{ownerState:t}=e,n=(0,uF.default)(e,BQe);const i=typeof r=="function"?r((0,Qa.default)({ownerState:t},n)):r;if(Array.isArray(i))return i.flatMap(o=>Ib(o,(0,Qa.default)({ownerState:t},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=(0,uF.default)(i,HQe);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,Qa.default)({ownerState:t},n,t)):Object.keys(l.props).forEach(c=>{(t==null?void 0:t[c])!==l.props[c]&&n[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style((0,Qa.default)({ownerState:t},n,t)):l.style))}),s}return i}function qQe(r={}){const{themeId:e,defaultTheme:t=UQe,rootShouldForwardProp:n=xb,slotShouldForwardProp:i=xb}=r,o=a=>(0,VQe.default)((0,Qa.default)({},a,{theme:Rw((0,Qa.default)({},a,{defaultTheme:t,themeId:e}))}));return o.__mui_systemSx=!0,(a,s={})=>{(0,i3.internal_processStyles)(a,T=>T.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=KQe(jQe(u))}=s,p=(0,uF.default)(s,GQe),f=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let g,m=xb;u==="Root"||u==="root"?m=n:u?m=i:zQe(a)&&(m=void 0);const C=(0,i3.default)(a,(0,Qa.default)({shouldForwardProp:m,label:g},p)),y=T=>typeof T=="function"&&T.__emotion_real!==T||(0,NQe.isPlainObject)(T)?S=>Ib(T,(0,Qa.default)({},S,{theme:Rw({theme:S.theme,defaultTheme:t,themeId:e})})):T,w=(T,...S)=>{let x=y(T);const I=S?S.map(y):[];l&&h&&I.push(A=>{const V=Rw((0,Qa.default)({},A,{defaultTheme:t,themeId:e}));if(!V.components||!V.components[l]||!V.components[l].styleOverrides)return null;const F=V.components[l].styleOverrides,P={};return Object.entries(F).forEach(([M,N])=>{P[M]=Ib(N,(0,Qa.default)({},A,{theme:V}))}),h(A,P)}),l&&!f&&I.push(A=>{var V;const F=Rw((0,Qa.default)({},A,{defaultTheme:t,themeId:e})),P=F==null||(V=F.components)==null||(V=V[l])==null?void 0:V.variants;return Ib({variants:P},(0,Qa.default)({},A,{theme:F}))}),v||I.push(o);const R=I.length-S.length;if(Array.isArray(T)&&R>0){const A=new Array(R).fill("");x=[...T,...A],x.raw=[...T.raw,...A]}const D=C(x,...I);return a.muiName&&(D.muiName=a.muiName),D};return C.withConfig&&(w.withConfig=C.withConfig),w}}function Cne(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const YQe=r=>Cne(r)&&r!=="classes",eo=YQe,be=LQe({themeId:py,defaultTheme:PI,rootShouldForwardProp:eo}),o3=r=>{let e;return r<1?e=5.11916*r**2:e=4.5*Math.log(r+1)+2,(e/100).toFixed(2)};function XQe(r){return Gt("MuiSvgIcon",r)}Bt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const QQe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ZQe=r=>{const{color:e,fontSize:t,classes:n}=r,i={root:["root",e!=="inherit"&&`color${Te(e)}`,`fontSize${Te(t)}`]};return tt(i,XQe,n)},JQe=be("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.color!=="inherit"&&e[`color${Te(t.color)}`],e[`fontSize${Te(t.fontSize)}`]]}})(({theme:r,ownerState:e})=>{var t,n,i,o,a,s,l,u,c,d,h,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=r.transitions)==null||(n=t.create)==null?void 0:n.call(t,"fill",{duration:(i=r.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=r.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=r.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((u=r.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(r.vars||r).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(r.vars||r).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(f=(r.vars||r).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[e.color]}}),cF=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,p=se(n,QQe),f=_.isValidElement(i)&&i.type==="svg",v=b({},n,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:f}),g={};c||(g.viewBox=h);const m=ZQe(v);return O.jsxs(JQe,b({as:s,className:Ae(m.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:t},g,p,f&&i.props,{ownerState:v,children:[f?i.props.children:i,d?O.jsx("title",{children:d}):null]}))});cF.muiName="SvgIcon";function dr(r,e){function t(n,i){return O.jsx(cF,b({"data-testid":`${e}Icon`,ref:i},n,{children:r}))}return t.muiName=cF.muiName,_.memo(_.forwardRef(t))}var un={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JV=Symbol.for("react.element"),eB=Symbol.for("react.portal"),MI=Symbol.for("react.fragment"),FI=Symbol.for("react.strict_mode"),LI=Symbol.for("react.profiler"),NI=Symbol.for("react.provider"),kI=Symbol.for("react.context"),eZe=Symbol.for("react.server_context"),VI=Symbol.for("react.forward_ref"),BI=Symbol.for("react.suspense"),HI=Symbol.for("react.suspense_list"),GI=Symbol.for("react.memo"),$I=Symbol.for("react.lazy"),tZe=Symbol.for("react.offscreen"),yne;yne=Symbol.for("react.module.reference");function Es(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case JV:switch(r=r.type,r){case MI:case LI:case FI:case BI:case HI:return r;default:switch(r=r&&r.$$typeof,r){case eZe:case kI:case VI:case $I:case GI:case NI:return r;default:return e}}case eB:return e}}}un.ContextConsumer=kI;un.ContextProvider=NI;un.Element=JV;un.ForwardRef=VI;un.Fragment=MI;un.Lazy=$I;un.Memo=GI;un.Portal=eB;un.Profiler=LI;un.StrictMode=FI;un.Suspense=BI;un.SuspenseList=HI;un.isAsyncMode=function(){return!1};un.isConcurrentMode=function(){return!1};un.isContextConsumer=function(r){return Es(r)===kI};un.isContextProvider=function(r){return Es(r)===NI};un.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===JV};un.isForwardRef=function(r){return Es(r)===VI};un.isFragment=function(r){return Es(r)===MI};un.isLazy=function(r){return Es(r)===$I};un.isMemo=function(r){return Es(r)===GI};un.isPortal=function(r){return Es(r)===eB};un.isProfiler=function(r){return Es(r)===LI};un.isStrictMode=function(r){return Es(r)===FI};un.isSuspense=function(r){return Es(r)===BI};un.isSuspenseList=function(r){return Es(r)===HI};un.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===MI||r===LI||r===FI||r===BI||r===HI||r===tZe||typeof r=="object"&&r!==null&&(r.$$typeof===$I||r.$$typeof===GI||r.$$typeof===NI||r.$$typeof===kI||r.$$typeof===VI||r.$$typeof===yne||r.getModuleId!==void 0)};un.typeOf=Es;function tB(r){return qt}function dF(r,e){return dF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dF(r,e)}function Sne(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,dF(r,e)}const a3={disabled:!1},sx=Uo.createContext(null);var rZe=function(e){return e.scrollTop},Pm="unmounted",Wd="exited",zd="entering",Sf="entered",hF="exiting",Qu=function(r){Sne(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var a=i,s=a&&!a.isMounting?n.enter:n.appear,l;return o.appearStatus=null,n.in?s?(l=Wd,o.appearStatus=zd):l=Sf:n.unmountOnExit||n.mountOnEnter?l=Pm:l=Wd,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Pm?{status:Wd}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==zd&&a!==Sf&&(o=zd):(a===zd||a===Sf)&&(o=hF)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===zd){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Oy.findDOMNode(this);a&&rZe(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wd&&this.setState({status:Pm})},t.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[Oy.findDOMNode(this),s],u=l[0],c=l[1],d=this.getTimeouts(),h=s?d.appear:d.enter;if(!i&&!a||a3.disabled){this.safeSetState({status:Sf},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:zd},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:Sf},function(){o.props.onEntered(u,c)})})})},t.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:Oy.findDOMNode(this);if(!o||a3.disabled){this.safeSetState({status:Wd},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:hF},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Wd},function(){i.props.onExited(s)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Oy.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Pm)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=se(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Uo.createElement(sx.Provider,{value:null},typeof a=="function"?a(i,s):Uo.cloneElement(Uo.Children.only(a),s))},e}(Uo.Component);Qu.contextType=sx;Qu.propTypes={};function sf(){}Qu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sf,onEntering:sf,onEntered:sf,onExit:sf,onExiting:sf,onExited:sf};Qu.UNMOUNTED=Pm;Qu.EXITED=Wd;Qu.ENTERING=zd;Qu.ENTERED=Sf;Qu.EXITING=hF;const wne=Qu;function nZe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rB(r,e){var t=function(o){return e&&_.isValidElement(o)?e(o):o},n=Object.create(null);return r&&_.Children.map(r,function(i){return i}).forEach(function(i){n[i.key]=t(i)}),n}function iZe(r,e){r=r||{},e=e||{};function t(c){return c in e?e[c]:r[c]}var n=Object.create(null),i=[];for(var o in r)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var a,s={};for(var l in e){if(n[l])for(a=0;a<n[l].length;a++){var u=n[l][a];s[n[l][a]]=t(u)}s[l]=t(l)}for(a=0;a<i.length;a++)s[i[a]]=t(i[a]);return s}function hh(r,e,t){return t[e]!=null?t[e]:r.props[e]}function oZe(r,e){return rB(r.children,function(t){return _.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:hh(t,"appear",r),enter:hh(t,"enter",r),exit:hh(t,"exit",r)})})}function aZe(r,e,t){var n=rB(r.children),i=iZe(e,n);return Object.keys(i).forEach(function(o){var a=i[o];if(_.isValidElement(a)){var s=o in e,l=o in n,u=e[o],c=_.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[o]=_.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:hh(a,"exit",r),enter:hh(a,"enter",r)}):!l&&s&&!c?i[o]=_.cloneElement(a,{in:!1}):l&&s&&_.isValidElement(u)&&(i[o]=_.cloneElement(a,{onExited:t.bind(null,a),in:u.props.in,exit:hh(a,"exit",r),enter:hh(a,"enter",r)}))}}),i}var sZe=Object.values||function(r){return Object.keys(r).map(function(e){return r[e]})},lZe={component:"div",childFactory:function(e){return e}},nB=function(r){Sne(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var a=o.handleExited.bind(nZe(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?oZe(i,s):aZe(i,a,s),firstRender:!1}},t.handleExited=function(i,o){var a=rB(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=b({},s.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=se(i,["component","childFactory"]),l=this.state.contextValue,u=sZe(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?Uo.createElement(sx.Provider,{value:l},u):Uo.createElement(sx.Provider,{value:l},Uo.createElement(o,s,u))},e}(Uo.Component);nB.propTypes={};nB.defaultProps=lZe;const uZe=nB,bne=r=>r.scrollTop;function lx(r,e){var t,n;const{timeout:i,easing:o,style:a={}}=r;return{duration:(t=a.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(n=a.transitionTimingFunction)!=null?n:typeof o=="object"?o[e.mode]:o,delay:a.transitionDelay}}function cZe(r){return Gt("MuiPaper",r)}Bt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const dZe=["className","component","elevation","square","variant"],hZe=r=>{const{square:e,elevation:t,variant:n,classes:i}=r,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${t}`]};return tt(o,cZe,i)},pZe=be("div",{name:"MuiPaper",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:r,ownerState:e})=>{var t;return b({backgroundColor:(r.vars||r).palette.background.paper,color:(r.vars||r).palette.text.primary,transition:r.transitions.create("box-shadow")},!e.square&&{borderRadius:r.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(r.vars||r).palette.divider}`},e.variant==="elevation"&&b({boxShadow:(r.vars||r).shadows[e.elevation]},!r.vars&&r.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ir("#fff",o3(e.elevation))}, ${Ir("#fff",o3(e.elevation))})`},r.vars&&{backgroundImage:(t=r.vars.overlays)==null?void 0:t[e.elevation]}))}),fZe=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation"}=n,u=se(n,dZe),c=b({},n,{component:o,elevation:a,square:s,variant:l}),d=hZe(c);return O.jsx(pZe,b({as:o,ownerState:c,className:Ae(d.root,i),ref:t},u))}),yy=fZe;function sC(r){return typeof r=="string"}function Mm(r,e,t){return r===void 0||sC(r)?e:b({},e,{ownerState:b({},e.ownerState,t)})}const vZe={disableDefaultClasses:!1},gZe=_.createContext(vZe);function mZe(r){const{disableDefaultClasses:e}=_.useContext(gZe);return t=>e?"":r(t)}function Ene(r,e=[]){if(r===void 0)return{};const t={};return Object.keys(r).filter(n=>n.match(/^on[A-Z]/)&&typeof r[n]=="function"&&!e.includes(n)).forEach(n=>{t[n]=r[n]}),t}function _Ze(r,e,t){return typeof r=="function"?r(e,t):r}function s3(r){if(r===void 0)return{};const e={};return Object.keys(r).filter(t=>!(t.match(/^on[A-Z]/)&&typeof r[t]=="function")).forEach(t=>{e[t]=r[t]}),e}function CZe(r){const{getSlotProps:e,additionalProps:t,externalSlotProps:n,externalForwardedProps:i,className:o}=r;if(!e){const p=Ae(t==null?void 0:t.className,o,i==null?void 0:i.className,n==null?void 0:n.className),f=b({},t==null?void 0:t.style,i==null?void 0:i.style,n==null?void 0:n.style),v=b({},t,i,n);return p.length>0&&(v.className=p),Object.keys(f).length>0&&(v.style=f),{props:v,internalRef:void 0}}const a=Ene(b({},i,n)),s=s3(n),l=s3(i),u=e(a),c=Ae(u==null?void 0:u.className,t==null?void 0:t.className,o,i==null?void 0:i.className,n==null?void 0:n.className),d=b({},u==null?void 0:u.style,t==null?void 0:t.style,i==null?void 0:i.style,n==null?void 0:n.style),h=b({},u,t,l,s);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const yZe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ka(r){var e;const{elementType:t,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:o=!1}=r,a=se(r,yZe),s=o?{}:_Ze(n,i),{props:l,internalRef:u}=CZe(b({},a,{externalSlotProps:s})),c=ln(u,s==null?void 0:s.ref,(e=r.additionalProps)==null?void 0:e.ref);return Mm(t,b({},l,{ref:c}),i)}function SZe(r){const{className:e,classes:t,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:u}=r,[c,d]=_.useState(!1),h=Ae(e,t.ripple,t.rippleVisible,n&&t.ripplePulsate),p={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},f=Ae(t.child,c&&t.childLeaving,n&&t.childPulsate);return!s&&!c&&d(!0),_.useEffect(()=>{if(!s&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,s,u]),O.jsx("span",{className:h,style:p,children:O.jsx("span",{className:f})})}const es=Bt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),wZe=["center","classes","className"];let WI=r=>r,l3,u3,c3,d3;const pF=550,bZe=80,EZe=yd(l3||(l3=WI`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),xZe=yd(u3||(u3=WI`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),IZe=yd(c3||(c3=WI`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TZe=be("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),RZe=be(SZe,{name:"MuiTouchRipple",slot:"Ripple"})(d3||(d3=WI`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),es.rippleVisible,EZe,pF,({theme:r})=>r.transitions.easing.easeInOut,es.ripplePulsate,({theme:r})=>r.transitions.duration.shorter,es.child,es.childLeaving,xZe,pF,({theme:r})=>r.transitions.easing.easeInOut,es.childPulsate,IZe,({theme:r})=>r.transitions.easing.easeInOut),OZe=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=n,s=se(n,wZe),[l,u]=_.useState([]),c=_.useRef(0),d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.useRef(!1),p=kf(),f=_.useRef(null),v=_.useRef(null),g=_.useCallback(w=>{const{pulsate:T,rippleX:S,rippleY:x,rippleSize:I,cb:R}=w;u(D=>[...D,O.jsx(RZe,{classes:{ripple:Ae(o.ripple,es.ripple),rippleVisible:Ae(o.rippleVisible,es.rippleVisible),ripplePulsate:Ae(o.ripplePulsate,es.ripplePulsate),child:Ae(o.child,es.child),childLeaving:Ae(o.childLeaving,es.childLeaving),childPulsate:Ae(o.childPulsate,es.childPulsate)},timeout:pF,pulsate:T,rippleX:S,rippleY:x,rippleSize:I},c.current)]),c.current+=1,d.current=R},[o]),m=_.useCallback((w={},T={},S=()=>{})=>{const{pulsate:x=!1,center:I=i||T.pulsate,fakeElement:R=!1}=T;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const D=R?null:v.current,A=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,F,P;if(I||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)V=Math.round(A.width/2),F=Math.round(A.height/2);else{const{clientX:M,clientY:N}=w.touches&&w.touches.length>0?w.touches[0]:w;V=Math.round(M-A.left),F=Math.round(N-A.top)}if(I)P=Math.sqrt((2*A.width**2+A.height**2)/3),P%2===0&&(P+=1);else{const M=Math.max(Math.abs((D?D.clientWidth:0)-V),V)*2+2,N=Math.max(Math.abs((D?D.clientHeight:0)-F),F)*2+2;P=Math.sqrt(M**2+N**2)}w!=null&&w.touches?f.current===null&&(f.current=()=>{g({pulsate:x,rippleX:V,rippleY:F,rippleSize:P,cb:S})},p.start(bZe,()=>{f.current&&(f.current(),f.current=null)})):g({pulsate:x,rippleX:V,rippleY:F,rippleSize:P,cb:S})},[i,g,p]),C=_.useCallback(()=>{m({},{pulsate:!0})},[m]),y=_.useCallback((w,T)=>{if(p.clear(),(w==null?void 0:w.type)==="touchend"&&f.current){f.current(),f.current=null,p.start(0,()=>{y(w,T)});return}f.current=null,u(S=>S.length>0?S.slice(1):S),d.current=T},[p]);return _.useImperativeHandle(t,()=>({pulsate:C,start:m,stop:y}),[C,m,y]),O.jsx(TZe,b({className:Ae(es.root,o.root,a),ref:v},s,{children:O.jsx(uZe,{component:null,exit:!0,children:l})}))}),DZe=OZe;function AZe(r){return Gt("MuiButtonBase",r)}const PZe=Bt("MuiButtonBase",["root","disabled","focusVisible"]),MZe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],FZe=r=>{const{disabled:e,focusVisible:t,focusVisibleClassName:n,classes:i}=r,a=tt({root:["root",e&&"disabled",t&&"focusVisible"]},AZe,i);return t&&n&&(a.root+=` ${n}`),a},LZe=be("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${PZe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),NZe=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:v,onContextMenu:g,onDragLeave:m,onFocus:C,onFocusVisible:y,onKeyDown:w,onKeyUp:T,onMouseDown:S,onMouseLeave:x,onMouseUp:I,onTouchEnd:R,onTouchMove:D,onTouchStart:A,tabIndex:V=0,TouchRippleProps:F,touchRippleRef:P,type:M}=n,N=se(n,MZe),H=_.useRef(null),G=_.useRef(null),z=ln(G,P),{isFocusVisibleRef:j,onFocus:q,onBlur:K,ref:ie}=one(),[ee,te]=_.useState(!1);u&&ee&&te(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{te(!0),H.current.focus()}}),[]);const[de,Se]=_.useState(!1);_.useEffect(()=>{Se(!0)},[]);const Me=de&&!c&&!u;_.useEffect(()=>{ee&&h&&!c&&de&&G.current.pulsate()},[c,h,ee,de]);function De(Pe,_t,lr=d){return cn($t=>(_t&&_t($t),!lr&&G.current&&G.current[Pe]($t),!0))}const ze=De("start",S),he=De("stop",g),ke=De("stop",m),Oe=De("stop",I),je=De("stop",Pe=>{ee&&Pe.preventDefault(),x&&x(Pe)}),xe=De("start",A),ae=De("stop",R),Ie=De("stop",D),me=De("stop",Pe=>{K(Pe),j.current===!1&&te(!1),f&&f(Pe)},!1),nt=cn(Pe=>{H.current||(H.current=Pe.currentTarget),q(Pe),j.current===!0&&(te(!0),y&&y(Pe)),C&&C(Pe)}),He=()=>{const Pe=H.current;return l&&l!=="button"&&!(Pe.tagName==="A"&&Pe.href)},Ue=_.useRef(!1),Ge=cn(Pe=>{h&&!Ue.current&&ee&&G.current&&Pe.key===" "&&(Ue.current=!0,G.current.stop(Pe,()=>{G.current.start(Pe)})),Pe.target===Pe.currentTarget&&He()&&Pe.key===" "&&Pe.preventDefault(),w&&w(Pe),Pe.target===Pe.currentTarget&&He()&&Pe.key==="Enter"&&!u&&(Pe.preventDefault(),v&&v(Pe))}),ge=cn(Pe=>{h&&Pe.key===" "&&G.current&&ee&&!Pe.defaultPrevented&&(Ue.current=!1,G.current.stop(Pe,()=>{G.current.pulsate(Pe)})),T&&T(Pe),v&&Pe.target===Pe.currentTarget&&He()&&Pe.key===" "&&!Pe.defaultPrevented&&v(Pe)});let _e=l;_e==="button"&&(N.href||N.to)&&(_e=p);const Ve={};_e==="button"?(Ve.type=M===void 0?"button":M,Ve.disabled=u):(!N.href&&!N.to&&(Ve.role="button"),u&&(Ve["aria-disabled"]=u));const Je=ln(t,ie,H),vt=b({},n,{centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:V,focusVisible:ee}),ct=FZe(vt);return O.jsxs(LZe,b({as:_e,className:Ae(ct.root,s),ownerState:vt,onBlur:me,onClick:v,onContextMenu:he,onFocus:nt,onKeyDown:Ge,onKeyUp:ge,onMouseDown:ze,onMouseLeave:je,onMouseUp:Oe,onDragLeave:ke,onTouchEnd:ae,onTouchMove:Ie,onTouchStart:xe,ref:Je,tabIndex:u?-1:V,type:M},Ve,N,{children:[a,Me?O.jsx(DZe,b({ref:z,center:o},F)):null]}))}),sd=NZe;function kZe(r){return Gt("MuiIconButton",r)}const VZe=Bt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),BZe=["edge","children","className","color","disabled","disableFocusRipple","size"],HZe=r=>{const{classes:e,disabled:t,color:n,edge:i,size:o}=r,a={root:["root",t&&"disabled",n!=="default"&&`color${Te(n)}`,i&&`edge${Te(i)}`,`size${Te(o)}`]};return tt(a,kZe,e)},GZe=be(sd,{name:"MuiIconButton",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.color!=="default"&&e[`color${Te(t.color)}`],t.edge&&e[`edge${Te(t.edge)}`],e[`size${Te(t.size)}`]]}})(({theme:r,ownerState:e})=>b({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:r,ownerState:e})=>{var t;const n=(t=(r.vars||r).palette)==null?void 0:t[e.color];return b({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&b({color:n==null?void 0:n.main},!e.disableRipple&&{"&:hover":b({},n&&{backgroundColor:r.vars?`rgba(${n.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(n.main,r.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:r.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:r.typography.pxToRem(28)},{[`&.${VZe.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})}),$Ze=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=n,d=se(n,BZe),h=b({},n,{edge:i,color:s,disabled:l,disableFocusRipple:u,size:c}),p=HZe(h);return O.jsx(GZe,b({className:Ae(p.root,a),centerRipple:!0,focusRipple:!u,disabled:l,ref:t},d,{ownerState:h,children:o}))}),Bc=$Ze,WZe=dr(O.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function zZe(r){return Gt("MuiTypography",r)}Bt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const UZe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],jZe=r=>{const{align:e,gutterBottom:t,noWrap:n,paragraph:i,variant:o,classes:a}=r,s={root:["root",o,r.align!=="inherit"&&`align${Te(e)}`,t&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return tt(s,zZe,a)},KZe=be("span",{name:"MuiTypography",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Te(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:r,ownerState:e})=>b({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&r.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),h3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},qZe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},YZe=r=>qZe[r]||r,XZe=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiTypography"}),i=YZe(n.color),o=CI(b({},n,{color:i})),{align:a="inherit",className:s,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=h3}=o,f=se(o,UZe),v=b({},o,{align:a,color:i,className:s,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:p}),g=l||(d?"p":p[h]||h3[h])||"span",m=jZe(v);return O.jsx(KZe,b({as:g,ref:t,ownerState:v,className:Ae(m.root,s)},f))}),ph=XZe;function QZe(r){const{badgeContent:e,invisible:t=!1,max:n=99,showZero:i=!1}=r,o=KV({badgeContent:e,max:n});let a=t;t===!1&&e===0&&!i&&(a=!0);const{badgeContent:s,max:l=n}=a?o:r,u=s&&Number(s)>l?`${l}+`:s;return{badgeContent:s,invisible:a,max:l,displayValue:u}}const xne="base";function ZZe(r){return`${xne}--${r}`}function JZe(r,e){return`${xne}-${r}-${e}`}function Ine(r,e){const t=Qre[e];return t?ZZe(t):JZe(r,e)}function eJe(r,e){const t={};return e.forEach(n=>{t[n]=Ine(r,n)}),t}function p3(r){return r.substring(2).toLowerCase()}function tJe(r,e){return e.documentElement.clientWidth<r.clientX||e.documentElement.clientHeight<r.clientY}function Tne(r){const{children:e,disableReactTree:t=!1,mouseEvent:n="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=r,a=_.useRef(!1),s=_.useRef(null),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=ln(e.ref,s),d=cn(f=>{const v=u.current;u.current=!1;const g=An(s.current);if(!l.current||!s.current||"clientX"in f&&tJe(f,g))return;if(a.current){a.current=!1;return}let m;f.composedPath?m=f.composedPath().indexOf(s.current)>-1:m=!g.documentElement.contains(f.target)||s.current.contains(f.target),!m&&(t||!v)&&i(f)}),h=f=>v=>{u.current=!0;const g=e.props[f];g&&g(v)},p={ref:c};return o!==!1&&(p[o]=h(o)),_.useEffect(()=>{if(o!==!1){const f=p3(o),v=An(s.current),g=()=>{a.current=!0};return v.addEventListener(f,d),v.addEventListener("touchmove",g),()=>{v.removeEventListener(f,d),v.removeEventListener("touchmove",g)}}},[d,o]),n!==!1&&(p[n]=h(n)),_.useEffect(()=>{if(n!==!1){const f=p3(n),v=An(s.current);return v.addEventListener(f,d),()=>{v.removeEventListener(f,d)}}},[d,n]),O.jsx(_.Fragment,{children:_.cloneElement(e,p)})}const rJe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function nJe(r){const e=parseInt(r.getAttribute("tabindex")||"",10);return Number.isNaN(e)?r.contentEditable==="true"||(r.nodeName==="AUDIO"||r.nodeName==="VIDEO"||r.nodeName==="DETAILS")&&r.getAttribute("tabindex")===null?0:r.tabIndex:e}function iJe(r){if(r.tagName!=="INPUT"||r.type!=="radio"||!r.name)return!1;const e=n=>r.ownerDocument.querySelector(`input[type="radio"]${n}`);let t=e(`[name="${r.name}"]:checked`);return t||(t=e(`[name="${r.name}"]`)),t!==r}function oJe(r){return!(r.disabled||r.tagName==="INPUT"&&r.type==="hidden"||iJe(r))}function aJe(r){const e=[],t=[];return Array.from(r.querySelectorAll(rJe)).forEach((n,i)=>{const o=nJe(n);o===-1||!oJe(n)||(o===0?e.push(n):t.push({documentOrder:i,tabIndex:o,node:n}))}),t.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function sJe(){return!0}function Rne(r){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=aJe,isEnabled:a=sJe,open:s}=r,l=_.useRef(!1),u=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(!1),f=_.useRef(null),v=ln(e.ref,f),g=_.useRef(null);_.useEffect(()=>{!s||!f.current||(p.current=!t)},[t,s]),_.useEffect(()=>{if(!s||!f.current)return;const y=An(f.current);return f.current.contains(y.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[s]),_.useEffect(()=>{if(!s||!f.current)return;const y=An(f.current),w=x=>{g.current=x,!(n||!a()||x.key!=="Tab")&&y.activeElement===f.current&&x.shiftKey&&(l.current=!0,c.current&&c.current.focus())},T=()=>{const x=f.current;if(x===null)return;if(!y.hasFocus()||!a()||l.current){l.current=!1;return}if(x.contains(y.activeElement)||n&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let I=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(I=o(f.current)),I.length>0){var R,D;const A=!!((R=g.current)!=null&&R.shiftKey&&((D=g.current)==null?void 0:D.key)==="Tab"),V=I[0],F=I[I.length-1];typeof V!="string"&&typeof F!="string"&&(A?F.focus():V.focus())}else x.focus()};y.addEventListener("focusin",T),y.addEventListener("keydown",w,!0);const S=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(S),y.removeEventListener("focusin",T),y.removeEventListener("keydown",w,!0)}},[t,n,i,a,s,o]);const m=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0,h.current=y.target;const w=e.props.onFocus;w&&w(y)},C=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0};return O.jsxs(_.Fragment,{children:[O.jsx("div",{tabIndex:s?0:-1,onFocus:C,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(e,{ref:v,onFocus:m}),O.jsx("div",{tabIndex:s?0:-1,onFocus:C,ref:c,"data-testid":"sentinelEnd"})]})}function lJe(r){return typeof r=="function"?r():r}const One=_.forwardRef(function(e,t){const{children:n,container:i,disablePortal:o=!1}=e,[a,s]=_.useState(null),l=ln(_.isValidElement(n)?n.ref:null,t);if(sn(()=>{o||s(lJe(i)||document.body)},[i,o]),sn(()=>{if(a&&!o)return ox(t,a),()=>{ox(t,null)}},[t,a,o]),o){if(_.isValidElement(n)){const u={ref:l};return _.cloneElement(n,u)}return O.jsx(_.Fragment,{children:n})}return O.jsx(_.Fragment,{children:a&&Bu.createPortal(n,a)})});function uJe(r){const e=An(r);return e.body===r?Gl(r).innerWidth>e.documentElement.clientWidth:r.scrollHeight>r.clientHeight}function c_(r,e){e?r.setAttribute("aria-hidden","true"):r.removeAttribute("aria-hidden")}function f3(r){return parseInt(Gl(r).getComputedStyle(r).paddingRight,10)||0}function cJe(r){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(r.tagName)!==-1,n=r.tagName==="INPUT"&&r.getAttribute("type")==="hidden";return t||n}function v3(r,e,t,n,i){const o=[e,t,...n];[].forEach.call(r.children,a=>{const s=o.indexOf(a)===-1,l=!cJe(a);s&&l&&c_(a,i)})}function yA(r,e){let t=-1;return r.some((n,i)=>e(n)?(t=i,!0):!1),t}function dJe(r,e){const t=[],n=r.container;if(!e.disableScrollLock){if(uJe(n)){const a=ane(An(n));t.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${f3(n)+a}px`;const s=An(n).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${f3(l)+a}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=An(n).body;else{const a=n.parentElement,s=Gl(n);o=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:n}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:a,property:s})=>{o?a.style.setProperty(s,o):a.style.removeProperty(s)})}}function hJe(r){const e=[];return[].forEach.call(r.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class pJe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&c_(e.modalRef,!1);const i=hJe(t);v3(t,e.mount,e.modalRef,i,!0);const o=yA(this.containers,a=>a.container===t);return o!==-1?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}mount(e,t){const n=yA(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[n];i.restore||(i.restore=dJe(i,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=yA(this.containers,a=>a.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&c_(e.modalRef,t),v3(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&c_(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function fJe(r){return typeof r=="function"?r():r}function vJe(r){return r?r.props.hasOwnProperty("in"):!1}const gJe=new pJe;function mJe(r){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:n=!1,manager:i=gJe,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:u,open:c,rootRef:d}=r,h=_.useRef({}),p=_.useRef(null),f=_.useRef(null),v=ln(f,d),[g,m]=_.useState(!c),C=vJe(l);let y=!0;(r["aria-hidden"]==="false"||r["aria-hidden"]===!1)&&(y=!1);const w=()=>An(p.current),T=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),S=()=>{i.mount(T(),{disableScrollLock:n}),f.current&&(f.current.scrollTop=0)},x=cn(()=>{const N=fJe(e)||w().body;i.add(T(),N),f.current&&S()}),I=_.useCallback(()=>i.isTopModal(T()),[i]),R=cn(N=>{p.current=N,N&&(c&&I()?S():f.current&&c_(f.current,y))}),D=_.useCallback(()=>{i.remove(T(),y)},[y,i]);_.useEffect(()=>()=>{D()},[D]),_.useEffect(()=>{c?x():(!C||!o)&&D()},[c,D,C,o,x]);const A=N=>H=>{var G;(G=N.onKeyDown)==null||G.call(N,H),!(H.key!=="Escape"||H.which===229||!I())&&(t||(H.stopPropagation(),u&&u(H,"escapeKeyDown")))},V=N=>H=>{var G;(G=N.onClick)==null||G.call(N,H),H.target===H.currentTarget&&u&&u(H,"backdropClick")};return{getRootProps:(N={})=>{const H=Ene(r);delete H.onTransitionEnter,delete H.onTransitionExited;const G=b({},H,N);return b({role:"presentation"},G,{onKeyDown:A(G),ref:v})},getBackdropProps:(N={})=>{const H=N;return b({"aria-hidden":!0},H,{onClick:V(H),open:c})},getTransitionProps:()=>{const N=()=>{m(!1),a&&a()},H=()=>{m(!0),s&&s(),o&&D()};return{onEnter:sF(N,l==null?void 0:l.props.onEnter),onExited:sF(H,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:R,isTopModal:I,exited:g,hasTransition:C}}var Xo="top",vs="bottom",gs="right",Qo="left",iB="auto",Sy=[Xo,vs,gs,Qo],gv="start",lC="end",_Je="clippingParents",Dne="viewport",sm="popper",CJe="reference",g3=Sy.reduce(function(r,e){return r.concat([e+"-"+gv,e+"-"+lC])},[]),Ane=[].concat(Sy,[iB]).reduce(function(r,e){return r.concat([e,e+"-"+gv,e+"-"+lC])},[]),yJe="beforeRead",SJe="read",wJe="afterRead",bJe="beforeMain",EJe="main",xJe="afterMain",IJe="beforeWrite",TJe="write",RJe="afterWrite",OJe=[yJe,SJe,wJe,bJe,EJe,xJe,IJe,TJe,RJe];function $l(r){return r?(r.nodeName||"").toLowerCase():null}function Va(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function np(r){var e=Va(r).Element;return r instanceof e||r instanceof Element}function ds(r){var e=Va(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function oB(r){if(typeof ShadowRoot>"u")return!1;var e=Va(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function DJe(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!ds(o)||!$l(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function AJe(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),s=a.reduce(function(l,u){return l[u]="",l},{});!ds(i)||!$l(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const PJe={name:"applyStyles",enabled:!0,phase:"write",fn:DJe,effect:AJe,requires:["computeStyles"]};function Fl(r){return r.split("-")[0]}var Oh=Math.max,ux=Math.min,mv=Math.round;function fF(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Pne(){return!/^((?!chrome|android).)*safari/i.test(fF())}function _v(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=r.getBoundingClientRect(),i=1,o=1;e&&ds(r)&&(i=r.offsetWidth>0&&mv(n.width)/r.offsetWidth||1,o=r.offsetHeight>0&&mv(n.height)/r.offsetHeight||1);var a=np(r)?Va(r):window,s=a.visualViewport,l=!Pne()&&t,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/o,d=n.width/i,h=n.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function aB(r){var e=_v(r),t=r.offsetWidth,n=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:n}}function Mne(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&oB(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Vu(r){return Va(r).getComputedStyle(r)}function MJe(r){return["table","td","th"].indexOf($l(r))>=0}function Sd(r){return((np(r)?r.ownerDocument:r.document)||window.document).documentElement}function zI(r){return $l(r)==="html"?r:r.assignedSlot||r.parentNode||(oB(r)?r.host:null)||Sd(r)}function m3(r){return!ds(r)||Vu(r).position==="fixed"?null:r.offsetParent}function FJe(r){var e=/firefox/i.test(fF()),t=/Trident/i.test(fF());if(t&&ds(r)){var n=Vu(r);if(n.position==="fixed")return null}var i=zI(r);for(oB(i)&&(i=i.host);ds(i)&&["html","body"].indexOf($l(i))<0;){var o=Vu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function wy(r){for(var e=Va(r),t=m3(r);t&&MJe(t)&&Vu(t).position==="static";)t=m3(t);return t&&($l(t)==="html"||$l(t)==="body"&&Vu(t).position==="static")?e:t||FJe(r)||e}function sB(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function d_(r,e,t){return Oh(r,ux(e,t))}function LJe(r,e,t){var n=d_(r,e,t);return n>t?t:n}function Fne(){return{top:0,right:0,bottom:0,left:0}}function Lne(r){return Object.assign({},Fne(),r)}function Nne(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var NJe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Lne(typeof e!="number"?e:Nne(e,Sy))};function kJe(r){var e,t=r.state,n=r.name,i=r.options,o=t.elements.arrow,a=t.modifiersData.popperOffsets,s=Fl(t.placement),l=sB(s),u=[Qo,gs].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var d=NJe(i.padding,t),h=aB(o),p=l==="y"?Xo:Qo,f=l==="y"?vs:gs,v=t.rects.reference[c]+t.rects.reference[l]-a[l]-t.rects.popper[c],g=a[l]-t.rects.reference[l],m=wy(o),C=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,y=v/2-g/2,w=d[p],T=C-h[c]-d[f],S=C/2-h[c]/2+y,x=d_(w,S,T),I=l;t.modifiersData[n]=(e={},e[I]=x,e.centerOffset=x-S,e)}}function VJe(r){var e=r.state,t=r.options,n=t.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Mne(e.elements.popper,i)&&(e.elements.arrow=i))}const BJe={name:"arrow",enabled:!0,phase:"main",fn:kJe,effect:VJe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cv(r){return r.split("-")[1]}var HJe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GJe(r,e){var t=r.x,n=r.y,i=e.devicePixelRatio||1;return{x:mv(t*i)/i||0,y:mv(n*i)/i||0}}function _3(r){var e,t=r.popper,n=r.popperRect,i=r.placement,o=r.variation,a=r.offsets,s=r.position,l=r.gpuAcceleration,u=r.adaptive,c=r.roundOffsets,d=r.isFixed,h=a.x,p=h===void 0?0:h,f=a.y,v=f===void 0?0:f,g=typeof c=="function"?c({x:p,y:v}):{x:p,y:v};p=g.x,v=g.y;var m=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),y=Qo,w=Xo,T=window;if(u){var S=wy(t),x="clientHeight",I="clientWidth";if(S===Va(t)&&(S=Sd(t),Vu(S).position!=="static"&&s==="absolute"&&(x="scrollHeight",I="scrollWidth")),S=S,i===Xo||(i===Qo||i===gs)&&o===lC){w=vs;var R=d&&S===T&&T.visualViewport?T.visualViewport.height:S[x];v-=R-n.height,v*=l?1:-1}if(i===Qo||(i===Xo||i===vs)&&o===lC){y=gs;var D=d&&S===T&&T.visualViewport?T.visualViewport.width:S[I];p-=D-n.width,p*=l?1:-1}}var A=Object.assign({position:s},u&&HJe),V=c===!0?GJe({x:p,y:v},Va(t)):{x:p,y:v};if(p=V.x,v=V.y,l){var F;return Object.assign({},A,(F={},F[w]=C?"0":"",F[y]=m?"0":"",F.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",F))}return Object.assign({},A,(e={},e[w]=C?v+"px":"",e[y]=m?p+"px":"",e.transform="",e))}function $Je(r){var e=r.state,t=r.options,n=t.gpuAcceleration,i=n===void 0?!0:n,o=t.adaptive,a=o===void 0?!0:o,s=t.roundOffsets,l=s===void 0?!0:s,u={placement:Fl(e.placement),variation:Cv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_3(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_3(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const WJe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$Je,data:{}};var Ow={passive:!0};function zJe(r){var e=r.state,t=r.instance,n=r.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=Va(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",t.update,Ow)}),s&&l.addEventListener("resize",t.update,Ow),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",t.update,Ow)}),s&&l.removeEventListener("resize",t.update,Ow)}}const UJe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zJe,data:{}};var jJe={left:"right",right:"left",bottom:"top",top:"bottom"};function Tb(r){return r.replace(/left|right|bottom|top/g,function(e){return jJe[e]})}var KJe={start:"end",end:"start"};function C3(r){return r.replace(/start|end/g,function(e){return KJe[e]})}function lB(r){var e=Va(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function uB(r){return _v(Sd(r)).left+lB(r).scrollLeft}function qJe(r,e){var t=Va(r),n=Sd(r),i=t.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=Pne();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+uB(r),y:l}}function YJe(r){var e,t=Sd(r),n=lB(r),i=(e=r.ownerDocument)==null?void 0:e.body,o=Oh(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Oh(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+uB(r),l=-n.scrollTop;return Vu(i||t).direction==="rtl"&&(s+=Oh(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function cB(r){var e=Vu(r),t=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+n)}function kne(r){return["html","body","#document"].indexOf($l(r))>=0?r.ownerDocument.body:ds(r)&&cB(r)?r:kne(zI(r))}function h_(r,e){var t;e===void 0&&(e=[]);var n=kne(r),i=n===((t=r.ownerDocument)==null?void 0:t.body),o=Va(n),a=i?[o].concat(o.visualViewport||[],cB(n)?n:[]):n,s=e.concat(a);return i?s:s.concat(h_(zI(a)))}function vF(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function XJe(r,e){var t=_v(r,!1,e==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function y3(r,e,t){return e===Dne?vF(qJe(r,t)):np(e)?XJe(e,t):vF(YJe(Sd(r)))}function QJe(r){var e=h_(zI(r)),t=["absolute","fixed"].indexOf(Vu(r).position)>=0,n=t&&ds(r)?wy(r):r;return np(n)?e.filter(function(i){return np(i)&&Mne(i,n)&&$l(i)!=="body"}):[]}function ZJe(r,e,t,n){var i=e==="clippingParents"?QJe(r):[].concat(e),o=[].concat(i,[t]),a=o[0],s=o.reduce(function(l,u){var c=y3(r,u,n);return l.top=Oh(c.top,l.top),l.right=ux(c.right,l.right),l.bottom=ux(c.bottom,l.bottom),l.left=Oh(c.left,l.left),l},y3(r,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Vne(r){var e=r.reference,t=r.element,n=r.placement,i=n?Fl(n):null,o=n?Cv(n):null,a=e.x+e.width/2-t.width/2,s=e.y+e.height/2-t.height/2,l;switch(i){case Xo:l={x:a,y:e.y-t.height};break;case vs:l={x:a,y:e.y+e.height};break;case gs:l={x:e.x+e.width,y:s};break;case Qo:l={x:e.x-t.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?sB(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case gv:l[u]=l[u]-(e[c]/2-t[c]/2);break;case lC:l[u]=l[u]+(e[c]/2-t[c]/2);break}}return l}function uC(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=n===void 0?r.placement:n,o=t.strategy,a=o===void 0?r.strategy:o,s=t.boundary,l=s===void 0?_Je:s,u=t.rootBoundary,c=u===void 0?Dne:u,d=t.elementContext,h=d===void 0?sm:d,p=t.altBoundary,f=p===void 0?!1:p,v=t.padding,g=v===void 0?0:v,m=Lne(typeof g!="number"?g:Nne(g,Sy)),C=h===sm?CJe:sm,y=r.rects.popper,w=r.elements[f?C:h],T=ZJe(np(w)?w:w.contextElement||Sd(r.elements.popper),l,c,a),S=_v(r.elements.reference),x=Vne({reference:S,element:y,strategy:"absolute",placement:i}),I=vF(Object.assign({},y,x)),R=h===sm?I:S,D={top:T.top-R.top+m.top,bottom:R.bottom-T.bottom+m.bottom,left:T.left-R.left+m.left,right:R.right-T.right+m.right},A=r.modifiersData.offset;if(h===sm&&A){var V=A[i];Object.keys(D).forEach(function(F){var P=[gs,vs].indexOf(F)>=0?1:-1,M=[Xo,vs].indexOf(F)>=0?"y":"x";D[F]+=V[M]*P})}return D}function JJe(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=t.boundary,o=t.rootBoundary,a=t.padding,s=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?Ane:l,c=Cv(n),d=c?s?g3:g3.filter(function(f){return Cv(f)===c}):Sy,h=d.filter(function(f){return u.indexOf(f)>=0});h.length===0&&(h=d);var p=h.reduce(function(f,v){return f[v]=uC(r,{placement:v,boundary:i,rootBoundary:o,padding:a})[Fl(v)],f},{});return Object.keys(p).sort(function(f,v){return p[f]-p[v]})}function eet(r){if(Fl(r)===iB)return[];var e=Tb(r);return[C3(r),e,C3(e)]}function tet(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,a=t.altAxis,s=a===void 0?!0:a,l=t.fallbackPlacements,u=t.padding,c=t.boundary,d=t.rootBoundary,h=t.altBoundary,p=t.flipVariations,f=p===void 0?!0:p,v=t.allowedAutoPlacements,g=e.options.placement,m=Fl(g),C=m===g,y=l||(C||!f?[Tb(g)]:eet(g)),w=[g].concat(y).reduce(function(ee,te){return ee.concat(Fl(te)===iB?JJe(e,{placement:te,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:v}):te)},[]),T=e.rects.reference,S=e.rects.popper,x=new Map,I=!0,R=w[0],D=0;D<w.length;D++){var A=w[D],V=Fl(A),F=Cv(A)===gv,P=[Xo,vs].indexOf(V)>=0,M=P?"width":"height",N=uC(e,{placement:A,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),H=P?F?gs:Qo:F?vs:Xo;T[M]>S[M]&&(H=Tb(H));var G=Tb(H),z=[];if(o&&z.push(N[V]<=0),s&&z.push(N[H]<=0,N[G]<=0),z.every(function(ee){return ee})){R=A,I=!1;break}x.set(A,z)}if(I)for(var j=f?3:1,q=function(te){var de=w.find(function(Se){var Me=x.get(Se);if(Me)return Me.slice(0,te).every(function(De){return De})});if(de)return R=de,"break"},K=j;K>0;K--){var ie=q(K);if(ie==="break")break}e.placement!==R&&(e.modifiersData[n]._skip=!0,e.placement=R,e.reset=!0)}}const ret={name:"flip",enabled:!0,phase:"main",fn:tet,requiresIfExists:["offset"],data:{_skip:!1}};function S3(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function w3(r){return[Xo,gs,vs,Qo].some(function(e){return r[e]>=0})}function net(r){var e=r.state,t=r.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=uC(e,{elementContext:"reference"}),s=uC(e,{altBoundary:!0}),l=S3(a,n),u=S3(s,i,o),c=w3(l),d=w3(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const iet={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:net};function oet(r,e,t){var n=Fl(r),i=[Qo,Xo].indexOf(n)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Qo,gs].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function aet(r){var e=r.state,t=r.options,n=r.name,i=t.offset,o=i===void 0?[0,0]:i,a=Ane.reduce(function(c,d){return c[d]=oet(d,e.rects,o),c},{}),s=a[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const set={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:aet};function uet(r){var e=r.state,t=r.name;e.modifiersData[t]=Vne({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const cet={name:"popperOffsets",enabled:!0,phase:"read",fn:uet,data:{}};function det(r){return r==="x"?"y":"x"}function het(r){var e=r.state,t=r.options,n=r.name,i=t.mainAxis,o=i===void 0?!0:i,a=t.altAxis,s=a===void 0?!1:a,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,d=t.padding,h=t.tether,p=h===void 0?!0:h,f=t.tetherOffset,v=f===void 0?0:f,g=uC(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=Fl(e.placement),C=Cv(e.placement),y=!C,w=sB(m),T=det(w),S=e.modifiersData.popperOffsets,x=e.rects.reference,I=e.rects.popper,R=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,D=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(S){if(o){var F,P=w==="y"?Xo:Qo,M=w==="y"?vs:gs,N=w==="y"?"height":"width",H=S[w],G=H+g[P],z=H-g[M],j=p?-I[N]/2:0,q=C===gv?x[N]:I[N],K=C===gv?-I[N]:-x[N],ie=e.elements.arrow,ee=p&&ie?aB(ie):{width:0,height:0},te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Fne(),de=te[P],Se=te[M],Me=d_(0,x[N],ee[N]),De=y?x[N]/2-j-Me-de-D.mainAxis:q-Me-de-D.mainAxis,ze=y?-x[N]/2+j+Me+Se+D.mainAxis:K+Me+Se+D.mainAxis,he=e.elements.arrow&&wy(e.elements.arrow),ke=he?w==="y"?he.clientTop||0:he.clientLeft||0:0,Oe=(F=A==null?void 0:A[w])!=null?F:0,je=H+De-Oe-ke,xe=H+ze-Oe,ae=d_(p?ux(G,je):G,H,p?Oh(z,xe):z);S[w]=ae,V[w]=ae-H}if(s){var Ie,me=w==="x"?Xo:Qo,nt=w==="x"?vs:gs,He=S[T],Ue=T==="y"?"height":"width",Ge=He+g[me],ge=He-g[nt],_e=[Xo,Qo].indexOf(m)!==-1,Ve=(Ie=A==null?void 0:A[T])!=null?Ie:0,Je=_e?Ge:He-x[Ue]-I[Ue]-Ve+D.altAxis,vt=_e?He+x[Ue]+I[Ue]-Ve-D.altAxis:ge,ct=p&&_e?LJe(Je,He,vt):d_(p?Je:Ge,He,p?vt:ge);S[T]=ct,V[T]=ct-He}e.modifiersData[n]=V}}const pet={name:"preventOverflow",enabled:!0,phase:"main",fn:het,requiresIfExists:["offset"]};function fet(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function vet(r){return r===Va(r)||!ds(r)?lB(r):fet(r)}function get(r){var e=r.getBoundingClientRect(),t=mv(e.width)/r.offsetWidth||1,n=mv(e.height)/r.offsetHeight||1;return t!==1||n!==1}function met(r,e,t){t===void 0&&(t=!1);var n=ds(e),i=ds(e)&&get(e),o=Sd(e),a=_v(r,i,t),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&(($l(e)!=="body"||cB(o))&&(s=vet(e)),ds(e)?(l=_v(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=uB(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function _et(r){var e=new Map,t=new Set,n=[];r.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!t.has(s)){var l=e.get(s);l&&i(l)}}),n.push(o)}return r.forEach(function(o){t.has(o.name)||i(o)}),n}function Cet(r){var e=_et(r);return OJe.reduce(function(t,n){return t.concat(e.filter(function(i){return i.phase===n}))},[])}function yet(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function wet(r){var e=r.reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var b3={placement:"bottom",modifiers:[],strategy:"absolute"};function E3(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function bet(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?b3:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},b3,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(m){var C=typeof m=="function"?m(c.options):m;v(),c.options=Object.assign({},o,c.options,C),c.scrollParents={reference:np(s)?h_(s):s.contextElement?h_(s.contextElement):[],popper:h_(l)};var y=Cet(wet([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(w){return w.enabled}),f(),p.update()},forceUpdate:function(){if(!h){var m=c.elements,C=m.reference,y=m.popper;if(E3(C,y)){c.rects={reference:met(C,wy(y),c.options.strategy==="fixed"),popper:aB(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var T=c.orderedModifiers[w],S=T.fn,x=T.options,I=x===void 0?{}:x,R=T.name;typeof S=="function"&&(c=S({state:c,options:I,name:R,instance:p})||c)}}}},update:yet(function(){return new Promise(function(g){p.forceUpdate(),g(c)})}),destroy:function(){v(),h=!0}};if(!E3(s,l))return p;p.setOptions(u).then(function(g){!h&&u.onFirstUpdate&&u.onFirstUpdate(g)});function f(){c.orderedModifiers.forEach(function(g){var m=g.name,C=g.options,y=C===void 0?{}:C,w=g.effect;if(typeof w=="function"){var T=w({state:c,name:m,instance:p,options:y}),S=function(){};d.push(T||S)}})}function v(){d.forEach(function(g){return g()}),d=[]}return p}}var Eet=[UJe,cet,WJe,PJe,set,ret,pet,BJe,iet],xet=bet({defaultModifiers:Eet});const Bne="Popper";function Iet(r){return Ine(Bne,r)}eJe(Bne,["root"]);const Tet=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Ret=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Oet(r,e){if(e==="ltr")return r;switch(r){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return r}}function gF(r){return typeof r=="function"?r():r}function Det(r){return r.nodeType!==void 0}const Aet=()=>tt({root:["root"]},mZe(Iet)),Pet={},Met=_.forwardRef(function(e,t){var n;const{anchorEl:i,children:o,direction:a,disablePortal:s,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:v}=e,g=se(e,Tet),m=_.useRef(null),C=ln(m,t),y=_.useRef(null),w=ln(y,h),T=_.useRef(w);sn(()=>{T.current=w},[w]),_.useImperativeHandle(h,()=>y.current,[]);const S=Oet(c,a),[x,I]=_.useState(S),[R,D]=_.useState(gF(i));_.useEffect(()=>{y.current&&y.current.forceUpdate()}),_.useEffect(()=>{i&&D(gF(i))},[i]),sn(()=>{if(!R||!u)return;const M=G=>{I(G.placement)};let N=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:G})=>{M(G)}}];l!=null&&(N=N.concat(l)),d&&d.modifiers!=null&&(N=N.concat(d.modifiers));const H=xet(R,m.current,b({placement:S},d,{modifiers:N}));return T.current(H),()=>{H.destroy(),T.current(null)}},[R,s,l,u,d,S]);const A={placement:x};v!==null&&(A.TransitionProps=v);const V=Aet(),F=(n=f.root)!=null?n:"div",P=ka({elementType:F,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:C},ownerState:e,className:V.root});return O.jsx(F,b({},P,{children:typeof o=="function"?o(A):o}))}),Fet=_.forwardRef(function(e,t){const{anchorEl:n,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Pet,popperRef:p,style:f,transition:v=!1,slotProps:g={},slots:m={}}=e,C=se(e,Ret),[y,w]=_.useState(!0),T=()=>{w(!1)},S=()=>{w(!0)};if(!l&&!c&&(!v||y))return null;let x;if(o)x=o;else if(n){const D=gF(n);x=D&&Det(D)?An(D).body:An(null).body}const I=!c&&l&&(!v||y)?"none":void 0,R=v?{in:c,onEnter:T,onExited:S}:void 0;return O.jsx(One,{disablePortal:s,container:x,children:O.jsx(Met,b({anchorEl:n,direction:a,disablePortal:s,modifiers:u,ref:t,open:v?!y:c,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:m},C,{style:b({position:"fixed",top:0,left:0,display:I},f),TransitionProps:R,children:i}))})}),Let=["onChange","maxRows","minRows","style","value"];function Dw(r){return parseInt(r,10)||0}const Net={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function ket(r){return r==null||Object.keys(r).length===0||r.outerHeightStyle===0&&!r.overflowing}const Vet=_.forwardRef(function(e,t){const{onChange:n,maxRows:i,minRows:o=1,style:a,value:s}=e,l=se(e,Let),{current:u}=_.useRef(s!=null),c=_.useRef(null),d=ln(t,c),h=_.useRef(null),p=_.useCallback(()=>{const g=c.current,C=Gl(g).getComputedStyle(g);if(C.width==="0px")return{outerHeightStyle:0,overflowing:!1};const y=h.current;y.style.width=C.width,y.value=g.value||e.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const w=C.boxSizing,T=Dw(C.paddingBottom)+Dw(C.paddingTop),S=Dw(C.borderBottomWidth)+Dw(C.borderTopWidth),x=y.scrollHeight;y.value="x";const I=y.scrollHeight;let R=x;o&&(R=Math.max(Number(o)*I,R)),i&&(R=Math.min(Number(i)*I,R)),R=Math.max(R,I);const D=R+(w==="border-box"?T+S:0),A=Math.abs(R-x)<=1;return{outerHeightStyle:D,overflowing:A}},[i,o,e.placeholder]),f=_.useCallback(()=>{const g=p();if(ket(g))return;const m=c.current;m.style.height=`${g.outerHeightStyle}px`,m.style.overflow=g.overflowing?"hidden":""},[p]);sn(()=>{const g=()=>{f()};let m;const C=Nv(g),y=c.current,w=Gl(y);w.addEventListener("resize",C);let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(g),T.observe(y)),()=>{C.clear(),cancelAnimationFrame(m),w.removeEventListener("resize",C),T&&T.disconnect()}},[p,f]),sn(()=>{f()});const v=g=>{u||f(),n&&n(g)};return O.jsxs(_.Fragment,{children:[O.jsx("textarea",b({value:s,onChange:v,ref:d,rows:o,style:a},l)),O.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:b({},Net.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function x3(r){return typeof r.normalize<"u"?r.normalize("NFD").replace(/[\u0300-\u036f]/g,""):r}function Hne(r={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:n,matchFrom:i="any",stringify:o,trim:a=!1}=r;return(s,{inputValue:l,getOptionLabel:u})=>{let c=a?l.trim():l;t&&(c=c.toLowerCase()),e&&(c=x3(c));const d=c?s.filter(h=>{let p=(o||u)(h);return t&&(p=p.toLowerCase()),e&&(p=x3(p)),i==="start"?p.indexOf(c)===0:p.indexOf(c)>-1}):s;return typeof n=="number"?d.slice(0,n):d}}function Aw(r,e){for(let t=0;t<r.length;t+=1)if(e(r[t]))return t;return-1}const Bet=Hne(),I3=5,Het=r=>{var e;return r.current!==null&&((e=r.current.parentElement)==null?void 0:e.contains(document.activeElement))};function Get(r){const{unstable_isActiveElementInListbox:e=Het,unstable_classNamePrefix:t="Mui",autoComplete:n=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:a=!1,clearOnBlur:s=!r.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=r.multiple?[]:null,disableClearable:d=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:f=!1,disableListWrap:v=!1,filterOptions:g=Bet,filterSelectedOptions:m=!1,freeSolo:C=!1,getOptionDisabled:y,getOptionKey:w,getOptionLabel:T=we=>{var ve;return(ve=we.label)!=null?ve:we},groupBy:S,handleHomeEndKeys:x=!r.freeSolo,id:I,includeInputInList:R=!1,inputValue:D,isOptionEqualToValue:A=(we,ve)=>we===ve,multiple:V=!1,onChange:F,onClose:P,onHighlightChange:M,onInputChange:N,onOpen:H,open:G,openOnFocus:z=!1,options:j,readOnly:q=!1,selectOnFocus:K=!r.freeSolo,value:ie}=r,ee=_n(I);let te=T;te=we=>{const ve=T(we);return typeof ve!="string"?String(ve):ve};const de=_.useRef(!1),Se=_.useRef(!0),Me=_.useRef(null),De=_.useRef(null),[ze,he]=_.useState(null),[ke,Oe]=_.useState(-1),je=i?0:-1,xe=_.useRef(je),[ae,Ie]=Rh({controlled:ie,default:c,name:u}),[me,nt]=Rh({controlled:D,default:"",name:u,state:"inputValue"}),[He,Ue]=_.useState(!1),Ge=_.useCallback((we,ve)=>{if(!(V?ae.length<ve.length:ve!==null)&&!s)return;let Qe;if(V)Qe="";else if(ve==null)Qe="";else{const Lt=te(ve);Qe=typeof Lt=="string"?Lt:""}me!==Qe&&(nt(Qe),N&&N(we,Qe,"reset"))},[te,me,V,N,nt,s,ae]),[ge,_e]=Rh({controlled:G,default:!1,name:u,state:"open"}),[Ve,Je]=_.useState(!0),vt=!V&&ae!=null&&me===te(ae),ct=ge&&!q,Pe=ct?g(j.filter(we=>!(m&&(V?ae:[ae]).some(ve=>ve!==null&&A(we,ve)))),{inputValue:vt&&Ve?"":me,getOptionLabel:te}):[],_t=KV({filteredOptions:Pe,value:ae,inputValue:me});_.useEffect(()=>{const we=ae!==_t.value;He&&!we||C&&!we||Ge(null,ae)},[ae,Ge,He,_t.value,C]);const lr=ge&&Pe.length>0&&!q,$t=cn(we=>{we===-1?Me.current.focus():ze.querySelector(`[data-tag-index="${we}"]`).focus()});_.useEffect(()=>{V&&ke>ae.length-1&&(Oe(-1),$t(-1))},[ae,V,ke,$t]);function Ke(we,ve){if(!De.current||we<0||we>=Pe.length)return-1;let st=we;for(;;){const Qe=De.current.querySelector(`[data-option-index="${st}"]`),Lt=f?!1:!Qe||Qe.disabled||Qe.getAttribute("aria-disabled")==="true";if(Qe&&Qe.hasAttribute("tabindex")&&!Lt)return st;if(ve==="next"?st=(st+1)%Pe.length:st=(st-1+Pe.length)%Pe.length,st===we)return-1}}const Ot=cn(({event:we,index:ve,reason:st="auto"})=>{if(xe.current=ve,ve===-1?Me.current.removeAttribute("aria-activedescendant"):Me.current.setAttribute("aria-activedescendant",`${ee}-option-${ve}`),M&&M(we,ve===-1?null:Pe[ve],st),!De.current)return;const Qe=De.current.querySelector(`[role="option"].${t}-focused`);Qe&&(Qe.classList.remove(`${t}-focused`),Qe.classList.remove(`${t}-focusVisible`));let Lt=De.current;if(De.current.getAttribute("role")!=="listbox"&&(Lt=De.current.parentElement.querySelector('[role="listbox"]')),!Lt)return;if(ve===-1){Lt.scrollTop=0;return}const mt=De.current.querySelector(`[data-option-index="${ve}"]`);if(mt&&(mt.classList.add(`${t}-focused`),st==="keyboard"&&mt.classList.add(`${t}-focusVisible`),Lt.scrollHeight>Lt.clientHeight&&st!=="mouse"&&st!=="touch")){const ir=mt,ro=Lt.clientHeight+Lt.scrollTop,Pr=ir.offsetTop+ir.offsetHeight;Pr>ro?Lt.scrollTop=Pr-Lt.clientHeight:ir.offsetTop-ir.offsetHeight*(S?1.3:0)<Lt.scrollTop&&(Lt.scrollTop=ir.offsetTop-ir.offsetHeight*(S?1.3:0))}}),Le=cn(({event:we,diff:ve,direction:st="next",reason:Qe="auto"})=>{if(!ct)return;const mt=Ke((()=>{const ir=Pe.length-1;if(ve==="reset")return je;if(ve==="start")return 0;if(ve==="end")return ir;const ro=xe.current+ve;return ro<0?ro===-1&&R?-1:v&&xe.current!==-1||Math.abs(ve)>1?0:ir:ro>ir?ro===ir+1&&R?-1:v||Math.abs(ve)>1?ir:0:ro})(),st);if(Ot({index:mt,reason:Qe,event:we}),n&&ve!=="reset")if(mt===-1)Me.current.value=me;else{const ir=te(Pe[mt]);Me.current.value=ir,ir.toLowerCase().indexOf(me.toLowerCase())===0&&me.length>0&&Me.current.setSelectionRange(me.length,ir.length)}}),rt=()=>{const we=(ve,st)=>{const Qe=ve?te(ve):"",Lt=st?te(st):"";return Qe===Lt};if(xe.current!==-1&&_t.filteredOptions&&_t.filteredOptions.length!==Pe.length&&_t.inputValue===me&&(V?ae.length===_t.value.length&&_t.value.every((ve,st)=>te(ae[st])===te(ve)):we(_t.value,ae))){const ve=_t.filteredOptions[xe.current];if(ve)return Aw(Pe,st=>te(st)===te(ve))}return-1},Pt=_.useCallback(()=>{if(!ct)return;const we=rt();if(we!==-1){xe.current=we;return}const ve=V?ae[0]:ae;if(Pe.length===0||ve==null){Le({diff:"reset"});return}if(De.current){if(ve!=null){const st=Pe[xe.current];if(V&&st&&Aw(ae,Lt=>A(st,Lt))!==-1)return;const Qe=Aw(Pe,Lt=>A(Lt,ve));Qe===-1?Le({diff:"reset"}):Ot({index:Qe});return}if(xe.current>=Pe.length-1){Ot({index:Pe.length-1});return}Ot({index:xe.current})}},[Pe.length,V?!1:ae,m,Le,Ot,ct,me,V]),Wt=cn(we=>{ox(De,we),we&&Pt()});_.useEffect(()=>{Pt()},[Pt]);const nr=we=>{ge||(_e(!0),Je(!0),H&&H(we))},Vr=(we,ve)=>{ge&&(_e(!1),P&&P(we,ve))},Br=(we,ve,st,Qe)=>{if(V){if(ae.length===ve.length&&ae.every((Lt,mt)=>Lt===ve[mt]))return}else if(ae===ve)return;F&&F(we,ve,st,Qe),Ie(ve)},Qt=_.useRef(!1),Y=(we,ve,st="selectOption",Qe="options")=>{let Lt=st,mt=ve;if(V){mt=Array.isArray(ae)?ae.slice():[];const ir=Aw(mt,ro=>A(ve,ro));ir===-1?mt.push(ve):Qe!=="freeSolo"&&(mt.splice(ir,1),Lt="removeOption")}Ge(we,mt),Br(we,mt,Lt,{option:ve}),!h&&(!we||!we.ctrlKey&&!we.metaKey)&&Vr(we,Lt),(a===!0||a==="touch"&&Qt.current||a==="mouse"&&!Qt.current)&&Me.current.blur()};function re(we,ve){if(we===-1)return-1;let st=we;for(;;){if(ve==="next"&&st===ae.length||ve==="previous"&&st===-1)return-1;const Qe=ze.querySelector(`[data-tag-index="${st}"]`);if(!Qe||!Qe.hasAttribute("tabindex")||Qe.disabled||Qe.getAttribute("aria-disabled")==="true")st+=ve==="next"?1:-1;else return st}}const oe=(we,ve)=>{if(!V)return;me===""&&Vr(we,"toggleInput");let st=ke;ke===-1?me===""&&ve==="previous"&&(st=ae.length-1):(st+=ve==="next"?1:-1,st<0&&(st=0),st===ae.length&&(st=-1)),st=re(st,ve),Oe(st),$t(st)},Be=we=>{de.current=!0,nt(""),N&&N(we,"","clear"),Br(we,V?[]:null,"clear")},it=we=>ve=>{if(we.onKeyDown&&we.onKeyDown(ve),!ve.defaultMuiPrevented&&(ke!==-1&&["ArrowLeft","ArrowRight"].indexOf(ve.key)===-1&&(Oe(-1),$t(-1)),ve.which!==229))switch(ve.key){case"Home":ct&&x&&(ve.preventDefault(),Le({diff:"start",direction:"next",reason:"keyboard",event:ve}));break;case"End":ct&&x&&(ve.preventDefault(),Le({diff:"end",direction:"previous",reason:"keyboard",event:ve}));break;case"PageUp":ve.preventDefault(),Le({diff:-I3,direction:"previous",reason:"keyboard",event:ve}),nr(ve);break;case"PageDown":ve.preventDefault(),Le({diff:I3,direction:"next",reason:"keyboard",event:ve}),nr(ve);break;case"ArrowDown":ve.preventDefault(),Le({diff:1,direction:"next",reason:"keyboard",event:ve}),nr(ve);break;case"ArrowUp":ve.preventDefault(),Le({diff:-1,direction:"previous",reason:"keyboard",event:ve}),nr(ve);break;case"ArrowLeft":oe(ve,"previous");break;case"ArrowRight":oe(ve,"next");break;case"Enter":if(xe.current!==-1&&ct){const st=Pe[xe.current],Qe=y?y(st):!1;if(ve.preventDefault(),Qe)return;Y(ve,st,"selectOption"),n&&Me.current.setSelectionRange(Me.current.value.length,Me.current.value.length)}else C&&me!==""&&vt===!1&&(V&&ve.preventDefault(),Y(ve,me,"createOption","freeSolo"));break;case"Escape":ct?(ve.preventDefault(),ve.stopPropagation(),Vr(ve,"escape")):l&&(me!==""||V&&ae.length>0)&&(ve.preventDefault(),ve.stopPropagation(),Be(ve));break;case"Backspace":if(V&&!q&&me===""&&ae.length>0){const st=ke===-1?ae.length-1:ke,Qe=ae.slice();Qe.splice(st,1),Br(ve,Qe,"removeOption",{option:ae[st]})}break;case"Delete":if(V&&!q&&me===""&&ae.length>0&&ke!==-1){const st=ke,Qe=ae.slice();Qe.splice(st,1),Br(ve,Qe,"removeOption",{option:ae[st]})}break}},It=we=>{Ue(!0),z&&!de.current&&nr(we)},wt=we=>{if(e(De)){Me.current.focus();return}Ue(!1),Se.current=!0,de.current=!1,o&&xe.current!==-1&&ct?Y(we,Pe[xe.current],"blur"):o&&C&&me!==""?Y(we,me,"blur","freeSolo"):s&&Ge(we,ae),Vr(we,"blur")},lt=we=>{const ve=we.target.value;me!==ve&&(nt(ve),Je(!1),N&&N(we,ve,"input")),ve===""?!d&&!V&&Br(we,null,"clear"):nr(we)},ot=we=>{const ve=Number(we.currentTarget.getAttribute("data-option-index"));xe.current!==ve&&Ot({event:we,index:ve,reason:"mouse"})},Mt=we=>{Ot({event:we,index:Number(we.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Qt.current=!0},Rr=we=>{const ve=Number(we.currentTarget.getAttribute("data-option-index"));Y(we,Pe[ve],"selectOption"),Qt.current=!1},Ft=we=>ve=>{const st=ae.slice();st.splice(we,1),Br(ve,st,"removeOption",{option:ae[we]})},Or=we=>{ge?Vr(we,"toggleInput"):nr(we)},qr=we=>{we.currentTarget.contains(we.target)&&we.target.getAttribute("id")!==ee&&we.preventDefault()},xn=we=>{we.currentTarget.contains(we.target)&&(Me.current.focus(),K&&Se.current&&Me.current.selectionEnd-Me.current.selectionStart===0&&Me.current.select(),Se.current=!1)},Wr=we=>{!p&&(me===""||!ge)&&Or(we)};let Zn=C&&me.length>0;Zn=Zn||(V?ae.length>0:ae!==null);let ta=Pe;return S&&(ta=Pe.reduce((we,ve,st)=>{const Qe=S(ve);return we.length>0&&we[we.length-1].group===Qe?we[we.length-1].options.push(ve):we.push({key:st,index:st,group:Qe,options:[ve]}),we},[])),p&&He&&wt(),{getRootProps:(we={})=>b({"aria-owns":lr?`${ee}-listbox`:null},we,{onKeyDown:it(we),onMouseDown:qr,onClick:xn}),getInputLabelProps:()=>({id:`${ee}-label`,htmlFor:ee}),getInputProps:()=>({id:ee,value:me,onBlur:wt,onFocus:It,onChange:lt,onMouseDown:Wr,"aria-activedescendant":ct?"":null,"aria-autocomplete":n?"both":"list","aria-controls":lr?`${ee}-listbox`:void 0,"aria-expanded":lr,autoComplete:"off",ref:Me,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Be}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Or}),getTagProps:({index:we})=>b({key:we,"data-tag-index":we,tabIndex:-1},!q&&{onDelete:Ft(we)}),getListboxProps:()=>({role:"listbox",id:`${ee}-listbox`,"aria-labelledby":`${ee}-label`,ref:Wt,onMouseDown:we=>{we.preventDefault()}}),getOptionProps:({index:we,option:ve})=>{var st;const Qe=(V?ae:[ae]).some(mt=>mt!=null&&A(ve,mt)),Lt=y?y(ve):!1;return{key:(st=w==null?void 0:w(ve))!=null?st:te(ve),tabIndex:-1,role:"option",id:`${ee}-option-${we}`,onMouseMove:ot,onClick:Rr,onTouchStart:Mt,"data-option-index":we,"aria-disabled":Lt,"aria-selected":Qe}},id:ee,inputValue:me,value:ae,dirty:Zn,expanded:ct&&ze,popupOpen:ct,focused:He||ke!==-1,anchorEl:ze,setAnchorEl:he,focusedTag:ke,groupedOptions:ta}}var dB={};Object.defineProperty(dB,"__esModule",{value:!0});var Gne=dB.default=void 0,$et=zet(_),Wet=mne;function $ne(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return($ne=function(n){return n?t:e})(r)}function zet(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var t=$ne(e);if(t&&t.has(r))return t.get(r);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in r)if(o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)){var a=i?Object.getOwnPropertyDescriptor(r,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=r[o]}return n.default=r,t&&t.set(r,n),n}function Uet(r){return Object.keys(r).length===0}function jet(r=null){const e=$et.useContext(Wet.ThemeContext);return!e||Uet(e)?r:e}Gne=dB.default=jet;const Ket=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],qet=be(Fet,{name:"MuiPopper",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Yet=_.forwardRef(function(e,t){var n;const i=Gne(),o=qt({props:e,name:"MuiPopper"}),{anchorEl:a,component:s,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:v,popperOptions:g,popperRef:m,transition:C,slots:y,slotProps:w}=o,T=se(o,Ket),S=(n=y==null?void 0:y.root)!=null?n:l==null?void 0:l.Root,x=b({anchorEl:a,container:c,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:v,popperOptions:g,popperRef:m,transition:C},T);return O.jsx(qet,b({as:s,direction:i==null?void 0:i.direction,slots:{root:S},slotProps:w??u},x,{ref:t}))}),bp=Yet;function Xet(r){return Gt("MuiListSubheader",r)}Bt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Qet=["className","color","component","disableGutters","disableSticky","inset"],Zet=r=>{const{classes:e,color:t,disableGutters:n,inset:i,disableSticky:o}=r,a={root:["root",t!=="default"&&`color${Te(t)}`,!n&&"gutters",i&&"inset",!o&&"sticky"]};return tt(a,Xet,e)},Jet=be("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.color!=="default"&&e[`color${Te(t.color)}`],!t.disableGutters&&e.gutters,t.inset&&e.inset,!t.disableSticky&&e.sticky]}})(({theme:r,ownerState:e})=>b({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(r.vars||r).palette.text.secondary,fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(14)},e.color==="primary"&&{color:(r.vars||r).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(r.vars||r).palette.background.paper})),Wne=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:a="li",disableGutters:s=!1,disableSticky:l=!1,inset:u=!1}=n,c=se(n,Qet),d=b({},n,{color:o,component:a,disableGutters:s,disableSticky:l,inset:u}),h=Zet(d);return O.jsx(Jet,b({as:a,className:Ae(h.root,i),ref:t,ownerState:d},c))});Wne.muiSkipListHighlight=!0;const ett=Wne,ttt=dr(O.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function rtt(r){return Gt("MuiChip",r)}const ntt=Bt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Hr=ntt,itt=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],ott=r=>{const{classes:e,disabled:t,size:n,color:i,iconColor:o,onDelete:a,clickable:s,variant:l}=r,u={root:["root",l,t&&"disabled",`size${Te(n)}`,`color${Te(i)}`,s&&"clickable",s&&`clickableColor${Te(i)}`,a&&"deletable",a&&`deletableColor${Te(i)}`,`${l}${Te(i)}`],label:["label",`label${Te(n)}`],avatar:["avatar",`avatar${Te(n)}`,`avatarColor${Te(i)}`],icon:["icon",`icon${Te(n)}`,`iconColor${Te(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Te(n)}`,`deleteIconColor${Te(i)}`,`deleteIcon${Te(l)}Color${Te(i)}`]};return tt(u,rtt,e)},att=be("div",{name:"MuiChip",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r,{color:n,iconColor:i,clickable:o,onDelete:a,size:s,variant:l}=t;return[{[`& .${Hr.avatar}`]:e.avatar},{[`& .${Hr.avatar}`]:e[`avatar${Te(s)}`]},{[`& .${Hr.avatar}`]:e[`avatarColor${Te(n)}`]},{[`& .${Hr.icon}`]:e.icon},{[`& .${Hr.icon}`]:e[`icon${Te(s)}`]},{[`& .${Hr.icon}`]:e[`iconColor${Te(i)}`]},{[`& .${Hr.deleteIcon}`]:e.deleteIcon},{[`& .${Hr.deleteIcon}`]:e[`deleteIcon${Te(s)}`]},{[`& .${Hr.deleteIcon}`]:e[`deleteIconColor${Te(n)}`]},{[`& .${Hr.deleteIcon}`]:e[`deleteIcon${Te(l)}Color${Te(n)}`]},e.root,e[`size${Te(s)}`],e[`color${Te(n)}`],o&&e.clickable,o&&n!=="default"&&e[`clickableColor${Te(n)})`],a&&e.deletable,a&&n!=="default"&&e[`deletableColor${Te(n)}`],e[l],e[`${l}${Te(n)}`]]}})(({theme:r,ownerState:e})=>{const t=r.palette.mode==="light"?r.palette.grey[700]:r.palette.grey[300];return b({maxWidth:"100%",fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(r.vars||r).palette.text.primary,backgroundColor:(r.vars||r).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:r.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Hr.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Hr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:r.vars?r.vars.palette.Chip.defaultAvatarColor:t,fontSize:r.typography.pxToRem(12)},[`& .${Hr.avatarColorPrimary}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.dark},[`& .${Hr.avatarColorSecondary}`]:{color:(r.vars||r).palette.secondary.contrastText,backgroundColor:(r.vars||r).palette.secondary.dark},[`& .${Hr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:r.typography.pxToRem(10)},[`& .${Hr.icon}`]:b({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&b({color:r.vars?r.vars.palette.Chip.defaultIconColor:t},e.color!=="default"&&{color:"inherit"})),[`& .${Hr.deleteIcon}`]:b({WebkitTapHighlightColor:"transparent",color:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.26)`:Ir(r.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.4)`:Ir(r.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:r.vars?`rgba(${r.vars.palette[e.color].contrastTextChannel} / 0.7)`:Ir(r.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(r.vars||r).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(r.vars||r).palette[e.color].main,color:(r.vars||r).palette[e.color].contrastText},e.onDelete&&{[`&.${Hr.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Ir(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Hr.focusVisible}`]:{backgroundColor:(r.vars||r).palette[e.color].dark}})},({theme:r,ownerState:e})=>b({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Ir(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity)},[`&.${Hr.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Ir(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)},"&:active":{boxShadow:(r.vars||r).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Hr.focusVisible}`]:{backgroundColor:(r.vars||r).palette[e.color].dark}}),({theme:r,ownerState:e})=>b({},e.variant==="outlined"&&{backgroundColor:"transparent",border:r.vars?`1px solid ${r.vars.palette.Chip.defaultBorder}`:`1px solid ${r.palette.mode==="light"?r.palette.grey[400]:r.palette.grey[700]}`,[`&.${Hr.clickable}:hover`]:{backgroundColor:(r.vars||r).palette.action.hover},[`&.${Hr.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`& .${Hr.avatar}`]:{marginLeft:4},[`& .${Hr.avatarSmall}`]:{marginLeft:2},[`& .${Hr.icon}`]:{marginLeft:4},[`& .${Hr.iconSmall}`]:{marginLeft:2},[`& .${Hr.deleteIcon}`]:{marginRight:5},[`& .${Hr.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(r.vars||r).palette[e.color].main,border:`1px solid ${r.vars?`rgba(${r.vars.palette[e.color].mainChannel} / 0.7)`:Ir(r.palette[e.color].main,.7)}`,[`&.${Hr.clickable}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette[e.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(r.palette[e.color].main,r.palette.action.hoverOpacity)},[`&.${Hr.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette[e.color].mainChannel} / ${r.vars.palette.action.focusOpacity})`:Ir(r.palette[e.color].main,r.palette.action.focusOpacity)},[`& .${Hr.deleteIcon}`]:{color:r.vars?`rgba(${r.vars.palette[e.color].mainChannel} / 0.7)`:Ir(r.palette[e.color].main,.7),"&:hover, &:active":{color:(r.vars||r).palette[e.color].main}}})),stt=be("span",{name:"MuiChip",slot:"Label",overridesResolver:(r,e)=>{const{ownerState:t}=r,{size:n}=t;return[e.label,e[`label${Te(n)}`]]}})(({ownerState:r})=>b({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},r.variant==="outlined"&&{paddingLeft:11,paddingRight:11},r.size==="small"&&{paddingLeft:8,paddingRight:8},r.size==="small"&&r.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function T3(r){return r.key==="Backspace"||r.key==="Delete"}const ltt=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:a,color:s="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:v,onKeyUp:g,size:m="medium",variant:C="filled",tabIndex:y,skipFocusWhenDisabled:w=!1}=n,T=se(n,itt),S=_.useRef(null),x=ln(S,t),I=z=>{z.stopPropagation(),f&&f(z)},R=z=>{z.currentTarget===z.target&&T3(z)&&z.preventDefault(),v&&v(z)},D=z=>{z.currentTarget===z.target&&(f&&T3(z)?f(z):z.key==="Escape"&&S.current&&S.current.blur()),g&&g(z)},A=a!==!1&&p?!0:a,V=A||f?sd:l||"div",F=b({},n,{component:V,disabled:c,size:m,color:s,iconColor:_.isValidElement(d)&&d.props.color||s,onDelete:!!f,clickable:A,variant:C}),P=ott(F),M=V===sd?b({component:l||"div",focusVisibleClassName:P.focusVisible},f&&{disableRipple:!0}):{};let N=null;f&&(N=u&&_.isValidElement(u)?_.cloneElement(u,{className:Ae(u.props.className,P.deleteIcon),onClick:I}):O.jsx(ttt,{className:Ae(P.deleteIcon),onClick:I}));let H=null;i&&_.isValidElement(i)&&(H=_.cloneElement(i,{className:Ae(P.avatar,i.props.className)}));let G=null;return d&&_.isValidElement(d)&&(G=_.cloneElement(d,{className:Ae(P.icon,d.props.className)})),O.jsxs(att,b({as:V,className:Ae(P.root,o),disabled:A&&c?!0:void 0,onClick:p,onKeyDown:R,onKeyUp:D,ref:x,tabIndex:w&&c?-1:y,ownerState:F},M,T,{children:[H||G,O.jsx(stt,{className:Ae(P.label),ownerState:F,children:h}),N]}))}),zne=ltt;function Ep({props:r,states:e,muiFormControl:t}){return e.reduce((n,i)=>(n[i]=r[i],t&&typeof r[i]>"u"&&(n[i]=t[i]),n),{})}const utt=_.createContext(void 0),UI=utt;function Zu(){return _.useContext(UI)}function ctt(r){return O.jsx(q7e,b({},r,{defaultTheme:PI,themeId:py}))}function R3(r){return r!=null&&!(Array.isArray(r)&&r.length===0)}function cx(r,e=!1){return r&&(R3(r.value)&&r.value!==""||e&&R3(r.defaultValue)&&r.defaultValue!=="")}function dtt(r){return r.startAdornment}function htt(r){return Gt("MuiInputBase",r)}const ptt=Bt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ca=ptt,ftt=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],jI=(r,e)=>{const{ownerState:t}=r;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Te(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},KI=(r,e)=>{const{ownerState:t}=r;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},vtt=r=>{const{classes:e,color:t,disabled:n,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:f}=r,v={root:["root",`color${Te(t)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",h&&h!=="medium"&&`size${Te(h)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",n&&"disabled",f==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return tt(v,htt,e)},qI=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:jI})(({theme:r,ownerState:e})=>b({},r.typography.body1,{color:(r.vars||r).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ca.disabled}`]:{color:(r.vars||r).palette.text.disabled,cursor:"default"}},e.multiline&&b({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),YI=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:KI})(({theme:r,ownerState:e})=>{const t=r.palette.mode==="light",n=b({color:"currentColor"},r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},{transition:r.transitions.create("opacity",{duration:r.transitions.duration.shorter})}),i={opacity:"0 !important"},o=r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return b({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ca.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Ca.disabled}`]:{opacity:1,WebkitTextFillColor:(r.vars||r).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),gtt=O.jsx(ctt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),mtt=_.forwardRef(function(e,t){var n;const i=qt({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:v=!1,id:g,inputComponent:m="input",inputProps:C={},inputRef:y,maxRows:w,minRows:T,multiline:S=!1,name:x,onBlur:I,onChange:R,onClick:D,onFocus:A,onKeyDown:V,onKeyUp:F,placeholder:P,readOnly:M,renderSuffix:N,rows:H,slotProps:G={},slots:z={},startAdornment:j,type:q="text",value:K}=i,ie=se(i,ftt),ee=C.value!=null?C.value:K,{current:te}=_.useRef(ee!=null),de=_.useRef(),Se=_.useCallback(ct=>{},[]),Me=ln(de,y,C.ref,Se),[De,ze]=_.useState(!1),he=Zu(),ke=Ep({props:i,muiFormControl:he,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ke.focused=he?he.focused:De,_.useEffect(()=>{!he&&h&&De&&(ze(!1),I&&I())},[he,h,De,I]);const Oe=he&&he.onFilled,je=he&&he.onEmpty,xe=_.useCallback(ct=>{cx(ct)?Oe&&Oe():je&&je()},[Oe,je]);sn(()=>{te&&xe({value:ee})},[ee,xe,te]);const ae=ct=>{if(ke.disabled){ct.stopPropagation();return}A&&A(ct),C.onFocus&&C.onFocus(ct),he&&he.onFocus?he.onFocus(ct):ze(!0)},Ie=ct=>{I&&I(ct),C.onBlur&&C.onBlur(ct),he&&he.onBlur?he.onBlur(ct):ze(!1)},me=(ct,...Pe)=>{if(!te){const _t=ct.target||de.current;if(_t==null)throw new Error(ku(1));xe({value:_t.value})}C.onChange&&C.onChange(ct,...Pe),R&&R(ct,...Pe)};_.useEffect(()=>{xe(de.current)},[]);const nt=ct=>{de.current&&ct.currentTarget===ct.target&&de.current.focus(),D&&D(ct)};let He=m,Ue=C;S&&He==="input"&&(H?Ue=b({type:void 0,minRows:H,maxRows:H},Ue):Ue=b({type:void 0,maxRows:w,minRows:T},Ue),He=Vet);const Ge=ct=>{xe(ct.animationName==="mui-auto-fill-cancel"?de.current:{value:"x"})};_.useEffect(()=>{he&&he.setAdornedStart(!!j)},[he,j]);const ge=b({},i,{color:ke.color||"primary",disabled:ke.disabled,endAdornment:f,error:ke.error,focused:ke.focused,formControl:he,fullWidth:v,hiddenLabel:ke.hiddenLabel,multiline:S,size:ke.size,startAdornment:j,type:q}),_e=vtt(ge),Ve=z.root||u.Root||qI,Je=G.root||c.root||{},vt=z.input||u.Input||YI;return Ue=b({},Ue,(n=G.input)!=null?n:c.input),O.jsxs(_.Fragment,{children:[!p&&gtt,O.jsxs(Ve,b({},Je,!sC(Ve)&&{ownerState:b({},ge,Je.ownerState)},{ref:t,onClick:nt},ie,{className:Ae(_e.root,Je.className,l,M&&"MuiInputBase-readOnly"),children:[j,O.jsx(UI.Provider,{value:null,children:O.jsx(vt,b({ownerState:ge,"aria-invalid":ke.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:d,disabled:ke.disabled,id:g,onAnimationStart:Ge,name:x,placeholder:P,readOnly:M,required:ke.required,rows:H,value:ee,onKeyDown:V,onKeyUp:F,type:q},Ue,!sC(vt)&&{as:He,ownerState:b({},ge,Ue.ownerState)},{ref:Me,className:Ae(_e.input,Ue.className,M&&"MuiInputBase-readOnly"),onBlur:Ie,onChange:me,onFocus:ae}))}),f,N?N(b({},ke,{startAdornment:j})):null]}))]})}),Bv=mtt;function _tt(r){return Gt("MuiInput",r)}const Ctt=b({},Ca,Bt("MuiInput",["root","underline","input"])),Mc=Ctt;function ytt(r){return Gt("MuiOutlinedInput",r)}const Stt=b({},Ca,Bt("MuiOutlinedInput",["root","notchedOutline","input"])),gl=Stt;function wtt(r){return Gt("MuiFilledInput",r)}const btt=b({},Ca,Bt("MuiFilledInput",["root","underline","input"])),ya=btt,Une=dr(O.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Ett(r){return Gt("MuiAutocomplete",r)}const hr=Bt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var O3,D3;const xtt=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Itt=["ref"],Ttt=tB(),Rtt=r=>{const{classes:e,disablePortal:t,expanded:n,focused:i,fullWidth:o,hasClearIcon:a,hasPopupIcon:s,inputFocused:l,popupOpen:u,size:c}=r,d={root:["root",n&&"expanded",i&&"focused",o&&"fullWidth",a&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Te(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return tt(d,Ett,e)},Ott=be("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r,{fullWidth:n,hasClearIcon:i,hasPopupIcon:o,inputFocused:a,size:s}=t;return[{[`& .${hr.tag}`]:e.tag},{[`& .${hr.tag}`]:e[`tagSize${Te(s)}`]},{[`& .${hr.inputRoot}`]:e.inputRoot},{[`& .${hr.input}`]:e.input},{[`& .${hr.input}`]:a&&e.inputFocused},e.root,n&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${hr.focused} .${hr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${hr.clearIndicator}`]:{visibility:"visible"}},[`& .${hr.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${hr.inputRoot}`]:{flexWrap:"wrap",[`.${hr.hasPopupIcon}&, .${hr.hasClearIcon}&`]:{paddingRight:30},[`.${hr.hasPopupIcon}.${hr.hasClearIcon}&`]:{paddingRight:56},[`& .${hr.input}`]:{width:0,minWidth:30}},[`& .${Mc.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Mc.root}.${Ca.sizeSmall}`]:{[`& .${Mc.input}`]:{padding:"2px 4px 3px 0"}},[`& .${gl.root}`]:{padding:9,[`.${hr.hasPopupIcon}&, .${hr.hasClearIcon}&`]:{paddingRight:39},[`.${hr.hasPopupIcon}.${hr.hasClearIcon}&`]:{paddingRight:65},[`& .${hr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${hr.endAdornment}`]:{right:9}},[`& .${gl.root}.${Ca.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${hr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ya.root}`]:{paddingTop:19,paddingLeft:8,[`.${hr.hasPopupIcon}&, .${hr.hasClearIcon}&`]:{paddingRight:39},[`.${hr.hasPopupIcon}.${hr.hasClearIcon}&`]:{paddingRight:65},[`& .${ya.input}`]:{padding:"7px 4px"},[`& .${hr.endAdornment}`]:{right:9}},[`& .${ya.root}.${Ca.sizeSmall}`]:{paddingBottom:1,[`& .${ya.input}`]:{padding:"2.5px 4px"}},[`& .${Ca.hiddenLabel}`]:{paddingTop:8},[`& .${ya.root}.${Ca.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${hr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ya.root}.${Ca.hiddenLabel}.${Ca.sizeSmall}`]:{[`& .${hr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${hr.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${hr.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${hr.input}`]:{opacity:1}}}]}),Dtt=be("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(r,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Att=be(Bc,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(r,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Ptt=be(Bc,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:r},e)=>b({},e.popupIndicator,r.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Mtt=be(bp,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${hr.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(({theme:r})=>({zIndex:(r.vars||r).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),Ftt=be(yy,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(r,e)=>e.paper})(({theme:r})=>b({},r.typography.body1,{overflow:"auto"})),Ltt=be("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(r,e)=>e.loading})(({theme:r})=>({color:(r.vars||r).palette.text.secondary,padding:"14px 16px"})),Ntt=be("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(r,e)=>e.noOptions})(({theme:r})=>({color:(r.vars||r).palette.text.secondary,padding:"14px 16px"})),ktt=be("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(r,e)=>e.listbox})(({theme:r})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${hr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[r.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${hr.focused}`]:{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(r.vars||r).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${hr.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${hr.focused}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(r.vars||r).palette.action.selected}},[`&.${hr.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}}}})),Vtt=be(ett,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(r,e)=>e.groupLabel})(({theme:r})=>({backgroundColor:(r.vars||r).palette.background.paper,top:-8})),Btt=be("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(r,e)=>e.groupUl})({padding:0,[`& .${hr.option}`]:{paddingLeft:24}}),Htt=_.forwardRef(function(e,t){var n,i,o,a;const s=Ttt({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:d=!1,ChipProps:h,className:p,clearIcon:f=O3||(O3=O.jsx(WZe,{fontSize:"small"})),clearOnBlur:v=!s.freeSolo,clearOnEscape:g=!1,clearText:m="Clear",closeText:C="Close",componentsProps:y={},defaultValue:w=s.multiple?[]:null,disableClearable:T=!1,disableCloseOnSelect:S=!1,disabled:x=!1,disabledItemsFocusable:I=!1,disableListWrap:R=!1,disablePortal:D=!1,filterSelectedOptions:A=!1,forcePopupIcon:V="auto",freeSolo:F=!1,fullWidth:P=!1,getLimitTagsText:M=Qe=>`+${Qe}`,getOptionLabel:N,groupBy:H,handleHomeEndKeys:G=!s.freeSolo,includeInputInList:z=!1,limitTags:j=-1,ListboxComponent:q="ul",ListboxProps:K,loading:ie=!1,loadingText:ee="Loading",multiple:te=!1,noOptionsText:de="No options",openOnFocus:Se=!1,openText:Me="Open",PaperComponent:De=yy,PopperComponent:ze=bp,popupIcon:he=D3||(D3=O.jsx(Une,{})),readOnly:ke=!1,renderGroup:Oe,renderInput:je,renderOption:xe,renderTags:ae,selectOnFocus:Ie=!s.freeSolo,size:me="medium",slotProps:nt={}}=s,He=se(s,xtt),{getRootProps:Ue,getInputProps:Ge,getInputLabelProps:ge,getPopupIndicatorProps:_e,getClearProps:Ve,getTagProps:Je,getListboxProps:vt,getOptionProps:ct,value:Pe,dirty:_t,expanded:lr,id:$t,popupOpen:Ke,focused:Ot,focusedTag:Le,anchorEl:rt,setAnchorEl:Pt,inputValue:Wt,groupedOptions:nr}=Get(b({},s,{componentName:"Autocomplete"})),Vr=!T&&!x&&_t&&!ke,Br=(!F||V===!0)&&V!==!1,{onMouseDown:Qt}=Ge(),{ref:Y}=K??{},re=vt(),{ref:oe}=re,Be=se(re,Itt),it=ln(oe,Y),wt=N||(Qe=>{var Lt;return(Lt=Qe.label)!=null?Lt:Qe}),lt=b({},s,{disablePortal:D,expanded:lr,focused:Ot,fullWidth:P,getOptionLabel:wt,hasClearIcon:Vr,hasPopupIcon:Br,inputFocused:Le===-1,popupOpen:Ke,size:me}),ot=Rtt(lt);let Mt;if(te&&Pe.length>0){const Qe=Lt=>b({className:ot.tag,disabled:x},Je(Lt));ae?Mt=ae(Pe,Qe,lt):Mt=Pe.map((Lt,mt)=>O.jsx(zne,b({label:wt(Lt),size:me},Qe({index:mt}),h)))}if(j>-1&&Array.isArray(Mt)){const Qe=Mt.length-j;!Ot&&Qe>0&&(Mt=Mt.splice(0,j),Mt.push(O.jsx("span",{className:ot.tag,children:M(Qe)},Mt.length)))}const Ft=Oe||(Qe=>O.jsxs("li",{children:[O.jsx(Vtt,{className:ot.groupLabel,ownerState:lt,component:"div",children:Qe.group}),O.jsx(Btt,{className:ot.groupUl,ownerState:lt,children:Qe.children})]},Qe.key)),qr=xe||((Qe,Lt)=>_.createElement("li",b({},Qe,{key:Qe.key}),wt(Lt))),xn=(Qe,Lt)=>{const mt=ct({option:Qe,index:Lt});return qr(b({},mt,{className:ot.option}),Qe,{selected:mt["aria-selected"],index:Lt,inputValue:Wt},lt)},Wr=(n=nt.clearIndicator)!=null?n:y.clearIndicator,Zn=(i=nt.paper)!=null?i:y.paper,ta=(o=nt.popper)!=null?o:y.popper,we=(a=nt.popupIndicator)!=null?a:y.popupIndicator,ve=Qe=>O.jsx(Mtt,b({as:ze,disablePortal:D,style:{width:rt?rt.clientWidth:null},ownerState:lt,role:"presentation",anchorEl:rt,open:Ke},ta,{className:Ae(ot.popper,ta==null?void 0:ta.className),children:O.jsx(Ftt,b({ownerState:lt,as:De},Zn,{className:Ae(ot.paper,Zn==null?void 0:Zn.className),children:Qe}))}));let st=null;return!ie&&nr.length>0?st=ve(O.jsx(ktt,b({as:q,className:ot.listbox,ownerState:lt},Be,K,{ref:it,children:nr.map((Qe,Lt)=>H?Ft({key:Qe.key,group:Qe.group,children:Qe.options.map((mt,ir)=>xn(mt,Qe.index+ir))}):xn(Qe,Lt))}))):ie&&nr.length===0?st=ve(O.jsx(Ltt,{className:ot.loading,ownerState:lt,children:ee})):nr.length===0&&!F&&!ie&&(st=ve(O.jsx(Ntt,{className:ot.noOptions,ownerState:lt,role:"presentation",onMouseDown:Qe=>{Qe.preventDefault()},children:de}))),O.jsxs(_.Fragment,{children:[O.jsx(Ott,b({ref:t,className:Ae(ot.root,p),ownerState:lt},Ue(He),{children:je({id:$t,disabled:x,fullWidth:!0,size:me==="small"?"small":void 0,InputLabelProps:ge(),InputProps:b({ref:Pt,className:ot.inputRoot,startAdornment:Mt,onClick:Qe=>{Qe.target===Qe.currentTarget&&Qt(Qe)}},(Vr||Br)&&{endAdornment:O.jsxs(Dtt,{className:ot.endAdornment,ownerState:lt,children:[Vr?O.jsx(Att,b({},Ve(),{"aria-label":m,title:m,ownerState:lt},Wr,{className:Ae(ot.clearIndicator,Wr==null?void 0:Wr.className),children:f})):null,Br?O.jsx(Ptt,b({},_e(),{disabled:x,"aria-label":Ke?C:Me,title:Ke?C:Me,ownerState:lt},we,{className:Ae(ot.popupIndicator,we==null?void 0:we.className),children:he})):null]})}),inputProps:b({className:ot.input,disabled:x,readOnly:ke},Ge())})})),rt?st:null]})}),jne=Htt,Gtt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],$tt={entering:{opacity:1},entered:{opacity:1}},Wtt=_.forwardRef(function(e,t){const n=Xu(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:v,style:g,timeout:m=i,TransitionComponent:C=wne}=e,y=se(e,Gtt),w=_.useRef(null),T=ln(w,s.ref,t),S=P=>M=>{if(P){const N=w.current;M===void 0?P(N):P(N,M)}},x=S(h),I=S((P,M)=>{bne(P);const N=lx({style:g,timeout:m,easing:l},{mode:"enter"});P.style.webkitTransition=n.transitions.create("opacity",N),P.style.transition=n.transitions.create("opacity",N),c&&c(P,M)}),R=S(d),D=S(v),A=S(P=>{const M=lx({style:g,timeout:m,easing:l},{mode:"exit"});P.style.webkitTransition=n.transitions.create("opacity",M),P.style.transition=n.transitions.create("opacity",M),p&&p(P)}),V=S(f),F=P=>{o&&o(w.current,P)};return O.jsx(C,b({appear:a,in:u,nodeRef:w,onEnter:I,onEntered:R,onEntering:x,onExit:A,onExited:V,onExiting:D,addEndListener:F,timeout:m},y,{children:(P,M)=>_.cloneElement(s,b({style:b({opacity:0,visibility:P==="exited"&&!u?"hidden":void 0},$tt[P],g,s.props.style),ref:T},M))}))}),ztt=Wtt;function Utt(r){return Gt("MuiBackdrop",r)}Bt("MuiBackdrop",["root","invisible"]);const jtt=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ktt=r=>{const{classes:e,invisible:t}=r;return tt({root:["root",t&&"invisible"]},Utt,e)},qtt=be("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.invisible&&e.invisible]}})(({ownerState:r})=>b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},r.invisible&&{backgroundColor:"transparent"})),Ytt=_.forwardRef(function(e,t){var n,i,o;const a=qt({props:e,name:"MuiBackdrop"}),{children:s,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:p,slotProps:f={},slots:v={},TransitionComponent:g=ztt,transitionDuration:m}=a,C=se(a,jtt),y=b({},a,{component:u,invisible:h}),w=Ktt(y),T=(n=f.root)!=null?n:d.root;return O.jsx(g,b({in:p,timeout:m},C,{children:O.jsx(qtt,b({"aria-hidden":!0},T,{as:(i=(o=v.root)!=null?o:c.Root)!=null?i:u,className:Ae(w.root,l,T==null?void 0:T.className),ownerState:b({},y,T==null?void 0:T.ownerState),classes:w,ref:t,children:s}))}))}),Xtt=Ytt;function Qtt(r){return Gt("MuiBadge",r)}const Ztt=Bt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),gc=Ztt,Jtt=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],SA=10,wA=4,ert=tB(),trt=r=>{const{color:e,anchorOrigin:t,invisible:n,overlap:i,variant:o,classes:a={}}=r,s={root:["root"],badge:["badge",o,n&&"invisible",`anchorOrigin${Te(t.vertical)}${Te(t.horizontal)}`,`anchorOrigin${Te(t.vertical)}${Te(t.horizontal)}${Te(i)}`,`overlap${Te(i)}`,e!=="default"&&`color${Te(e)}`]};return tt(s,Qtt,a)},rrt=be("span",{name:"MuiBadge",slot:"Root",overridesResolver:(r,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),nrt=be("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.badge,e[t.variant],e[`anchorOrigin${Te(t.anchorOrigin.vertical)}${Te(t.anchorOrigin.horizontal)}${Te(t.overlap)}`],t.color!=="default"&&e[`color${Te(t.color)}`],t.invisible&&e.invisible]}})(({theme:r})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:SA*2,lineHeight:1,padding:"0 6px",height:SA*2,borderRadius:SA,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=r.vars)!=null?e:r).palette).filter(t=>{var n,i;return((n=r.vars)!=null?n:r).palette[t].main&&((i=r.vars)!=null?i:r).palette[t].contrastText}).map(t=>({props:{color:t},style:{backgroundColor:(r.vars||r).palette[t].main,color:(r.vars||r).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:wA,height:wA*2,minWidth:wA*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${gc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})}}]}}),irt=_.forwardRef(function(e,t){var n,i,o,a,s,l;const u=ert({props:e,name:"MuiBadge"}),{anchorOrigin:c={vertical:"top",horizontal:"right"},className:d,component:h,components:p={},componentsProps:f={},children:v,overlap:g="rectangular",color:m="default",invisible:C=!1,max:y=99,badgeContent:w,slots:T,slotProps:S,showZero:x=!1,variant:I="standard"}=u,R=se(u,Jtt),{badgeContent:D,invisible:A,max:V,displayValue:F}=QZe({max:y,invisible:C,badgeContent:w,showZero:x}),P=KV({anchorOrigin:c,color:m,overlap:g,variant:I,badgeContent:w}),M=A||D==null&&I!=="dot",{color:N=m,overlap:H=g,anchorOrigin:G=c,variant:z=I}=M?P:u,j=z!=="dot"?F:void 0,q=b({},u,{badgeContent:D,invisible:M,max:V,displayValue:j,showZero:x,anchorOrigin:G,color:N,overlap:H,variant:z}),K=trt(q),ie=(n=(i=T==null?void 0:T.root)!=null?i:p.Root)!=null?n:rrt,ee=(o=(a=T==null?void 0:T.badge)!=null?a:p.Badge)!=null?o:nrt,te=(s=S==null?void 0:S.root)!=null?s:f.root,de=(l=S==null?void 0:S.badge)!=null?l:f.badge,Se=ka({elementType:ie,externalSlotProps:te,externalForwardedProps:R,additionalProps:{ref:t,as:h},ownerState:q,className:Ae(te==null?void 0:te.className,K.root,d)}),Me=ka({elementType:ee,externalSlotProps:de,ownerState:q,className:Ae(K.badge,de==null?void 0:de.className)});return O.jsxs(ie,b({},Se,{children:[v,O.jsx(ee,b({},Me,{children:j}))]}))}),Kne=irt,ort=Bt("MuiBox",["root"]),art=ort,srt=gne(),lrt=eXe({themeId:py,defaultTheme:srt,defaultClassName:art.root,generateClassName:Yre.generate}),urt=lrt;function crt(r){return Gt("MuiButton",r)}const drt=Bt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Pw=drt,hrt=_.createContext({}),prt=hrt,frt=_.createContext(void 0),vrt=frt,grt=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],mrt=r=>{const{color:e,disableElevation:t,fullWidth:n,size:i,variant:o,classes:a}=r,s={root:["root",o,`${o}${Te(e)}`,`size${Te(i)}`,`${o}Size${Te(i)}`,`color${Te(e)}`,t&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Te(i)}`],endIcon:["icon","endIcon",`iconSize${Te(i)}`]},l=tt(s,crt,a);return b({},a,l)},qne=r=>b({},r.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},r.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},r.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),_rt=be(sd,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiButton",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],e[`${t.variant}${Te(t.color)}`],e[`size${Te(t.size)}`],e[`${t.variant}Size${Te(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth]}})(({theme:r,ownerState:e})=>{var t,n;const i=r.palette.mode==="light"?r.palette.grey[300]:r.palette.grey[800],o=r.palette.mode==="light"?r.palette.grey.A100:r.palette.grey[700];return b({},r.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:r.vars?`rgba(${r.vars.palette[e.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(r.palette[e.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(r.vars||r).palette[e.color].main}`,backgroundColor:r.vars?`rgba(${r.vars.palette[e.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(r.palette[e.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:r.vars?r.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(r.vars||r).shadows[4],"@media (hover: none)":{boxShadow:(r.vars||r).shadows[2],backgroundColor:(r.vars||r).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(r.vars||r).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(r.vars||r).palette[e.color].main}}),"&:active":b({},e.variant==="contained"&&{boxShadow:(r.vars||r).shadows[8]}),[`&.${Pw.focusVisible}`]:b({},e.variant==="contained"&&{boxShadow:(r.vars||r).shadows[6]}),[`&.${Pw.disabled}`]:b({color:(r.vars||r).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(r.vars||r).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(r.vars||r).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(r.vars||r).palette[e.color].main,border:r.vars?`1px solid rgba(${r.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Ir(r.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:r.vars?r.vars.palette.text.primary:(t=(n=r.palette).getContrastText)==null?void 0:t.call(n,r.palette.grey[300]),backgroundColor:r.vars?r.vars.palette.Button.inheritContainedBg:i,boxShadow:(r.vars||r).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(r.vars||r).palette[e.color].contrastText,backgroundColor:(r.vars||r).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:r.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:r.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:r.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:r.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:r.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:r.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:r})=>r.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pw.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pw.disabled}`]:{boxShadow:"none"}}),Crt=be("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.startIcon,e[`iconSize${Te(t.size)}`]]}})(({ownerState:r})=>b({display:"inherit",marginRight:8,marginLeft:-4},r.size==="small"&&{marginLeft:-2},qne(r))),yrt=be("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.endIcon,e[`iconSize${Te(t.size)}`]]}})(({ownerState:r})=>b({display:"inherit",marginRight:-4,marginLeft:8},r.size==="small"&&{marginRight:-2},qne(r))),Srt=_.forwardRef(function(e,t){const n=_.useContext(prt),i=_.useContext(vrt),o=WV(n,e),a=qt({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:v,fullWidth:g=!1,size:m="medium",startIcon:C,type:y,variant:w="text"}=a,T=se(a,grt),S=b({},a,{color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:m,type:y,variant:w}),x=mrt(S),I=C&&O.jsx(Crt,{className:x.startIcon,ownerState:S,children:C}),R=f&&O.jsx(yrt,{className:x.endIcon,ownerState:S,children:f}),D=i||"";return O.jsxs(_rt,b({ownerState:S,className:Ae(n.className,x.root,c,D),component:u,disabled:d,focusRipple:!p,focusVisibleClassName:Ae(x.focusVisible,v),ref:t,type:y},T,{classes:x,children:[I,s,R]}))}),wrt=Srt;function brt(r){return Gt("PrivateSwitchBase",r)}Bt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ert=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],xrt=r=>{const{classes:e,checked:t,disabled:n,edge:i}=r,o={root:["root",t&&"checked",n&&"disabled",i&&`edge${Te(i)}`],input:["input"]};return tt(o,brt,e)},Irt=be(sd)(({ownerState:r})=>b({padding:9,borderRadius:"50%"},r.edge==="start"&&{marginLeft:r.size==="small"?-3:-12},r.edge==="end"&&{marginRight:r.size==="small"?-3:-12})),Trt=be("input",{shouldForwardProp:eo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Rrt=_.forwardRef(function(e,t){const{autoFocus:n,checked:i,checkedIcon:o,className:a,defaultChecked:s,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:d,id:h,inputProps:p,inputRef:f,name:v,onBlur:g,onChange:m,onFocus:C,readOnly:y,required:w=!1,tabIndex:T,type:S,value:x}=e,I=se(e,Ert),[R,D]=Rh({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),A=Zu(),V=z=>{C&&C(z),A&&A.onFocus&&A.onFocus(z)},F=z=>{g&&g(z),A&&A.onBlur&&A.onBlur(z)},P=z=>{if(z.nativeEvent.defaultPrevented)return;const j=z.target.checked;D(j),m&&m(z,j)};let M=l;A&&typeof M>"u"&&(M=A.disabled);const N=S==="checkbox"||S==="radio",H=b({},e,{checked:R,disabled:M,disableFocusRipple:u,edge:c}),G=xrt(H);return O.jsxs(Irt,b({component:"span",className:Ae(G.root,a),centerRipple:!0,focusRipple:!u,disabled:M,tabIndex:null,role:void 0,onFocus:V,onBlur:F,ownerState:H,ref:t},I,{children:[O.jsx(Trt,b({autoFocus:n,checked:i,defaultChecked:s,className:G.input,disabled:M,id:N?h:void 0,name:v,onChange:P,readOnly:y,ref:f,required:w,ownerState:H,tabIndex:T,type:S},S==="checkbox"&&x===void 0?{}:{value:x},p)),R?o:d]}))}),hB=Rrt,Ort=dr(O.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Drt=dr(O.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Art=dr(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Prt(r){return Gt("MuiCheckbox",r)}const Mrt=Bt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),bA=Mrt,Frt=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Lrt=r=>{const{classes:e,indeterminate:t,color:n,size:i}=r,o={root:["root",t&&"indeterminate",`color${Te(n)}`,`size${Te(i)}`]},a=tt(o,Prt,e);return b({},e,a)},Nrt=be(hB,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.indeterminate&&e.indeterminate,e[`size${Te(t.size)}`],t.color!=="default"&&e[`color${Te(t.color)}`]]}})(({theme:r,ownerState:e})=>b({color:(r.vars||r).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${e.color==="default"?r.vars.palette.action.activeChannel:r.vars.palette[e.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(e.color==="default"?r.palette.action.active:r.palette[e.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${bA.checked}, &.${bA.indeterminate}`]:{color:(r.vars||r).palette[e.color].main},[`&.${bA.disabled}`]:{color:(r.vars||r).palette.action.disabled}})),krt=O.jsx(Drt,{}),Vrt=O.jsx(Ort,{}),Brt=O.jsx(Art,{}),Hrt=_.forwardRef(function(e,t){var n,i;const o=qt({props:e,name:"MuiCheckbox"}),{checkedIcon:a=krt,color:s="primary",icon:l=Vrt,indeterminate:u=!1,indeterminateIcon:c=Brt,inputProps:d,size:h="medium",className:p}=o,f=se(o,Frt),v=u?c:l,g=u?c:a,m=b({},o,{color:s,indeterminate:u,size:h}),C=Lrt(m);return O.jsx(Nrt,b({type:"checkbox",inputProps:b({"data-indeterminate":u},d),icon:_.cloneElement(v,{fontSize:(n=v.props.fontSize)!=null?n:h}),checkedIcon:_.cloneElement(g,{fontSize:(i=g.props.fontSize)!=null?i:h}),ownerState:m,ref:t,className:Ae(C.root,p)},f,{classes:C}))}),Grt=Hrt;function $rt(r){return Gt("MuiCircularProgress",r)}Bt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Wrt=["className","color","disableShrink","size","style","thickness","value","variant"];let XI=r=>r,A3,P3,M3,F3;const mc=44,zrt=yd(A3||(A3=XI`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Urt=yd(P3||(P3=XI`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),jrt=r=>{const{classes:e,variant:t,color:n,disableShrink:i}=r,o={root:["root",t,`color${Te(n)}`],svg:["svg"],circle:["circle",`circle${Te(t)}`,i&&"circleDisableShrink"]};return tt(o,$rt,e)},Krt=be("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],e[`color${Te(t.color)}`]]}})(({ownerState:r,theme:e})=>b({display:"inline-block"},r.variant==="determinate"&&{transition:e.transitions.create("transform")},r.color!=="inherit"&&{color:(e.vars||e).palette[r.color].main}),({ownerState:r})=>r.variant==="indeterminate"&&vv(M3||(M3=XI`
      animation: ${0} 1.4s linear infinite;
    `),zrt)),qrt=be("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(r,e)=>e.svg})({display:"block"}),Yrt=be("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.circle,e[`circle${Te(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(({ownerState:r,theme:e})=>b({stroke:"currentColor"},r.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},r.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:r})=>r.variant==="indeterminate"&&!r.disableShrink&&vv(F3||(F3=XI`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Urt)),Xrt=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,size:s=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=n,h=se(n,Wrt),p=b({},n,{color:o,disableShrink:a,size:s,thickness:u,value:c,variant:d}),f=jrt(p),v={},g={},m={};if(d==="determinate"){const C=2*Math.PI*((mc-u)/2);v.strokeDasharray=C.toFixed(3),m["aria-valuenow"]=Math.round(c),v.strokeDashoffset=`${((100-c)/100*C).toFixed(3)}px`,g.transform="rotate(-90deg)"}return O.jsx(Krt,b({className:Ae(f.root,i),style:b({width:s,height:s},g,l),ownerState:p,ref:t,role:"progressbar"},m,h,{children:O.jsx(qrt,{className:f.svg,ownerState:p,viewBox:`${mc/2} ${mc/2} ${mc} ${mc}`,children:O.jsx(Yrt,{className:f.circle,style:v,ownerState:p,cx:mc,cy:mc,r:(mc-u)/2,fill:"none",strokeWidth:u})})}))}),Qrt=Xrt;function Zrt(r){return Gt("MuiModal",r)}Bt("MuiModal",["root","hidden","backdrop"]);const Jrt=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],ent=r=>{const{open:e,exited:t,classes:n}=r;return tt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},Zrt,n)},tnt=be("div",{name:"MuiModal",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,!t.open&&t.exited&&e.hidden]}})(({theme:r,ownerState:e})=>b({position:"fixed",zIndex:(r.vars||r).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),rnt=be(Xtt,{name:"MuiModal",slot:"Backdrop",overridesResolver:(r,e)=>e.backdrop})({zIndex:-1}),nnt=_.forwardRef(function(e,t){var n,i,o,a,s,l;const u=qt({name:"MuiModal",props:e}),{BackdropComponent:c=rnt,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:v,component:g,components:m={},componentsProps:C={},disableAutoFocus:y=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:T=!1,disablePortal:S=!1,disableRestoreFocus:x=!1,disableScrollLock:I=!1,hideBackdrop:R=!1,keepMounted:D=!1,onBackdropClick:A,open:V,slotProps:F,slots:P}=u,M=se(u,Jrt),N=b({},u,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:T,disablePortal:S,disableRestoreFocus:x,disableScrollLock:I,hideBackdrop:R,keepMounted:D}),{getRootProps:H,getBackdropProps:G,getTransitionProps:z,portalRef:j,isTopModal:q,exited:K,hasTransition:ie}=mJe(b({},N,{rootRef:t})),ee=b({},N,{exited:K}),te=ent(ee),de={};if(f.props.tabIndex===void 0&&(de.tabIndex="-1"),ie){const{onEnter:Oe,onExited:je}=z();de.onEnter=Oe,de.onExited=je}const Se=(n=(i=P==null?void 0:P.root)!=null?i:m.Root)!=null?n:tnt,Me=(o=(a=P==null?void 0:P.backdrop)!=null?a:m.Backdrop)!=null?o:c,De=(s=F==null?void 0:F.root)!=null?s:C.root,ze=(l=F==null?void 0:F.backdrop)!=null?l:C.backdrop,he=ka({elementType:Se,externalSlotProps:De,externalForwardedProps:M,getSlotProps:H,additionalProps:{ref:t,as:g},ownerState:ee,className:Ae(h,De==null?void 0:De.className,te==null?void 0:te.root,!ee.open&&ee.exited&&(te==null?void 0:te.hidden))}),ke=ka({elementType:Me,externalSlotProps:ze,additionalProps:d,getSlotProps:Oe=>G(b({},Oe,{onClick:je=>{A&&A(je),Oe!=null&&Oe.onClick&&Oe.onClick(je)}})),className:Ae(ze==null?void 0:ze.className,d==null?void 0:d.className,te==null?void 0:te.backdrop),ownerState:ee});return!D&&!V&&(!ie||K)?null:O.jsx(One,{ref:j,container:v,disablePortal:S,children:O.jsxs(Se,b({},he,{children:[!R&&c?O.jsx(Me,b({},ke)):null,O.jsx(Rne,{disableEnforceFocus:w,disableAutoFocus:y,disableRestoreFocus:x,isEnabled:q,open:V,children:_.cloneElement(f,de)})]}))})}),int=nnt;function ont(r){return Gt("MuiDivider",r)}const ant=Bt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),L3=ant,snt=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],lnt=r=>{const{absolute:e,children:t,classes:n,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=r;return tt({root:["root",e&&"absolute",l,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},ont,n)},unt=be("div",{name:"MuiDivider",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:r,ownerState:e})=>b({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(r.vars||r).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:r.vars?`rgba(${r.vars.palette.dividerChannel} / 0.08)`:Ir(r.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:r.spacing(2),marginRight:r.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:r.spacing(1),marginBottom:r.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:r})=>b({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:r,ownerState:e})=>b({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(r.vars||r).palette.divider}`}}),({theme:r,ownerState:e})=>b({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(r.vars||r).palette.divider}`}}),({ownerState:r})=>b({},r.textAlign==="right"&&r.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},r.textAlign==="left"&&r.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),cnt=be("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(({theme:r,ownerState:e})=>b({display:"inline-block",paddingLeft:`calc(${r.spacing(1)} * 1.2)`,paddingRight:`calc(${r.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${r.spacing(1)} * 1.2)`,paddingBottom:`calc(${r.spacing(1)} * 1.2)`})),Yne=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,component:s=o?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:d=s!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth"}=n,f=se(n,snt),v=b({},n,{absolute:i,component:s,flexItem:l,light:u,orientation:c,role:d,textAlign:h,variant:p}),g=lnt(v);return O.jsx(unt,b({as:s,className:Ae(g.root,a),role:d,ref:t,ownerState:v},f,{children:o?O.jsx(cnt,{className:g.wrapper,ownerState:v,children:o}):null}))});Yne.muiSkipListHighlight=!0;const dnt=Yne,hnt=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],pnt=r=>{const{classes:e,disableUnderline:t}=r,i=tt({root:["root",!t&&"underline"],input:["input"]},wtt,e);return b({},e,i)},fnt=be(qI,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[...jI(r,e),!t.disableUnderline&&e.underline]}})(({theme:r,ownerState:e})=>{var t;const n=r.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return b({position:"relative",backgroundColor:r.vars?r.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:o}},[`&.${ya.focused}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:o},[`&.${ya.disabled}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:s}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t=(r.vars||r).palette[e.color||"primary"])==null?void 0:t.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ya.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ya.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ya.disabled}, .${ya.error}):before`]:{borderBottom:`1px solid ${(r.vars||r).palette.text.primary}`},[`&.${ya.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&b({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),vnt=be(YI,{name:"MuiFilledInput",slot:"Input",overridesResolver:KI})(({theme:r,ownerState:e})=>b({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},r.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Xne=_.forwardRef(function(e,t){var n,i,o,a;const s=qt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:v="text"}=s,g=se(s,hnt),m=b({},s,{fullWidth:c,inputComponent:d,multiline:h,type:v}),C=pnt(s),y={root:{ownerState:m},input:{ownerState:m}},w=p??u?vo(y,p??u):y,T=(n=(i=f.root)!=null?i:l.Root)!=null?n:fnt,S=(o=(a=f.input)!=null?a:l.Input)!=null?o:vnt;return O.jsx(Bv,b({slots:{root:T,input:S},componentsProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:t,type:v},g,{classes:C}))});Xne.muiName="Input";const Qne=Xne;function gnt(r){return Gt("MuiFormControl",r)}Bt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const mnt=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],_nt=r=>{const{classes:e,margin:t,fullWidth:n}=r,i={root:["root",t!=="none"&&`margin${Te(t)}`,n&&"fullWidth"]};return tt(i,gnt,e)},Cnt=be("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:r},e)=>b({},e.root,e[`margin${Te(r.margin)}`],r.fullWidth&&e.fullWidth)})(({ownerState:r})=>b({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},r.margin==="normal"&&{marginTop:16,marginBottom:8},r.margin==="dense"&&{marginTop:8,marginBottom:4},r.fullWidth&&{width:"100%"})),ynt=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:v="medium",variant:g="outlined"}=n,m=se(n,mnt),C=b({},n,{color:a,component:s,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:v,variant:g}),y=_nt(C),[w,T]=_.useState(()=>{let F=!1;return i&&_.Children.forEach(i,P=>{if(!gA(P,["Input","Select"]))return;const M=gA(P,["Select"])?P.props.input:P;M&&dtt(M.props)&&(F=!0)}),F}),[S,x]=_.useState(()=>{let F=!1;return i&&_.Children.forEach(i,P=>{gA(P,["Input","Select"])&&(cx(P.props,!0)||cx(P.props.inputProps,!0))&&(F=!0)}),F}),[I,R]=_.useState(!1);l&&I&&R(!1);const D=c!==void 0&&!l?c:I;let A;const V=_.useMemo(()=>({adornedStart:w,setAdornedStart:T,color:a,disabled:l,error:u,filled:S,focused:D,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{R(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{R(!0)},registerEffect:A,required:f,variant:g}),[w,a,l,u,S,D,d,h,A,f,v,g]);return O.jsx(UI.Provider,{value:V,children:O.jsx(Cnt,b({as:s,ownerState:C,className:Ae(y.root,o),ref:t},m,{children:i}))})}),Zne=ynt,Snt=$Xe({createStyledComponent:be("div",{name:"MuiStack",slot:"Root",overridesResolver:(r,e)=>e.root}),useThemeProps:r=>qt({props:r,name:"MuiStack"})}),wnt=Snt;function bnt(r){return Gt("MuiFormControlLabel",r)}const Ent=Bt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Fm=Ent,xnt=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Int=r=>{const{classes:e,disabled:t,labelPlacement:n,error:i,required:o}=r,a={root:["root",t&&"disabled",`labelPlacement${Te(n)}`,i&&"error",o&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",i&&"error"]};return tt(a,bnt,e)},Tnt=be("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${Fm.label}`]:e.label},e.root,e[`labelPlacement${Te(t.labelPlacement)}`]]}})(({theme:r,ownerState:e})=>b({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Fm.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Fm.label}`]:{[`&.${Fm.disabled}`]:{color:(r.vars||r).palette.text.disabled}}})),Rnt=be("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(r,e)=>e.asterisk})(({theme:r})=>({[`&.${Fm.error}`]:{color:(r.vars||r).palette.error.main}})),Ont=_.forwardRef(function(e,t){var n,i;const o=qt({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:u,disableTypography:c,label:d,labelPlacement:h="end",required:p,slotProps:f={}}=o,v=se(o,xnt),g=Zu(),m=(n=u??l.props.disabled)!=null?n:g==null?void 0:g.disabled,C=p??l.props.required,y={disabled:m,required:C};["checked","name","onChange","value","inputRef"].forEach(R=>{typeof l.props[R]>"u"&&typeof o[R]<"u"&&(y[R]=o[R])});const w=Ep({props:o,muiFormControl:g,states:["error"]}),T=b({},o,{disabled:m,labelPlacement:h,required:C,error:w.error}),S=Int(T),x=(i=f.typography)!=null?i:s.typography;let I=d;return I!=null&&I.type!==ph&&!c&&(I=O.jsx(ph,b({component:"span"},x,{className:Ae(S.label,x==null?void 0:x.className),children:I}))),O.jsxs(Tnt,b({className:Ae(S.root,a),ownerState:T,ref:t},v,{children:[_.cloneElement(l,y),C?O.jsxs(wnt,{display:"block",children:[I,O.jsxs(Rnt,{ownerState:T,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]}):I]}))}),Dnt=Ont;function Ant(r){return Gt("MuiFormHelperText",r)}const Pnt=Bt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),N3=Pnt;var k3;const Mnt=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Fnt=r=>{const{classes:e,contained:t,size:n,disabled:i,error:o,filled:a,focused:s,required:l}=r,u={root:["root",i&&"disabled",o&&"error",n&&`size${Te(n)}`,t&&"contained",s&&"focused",a&&"filled",l&&"required"]};return tt(u,Ant,e)},Lnt=be("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.size&&e[`size${Te(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(({theme:r,ownerState:e})=>b({color:(r.vars||r).palette.text.secondary},r.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${N3.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${N3.error}`]:{color:(r.vars||r).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Nnt=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p"}=n,s=se(n,Mnt),l=Zu(),u=Ep({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=b({},n,{component:a,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Fnt(c);return O.jsx(Lnt,b({as:a,ownerState:c,className:Ae(d.root,o),ref:t},s,{children:i===" "?k3||(k3=O.jsx("span",{className:"notranslate",children:""})):i}))}),knt=Nnt;function Vnt(r){return Gt("MuiFormLabel",r)}const Bnt=Bt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),p_=Bnt,Hnt=["children","className","color","component","disabled","error","filled","focused","required"],Gnt=r=>{const{classes:e,color:t,focused:n,disabled:i,error:o,filled:a,required:s}=r,l={root:["root",`color${Te(t)}`,i&&"disabled",o&&"error",a&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return tt(l,Vnt,e)},$nt=be("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:r},e)=>b({},e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled)})(({theme:r,ownerState:e})=>b({color:(r.vars||r).palette.text.secondary},r.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${p_.focused}`]:{color:(r.vars||r).palette[e.color].main},[`&.${p_.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${p_.error}`]:{color:(r.vars||r).palette.error.main}})),Wnt=be("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(r,e)=>e.asterisk})(({theme:r})=>({[`&.${p_.error}`]:{color:(r.vars||r).palette.error.main}})),znt=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:a="label"}=n,s=se(n,Hnt),l=Zu(),u=Ep({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=b({},n,{color:u.color||"primary",component:a,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Gnt(c);return O.jsxs($nt,b({as:a,ownerState:c,className:Ae(d.root,o),ref:t},s,{children:[i,u.required&&O.jsxs(Wnt,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),Unt=znt,jnt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function mF(r){return`scale(${r}, ${r**2})`}const Knt={entering:{opacity:1,transform:mF(1)},entered:{opacity:1,transform:"none"}},EA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Jne=_.forwardRef(function(e,t){const{addEndListener:n,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:f,timeout:v="auto",TransitionComponent:g=wne}=e,m=se(e,jnt),C=kf(),y=_.useRef(),w=Xu(),T=_.useRef(null),S=ln(T,o.ref,t),x=M=>N=>{if(M){const H=T.current;N===void 0?M(H):M(H,N)}},I=x(c),R=x((M,N)=>{bne(M);const{duration:H,delay:G,easing:z}=lx({style:f,timeout:v,easing:a},{mode:"enter"});let j;v==="auto"?(j=w.transitions.getAutoHeightDuration(M.clientHeight),y.current=j):j=H,M.style.transition=[w.transitions.create("opacity",{duration:j,delay:G}),w.transitions.create("transform",{duration:EA?j:j*.666,delay:G,easing:z})].join(","),l&&l(M,N)}),D=x(u),A=x(p),V=x(M=>{const{duration:N,delay:H,easing:G}=lx({style:f,timeout:v,easing:a},{mode:"exit"});let z;v==="auto"?(z=w.transitions.getAutoHeightDuration(M.clientHeight),y.current=z):z=N,M.style.transition=[w.transitions.create("opacity",{duration:z,delay:H}),w.transitions.create("transform",{duration:EA?z:z*.666,delay:EA?H:H||z*.333,easing:G})].join(","),M.style.opacity=0,M.style.transform=mF(.75),d&&d(M)}),F=x(h),P=M=>{v==="auto"&&C.start(y.current||0,M),n&&n(T.current,M)};return O.jsx(g,b({appear:i,in:s,nodeRef:T,onEnter:R,onEntered:D,onEntering:I,onExit:V,onExited:F,onExiting:A,addEndListener:P,timeout:v==="auto"?null:v},m,{children:(M,N)=>_.cloneElement(o,b({style:b({opacity:0,transform:mF(.75),visibility:M==="exited"&&!s?"hidden":void 0},Knt[M],f,o.props.style),ref:S},N))}))});Jne.muiSupportAuto=!0;const dx=Jne,qnt=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Ynt=r=>{const{classes:e,disableUnderline:t}=r,i=tt({root:["root",!t&&"underline"],input:["input"]},_tt,e);return b({},e,i)},Xnt=be(qI,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiInput",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[...jI(r,e),!t.disableUnderline&&e.underline]}})(({theme:r,ownerState:e})=>{let n=r.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return r.vars&&(n=`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`),b({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mc.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mc.disabled}, .${Mc.error}):before`]:{borderBottom:`2px solid ${(r.vars||r).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Mc.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Qnt=be(YI,{name:"MuiInput",slot:"Input",overridesResolver:KI})({}),eie=_.forwardRef(function(e,t){var n,i,o,a;const s=qt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:f,slots:v={},type:g="text"}=s,m=se(s,qnt),C=Ynt(s),w={root:{ownerState:{disableUnderline:l}}},T=f??c?vo(f??c,w):w,S=(n=(i=v.root)!=null?i:u.Root)!=null?n:Xnt,x=(o=(a=v.input)!=null?a:u.Input)!=null?o:Qnt;return O.jsx(Bv,b({slots:{root:S,input:x},slotProps:T,fullWidth:d,inputComponent:h,multiline:p,ref:t,type:g},m,{classes:C}))});eie.muiName="Input";const tie=eie;function Znt(r){return Gt("MuiInputAdornment",r)}const Jnt=Bt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),V3=Jnt;var B3;const eit=["children","className","component","disablePointerEvents","disableTypography","position","variant"],tit=(r,e)=>{const{ownerState:t}=r;return[e.root,e[`position${Te(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},rit=r=>{const{classes:e,disablePointerEvents:t,hiddenLabel:n,position:i,size:o,variant:a}=r,s={root:["root",t&&"disablePointerEvents",i&&`position${Te(i)}`,a,n&&"hiddenLabel",o&&`size${Te(o)}`]};return tt(s,Znt,e)},nit=be("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:tit})(({theme:r,ownerState:e})=>b({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},e.variant==="filled"&&{[`&.${V3.positionStart}&:not(.${V3.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),iit=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:a="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:u,variant:c}=n,d=se(n,eit),h=Zu()||{};let p=c;c&&h.variant,h&&!p&&(p=h.variant);const f=b({},n,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:s,position:u,variant:p}),v=rit(f);return O.jsx(UI.Provider,{value:null,children:O.jsx(nit,b({as:a,ownerState:f,className:Ae(v.root,o),ref:t},d,{children:typeof i=="string"&&!l?O.jsx(ph,{color:"text.secondary",children:i}):O.jsxs(_.Fragment,{children:[u==="start"?B3||(B3=O.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),oit=iit;function ait(r){return Gt("MuiInputLabel",r)}Bt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const sit=["disableAnimation","margin","shrink","variant","className"],lit=r=>{const{classes:e,formControl:t,size:n,shrink:i,disableAnimation:o,variant:a,required:s}=r,l={root:["root",t&&"formControl",!o&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Te(n)}`,a],asterisk:[s&&"asterisk"]},u=tt(l,ait,e);return b({},e,u)},uit=be(Unt,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${p_.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(({theme:r,ownerState:e})=>b({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:r.transitions.create(["color","transform","max-width"],{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut})},e.variant==="filled"&&b({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&b({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&b({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),cit=_.forwardRef(function(e,t){const n=qt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:a}=n,s=se(n,sit),l=Zu();let u=o;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Ep({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),d=b({},n,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=lit(d);return O.jsx(uit,b({"data-shrink":u,ownerState:d,ref:t,className:Ae(h.root,a)},s,{classes:h}))}),pB=cit,dit=_.createContext({}),cC=dit;function hit(r){return Gt("MuiList",r)}Bt("MuiList",["root","padding","dense","subheader"]);const pit=["children","className","component","dense","disablePadding","subheader"],fit=r=>{const{classes:e,disablePadding:t,dense:n,subheader:i}=r;return tt({root:["root",!t&&"padding",n&&"dense",i&&"subheader"]},hit,e)},vit=be("ul",{name:"MuiList",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})(({ownerState:r})=>b({listStyle:"none",margin:0,padding:0,position:"relative"},!r.disablePadding&&{paddingTop:8,paddingBottom:8},r.subheader&&{paddingTop:0})),git=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:u}=n,c=se(n,pit),d=_.useMemo(()=>({dense:s}),[s]),h=b({},n,{component:a,dense:s,disablePadding:l}),p=fit(h);return O.jsx(cC.Provider,{value:d,children:O.jsxs(vit,b({as:a,className:Ae(p.root,o),ref:t,ownerState:h},c,{children:[u,i]}))})}),mit=git;function _it(r){return Gt("MuiListItemIcon",r)}const Cit=Bt("MuiListItemIcon",["root","alignItemsFlexStart"]),H3=Cit,yit=["className"],Sit=r=>{const{alignItems:e,classes:t}=r;return tt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},_it,t)},wit=be("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:r,ownerState:e})=>b({minWidth:56,color:(r.vars||r).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),bit=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiListItemIcon"}),{className:i}=n,o=se(n,yit),a=_.useContext(cC),s=b({},n,{alignItems:a.alignItems}),l=Sit(s);return O.jsx(wit,b({className:Ae(l.root,i),ownerState:s,ref:t},o))}),qf=bit;function Eit(r){return Gt("MuiListItemText",r)}const xit=Bt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),hx=xit,Iit=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Tit=r=>{const{classes:e,inset:t,primary:n,secondary:i,dense:o}=r;return tt({root:["root",t&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Eit,e)},Rit=be("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${hx.primary}`]:e.primary},{[`& .${hx.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})(({ownerState:r})=>b({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},r.primary&&r.secondary&&{marginTop:6,marginBottom:6},r.inset&&{paddingLeft:56})),Oit=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=n,h=se(n,Iit),{dense:p}=_.useContext(cC);let f=l??i,v=c;const g=b({},n,{disableTypography:a,inset:s,primary:!!f,secondary:!!v,dense:p}),m=Tit(g);return f!=null&&f.type!==ph&&!a&&(f=O.jsx(ph,b({variant:p?"body2":"body1",className:m.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:f}))),v!=null&&v.type!==ph&&!a&&(v=O.jsx(ph,b({variant:"body2",className:m.secondary,color:"text.secondary",display:"block"},d,{children:v}))),O.jsxs(Rit,b({className:Ae(m.root,o),ownerState:g,ref:t},h,{children:[f,v]}))}),Yf=Oit,Dit=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function xA(r,e,t){return r===e?r.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:r.firstChild}function G3(r,e,t){return r===e?t?r.firstChild:r.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:r.lastChild}function rie(r,e){if(e===void 0)return!0;let t=r.innerText;return t===void 0&&(t=r.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function lm(r,e,t,n,i,o){let a=!1,s=i(r,e,e?t:!1);for(;s;){if(s===r.firstChild){if(a)return!1;a=!0}const l=n?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!rie(s,o)||l)s=i(r,s,t);else return s.focus(),!0}return!1}const Ait=_.forwardRef(function(e,t){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=se(e,Dit),p=_.useRef(null),f=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});sn(()=>{i&&p.current.focus()},[i]),_.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(y,{direction:w})=>{const T=!p.current.style.width;if(y.clientHeight<p.current.clientHeight&&T){const S=`${ane(An(y))}px`;p.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=S,p.current.style.width=`calc(100% + ${S})`}return p.current}}),[]);const v=y=>{const w=p.current,T=y.key,S=An(w).activeElement;if(T==="ArrowDown")y.preventDefault(),lm(w,S,u,l,xA);else if(T==="ArrowUp")y.preventDefault(),lm(w,S,u,l,G3);else if(T==="Home")y.preventDefault(),lm(w,null,u,l,xA);else if(T==="End")y.preventDefault(),lm(w,null,u,l,G3);else if(T.length===1){const x=f.current,I=T.toLowerCase(),R=performance.now();x.keys.length>0&&(R-x.lastTime>500?(x.keys=[],x.repeating=!0,x.previousKeyMatched=!0):x.repeating&&I!==x.keys[0]&&(x.repeating=!1)),x.lastTime=R,x.keys.push(I);const D=S&&!x.repeating&&rie(S,x);x.previousKeyMatched&&(D||lm(w,S,!1,l,xA,x))?y.preventDefault():x.previousKeyMatched=!1}c&&c(y)},g=ln(p,t);let m=-1;_.Children.forEach(a,(y,w)=>{if(!_.isValidElement(y)){m===w&&(m+=1,m>=a.length&&(m=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||m===-1)&&(m=w),m===w&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(m+=1,m>=a.length&&(m=-1))});const C=_.Children.map(a,(y,w)=>{if(w===m){const T={};return o&&(T.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(T.tabIndex=0),_.cloneElement(y,T)}return y});return O.jsx(mit,b({role:"menu",ref:g,className:s,onKeyDown:v,tabIndex:i?0:-1},h,{children:C}))}),fB=Ait;function Pit(r){return Gt("MuiPopover",r)}Bt("MuiPopover",["root","paper"]);const Mit=["onEntering"],Fit=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Lit=["slotProps"];function $3(r,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=r.height/2:e==="bottom"&&(t=r.height),t}function W3(r,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=r.width/2:e==="right"&&(t=r.width),t}function z3(r){return[r.horizontal,r.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function IA(r){return typeof r=="function"?r():r}const Nit=r=>{const{classes:e}=r;return tt({root:["root"],paper:["paper"]},Pit,e)},kit=be(int,{name:"MuiPopover",slot:"Root",overridesResolver:(r,e)=>e.root})({}),nie=be(yy,{name:"MuiPopover",slot:"Paper",overridesResolver:(r,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Vit=_.forwardRef(function(e,t){var n,i,o;const a=qt({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:v=8,marginThreshold:g=16,open:m,PaperProps:C={},slots:y,slotProps:w,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:S=dx,transitionDuration:x="auto",TransitionProps:{onEntering:I}={},disableScrollLock:R=!1}=a,D=se(a.TransitionProps,Mit),A=se(a,Fit),V=(n=w==null?void 0:w.paper)!=null?n:C,F=_.useRef(),P=ln(F,V.ref),M=b({},a,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:g,externalPaperSlotProps:V,transformOrigin:T,TransitionComponent:S,transitionDuration:x,TransitionProps:D}),N=Nit(M),H=_.useCallback(()=>{if(d==="anchorPosition")return c;const Oe=IA(l),xe=(Oe&&Oe.nodeType===1?Oe:An(F.current).body).getBoundingClientRect();return{top:xe.top+$3(xe,u.vertical),left:xe.left+W3(xe,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),G=_.useCallback(Oe=>({vertical:$3(Oe,T.vertical),horizontal:W3(Oe,T.horizontal)}),[T.horizontal,T.vertical]),z=_.useCallback(Oe=>{const je={width:Oe.offsetWidth,height:Oe.offsetHeight},xe=G(je);if(d==="none")return{top:null,left:null,transformOrigin:z3(xe)};const ae=H();let Ie=ae.top-xe.vertical,me=ae.left-xe.horizontal;const nt=Ie+je.height,He=me+je.width,Ue=Gl(IA(l)),Ge=Ue.innerHeight-g,ge=Ue.innerWidth-g;if(g!==null&&Ie<g){const _e=Ie-g;Ie-=_e,xe.vertical+=_e}else if(g!==null&&nt>Ge){const _e=nt-Ge;Ie-=_e,xe.vertical+=_e}if(g!==null&&me<g){const _e=me-g;me-=_e,xe.horizontal+=_e}else if(He>ge){const _e=He-ge;me-=_e,xe.horizontal+=_e}return{top:`${Math.round(Ie)}px`,left:`${Math.round(me)}px`,transformOrigin:z3(xe)}},[l,d,H,G,g]),[j,q]=_.useState(m),K=_.useCallback(()=>{const Oe=F.current;if(!Oe)return;const je=z(Oe);je.top!==null&&(Oe.style.top=je.top),je.left!==null&&(Oe.style.left=je.left),Oe.style.transformOrigin=je.transformOrigin,q(!0)},[z]);_.useEffect(()=>(R&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[l,R,K]);const ie=(Oe,je)=>{I&&I(Oe,je),K()},ee=()=>{q(!1)};_.useEffect(()=>{m&&K()}),_.useImperativeHandle(s,()=>m?{updatePosition:()=>{K()}}:null,[m,K]),_.useEffect(()=>{if(!m)return;const Oe=Nv(()=>{K()}),je=Gl(l);return je.addEventListener("resize",Oe),()=>{Oe.clear(),je.removeEventListener("resize",Oe)}},[l,m,K]);let te=x;x==="auto"&&!S.muiSupportAuto&&(te=void 0);const de=f||(l?An(IA(l)).body:void 0),Se=(i=y==null?void 0:y.root)!=null?i:kit,Me=(o=y==null?void 0:y.paper)!=null?o:nie,De=ka({elementType:Me,externalSlotProps:b({},V,{style:j?V.style:b({},V.style,{opacity:0})}),additionalProps:{elevation:v,ref:P},ownerState:M,className:Ae(N.paper,V==null?void 0:V.className)}),ze=ka({elementType:Se,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:A,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:de,open:m},ownerState:M,className:Ae(N.root,p)}),{slotProps:he}=ze,ke=se(ze,Lit);return O.jsx(Se,b({},ke,!sC(Se)&&{slotProps:he,disableScrollLock:R},{children:O.jsx(S,b({appear:!0,in:m,onEntering:ie,onExited:ee,timeout:te},D,{children:O.jsx(Me,b({},De,{children:h}))}))}))}),Bit=Vit;function Hit(r){return Gt("MuiMenu",r)}Bt("MuiMenu",["root","paper","list"]);const Git=["onEntering"],$it=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Wit={vertical:"top",horizontal:"right"},zit={vertical:"top",horizontal:"left"},Uit=r=>{const{classes:e}=r;return tt({root:["root"],paper:["paper"],list:["list"]},Hit,e)},jit=be(Bit,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Kit=be(nie,{name:"MuiMenu",slot:"Paper",overridesResolver:(r,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qit=be(fB,{name:"MuiMenu",slot:"List",overridesResolver:(r,e)=>e.list})({outline:0}),Yit=_.forwardRef(function(e,t){var n,i;const o=qt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:v="auto",TransitionProps:{onEntering:g}={},variant:m="selectedMenu",slots:C={},slotProps:y={}}=o,w=se(o.TransitionProps,Git),T=se(o,$it),S=_y(),x=b({},o,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:g,PaperProps:p,transitionDuration:v,TransitionProps:w,variant:m}),I=Uit(x),R=a&&!u&&h,D=_.useRef(null),A=(G,z)=>{D.current&&D.current.adjustStyleForScrollbar(G,{direction:S?"rtl":"ltr"}),g&&g(G,z)},V=G=>{G.key==="Tab"&&(G.preventDefault(),d&&d(G,"tabKeyDown"))};let F=-1;_.Children.map(s,(G,z)=>{_.isValidElement(G)&&(G.props.disabled||(m==="selectedMenu"&&G.props.selected||F===-1)&&(F=z))});const P=(n=C.paper)!=null?n:Kit,M=(i=y.paper)!=null?i:p,N=ka({elementType:C.root,externalSlotProps:y.root,ownerState:x,className:[I.root,l]}),H=ka({elementType:P,externalSlotProps:M,ownerState:x,className:I.paper});return O.jsx(jit,b({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?Wit:zit,slots:{paper:P,root:C.root},slotProps:{root:N,paper:H},open:h,ref:t,transitionDuration:v,TransitionProps:b({onEntering:A},w),ownerState:x},T,{classes:f,children:O.jsx(qit,b({onKeyDown:V,actions:D,autoFocus:a&&(F===-1||u),autoFocusItem:R,variant:m},c,{className:Ae(I.list,c.className),children:s}))}))}),Xit=Yit;function Qit(r){return Gt("MuiMenuItem",r)}const Zit=Bt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),um=Zit,Jit=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],eot=(r,e)=>{const{ownerState:t}=r;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},tot=r=>{const{disabled:e,dense:t,divider:n,disableGutters:i,selected:o,classes:a}=r,l=tt({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},Qit,a);return b({},a,l)},rot=be(sd,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:eot})(({theme:r,ownerState:e})=>b({},r.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${um.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${um.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${um.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${um.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${um.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},[`& + .${L3.root}`]:{marginTop:r.spacing(1),marginBottom:r.spacing(1)},[`& + .${L3.inset}`]:{marginLeft:52},[`& .${hx.root}`]:{marginTop:0,marginBottom:0},[`& .${hx.inset}`]:{paddingLeft:36},[`& .${H3.root}`]:{minWidth:36}},!e.dense&&{[r.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&b({minHeight:32,paddingTop:4,paddingBottom:4},r.typography.body2,{[`& .${H3.root} svg`]:{fontSize:"1.25rem"}}))),not=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h}=n,p=se(n,Jit),f=_.useContext(cC),v=_.useMemo(()=>({dense:a||f.dense||!1,disableGutters:l}),[f.dense,a,l]),g=_.useRef(null);sn(()=>{i&&g.current&&g.current.focus()},[i]);const m=b({},n,{dense:v.dense,divider:s,disableGutters:l}),C=tot(n),y=ln(g,t);let w;return n.disabled||(w=d!==void 0?d:-1),O.jsx(cC.Provider,{value:v,children:O.jsx(rot,b({ref:y,role:c,tabIndex:w,component:o,focusVisibleClassName:Ae(C.focusVisible,u),className:Ae(C.root,h)},p,{ownerState:m,classes:C}))})}),zs=not;function iot(r){return Gt("MuiNativeSelect",r)}const oot=Bt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),vB=oot,aot=["className","disabled","error","IconComponent","inputRef","variant"],sot=r=>{const{classes:e,variant:t,disabled:n,multiple:i,open:o,error:a}=r,s={select:["select",t,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Te(t)}`,o&&"iconOpen",n&&"disabled"]};return tt(s,iot,e)},iie=({ownerState:r,theme:e})=>b({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":b({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${vB.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},r.variant==="filled"&&{"&&&":{paddingRight:32}},r.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),lot=be("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:eo,overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.select,e[t.variant],t.error&&e.error,{[`&.${vB.multiple}`]:e.multiple}]}})(iie),oie=({ownerState:r,theme:e})=>b({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${vB.disabled}`]:{color:(e.vars||e).palette.action.disabled}},r.open&&{transform:"rotate(180deg)"},r.variant==="filled"&&{right:7},r.variant==="outlined"&&{right:7}),uot=be("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.icon,t.variant&&e[`icon${Te(t.variant)}`],t.open&&e.iconOpen]}})(oie),cot=_.forwardRef(function(e,t){const{className:n,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard"}=e,u=se(e,aot),c=b({},e,{disabled:i,variant:l,error:o}),d=sot(c);return O.jsxs(_.Fragment,{children:[O.jsx(lot,b({ownerState:c,className:Ae(d.select,n),disabled:i,ref:s||t},u)),e.multiple?null:O.jsx(uot,{as:a,ownerState:c,className:d.icon})]})}),dot=cot;var U3;const hot=["children","classes","className","label","notched"],pot=be("fieldset",{shouldForwardProp:eo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),fot=be("legend",{shouldForwardProp:eo})(({ownerState:r,theme:e})=>b({float:"unset",width:"auto",overflow:"hidden"},!r.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},r.withLabel&&b({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},r.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function vot(r){const{className:e,label:t,notched:n}=r,i=se(r,hot),o=t!=null&&t!=="",a=b({},r,{notched:n,withLabel:o});return O.jsx(pot,b({"aria-hidden":!0,className:e,ownerState:a},i,{children:O.jsx(fot,{ownerState:a,children:o?O.jsx("span",{children:t}):U3||(U3=O.jsx("span",{className:"notranslate",children:""}))})}))}const got=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],mot=r=>{const{classes:e}=r,n=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ytt,e);return b({},e,n)},_ot=be(qI,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:jI})(({theme:r,ownerState:e})=>{const t=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return b({position:"relative",borderRadius:(r.vars||r).shape.borderRadius,[`&:hover .${gl.notchedOutline}`]:{borderColor:(r.vars||r).palette.text.primary},"@media (hover: none)":{[`&:hover .${gl.notchedOutline}`]:{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${gl.focused} .${gl.notchedOutline}`]:{borderColor:(r.vars||r).palette[e.color].main,borderWidth:2},[`&.${gl.error} .${gl.notchedOutline}`]:{borderColor:(r.vars||r).palette.error.main},[`&.${gl.disabled} .${gl.notchedOutline}`]:{borderColor:(r.vars||r).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&b({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Cot=be(vot,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(r,e)=>e.notchedOutline})(({theme:r})=>{const e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),yot=be(YI,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:KI})(({theme:r,ownerState:e})=>b({padding:"16.5px 14px"},!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},r.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),aie=_.forwardRef(function(e,t){var n,i,o,a,s;const l=qt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:v={},type:g="text"}=l,m=se(l,got),C=mot(l),y=Zu(),w=Ep({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=b({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:y,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:p,size:w.size,type:g}),S=(n=(i=v.root)!=null?i:u.Root)!=null?n:_ot,x=(o=(a=v.input)!=null?a:u.Input)!=null?o:yot;return O.jsx(Bv,b({slots:{root:S,input:x},renderSuffix:I=>O.jsx(Cot,{ownerState:T,className:C.notchedOutline,label:h!=null&&h!==""&&w.required?s||(s=O.jsxs(_.Fragment,{children:[h,"","*"]})):h,notched:typeof f<"u"?f:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:c,inputComponent:d,multiline:p,ref:t,type:g},m,{classes:b({},C,{notchedOutline:null})}))});aie.muiName="Input";const sie=aie,Sot=dr(O.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),wot=dr(O.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),bot=dr(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Eot=dr(O.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),xot=be("span",{shouldForwardProp:eo})({position:"relative",display:"flex"}),Iot=be(bot)({transform:"scale(1)"}),Tot=be(Eot)(({theme:r,ownerState:e})=>b({left:0,position:"absolute",transform:"scale(0)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeIn,duration:r.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.shortest})}));function lie(r){const{checked:e=!1,classes:t={},fontSize:n}=r,i=b({},r,{checked:e});return O.jsxs(xot,{className:t.root,ownerState:i,children:[O.jsx(Iot,{fontSize:n,className:t.background,ownerState:i}),O.jsx(Tot,{fontSize:n,className:t.dot,ownerState:i})]})}const Rot=_.createContext(void 0),Oot=Rot;function Dot(){return _.useContext(Oot)}function Aot(r){return Gt("MuiRadio",r)}const j3=Bt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Pot=["checked","checkedIcon","color","icon","name","onChange","size","className"],Mot=r=>{const{classes:e,color:t,size:n}=r,i={root:["root",`color${Te(t)}`,n!=="medium"&&`size${Te(n)}`]};return b({},e,tt(i,Aot,e))},Fot=be(hB,{shouldForwardProp:r=>eo(r)||r==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.size!=="medium"&&e[`size${Te(t.size)}`],e[`color${Te(t.color)}`]]}})(({theme:r,ownerState:e})=>b({color:(r.vars||r).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${e.color==="default"?r.vars.palette.action.activeChannel:r.vars.palette[e.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(e.color==="default"?r.palette.action.active:r.palette[e.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${j3.checked}`]:{color:(r.vars||r).palette[e.color].main}},{[`&.${j3.disabled}`]:{color:(r.vars||r).palette.action.disabled}}));function Lot(r,e){return typeof e=="object"&&e!==null?r===e:String(r)===String(e)}const K3=O.jsx(lie,{checked:!0}),q3=O.jsx(lie,{}),Not=_.forwardRef(function(e,t){var n,i;const o=qt({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:s=K3,color:l="primary",icon:u=q3,name:c,onChange:d,size:h="medium",className:p}=o,f=se(o,Pot),v=b({},o,{color:l,size:h}),g=Mot(v),m=Dot();let C=a;const y=sF(d,m&&m.onChange);let w=c;return m&&(typeof C>"u"&&(C=Lot(m.value,o.value)),typeof w>"u"&&(w=m.name)),O.jsx(Fot,b({type:"radio",icon:_.cloneElement(u,{fontSize:(n=q3.props.fontSize)!=null?n:h}),checkedIcon:_.cloneElement(s,{fontSize:(i=K3.props.fontSize)!=null?i:h}),ownerState:v,classes:g,name:w,checked:C,onChange:y,ref:t,className:Ae(g.root,p)},f))}),kot=Not;function Vot(r){return Gt("MuiSelect",r)}const cm=Bt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Y3;const Bot=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Hot=be("div",{name:"MuiSelect",slot:"Select",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`&.${cm.select}`]:e.select},{[`&.${cm.select}`]:e[t.variant]},{[`&.${cm.error}`]:e.error},{[`&.${cm.multiple}`]:e.multiple}]}})(iie,{[`&.${cm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Got=be("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.icon,t.variant&&e[`icon${Te(t.variant)}`],t.open&&e.iconOpen]}})(oie),$ot=be("input",{shouldForwardProp:r=>Cne(r)&&r!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(r,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function X3(r,e){return typeof e=="object"&&e!==null?r===e:String(r)===String(e)}function Wot(r){return r==null||typeof r=="string"&&!r.trim()}const zot=r=>{const{classes:e,variant:t,disabled:n,multiple:i,open:o,error:a}=r,s={select:["select",t,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Te(t)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return tt(s,Vot,e)},Uot=_.forwardRef(function(e,t){var n;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:v,inputRef:g,labelId:m,MenuProps:C={},multiple:y,name:w,onBlur:T,onChange:S,onClose:x,onFocus:I,onOpen:R,open:D,readOnly:A,renderValue:V,SelectDisplayProps:F={},tabIndex:P,value:M,variant:N="standard"}=e,H=se(e,Bot),[G,z]=Rh({controlled:M,default:d,name:"Select"}),[j,q]=Rh({controlled:D,default:c,name:"Select"}),K=_.useRef(null),ie=_.useRef(null),[ee,te]=_.useState(null),{current:de}=_.useRef(D!=null),[Se,Me]=_.useState(),De=ln(t,g),ze=_.useCallback(Ke=>{ie.current=Ke,Ke&&te(Ke)},[]),he=ee==null?void 0:ee.parentNode;_.useImperativeHandle(De,()=>({focus:()=>{ie.current.focus()},node:K.current,value:G}),[G]),_.useEffect(()=>{c&&j&&ee&&!de&&(Me(s?null:he.clientWidth),ie.current.focus())},[ee,s]),_.useEffect(()=>{a&&ie.current.focus()},[a]),_.useEffect(()=>{if(!m)return;const Ke=An(ie.current).getElementById(m);if(Ke){const Ot=()=>{getSelection().isCollapsed&&ie.current.focus()};return Ke.addEventListener("click",Ot),()=>{Ke.removeEventListener("click",Ot)}}},[m]);const ke=(Ke,Ot)=>{Ke?R&&R(Ot):x&&x(Ot),de||(Me(s?null:he.clientWidth),q(Ke))},Oe=Ke=>{Ke.button===0&&(Ke.preventDefault(),ie.current.focus(),ke(!0,Ke))},je=Ke=>{ke(!1,Ke)},xe=_.Children.toArray(l),ae=Ke=>{const Ot=xe.find(Le=>Le.props.value===Ke.target.value);Ot!==void 0&&(z(Ot.props.value),S&&S(Ke,Ot))},Ie=Ke=>Ot=>{let Le;if(Ot.currentTarget.hasAttribute("tabindex")){if(y){Le=Array.isArray(G)?G.slice():[];const rt=G.indexOf(Ke.props.value);rt===-1?Le.push(Ke.props.value):Le.splice(rt,1)}else Le=Ke.props.value;if(Ke.props.onClick&&Ke.props.onClick(Ot),G!==Le&&(z(Le),S)){const rt=Ot.nativeEvent||Ot,Pt=new rt.constructor(rt.type,rt);Object.defineProperty(Pt,"target",{writable:!0,value:{value:Le,name:w}}),S(Pt,Ke)}y||ke(!1,Ot)}},me=Ke=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ke.key)!==-1&&(Ke.preventDefault(),ke(!0,Ke))},nt=ee!==null&&j,He=Ke=>{!nt&&T&&(Object.defineProperty(Ke,"target",{writable:!0,value:{value:G,name:w}}),T(Ke))};delete H["aria-invalid"];let Ue,Ge;const ge=[];let _e=!1;(cx({value:G})||p)&&(V?Ue=V(G):_e=!0);const Ve=xe.map(Ke=>{if(!_.isValidElement(Ke))return null;let Ot;if(y){if(!Array.isArray(G))throw new Error(ku(2));Ot=G.some(Le=>X3(Le,Ke.props.value)),Ot&&_e&&ge.push(Ke.props.children)}else Ot=X3(G,Ke.props.value),Ot&&_e&&(Ge=Ke.props.children);return _.cloneElement(Ke,{"aria-selected":Ot?"true":"false",onClick:Ie(Ke),onKeyUp:Le=>{Le.key===" "&&Le.preventDefault(),Ke.props.onKeyUp&&Ke.props.onKeyUp(Le)},role:"option",selected:Ot,value:void 0,"data-value":Ke.props.value})});_e&&(y?ge.length===0?Ue=null:Ue=ge.reduce((Ke,Ot,Le)=>(Ke.push(Ot),Le<ge.length-1&&Ke.push(", "),Ke),[]):Ue=Ge);let Je=Se;!s&&de&&ee&&(Je=he.clientWidth);let vt;typeof P<"u"?vt=P:vt=h?null:0;const ct=F.id||(w?`mui-component-select-${w}`:void 0),Pe=b({},e,{variant:N,value:G,open:nt,error:f}),_t=zot(Pe),lr=b({},C.PaperProps,(n=C.slotProps)==null?void 0:n.paper),$t=_n();return O.jsxs(_.Fragment,{children:[O.jsx(Hot,b({ref:ze,tabIndex:vt,role:"combobox","aria-controls":$t,"aria-disabled":h?"true":void 0,"aria-expanded":nt?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[m,ct].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:me,onMouseDown:h||A?null:Oe,onBlur:He,onFocus:I},F,{ownerState:Pe,className:Ae(F.className,_t.select,u),id:ct,children:Wot(Ue)?Y3||(Y3=O.jsx("span",{className:"notranslate",children:""})):Ue})),O.jsx($ot,b({"aria-invalid":f,value:Array.isArray(G)?G.join(","):G,name:w,ref:K,"aria-hidden":!0,onChange:ae,tabIndex:-1,disabled:h,className:_t.nativeInput,autoFocus:a,ownerState:Pe},H)),O.jsx(Got,{as:v,className:_t.icon,ownerState:Pe}),O.jsx(Xit,b({id:`menu-${w||""}`,anchorEl:he,open:nt,onClose:je,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},C,{MenuListProps:b({"aria-labelledby":m,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:$t},C.MenuListProps),slotProps:b({},C.slotProps,{paper:b({},lr,{style:b({minWidth:Je},lr!=null?lr.style:null)})}),children:Ve}))]})}),jot=Uot,Kot=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],qot=["root"],Yot=r=>{const{classes:e}=r;return e},gB={name:"MuiSelect",overridesResolver:(r,e)=>e.root,shouldForwardProp:r=>eo(r)&&r!=="variant",slot:"Root"},Xot=be(tie,gB)(""),Qot=be(sie,gB)(""),Zot=be(Qne,gB)(""),uie=_.forwardRef(function(e,t){const n=qt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=Une,id:d,input:h,inputProps:p,label:f,labelId:v,MenuProps:g,multiple:m=!1,native:C=!1,onClose:y,onOpen:w,open:T,renderValue:S,SelectDisplayProps:x,variant:I="outlined"}=n,R=se(n,Kot),D=C?dot:jot,A=Zu(),V=Ep({props:n,muiFormControl:A,states:["variant","error"]}),F=V.variant||I,P=b({},n,{variant:F,classes:a}),M=Yot(P),N=se(M,qot),H=h||{standard:O.jsx(Xot,{ownerState:P}),outlined:O.jsx(Qot,{label:f,ownerState:P}),filled:O.jsx(Zot,{ownerState:P})}[F],G=ln(t,H.ref);return O.jsx(_.Fragment,{children:_.cloneElement(H,b({inputComponent:D,inputProps:b({children:o,error:V.error,IconComponent:c,variant:F,type:void 0,multiple:m},C?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:g,onClose:y,onOpen:w,open:T,renderValue:S,SelectDisplayProps:b({id:d},x)},p,{classes:p?vo(N,p.classes):N},h?h.props.inputProps:{})},(m&&C||u)&&F==="outlined"?{notched:!0}:{},{ref:G,className:Ae(H.props.className,s,M.root)},!h&&{variant:F},R))})});uie.muiName="Select";const QI=uie;function Jot(r){return Gt("MuiSkeleton",r)}Bt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const eat=["animation","className","component","height","style","variant","width"];let px=r=>r,Q3,Z3,J3,e5;const tat=r=>{const{classes:e,variant:t,animation:n,hasChildren:i,width:o,height:a}=r;return tt({root:["root",t,n,i&&"withChildren",i&&!o&&"fitContent",i&&!a&&"heightAuto"]},Jot,e)},rat=yd(Q3||(Q3=px`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),nat=yd(Z3||(Z3=px`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),iat=be("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],t.animation!==!1&&e[t.animation],t.hasChildren&&e.withChildren,t.hasChildren&&!t.width&&e.fitContent,t.hasChildren&&!t.height&&e.heightAuto]}})(({theme:r,ownerState:e})=>{const t=IQe(r.shape.borderRadius)||"px",n=TQe(r.shape.borderRadius);return b({display:"block",backgroundColor:r.vars?r.vars.palette.Skeleton.bg:Ps(r.palette.text.primary,r.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(r.vars||r).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:r})=>r.animation==="pulse"&&vv(J3||(J3=px`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),rat),({ownerState:r,theme:e})=>r.animation==="wave"&&vv(e5||(e5=px`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),nat,(e.vars||e).palette.action.hover)),oat=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:a="span",height:s,style:l,variant:u="text",width:c}=n,d=se(n,eat),h=b({},n,{animation:i,component:a,variant:u,hasChildren:!!d.children}),p=tat(h);return O.jsx(iat,b({as:a,ref:t,className:Ae(p.root,o),ownerState:h},d,{style:b({width:c,height:s},l)}))}),Lm=oat;function aat(r){return Gt("MuiTooltip",r)}const sat=Bt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Hc=sat,lat=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function uat(r){return Math.round(r*1e5)/1e5}const cat=r=>{const{classes:e,disableInteractive:t,arrow:n,touch:i,placement:o}=r,a={popper:["popper",!t&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${Te(o.split("-")[0])}`],arrow:["arrow"]};return tt(a,aat,e)},dat=be(bp,{name:"MuiTooltip",slot:"Popper",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(({theme:r,ownerState:e,open:t})=>b({zIndex:(r.vars||r).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!t&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Hc.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Hc.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Hc.arrow}`]:b({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Hc.arrow}`]:b({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),hat=be("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${Te(t.placement.split("-")[0])}`]]}})(({theme:r,ownerState:e})=>b({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:Ir(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:`${uat(16/14)}em`,fontWeight:r.typography.fontWeightRegular},{[`.${Hc.popper}[data-popper-placement*="left"] &`]:b({transformOrigin:"right center"},e.isRtl?b({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):b({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Hc.popper}[data-popper-placement*="right"] &`]:b({transformOrigin:"left center"},e.isRtl?b({marginRight:"14px"},e.touch&&{marginRight:"24px"}):b({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Hc.popper}[data-popper-placement*="top"] &`]:b({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Hc.popper}[data-popper-placement*="bottom"] &`]:b({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),pat=be("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(r,e)=>e.arrow})(({theme:r})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:r.vars?r.vars.palette.Tooltip.bg:Ir(r.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Mw=!1;const t5=new jV;let dm={x:0,y:0};function Fw(r,e){return(t,...n)=>{e&&e(t,...n),r(t,...n)}}const fat=_.forwardRef(function(e,t){var n,i,o,a,s,l,u,c,d,h,p,f,v,g,m,C,y,w,T;const S=qt({props:e,name:"MuiTooltip"}),{arrow:x=!1,children:I,components:R={},componentsProps:D={},describeChild:A=!1,disableFocusListener:V=!1,disableHoverListener:F=!1,disableInteractive:P=!1,disableTouchListener:M=!1,enterDelay:N=100,enterNextDelay:H=0,enterTouchDelay:G=700,followCursor:z=!1,id:j,leaveDelay:q=0,leaveTouchDelay:K=1500,onClose:ie,onOpen:ee,open:te,placement:de="bottom",PopperComponent:Se,PopperProps:Me={},slotProps:De={},slots:ze={},title:he,TransitionComponent:ke=dx,TransitionProps:Oe}=S,je=se(S,lat),xe=_.isValidElement(I)?I:O.jsx("span",{children:I}),ae=Xu(),Ie=_y(),[me,nt]=_.useState(),[He,Ue]=_.useState(null),Ge=_.useRef(!1),ge=P||z,_e=kf(),Ve=kf(),Je=kf(),vt=kf(),[ct,Pe]=Rh({controlled:te,default:!1,name:"Tooltip",state:"open"});let _t=ct;const lr=_n(j),$t=_.useRef(),Ke=cn(()=>{$t.current!==void 0&&(document.body.style.WebkitUserSelect=$t.current,$t.current=void 0),vt.clear()});_.useEffect(()=>Ke,[Ke]);const Ot=mt=>{t5.clear(),Mw=!0,Pe(!0),ee&&!_t&&ee(mt)},Le=cn(mt=>{t5.start(800+q,()=>{Mw=!1}),Pe(!1),ie&&_t&&ie(mt),_e.start(ae.transitions.duration.shortest,()=>{Ge.current=!1})}),rt=mt=>{Ge.current&&mt.type!=="touchstart"||(me&&me.removeAttribute("title"),Ve.clear(),Je.clear(),N||Mw&&H?Ve.start(Mw?H:N,()=>{Ot(mt)}):Ot(mt))},Pt=mt=>{Ve.clear(),Je.start(q,()=>{Le(mt)})},{isFocusVisibleRef:Wt,onBlur:nr,onFocus:Vr,ref:Br}=one(),[,Qt]=_.useState(!1),Y=mt=>{nr(mt),Wt.current===!1&&(Qt(!1),Pt(mt))},re=mt=>{me||nt(mt.currentTarget),Vr(mt),Wt.current===!0&&(Qt(!0),rt(mt))},oe=mt=>{Ge.current=!0;const ir=xe.props;ir.onTouchStart&&ir.onTouchStart(mt)},Be=mt=>{oe(mt),Je.clear(),_e.clear(),Ke(),$t.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",vt.start(G,()=>{document.body.style.WebkitUserSelect=$t.current,rt(mt)})},it=mt=>{xe.props.onTouchEnd&&xe.props.onTouchEnd(mt),Ke(),Je.start(K,()=>{Le(mt)})};_.useEffect(()=>{if(!_t)return;function mt(ir){(ir.key==="Escape"||ir.key==="Esc")&&Le(ir)}return document.addEventListener("keydown",mt),()=>{document.removeEventListener("keydown",mt)}},[Le,_t]);const It=ln(xe.ref,Br,nt,t);!he&&he!==0&&(_t=!1);const wt=_.useRef(),lt=mt=>{const ir=xe.props;ir.onMouseMove&&ir.onMouseMove(mt),dm={x:mt.clientX,y:mt.clientY},wt.current&&wt.current.update()},ot={},Mt=typeof he=="string";A?(ot.title=!_t&&Mt&&!F?he:null,ot["aria-describedby"]=_t?lr:null):(ot["aria-label"]=Mt?he:null,ot["aria-labelledby"]=_t&&!Mt?lr:null);const Rr=b({},ot,je,xe.props,{className:Ae(je.className,xe.props.className),onTouchStart:oe,ref:It},z?{onMouseMove:lt}:{}),Ft={};M||(Rr.onTouchStart=Be,Rr.onTouchEnd=it),F||(Rr.onMouseOver=Fw(rt,Rr.onMouseOver),Rr.onMouseLeave=Fw(Pt,Rr.onMouseLeave),ge||(Ft.onMouseOver=rt,Ft.onMouseLeave=Pt)),V||(Rr.onFocus=Fw(re,Rr.onFocus),Rr.onBlur=Fw(Y,Rr.onBlur),ge||(Ft.onFocus=re,Ft.onBlur=Y));const Or=_.useMemo(()=>{var mt;let ir=[{name:"arrow",enabled:!!He,options:{element:He,padding:4}}];return(mt=Me.popperOptions)!=null&&mt.modifiers&&(ir=ir.concat(Me.popperOptions.modifiers)),b({},Me.popperOptions,{modifiers:ir})},[He,Me]),qr=b({},S,{isRtl:Ie,arrow:x,disableInteractive:ge,placement:de,PopperComponentProp:Se,touch:Ge.current}),xn=cat(qr),Wr=(n=(i=ze.popper)!=null?i:R.Popper)!=null?n:dat,Zn=(o=(a=(s=ze.transition)!=null?s:R.Transition)!=null?a:ke)!=null?o:dx,ta=(l=(u=ze.tooltip)!=null?u:R.Tooltip)!=null?l:hat,we=(c=(d=ze.arrow)!=null?d:R.Arrow)!=null?c:pat,ve=Mm(Wr,b({},Me,(h=De.popper)!=null?h:D.popper,{className:Ae(xn.popper,Me==null?void 0:Me.className,(p=(f=De.popper)!=null?f:D.popper)==null?void 0:p.className)}),qr),st=Mm(Zn,b({},Oe,(v=De.transition)!=null?v:D.transition),qr),Qe=Mm(ta,b({},(g=De.tooltip)!=null?g:D.tooltip,{className:Ae(xn.tooltip,(m=(C=De.tooltip)!=null?C:D.tooltip)==null?void 0:m.className)}),qr),Lt=Mm(we,b({},(y=De.arrow)!=null?y:D.arrow,{className:Ae(xn.arrow,(w=(T=De.arrow)!=null?T:D.arrow)==null?void 0:w.className)}),qr);return O.jsxs(_.Fragment,{children:[_.cloneElement(xe,Rr),O.jsx(Wr,b({as:Se??bp,placement:de,anchorEl:z?{getBoundingClientRect:()=>({top:dm.y,left:dm.x,right:dm.x,bottom:dm.y,width:0,height:0})}:me,popperRef:wt,open:me?_t:!1,id:lr,transition:!0},Ft,ve,{popperOptions:Or,children:({TransitionProps:mt})=>O.jsx(Zn,b({timeout:ae.transitions.duration.shorter},mt,st,{children:O.jsxs(ta,b({},Qe,{children:[he,x?O.jsx(we,b({},Lt,{ref:Ue})):null]}))}))}))]})}),vat=fat;function gat(r){return Gt("MuiSwitch",r)}const mat=Bt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ji=mat,_at=["className","color","edge","size","sx"],Cat=tB(),yat=r=>{const{classes:e,edge:t,size:n,color:i,checked:o,disabled:a}=r,s={root:["root",t&&`edge${Te(t)}`,`size${Te(n)}`],switchBase:["switchBase",`color${Te(i)}`,o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=tt(s,gat,e);return b({},e,l)},Sat=be("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.edge&&e[`edge${Te(t.edge)}`],e[`size${Te(t.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ji.thumb}`]:{width:16,height:16},[`& .${ji.switchBase}`]:{padding:4,[`&.${ji.checked}`]:{transform:"translateX(16px)"}}}}]}),wat=be(hB,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.switchBase,{[`& .${ji.input}`]:e.input},t.color!=="default"&&e[`color${Te(t.color)}`]]}})(({theme:r})=>({position:"absolute",top:0,left:0,zIndex:1,color:r.vars?r.vars.palette.Switch.defaultColor:`${r.palette.mode==="light"?r.palette.common.white:r.palette.grey[300]}`,transition:r.transitions.create(["left","transform"],{duration:r.transitions.duration.shortest}),[`&.${ji.checked}`]:{transform:"translateX(20px)"},[`&.${ji.disabled}`]:{color:r.vars?r.vars.palette.Switch.defaultDisabledColor:`${r.palette.mode==="light"?r.palette.grey[100]:r.palette.grey[600]}`},[`&.${ji.checked} + .${ji.track}`]:{opacity:.5},[`&.${ji.disabled} + .${ji.track}`]:{opacity:r.vars?r.vars.opacity.switchTrackDisabled:`${r.palette.mode==="light"?.12:.2}`},[`& .${ji.input}`]:{left:"-100%",width:"300%"}}),({theme:r})=>({"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(r.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${ji.checked}`]:{color:(r.vars||r).palette[e].main,"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette[e].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ir(r.palette[e].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ji.disabled}`]:{color:r.vars?r.vars.palette.Switch[`${e}DisabledColor`]:`${r.palette.mode==="light"?YV(r.palette[e].main,.62):qV(r.palette[e].main,.55)}`}},[`&.${ji.checked} + .${ji.track}`]:{backgroundColor:(r.vars||r).palette[e].main}}}))]})),bat=be("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(r,e)=>e.track})(({theme:r})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:r.transitions.create(["opacity","background-color"],{duration:r.transitions.duration.shortest}),backgroundColor:r.vars?r.vars.palette.common.onBackground:`${r.palette.mode==="light"?r.palette.common.black:r.palette.common.white}`,opacity:r.vars?r.vars.opacity.switchTrack:`${r.palette.mode==="light"?.38:.3}`})),Eat=be("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(r,e)=>e.thumb})(({theme:r})=>({boxShadow:(r.vars||r).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),xat=_.forwardRef(function(e,t){const n=Cat({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:a=!1,size:s="medium",sx:l}=n,u=se(n,_at),c=b({},n,{color:o,edge:a,size:s}),d=yat(c),h=O.jsx(Eat,{className:d.thumb,ownerState:c});return O.jsxs(Sat,{className:Ae(d.root,i),sx:l,ownerState:c,children:[O.jsx(wat,b({type:"checkbox",icon:h,checkedIcon:h,ref:t,ownerState:c},u,{classes:b({},d,{root:d.switchBase})})),O.jsx(bat,{className:d.track,ownerState:c})]})}),Iat=xat;function Tat(r){return Gt("MuiTab",r)}const Rat=Bt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Bd=Rat,Oat=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Dat=r=>{const{classes:e,textColor:t,fullWidth:n,wrapped:i,icon:o,label:a,selected:s,disabled:l}=r,u={root:["root",o&&a&&"labelIcon",`textColor${Te(t)}`,n&&"fullWidth",i&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return tt(u,Tat,e)},Aat=be(sd,{name:"MuiTab",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${Te(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped]}})(({theme:r,ownerState:e})=>b({},r.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Bd.iconWrapper}`]:b({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:r.spacing(1)},e.iconPosition==="end"&&{marginLeft:r.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Bd.selected}`]:{opacity:1},[`&.${Bd.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(r.vars||r).palette.text.secondary,[`&.${Bd.selected}`]:{color:(r.vars||r).palette.primary.main},[`&.${Bd.disabled}`]:{color:(r.vars||r).palette.text.disabled}},e.textColor==="secondary"&&{color:(r.vars||r).palette.text.secondary,[`&.${Bd.selected}`]:{color:(r.vars||r).palette.secondary.main},[`&.${Bd.disabled}`]:{color:(r.vars||r).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:r.typography.pxToRem(12)})),Pat=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:s,icon:l,iconPosition:u="top",indicator:c,label:d,onChange:h,onClick:p,onFocus:f,selected:v,selectionFollowsFocus:g,textColor:m="inherit",value:C,wrapped:y=!1}=n,w=se(n,Oat),T=b({},n,{disabled:o,disableFocusRipple:a,selected:v,icon:!!l,iconPosition:u,label:!!d,fullWidth:s,textColor:m,wrapped:y}),S=Dat(T),x=l&&d&&_.isValidElement(l)?_.cloneElement(l,{className:Ae(S.iconWrapper,l.props.className)}):l,I=D=>{!v&&h&&h(D,C),p&&p(D)},R=D=>{g&&!v&&h&&h(D,C),f&&f(D)};return O.jsxs(Aat,b({focusRipple:!a,className:Ae(S.root,i),ref:t,role:"tab","aria-selected":v,disabled:o,onClick:I,onFocus:R,ownerState:T,tabIndex:v?0:-1},w,{children:[u==="top"||u==="start"?O.jsxs(_.Fragment,{children:[x,d]}):O.jsxs(_.Fragment,{children:[d,x]}),c]}))}),Mat=Pat,Fat=_.createContext(),Lat=Fat,Nat=_.createContext(),cie=Nat;function kat(r){return Gt("MuiTableCell",r)}const Vat=Bt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Bat=Vat,Hat=["align","className","component","padding","scope","size","sortDirection","variant"],Gat=r=>{const{classes:e,variant:t,align:n,padding:i,size:o,stickyHeader:a}=r,s={root:["root",t,a&&"stickyHeader",n!=="inherit"&&`align${Te(n)}`,i!=="normal"&&`padding${Te(i)}`,`size${Te(o)}`]};return tt(s,kat,e)},$at=be("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],e[`size${Te(t.size)}`],t.padding!=="normal"&&e[`padding${Te(t.padding)}`],t.align!=="inherit"&&e[`align${Te(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(({theme:r,ownerState:e})=>b({},r.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:r.vars?`1px solid ${r.vars.palette.TableCell.border}`:`1px solid
    ${r.palette.mode==="light"?YV(Ir(r.palette.divider,1),.88):qV(Ir(r.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(r.vars||r).palette.text.primary,lineHeight:r.typography.pxToRem(24),fontWeight:r.typography.fontWeightMedium},e.variant==="body"&&{color:(r.vars||r).palette.text.primary},e.variant==="footer"&&{color:(r.vars||r).palette.text.secondary,lineHeight:r.typography.pxToRem(21),fontSize:r.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${Bat.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(r.vars||r).palette.background.default})),Wat=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:a,padding:s,scope:l,size:u,sortDirection:c,variant:d}=n,h=se(n,Hat),p=_.useContext(Lat),f=_.useContext(cie),v=f&&f.variant==="head";let g;a?g=a:g=v?"th":"td";let m=l;g==="td"?m=void 0:!m&&v&&(m="col");const C=d||f&&f.variant,y=b({},n,{align:i,component:g,padding:s||(p&&p.padding?p.padding:"normal"),size:u||(p&&p.size?p.size:"medium"),sortDirection:c,stickyHeader:C==="head"&&p&&p.stickyHeader,variant:C}),w=Gat(y);let T=null;return c&&(T=c==="asc"?"ascending":"descending"),O.jsx($at,b({as:g,ref:t,className:Ae(w.root,o),"aria-sort":T,scope:m,ownerState:y},h))}),fh=Wat;function zat(r){return Gt("MuiToolbar",r)}Bt("MuiToolbar",["root","gutters","regular","dense"]);const Uat=["className","component","disableGutters","variant"],jat=r=>{const{classes:e,disableGutters:t,variant:n}=r;return tt({root:["root",!t&&"gutters",n]},zat,e)},Kat=be("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(({theme:r,ownerState:e})=>b({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:r,ownerState:e})=>e.variant==="regular"&&r.mixins.toolbar),qat=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular"}=n,l=se(n,Uat),u=b({},n,{component:o,disableGutters:a,variant:s}),c=jat(u);return O.jsx(Kat,b({as:o,className:Ae(c.root,i),ref:t,ownerState:u},l))}),Yat=qat,die=dr(O.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),hie=dr(O.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Xat=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],Qat=_.forwardRef(function(e,t){var n,i,o,a,s,l,u,c;const{backIconButtonProps:d,count:h,disabled:p=!1,getItemAriaLabel:f,nextIconButtonProps:v,onPageChange:g,page:m,rowsPerPage:C,showFirstButton:y,showLastButton:w,slots:T={},slotProps:S={}}=e,x=se(e,Xat),I=_y(),R=De=>{g(De,0)},D=De=>{g(De,m-1)},A=De=>{g(De,m+1)},V=De=>{g(De,Math.max(0,Math.ceil(h/C)-1))},F=(n=T.firstButton)!=null?n:Bc,P=(i=T.lastButton)!=null?i:Bc,M=(o=T.nextButton)!=null?o:Bc,N=(a=T.previousButton)!=null?a:Bc,H=(s=T.firstButtonIcon)!=null?s:Sot,G=(l=T.lastButtonIcon)!=null?l:wot,z=(u=T.nextButtonIcon)!=null?u:hie,j=(c=T.previousButtonIcon)!=null?c:die,q=I?P:F,K=I?M:N,ie=I?N:M,ee=I?F:P,te=I?S.lastButton:S.firstButton,de=I?S.nextButton:S.previousButton,Se=I?S.previousButton:S.nextButton,Me=I?S.firstButton:S.lastButton;return O.jsxs("div",b({ref:t},x,{children:[y&&O.jsx(q,b({onClick:R,disabled:p||m===0,"aria-label":f("first",m),title:f("first",m)},te,{children:I?O.jsx(G,b({},S.lastButtonIcon)):O.jsx(H,b({},S.firstButtonIcon))})),O.jsx(K,b({onClick:D,disabled:p||m===0,color:"inherit","aria-label":f("previous",m),title:f("previous",m)},de??d,{children:I?O.jsx(z,b({},S.nextButtonIcon)):O.jsx(j,b({},S.previousButtonIcon))})),O.jsx(ie,b({onClick:A,disabled:p||(h!==-1?m>=Math.ceil(h/C)-1:!1),color:"inherit","aria-label":f("next",m),title:f("next",m)},Se??v,{children:I?O.jsx(j,b({},S.previousButtonIcon)):O.jsx(z,b({},S.nextButtonIcon))})),w&&O.jsx(ee,b({onClick:V,disabled:p||m>=Math.ceil(h/C)-1,"aria-label":f("last",m),title:f("last",m)},Me,{children:I?O.jsx(H,b({},S.firstButtonIcon)):O.jsx(G,b({},S.lastButtonIcon))}))]}))}),Zat=Qat;function Jat(r){return Gt("MuiTablePagination",r)}const est=Bt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Dh=est;var r5;const tst=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],rst=be(fh,{name:"MuiTablePagination",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({overflow:"auto",color:(r.vars||r).palette.text.primary,fontSize:r.typography.pxToRem(14),"&:last-child":{padding:0}})),nst=be(Yat,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(r,e)=>b({[`& .${Dh.actions}`]:e.actions},e.toolbar)})(({theme:r})=>({minHeight:52,paddingRight:2,[`${r.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[r.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Dh.actions}`]:{flexShrink:0,marginLeft:20}})),ist=be("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(r,e)=>e.spacer})({flex:"1 1 100%"}),ost=be("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(r,e)=>e.selectLabel})(({theme:r})=>b({},r.typography.body2,{flexShrink:0})),ast=be(QI,{name:"MuiTablePagination",slot:"Select",overridesResolver:(r,e)=>b({[`& .${Dh.selectIcon}`]:e.selectIcon,[`& .${Dh.select}`]:e.select},e.input,e.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Dh.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),sst=be(zs,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(r,e)=>e.menuItem})({}),lst=be("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(r,e)=>e.displayedRows})(({theme:r})=>b({},r.typography.body2,{flexShrink:0}));function ust({from:r,to:e,count:t}){return`${r}${e} of ${t!==-1?t:`more than ${e}`}`}function cst(r){return`Go to ${r} page`}const dst=r=>{const{classes:e}=r;return tt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Jat,e)},hst=_.forwardRef(function(e,t){var n;const i=qt({props:e,name:"MuiTablePagination"}),{ActionsComponent:o=Zat,backIconButtonProps:a,className:s,colSpan:l,component:u=fh,count:c,disabled:d=!1,getItemAriaLabel:h=cst,labelDisplayedRows:p=ust,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:v,onPageChange:g,onRowsPerPageChange:m,page:C,rowsPerPage:y,rowsPerPageOptions:w=[10,25,50,100],SelectProps:T={},showFirstButton:S=!1,showLastButton:x=!1,slotProps:I={},slots:R={}}=i,D=se(i,tst),A=i,V=dst(A),F=(n=I==null?void 0:I.select)!=null?n:T,P=F.native?"option":sst;let M;(u===fh||u==="td")&&(M=l||1e3);const N=_n(F.id),H=_n(F.labelId),G=()=>c===-1?(C+1)*y:y===-1?c:Math.min(c,(C+1)*y);return O.jsx(rst,b({colSpan:M,ref:t,as:u,ownerState:A,className:Ae(V.root,s)},D,{children:O.jsxs(nst,{className:V.toolbar,children:[O.jsx(ist,{className:V.spacer}),w.length>1&&O.jsx(ost,{className:V.selectLabel,id:H,children:f}),w.length>1&&O.jsx(ast,b({variant:"standard"},!F.variant&&{input:r5||(r5=O.jsx(Bv,{}))},{value:y,onChange:m,id:N,labelId:H},F,{classes:b({},F.classes,{root:Ae(V.input,V.selectRoot,(F.classes||{}).root),select:Ae(V.select,(F.classes||{}).select),icon:Ae(V.selectIcon,(F.classes||{}).icon)}),disabled:d,children:w.map(z=>_.createElement(P,b({},!sC(P)&&{ownerState:A},{className:V.menuItem,key:z.label?z.label:z,value:z.value?z.value:z}),z.label?z.label:z))})),O.jsx(lst,{className:V.displayedRows,children:p({from:c===0?0:C*y+1,to:G(),count:c===-1?-1:c,page:C})}),O.jsx(o,{className:V.actions,backIconButtonProps:a,count:c,nextIconButtonProps:v,onPageChange:g,page:C,rowsPerPage:y,showFirstButton:S,showLastButton:x,slotProps:I.actions,slots:R.actions,getItemAriaLabel:h,disabled:d})]})}))}),pst=hst;function fst(r){return Gt("MuiTableRow",r)}const vst=Bt("MuiTableRow",["root","selected","hover","head","footer"]),n5=vst,gst=["className","component","hover","selected"],mst=r=>{const{classes:e,selected:t,hover:n,head:i,footer:o}=r;return tt({root:["root",t&&"selected",n&&"hover",i&&"head",o&&"footer"]},fst,e)},_st=be("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(({theme:r})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${n5.hover}:hover`]:{backgroundColor:(r.vars||r).palette.action.hover},[`&.${n5.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Ir(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity)}}})),i5="tr",Cst=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiTableRow"}),{className:i,component:o=i5,hover:a=!1,selected:s=!1}=n,l=se(n,gst),u=_.useContext(cie),c=b({},n,{component:o,hover:a,selected:s,head:u&&u.variant==="head",footer:u&&u.variant==="footer"}),d=mst(c);return O.jsx(_st,b({as:o,ref:t,className:Ae(d.root,i),role:o===i5?null:"row",ownerState:c},l))}),yst=Cst;function Sst(r){return(1+Math.sin(Math.PI*r-Math.PI/2))/2}function wst(r,e,t,n={},i=()=>{}){const{ease:o=Sst,duration:a=300}=n;let s=null;const l=e[r];let u=!1;const c=()=>{u=!0},d=h=>{if(u){i(new Error("Animation cancelled"));return}s===null&&(s=h);const p=Math.min(1,(h-s)/a);if(e[r]=o(p)*(t-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===t?(i(new Error("Element already at target position")),c):(requestAnimationFrame(d),c)}const bst=["onChange"],Est={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function xst(r){const{onChange:e}=r,t=se(r,bst),n=_.useRef(),i=_.useRef(null),o=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return sn(()=>{const a=Nv(()=>{const l=n.current;o(),l!==n.current&&e(n.current)}),s=Gl(i.current);return s.addEventListener("resize",a),()=>{a.clear(),s.removeEventListener("resize",a)}},[e]),_.useEffect(()=>{o(),e(n.current)},[e]),O.jsx("div",b({style:Est,ref:i},t))}function Ist(r){return Gt("MuiTabScrollButton",r)}const Tst=Bt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Rst=Tst,Ost=["className","slots","slotProps","direction","orientation","disabled"],Dst=r=>{const{classes:e,orientation:t,disabled:n}=r;return tt({root:["root",t,n&&"disabled"]},Ist,e)},Ast=be(sd,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.orientation&&e[t.orientation]]}})(({ownerState:r})=>b({width:40,flexShrink:0,opacity:.8,[`&.${Rst.disabled}`]:{opacity:0}},r.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${r.isRtl?-90:90}deg)`}})),Pst=_.forwardRef(function(e,t){var n,i;const o=qt({props:e,name:"MuiTabScrollButton"}),{className:a,slots:s={},slotProps:l={},direction:u}=o,c=se(o,Ost),d=_y(),h=b({isRtl:d},o),p=Dst(h),f=(n=s.StartScrollButtonIcon)!=null?n:die,v=(i=s.EndScrollButtonIcon)!=null?i:hie,g=ka({elementType:f,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),m=ka({elementType:v,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return O.jsx(Ast,b({component:"div",className:Ae(p.root,a),ref:t,role:null,ownerState:h,tabIndex:null},c,{children:u==="left"?O.jsx(f,b({},g)):O.jsx(v,b({},m))}))}),Mst=Pst;function Fst(r){return Gt("MuiTabs",r)}const Lst=Bt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),TA=Lst,Nst=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],o5=(r,e)=>r===e?r.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r.firstChild,a5=(r,e)=>r===e?r.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r.lastChild,Lw=(r,e,t)=>{let n=!1,i=t(r,e);for(;i;){if(i===r.firstChild){if(n)return;n=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=t(r,i);else{i.focus();return}}},kst=r=>{const{vertical:e,fixed:t,hideScrollbar:n,scrollableX:i,scrollableY:o,centered:a,scrollButtonsHideMobile:s,classes:l}=r;return tt({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",n&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},Fst,l)},Vst=be("div",{name:"MuiTabs",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${TA.scrollButtons}`]:e.scrollButtons},{[`& .${TA.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(({ownerState:r,theme:e})=>b({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},r.vertical&&{flexDirection:"column"},r.scrollButtonsHideMobile&&{[`& .${TA.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),Bst=be("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})(({ownerState:r})=>b({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},r.fixed&&{overflowX:"hidden",width:"100%"},r.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},r.scrollableX&&{overflowX:"auto",overflowY:"hidden"},r.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Hst=be("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})(({ownerState:r})=>b({display:"flex"},r.vertical&&{flexDirection:"column"},r.centered&&{justifyContent:"center"})),Gst=be("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(r,e)=>e.indicator})(({ownerState:r,theme:e})=>b({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},r.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},r.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},r.vertical&&{height:"100%",width:2,right:0})),$st=be(xst)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),s5={},Wst=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiTabs"}),i=Xu(),o=_y(),{"aria-label":a,"aria-labelledby":s,action:l,centered:u=!1,children:c,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:v,orientation:g="horizontal",ScrollButtonComponent:m=Mst,scrollButtons:C="auto",selectionFollowsFocus:y,slots:w={},slotProps:T={},TabIndicatorProps:S={},TabScrollButtonProps:x={},textColor:I="primary",value:R,variant:D="standard",visibleScrollbar:A=!1}=n,V=se(n,Nst),F=D==="scrollable",P=g==="vertical",M=P?"scrollTop":"scrollLeft",N=P?"top":"left",H=P?"bottom":"right",G=P?"clientHeight":"clientWidth",z=P?"height":"width",j=b({},n,{component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:P,scrollButtons:C,textColor:I,variant:D,visibleScrollbar:A,fixed:!F,hideScrollbar:F&&!A,scrollableX:F&&!P,scrollableY:F&&P,centered:u&&!F,scrollButtonsHideMobile:!p}),q=kst(j),K=ka({elementType:w.StartScrollButtonIcon,externalSlotProps:T.startScrollButtonIcon,ownerState:j}),ie=ka({elementType:w.EndScrollButtonIcon,externalSlotProps:T.endScrollButtonIcon,ownerState:j}),[ee,te]=_.useState(!1),[de,Se]=_.useState(s5),[Me,De]=_.useState(!1),[ze,he]=_.useState(!1),[ke,Oe]=_.useState(!1),[je,xe]=_.useState({overflow:"hidden",scrollbarWidth:0}),ae=new Map,Ie=_.useRef(null),me=_.useRef(null),nt=()=>{const Le=Ie.current;let rt;if(Le){const Wt=Le.getBoundingClientRect();rt={clientWidth:Le.clientWidth,scrollLeft:Le.scrollLeft,scrollTop:Le.scrollTop,scrollLeftNormalized:PXe(Le,o?"rtl":"ltr"),scrollWidth:Le.scrollWidth,top:Wt.top,bottom:Wt.bottom,left:Wt.left,right:Wt.right}}let Pt;if(Le&&R!==!1){const Wt=me.current.children;if(Wt.length>0){const nr=Wt[ae.get(R)];Pt=nr?nr.getBoundingClientRect():null}}return{tabsMeta:rt,tabMeta:Pt}},He=cn(()=>{const{tabsMeta:Le,tabMeta:rt}=nt();let Pt=0,Wt;if(P)Wt="top",rt&&Le&&(Pt=rt.top-Le.top+Le.scrollTop);else if(Wt=o?"right":"left",rt&&Le){const Vr=o?Le.scrollLeftNormalized+Le.clientWidth-Le.scrollWidth:Le.scrollLeft;Pt=(o?-1:1)*(rt[Wt]-Le[Wt]+Vr)}const nr={[Wt]:Pt,[z]:rt?rt[z]:0};if(isNaN(de[Wt])||isNaN(de[z]))Se(nr);else{const Vr=Math.abs(de[Wt]-nr[Wt]),Br=Math.abs(de[z]-nr[z]);(Vr>=1||Br>=1)&&Se(nr)}}),Ue=(Le,{animation:rt=!0}={})=>{rt?wst(M,Ie.current,Le,{duration:i.transitions.duration.standard}):Ie.current[M]=Le},Ge=Le=>{let rt=Ie.current[M];P?rt+=Le:(rt+=Le*(o?-1:1),rt*=o&&sne()==="reverse"?-1:1),Ue(rt)},ge=()=>{const Le=Ie.current[G];let rt=0;const Pt=Array.from(me.current.children);for(let Wt=0;Wt<Pt.length;Wt+=1){const nr=Pt[Wt];if(rt+nr[G]>Le){Wt===0&&(rt=Le);break}rt+=nr[G]}return rt},_e=()=>{Ge(-1*ge())},Ve=()=>{Ge(ge())},Je=_.useCallback(Le=>{xe({overflow:null,scrollbarWidth:Le})},[]),vt=()=>{const Le={};Le.scrollbarSizeListener=F?O.jsx($st,{onChange:Je,className:Ae(q.scrollableX,q.hideScrollbar)}):null;const Pt=F&&(C==="auto"&&(Me||ze)||C===!0);return Le.scrollButtonStart=Pt?O.jsx(m,b({slots:{StartScrollButtonIcon:w.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:K},orientation:g,direction:o?"right":"left",onClick:_e,disabled:!Me},x,{className:Ae(q.scrollButtons,x.className)})):null,Le.scrollButtonEnd=Pt?O.jsx(m,b({slots:{EndScrollButtonIcon:w.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ie},orientation:g,direction:o?"left":"right",onClick:Ve,disabled:!ze},x,{className:Ae(q.scrollButtons,x.className)})):null,Le},ct=cn(Le=>{const{tabsMeta:rt,tabMeta:Pt}=nt();if(!(!Pt||!rt)){if(Pt[N]<rt[N]){const Wt=rt[M]+(Pt[N]-rt[N]);Ue(Wt,{animation:Le})}else if(Pt[H]>rt[H]){const Wt=rt[M]+(Pt[H]-rt[H]);Ue(Wt,{animation:Le})}}}),Pe=cn(()=>{F&&C!==!1&&Oe(!ke)});_.useEffect(()=>{const Le=Nv(()=>{Ie.current&&He()});let rt;const Pt=Vr=>{Vr.forEach(Br=>{Br.removedNodes.forEach(Qt=>{var Y;(Y=rt)==null||Y.unobserve(Qt)}),Br.addedNodes.forEach(Qt=>{var Y;(Y=rt)==null||Y.observe(Qt)})}),Le(),Pe()},Wt=Gl(Ie.current);Wt.addEventListener("resize",Le);let nr;return typeof ResizeObserver<"u"&&(rt=new ResizeObserver(Le),Array.from(me.current.children).forEach(Vr=>{rt.observe(Vr)})),typeof MutationObserver<"u"&&(nr=new MutationObserver(Pt),nr.observe(me.current,{childList:!0})),()=>{var Vr,Br;Le.clear(),Wt.removeEventListener("resize",Le),(Vr=nr)==null||Vr.disconnect(),(Br=rt)==null||Br.disconnect()}},[He,Pe]),_.useEffect(()=>{const Le=Array.from(me.current.children),rt=Le.length;if(typeof IntersectionObserver<"u"&&rt>0&&F&&C!==!1){const Pt=Le[0],Wt=Le[rt-1],nr={root:Ie.current,threshold:.99},Vr=re=>{De(!re[0].isIntersecting)},Br=new IntersectionObserver(Vr,nr);Br.observe(Pt);const Qt=re=>{he(!re[0].isIntersecting)},Y=new IntersectionObserver(Qt,nr);return Y.observe(Wt),()=>{Br.disconnect(),Y.disconnect()}}},[F,C,ke,c==null?void 0:c.length]),_.useEffect(()=>{te(!0)},[]),_.useEffect(()=>{He()}),_.useEffect(()=>{ct(s5!==de)},[ct,de]),_.useImperativeHandle(l,()=>({updateIndicator:He,updateScrollButtons:Pe}),[He,Pe]);const _t=O.jsx(Gst,b({},S,{className:Ae(q.indicator,S.className),ownerState:j,style:b({},de,S.style)}));let lr=0;const $t=_.Children.map(c,Le=>{if(!_.isValidElement(Le))return null;const rt=Le.props.value===void 0?lr:Le.props.value;ae.set(rt,lr);const Pt=rt===R;return lr+=1,_.cloneElement(Le,b({fullWidth:D==="fullWidth",indicator:Pt&&!ee&&_t,selected:Pt,selectionFollowsFocus:y,onChange:v,textColor:I,value:rt},lr===1&&R===!1&&!Le.props.tabIndex?{tabIndex:0}:{}))}),Ke=Le=>{const rt=me.current,Pt=An(rt).activeElement;if(Pt.getAttribute("role")!=="tab")return;let nr=g==="horizontal"?"ArrowLeft":"ArrowUp",Vr=g==="horizontal"?"ArrowRight":"ArrowDown";switch(g==="horizontal"&&o&&(nr="ArrowRight",Vr="ArrowLeft"),Le.key){case nr:Le.preventDefault(),Lw(rt,Pt,a5);break;case Vr:Le.preventDefault(),Lw(rt,Pt,o5);break;case"Home":Le.preventDefault(),Lw(rt,null,o5);break;case"End":Le.preventDefault(),Lw(rt,null,a5);break}},Ot=vt();return O.jsxs(Vst,b({className:Ae(q.root,d),ownerState:j,ref:t,as:h},V,{children:[Ot.scrollButtonStart,Ot.scrollbarSizeListener,O.jsxs(Bst,{className:q.scroller,ownerState:j,style:{overflow:je.overflow,[P?`margin${o?"Left":"Right"}`:"marginBottom"]:A?void 0:-je.scrollbarWidth},ref:Ie,children:[O.jsx(Hst,{"aria-label":a,"aria-labelledby":s,"aria-orientation":g==="vertical"?"vertical":null,className:q.flexContainer,ownerState:j,onKeyDown:Ke,ref:me,role:"tablist",children:$t}),ee&&_t]}),Ot.scrollButtonEnd]}))}),zst=Wst;function Ust(r){return Gt("MuiTextField",r)}Bt("MuiTextField",["root"]);const jst=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Kst={standard:tie,filled:Qne,outlined:sie},qst=r=>{const{classes:e}=r;return tt({root:["root"]},Ust,e)},Yst=be(Zne,{name:"MuiTextField",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Xst=_.forwardRef(function(e,t){const n=qt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:s,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:f,id:v,InputLabelProps:g,inputProps:m,InputProps:C,inputRef:y,label:w,maxRows:T,minRows:S,multiline:x=!1,name:I,onBlur:R,onChange:D,onFocus:A,placeholder:V,required:F=!1,rows:P,select:M=!1,SelectProps:N,type:H,value:G,variant:z="outlined"}=n,j=se(n,jst),q=b({},n,{autoFocus:o,color:l,disabled:c,error:d,fullWidth:p,multiline:x,required:F,select:M,variant:z}),K=qst(q),ie={};z==="outlined"&&(g&&typeof g.shrink<"u"&&(ie.notched=g.shrink),ie.label=w),M&&((!N||!N.native)&&(ie.id=void 0),ie["aria-describedby"]=void 0);const ee=_n(v),te=f&&ee?`${ee}-helper-text`:void 0,de=w&&ee?`${ee}-label`:void 0,Se=Kst[z],Me=O.jsx(Se,b({"aria-describedby":te,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:p,multiline:x,name:I,rows:P,maxRows:T,minRows:S,type:H,value:G,id:ee,inputRef:y,onBlur:R,onChange:D,onFocus:A,placeholder:V,inputProps:m},ie,C));return O.jsxs(Yst,b({className:Ae(K.root,s),disabled:c,error:d,fullWidth:p,ref:t,required:F,color:l,variant:z,ownerState:q},j,{children:[w!=null&&w!==""&&O.jsx(pB,b({htmlFor:ee,id:de},g,{children:w})),M?O.jsx(QI,b({"aria-describedby":te,id:ee,labelId:de,value:G,input:Me},N,{children:a})):Me,f&&O.jsx(knt,b({id:te},h,{children:f}))]}))}),pie=Xst,Qst=()=>{const r=Array.from(Array(5).keys());return O.jsx("div",{children:r.map(e=>O.jsxs(yst,{children:[O.jsx(fh,{component:"th",scope:"row",style:{width:"40%"},children:O.jsx(Lm,{animation:"wave",variant:"text"})}),O.jsx(fh,{style:{width:"40%"},children:O.jsx(Lm,{animation:"wave",variant:"text"})}),O.jsx(fh,{style:{width:"40%"},children:O.jsx(Lm,{animation:"wave",variant:"text"})}),O.jsx(fh,{style:{width:"40%"},children:O.jsx(Lm,{animation:"wave",variant:"text"})})]},e))})},l5=()=>{const r=L9e(),e=DQ(n=>n.todos.listOfTodos);_.useEffect(()=>{r(yb())},[r]);const t=[{headerName:"ID",field:"id",width:100},{headerName:"User Id",field:"userId",width:100},{headerName:"Task",field:"title"},{headerName:"Status",field:"completed"}];return O.jsx("div",{className:"ag-data-grid-wrapper",children:O.jsx("div",{className:"ag-theme-quartz ag-data-inner-wrapper",children:e.length?O.jsx(tZ.AgGridReact,{rowData:e,columnDefs:t,rowSelection:"multiple",rowHeight:32,pagination:!0,paginationPageSize:10}):O.jsx(Qst,{})})})},Rb=()=>{const r=aq();return console.error(r),O.jsxs("div",{className:"error-page-wrapper",children:[O.jsx("img",{src:"https://cdn.svgator.com/images/2022/01/funny-404-error-page-design.gif",alt:"loading...",className:"error-gif"}),O.jsx("p",{children:"Oops!"}),O.jsx("p",{children:r.statusText})]})},Zst=()=>{const[r,e]=_.useState(0),t=(i,o)=>{e(o)},n=[{path:"/users",label:"Users"},{path:"/users/dataGrid",label:"Data-Grid"},{path:"/users/materilUi",label:"Material-UI"}];return O.jsxs(O.Fragment,{children:[O.jsx(zst,{value:r,onChange:t,textColor:"inherit",indicatorColor:"primary",centered:!0,className:"users-nav-container",children:n.map((i,o)=>O.jsx(Mat,{label:i.label,value:o,component:gse,to:i.path}))}),O.jsx(Wae,{})]})},Jst=()=>O.jsxs("div",{className:"error-page-wrapper",children:[O.jsx("img",{src:"https://assets-v2.lottiefiles.com/a/0e30b444-117c-11ee-9b0d-0fd3804d46cd/BkQxD7wtnZ.gif",alt:"no data",className:"error-gif"}),O.jsx("h5",{children:"Sorry!!! No data found"})]}),elt=()=>{const r=DQ(n=>n.users.selectedUsers);console.log("a",r);const e=MF(),t=()=>{e("/")};return O.jsx(O.Fragment,{children:r.length?O.jsx(O.Fragment,{children:O.jsxs("div",{className:"show-users-container",children:[O.jsx("p",{className:"",children:"Selected users"}),r.map((n,i)=>O.jsxs("div",{className:"show-user-container",children:[O.jsx("img",{src:"https://cdn.iconscout.com/icon/free/png-256/free-user-1556-528036.png",alt:"avatar",className:"user-icon"}),O.jsxs("ul",{children:[O.jsx("li",{children:`Name :${n.firstName} ${n.lastName}`}),O.jsx("li",{children:`Age: ${n.age}`}),O.jsx("li",{children:`Email ${n.email}`})]})]},i)),O.jsx("button",{className:"back-btn",onClick:t,children:"Back"})]})}):O.jsx(Jst,{})})},Nw=({labelText:r,defaultValue:e,id:t,type:n,variant:i,placeHolder:o,handleChange:a,error:s,inputName:l,helperText:u,handleErrors:c,value:d})=>O.jsx(pie,{type:n,label:r,id:t,defaultValue:e,size:"small",onChange:a,variant:i,placeholder:o,error:s,helperText:u,onBlur:c,name:l,value:d}),fie=_.createContext(void 0),vie=()=>{const r=_.useContext(fie);if(!r)throw new Error("useMyContext1 must be used within a UserFormContextProvider1");return r},gie=({children:r})=>{const[e,t]=_.useState([]);_.useEffect(()=>{const i=localStorage.getItem("formData");i?t(JSON.parse(i)):console.log("no data")},[]);const n=i=>{console.log("test",i),t(i),localStorage.setItem("formData",JSON.stringify(i))};return O.jsx(fie.Provider,{value:{data:e,updateContextData:n},children:r})};gie.propTypes={children:ue.node.isRequired};const mie=_.createContext(void 0);function Er(){const r=_.useContext(mie);if(r===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return r}const _ie=_.createContext(void 0),St=()=>{const r=_.useContext(_ie);if(!r)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return r},Cie=_.createContext(void 0);function wd(){const r=_.useContext(Cie);if(r===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return r}const u5={};function mB(r,e){const t=_.useRef(u5);return t.current===u5&&(t.current=r(e)),t}const tlt=[];function yie(r){_.useEffect(r,tlt)}const Yl=(r,e="warning")=>{let t=!1;const n=Array.isArray(r)?r.join(`
`):r;return()=>{t||(t=!0,e==="error"?console.error(n):console.warn(n))}},rlt=Object.is;function Sie(r,e){if(r===e)return!0;if(!(r instanceof Object)||!(e instanceof Object))return!1;let t=0,n=0;for(const i in r)if(t+=1,!rlt(r[i],e[i])||!(i in e))return!1;for(const i in e)n+=1;return t===n}Yl(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function nlt(r){return r.acceptsApiRef}function c5(r,e){return nlt(e)?e(r):e(r.current.state)}const ilt=Object.is,_B=Sie,olt=()=>({state:null,equals:null,selector:null}),ht=(r,e,t=ilt)=>{const n=mB(olt),i=n.current.selector!==null,[o,a]=_.useState(i?null:c5(r,e));return n.current.state=o,n.current.equals=t,n.current.selector=e,yie(()=>r.current.store.subscribe(()=>{const s=c5(r,n.current.selector);n.current.equals(n.current.state,s)||(n.current.state=s,a(s))})),o};function xr(r){return Gt("MuiDataGrid",r)}const Q=Bt("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var fx="NOT_FOUND";function alt(r){var e;return{get:function(n){return e&&r(e.key,n)?e.value:fx},put:function(n,i){e={key:n,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function slt(r,e){var t=[];function n(s){var l=t.findIndex(function(c){return e(s,c.key)});if(l>-1){var u=t[l];return l>0&&(t.splice(l,1),t.unshift(u)),u.value}return fx}function i(s,l){n(s)===fx&&(t.unshift({key:s,value:l}),t.length>r&&t.pop())}function o(){return t}function a(){t=[]}return{get:n,put:i,getEntries:o,clear:a}}var llt=function(e,t){return e===t};function ult(r){return function(t,n){if(t===null||n===null||t.length!==n.length)return!1;for(var i=t.length,o=0;o<i;o++)if(!r(t[o],n[o]))return!1;return!0}}function ZI(r,e){var t=typeof e=="object"?e:{equalityCheck:e},n=t.equalityCheck,i=n===void 0?llt:n,o=t.maxSize,a=o===void 0?1:o,s=t.resultEqualityCheck,l=ult(i),u=a===1?alt(l):slt(a,l);function c(){var d=u.get(arguments);if(d===fx){if(d=r.apply(null,arguments),s){var h=u.getEntries(),p=h.find(function(f){return s(f.value,d)});p&&(d=p.value)}u.put(arguments,d)}return d}return c.clearCache=function(){return u.clear()},c}function clt(r){var e=Array.isArray(r[0])?r[0]:r;if(!e.every(function(n){return typeof n=="function"})){var t=e.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function dlt(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=0,c,d={memoizeOptions:void 0},h=s.pop();if(typeof h=="object"&&(d=h,h=s.pop()),typeof h!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var p=d,f=p.memoizeOptions,v=f===void 0?t:f,g=Array.isArray(v)?v:[v],m=clt(s),C=r.apply(void 0,[function(){return u++,h.apply(null,arguments)}].concat(g)),y=r(function(){for(var T=[],S=m.length,x=0;x<S;x++)T.push(m[x].apply(null,arguments));return c=C.apply(null,T),c});return Object.assign(y,{resultFunc:h,memoizedResultFunc:C,dependencies:m,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),y};return i}var hlt=dlt(ZI);const plt={cache:new WeakMap};Yl(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function wf(r){return"current"in r&&"instanceId"in r.current}const bf={id:"default"},rr=(r,e,t,n,i,o,...a)=>{if(a.length>0)throw new Error("Unsupported number of selectors");let s;if(r&&e&&t&&n&&i&&o)s=(l,u)=>{const c=wf(l),d=u??(c?l.current.instanceId:bf),h=c?l.current.state:l,p=r(h,d),f=e(h,d),v=t(h,d),g=n(h,d),m=i(h,d);return o(p,f,v,g,m)};else if(r&&e&&t&&n&&i)s=(l,u)=>{const c=wf(l),d=u??(c?l.current.instanceId:bf),h=c?l.current.state:l,p=r(h,d),f=e(h,d),v=t(h,d),g=n(h,d);return i(p,f,v,g)};else if(r&&e&&t&&n)s=(l,u)=>{const c=wf(l),d=u??(c?l.current.instanceId:bf),h=c?l.current.state:l,p=r(h,d),f=e(h,d),v=t(h,d);return n(p,f,v)};else if(r&&e&&t)s=(l,u)=>{const c=wf(l),d=u??(c?l.current.instanceId:bf),h=c?l.current.state:l,p=r(h,d),f=e(h,d);return t(p,f)};else if(r&&e)s=(l,u)=>{const c=wf(l),d=u??(c?l.current.instanceId:bf),h=c?l.current.state:l,p=r(h,d);return e(p)};else throw new Error("Missing arguments");return s.acceptsApiRef=!0,s},En=(...r)=>{const e=(...t)=>{var n,i;const[o,a]=t,s=wf(o),l=s?o.current.instanceId:a??bf,u=s?o.current.state:o,{cache:c}=plt;if(c.get(l)&&(n=c.get(l))!=null&&n.get(r)){var d;return(d=c.get(l))==null?void 0:d.get(r)(u,l)}const h=hlt(...r);return c.get(l)||c.set(l,new Map),(i=c.get(l))==null||i.set(r,h),h(u,l)};return e.acceptsApiRef=!0,e},Ah=r=>r.columns,Iu=rr(Ah,r=>r.orderedFields),Hv=rr(Ah,r=>r.lookup),Ll=En(Iu,Hv,(r,e)=>r.map(t=>e[t])),Gs=rr(Ah,r=>r.columnVisibilityModel),Bi=En(Ll,Gs,(r,e)=>r.filter(t=>e[t.field]!==!1)),JI=En(Bi,r=>r.map(e=>e.field)),yv=En(Bi,r=>{const e=[];let t=0;for(let n=0;n<r.length;n+=1)e.push(t),t+=r[n].computedWidth;return e}),CB=rr(Bi,yv,(r,e)=>{const t=r.length;return t===0?0:e[t-1]+r[t-1].computedWidth}),wie=En(Ll,r=>r.filter(e=>e.filterable)),flt=En(Ll,r=>r.reduce((e,t)=>(t.filterable&&(e[t.field]=t),e),{})),eT=r=>r.columnGrouping,vlt=En(eT,r=>{var e;return(e=r==null?void 0:r.unwrappedGroupingModel)!=null?e:{}}),bie=En(eT,r=>{var e;return(e=r==null?void 0:r.lookup)!=null?e:{}}),glt=En(eT,r=>{var e;return(e=r==null?void 0:r.headerStructure)!=null?e:[]}),by=rr(eT,r=>{var e;return(e=r==null?void 0:r.maxDepth)!=null?e:0}),Zs=r=>r.rows,tT=rr(Zs,r=>r.totalRowCount),mlt=rr(Zs,r=>r.loading),_lt=rr(Zs,r=>r.totalTopLevelRowCount),vu=rr(Zs,r=>r.dataRowIdToModelLookup),vx=rr(Zs,r=>r.dataRowIdToIdLookup),Vs=rr(Zs,r=>r.tree),Clt=rr(Zs,r=>r.groupingName),d5=rr(Zs,r=>r.treeDepths),rT=En(Zs,r=>{const e=Object.entries(r.treeDepths);return e.length===0?1:e.filter(([,t])=>t>0).map(([t])=>Number(t)).sort((t,n)=>n-t)[0]+1}),Nm=rr(Zs,r=>r.dataRowIds),ylt=rr(Zs,r=>r==null?void 0:r.additionalRowGroups),Gv=En(ylt,r=>{var e,t;const n=r==null?void 0:r.pinnedRows;return{bottom:n==null||(e=n.bottom)==null?void 0:e.map(i=>{var o;return{id:i.id,model:(o=i.model)!=null?o:{}}}),top:n==null||(t=n.top)==null?void 0:t.map(i=>{var o;return{id:i.id,model:(o=i.model)!=null?o:{}}})}}),Slt=rr(Gv,r=>{var e,t;return((r==null||(e=r.top)==null?void 0:e.length)||0)+((r==null||(t=r.bottom)==null?void 0:t.length)||0)}),Eie=()=>{var r;const e=wd(),t=St(),n=ht(e,Bi),i=ht(e,tT),o=ht(e,by),a=ht(e,Slt);let s="grid";return(r=t.experimentalFeatures)!=null&&r.ariaV7&&t.treeData&&(s="treegrid"),{role:s,"aria-colcount":n.length,"aria-rowcount":o+1+a+i,"aria-multiselectable":!t.disableMultipleRowSelection}},wlt=r=>{const{classes:e}=r;return tt({root:["main"]},xr,e)},blt=Ii("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(r,e)=>e.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),Elt=_.forwardRef((r,e)=>{var t;const n=St(),i=wlt(n),o=(t=n.experimentalFeatures)!=null&&t.ariaV7?Eie:null,a=typeof o=="function"?o():null;return O.jsx(blt,b({ref:e,className:i.root,ownerState:n},a,{children:r.children}))}),xie=r=>r.sorting,yB=rr(xie,r=>r.sortedRows),SB=En(yB,vu,(r,e)=>r.map(t=>{var n;return{id:t,model:(n=e[t])!=null?n:{}}})),Za=rr(xie,r=>r.sortModel),xlt=En(Za,r=>r.reduce((t,n,i)=>(t[n.field]={sortDirection:n.sort,sortIndex:r.length>1?i+1:void 0},t),{})),wB=r=>r.filter,Fi=rr(wB,r=>r.filterModel);rr(Fi,r=>r.quickFilterValues);const Ilt=r=>r.visibleRowsLookup,Iie=rr(wB,r=>r.filteredRowsLookup);rr(wB,r=>r.filteredDescendantCountLookup);const bd=En(Ilt,SB,(r,e)=>e.filter(t=>r[t.id]!==!1)),f_=En(bd,r=>r.map(e=>e.id)),Tlt=En(Iie,SB,(r,e)=>e.filter(t=>r[t.id]!==!1)),Rlt=En(Tlt,r=>r.map(e=>e.id)),Tie=En(bd,Vs,rT,(r,e,t)=>t<2?r:r.filter(n=>{var i;return((i=e[n.id])==null?void 0:i.depth)===0})),Rie=rr(bd,r=>r.length),nT=rr(Tie,r=>r.length),Olt=En(Fi,Hv,(r,e)=>{var t;return(t=r.items)==null?void 0:t.filter(n=>{var i,o;if(!n.field)return!1;const a=e[n.field];if(!(a!=null&&a.filterOperators)||(a==null||(i=a.filterOperators)==null?void 0:i.length)===0)return!1;const s=a.filterOperators.find(l=>l.value===n.operator);return s?!s.InputComponent||n.value!=null&&((o=n.value)==null?void 0:o.toString())!=="":!1})}),Dlt=En(Olt,r=>r.reduce((t,n)=>(t[n.field]?t[n.field].push(n):t[n.field]=[n],t),{})),iT=r=>r.focus,_a=rr(iT,r=>r.cell),Alt=rr(iT,r=>r.columnHeader);rr(iT,r=>r.columnHeaderFilter);const gx=rr(iT,r=>r.columnGroupHeader),oT=r=>r.tabIndex,mx=rr(oT,r=>r.cell),Oie=rr(oT,r=>r.columnHeader);rr(oT,r=>r.columnHeaderFilter);const Plt=rr(oT,r=>r.columnGroupHeader),bB=r=>r.density,Mlt=rr(bB,r=>r.value),$v=rr(bB,r=>r.factor),_F=r=>r.columnMenu;function Flt(r){const{VirtualScrollerComponent:e,ColumnHeadersProps:t,children:n}=r,i=wd(),o=St(),a=_.useRef(null),s=ht(i,Bi),l=ht(i,Dlt),u=ht(i,xlt),c=ht(i,yv),d=ht(i,Oie),h=ht(i,mx),p=ht(i,Plt),f=ht(i,Alt),v=ht(i,gx),g=ht(i,$v),m=ht(i,by),C=ht(i,_F),y=ht(i,Gs),w=ht(i,glt),T=!(p===null&&d===null&&h===null);sn(()=>{i.current.computeSizeAndPublishResizeEvent();const D=a.current;if(typeof ResizeObserver>"u")return()=>{};let A;const V=new ResizeObserver(()=>{A=requestAnimationFrame(()=>{i.current.computeSizeAndPublishResizeEvent()})});return D&&V.observe(D),()=>{A&&window.cancelAnimationFrame(A),D&&V.unobserve(D)}},[i]);const S=_.useRef(null),x=_.useRef(null),I=_.useRef(null);i.current.register("private",{columnHeadersContainerElementRef:x,columnHeadersElementRef:S,virtualScrollerRef:I,mainElementRef:a});const R=!!i.current.getRootDimensions();return O.jsxs(Elt,{ref:a,children:[O.jsx(o.slots.columnHeaders,b({ref:x,innerRef:S,visibleColumns:s,filterColumnLookup:l,sortColumnLookup:u,columnPositions:c,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:p,columnHeaderFocus:f,columnGroupHeaderFocus:v,densityFactor:g,headerGroupingMaxDepth:m,columnMenuState:C,columnVisibility:y,columnGroupsHeaderStructure:w,hasOtherElementInTabSequence:T},t)),R&&O.jsx(e,{ref:I}),n]})}function Llt(){var r;const e=St();return e.hideFooter?null:O.jsx(e.slots.footer,b({},(r=e.slotProps)==null?void 0:r.footer))}const lo="auto-generated-group-node-root",Xf=Symbol("mui.id_autogenerated"),Nlt=()=>({type:"group",id:lo,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function klt(r,e,t="A row was provided without id in the rows prop:"){if(r==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",t,JSON.stringify(e)].join(`
`))}const _x=(r,e,t)=>{const n=e?e(r):r.id;return klt(n,r,t),n},Ob=({rows:r,getRowId:e,loading:t,rowCount:n})=>{const i={type:"full",rows:[]},o={},a={};for(let s=0;s<r.length;s+=1){const l=r[s],u=_x(l,e);o[u]=l,a[u]=u,i.rows.push(u)}return{rowsBeforePartialUpdates:r,loadingPropBeforePartialUpdates:t,rowCountPropBeforePartialUpdates:n,updates:i,dataRowIdToIdLookup:a,dataRowIdToModelLookup:o}},Die=({tree:r,rowCountProp:e=0})=>{const t=r[lo];return Math.max(e,t.children.length+(t.footerId==null?0:1))},Aie=({apiRef:r,rowCountProp:e=0,loadingProp:t,previousTree:n,previousTreeDepths:i})=>{const o=r.current.caches.rows,{tree:a,treeDepths:s,dataRowIds:l,groupingName:u}=r.current.applyStrategyProcessor("rowTreeCreation",{previousTree:n,previousTreeDepths:i,updates:o.updates,dataRowIdToIdLookup:o.dataRowIdToIdLookup,dataRowIdToModelLookup:o.dataRowIdToModelLookup}),c=r.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:s,dataRowIdToIdLookup:o.dataRowIdToIdLookup,dataRowIds:l,dataRowIdToModelLookup:o.dataRowIdToModelLookup});return r.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},b({},c,{totalRowCount:Math.max(e,c.dataRowIds.length),totalTopLevelRowCount:Die({tree:c.tree,rowCountProp:e}),groupingName:u,loading:t})},dC=r=>r.type==="skeletonRow"||r.type==="footer"||r.type==="group"&&r.isAutoGenerated||r.type==="pinnedRow"&&r.isAutoGenerated,EB=(r,e,t)=>{const n=r[e];if(n.type!=="group")return[];const i=[];for(let o=0;o<n.children.length;o+=1){const a=n.children[o];(!t||!dC(r[a]))&&i.push(a);const s=EB(r,a,t);for(let l=0;l<s.length;l+=1)i.push(s[l])}return!t&&n.footerId!=null&&i.push(n.footerId),i},Vlt=({previousCache:r,getRowId:e,updates:t})=>{var n,i,o;if(r.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const a=new Map;t.forEach(h=>{const p=_x(h,e,"A row was provided without id when calling updateRows():");a.has(p)?a.set(p,b({},a.get(p),h)):a.set(p,h)});const s={type:"partial",actions:{insert:[...(n=r.updates.actions.insert)!=null?n:[]],modify:[...(i=r.updates.actions.modify)!=null?i:[]],remove:[...(o=r.updates.actions.remove)!=null?o:[]]},idToActionLookup:b({},r.updates.idToActionLookup)},l=b({},r.dataRowIdToModelLookup),u=b({},r.dataRowIdToIdLookup),c={insert:{},modify:{},remove:{}};a.forEach((h,p)=>{const f=s.idToActionLookup[p];if(h._action==="delete"){if(f==="remove"||!l[p])return;f!=null&&(c[f][p]=!0),s.actions.remove.push(p),delete l[p],delete u[p];return}const v=l[p];if(v){f==="remove"?(c.remove[p]=!0,s.actions.modify.push(p)):f==null&&s.actions.modify.push(p),l[p]=b({},v,h);return}f==="remove"?(c.remove[p]=!0,s.actions.insert.push(p)):f==null&&s.actions.insert.push(p),l[p]=h,u[p]=p});const d=Object.keys(c);for(let h=0;h<d.length;h+=1){const p=d[h],f=c[p];Object.keys(f).length>0&&(s.actions[p]=s.actions[p].filter(v=>!f[v]))}return{dataRowIdToModelLookup:l,dataRowIdToIdLookup:u,updates:s,rowsBeforePartialUpdates:r.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:r.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:r.rowCountPropBeforePartialUpdates}};function Pie(r){var e,t;const n=Gv(r),i=(n==null||(e=n.top)==null?void 0:e.reduce((a,s)=>(a+=r.current.unstable_getRowHeight(s.id),a),0))||0,o=(n==null||(t=n.bottom)==null?void 0:t.reduce((a,s)=>(a+=r.current.unstable_getRowHeight(s.id),a),0))||0;return{top:i,bottom:o}}function Mie(r,e){const t=$v(r);return`var(--DataGrid-overlayHeight, ${2*Math.floor(e*t)}px)`}const Blt=Ii("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:r=>r!=="overlayType",overridesResolver:(r,e)=>e.overlayWrapper})(({overlayType:r})=>({position:"sticky",top:0,left:0,width:0,height:0,zIndex:r==="loadingOverlay"?5:4})),Hlt=Ii("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:r=>r!=="overlayType",overridesResolver:(r,e)=>e.overlayWrapperInner})({}),Glt=r=>{const{classes:e}=r;return tt({root:["overlayWrapper"],inner:["overlayWrapperInner"]},xr,e)};function $lt(r){var e,t;const n=Er(),i=St(),[o,a]=_.useState(()=>{var c,d;return(c=(d=n.current.getRootDimensions())==null?void 0:d.viewportInnerSize)!=null?c:null}),s=_.useCallback(()=>{var c,d;a((c=(d=n.current.getRootDimensions())==null?void 0:d.viewportInnerSize)!=null?c:null)},[n]);sn(()=>n.current.subscribeEvent("viewportInnerSizeChange",s),[n,s]);let l=(e=o==null?void 0:o.height)!=null?e:0;i.autoHeight&&l===0&&(l=Mie(n,i.rowHeight));const u=Glt(b({},r,{classes:i.classes}));return o?O.jsx(Blt,{className:Ae(u.root),overlayType:r.overlayType,children:O.jsx(Hlt,b({className:Ae(u.inner),style:{height:l,width:(t=o==null?void 0:o.width)!=null?t:0}},r))}):null}function Wlt(){const r=Er(),e=St(),t=ht(r,tT),n=ht(r,Rie),i=ht(r,mlt),o=!i&&t===0,a=!i&&t>0&&n===0;let s=null,l="";if(o){var u;s=O.jsx(e.slots.noRowsOverlay,b({},(u=e.slotProps)==null?void 0:u.noRowsOverlay)),l="noRowsOverlay"}if(a){var c;s=O.jsx(e.slots.noResultsOverlay,b({},(c=e.slotProps)==null?void 0:c.noResultsOverlay)),l="noResultsOverlay"}if(i){var d;s=O.jsx(e.slots.loadingOverlay,b({},(d=e.slotProps)==null?void 0:d.loadingOverlay)),l="loadingOverlay"}return s===null?null:O.jsx($lt,{overlayType:l,children:s})}function aT(r){return _.memo(r,Sie)}let RA;function zlt(){return RA===void 0&&document.createElement("div").focus({get preventScroll(){return RA=!0,!1}}),RA}var Wl=function(r){return r.Cell="cell",r.Row="row",r}(Wl||{}),Qr=function(r){return r.Edit="edit",r.View="view",r}(Qr||{}),pn=function(r){return r.Edit="edit",r.View="view",r}(pn||{}),zo=function(r){return r.And="and",r.Or="or",r}(zo||{}),su=function(r){return r.enterKeyDown="enterKeyDown",r.cellDoubleClick="cellDoubleClick",r.printableKeyDown="printableKeyDown",r.deleteKeyDown="deleteKeyDown",r.pasteKeyDown="pasteKeyDown",r}(su||{}),Ms=function(r){return r.cellFocusOut="cellFocusOut",r.escapeKeyDown="escapeKeyDown",r.enterKeyDown="enterKeyDown",r.tabKeyDown="tabKeyDown",r.shiftTabKeyDown="shiftTabKeyDown",r}(Ms||{}),Sc=function(r){return r.enterKeyDown="enterKeyDown",r.cellDoubleClick="cellDoubleClick",r.printableKeyDown="printableKeyDown",r.deleteKeyDown="deleteKeyDown",r}(Sc||{}),lu=function(r){return r.rowFocusOut="rowFocusOut",r.escapeKeyDown="escapeKeyDown",r.enterKeyDown="enterKeyDown",r.tabKeyDown="tabKeyDown",r.shiftTabKeyDown="shiftTabKeyDown",r}(lu||{});function Fie(r){return r.field!==void 0}function Ult(r){return r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth}function jlt(r,e){return r.closest(`.${e}`)}function xB(r){return r.replace(/["\\]/g,"\\$&")}function Klt(r,e){return r.querySelector(`[role="columnheader"][data-field="${xB(e)}"]`)}function Lie(r){return`.${Q.row}[data-id="${xB(String(r))}"]`}function qlt(r,e){return r.querySelector(Lie(e))}function Ylt(r,{id:e,field:t}){const n=Lie(e),i=`.${Q.cell}[data-field="${xB(t)}"]`,o=`${n} ${i}`;return r.querySelector(o)}function Ey(r){return r.target.nodeType===1&&!r.currentTarget.contains(r.target)}function cr(r,e,t){const n=_.useRef(!0);_.useEffect(()=>{n.current=!1,r.current.register(t,e)},[r,t,e]),n.current&&r.current.register(t,e)}class Vf extends Error{}function Xlt(r,e){const{getRowId:t}=e,n=_.useCallback(f=>({field:f,colDef:r.current.getColumn(f)}),[r]),i=_.useCallback(f=>{const v=r.current.getRow(f);if(!v)throw new Vf(`No row with id #${f} found`);return{id:f,columns:r.current.getAllColumns(),row:v}},[r]),o=_.useCallback((f,v)=>{const g=r.current.getRow(f),m=r.current.getRowNode(f);if(!g||!m)throw new Vf(`No row with id #${f} found`);const C=_a(r),y=mx(r);return{id:f,field:v,row:g,rowNode:m,value:g[v],colDef:r.current.getColumn(v),cellMode:r.current.getCellMode(f,v),api:r.current,hasFocus:C!==null&&C.field===v&&C.id===f,tabIndex:y&&y.field===v&&y.id===f?0:-1}},[r]),a=_.useCallback((f,v)=>{const g=r.current.getColumn(v),m=r.current.getCellValue(f,v),C=r.current.getRow(f),y=r.current.getRowNode(f);if(!C||!y)throw new Vf(`No row with id #${f} found`);const w=_a(r),T=mx(r),S={id:f,field:v,row:C,rowNode:y,colDef:g,cellMode:r.current.getCellMode(f,v),hasFocus:w!==null&&w.field===v&&w.id===f,tabIndex:T&&T.field===v&&T.id===f?0:-1,value:m,formattedValue:m,isEditable:!1};return g&&g.valueFormatter&&(S.formattedValue=g.valueFormatter({id:f,field:S.field,value:S.value,api:r.current})),S.isEditable=g&&r.current.isCellEditable(S),S},[r]),s=_.useCallback((f,v)=>{const g=r.current.getColumn(v);if(!g||!g.valueGetter){const m=r.current.getRow(f);if(!m)throw new Vf(`No row with id #${f} found`);return m[v]}return g.valueGetter(o(f,v))},[r,o]),l=_.useCallback((f,v)=>{var g;const m=Xf in f?f[Xf]:(g=t==null?void 0:t(f))!=null?g:f.id,C=v.field;return!v||!v.valueGetter?f[C]:v.valueGetter(o(m,C))},[o,t]),u=_.useCallback((f,v)=>{var g;const m=l(f,v);if(!v||!v.valueFormatter)return m;const C=(g=t?t(f):f.id)!=null?g:f[Xf],y=v.field;return v.valueFormatter({id:C,field:y,value:m,api:r.current})},[r,t,l]),c=_.useCallback(f=>r.current.rootElementRef.current?Klt(r.current.rootElementRef.current,f):null,[r]),d=_.useCallback(f=>r.current.rootElementRef.current?qlt(r.current.rootElementRef.current,f):null,[r]),h=_.useCallback((f,v)=>r.current.rootElementRef.current?Ylt(r.current.rootElementRef.current,{id:f,field:v}):null,[r]);cr(r,{getCellValue:s,getCellParams:a,getCellElement:h,getRowValue:l,getRowFormattedValue:u,getRowParams:i,getRowElement:d,getColumnHeaderParams:n,getColumnHeaderElement:c},"public")}const Qlt=["changeReason","unstable_updateValueOnRender"],Zlt=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","style"],Jlt=["changeReason","unstable_updateValueOnRender"],Cx={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:Qr.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},eut=r=>{const{align:e,showRightBorder:t,isEditable:n,isSelected:i,isSelectionMode:o,classes:a}=r,s={root:["cell",`cell--text${Te(e)}`,n&&"cell--editable",i&&"selected",t&&"cell--withRightBorder",o&&!n&&"cell--selectionMode","withBorderColor"],content:["cellContent"]};return tt(s,xr,a)},tut=_.forwardRef((r,e)=>{const{column:t,rowId:n,editCellState:i}=r,o=Er(),a=St(),s=t.field,l=ht(o,()=>{try{const R=o.current.getCellParams(n,s);return R.api=o.current,R}catch(I){if(I instanceof Vf)return Cx;throw I}},_B),u=ht(o,()=>o.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:n,field:s}));if(l===Cx)return null;const{cellMode:c,hasFocus:d,isEditable:h,value:p,formattedValue:f}=l,v=t.type==="actions",g=(c==="view"||!h)&&!v?l.tabIndex:-1,{classes:m,getCellClassName:C}=a,y=o.current.unstable_applyPipeProcessors("cellClassName",[],{id:n,field:s});t.cellClassName&&y.push(typeof t.cellClassName=="function"?t.cellClassName(l):t.cellClassName),C&&y.push(C(l));let w;if(i==null&&t.renderCell&&(w=t.renderCell(l),y.push(Q["cell--withRenderer"]),y.push(m==null?void 0:m["cell--withRenderer"])),i!=null&&t.renderEditCell){const I=o.current.getRowWithUpdatedValues(n,t.field),R=se(i,Qlt),D=b({},l,{row:I},R);w=t.renderEditCell(D),y.push(Q["cell--editing"]),y.push(m==null?void 0:m["cell--editing"])}const{slots:T}=a,S=T.cell,x=b({},r,{ref:e,field:s,formattedValue:f,hasFocus:d,isEditable:h,isSelected:u,value:p,cellMode:c,children:w,tabIndex:g,className:Ae(y)});return _.createElement(S,x)}),rut=aT(tut),nut=_.forwardRef((r,e)=>{var t,n,i,o;const{column:a,rowId:s,editCellState:l,align:u,colIndex:c,height:d,width:h,className:p,showRightBorder:f,colSpan:v,disableDragEvents:g,isNotVisible:m,onClick:C,onDoubleClick:y,onMouseDown:w,onMouseUp:T,onMouseOver:S,onKeyDown:x,onKeyUp:I,onDragEnter:R,onDragOver:D,style:A}=r,V=se(r,Zlt),F=Er(),P=St(),M=a.field,N=ht(F,()=>{try{const _e=F.current.getCellParams(s,M);return _e.api=F.current,_e}catch(ge){if(ge instanceof Vf)return Cx;throw ge}},_B),H=ht(F,()=>F.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:s,field:M})),{cellMode:G,hasFocus:z,isEditable:j,value:q,formattedValue:K}=N,ie=a.type==="actions"&&((t=(n=a).getActions)==null?void 0:t.call(n,F.current.getRowParams(s)).some(ge=>!ge.props.disabled)),ee=(G==="view"||!j)&&!ie?N.tabIndex:-1,{classes:te,getCellClassName:de}=P,Se=F.current.unstable_applyPipeProcessors("cellClassName",[],{id:s,field:M});a.cellClassName&&Se.push(typeof a.cellClassName=="function"?a.cellClassName(N):a.cellClassName),de&&Se.push(de(N));const Me=K??q,De=_.useRef(null),ze=ln(e,De),he=_.useRef(null),ke=(i=P.unstable_cellSelection)!=null?i:!1,Oe={align:u,showRightBorder:f,isEditable:j,classes:P.classes,isSelected:H,isSelectionMode:ke},je=eut(Oe),xe=_.useCallback(ge=>_e=>{const Ve=F.current.getCellParams(s,M||"");F.current.publishEvent(ge,Ve,_e),T&&T(_e)},[F,M,T,s]),ae=_.useCallback(ge=>_e=>{const Ve=F.current.getCellParams(s,M||"");F.current.publishEvent(ge,Ve,_e),w&&w(_e)},[F,M,w,s]),Ie=_.useCallback((ge,_e)=>Ve=>{if(!F.current.getRow(s))return;const Je=F.current.getCellParams(s,M||"");F.current.publishEvent(ge,Je,Ve),_e&&_e(Ve)},[F,M,s]),me=_.useMemo(()=>b(m?{padding:0,opacity:0,width:0,border:0}:{minWidth:h,maxWidth:h,minHeight:d,maxHeight:d==="auto"?"none":d},A),[h,d,m,A]);if(_.useEffect(()=>{if(!z||G===Qr.Edit)return;const ge=An(F.current.rootElementRef.current);if(De.current&&!De.current.contains(ge.activeElement)){const _e=De.current.querySelector('[tabindex="0"]'),Ve=he.current||_e||De.current;if(zlt())Ve.focus({preventScroll:!0});else{const Je=F.current.getScrollPosition();Ve.focus(),F.current.scroll(Je)}}},[z,G,F]),N===Cx)return null;let nt=V.onFocus,He;if(l==null&&a.renderCell&&(He=a.renderCell(N),Se.push(Q["cell--withRenderer"]),Se.push(te==null?void 0:te["cell--withRenderer"])),l!=null&&a.renderEditCell){const ge=F.current.getRowWithUpdatedValues(s,a.field),_e=se(l,Jlt),Ve=b({},N,{row:ge},_e);He=a.renderEditCell(Ve),Se.push(Q["cell--editing"]),Se.push(te==null?void 0:te["cell--editing"])}if(He===void 0){const ge=Me==null?void 0:Me.toString();He=O.jsx("div",{className:je.content,title:ge,role:"presentation",children:ge})}_.isValidElement(He)&&ie&&(He=_.cloneElement(He,{focusElementRef:he}));const Ue=g?null:{onDragEnter:Ie("cellDragEnter",R),onDragOver:Ie("cellDragOver",D)},Ge=(o=P.experimentalFeatures)==null?void 0:o.ariaV7;return O.jsx("div",b({ref:ze,className:Ae(p,Se,je.root),role:Ge?"gridcell":"cell","data-field":M,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":v,style:me,tabIndex:ee,onClick:Ie("cellClick",C),onDoubleClick:Ie("cellDoubleClick",y),onMouseOver:Ie("cellMouseOver",S),onMouseDown:ae("cellMouseDown"),onMouseUp:xe("cellMouseUp"),onKeyDown:Ie("cellKeyDown",x),onKeyUp:Ie("cellKeyUp",I)},Ue,V,{onFocus:nt,children:He}))}),CF=aT(nut),iut=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],out=r=>{const{classes:e}=r;return tt({root:["booleanCell"]},xr,e)};function aut(r){const{value:e}=r,t=se(r,iut),n=Er(),i=St(),o={classes:i.classes},a=out(o),s=_.useMemo(()=>e?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,e]);return O.jsx(s,b({fontSize:"small",className:a.root,titleAccess:n.current.getLocaleText(e?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!e},t))}const sut=_.memo(aut),lut=r=>dC(r.rowNode)?"":O.jsx(sut,b({},r)),uut=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],cut=r=>{const{classes:e}=r;return tt({root:["editBooleanCell"]},xr,e)};function dut(r){var e;const{id:t,value:n,field:i,className:o,hasFocus:a,onValueChange:s}=r,l=se(r,uut),u=Er(),c=_.useRef(null),d=_n(),[h,p]=_.useState(n),f=St(),v={classes:f.classes},g=cut(v),m=_.useCallback(async C=>{const y=C.target.checked;s&&await s(C,y),p(y),await u.current.setEditCellValue({id:t,field:i,value:y},C)},[u,i,t,s]);return _.useEffect(()=>{p(n)},[n]),sn(()=>{a&&c.current.focus()},[a]),O.jsx("label",b({htmlFor:d,className:Ae(g.root,o)},l,{children:O.jsx(f.slots.baseCheckbox,b({id:d,inputRef:c,checked:!!h,onChange:m,size:"small"},(e=f.slotProps)==null?void 0:e.baseCheckbox))}))}const hut=r=>O.jsx(dut,b({},r)),put=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],fut=be(Bv)({fontSize:"inherit"}),vut=r=>{const{classes:e}=r;return tt({root:["editInputCell"]},xr,e)};function gut(r){const{id:e,value:t,field:n,colDef:i,hasFocus:o,inputProps:a,onValueChange:s}=r,l=se(r,put),u=i.type==="dateTime",c=Er(),d=_.useRef(),h=_.useMemo(()=>{let w;t==null?w=null:t instanceof Date?w=t:w=new Date((t??"").toString());let T;return w==null||Number.isNaN(w.getTime())?T="":T=new Date(w.getTime()-w.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:w,formatted:T}},[t,u]),[p,f]=_.useState(h),g={classes:St().classes},m=vut(g),C=_.useCallback(w=>{if(w==="")return null;const[T,S]=w.split("T"),[x,I,R]=T.split("-"),D=new Date;if(D.setFullYear(Number(x),Number(I)-1,Number(R)),D.setHours(0,0,0,0),S){const[A,V]=S.split(":");D.setHours(Number(A),Number(V),0,0)}return D},[]),y=_.useCallback(async w=>{const T=w.target.value,S=C(T);s&&await s(w,S),f({parsed:S,formatted:T}),c.current.setEditCellValue({id:e,field:n,value:S},w)},[c,n,e,s,C]);return _.useEffect(()=>{f(w=>{var T,S;return h.parsed!==w.parsed&&((T=h.parsed)==null?void 0:T.getTime())!==((S=w.parsed)==null?void 0:S.getTime())?h:w})},[h]),sn(()=>{o&&d.current.focus()},[o]),O.jsx(fut,b({inputRef:d,fullWidth:!0,className:m.root,type:u?"datetime-local":"date",inputProps:b({max:u?"9999-12-31T23:59":"9999-12-31"},a),value:p.formatted,onChange:y},l))}const Nie=r=>O.jsx(gut,b({},r)),mut=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],_ut=r=>{const{classes:e}=r;return tt({root:["editInputCell"]},xr,e)},Cut=be(Bv,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(r,e)=>e.editInputCell})(({theme:r})=>b({},r.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),yut=_.forwardRef((r,e)=>{const t=St(),{id:n,value:i,field:o,colDef:a,hasFocus:s,debounceMs:l=200,isProcessingProps:u,onValueChange:c}=r,d=se(r,mut),h=Er(),p=_.useRef(),[f,v]=_.useState(i),g=_ut(t),m=_.useCallback(async y=>{const w=y.target.value;c&&await c(y,w);const T=h.current.getColumn(o);let S=w;T.valueParser&&(S=T.valueParser(w,h.current.getCellParams(n,o))),v(S),h.current.setEditCellValue({id:n,field:o,value:S,debounceMs:l,unstable_skipValueParser:!0},y)},[h,l,o,n,c]),C=h.current.unstable_getEditCellMeta(n,o);return _.useEffect(()=>{(C==null?void 0:C.changeReason)!=="debouncedSetEditCellValue"&&v(i)},[C,i]),sn(()=>{s&&p.current.focus()},[s]),O.jsx(Cut,b({ref:e,inputRef:p,className:g.root,ownerState:t,fullWidth:!0,type:a.type==="number"?a.type:"text",value:f??"",onChange:m,endAdornment:u?O.jsx(t.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},d))}),Sut=r=>O.jsx(yut,b({},r)),yx=r=>r==="Escape",wut=r=>r==="Enter",kie=r=>r==="Tab",Vie=r=>r===" ",but=r=>r.indexOf("Arrow")===0,Eut=r=>r==="Home"||r==="End",xut=r=>r.indexOf("Page")===0;function Bie(r){return r.key.length===1&&!r.ctrlKey&&!r.metaKey}const Sx=r=>Eut(r)||but(r)||xut(r)||Vie(r),Iut=r=>!!r.key,Tut=r=>kie(r)||yx(r);function Ph(r){return(r==null?void 0:r.type)==="singleSelect"}function yF(r,e,t){if(e===void 0)return;const n=e.find(i=>{const o=t(i);return String(o)===String(r)});return t(n)}const Rut=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],Out=["MenuProps"];function Dut(r){return!!r.key}function Aut(r){var e,t,n;const i=St(),{id:o,value:a,field:s,row:l,colDef:u,hasFocus:c,error:d,onValueChange:h,initialOpen:p=i.editMode===Wl.Cell,getOptionLabel:f,getOptionValue:v}=r,g=se(r,Rut),m=Er(),C=_.useRef(),y=_.useRef(),[w,T]=_.useState(p),x=(t=(((e=i.slotProps)==null?void 0:e.baseSelect)||{}).native)!=null?t:!1,I=((n=i.slotProps)==null?void 0:n.baseSelect)||{},{MenuProps:R}=I,D=se(I,Out);if(sn(()=>{if(c){var H;(H=y.current)==null||H.focus()}},[c]),!Ph(u))return null;let A;if(typeof(u==null?void 0:u.valueOptions)=="function"?A=u==null?void 0:u.valueOptions({id:o,row:l,field:s}):A=u==null?void 0:u.valueOptions,!A)return null;const V=v||u.getOptionValue,F=f||u.getOptionLabel,P=async H=>{if(!Ph(u)||!A)return;T(!1);const G=H.target,z=yF(G.value,A,V);h&&await h(H,z),await m.current.setEditCellValue({id:o,field:s,value:z},H)},M=(H,G)=>{if(i.editMode===Wl.Row){T(!1);return}if(G==="backdropClick"||yx(H.key)){const z=m.current.getCellParams(o,s);m.current.publishEvent("cellEditStop",b({},z,{reason:yx(H.key)?Ms.escapeKeyDown:Ms.cellFocusOut}))}},N=H=>{Dut(H)&&H.key==="Enter"||T(!0)};return!A||!u?null:O.jsx(i.slots.baseSelect,b({ref:C,inputRef:y,value:a,onChange:P,open:w,onOpen:N,MenuProps:b({onClose:M},R),error:d,native:x,fullWidth:!0},g,D,{children:A.map(H=>{var G;const z=V(H);return _.createElement(i.slots.baseSelectOption,b({},((G=i.slotProps)==null?void 0:G.baseSelectOption)||{},{native:x,key:z,value:z}),F(H))})}))}const Put=r=>O.jsx(Aut,b({},r)),Mut=["open","target","onClose","children","position","className","onExited"],Fut=r=>{const{classes:e}=r;return tt({root:["menu"]},xr,e)},Lut=be(bp,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(r,e)=>e.menu})(({theme:r})=>({zIndex:r.zIndex.modal,[`& .${Q.menuList}`]:{outline:0}})),Nut={"bottom-start":"top left","bottom-end":"top right"};function Hie(r){var e;const{open:t,target:n,onClose:i,children:o,position:a,className:s,onExited:l}=r,u=se(r,Mut),c=Er(),d=St(),h=Fut(d),p=_.useRef(null);sn(()=>{if(t)p.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var g,m;(g=p.current)==null||(m=g.focus)==null||m.call(g),p.current=null}},[t]),_.useEffect(()=>{const g=t?"menuOpen":"menuClose";c.current.publishEvent(g,{target:n})},[c,t,n]);const f=g=>m=>{g&&g(),l&&l(m)},v=g=>{g.target&&(n===g.target||n!=null&&n.contains(g.target))||i(g)};return O.jsx(Lut,b({as:d.slots.basePopper,className:Ae(s,h.root),ownerState:d,open:t,anchorEl:n,transition:!0,placement:a},u,(e=d.slotProps)==null?void 0:e.basePopper,{children:({TransitionProps:g,placement:m})=>O.jsx(Tne,{onClickAway:v,mouseEvent:"onMouseDown",children:O.jsx(dx,b({},g,{style:{transformOrigin:Nut[m]},onExited:f(g==null?void 0:g.onExited),children:O.jsx(yy,{children:o})}))})}))}const kut=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Vut=r=>typeof r.getActions=="function";function But(r){var e;const{colDef:t,id:n,hasFocus:i,tabIndex:o,position:a="bottom-end",focusElementRef:s}=r,l=se(r,kut),[u,c]=_.useState(-1),[d,h]=_.useState(!1),p=Er(),f=_.useRef(null),v=_.useRef(null),g=_.useRef(!1),m=_.useRef({}),C=Xu(),y=_n(),w=_n(),T=St();if(!Vut(t))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const S=t.getActions(p.current.getRowParams(n)),x=S.filter(N=>!N.props.showInMenu),I=S.filter(N=>N.props.showInMenu),R=x.length+(I.length?1:0);_.useLayoutEffect(()=>{i||Object.entries(m.current).forEach(([N,H])=>{H==null||H.stop({},()=>{delete m.current[N]})})},[i]),_.useEffect(()=>{if(u<0||!f.current||u>=f.current.children.length)return;f.current.children[u].focus({preventScroll:!0})},[u]),_.useEffect(()=>{i||(c(-1),g.current=!1)},[i]),_.useImperativeHandle(s,()=>({focus(){if(!g.current){const N=S.findIndex(H=>!H.props.disabled);c(N)}}}),[S]),_.useEffect(()=>{u>=R&&c(R-1)},[u,R]);const D=()=>{h(!0),c(R-1),g.current=!0},A=()=>{h(!1)},V=N=>H=>{m.current[N]=H},F=(N,H)=>G=>{c(N),g.current=!0,H&&H(G)},P=N=>{if(R<=1)return;const H=(z,j)=>{var q;if(z<0||z>S.length)return z;const K=C.direction==="rtl"?-1:1,ie=(j==="left"?-1:1)*K;return(q=S[z+ie])!=null&&q.props.disabled?H(z+ie,j):z+ie};let G=u;N.key==="ArrowRight"?G=H(u,"right"):N.key==="ArrowLeft"&&(G=H(u,"left")),!(G<0||G>=R)&&G!==u&&(N.preventDefault(),N.stopPropagation(),c(G))},M=N=>{N.key==="Tab"&&N.preventDefault(),["Tab","Escape"].includes(N.key)&&A()};return O.jsxs("div",b({role:"menu",ref:f,tabIndex:-1,className:Q.actionsCell,onKeyDown:P},l,{children:[x.map((N,H)=>_.cloneElement(N,{key:H,touchRippleRef:V(H),onClick:F(H,N.props.onClick),tabIndex:u===H?o:-1})),I.length>0&&w&&O.jsx(T.slots.baseIconButton,b({ref:v,id:w,"aria-label":p.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?y:void 0,role:"menuitem",size:"small",onClick:D,touchRippleRef:V(w),tabIndex:u===x.length?o:-1},(e=T.slotProps)==null?void 0:e.baseIconButton,{children:O.jsx(T.slots.moreActionsIcon,{fontSize:"small"})})),I.length>0&&O.jsx(Hie,{open:d,target:v.current,position:a,onClose:A,children:O.jsx(fB,{id:y,className:Q.menuList,onKeyDown:M,"aria-labelledby":w,variant:"menu",autoFocusItem:!0,children:I.map((N,H)=>_.cloneElement(N,{key:H,closeMenu:A}))})})]}))}const Hut=r=>O.jsx(But,b({},r)),Gut=["field","align","width","contentWidth"],$ut=r=>{const{align:e,classes:t}=r,n={root:["cell","cellSkeleton",`cell--text${Te(e)}`,"withBorderColor"]};return tt(n,xr,t)};function Wut(r){const{align:e,width:t,contentWidth:n}=r,i=se(r,Gut),a={classes:St().classes,align:e},s=$ut(a);return O.jsx("div",b({className:s.root,style:{width:t}},i,{children:O.jsx(Lm,{width:`${n}%`})}))}function zut(r){return r.vars?r.vars.palette.TableCell.border:r.palette.mode==="light"?CXe(Ps(r.palette.divider,1),.88):_Xe(Ps(r.palette.divider,1),.68)}const h5={[`.${Q.columnSeparator}, .${Q["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},p5={[`& .${Q.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${Q.menuIcon}`]:{width:"auto",visibility:"visible"}},Uut=be("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(r,e)=>[{[`&.${Q.autoHeight}`]:e.autoHeight},{[`&.${Q.aggregationColumnHeader}`]:e.aggregationColumnHeader},{[`&.${Q["aggregationColumnHeader--alignLeft"]}`]:e["aggregationColumnHeader--alignLeft"]},{[`&.${Q["aggregationColumnHeader--alignCenter"]}`]:e["aggregationColumnHeader--alignCenter"]},{[`&.${Q["aggregationColumnHeader--alignRight"]}`]:e["aggregationColumnHeader--alignRight"]},{[`&.${Q.aggregationColumnHeaderLabel}`]:e.aggregationColumnHeaderLabel},{[`&.${Q["root--disableUserSelection"]} .${Q.cell}`]:e["root--disableUserSelection"]},{[`&.${Q.autosizing}`]:e.autosizing},{[`& .${Q.editBooleanCell}`]:e.editBooleanCell},{[`& .${Q["cell--editing"]}`]:e["cell--editing"]},{[`& .${Q["cell--textCenter"]}`]:e["cell--textCenter"]},{[`& .${Q["cell--textLeft"]}`]:e["cell--textLeft"]},{[`& .${Q["cell--textRight"]}`]:e["cell--textRight"]},{[`& .${Q["cell--withRenderer"]}`]:e["cell--withRenderer"]},{[`& .${Q.cell}`]:e.cell},{[`& .${Q["cell--rangeTop"]}`]:e["cell--rangeTop"]},{[`& .${Q["cell--rangeBottom"]}`]:e["cell--rangeBottom"]},{[`& .${Q["cell--rangeLeft"]}`]:e["cell--rangeLeft"]},{[`& .${Q["cell--rangeRight"]}`]:e["cell--rangeRight"]},{[`& .${Q["cell--withRightBorder"]}`]:e["cell--withRightBorder"]},{[`& .${Q.cellContent}`]:e.cellContent},{[`& .${Q.cellCheckbox}`]:e.cellCheckbox},{[`& .${Q.cellSkeleton}`]:e.cellSkeleton},{[`& .${Q.checkboxInput}`]:e.checkboxInput},{[`& .${Q["columnHeader--alignCenter"]}`]:e["columnHeader--alignCenter"]},{[`& .${Q["columnHeader--alignLeft"]}`]:e["columnHeader--alignLeft"]},{[`& .${Q["columnHeader--alignRight"]}`]:e["columnHeader--alignRight"]},{[`& .${Q["columnHeader--dragging"]}`]:e["columnHeader--dragging"]},{[`& .${Q["columnHeader--moving"]}`]:e["columnHeader--moving"]},{[`& .${Q["columnHeader--numeric"]}`]:e["columnHeader--numeric"]},{[`& .${Q["columnHeader--sortable"]}`]:e["columnHeader--sortable"]},{[`& .${Q["columnHeader--sorted"]}`]:e["columnHeader--sorted"]},{[`& .${Q["columnHeader--withRightBorder"]}`]:e["columnHeader--withRightBorder"]},{[`& .${Q.columnHeader}`]:e.columnHeader},{[`& .${Q.headerFilterRow}`]:e.headerFilterRow},{[`& .${Q.columnHeaderCheckbox}`]:e.columnHeaderCheckbox},{[`& .${Q.columnHeaderDraggableContainer}`]:e.columnHeaderDraggableContainer},{[`& .${Q.columnHeaderTitleContainer}`]:e.columnHeaderTitleContainer},{[`& .${Q["columnSeparator--resizable"]}`]:e["columnSeparator--resizable"]},{[`& .${Q["columnSeparator--resizing"]}`]:e["columnSeparator--resizing"]},{[`& .${Q.columnSeparator}`]:e.columnSeparator},{[`& .${Q.filterIcon}`]:e.filterIcon},{[`& .${Q.iconSeparator}`]:e.iconSeparator},{[`& .${Q.menuIcon}`]:e.menuIcon},{[`& .${Q.menuIconButton}`]:e.menuIconButton},{[`& .${Q.menuOpen}`]:e.menuOpen},{[`& .${Q.menuList}`]:e.menuList},{[`& .${Q["row--editable"]}`]:e["row--editable"]},{[`& .${Q["row--editing"]}`]:e["row--editing"]},{[`& .${Q["row--dragging"]}`]:e["row--dragging"]},{[`& .${Q.row}`]:e.row},{[`& .${Q.rowReorderCellPlaceholder}`]:e.rowReorderCellPlaceholder},{[`& .${Q.rowReorderCell}`]:e.rowReorderCell},{[`& .${Q["rowReorderCell--draggable"]}`]:e["rowReorderCell--draggable"]},{[`& .${Q.sortIcon}`]:e.sortIcon},{[`& .${Q.withBorderColor}`]:e.withBorderColor},{[`& .${Q.treeDataGroupingCell}`]:e.treeDataGroupingCell},{[`& .${Q.treeDataGroupingCellToggle}`]:e.treeDataGroupingCellToggle},{[`& .${Q.detailPanelToggleCell}`]:e.detailPanelToggleCell},{[`& .${Q["detailPanelToggleCell--expanded"]}`]:e["detailPanelToggleCell--expanded"]},e.root]})(({theme:r})=>{const e=zut(r),t=r.shape.borderRadius;return b({"--unstable_DataGrid-radius":typeof t=="number"?`${t}px`:t,"--unstable_DataGrid-headWeight":r.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":r.vars?`rgba(${r.vars.palette.background.defaultChannel} / ${r.vars.palette.action.disabledOpacity})`:Ps(r.palette.background.default,r.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:e,borderRadius:"var(--unstable_DataGrid-radius)",color:(r.vars||r).palette.text.primary},r.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[`&.${Q.autoHeight}`]:{height:"auto",[`& .${Q["row--lastVisible"]} .${Q.cell}`]:{borderBottomColor:"transparent"}},[`&.${Q.autosizing}`]:{[`& .${Q.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},[`& .${Q.cell} > *`]:{overflow:"visible !important",whiteSpace:"nowrap"},[`& .${Q.groupingCriteriaCell}`]:{width:"unset"},[`& .${Q.treeDataGroupingCell}`]:{width:"unset"}},[`& .${Q["virtualScrollerContent--overflowed"]} .${Q["row--lastVisible"]} .${Q.cell}`]:{borderBottomColor:"transparent"},[`& .${Q.columnHeader}, & .${Q.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${Q.columnHeader}:focus-within, & .${Q.cell}:focus-within`]:{outline:`solid ${r.vars?`rgba(${r.vars.palette.primary.mainChannel} / 0.5)`:Ps(r.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${Q.columnHeader}:focus, & .${Q.cell}:focus`]:{outline:`solid ${r.palette.primary.main} 1px`},[`& .${Q.columnHeaderCheckbox}, & .${Q.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${Q.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${Q["columnHeader--sorted"]} .${Q.iconButtonContainer}, & .${Q["columnHeader--filtered"]} .${Q.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${Q.columnHeader}:not(.${Q["columnHeader--sorted"]}) .${Q.sortIcon}`]:{opacity:0,transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.shorter})},[`& .${Q.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${Q.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${Q["columnHeader--filledGroup"]} .${Q.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${Q["columnHeader--filledGroup"]}.${Q["columnHeader--showColumnBorder"]} .${Q.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${Q["columnHeader--filledGroup"]}.${Q["columnHeader--showColumnBorder"]}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${Q.headerFilterRow}`]:{borderTop:`1px solid ${e}`},[`& .${Q.sortIcon}, & .${Q.filterIcon}`]:{fontSize:"inherit"},[`& .${Q["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${Q["columnHeader--alignCenter"]} .${Q.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${Q["columnHeader--alignRight"]} .${Q.columnHeaderDraggableContainer}, & .${Q["columnHeader--alignRight"]} .${Q.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${Q["columnHeader--alignCenter"]} .${Q.menuIcon}, & .${Q["columnHeader--alignRight"]} .${Q.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${Q["columnHeader--alignRight"]} .${Q.menuIcon}, & .${Q["columnHeader--alignRight"]} .${Q.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${Q["columnHeader--moving"]}`]:{backgroundColor:(r.vars||r).palette.action.hover},[`& .${Q.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:e},"@media (hover: hover)":{[`& .${Q.columnHeaders}:hover`]:h5,[`& .${Q.columnHeader}:hover`]:p5,[`& .${Q.columnHeader}:not(.${Q["columnHeader--sorted"]}):hover .${Q.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${Q.columnHeaders}`]:h5,[`& .${Q.columnHeader}`]:p5},[`& .${Q["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${Q["columnSeparator--sideRight"]}`]:{right:-12},[`& .${Q["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(r.vars||r).palette.text.primary,"@media (hover: none)":{color:e}},[`&.${Q["columnSeparator--resizing"]}`]:{color:(r.vars||r).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${Q.iconSeparator}`]:{color:"inherit"},[`& .${Q.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${Q.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${Q.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ps(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(
                ${r.vars.palette.action.selectedOpacity} + 
                ${r.vars.palette.action.hoverOpacity}
              ))`:Ps(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ps(r.palette.primary.main,r.palette.action.selectedOpacity)}}}},[`& .${Q.cell}`]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ps(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity+r.palette.action.hoverOpacity})`:Ps(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Ps(r.palette.primary.main,r.palette.action.selectedOpacity)}}}},[`&.${Q["root--disableUserSelection"]} .${Q.cell}`]:{userSelect:"none"},[`& .${Q.row}:not(.${Q["row--dynamicHeight"]}) > .${Q.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${Q.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${Q.cell}.${Q["cell--selectionMode"]}`]:{cursor:"default"},[`& .${Q.cell}.${Q["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:r.shadows[2],backgroundColor:(r.vars||r).palette.background.paper,"&:focus-within":{outline:`solid ${(r.vars||r).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${Q["row--editing"]}`]:{boxShadow:r.shadows[2]},[`& .${Q["row--editing"]} .${Q.cell}`]:{boxShadow:r.shadows[0],backgroundColor:(r.vars||r).palette.background.paper},[`& .${Q.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${Q.booleanCell}[data-value="true"]`]:{color:(r.vars||r).palette.text.secondary},[`& .${Q.booleanCell}[data-value="false"]`]:{color:(r.vars||r).palette.text.disabled},[`& .${Q.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:r.spacing(1)},[`& .${Q.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(r.vars||r).palette.action.disabledOpacity},[`& .${Q["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${Q.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`.${Q.withBorderColor}`]:{borderColor:e},[`& .${Q["cell--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${Q["columnHeader--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${Q["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${Q["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${Q["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${Q.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${Q.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${Q["columnHeader--dragging"]}, & .${Q["row--dragging"]}`]:{background:(r.vars||r).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(r.vars||r).palette.action.disabledOpacity},[`& .${Q["row--dragging"]}`]:{background:(r.vars||r).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(r.vars||r).palette.action.disabledOpacity,[`& .${Q.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${Q.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${Q.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:r.spacing(2)},[`& .${Q.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${Q.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:r.spacing(2)}})}),jut=["children","className"],Kut=r=>{const{autoHeight:e,density:t,classes:n}=r,i={root:["root",e&&"autoHeight",`root--density${Te(t)}`,"withBorderColor"]};return tt(i,xr,n)},qut=_.forwardRef(function(e,t){var n;const i=St(),{children:o,className:a}=e,s=se(e,jut),l=wd(),u=ht(l,Mlt),c=_.useRef(null),d=ln(c,t),h=(n=i.experimentalFeatures)!=null&&n.ariaV7?null:Eie,p=typeof h=="function"?h():null,f=b({},i,{density:u}),v=Kut(f);l.current.register("public",{rootElementRef:c});const[g,m]=_.useState(!1);return sn(()=>{m(!0)},[]),g?O.jsx(Uut,b({ref:d,className:Ae(a,v.root),ownerState:f},p,s,{children:o})):null}),Yut=["className"],Xut=r=>{const{classes:e}=r;return tt({root:["footerContainer","withBorderColor"]},xr,e)},Qut=Ii("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(r,e)=>e.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),Zut=_.forwardRef(function(e,t){const{className:n}=e,i=se(e,Yut),o=St(),a=Xut(o);return O.jsx(Qut,b({ref:t,className:Ae(a.root,n),ownerState:o},i))}),Jut=["className"],ect=r=>{const{classes:e}=r;return tt({root:["overlay"]},xr,e)},tct=Ii("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(r,e)=>e.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),IB=_.forwardRef(function(e,t){const{className:n}=e,i=se(e,Jut),o=St(),a=ect(o);return O.jsx(tct,b({ref:t,className:Ae(a.root,n),ownerState:o},i))}),rct=["className"],nct=r=>{const{classes:e}=r;return tt({root:["iconButtonContainer"]},xr,e)},ict=Ii("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(r,e)=>e.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),Gie=_.forwardRef(function(e,t){const{className:n}=e,i=se(e,rct),o=St(),a=nct(o);return O.jsx(ict,b({ref:t,className:Ae(a.root,n),ownerState:o},i))}),oct=r=>{const{classes:e}=r;return tt({icon:["sortIcon"]},xr,e)};function act(r,e,t,n){let i;const o={};return e==="asc"?i=r.columnSortedAscendingIcon:e==="desc"?i=r.columnSortedDescendingIcon:(i=r.columnUnsortedIcon,o.sortingOrder=n),i?O.jsx(i,b({fontSize:"small",className:t},o)):null}function sct(r){var e;const{direction:t,index:n,sortingOrder:i}=r,o=Er(),a=St(),s=b({},r,{classes:a.classes}),l=oct(s),u=act(a.slots,t,l.icon,i);if(!u)return null;const c=O.jsx(a.slots.baseIconButton,b({tabIndex:-1,"aria-label":o.current.getLocaleText("columnHeaderSortIconLabel"),title:o.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(e=a.slotProps)==null?void 0:e.baseIconButton,{children:u}));return O.jsxs(Gie,{children:[n!=null&&O.jsx(Kne,{badgeContent:n,color:"default",children:c}),n==null&&c]})}const lct=_.memo(sct),uct=r=>{const{classes:e,open:t}=r;return tt({root:["menuIcon",t&&"menuOpen"],button:["menuIconButton"]},xr,e)},cct=_.memo(r=>{var e,t;const{colDef:n,open:i,columnMenuId:o,columnMenuButtonId:a,iconButtonRef:s}=r,l=Er(),u=St(),c=b({},r,{classes:u.classes}),d=uct(c),h=_.useCallback(p=>{p.preventDefault(),p.stopPropagation(),l.current.toggleColumnMenu(n.field)},[l,n.field]);return O.jsx("div",{className:d.root,children:O.jsx(u.slots.baseTooltip,b({title:l.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(e=u.slotProps)==null?void 0:e.baseTooltip,{children:O.jsx(u.slots.baseIconButton,b({ref:s,tabIndex:-1,className:d.button,"aria-label":l.current.getLocaleText("columnMenuLabel"),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":i,"aria-controls":i?o:void 0,id:a},(t=u.slotProps)==null?void 0:t.baseIconButton,{children:O.jsx(u.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function dct({columnMenuId:r,columnMenuButtonId:e,ContentComponent:t,contentComponentProps:n,field:i,open:o,target:a,onExited:s}){const l=Er(),u=l.current.getColumn(i),c=cn(d=>{d&&(d.stopPropagation(),a!=null&&a.contains(d.target))||l.current.hideColumnMenu()});return!a||!u?null:O.jsx(Hie,{placement:`bottom-${u.align==="right"?"start":"end"}`,open:o,target:a,onClose:c,onExited:s,children:O.jsx(t,b({colDef:u,hideMenu:c,open:o,id:r,labelledby:e},n))})}const hct=["className"],pct=r=>{const{classes:e}=r;return tt({root:["columnHeaderTitle"]},xr,e)},fct=Ii("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(r,e)=>e.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),vct=_.forwardRef(function(e,t){const{className:n}=e,i=se(e,hct),o=St(),a=pct(o);return O.jsx(fct,b({ref:t,className:Ae(a.root,n),ownerState:o},i))});function gct(r){var e;const{label:t,description:n}=r,i=St(),o=_.useRef(null),[a,s]=_.useState(""),l=_.useCallback(()=>{if(!n&&o!=null&&o.current){const u=Ult(o.current);s(u?t:"")}},[n,t]);return O.jsx(i.slots.baseTooltip,b({title:n||a},(e=i.slotProps)==null?void 0:e.baseTooltip,{children:O.jsx(vct,{onMouseOver:l,ref:o,children:t})}))}const mct=["resizable","resizing","height","side"];var $ie=function(r){return r.Left="left",r.Right="right",r}($ie||{});const _ct=r=>{const{resizable:e,resizing:t,classes:n,side:i}=r,o={root:["columnSeparator",e&&"columnSeparator--resizable",t&&"columnSeparator--resizing",i&&`columnSeparator--side${Te(i)}`],icon:["iconSeparator"]};return tt(o,xr,n)};function Cct(r){const{height:e,side:t=$ie.Right}=r,n=se(r,mct),i=St(),o=b({},r,{side:t,classes:i.classes}),a=_ct(o),s=_.useCallback(l=>{l.preventDefault(),l.stopPropagation()},[]);return O.jsx("div",b({className:a.root,style:{minHeight:e,opacity:i.showColumnVerticalBorder?0:1}},n,{onClick:s,children:O.jsx(i.slots.columnResizeIcon,{className:a.icon})}))}const yct=_.memo(Cct),Sct=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],Wie=_.forwardRef(function(e,t){const{classes:n,columnMenuOpen:i,colIndex:o,height:a,isResizing:s,sortDirection:l,hasFocus:u,tabIndex:c,separatorSide:d,isDraggable:h,headerComponent:p,description:f,width:v,columnMenuIconButton:g=null,columnMenu:m=null,columnTitleIconButtons:C=null,headerClassName:y,label:w,resizable:T,draggableContainerProps:S,columnHeaderSeparatorProps:x}=e,I=se(e,Sct),R=wd(),D=St(),A=_.useRef(null),[V,F]=_.useState(i),P=ln(A,t);let M="none";return l!=null&&(M=l==="asc"?"ascending":"descending"),_.useEffect(()=>{V||F(i)},[V,i]),_.useLayoutEffect(()=>{const N=R.current.state.columnMenu;if(u&&!N.open){const G=A.current.querySelector('[tabindex="0"]')||A.current;G==null||G.focus(),R.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[R,u]),O.jsxs("div",b({ref:P,className:Ae(n.root,y),style:{height:a,width:v,minWidth:v,maxWidth:v},role:"columnheader",tabIndex:c,"aria-colindex":o+1,"aria-sort":M,"aria-label":p==null?w:void 0},I,{children:[O.jsxs("div",b({className:n.draggableContainer,draggable:h,role:"presentation"},S,{children:[O.jsxs("div",{className:n.titleContainer,role:"presentation",children:[O.jsx("div",{className:n.titleContainerContent,children:p!==void 0?p:O.jsx(gct,{label:w,description:f,columnWidth:v})}),C]}),g]})),O.jsx(yct,b({resizable:!D.disableColumnResize&&!!T,resizing:s,height:a,side:d},x)),m]}))}),wct=r=>{const{colDef:e,classes:t,isDragging:n,sortDirection:i,showRightBorder:o,filterItemsCounter:a}=r,s=i!=null,l=a!=null&&a>0,u=e.type==="number",c={root:["columnHeader",e.headerAlign==="left"&&"columnHeader--alignLeft",e.headerAlign==="center"&&"columnHeader--alignCenter",e.headerAlign==="right"&&"columnHeader--alignRight",e.sortable&&"columnHeader--sortable",n&&"columnHeader--moving",s&&"columnHeader--sorted",l&&"columnHeader--filtered",u&&"columnHeader--numeric","withBorderColor",o&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return tt(c,xr,t)};function bct(r){var e,t,n,i;const{colDef:o,columnMenuOpen:a,colIndex:s,headerHeight:l,isResizing:u,sortDirection:c,sortIndex:d,filterItemsCounter:h,hasFocus:p,tabIndex:f,disableReorder:v,separatorSide:g}=r,m=wd(),C=St(),y=_.useRef(null),w=_n(),T=_n(),S=_.useRef(null),[x,I]=_.useState(a),R=_.useMemo(()=>!C.disableColumnReorder&&!v&&!o.disableReorder,[C.disableColumnReorder,v,o.disableReorder]);let D;o.renderHeader&&(D=o.renderHeader(m.current.getColumnHeaderParams(o.field)));const A=b({},r,{classes:C.classes,showRightBorder:C.showColumnVerticalBorder}),V=wct(A),F=_.useCallback(ee=>te=>{Ey(te)||m.current.publishEvent(ee,m.current.getColumnHeaderParams(o.field),te)},[m,o.field]),P=_.useMemo(()=>({onClick:F("columnHeaderClick"),onDoubleClick:F("columnHeaderDoubleClick"),onMouseOver:F("columnHeaderOver"),onMouseOut:F("columnHeaderOut"),onMouseEnter:F("columnHeaderEnter"),onMouseLeave:F("columnHeaderLeave"),onKeyDown:F("columnHeaderKeyDown"),onFocus:F("columnHeaderFocus"),onBlur:F("columnHeaderBlur")}),[F]),M=_.useMemo(()=>R?{onDragStart:F("columnHeaderDragStart"),onDragEnter:F("columnHeaderDragEnter"),onDragOver:F("columnHeaderDragOver"),onDragEnd:F("columnHeaderDragEnd")}:{},[R,F]),N=_.useMemo(()=>({onMouseDown:F("columnSeparatorMouseDown"),onDoubleClick:F("columnSeparatorDoubleClick")}),[F]);_.useEffect(()=>{x||I(a)},[x,a]);const H=_.useCallback(()=>{I(!1)},[]),G=!C.disableColumnMenu&&!o.disableColumnMenu&&O.jsx(cct,{colDef:o,columnMenuId:w,columnMenuButtonId:T,open:x,iconButtonRef:S}),z=O.jsx(dct,{columnMenuId:w,columnMenuButtonId:T,field:o.field,open:a,target:S.current,ContentComponent:C.slots.columnMenu,contentComponentProps:(e=C.slotProps)==null?void 0:e.columnMenu,onExited:H}),j=(t=o.sortingOrder)!=null?t:C.sortingOrder,q=O.jsxs(_.Fragment,{children:[!C.disableColumnFilter&&O.jsx(C.slots.columnHeaderFilterIconButton,b({field:o.field,counter:h},(n=C.slotProps)==null?void 0:n.columnHeaderFilterIconButton)),o.sortable&&!o.hideSortIcons&&O.jsx(lct,{direction:c,index:d,sortingOrder:j})]});_.useLayoutEffect(()=>{const ee=m.current.state.columnMenu;if(p&&!ee.open){const de=y.current.querySelector('[tabindex="0"]')||y.current;de==null||de.focus(),m.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[m,p]);const K=typeof o.headerClassName=="function"?o.headerClassName({field:o.field,colDef:o}):o.headerClassName,ie=(i=o.headerName)!=null?i:o.field;return O.jsx(Wie,b({ref:y,classes:V,columnMenuOpen:a,colIndex:s,height:l,isResizing:u,sortDirection:c,hasFocus:p,tabIndex:f,separatorSide:g,isDraggable:R,headerComponent:D,description:o.description,elementId:o.field,width:o.computedWidth,columnMenuIconButton:G,columnTitleIconButtons:q,headerClassName:K,label:ie,resizable:!C.disableColumnResize&&!!o.resizable,"data-field":o.field,columnMenu:z,draggableContainerProps:M,columnHeaderSeparatorProps:N},P))}const hC=()=>({items:[],logicOperator:zo.And,quickFilterValues:[],quickFilterLogicOperator:zo.And}),f5=1e3;class Ect{constructor(e=f5){this.timeouts=new Map,this.cleanupTimeout=f5,this.cleanupTimeout=e}register(e,t,n){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof t=="function"&&t(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,i)}unregister(e){const t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach((e,t)=>{this.unregister({cleanupToken:t})}),this.timeouts=void 0)}}class xct{constructor(){this.registry=new FinalizationRegistry(e=>{typeof e=="function"&&e()})}register(e,t,n){this.registry.register(e,t,n)}unregister(e){this.registry.unregister(e)}reset(){}}var Nl=function(r){return r.DataGrid="DataGrid",r.DataGridPro="DataGridPro",r}(Nl||{});class Ict{}function Tct(r){let e=0;return function(n,i,o,a){r.registry===null&&(r.registry=typeof FinalizationRegistry<"u"?new xct:new Ect);const[s]=_.useState(new Ict),l=_.useRef(null),u=_.useRef();u.current=o;const c=_.useRef(null);if(!l.current&&u.current){const d=(h,p,f)=>{if(!p.defaultMuiPrevented){var v;(v=u.current)==null||v.call(u,h,p,f)}};l.current=n.current.subscribeEvent(i,d,a),e+=1,c.current={cleanupToken:e},r.registry.register(s,()=>{var h;(h=l.current)==null||h.call(l),l.current=null,c.current=null},c.current)}else!u.current&&l.current&&(l.current(),l.current=null,c.current&&(r.registry.unregister(c.current),c.current=null));_.useEffect(()=>{if(!l.current&&u.current){const d=(h,p,f)=>{if(!p.defaultMuiPrevented){var v;(v=u.current)==null||v.call(u,h,p,f)}};l.current=n.current.subscribeEvent(i,d,a)}return c.current&&r.registry&&(r.registry.unregister(c.current),c.current=null),()=>{var d;(d=l.current)==null||d.call(l),l.current=null}},[n,i,a])}}const Rct={registry:null},bt=Tct(Rct),Oct={isFirst:!0};function Cn(r,e,t){bt(r,e,t,Oct)}function to(r,e){const t=_.useRef(null);if(t.current)return t.current;const n=r.current.getLogger(e);return t.current=n,n}function Dct(r){return typeof r=="number"&&!Number.isNaN(r)}function zie(r){return typeof r=="function"}function TB(r){return typeof r=="object"&&r!==null}function Act(){try{const r="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(r,r),window.localStorage.removeItem(r),!0}catch{return!1}}function Db(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Sv=(r,e,t)=>Math.max(e,Math.min(t,r));function Mh(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;if(Array.isArray(r)){const i=r.length;if(i!==e.length)return!1;for(let o=0;o<i;o+=1)if(!Mh(r[o],e[o]))return!1;return!0}if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;const i=Array.from(r.entries());for(let o=0;o<i.length;o+=1)if(!e.has(i[o][0]))return!1;for(let o=0;o<i.length;o+=1){const a=i[o];if(!Mh(a[1],e.get(a[0])))return!1}return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;const i=Array.from(r.entries());for(let o=0;o<i.length;o+=1)if(!e.has(i[o][0]))return!1;return!0}if(ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){const i=r.length;if(i!==e.length)return!1;for(let o=0;o<i;o+=1)if(r[o]!==e[o])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===e.toString();const t=Object.keys(r),n=t.length;if(n!==Object.keys(e).length)return!1;for(let i=0;i<n;i+=1)if(!Object.prototype.hasOwnProperty.call(e,t[i]))return!1;for(let i=0;i<n;i+=1){const o=t[i];if(!Mh(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function Pct(r){return()=>{let e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function Mct(r,e,t){const n=Pct(r);return()=>e+(t-e)*n()}function Uie(r){return typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r))}const Fct=(r,e,t,n,i)=>{const o=to(r,"useNativeEventListener"),[a,s]=_.useState(!1),l=_.useRef(n),u=_.useCallback(c=>l.current&&l.current(c),[]);_.useEffect(()=>{l.current=n},[n]),_.useEffect(()=>{let c;if(zie(e)?c=e():c=e&&e.current?e.current:null,c&&t&&!a){o.debug(`Binding native ${t} event`),c.addEventListener(t,u,i);const d=c;s(!0);const h=()=>{o.debug(`Clearing native ${t} event`),d.removeEventListener(t,u,i)};r.current.subscribeEvent("unmount",h)}},[e,u,t,a,o,i,r])},xy=r=>{const e=_.useRef(!0);e.current&&(e.current=!1,r())},Lct=100,Nct=r=>r?0:100,jie=(r,e)=>e>0&&r>0?Math.ceil(r/e):0;Yl(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const Kie=r=>({page:0,pageSize:r?0:100}),kct=(r,e=0)=>e===0?r:Math.max(Math.min(r,e-1),0),qie=(r,e)=>{if(e===Nl.DataGrid&&r>Lct)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Yie=r=>r.pagination,ts=rr(Yie,r=>r.paginationModel),Vct=rr(ts,r=>r.page),Bct=rr(ts,r=>r.pageSize);rr(ts,nT,(r,e)=>jie(e,r.pageSize));const RB=En(ts,Vs,rT,bd,Tie,(r,e,t,n,i)=>{const o=i.length,a=Math.min(r.pageSize*r.page,o-1),s=Math.min(a+r.pageSize-1,o-1);if(a===-1||s===-1)return null;if(t<2)return{firstRowIndex:a,lastRowIndex:s};const l=i[a],u=s-a+1,c=n.findIndex(f=>f.id===l.id);let d=c,h=0;for(;d<n.length&&h<=u;){var p;const f=n[d],v=(p=e[f.id])==null?void 0:p.depth;v===void 0?d+=1:((h<u||v>0)&&(d+=1),v===0&&(h+=1))}return{firstRowIndex:c,lastRowIndex:d-1}}),Hct=En(bd,RB,(r,e)=>e?r.slice(e.firstRowIndex,e.lastRowIndex+1):[]),Xie=En(f_,RB,(r,e)=>e?r.slice(e.firstRowIndex,e.lastRowIndex+1):[]),pC=r=>r.preferencePanel;var ip=function(r){return r.filters="filters",r.columns="columns",r}(ip||{});const fC=r=>r.rowsMeta,Ja=r=>r.rowSelection,Gct=rr(Ja,r=>r.length),$ct=En(Ja,vu,(r,e)=>new Map(r.map(t=>[t,e[t]]))),wx=En(Ja,r=>r.reduce((e,t)=>(e[t]=t,e),{})),Wct=Yl(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Qie=(r,e)=>e&&r.length>1?(Wct(),[r[0]]):r,v5=(r,e)=>t=>b({},t,{sorting:b({},t.sorting,{sortModel:Qie(r,e)})}),zct=r=>r==="desc",Uct=(r,e)=>{const t=e.current.getColumn(r.field);if(!t)return null;const n=zct(r.sort)?(...o)=>-1*t.sortComparator(...o):t.sortComparator;return{getSortCellParams:o=>({id:o,field:t.field,rowNode:e.current.getRowNode(o),value:e.current.getCellValue(o,t.field),api:e.current}),comparator:n}},jct=(r,e,t)=>r.reduce((n,i,o)=>{if(n!==0)return n;const a=e.params[o],s=t.params[o];return n=i.comparator(a.value,s.value,a,s),n},0),Kct=(r,e)=>{const t=r.map(n=>Uct(n,e)).filter(n=>!!n);return t.length===0?null:n=>n.map(i=>({node:i,params:t.map(o=>o.getSortCellParams(i.id))})).sort((i,o)=>jct(t,i,o)).map(i=>i.node.id)},g5=(r,e)=>{const t=r.indexOf(e);return!e||t===-1||t+1===r.length?r[0]:r[t+1]},OB=(r,e)=>r==null&&e!=null?-1:e==null&&r!=null?1:r==null&&e==null?0:null,qct=new Intl.Collator,Yct=(r,e)=>{const t=OB(r,e);return t!==null?t:typeof r=="string"?qct.compare(r.toString(),e.toString()):r-e},Zie=(r,e)=>{const t=OB(r,e);return t!==null?t:Number(r)-Number(e)},Jie=(r,e)=>{const t=OB(r,e);return t!==null?t:r>e?1:r<e?-1:0},eoe=r=>r.headerFiltering,Xct=rr(eoe,r=>r.editing),Qct=rr(eoe,r=>r.menuOpen),Zct=(r,e)=>{const t={enabled:!e.disableVirtualization,enabledForColumns:!0};return b({},r,{virtualization:t})};function Jct(r,e){const t=o=>{r.current.setState(a=>b({},a,{virtualization:b({},a.virtualization,{enabled:o})}))};cr(r,{unstable_setVirtualization:t,unstable_setColumnVirtualization:o=>{r.current.setState(a=>b({},a,{virtualization:b({},a.virtualization,{enabledForColumns:o})}))}},"public"),_.useEffect(()=>{t(!e.disableVirtualization)},[e.disableVirtualization])}const toe=r=>r.virtualization,edt=rr(toe,r=>r.enabled),roe=rr(toe,r=>r.enabledForColumns),tdt=r=>{const{classes:e}=r;return tt({icon:["filterIcon"]},xr,e)};function rdt(r){var e,t;const{counter:n,field:i,onClick:o}=r,a=Er(),s=St(),l=b({},r,{classes:s.classes}),u=tdt(l),c=ht(a,pC),d=_n(),h=_n(),p=_.useCallback(g=>{g.preventDefault(),g.stopPropagation();const{open:m,openedPanelValue:C}=pC(a.current.state);m&&C===ip.filters?a.current.hideFilterPanel():a.current.showFilterPanel(void 0,h,d),o&&o(a.current.getColumnHeaderParams(i),g)},[a,i,o,h,d]);if(!n)return null;const f=c.open&&c.labelId===d,v=O.jsx(s.slots.baseIconButton,b({id:d,onClick:p,color:"default","aria-label":a.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?h:void 0},(e=s.slotProps)==null?void 0:e.baseIconButton,{children:O.jsx(s.slots.columnFilteredIcon,{className:u.icon,fontSize:"small"})}));return O.jsx(s.slots.baseTooltip,b({title:a.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},(t=s.slotProps)==null?void 0:t.baseTooltip,{children:O.jsxs(Gie,{children:[n>1&&O.jsx(Kne,{badgeContent:n,color:"default",children:v}),n===1&&v]})}))}const ndt=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],idt=r=>{const{classes:e}=r;return tt({root:["checkboxInput"]},xr,e)},odt=_.forwardRef(function(e,t){var n;const{field:i,id:o,value:a,rowNode:s,hasFocus:l,tabIndex:u}=e,c=se(e,ndt),d=Er(),h=St(),p={classes:h.classes},f=idt(p),v=_.useRef(null),g=_.useRef(null),m=ln(v,t),C=d.current.getCellElement(o,i),y=x=>{const I={value:x.target.checked,id:o};d.current.publishEvent("rowSelectionCheckboxChange",I,x)};_.useLayoutEffect(()=>{u===0&&C&&(C.tabIndex=-1)},[C,u]),_.useEffect(()=>{if(l){var x;const I=(x=v.current)==null?void 0:x.querySelector("input");I==null||I.focus({preventScroll:!0})}else g.current&&g.current.stop({})},[l]);const w=_.useCallback(x=>{Vie(x.key)&&x.stopPropagation()},[]);if(s.type==="footer"||s.type==="pinnedRow")return null;const T=d.current.isRowSelectable(o),S=d.current.getLocaleText(a?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return O.jsx(h.slots.baseCheckbox,b({ref:m,tabIndex:u,checked:a,onChange:y,className:f.root,inputProps:{"aria-label":S},onKeyDown:w,disabled:!T,touchRippleRef:g},(n=h.slotProps)==null?void 0:n.baseCheckbox,c))}),adt=odt,sdt=["field","colDef"],ldt=r=>{const{classes:e}=r;return tt({root:["checkboxInput"]},xr,e)},udt=_.forwardRef(function(e,t){var n;const i=se(e,sdt),[,o]=_.useState(!1),a=Er(),s=St(),l={classes:s.classes},u=ldt(l),c=ht(a,Oie),d=ht(a,Ja),h=ht(a,f_),p=ht(a,Xie),f=_.useMemo(()=>typeof s.isRowSelectable!="function"?d:d.filter(I=>a.current.getRow(I)?s.isRowSelectable(a.current.getRowParams(I)):!1),[a,s.isRowSelectable,d]),v=_.useMemo(()=>(!s.pagination||!s.checkboxSelectionVisibleOnly?h:p).reduce((R,D)=>(R[D]=!0,R),{}),[s.pagination,s.checkboxSelectionVisibleOnly,p,h]),g=_.useMemo(()=>f.filter(I=>v[I]).length,[f,v]),m=g>0&&g<Object.keys(v).length,C=g>0,y=I=>{const R={value:I.target.checked};a.current.publishEvent("headerSelectionCheckboxChange",R)},w=c!==null&&c.field===e.field?0:-1;_.useLayoutEffect(()=>{const I=a.current.getColumnHeaderElement(e.field);w===0&&I&&(I.tabIndex=-1)},[w,a,e.field]);const T=_.useCallback(I=>{I.key===" "&&a.current.publishEvent("headerSelectionCheckboxChange",{value:!C})},[a,C]),S=_.useCallback(()=>{o(I=>!I)},[]);_.useEffect(()=>a.current.subscribeEvent("rowSelectionChange",S),[a,S]);const x=a.current.getLocaleText(C?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return O.jsx(s.slots.baseCheckbox,b({ref:t,indeterminate:m,checked:C,onChange:y,className:u.root,inputProps:{"aria-label":x},tabIndex:w,onKeyDown:T},(n=s.slotProps)==null?void 0:n.baseCheckbox,i))}),m5=dr(O.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),_5=dr(O.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),C5=dr(O.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),y5=dr(O.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),cdt=dr(O.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),S5=dr(O.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),ddt=dr(O.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");dr(O.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");dr(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const hdt=dr(O.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),pdt=dr(O.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),fdt=dr(O.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),vdt=dr(O.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),gdt=dr(O.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),mdt=dr(O.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),OA=dr(O.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),w5=dr(O.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),_dt=dr(O.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),Cdt=dr(O.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),b5=dr(O.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),ydt=dr(O.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Sdt=dr(O.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),wdt=dr(O.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),bdt=dr(O.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),Edt=dr(O.jsx("g",{children:O.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),xdt=dr(O.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");dr(O.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const Idt=dr(O.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Tdt=["hideMenu","colDef","id","labelledby","className","children","open"],Rdt=be(fB)(()=>({minWidth:248})),Odt=_.forwardRef(function(e,t){const{hideMenu:n,id:i,labelledby:o,className:a,children:s,open:l}=e,u=se(e,Tdt),c=_.useCallback(d=>{kie(d.key)&&d.preventDefault(),Tut(d.key)&&n(d)},[n]);return O.jsx(Rdt,b({id:i,ref:t,className:Ae(Q.menuList,a),"aria-labelledby":o,onKeyDown:c,autoFocus:l},u,{children:s}))}),Ddt=["displayOrder"],Adt=r=>{const e=wd(),{defaultSlots:t,defaultSlotProps:n,slots:i={},slotProps:o={},hideMenu:a,colDef:s,addDividers:l=!0}=r,u=_.useMemo(()=>b({},t,i),[t,i]),c=_.useMemo(()=>{if(!o||Object.keys(o).length===0)return n;const p=b({},o);return Object.entries(n).forEach(([f,v])=>{p[f]=b({},v,o[f]||{})}),p},[n,o]),d=e.current.unstable_applyPipeProcessors("columnMenu",[],r.colDef),h=_.useMemo(()=>{const p=Object.keys(t);return Object.keys(i).filter(f=>!p.includes(f))},[i,t]);return _.useMemo(()=>{const v=Array.from(new Set([...d,...h])).filter(g=>u[g]!=null).sort((g,m)=>{const C=c[g],y=c[m],w=Number.isFinite(C==null?void 0:C.displayOrder)?C.displayOrder:100,T=Number.isFinite(y==null?void 0:y.displayOrder)?y.displayOrder:100;return w-T});return v.reduce((g,m,C)=>{let y={colDef:s,onClick:a};const w=c[m];if(w){const T=se(w,Ddt);y=b({},y,T)}return l&&C!==v.length-1?[...g,[u[m],y],[dnt,{}]]:[...g,[u[m],y]]},[])},[l,s,d,a,u,c,h])};function Pdt(r){const{colDef:e,onClick:t}=r,n=Er(),i=St(),s=Bi(n).filter(u=>u.disableColumnMenu!==!0).length===1,l=_.useCallback(u=>{s||(n.current.setColumnVisibility(e.field,!1),t(u))},[n,e.field,t,s]);return i.disableColumnSelector||e.hideable===!1?null:O.jsxs(zs,{onClick:l,disabled:s,children:[O.jsx(qf,{children:O.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"})}),O.jsx(Yf,{children:n.current.getLocaleText("columnMenuHideColumn")})]})}function Mdt(r){const{onClick:e}=r,t=Er(),n=St(),i=_.useCallback(o=>{e(o),t.current.showPreferences(ip.columns)},[t,e]);return n.disableColumnSelector?null:O.jsxs(zs,{onClick:i,children:[O.jsx(qf,{children:O.jsx(n.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),O.jsx(Yf,{children:t.current.getLocaleText("columnMenuManageColumns")})]})}function Fdt(r){return O.jsxs(_.Fragment,{children:[O.jsx(Pdt,b({},r)),O.jsx(Mdt,b({},r))]})}function Ldt(r){const{colDef:e,onClick:t}=r,n=Er(),i=St(),o=_.useCallback(a=>{t(a),n.current.showFilterPanel(e.field)},[n,e.field,t]);return i.disableColumnFilter||!e.filterable?null:O.jsxs(zs,{onClick:o,children:[O.jsx(qf,{children:O.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),O.jsx(Yf,{children:n.current.getLocaleText("columnMenuFilter")})]})}function Ndt(r){var e;const{colDef:t,onClick:n}=r,i=Er(),o=ht(i,Za),a=St(),s=_.useMemo(()=>{if(!t)return null;const d=o.find(h=>h.field===t.field);return d==null?void 0:d.sort},[t,o]),l=(e=t.sortingOrder)!=null?e:a.sortingOrder,u=_.useCallback(d=>{n(d);const h=d.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(t,h===s?null:h)},[i,t,n,s]);if(!t||!t.sortable||!l.some(d=>!!d))return null;const c=d=>{const h=i.current.getLocaleText(d);return typeof h=="function"?h(t):h};return O.jsxs(_.Fragment,{children:[l.includes("asc")&&s!=="asc"?O.jsxs(zs,{onClick:u,"data-value":"asc",children:[O.jsx(qf,{children:O.jsx(a.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),O.jsx(Yf,{children:c("columnMenuSortAsc")})]}):null,l.includes("desc")&&s!=="desc"?O.jsxs(zs,{onClick:u,"data-value":"desc",children:[O.jsx(qf,{children:O.jsx(a.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),O.jsx(Yf,{children:c("columnMenuSortDesc")})]}):null,l.includes(null)&&s!=null?O.jsxs(zs,{onClick:u,children:[O.jsx(qf,{}),O.jsx(Yf,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const kdt=["defaultSlots","defaultSlotProps","slots","slotProps"],Vdt={columnMenuSortItem:Ndt,columnMenuFilterItem:Ldt,columnMenuColumnsItem:Fdt},Bdt={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},Hdt=_.forwardRef(function(e,t){const{defaultSlots:n,defaultSlotProps:i,slots:o,slotProps:a}=e,s=se(e,kdt),l=Adt(b({},s,{defaultSlots:n,defaultSlotProps:i,slots:o,slotProps:a}));return O.jsx(Odt,b({ref:t},s,{children:l.map(([u,c],d)=>O.jsx(u,b({},c),d))}))}),Gdt=_.forwardRef(function(e,t){return O.jsx(Hdt,b({},e,{ref:t,defaultSlots:Vdt,defaultSlotProps:Bdt}))}),$dt=["className"],Wdt=r=>{const{classes:e}=r;return tt({root:["panelContent"]},xr,e)},zdt=Ii("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(r,e)=>e.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function noe(r){const{className:e}=r,t=se(r,$dt),n=St(),i=Wdt(n);return O.jsx(zdt,b({className:Ae(e,i.root),ownerState:n},t))}const Udt=["className"],jdt=r=>{const{classes:e}=r;return tt({root:["panelFooter"]},xr,e)},Kdt=Ii("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(r,e)=>e.panelFooter})(({theme:r})=>({padding:r.spacing(.5),display:"flex",justifyContent:"space-between"}));function ioe(r){const{className:e}=r,t=se(r,Udt),n=St(),i=jdt(n);return O.jsx(Kdt,b({className:Ae(e,i.root),ownerState:n},t))}const qdt=["className"],Ydt=r=>{const{classes:e}=r;return tt({root:["panelHeader"]},xr,e)},Xdt=Ii("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(r,e)=>e.panelHeader})(({theme:r})=>({padding:r.spacing(1)}));function Qdt(r){const{className:e}=r,t=se(r,qdt),n=St(),i=Ydt(n);return O.jsx(Xdt,b({className:Ae(e,i.root),ownerState:n},t))}const Zdt=["className","slotProps"],Jdt=r=>{const{classes:e}=r;return tt({root:["panelWrapper"]},xr,e)},eht=be("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(r,e)=>e.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),tht=()=>!0,ooe=_.forwardRef(function(e,t){const{className:n,slotProps:i={}}=e,o=se(e,Zdt),a=St(),s=Jdt(a);return O.jsx(Rne,b({open:!0,disableEnforceFocus:!0,isEnabled:tht},i.TrapFocus,{children:O.jsx(eht,b({ref:t,tabIndex:-1,className:Ae(n,s.root),ownerState:a},o))}))}),rht=!1,nht=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],iht=r=>{const{classes:e}=r;return tt({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},xr,e)},oht=be("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(r,e)=>e.columnsPanel})({padding:"8px 0px 8px 8px"}),aht=be("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(r,e)=>e.columnsPanelRow})(({theme:r})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${ji.root}`]:{marginRight:r.spacing(.5)}})),sht=be(Bc)({justifyContent:"flex-end"}),E5=new Intl.Collator,lht=(r,e)=>(r.headerName||r.field).toLowerCase().indexOf(e)>-1;function uht(r){var e,t,n;const i=Er(),o=_.useRef(null),a=ht(i,Ll),s=ht(i,Gs),l=St(),[u,c]=_.useState(""),d=iht(l),{sort:h,searchPredicate:p=lht,autoFocusSearchField:f=!0,disableHideAllButton:v=!1,disableShowAllButton:g=!1,getTogglableColumns:m}=r,C=se(r,nht),y=_.useMemo(()=>{switch(h){case"asc":return[...a].sort((A,V)=>E5.compare(A.headerName||A.field,V.headerName||V.field));case"desc":return[...a].sort((A,V)=>-E5.compare(A.headerName||A.field,V.headerName||V.field));default:return a}},[a,h]),w=A=>{const{name:V}=A.target;i.current.setColumnVisibility(V,s[V]===!1)},T=_.useCallback(A=>{const V=Gs(i),F=b({},V),P=m?m(a):null;return a.forEach(M=>{M.hideable&&(P==null||P.includes(M.field))&&(A?delete F[M.field]:F[M.field]=!1)}),i.current.setColumnVisibilityModel(F)},[i,a,m]),S=_.useCallback(A=>{c(A.target.value)},[]),x=_.useMemo(()=>{const A=m?m(y):null,V=A?y.filter(({field:F})=>A.includes(F)):y;return u?V.filter(F=>p(F,u.toLowerCase())):V},[y,u,p,m]),I=_.useRef(null);_.useEffect(()=>{f?o.current.focus():I.current&&typeof I.current.focus=="function"&&I.current.focus()},[f]);let R=!1;const D=A=>R===!1&&A.hideable!==!1?(R=!0,!0):!1;return O.jsxs(ooe,b({},C,{children:[O.jsx(Qdt,{children:O.jsx(l.slots.baseTextField,b({label:i.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:i.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:o,value:u,onChange:S,variant:"standard",fullWidth:!0},(e=l.slotProps)==null?void 0:e.baseTextField))}),O.jsx(noe,{children:O.jsx(oht,{className:d.root,ownerState:l,children:x.map(A=>{var V;return O.jsxs(aht,{className:d.columnsPanelRow,ownerState:l,children:[O.jsx(Dnt,{control:O.jsx(l.slots.baseSwitch,b({disabled:A.hideable===!1,checked:s[A.field]!==!1,onClick:w,name:A.field,size:"small",inputRef:D(A)?I:void 0},(V=l.slotProps)==null?void 0:V.baseSwitch)),label:A.headerName||A.field}),!l.disableColumnReorder&&rht&&O.jsx(sht,{draggable:!0,"aria-label":i.current.getLocaleText("columnsPanelDragIconLabel"),title:i.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:O.jsx(l.slots.columnReorderIcon,{})})]},A.field)})})}),g&&v?null:O.jsxs(ioe,{children:[v?O.jsx("span",{}):O.jsx(l.slots.baseButton,b({onClick:()=>T(!1)},(t=l.slotProps)==null?void 0:t.baseButton,{disabled:v,children:i.current.getLocaleText("columnsPanelHideAllButton")})),g?null:O.jsx(l.slots.baseButton,b({onClick:()=>T(!0)},(n=l.slotProps)==null?void 0:n.baseButton,{disabled:g,children:i.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const cht=["children","className","classes"],dht=Bt("MuiDataGrid",["panel","paper"]),hht=be(bp,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(r,e)=>e.panel})(({theme:r})=>({zIndex:r.zIndex.modal})),pht=be(yy,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(r,e)=>e.paper})(({theme:r})=>({backgroundColor:(r.vars||r).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),fht=_.forwardRef((r,e)=>{const{children:t,className:n}=r,i=se(r,cht),o=Er(),a=St(),s=dht,[l,u]=_.useState(!1),c=_.useCallback(()=>{o.current.hidePreferences()},[o]),d=_.useCallback(v=>{yx(v.key)&&o.current.hidePreferences()},[o]),h=_.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{u(!0)},effect:()=>()=>{u(!1)}}],[]),[p,f]=_.useState(null);return _.useEffect(()=>{var v;const g=(v=o.current.rootElementRef)==null||(v=v.current)==null?void 0:v.querySelector(`.${Q.columnHeaders}`);g&&f(g)},[o]),p?O.jsx(hht,b({ref:e,placement:"bottom-start",className:Ae(n,s.panel),ownerState:a,anchorEl:p,modifiers:h},i,{children:O.jsx(Tne,{mouseEvent:"onMouseUp",onClickAway:c,children:O.jsx(pht,{className:s.paper,ownerState:a,elevation:8,onKeyDown:d,children:l&&t})})})):null}),vht=_.forwardRef(function(e,t){var n,i,o;const a=Er(),s=ht(a,Ll),l=St(),u=ht(a,pC),c=a.current.unstable_applyPipeProcessors("preferencePanel",null,(n=u.openedPanelValue)!=null?n:ip.filters);return O.jsx(l.slots.panel,b({ref:t,as:l.slots.basePopper,open:s.length>0&&u.open,id:u.panelId,"aria-labelledby":u.labelId},(i=l.slotProps)==null?void 0:i.panel,e,(o=l.slotProps)==null?void 0:o.basePopper,{children:c}))}),ght=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],mht=["InputComponentProps"],_ht=r=>{const{classes:e}=r;return tt({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},xr,e)},Cht=be("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(r,e)=>e.filterForm})(({theme:r})=>({display:"flex",padding:r.spacing(1)})),yht=be("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(r,e)=>e.filterFormDeleteIcon})(({theme:r})=>({flexShrink:0,justifyContent:"flex-end",marginRight:r.spacing(.5),marginBottom:r.spacing(.2)})),Sht=be("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(r,e)=>e.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),wht=be("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(r,e)=>e.filterFormColumnInput})({width:150}),bht=be("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(r,e)=>e.filterFormOperatorInput})({width:120}),Eht=be("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(r,e)=>e.filterFormValueInput})({width:190}),xht=r=>{switch(r){case zo.And:return"filterPanelOperatorAnd";case zo.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},hm=r=>r.headerName||r.field,x5=new Intl.Collator,Iht=_.forwardRef(function(e,t){var n,i,o,a,s,l,u,c,d,h;const{item:p,hasMultipleFilters:f,deleteFilter:v,applyFilterChanges:g,multiFilterOperator:m,showMultiFilterOperators:C,disableMultiFilterOperator:y,applyMultiFilterOperatorChanges:w,focusElementRef:T,logicOperators:S=[zo.And,zo.Or],columnsSort:x,filterColumns:I,deleteIconProps:R={},logicOperatorInputProps:D={},operatorInputProps:A={},columnInputProps:V={},valueInputProps:F={}}=e,P=se(e,ght),M=Er(),N=ht(M,wie),H=ht(M,Fi),G=_n(),z=_n(),j=_n(),q=_n(),K=St(),ie=_ht(K),ee=_.useRef(null),te=_.useRef(null),de=f&&S.length>0,Se=((n=K.slotProps)==null?void 0:n.baseFormControl)||{},De=(o=(((i=K.slotProps)==null?void 0:i.baseSelect)||{}).native)!=null?o:!0,ze=((a=K.slotProps)==null?void 0:a.baseInputLabel)||{},he=((s=K.slotProps)==null?void 0:s.baseSelectOption)||{},{InputComponentProps:ke}=F,Oe=se(F,mht),je=_.useMemo(()=>{if(I===void 0||typeof I!="function")return N;const Ge=I({field:p.field,columns:N,currentFilters:(H==null?void 0:H.items)||[]});return N.filter(ge=>Ge.includes(ge.field))},[I,H==null?void 0:H.items,N,p.field]),xe=_.useMemo(()=>{switch(x){case"asc":return je.sort((Ge,ge)=>x5.compare(hm(Ge),hm(ge)));case"desc":return je.sort((Ge,ge)=>-x5.compare(hm(Ge),hm(ge)));default:return je}},[je,x]),ae=p.field?M.current.getColumn(p.field):null,Ie=_.useMemo(()=>{var Ge;return!p.operator||!ae?null:(Ge=ae.filterOperators)==null?void 0:Ge.find(ge=>ge.value===p.operator)},[p,ae]),me=_.useCallback(Ge=>{const ge=Ge.target.value,_e=M.current.getColumn(ge);if(_e.field===ae.field)return;const Ve=_e.filterOperators.find(vt=>vt.value===p.operator)||_e.filterOperators[0],Je=!Ve.InputComponent||Ve.InputComponent!==(Ie==null?void 0:Ie.InputComponent)||_e.type!==ae.type;g(b({},p,{field:ge,operator:Ve.value,value:Je?void 0:p.value}))},[M,g,p,ae,Ie]),nt=_.useCallback(Ge=>{const ge=Ge.target.value,_e=ae==null?void 0:ae.filterOperators.find(Je=>Je.value===ge),Ve=!(_e!=null&&_e.InputComponent)||(_e==null?void 0:_e.InputComponent)!==(Ie==null?void 0:Ie.InputComponent);g(b({},p,{operator:ge,value:Ve?void 0:p.value}))},[g,p,ae,Ie]),He=_.useCallback(Ge=>{const ge=Ge.target.value===zo.And.toString()?zo.And:zo.Or;w(ge)},[w]),Ue=()=>{K.disableMultipleColumnsFiltering?p.value===void 0?v(p):g(b({},p,{value:void 0})):v(p)};return _.useImperativeHandle(T,()=>({focus:()=>{if(Ie!=null&&Ie.InputComponent){var Ge;ee==null||(Ge=ee.current)==null||Ge.focus()}else te.current.focus()}}),[Ie]),O.jsxs(Cht,b({ref:t,className:ie.root,"data-id":p.id,ownerState:K},P,{children:[O.jsx(yht,b({variant:"standard",as:K.slots.baseFormControl},Se,R,{className:Ae(ie.deleteIcon,Se.className,R.className),ownerState:K,children:O.jsx(K.slots.baseIconButton,b({"aria-label":M.current.getLocaleText("filterPanelDeleteIconLabel"),title:M.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ue,size:"small"},(l=K.slotProps)==null?void 0:l.baseIconButton,{children:O.jsx(K.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),O.jsx(Sht,b({variant:"standard",as:K.slots.baseFormControl},Se,D,{sx:b({display:de?"flex":"none",visibility:C?"visible":"hidden"},Se.sx||{},D.sx||{}),className:Ae(ie.logicOperatorInput,Se.className,D.className),ownerState:K,children:O.jsx(K.slots.baseSelect,b({inputProps:{"aria-label":M.current.getLocaleText("filterPanelLogicOperator")},value:m,onChange:He,disabled:!!y||S.length===1,native:De},(u=K.slotProps)==null?void 0:u.baseSelect,{children:S.map(Ge=>_.createElement(K.slots.baseSelectOption,b({},he,{native:De,key:Ge.toString(),value:Ge.toString()}),M.current.getLocaleText(xht(Ge))))}))})),O.jsxs(wht,b({variant:"standard",as:K.slots.baseFormControl},Se,V,{className:Ae(ie.columnInput,Se.className,V.className),ownerState:K,children:[O.jsx(K.slots.baseInputLabel,b({},ze,{htmlFor:G,id:z,children:M.current.getLocaleText("filterPanelColumns")})),O.jsx(K.slots.baseSelect,b({labelId:z,id:G,label:M.current.getLocaleText("filterPanelColumns"),value:p.field||"",onChange:me,native:De},(c=K.slotProps)==null?void 0:c.baseSelect,{children:xe.map(Ge=>_.createElement(K.slots.baseSelectOption,b({},he,{native:De,key:Ge.field,value:Ge.field}),hm(Ge)))}))]})),O.jsxs(bht,b({variant:"standard",as:K.slots.baseFormControl},Se,A,{className:Ae(ie.operatorInput,Se.className,A.className),ownerState:K,children:[O.jsx(K.slots.baseInputLabel,b({},ze,{htmlFor:j,id:q,children:M.current.getLocaleText("filterPanelOperator")})),O.jsx(K.slots.baseSelect,b({labelId:q,label:M.current.getLocaleText("filterPanelOperator"),id:j,value:p.operator,onChange:nt,native:De,inputRef:te},(d=K.slotProps)==null?void 0:d.baseSelect,{children:ae==null||(h=ae.filterOperators)==null?void 0:h.map(Ge=>_.createElement(K.slots.baseSelectOption,b({},he,{native:De,key:Ge.value,value:Ge.value}),Ge.label||M.current.getLocaleText(`filterOperator${Te(Ge.value)}`)))}))]})),O.jsx(Eht,b({variant:"standard",as:K.slots.baseFormControl},Se,Oe,{className:Ae(ie.valueInput,Se.className,Oe.className),ownerState:K,children:Ie!=null&&Ie.InputComponent?O.jsx(Ie.InputComponent,b({apiRef:M,item:p,applyValue:g,focusElementRef:ee},Ie.InputComponentProps,ke)):null}))]}))});class DB{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new DB}start(e,t){this.clear(),this.currentId=setTimeout(t,e)}}function AB(){const r=mB(DB.create).current;return yie(r.disposeEffect),r}const Tht=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function Sl(r){var e,t;const{item:n,applyValue:i,type:o,apiRef:a,focusElementRef:s,tabIndex:l,disabled:u,clearButton:c,InputProps:d,variant:h="standard"}=r,p=se(r,Tht),f=AB(),[v,g]=_.useState((e=n.value)!=null?e:""),[m,C]=_.useState(!1),y=_n(),w=St(),T=_.useCallback(S=>{const{value:x}=S.target;g(String(x)),C(!0),f.start(w.filterDebounceMs,()=>{const I=b({},n,{value:x,fromInput:y});i(I),C(!1)})},[y,i,n,w.filterDebounceMs,f]);return _.useEffect(()=>{if(n.fromInput!==y||n.value===void 0){var x;g(String((x=n.value)!=null?x:""))}},[y,n]),O.jsx(w.slots.baseTextField,b({id:y,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:T,variant:h,type:o||"text",InputProps:b({},m||c?{endAdornment:m?O.jsx(w.slots.loadIcon,{fontSize:"small",color:"action"}):c}:{},{disabled:u},d,{inputProps:b({tabIndex:l},d==null?void 0:d.inputProps)}),InputLabelProps:{shrink:!0},inputRef:s},p,(t=w.slotProps)==null?void 0:t.baseTextField))}const Rht=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function lf(r){var e,t;const{item:n,applyValue:i,type:o,apiRef:a,focusElementRef:s,InputProps:l,clearButton:u,tabIndex:c,disabled:d}=r,h=se(r,Rht),p=AB(),[f,v]=_.useState((e=n.value)!=null?e:""),[g,m]=_.useState(!1),C=_n(),y=St(),w=_.useCallback(T=>{const S=T.target.value;v(String(S)),m(!0),p.start(y.filterDebounceMs,()=>{i(b({},n,{value:S})),m(!1)})},[i,n,y.filterDebounceMs,p]);return _.useEffect(()=>{var T;const S=(T=n.value)!=null?T:"";v(String(S))},[n.value]),O.jsx(y.slots.baseTextField,b({fullWidth:!0,id:C,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:w,variant:"standard",type:o||"text",InputLabelProps:{shrink:!0},inputRef:s,InputProps:b({},g||u?{endAdornment:g?O.jsx(y.slots.loadIcon,{fontSize:"small",color:"action"}):u}:{},{disabled:d},l,{inputProps:b({max:o==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:c},l==null?void 0:l.inputProps)})},h,(t=y.slotProps)==null?void 0:t.baseTextField))}const Oht=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],Dht=({column:{valueOptions:r,field:e},OptionComponent:t,getOptionLabel:n,getOptionValue:i,isSelectNative:o,baseSelectOptionProps:a})=>(typeof r=="function"?["",...r({field:e})]:["",...r||[]]).map(l=>{const u=i(l),c=n(l);return _.createElement(t,b({},a,{native:o,key:u,value:u}),c)}),Aht=be("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function I5(r){var e,t,n,i,o,a,s,l;const{item:u,applyValue:c,type:d,apiRef:h,focusElementRef:p,getOptionLabel:f,getOptionValue:v,placeholder:g,tabIndex:m,label:C,variant:y="standard",clearButton:w}=r,T=se(r,Oht),[S,x]=_.useState((e=u.value)!=null?e:""),I=_n(),R=_n(),D=St(),A=(t=(n=D.slotProps)==null||(n=n.baseSelect)==null?void 0:n.native)!=null?t:!0;let V=null;if(u.field){const G=h.current.getColumn(u.field);Ph(G)&&(V=G)}const F=v||((i=V)==null?void 0:i.getOptionValue),P=f||((o=V)==null?void 0:o.getOptionLabel),M=_.useMemo(()=>{if(V)return typeof V.valueOptions=="function"?V.valueOptions({field:V.field}):V.valueOptions},[V]),N=_.useCallback(G=>{let z=G.target.value;z=yF(z,M,F),x(String(z)),c(b({},u,{value:z}))},[M,F,c,u]);if(_.useEffect(()=>{var G;let z;if(M!==void 0){if(z=yF(u.value,M,F),z!==u.value){c(b({},u,{value:z}));return}}else z=u.value;z=(G=z)!=null?G:"",x(String(z))},[u,M,c,F]),!Ph(V)||!Ph(V))return null;const H=C??h.current.getLocaleText("filterPanelInputLabel");return O.jsxs(Aht,{children:[O.jsxs(D.slots.baseFormControl,{children:[O.jsx(D.slots.baseInputLabel,b({},(a=D.slotProps)==null?void 0:a.baseInputLabel,{id:R,htmlFor:I,shrink:!0,variant:y,children:H})),O.jsx(D.slots.baseSelect,b({id:I,label:H,labelId:R,value:S,onChange:N,variant:y,type:d||"text",inputProps:{tabIndex:m,ref:p,placeholder:g??h.current.getLocaleText("filterPanelInputPlaceholder")},native:A,notched:y==="outlined"?!0:void 0},T,(s=D.slotProps)==null?void 0:s.baseSelect,{children:Dht({column:V,OptionComponent:D.slots.baseSelectOption,getOptionLabel:P,getOptionValue:F,isSelectNative:A,baseSelectOptionProps:(l=D.slotProps)==null?void 0:l.baseSelectOption})}))]}),w]})}const Pht=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],Mht=be("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Fht(r){var e,t,n,i;const{item:o,applyValue:a,apiRef:s,focusElementRef:l,clearButton:u,tabIndex:c,label:d,variant:h="standard"}=r,p=se(r,Pht),[f,v]=_.useState(o.value||""),g=St(),m=_n(),C=_n(),y=((e=g.slotProps)==null?void 0:e.baseSelect)||{},w=(t=y.native)!=null?t:!0,T=((n=g.slotProps)==null?void 0:n.baseSelectOption)||{},S=_.useCallback(I=>{const R=I.target.value;v(R),a(b({},o,{value:R}))},[a,o]);_.useEffect(()=>{v(o.value||"")},[o.value]);const x=d??s.current.getLocaleText("filterPanelInputLabel");return O.jsxs(Mht,{children:[O.jsxs(g.slots.baseFormControl,{fullWidth:!0,children:[O.jsx(g.slots.baseInputLabel,b({},(i=g.slotProps)==null?void 0:i.baseInputLabel,{id:m,shrink:!0,variant:h,children:x})),O.jsxs(g.slots.baseSelect,b({labelId:m,id:C,label:x,value:f,onChange:S,variant:h,notched:h==="outlined"?!0:void 0,native:w,displayEmpty:!0,inputProps:{ref:l,tabIndex:c}},p,y,{children:[O.jsx(g.slots.baseSelectOption,b({},T,{native:w,value:"",children:s.current.getLocaleText("filterValueAny")})),O.jsx(g.slots.baseSelectOption,b({},T,{native:w,value:"true",children:s.current.getLocaleText("filterValueTrue")})),O.jsx(g.slots.baseSelectOption,b({},T,{native:w,value:"false",children:s.current.getLocaleText("filterValueFalse")}))]}))]}),u]})}const Lht=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],T5=r=>({field:r.field,operator:r.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),Nht=_.forwardRef(function(e,t){var n,i;const o=Er(),a=St(),s=ht(o,Fi),l=ht(o,wie),u=_.useRef(null),c=_.useRef(null),{logicOperators:d=[zo.And,zo.Or],columnsSort:h,filterFormProps:p,getColumnForNewFilter:f,disableAddFilterButton:v=!1,disableRemoveAllButton:g=!1}=e,m=se(e,Lht),C=o.current.upsertFilterItem,y=_.useCallback(A=>{o.current.setFilterLogicOperator(A)},[o]),w=_.useCallback(()=>{let A;if(f&&typeof f=="function"){const V=f({currentFilters:(s==null?void 0:s.items)||[],columns:l});if(V===null)return null;A=l.find(({field:F})=>F===V)}else A=l.find(V=>{var F;return(F=V.filterOperators)==null?void 0:F.length});return A?T5(A):null},[s==null?void 0:s.items,l,f]),T=_.useCallback(()=>{if(f===void 0||typeof f!="function")return w();const A=s.items.length?s.items:[w()].filter(Boolean),V=f({currentFilters:A,columns:l});if(V===null)return null;const F=l.find(({field:P})=>P===V);return F?T5(F):null},[s.items,l,f,w]),S=_.useMemo(()=>s.items.length?s.items:(c.current||(c.current=w()),c.current?[c.current]:[]),[s.items,w]),x=S.length>1,I=()=>{const A=T();A&&o.current.upsertFilterItems([...S,A])},R=_.useCallback(A=>{const V=S.length===1;o.current.deleteFilterItem(A),V&&o.current.hideFilterPanel()},[o,S.length]),D=()=>{S.length===1&&S[0].value===void 0&&(o.current.deleteFilterItem(S[0]),o.current.hideFilterPanel()),o.current.setFilterModel(b({},s,{items:[]}))};return _.useEffect(()=>{d.length>0&&s.logicOperator&&!d.includes(s.logicOperator)&&y(d[0])},[d,y,s.logicOperator]),_.useEffect(()=>{S.length>0&&u.current.focus()},[S.length]),O.jsxs(ooe,b({ref:t},m,{children:[O.jsx(noe,{children:S.map((A,V)=>O.jsx(Iht,b({item:A,applyFilterChanges:C,deleteFilter:R,hasMultipleFilters:x,showMultiFilterOperators:V>0,multiFilterOperator:s.logicOperator,disableMultiFilterOperator:V!==1,applyMultiFilterOperatorChanges:y,focusElementRef:V===S.length-1?u:null,logicOperators:d,columnsSort:h},p),A.id==null?V:A.id))}),!a.disableMultipleColumnsFiltering&&!(v&&g)?O.jsxs(ioe,{children:[v?O.jsx("span",{}):O.jsx(a.slots.baseButton,b({onClick:I,startIcon:O.jsx(a.slots.filterPanelAddIcon,{})},(n=a.slotProps)==null?void 0:n.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")})),g?null:O.jsx(a.slots.baseButton,b({onClick:D,startIcon:O.jsx(a.slots.filterPanelRemoveAllIcon,{})},(i=a.slotProps)==null?void 0:i.baseButton,{children:o.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),kht=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function aoe(r){const{item:e,applyValue:t,type:n,apiRef:i,focusElementRef:o,color:a,error:s,helperText:l,size:u,variant:c}=r,d=se(r,kht),h={color:a,error:s,helperText:l,size:u,variant:c},[p,f]=_.useState(e.value||[]),v=_n(),g=St();_.useEffect(()=>{var C;const y=(C=e.value)!=null?C:[];f(y.map(String))},[e.value]);const m=_.useCallback((C,y)=>{f(y.map(String)),t(b({},e,{value:[...y]}))},[t,e]);return O.jsx(jne,b({multiple:!0,freeSolo:!0,options:[],filterOptions:(C,y)=>{const{inputValue:w}=y;return w==null||w===""?[]:[w]},id:v,value:p,onChange:m,renderTags:(C,y)=>C.map((w,T)=>O.jsx(g.slots.baseChip,b({variant:"outlined",size:"small",label:w},y({index:T})))),renderInput:C=>{var y;return O.jsx(g.slots.baseTextField,b({},C,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:b({},C.InputLabelProps,{shrink:!0}),inputRef:o,type:n||"text"},h,(y=g.slotProps)==null?void 0:y.baseTextField))}},d))}const Vht=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],Bht=Hne();function Hht(r){var e,t;const{item:n,applyValue:i,apiRef:o,focusElementRef:a,color:s,error:l,helperText:u,size:c,variant:d="standard",getOptionLabel:h,getOptionValue:p}=r,f=se(r,Vht),v={color:s,error:l,helperText:u,size:c,variant:d},g=_n(),m=St();let C=null;if(n.field){const D=o.current.getColumn(n.field);Ph(D)&&(C=D)}const y=p||((e=C)==null?void 0:e.getOptionValue),w=h||((t=C)==null?void 0:t.getOptionLabel),T=_.useCallback((D,A)=>y(D)===y(A),[y]),S=_.useMemo(()=>{var D;return(D=C)!=null&&D.valueOptions?typeof C.valueOptions=="function"?C.valueOptions({field:C.field}):C.valueOptions:[]},[C]),x=_.useMemo(()=>S==null?void 0:S.map(y),[S,y]),I=_.useMemo(()=>Array.isArray(n.value)?S!==void 0?n.value.map(A=>x==null?void 0:x.findIndex(V=>V===A)).filter(A=>A>=0).map(A=>S[A]):n.value:[],[n.value,S,x]);_.useEffect(()=>{(!Array.isArray(n.value)||I.length!==n.value.length)&&i(b({},n,{value:I.map(y)}))},[n,I,i,y]);const R=_.useCallback((D,A)=>{i(b({},n,{value:A.map(y)}))},[i,n,y]);return O.jsx(jne,b({multiple:!0,options:S,isOptionEqualToValue:T,filterOptions:Bht,id:g,value:I,onChange:R,getOptionLabel:w,renderTags:(D,A)=>D.map((V,F)=>O.jsx(m.slots.baseChip,b({variant:"outlined",size:"small",label:w(V)},A({index:F})))),renderInput:D=>{var A;return O.jsx(m.slots.baseTextField,b({},D,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:b({},D.InputLabelProps,{shrink:!0}),inputRef:a,type:"singleSelect"},v,(A=m.slotProps)==null?void 0:A.baseTextField))}},f))}const Ght=["hideMenu","options"],$ht=["hideMenu","options"];function Wht(r){const e=Er(),{hideMenu:t,options:n}=r,i=se(r,Ght);return O.jsx(zs,b({onClick:()=>{e.current.exportDataAsCsv(n),t==null||t()}},i,{children:e.current.getLocaleText("toolbarExportCSV")}))}function zht(r){const e=Er(),{hideMenu:t,options:n}=r,i=se(r,$ht);return O.jsx(zs,b({onClick:()=>{e.current.exportDataAsPrint(n),t==null||t()}},i,{children:e.current.getLocaleText("toolbarExportPrint")}))}const Uht=["className","selectedRowCount"],jht=r=>{const{classes:e}=r;return tt({root:["selectedRowCount"]},xr,e)},Kht=Ii("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(r,e)=>e.selectedRowCount})(({theme:r})=>({alignItems:"center",display:"flex",margin:r.spacing(0,2),visibility:"hidden",width:0,height:0,[r.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),qht=_.forwardRef(function(e,t){const{className:n,selectedRowCount:i}=e,o=se(e,Uht),a=Er(),s=St(),l=jht(s),u=a.current.getLocaleText("footerRowSelected")(i);return O.jsx(Kht,b({ref:t,className:Ae(l.root,n),ownerState:s},o,{children:u}))}),Yht=_.forwardRef(function(e,t){var n,i;const o=Er(),a=St(),s=ht(o,_lt),l=ht(o,Gct),u=ht(o,nT),c=!a.hideFooterSelectedRowCount&&l>0?O.jsx(qht,{selectedRowCount:l}):O.jsx("div",{}),d=!a.hideFooterRowCount&&!a.pagination?O.jsx(a.slots.footerRowCount,b({},(n=a.slotProps)==null?void 0:n.footerRowCount,{rowCount:s,visibleRowCount:u})):null,h=a.pagination&&!a.hideFooterPagination&&a.slots.pagination&&O.jsx(a.slots.pagination,b({},(i=a.slotProps)==null?void 0:i.pagination));return O.jsxs(Zut,b({ref:t},e,{children:[c,d,h]}))});function Xht(){var r,e;const t=St();return O.jsxs(_.Fragment,{children:[O.jsx(t.slots.preferencesPanel,b({},(r=t.slotProps)==null?void 0:r.preferencesPanel)),t.slots.toolbar&&O.jsx(t.slots.toolbar,b({},(e=t.slotProps)==null?void 0:e.toolbar))]})}const Qht=_.forwardRef(function(e,t){return O.jsx(IB,b({ref:t},e,{children:O.jsx(Qrt,{})}))}),Zht=_.forwardRef(function(e,t){const i=Er().current.getLocaleText("noRowsLabel");return O.jsx(IB,b({ref:t},e,{children:i}))}),Jht=be(pst)(({theme:r})=>({[`& .${Dh.selectLabel}`]:{display:"none",[r.breakpoints.up("sm")]:{display:"block"}},[`& .${Dh.input}`]:{display:"none",[r.breakpoints.up("sm")]:{display:"inline-flex"}}})),ept=_.forwardRef(function(e,t){const n=Er(),i=St(),o=ht(n,ts),a=ht(n,nT),s=_.useMemo(()=>{var p,f;return(p=(f=i.rowCount)!=null?f:a)!=null?p:0},[i.rowCount,a]),l=_.useMemo(()=>Math.floor(s/(o.pageSize||1)),[s,o.pageSize]),u=_.useCallback(p=>{const f=Number(p.target.value);n.current.setPageSize(f)},[n]),c=_.useCallback((p,f)=>{n.current.setPage(f)},[n]),h=(p=>{for(let f=0;f<i.pageSizeOptions.length;f+=1){const v=i.pageSizeOptions[f];if(typeof v=="number"){if(v===p)return!0}else if(v.value===p)return!0}return!1})(o.pageSize)?i.pageSizeOptions:[];return O.jsx(Jht,b({ref:t,component:"div",count:s,page:o.page<=l?o.page:l,rowsPerPageOptions:h,rowsPerPage:o.pageSize,onPageChange:c,onRowsPerPageChange:u},n.current.getLocaleText("MuiTablePagination"),e))}),tpt=["className","rowCount","visibleRowCount"],rpt=r=>{const{classes:e}=r;return tt({root:["rowCount"]},xr,e)},npt=Ii("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(r,e)=>e.rowCount})(({theme:r})=>({alignItems:"center",display:"flex",margin:r.spacing(0,2)})),ipt=_.forwardRef(function(e,t){const{className:n,rowCount:i,visibleRowCount:o}=e,a=se(e,tpt),s=Er(),l=St(),u=rpt(l);if(i===0)return null;const c=o<i?s.current.getLocaleText("footerTotalVisibleRows")(o,i):i.toLocaleString();return O.jsxs(npt,b({ref:t,className:Ae(u.root,n),ownerState:l},a,{children:[s.current.getLocaleText("footerTotalRows")," ",c]}))}),bx=(r,e)=>{let t,n;return e.pagination&&e.paginationMode==="client"?(n=RB(r),t=Hct(r)):(t=bd(r),t.length===0?n=null:n={firstRowIndex:0,lastRowIndex:t.length-1}),{rows:t,range:n}},xp=(r,e)=>{const t=bx(r,e);return _.useMemo(()=>({rows:t.rows,range:t.range}),[t.rows,t.range])},SF={current:null};function Iy(r){return r.isInternal=!0,r}function Ex(r){return r!==void 0&&r.isInternal===!0}function opt(r){return Iy((e,t)=>{const n=r(e,t);return n&&(i=>n(i.value,i.row,t,SF.current))})}function Ty(r){return r.map(e=>b({},e,{getApplyFilterFn:opt(e.getApplyFilterFnV7),getApplyFilterFnV7:Iy(e.getApplyFilterFnV7)}))}function soe(r){return Iy((e,t,n)=>{const i=r(e,t,n);return i&&(o=>i(o.value,o.row,t,n))})}function loe(r){return{current:r.current.getPublicApi()}}let pm;function apt(){if(pm!==void 0)return pm;try{pm=new Function("return true")()}catch{pm=!1}return pm}const wF=(r,e)=>{const t=b({},r);if(t.id==null&&(t.id=Math.round(Math.random()*1e5)),t.operator==null){const n=Hv(e)[t.field];t.operator=n&&n.filterOperators[0].value}return t},spt=Yl(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),lpt=Yl("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),upt=Yl("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),uoe=(r,e,t)=>{const n=r.items.length>1;let i;n&&e?(spt(),i=[r.items[0]]):i=r.items;const o=n&&i.some(s=>s.id==null),a=i.some(s=>s.operator==null);return o&&lpt(),a&&upt(),a||o?b({},r,{items:i.map(s=>wF(s,t))}):r.items!==i?b({},r,{items:i}):r},R5=(r,e,t)=>n=>b({},n,{filterModel:uoe(r,e,t)}),Gc=r=>typeof r=="string"?r.normalize("NFD").replace(/[\u0300-\u036f]/g,""):r,coe=(r,e)=>{if(!r.field||!r.operator)return null;const t=e.current.getColumn(r.field);if(!t)return null;let n;if(t.valueParser){var i;const p=t.valueParser;n=Array.isArray(r.value)?(i=r.value)==null?void 0:i.map(f=>p(f)):p(r.value)}else n=r.value;const{ignoreDiacritics:o}=e.current.rootProps;o&&(n=Gc(n));const a=b({},r,{value:n}),s=t.filterOperators;if(!(s!=null&&s.length))throw new Error(`MUI: No filter operators found for column '${t.field}'.`);const l=s.find(p=>p.value===a.operator);if(!l)throw new Error(`MUI: No filter operator found for column '${t.field}' and operator value '${a.operator}'.`);const u=!Ex(l.getApplyFilterFn),c=!Ex(l.getApplyFilterFnV7),d=loe(e);if(l.getApplyFilterFnV7&&!(u&&!c)){const p=l.getApplyFilterFnV7(a,t);return typeof p!="function"?null:{v7:!0,item:a,fn:f=>{let v=e.current.getRowValue(f,t);return o&&(v=Gc(v)),p(v,f,t,d)}}}const h=l.getApplyFilterFn(a,t);return typeof h!="function"?null:{v7:!1,item:a,fn:p=>{const f=e.current.getCellParams(p,a.field);SF.current=d,o&&(f.value=Gc(f.value));const v=h(f);return SF.current=null,v}}};let O5=1;const cpt=(r,e,t)=>{const{items:n}=r,i=n.map(s=>coe(s,e)).filter(s=>!!s);if(i.length===0)return null;if(t||!apt())return(s,l)=>{const u={};for(let c=0;c<i.length;c+=1){const d=i[c];(!l||l(d.item.field))&&(u[d.item.id]=d.v7?d.fn(s):d.fn(e.current.getRowId(s)))}return u};const o=new Function("getRowId","appliers","row","shouldApplyFilter",`"use strict";
${i.map((s,l)=>`const shouldApply${l} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(s.item.field)});`).join(`
`)}

const result$$ = {
${i.map((s,l)=>`  ${JSON.stringify(String(s.item.id))}: !shouldApply${l}
    ? false
    : ${s.v7?`appliers[${l}].fn(row)`:`appliers[${l}].fn(getRowId(row))`},`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(O5)));return O5+=1,(s,l)=>o(e.current.getRowId,i,s,l)},dpt=(r,e)=>{var t,n,i;const o=(t=(n=r.quickFilterValues)==null?void 0:n.filter(Boolean))!=null?t:[];if(o.length===0)return null;const s=((i=r.quickFilterExcludeHiddenColumns)!=null?i:!1)?JI(e):Iu(e),l=[],{ignoreDiacritics:u}=e.current.rootProps,c=loe(e);return s.forEach(d=>{const h=e.current.getColumn(d),p=h==null?void 0:h.getApplyQuickFilterFn,f=h==null?void 0:h.getApplyQuickFilterFnV7,v=!Ex(p),g=!Ex(f);f&&!(v&&!g)?l.push({column:h,appliers:o.map(m=>{const C=u?Gc(m):m;return{v7:!0,fn:f(C,h,c)}})}):p&&l.push({column:h,appliers:o.map(m=>{const C=u?Gc(m):m;return{v7:!1,fn:p(C,h,c)}})})}),function(h,p){const f={},v={};e:for(let m=0;m<o.length;m+=1){const C=o[m];for(let y=0;y<l.length;y+=1){const{column:w,appliers:T}=l[y],{field:S}=w;if(p&&!p(S))continue;const x=T[m];let I=e.current.getRowValue(h,w);if(x.fn!==null)if(x.v7){if(u&&(I=Gc(I)),x.fn(I,h,w,c)){f[C]=!0;continue e}}else{var g;const R=(g=v[S])!=null?g:e.current.getCellParams(e.current.getRowId(h),S);if(u&&(R.value=Gc(R.value)),v[S]=R,x.fn(R)){f[C]=!0;continue e}}}f[C]=!1}return f}},hpt=(r,e,t)=>{const n=cpt(r,e,t),i=dpt(r,e);return function(a,s,l){var u,c;l.passingFilterItems=(u=n==null?void 0:n(a,s))!=null?u:null,l.passingQuickFilterValues=(c=i==null?void 0:i(a,s))!=null?c:null}},D5=r=>r!=null,ppt=(r,e,t)=>(r.cleanedFilterItems||(r.cleanedFilterItems=t.filter(n=>coe(n,e)!==null)),r.cleanedFilterItems),fpt=(r,e,t,n,i)=>{const o=ppt(i,n,t.items),a=r.filter(D5),s=e.filter(D5);if(a.length>0){var l;const c=h=>a.some(p=>p[h.id]);if(((l=t.logicOperator)!=null?l:hC().logicOperator)===zo.And){if(!o.every(c))return!1}else if(!o.some(c))return!1}if(s.length>0&&t.quickFilterValues!=null){var u;const c=h=>s.some(p=>p[h]);if(((u=t.quickFilterLogicOperator)!=null?u:hC().quickFilterLogicOperator)===zo.And){if(!t.quickFilterValues.every(c))return!1}else if(!t.quickFilterValues.some(c))return!1}return!0},A5=Iy(r=>{if(!r)return null;const e=new RegExp(Db(r),"i");return(t,n,i,o)=>{let a=o.current.getRowFormattedValue(n,i);return o.current.ignoreDiacritics&&(a=Gc(a)),a!=null?e.test(a.toString()):!1}}),vpt=(r=!1)=>Ty([{value:"contains",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=r?e.value:e.value.trim(),n=new RegExp(Db(t),"i");return i=>i!=null?n.test(String(i)):!1},InputComponent:Sl},{value:"equals",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=r?e.value:e.value.trim(),n=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?n.compare(t,i.toString())===0:!1},InputComponent:Sl},{value:"startsWith",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=r?e.value:e.value.trim(),n=new RegExp(`^${Db(t)}.*$`,"i");return i=>i!=null?n.test(i.toString()):!1},InputComponent:Sl},{value:"endsWith",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=r?e.value:e.value.trim(),n=new RegExp(`.*${Db(t)}$`,"i");return i=>i!=null?n.test(i.toString()):!1},InputComponent:Sl},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e===""||e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!==""&&e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=r?e.value:e.value.map(i=>i.trim()),n=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?t.some(o=>n.compare(o,i.toString()||"")===0):!1},InputComponent:aoe}]),Us={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Yct,type:"string",align:"left",filterOperators:vpt(),renderEditCell:Sut,getApplyQuickFilterFn:soe(A5),getApplyQuickFilterFnV7:A5},gpt=()=>Ty([{value:"is",getApplyFilterFnV7:r=>{if(!r.value)return null;const e=r.value==="true";return t=>!!t===e},InputComponent:Fht}]);function mpt({value:r,api:e}){return r?e.getLocaleText("booleanCellTrueLabel"):e.getLocaleText("booleanCellFalseLabel")}const _pt=r=>{switch(r.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},doe=b({},Us,{type:"boolean",align:"center",headerAlign:"center",renderCell:lut,renderEditCell:hut,sortComparator:Zie,valueFormatter:mpt,filterOperators:gpt(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:r=>_pt(r)}),wc="__check__",Wv=b({},doe,{field:wc,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:r=>wx(r.api.state,r.api.instanceId)[r.id]!==void 0,renderHeader:r=>O.jsx(udt,b({},r)),renderCell:r=>O.jsx(adt,b({},r))}),sT="actions",Cpt=b({},Us,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:Hut,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),PB="__detail_panel_toggle__",so=r=>r.editRows,ypt=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],Spt=r=>{const{editable:e,editing:t,selected:n,isLastVisible:i,rowHeight:o,classes:a}=r;return tt({root:["row",n&&"selected",e&&"row--editable",t&&"row--editing",i&&"row--lastVisible",o==="auto"&&"row--dynamicHeight"]},xr,a)};function wpt({width:r}){if(!r)return null;const e={width:r};return O.jsx("div",{className:`${Q.cell} ${Q.withBorderColor}`,style:e})}const bpt=_.forwardRef(function(e,t){const{selected:n,hovered:i,rowId:o,row:a,index:s,style:l,position:u,rowHeight:c,className:d,visibleColumns:h,renderedColumns:p,containerWidth:f,firstColumnToRender:v,isLastVisible:g=!1,focusedCellColumnIndexNotInRange:m,isNotVisible:C,focusedCell:y,onClick:w,onDoubleClick:T,onMouseEnter:S,onMouseLeave:x,onMouseOut:I,onMouseOver:R}=e,D=se(e,ypt),A=Er(),V=_.useRef(null),F=St(),P=xp(A,F),M=ht(A,CB),N=ht(A,Za),H=ht(A,rT),G=ht(A,by),z=ht(A,so),j=ln(V,t),q=s+G+2,K={selected:n,hovered:i,isLastVisible:g,classes:F.classes,editing:A.current.getRowMode(o)===pn.Edit,editable:F.editMode===Wl.Row,rowHeight:c},ie=Spt(K);_.useLayoutEffect(()=>{c==="auto"&&V.current&&typeof ResizeObserver>"u"&&A.current.unstable_storeRowHeightMeasurement(o,V.current.clientHeight,u)},[A,c,o,u]),_.useLayoutEffect(()=>{if(P.range){const Je=A.current.getRowIndexRelativeToVisibleRows(o);Je!=null&&A.current.unstable_setLastMeasuredRowIndex(Je)}const ge=V.current;if(!ge||c!=="auto"||typeof ResizeObserver>"u")return;const Ve=new ResizeObserver(Je=>{const[vt]=Je,ct=vt.borderBoxSize&&vt.borderBoxSize.length>0?vt.borderBoxSize[0].blockSize:vt.contentRect.height;A.current.unstable_storeRowHeightMeasurement(o,ct,u)});return Ve.observe(ge),()=>Ve.disconnect()},[A,P.range,s,c,o,u]);const ee=_.useCallback((ge,_e)=>Ve=>{Ey(Ve)||A.current.getRow(o)&&(A.current.publishEvent(ge,A.current.getRowParams(o),Ve),_e&&_e(Ve))},[A,o]),te=_.useCallback(ge=>{const _e=jlt(ge.target,Q.cell),Ve=_e==null?void 0:_e.getAttribute("data-field");if(Ve){if(Ve===Wv.field||Ve===PB||Ve==="__reorder__"||A.current.getCellMode(o,Ve)===Qr.Edit)return;const Je=A.current.getColumn(Ve);if((Je==null?void 0:Je.type)===sT)return}ee("rowClick",w)(ge)},[A,w,ee,o]),{slots:de,slotProps:Se,disableColumnReorder:Me}=F,De=de.cell===CF?CF:rut,ze=F.rowReordering,he=(ge,_e)=>{var Ve,Je;const vt=Me&&ge.disableReorder||!ze&&!!N.length&&H>1&&Object.keys(z).length>0,ct=(Ve=(Je=z[o])==null?void 0:Je[ge.field])!=null?Ve:null;let Pe=!1;return m!==void 0&&h[m].field===ge.field&&(Pe=!0),O.jsx(De,b({column:ge,width:_e.width,rowId:o,height:c,showRightBorder:_e.showRightBorder,align:ge.align||"left",colIndex:_e.indexRelativeToAllColumns,colSpan:_e.colSpan,disableDragEvents:vt,editCellState:ct,isNotVisible:Pe},Se==null?void 0:Se.cell),ge.field)},ke=ht(A,()=>b({},A.current.unstable_getRowInternalSizes(o)),_B);let Oe=c;if(Oe==="auto"&&ke){let ge=0;const _e=Object.entries(ke).reduce((Ve,[Je,vt])=>/^base[A-Z]/.test(Je)?(ge+=1,vt>Ve?vt:Ve):Ve,0);_e>0&&ge>1&&(Oe=_e)}const je=_.useMemo(()=>{if(C)return{opacity:0,width:0,height:0};const ge=b({},l,{maxHeight:c==="auto"?"none":c,minHeight:Oe});if(ke!=null&&ke.spacingTop){const _e=F.rowSpacingType==="border"?"borderTopWidth":"marginTop";ge[_e]=ke.spacingTop}if(ke!=null&&ke.spacingBottom){const _e=F.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Ve=ge[_e];typeof Ve!="number"&&(Ve=parseInt(Ve||"0",10)),Ve+=ke.spacingBottom,ge[_e]=Ve}return ge},[C,c,l,Oe,ke,F.rowSpacingType]),xe=A.current.unstable_applyPipeProcessors("rowClassName",[],o);if(typeof F.getRowClassName=="function"){var ae;const ge=s-(((ae=P.range)==null?void 0:ae.firstRowIndex)||0),_e=b({},A.current.getRowParams(o),{isFirstVisible:ge===0,isLastVisible:ge===P.rows.length-1,indexRelativeToCurrentPage:ge});xe.push(F.getRowClassName(_e))}const Ie=Mct(1e4,20,80),me=A.current.getRowNode(o);if(!me)return null;const nt=me.type,He=[];for(let ge=0;ge<p.length;ge+=1){const _e=p[ge];let Ve=v+ge;m!==void 0&&y&&(h[m].field===_e.field?Ve=m:Ve-=1);const Je=A.current.unstable_getCellColSpanInfo(o,Ve);if(Je&&!Je.spannedByColSpan)if(nt!=="skeletonRow"){const{colSpan:vt,width:ct}=Je.cellProps,Pe={width:ct,colSpan:vt,showRightBorder:F.showCellVerticalBorder,indexRelativeToAllColumns:Ve};He.push(he(_e,Pe))}else{const{width:vt}=Je.cellProps,ct=Math.round(Ie());He.push(O.jsx(de.skeletonCell,{width:vt,contentWidth:ct,field:_e.field,align:_e.align},_e.field))}}const Ue=f-M,Ge=a?{onClick:te,onDoubleClick:ee("rowDoubleClick",T),onMouseEnter:ee("rowMouseEnter",S),onMouseLeave:ee("rowMouseLeave",x),onMouseOut:ee("rowMouseOut",I),onMouseOver:ee("rowMouseOver",R)}:null;return O.jsxs("div",b({ref:j,"data-id":o,"data-rowindex":s,role:"row",className:Ae(...xe,ie.root,d,i&&"Mui-hovered"),"aria-rowindex":q,"aria-selected":n,style:je},Ge,D,{children:[He,Ue>0&&O.jsx(wpt,{width:Ue})]}))}),Ept=aT(bpt);function xpt({privateApiRef:r,props:e,children:t}){const n=_.useRef(r.current.getPublicApi());return O.jsx(_ie.Provider,{value:e,children:O.jsx(Cie.Provider,{value:r,children:O.jsx(mie.Provider,{value:n,children:t})})})}const Ipt=Act()&&window.localStorage.getItem("DEBUG")!=null,km=()=>{},Tpt={debug:km,info:km,warn:km,error:km},P5=["debug","info","warn","error"];function M5(r,e,t=console){const n=P5.indexOf(e);if(n===-1)throw new Error(`MUI: Log level ${e} not recognized.`);return P5.reduce((o,a,s)=>(s>=n?o[a]=(...l)=>{const[u,...c]=l;t[a](`MUI: ${r} - ${u}`,...c)}:o[a]=km,o),{})}const Rpt=(r,e)=>{const t=_.useCallback(n=>Ipt?M5(n,"debug",e.logger):e.logLevel?M5(n,e.logLevel.toString(),e.logger):Tpt,[e.logLevel,e.logger]);cr(r,{getLogger:t},"private")};class MB{static create(e){return new MB(e)}constructor(e){this.value=void 0,this.listeners=void 0,this.subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}),this.getSnapshot=()=>this.value,this.update=t=>{this.value=t,this.listeners.forEach(n=>n(t))},this.value=e,this.listeners=new Set}}class Opt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(e,t,n={}){let i=this.events[e];i||(i={highPriority:new Map,regular:new Map},this.events[e]=i),n.isFirst?i.highPriority.set(t,!0):i.regular.set(t,!0)}removeListener(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}removeAllListeners(){this.events={}}emit(e,...t){const n=this.events[e];if(!n)return;const i=Array.from(n.highPriority.keys()),o=Array.from(n.regular.keys());for(let a=i.length-1;a>=0;a-=1){const s=i[a];n.highPriority.has(s)&&s.apply(this,t)}for(let a=0;a<o.length;a+=1){const s=o[a];n.regular.has(s)&&s.apply(this,t)}}once(e,t){const n=this;this.on(e,function i(...o){n.removeListener(e,i),t.apply(n,o)})}}const hoe=Symbol("mui.api_private"),Dpt=r=>r.isPropagationStopped!==void 0;let F5=0;function Apt(r){var e;const t=(e=r.current)==null?void 0:e[hoe];if(t)return t;const n={},i={state:n,store:MB.create(n),instanceId:{id:F5}};return F5+=1,i.getPublicApi=()=>r.current,i.register=(o,a)=>{Object.keys(a).forEach(s=>{const l=a[s],u=i[s];if((u==null?void 0:u.spying)===!0?u.target=l:i[s]=l,o==="public"){const c=r.current,d=c[s];(d==null?void 0:d.spying)===!0?d.target=l:c[s]=l}})},i.register("private",{caches:{},eventManager:new Opt}),i}function Ppt(r){return{get state(){return r.current.state},get store(){return r.current.store},get instanceId(){return r.current.instanceId},[hoe]:r.current}}function Mpt(r,e){const t=_.useRef(),n=_.useRef();n.current||(n.current=Apt(t)),t.current||(t.current=Ppt(n));const i=_.useCallback((...a)=>{const[s,l,u={}]=a;if(u.defaultMuiPrevented=!1,Dpt(u)&&u.isPropagationStopped())return;const c=e.signature===Nl.DataGridPro?{api:n.current.getPublicApi()}:{};n.current.eventManager.emit(s,l,u,c)},[n,e.signature]),o=_.useCallback((a,s,l)=>{n.current.eventManager.on(a,s,l);const u=n.current;return()=>{u.eventManager.removeListener(a,s)}},[n]);return cr(n,{subscribeEvent:o,publishEvent:i},"public"),_.useImperativeHandle(r,()=>t.current,[t]),_.useEffect(()=>{const a=n.current;return()=>{a.publishEvent("unmount")}},[n]),n}const Fpt=(r,e)=>{const t=_.useCallback(n=>{if(e.localeText[n]==null)throw new Error(`Missing translation for key ${n}.`);return e.localeText[n]},[e.localeText]);r.current.register("public",{getLocaleText:t})},Lpt=r=>{const e=_.useRef({}),t=_.useRef(!1),n=_.useCallback(c=>{t.current||!c||(t.current=!0,Object.values(c.appliers).forEach(d=>{d()}),t.current=!1)},[]),i=_.useCallback((c,d,h)=>{e.current[c]||(e.current[c]={processors:new Map,appliers:{}});const p=e.current[c];return p.processors.get(d)!==h&&(p.processors.set(d,h),n(p)),()=>{e.current[c].processors.set(d,null)}},[n]),o=_.useCallback((c,d,h)=>(e.current[c]||(e.current[c]={processors:new Map,appliers:{}}),e.current[c].appliers[d]=h,()=>{const p=e.current[c].appliers,f=se(p,[d].map(aC));e.current[c].appliers=f}),[]),a=_.useCallback(c=>{const d=e.current[c];n(d)},[n]),s=_.useCallback((...c)=>{const[d,h,p]=c;return e.current[d]?Array.from(e.current[d].processors.values()).reduce((v,g)=>g?g(v,p):v,h):h},[]),l={registerPipeProcessor:i,registerPipeApplier:o,requestPipeProcessorsApplication:a},u={unstable_applyPipeProcessors:s};cr(r,l,"private"),cr(r,u,"public")},fi=(r,e,t)=>{const n=_.useRef(),i=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),o=_.useCallback(()=>{n.current=r.current.registerPipeProcessor(e,i.current,t)},[r,t,e]);xy(()=>{o()});const a=_.useRef(!0);_.useEffect(()=>(a.current?a.current=!1:o(),()=>{n.current&&(n.current(),n.current=null)}),[o])},FB=(r,e,t)=>{const n=_.useRef(),i=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),o=_.useCallback(()=>{n.current=r.current.registerPipeApplier(e,i.current,t)},[r,t,e]);xy(()=>{o()});const a=_.useRef(!0);_.useEffect(()=>(a.current?a.current=!1:o(),()=>{n.current&&(n.current(),n.current=null)}),[o])},xx=(r,e,t,n)=>{const i=_.useCallback(()=>{r.current.registerStrategyProcessor(e,t,n)},[r,n,t,e]);xy(()=>{i()});const o=_.useRef(!0);_.useEffect(()=>{o.current?o.current=!1:i()},[i])},op="none",L5={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},Npt=r=>{const e=_.useRef(new Map),t=_.useRef({}),n=_.useCallback((l,u,c)=>{const d=()=>{const f=t.current[u],v=se(f,[l].map(aC));t.current[u]=v};t.current[u]||(t.current[u]={});const h=t.current[u],p=h[l];return h[l]=c,!p||p===c||l===r.current.getActiveStrategy(L5[u])&&r.current.publishEvent("activeStrategyProcessorChange",u),d},[r]),i=_.useCallback((l,u)=>{const c=r.current.getActiveStrategy(L5[l]);if(c==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const d=t.current[l];if(!d||!d[c])throw new Error(`No processor found for processor "${l}" on strategy "${c}"`);const h=d[c];return h(u)},[r]),o=_.useCallback(l=>{var u;const d=Array.from(e.current.entries()).find(([,h])=>h.group!==l?!1:h.isAvailable());return(u=d==null?void 0:d[0])!=null?u:op},[]),a=_.useCallback((l,u,c)=>{e.current.set(u,{group:l,isAvailable:c}),r.current.publishEvent("strategyAvailabilityChange")},[r]);cr(r,{registerStrategyProcessor:n,applyStrategyProcessor:i,getActiveStrategy:o,setStrategyAvailability:a},"private")},kpt=(r,e)=>{const t=_.useRef({}),[,n]=_.useState(),i=_.useCallback(c=>{t.current[c.stateId]=c},[]),o=_.useCallback((c,d)=>{let h;if(zie(c)?h=c(r.current.state):h=c,r.current.state===h)return!1;let p=!1;const f=[];if(Object.keys(t.current).forEach(v=>{const g=t.current[v],m=g.stateSelector(r.current.state,r.current.instanceId),C=g.stateSelector(h,r.current.instanceId);C!==m&&(f.push({stateId:g.stateId,hasPropChanged:C!==g.propModel}),g.propModel!==void 0&&C!==g.propModel&&(p=!0))}),f.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${f[0].stateId}, therefore, you're not allowed to update ${f.map(v=>v.stateId).join(", ")} in the same transaction.`);if(p||(r.current.state=h,r.current.publishEvent&&r.current.publishEvent("stateChange",h),r.current.store.update(h)),f.length===1){const{stateId:v,hasPropChanged:g}=f[0],m=t.current[v],C=m.stateSelector(h,r.current.instanceId);if(m.propOnChange&&g){const y=e.signature===Nl.DataGridPro?{api:r.current,reason:d}:{reason:d};m.propOnChange(C,y)}p||r.current.publishEvent(m.changeEvent,C,{reason:d})}return!p},[r,e.signature]),a=_.useCallback((c,d,h)=>r.current.setState(p=>b({},p,{[c]:d(p[c])}),h),[r]),s=_.useCallback(()=>n(()=>r.current.state),[r]),l={setState:o,forceUpdate:s},u={updateControlState:a,registerControlState:i};cr(r,l,"public"),cr(r,u,"private")},Vpt=(r,e)=>{const t=Mpt(r,e);return Rpt(t,e),kpt(t,e),Lpt(t),Npt(t),Fpt(t,e),t.current.register("private",{rootProps:e}),t},Fo=(r,e,t)=>{const n=_.useRef(!1);n.current||(e.current.state=r(e.current.state,t,e),n.current=!0)},Bpt=/(\d+)-(\d+)-(\d+)/,Hpt=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function uf(r,e,t,n){if(!r.value)return null;const[i,o,a,s,l]=r.value.match(t?Hpt:Bpt).slice(1).map(Number),u=new Date(i,o-1,a,s||0,l||0).getTime();return c=>{if(!c)return!1;if(n)return e(c.getTime(),u);const h=new Date(c).setHours(t?c.getHours():0,t?c.getMinutes():0,0,0);return e(h,u)}}const poe=r=>Ty([{value:"is",getApplyFilterFnV7:e=>uf(e,(t,n)=>t===n,r),InputComponent:lf,InputComponentProps:{type:r?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:e=>uf(e,(t,n)=>t!==n,r),InputComponent:lf,InputComponentProps:{type:r?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:e=>uf(e,(t,n)=>t>n,r),InputComponent:lf,InputComponentProps:{type:r?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:e=>uf(e,(t,n)=>t>=n,r),InputComponent:lf,InputComponentProps:{type:r?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:e=>uf(e,(t,n)=>t<n,r,!r),InputComponent:lf,InputComponentProps:{type:r?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:e=>uf(e,(t,n)=>t<=n,r),InputComponent:lf,InputComponentProps:{type:r?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!=null,requiresFilterValue:!1}]);function foe({value:r,columnType:e,rowId:t,field:n}){if(!(r instanceof Date))throw new Error([`MUI: \`${e}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${t}, field: "${n}".`].join(`
`))}function Gpt({value:r,field:e,id:t}){return r?(foe({value:r,columnType:"date",rowId:t,field:e}),r.toLocaleDateString()):""}function $pt({value:r,field:e,id:t}){return r?(foe({value:r,columnType:"dateTime",rowId:t,field:e}),r.toLocaleString()):""}const Wpt=b({},Us,{type:"date",sortComparator:Jie,valueFormatter:Gpt,filterOperators:poe(),renderEditCell:Nie,pastedValueParser:r=>new Date(r)}),zpt=b({},Us,{type:"dateTime",sortComparator:Jie,valueFormatter:$pt,filterOperators:poe(!0),renderEditCell:Nie,pastedValueParser:r=>new Date(r)}),Tc=r=>r==null?null:Number(r),N5=Iy(r=>r==null||Number.isNaN(r)||r===""?null:e=>Tc(e)===Tc(r)),Upt=()=>Ty([{value:"=",getApplyFilterFnV7:r=>r.value==null||Number.isNaN(r.value)?null:e=>Tc(e)===r.value,InputComponent:Sl,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:r=>r.value==null||Number.isNaN(r.value)?null:e=>Tc(e)!==r.value,InputComponent:Sl,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:r=>r.value==null||Number.isNaN(r.value)?null:e=>e==null?!1:Tc(e)>r.value,InputComponent:Sl,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:r=>r.value==null||Number.isNaN(r.value)?null:e=>e==null?!1:Tc(e)>=r.value,InputComponent:Sl,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:r=>r.value==null||Number.isNaN(r.value)?null:e=>e==null?!1:Tc(e)<r.value,InputComponent:Sl,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:r=>r.value==null||Number.isNaN(r.value)?null:e=>e==null?!1:Tc(e)<=r.value,InputComponent:Sl,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>r=>r==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>r=>r!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:r=>!Array.isArray(r.value)||r.value.length===0?null:e=>e!=null&&r.value.includes(Number(e)),InputComponent:aoe,InputComponentProps:{type:"number"}}]),jpt=b({},Us,{type:"number",align:"right",headerAlign:"right",sortComparator:Zie,valueParser:r=>r===""?null:Number(r),valueFormatter:({value:r})=>Dct(r)?r.toLocaleString():r||"",filterOperators:Upt(),getApplyQuickFilterFn:soe(N5),getApplyQuickFilterFnV7:N5}),cf=r=>r==null||!TB(r)?r:r.value,Kpt=()=>Ty([{value:"is",getApplyFilterFnV7:r=>r.value==null||r.value===""?null:e=>cf(e)===cf(r.value),InputComponent:I5},{value:"not",getApplyFilterFnV7:r=>r.value==null||r.value===""?null:e=>cf(e)!==cf(r.value),InputComponent:I5},{value:"isAnyOf",getApplyFilterFnV7:r=>{if(!Array.isArray(r.value)||r.value.length===0)return null;const e=r.value.map(cf);return t=>e.includes(cf(t))},InputComponent:Hht}]),qpt=r=>typeof r[0]=="object",Ypt=r=>TB(r)?r.value:r,Xpt=r=>TB(r)?r.label:String(r),Qpt=b({},Us,{type:"singleSelect",getOptionLabel:Xpt,getOptionValue:Ypt,valueFormatter(r){const{id:e,field:t,value:n,api:i}=r,o=r.api.getColumn(t);if(!Ph(o))return"";let a;if(typeof o.valueOptions=="function"?a=o.valueOptions({id:e,row:e?i.getRow(e):null,field:t}):a=o.valueOptions,n==null)return"";if(!a)return n;if(!qpt(a))return o.getOptionLabel(n);const s=a.find(l=>o.getOptionValue(l)===n);return s?o.getOptionLabel(s):""},renderEditCell:Put,filterOperators:Kpt(),pastedValueParser:(r,e)=>{const t=e.colDef,n=t.valueOptions,i=typeof n=="function"?n({field:t.field}):n||[],o=t.getOptionValue;if(i.find(s=>o(s)===r))return r}}),voe="__default__",Zpt=()=>({string:Us,number:jpt,date:Wpt,dateTime:zpt,boolean:doe,singleSelect:Qpt,[sT]:Cpt,[voe]:Us});function bF(r,e){return typeof r=="string"&&[e,`
`,"\r",'"'].some(t=>r.includes(t))?`"${r.replace(/"/g,'""')}"`:r}const goe=(r,e)=>{const{delimiterCharacter:t,ignoreValueFormatter:n}=e;let i;if(n){var o;const s=r.colDef.type;if(s==="number")i=String(r.value);else if(s==="date"||s==="dateTime"){var a;i=(a=r.value)==null?void 0:a.toISOString()}else typeof((o=r.value)==null?void 0:o.toString)=="function"?i=r.value.toString():i=r.value}else i=r.formattedValue;return bF(i,t)};Yl(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class EF{constructor(e){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=e}addValue(e){this.isEmpty||(this.rowString+=this.options.delimiterCharacter),e==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(e,this.options.delimiterCharacter):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}}const Jpt=({id:r,columns:e,getCellParams:t,delimiterCharacter:n,ignoreValueFormatter:i})=>{const o=new EF({delimiterCharacter:n});return e.forEach(a=>{const s=t(r,a.field);o.addValue(goe(s,{delimiterCharacter:n,ignoreValueFormatter:i}))}),o.getRowString()};function eft(r){const{columns:e,rowIds:t,delimiterCharacter:n,includeHeaders:i,includeColumnGroupsHeaders:o,ignoreValueFormatter:a,apiRef:s}=r,l=t.reduce((p,f)=>`${p}${Jpt({id:f,columns:e,getCellParams:s.current.getCellParams,delimiterCharacter:n,ignoreValueFormatter:a})}\r
`,"").trim();if(!i)return l;const u=e.filter(p=>p.field!==Wv.field),c=[];if(o){const p=s.current.unstable_getAllGroupDetails();let f=0;const v=u.reduce((g,m)=>{const C=s.current.unstable_getColumnGroupPath(m.field);return g[m.field]=C,f=Math.max(f,C.length),g},{});for(let g=0;g<f;g+=1){const m=new EF({delimiterCharacter:n,sanitizeCellValue:bF});c.push(m),u.forEach(C=>{const y=(v[C.field]||[])[g],w=p[y];m.addValue(w?w.headerName||w.groupId:"")})}}const d=new EF({delimiterCharacter:n,sanitizeCellValue:bF});return u.forEach(p=>{d.addValue(p.headerName||p.field)}),c.push(d),`${`${c.map(p=>p.getRowString()).join(`\r
`)}\r
`}${l}`.trim()}function k5(r){const e=document.createElement("span");e.style.whiteSpace="pre",e.style.userSelect="all",e.style.opacity="0px",e.textContent=r,document.body.appendChild(e);const t=document.createRange();t.selectNode(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t);try{document.execCommand("copy")}finally{document.body.removeChild(e)}}function tft(r){navigator.clipboard?navigator.clipboard.writeText(r).catch(()=>{k5(r)}):k5(r)}function rft(r){var e;return!!((e=window.getSelection())!=null&&e.toString()||r&&(r.selectionEnd||0)-(r.selectionStart||0)>0)}const nft=(r,e)=>{const t=e.unstable_ignoreValueFormatterDuringExport,n=(typeof t=="object"?t==null?void 0:t.clipboardExport:t)||!1,i=e.clipboardCopyCellDelimiter,o=_.useCallback(a=>{if(!((a.ctrlKey||a.metaKey)&&a.key==="c")||rft(a.target))return;let s="";if(r.current.getSelectedRows().size>0)s=r.current.getDataAsCsv({includeHeaders:!1,delimiter:i});else{const u=_a(r);if(u){const c=r.current.getCellParams(u.id,u.field);s=goe(c,{delimiterCharacter:i,ignoreValueFormatter:n})}}s=r.current.unstable_applyPipeProcessors("clipboardCopy",s),s&&(tft(s),r.current.publishEvent("clipboardCopy",s))},[r,n,i]);Fct(r,r.current.rootElementRef,"keydown",o),Cn(r,"clipboardCopy",e.onClipboardCopy)},ift=r=>b({},r,{columnMenu:{open:!1}}),oft=r=>{const e=to(r,"useGridColumnMenu"),t=_.useCallback(a=>{r.current.setState(l=>l.columnMenu.open&&l.columnMenu.field===a?l:(e.debug("Opening Column Menu"),b({},l,{columnMenu:{open:!0,field:a}})))&&(r.current.hidePreferences(),r.current.forceUpdate())},[r,e]),n=_.useCallback(()=>{const a=_F(r.current.state);if(a.field){const l=Hv(r),u=Gs(r),c=Iu(r);let d=a.field;if(l[d]||(d=c[0]),u[d]===!1){const h=c.filter(f=>f===d?!0:u[f]!==!1),p=h.indexOf(d);d=h[p+1]||h[p-1]}r.current.setColumnHeaderFocus(d)}r.current.setState(l=>!l.columnMenu.open&&l.columnMenu.field===void 0?l:(e.debug("Hiding Column Menu"),b({},l,{columnMenu:b({},l.columnMenu,{open:!1,field:void 0})})))&&r.current.forceUpdate()},[r,e]),i=_.useCallback(a=>{e.debug("Toggle Column Menu");const s=_F(r.current.state);!s.open||s.field!==a?t(a):n()},[r,e,t,n]);cr(r,{showColumnMenu:t,hideColumnMenu:n,toggleColumnMenu:i},"public"),bt(r,"columnResizeStart",n),bt(r,"virtualScrollerWheel",r.current.hideColumnMenu),bt(r,"virtualScrollerTouchMove",r.current.hideColumnMenu)},moe=["maxWidth","minWidth","width","flex"];function aft({initialFreeSpace:r,totalFlexUnits:e,flexColumns:t}){const n=new Set(t.map(a=>a.field)),i={all:{},frozenFields:[],freeze:a=>{const s=i.all[a];s&&s.frozen!==!0&&(i.all[a].frozen=!0,i.frozenFields.push(a))}};function o(){if(i.frozenFields.length===n.size)return;const a={min:{},max:{}};let s=r,l=e,u=0;i.frozenFields.forEach(c=>{s-=i.all[c].computedWidth,l-=i.all[c].flex});for(let c=0;c<t.length;c+=1){const d=t[c];if(i.all[d.field]&&i.all[d.field].frozen===!0)continue;let p=s/l*d.flex;p<d.minWidth?(u+=d.minWidth-p,p=d.minWidth,a.min[d.field]=!0):p>d.maxWidth&&(u+=d.maxWidth-p,p=d.maxWidth,a.max[d.field]=!0),i.all[d.field]={frozen:!1,computedWidth:p,flex:d.flex}}u<0?Object.keys(a.max).forEach(c=>{i.freeze(c)}):u>0?Object.keys(a.min).forEach(c=>{i.freeze(c)}):t.forEach(({field:c})=>{i.freeze(c)}),o()}return o(),i.all}const xF=(r,e)=>{const t={};let n=0,i=0;const o=[];r.orderedFields.forEach(s=>{const l=b({},r.lookup[s]);if(r.columnVisibilityModel[s]===!1)l.computedWidth=0;else{let u;l.flex&&l.flex>0?(n+=l.flex,u=0,o.push(l)):u=Sv(l.width||Us.width,l.minWidth||Us.minWidth,l.maxWidth||Us.maxWidth),i+=u,l.computedWidth=u}t[s]=l});const a=Math.max(e-i,0);if(n>0&&e>0){const s=aft({initialFreeSpace:a,totalFlexUnits:n,flexColumns:o});Object.keys(s).forEach(l=>{t[l].computedWidth=s[l].computedWidth})}return b({},r,{lookup:t})},sft=(r,e)=>{if(!e)return r;const{orderedFields:t=[],dimensions:n={}}=e,i=Object.keys(n);if(i.length===0&&t.length===0)return r;const o={},a=[];for(let c=0;c<t.length;c+=1){const d=t[c];r.lookup[d]&&(o[d]=!0,a.push(d))}const s=a.length===0?r.orderedFields:[...a,...r.orderedFields.filter(c=>!o[c])],l=b({},r.lookup);for(let c=0;c<i.length;c+=1){const d=i[c],h=b({},l[d],{hasBeenResized:!0});Object.entries(n[d]).forEach(([p,f])=>{h[p]=f===-1?1/0:f}),l[d]=h}return b({},r,{orderedFields:s,lookup:l})};function V5(r,e){let t=r[voe];return e&&r[e]&&(t=r[e]),t}const Ef=({apiRef:r,columnsToUpsert:e,initialState:t,columnTypes:n,columnVisibilityModel:i=Gs(r),keepOnlyColumnsToUpsert:o=!1})=>{var a,s,l;const u=!r.current.state.columns;let c;if(u)c={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const f=Ah(r.current.state);c={orderedFields:o?[]:[...f.orderedFields],lookup:b({},f.lookup),columnVisibilityModel:i}}let d={};o&&!u&&(d=Object.keys(c.lookup).reduce((f,v)=>b({},f,{[v]:!1}),{})),e.forEach(f=>{const{field:v}=f;d[v]=!0;let g=c.lookup[v];g==null?(g=b({},V5(n,f.type),{field:v,hasBeenResized:!1}),c.orderedFields.push(v)):o&&c.orderedFields.push(v),g&&g.type!==f.type&&(g=b({},V5(n,f.type),{field:v}));let m=g.hasBeenResized;moe.forEach(C=>{f[C]!==void 0&&(m=!0,f[C]===-1&&(f[C]=1/0))}),c.lookup[v]=b({},g,f,{hasBeenResized:m})}),o&&!u&&Object.keys(c.lookup).forEach(f=>{d[f]||delete c.lookup[f]});const h=r.current.unstable_applyPipeProcessors("hydrateColumns",c),p=sft(h,t);return xF(p,(a=(s=(l=r.current).getRootDimensions)==null||(s=s.call(l))==null?void 0:s.viewportInnerSize.width)!=null?a:0)},B5=r=>e=>b({},e,{columns:r});function IF({firstColumnToRender:r,apiRef:e,firstRowToRender:t,lastRowToRender:n,visibleRows:i}){let o=r;for(let a=t;a<n;a+=1)if(i[a]){const l=i[a].id,u=e.current.unstable_getCellColSpanInfo(l,r);u&&u.spannedByColSpan&&(o=u.leftVisibleCellIndex)}return o}function lft({firstColumnIndex:r,minColumnIndex:e,columnBuffer:t,firstRowToRender:n,lastRowToRender:i,apiRef:o,visibleRows:a}){const s=Math.max(r-t,e);return IF({firstColumnToRender:s,apiRef:o,firstRowToRender:n,lastRowToRender:i,visibleRows:a})}function LB(r,e){const t=$v(r),n=by(r);return Math.floor(e*t)*((n??0)+1)}const _oe=Zpt(),uft=(r,e,t)=>{var n,i,o,a;const s=Ef({apiRef:t,columnTypes:_oe,columnsToUpsert:e.columns,initialState:(n=e.initialState)==null?void 0:n.columns,columnVisibilityModel:(i=(o=e.columnVisibilityModel)!=null?o:(a=e.initialState)==null||(a=a.columns)==null?void 0:a.columnVisibilityModel)!=null?i:{},keepOnlyColumnsToUpsert:!0});return b({},r,{columns:s})};function cft(r,e){var t,n;const i=to(r,"useGridColumns"),o=_oe,a=_.useRef(e.columns),s=_.useRef(o);r.current.registerControlState({stateId:"visibleColumns",propModel:e.columnVisibilityModel,propOnChange:e.onColumnVisibilityModelChange,stateSelector:Gs,changeEvent:"columnVisibilityModelChange"});const l=_.useCallback(P=>{i.debug("Updating columns state."),r.current.setState(B5(P)),r.current.forceUpdate(),r.current.publishEvent("columnsChange",P.orderedFields)},[i,r]),u=_.useCallback(P=>Hv(r)[P],[r]),c=_.useCallback(()=>Ll(r),[r]),d=_.useCallback(()=>Bi(r),[r]),h=_.useCallback((P,M=!0)=>(M?Bi(r):Ll(r)).findIndex(H=>H.field===P),[r]),p=_.useCallback(P=>{const M=h(P);return yv(r)[M]},[r,h]),f=_.useCallback(P=>{Gs(r)!==P&&(r.current.setState(N=>b({},N,{columns:Ef({apiRef:r,columnTypes:o,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:P,keepOnlyColumnsToUpsert:!1})})),r.current.forceUpdate())},[r,o]),v=_.useCallback(P=>{const M=Ef({apiRef:r,columnTypes:o,columnsToUpsert:P,initialState:void 0,keepOnlyColumnsToUpsert:!1});l(M)},[r,l,o]),g=_.useCallback((P,M)=>{var N;const H=Gs(r),G=(N=H[P])!=null?N:!0;if(M!==G){const z=b({},H,{[P]:M});r.current.setColumnVisibilityModel(z)}},[r]),m=_.useCallback(P=>Iu(r).findIndex(N=>N===P),[r]),C=_.useCallback((P,M)=>{const N=Iu(r),H=m(P);if(H===M)return;i.debug(`Moving column ${P} to index ${M}`);const G=[...N],z=G.splice(H,1)[0];G.splice(M,0,z),l(b({},Ah(r.current.state),{orderedFields:G}));const j={column:r.current.getColumn(P),targetIndex:r.current.getColumnIndexRelativeToVisibleColumns(P),oldIndex:H};r.current.publishEvent("columnIndexChange",j)},[r,i,l,m]),y=_.useCallback((P,M)=>{var N,H;i.debug(`Updating column ${P} width to ${M}`);const G=Ah(r.current.state),z=G.lookup[P],j=b({},z,{width:M,hasBeenResized:!0});l(xF(b({},G,{lookup:b({},G.lookup,{[P]:j})}),(N=(H=r.current.getRootDimensions())==null?void 0:H.viewportInnerSize.width)!=null?N:0)),r.current.publishEvent("columnWidthChange",{element:r.current.getColumnHeaderElement(P),colDef:j,width:M})},[r,i,l]),w={getColumn:u,getAllColumns:c,getColumnIndex:h,getColumnPosition:p,getVisibleColumns:d,getColumnIndexRelativeToVisibleColumns:m,updateColumns:v,setColumnVisibilityModel:f,setColumnVisibility:g,setColumnWidth:y},T={setColumnIndex:C};cr(r,w,"public"),cr(r,T,e.signature===Nl.DataGrid?"private":"public");const S=_.useCallback((P,M)=>{var N,H;const G={},z=Gs(r);(!M.exportOnlyDirtyModels||e.columnVisibilityModel!=null||Object.keys((N=(H=e.initialState)==null||(H=H.columns)==null?void 0:H.columnVisibilityModel)!=null?N:{}).length>0||Object.keys(z).length>0)&&(G.columnVisibilityModel=z),G.orderedFields=Iu(r);const q=Ll(r),K={};return q.forEach(ie=>{if(ie.hasBeenResized){const ee={};moe.forEach(te=>{let de=ie[te];de===1/0&&(de=-1),ee[te]=de}),K[ie.field]=ee}}),Object.keys(K).length>0&&(G.dimensions=K),b({},P,{columns:G})},[r,e.columnVisibilityModel,(t=e.initialState)==null?void 0:t.columns]),x=_.useCallback((P,M)=>{var N;const H=(N=M.stateToRestore.columns)==null?void 0:N.columnVisibilityModel,G=M.stateToRestore.columns;if(H==null&&G==null)return P;const z=Ef({apiRef:r,columnTypes:o,columnsToUpsert:[],initialState:G,columnVisibilityModel:H,keepOnlyColumnsToUpsert:!1});return r.current.setState(B5(z)),G!=null&&r.current.publishEvent("columnsChange",z.orderedFields),P},[r,o]),I=_.useCallback((P,M)=>{if(M===ip.columns){var N;const H=e.slots.columnsPanel;return O.jsx(H,b({},(N=e.slotProps)==null?void 0:N.columnsPanel))}return P},[e.slots.columnsPanel,(n=e.slotProps)==null?void 0:n.columnsPanel]),R=_.useCallback(P=>e.disableColumnSelector?P:[...P,"columnMenuColumnsItem"],[e.disableColumnSelector]);fi(r,"columnMenu",R),fi(r,"exportState",S),fi(r,"restoreState",x),fi(r,"preferencePanel",I);const D=_.useRef(null);bt(r,"viewportInnerSizeChange",P=>{D.current!==P.width&&(D.current=P.width,l(xF(Ah(r.current.state),P.width)))});const V=_.useCallback(()=>{i.info("Columns pipe processing have changed, regenerating the columns");const P=Ef({apiRef:r,columnTypes:o,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});l(P)},[r,i,l,o]);FB(r,"hydrateColumns",V);const F=_.useRef(!0);_.useEffect(()=>{if(F.current){F.current=!1;return}if(i.info(`GridColumns have changed, new length ${e.columns.length}`),a.current===e.columns&&s.current===o)return;const P=Ef({apiRef:r,columnTypes:o,initialState:void 0,columnsToUpsert:e.columns,keepOnlyColumnsToUpsert:!0});a.current=e.columns,s.current=o,l(P)},[i,r,l,e.columns,o]),_.useEffect(()=>{e.columnVisibilityModel!==void 0&&r.current.setColumnVisibilityModel(e.columnVisibilityModel)},[r,i,e.columnVisibilityModel])}const dft=.7,hft=1.3,Coe={compact:dft,comfortable:hft,standard:1},pft=(r,e)=>b({},r,{density:{value:e.density,factor:Coe[e.density]}}),fft=(r,e)=>{const t=to(r,"useDensity"),n=_.useCallback(o=>{t.debug(`Set grid density to ${o}`),r.current.setState(a=>{const s=bB(a),l={value:o,factor:Coe[o]};return Mh(s,l)?a:b({},a,{density:l})}),r.current.forceUpdate()},[t,r]);_.useEffect(()=>{r.current.setDensity(e.density)},[r,e.density]),cr(r,{setDensity:n},"public")};function vft(r,e="csv",t=document.title||"untitled"){const n=`${t}.${e}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=n,o.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI: exportAs not supported")}const yoe=({apiRef:r,options:e})=>{const t=Ll(r);return e.fields?e.fields.reduce((i,o)=>{const a=t.find(s=>s.field===o);return a&&i.push(a),i},[]):(e.allColumns?t:Bi(r)).filter(i=>!i.disableExport)},gft=({apiRef:r})=>{var e,t;const n=Rlt(r),i=Vs(r),o=r.current.getSelectedRows(),a=n.filter(c=>i[c].type!=="footer"),s=Gv(r),l=(s==null||(e=s.top)==null?void 0:e.map(c=>c.id))||[],u=(s==null||(t=s.bottom)==null?void 0:t.map(c=>c.id))||[];return a.unshift(...l),a.push(...u),o.size>0?a.filter(c=>o.has(c)):a},mft=(r,e)=>{const t=to(r,"useGridCsvExport"),n=e.unstable_ignoreValueFormatterDuringExport,i=(typeof n=="object"?n==null?void 0:n.csvExport:n)||!1,o=_.useCallback((u={})=>{var c,d,h;t.debug("Get data as CSV");const p=yoe({apiRef:r,options:u}),v=((c=u.getRowsToExport)!=null?c:gft)({apiRef:r});return eft({columns:p,rowIds:v,delimiterCharacter:u.delimiter||",",includeHeaders:(d=u.includeHeaders)!=null?d:!0,includeColumnGroupsHeaders:(h=u.includeColumnGroupsHeaders)!=null?h:!0,ignoreValueFormatter:i,apiRef:r})},[t,r,i]),a=_.useCallback(u=>{t.debug("Export data as CSV");const c=o(u),d=new Blob([u!=null&&u.utf8WithBom?new Uint8Array([239,187,191]):"",c],{type:"text/csv"});vft(d,"csv",u==null?void 0:u.fileName)},[t,o]);cr(r,{getDataAsCsv:o,exportDataAsCsv:a},"public");const l=_.useCallback((u,c)=>{var d;return(d=c.csvOptions)!=null&&d.disableToolbarButton?u:[...u,{component:O.jsx(Wht,{options:c.csvOptions}),componentName:"csvExport"}]},[]);fi(r,"exportMenu",l)},_ft=(r,e)=>{var t,n;const i=b({},Kie(e.autoPageSize),(t=e.paginationModel)!=null?t:(n=e.initialState)==null||(n=n.pagination)==null?void 0:n.paginationModel);return qie(i.pageSize,e.signature),b({},r,{pagination:{paginationModel:i}})},Ab=(r,e,t)=>n=>{var i;let o=n.paginationModel;const a=(i=t==null?void 0:t.pageSize)!=null?i:o.pageSize,s=jie(r,a);t&&((t==null?void 0:t.page)!==o.page||(t==null?void 0:t.pageSize)!==o.pageSize)&&(o=t);const l=kct(o.page,s);return l!==o.page&&(o=b({},o,{page:l})),qie(o.pageSize,e),{paginationModel:o}},Cft=(r,e)=>{var t;const n=to(r,"useGridPagination"),i=ht(r,nT),o=ht(r,$v),a=Math.floor(e.rowHeight*o);r.current.registerControlState({stateId:"pagination",propModel:e.paginationModel,propOnChange:e.onPaginationModelChange,stateSelector:ts,changeEvent:"paginationModelChange"});const s=_.useCallback(v=>{const g=ts(r);v!==g.page&&(n.debug(`Setting page to ${v}`),r.current.setPaginationModel({page:v,pageSize:g.pageSize}))},[r,n]),l=_.useCallback(v=>{const g=ts(r);v!==g.pageSize&&(n.debug(`Setting page size to ${v}`),r.current.setPaginationModel({pageSize:v,page:g.page}))},[r,n]),u=_.useCallback(v=>{var g;const m=ts(r);v!==m&&(n.debug("Setting 'paginationModel' to",v),r.current.updateControlState("pagination",Ab((g=e.rowCount)!=null?g:i,e.signature,v),"setPaginationModel"),r.current.forceUpdate())},[r,n,e.rowCount,e.signature,i]);cr(r,{setPage:s,setPageSize:l,setPaginationModel:u},"public");const d=_.useCallback((v,g)=>{var m;const C=ts(r);return!g.exportOnlyDirtyModels||e.paginationModel!=null||((m=e.initialState)==null||(m=m.pagination)==null?void 0:m.paginationModel)!=null||C.page!==0&&C.pageSize!==Nct(e.autoPageSize)?b({},v,{pagination:b({},v.pagination,{paginationModel:C})}):v},[r,e.paginationModel,(t=e.initialState)==null||(t=t.pagination)==null?void 0:t.paginationModel,e.autoPageSize]),h=_.useCallback((v,g)=>{var m,C,y;const w=(m=g.stateToRestore.pagination)!=null&&m.paginationModel?b({},Kie(e.autoPageSize),(C=g.stateToRestore.pagination)==null?void 0:C.paginationModel):ts(r);return r.current.updateControlState("pagination",Ab((y=e.rowCount)!=null?y:i,e.signature,w),"stateRestorePreProcessing"),v},[r,e.autoPageSize,e.rowCount,e.signature,i]);fi(r,"exportState",d),fi(r,"restoreState",h);const p=()=>{var v;const g=ts(r);(v=r.current.virtualScrollerRef)!=null&&v.current&&r.current.scrollToIndexes({rowIndex:g.page*g.pageSize}),r.current.forceUpdate()},f=_.useCallback(()=>{const v=r.current.getRootDimensions();if(!e.autoPageSize||!v)return;const g=Pie(r),m=Math.floor((v.viewportInnerSize.height-g.top-g.bottom)/a);r.current.setPageSize(m)},[r,e.autoPageSize,a]);bt(r,"viewportInnerSizeChange",f),bt(r,"paginationModelChange",p),_.useEffect(()=>{},[e.rowCount,e.paginationMode]),_.useEffect(()=>{var v;r.current.updateControlState("pagination",Ab((v=e.rowCount)!=null?v:i,e.signature,e.paginationModel))},[r,e.paginationModel,e.rowCount,e.paginationMode,i,e.signature]),_.useEffect(()=>{f()},[f])};function yft(){return new Promise(r=>{requestAnimationFrame(()=>{r()})})}function Sft(r){const e=document.createElement("iframe");return e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.title=r||document.title,e}const wft=(r,e)=>{const t=to(r,"useGridPrintExport"),n=_.useRef(null),i=_.useRef(null),o=_.useRef({}),a=_.useRef([]);_.useEffect(()=>{n.current=An(r.current.rootElementRef.current)},[r]);const s=_.useCallback((f,v,g)=>new Promise(m=>{const C=yoe({apiRef:r,options:{fields:f,allColumns:v}}).map(T=>T.field),y=Ll(r),w={};y.forEach(T=>{w[T.field]=C.includes(T.field)}),g&&(w[Wv.field]=!0),r.current.setColumnVisibilityModel(w),m()}),[r]),l=_.useCallback(f=>{const g=f({apiRef:r}).map(m=>r.current.getRow(m));r.current.setRows(g)},[r]),u=_.useCallback((f,v)=>{var g,m;const C=b({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},v),y=f.contentDocument;if(!y)return;const w=fC(r.current.state),T=r.current.rootElementRef.current,S=T.cloneNode(!0),x=S.querySelector(`.${Q.main}`);x.style.overflow="visible",S.style.contain="size";const R=S.querySelector(`.${Q.columnHeaders}`).querySelector(`.${Q.columnHeadersInner}`);R.style.width="100%";let D=((g=T.querySelector(`.${Q.toolbarContainer}`))==null?void 0:g.offsetHeight)||0,A=((m=T.querySelector(`.${Q.footerContainer}`))==null?void 0:m.offsetHeight)||0;if(C.hideToolbar){var V;(V=S.querySelector(`.${Q.toolbarContainer}`))==null||V.remove(),D=0}if(C.hideFooter){var F;(F=S.querySelector(`.${Q.footerContainer}`))==null||F.remove(),A=0}const P=w.currentPageTotalHeight+LB(r,e.columnHeaderHeight)+D+A;if(S.style.height=`${P}px`,S.style.boxSizing="content-box",v!=null&&v.getRowsToExport){const G=S.querySelector(`.${Q.footerContainer}`);G.style.position="absolute",G.style.width="100%",G.style.top=`${P-A}px`}const M=document.createElement("div");M.appendChild(S),y.body.innerHTML=M.innerHTML;const N=typeof C.pageStyle=="function"?C.pageStyle():C.pageStyle;if(typeof N=="string"){const G=y.createElement("style");G.appendChild(y.createTextNode(N)),y.head.appendChild(G)}C.bodyClassName&&y.body.classList.add(...C.bodyClassName.split(" "));const H=[];if(C.copyStyles){const G=T.getRootNode(),j=(G.constructor.name==="ShadowRoot"?G:n.current).querySelectorAll("style, link[rel='stylesheet']");for(let q=0;q<j.length;q+=1){const K=j[q];if(K.tagName==="STYLE"){const ie=y.createElement(K.tagName),ee=K.sheet;if(ee){let te="";for(let de=0;de<ee.cssRules.length;de+=1)typeof ee.cssRules[de].cssText=="string"&&(te+=`${ee.cssRules[de].cssText}\r
`);ie.appendChild(y.createTextNode(te)),y.head.appendChild(ie)}}else if(K.getAttribute("href")){const ie=y.createElement(K.tagName);for(let ee=0;ee<K.attributes.length;ee+=1){const te=K.attributes[ee];te&&ie.setAttribute(te.nodeName,te.nodeValue||"")}H.push(new Promise(ee=>{ie.addEventListener("load",()=>ee())})),y.head.appendChild(ie)}}}Promise.all(H).then(()=>{f.contentWindow.print()})},[r,n,e.columnHeaderHeight]),c=_.useCallback(f=>{var v;n.current.body.removeChild(f),r.current.restoreState(i.current||{}),(v=i.current)!=null&&(v=v.columns)!=null&&v.columnVisibilityModel||r.current.setColumnVisibilityModel(o.current),r.current.unstable_setVirtualization(!0),r.current.setRows(a.current),i.current=null,o.current={},a.current=[]},[r]),h={exportDataAsPrint:_.useCallback(async f=>{if(t.debug("Export data as Print"),!r.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");i.current=r.current.exportState(),o.current=Gs(r);const v=vu(r);if(a.current=Nm(r).map(m=>v[m]),e.pagination){const m=Rie(r),C={page:0,pageSize:m};r.current.updateControlState("pagination",Ab(m,"DataGridPro",C)),r.current.forceUpdate()}await s(f==null?void 0:f.fields,f==null?void 0:f.allColumns,f==null?void 0:f.includeCheckboxes),f!=null&&f.getRowsToExport&&l(f.getRowsToExport),r.current.unstable_setVirtualization(!1),await yft();const g=Sft(f==null?void 0:f.fileName);g.onload=()=>{u(g,f),g.contentWindow.matchMedia("print").addEventListener("change",C=>{C.matches===!1&&c(g)})},n.current.body.appendChild(g)},[e,t,r,u,c,s,l])};cr(r,h,"public");const p=_.useCallback((f,v)=>{var g;return(g=v.printOptions)!=null&&g.disableToolbarButton?f:[...f,{component:O.jsx(zht,{options:v.printOptions}),componentName:"printExport"}]},[]);fi(r,"exportMenu",p)},bft=(r,e,t)=>{var n,i,o;const a=(n=(i=e.filterModel)!=null?i:(o=e.initialState)==null||(o=o.filter)==null?void 0:o.filterModel)!=null?n:hC();return b({},r,{filter:{filterModel:uoe(a,e.disableMultipleColumnsFiltering,t),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},Eft=r=>r.filteredRowsLookup;function H5(r,e){return r.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:e.rows.tree,filteredRowsLookup:e.filter.filteredRowsLookup})}function xft(){return ZI(Object.values)}const Ift=(r,e)=>{var t,n;const i=to(r,"useGridFilter");r.current.registerControlState({stateId:"filter",propModel:e.filterModel,propOnChange:e.onFilterModelChange,stateSelector:Fi,changeEvent:"filterModelChange"});const o=_.useCallback(()=>{r.current.setState(D=>{const A=Fi(D,r.current.instanceId),V=e.filterMode==="client"?hpt(A,r,e.disableEval):null,F=r.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:V,filterModel:A??hC()}),P=b({},D,{filter:b({},D.filter,F)}),M=H5(r,P);return b({},P,{visibleRowsLookup:M})}),r.current.publishEvent("filteredRowsSet")},[r,e.filterMode,e.disableEval]),a=_.useCallback((D,A)=>A==null||A.filterable===!1||e.disableColumnFilter?D:[...D,"columnMenuFilterItem"],[e.disableColumnFilter]),s=_.useCallback(()=>{o(),r.current.forceUpdate()},[r,o]),l=_.useCallback(D=>{const A=Fi(r),V=[...A.items],F=V.findIndex(P=>P.id===D.id);F===-1?V.push(D):V[F]=D,r.current.setFilterModel(b({},A,{items:V}),"upsertFilterItem")},[r]),u=_.useCallback(D=>{const A=Fi(r),V=[...A.items];D.forEach(F=>{const P=D.findIndex(M=>M.id===F.id);P===-1?V.push(F):V[P]=F}),r.current.setFilterModel(b({},A,{items:D}),"upsertFilterItems")},[r]),c=_.useCallback(D=>{const A=Fi(r),V=A.items.filter(F=>F.id!==D.id);V.length!==A.items.length&&r.current.setFilterModel(b({},A,{items:V}),"deleteFilterItem")},[r]),d=_.useCallback((D,A,V)=>{if(i.debug("Displaying filter panel"),D){const F=Fi(r),P=F.items.filter(G=>{var z;if(G.value!==void 0)return!(Array.isArray(G.value)&&G.value.length===0);const q=(z=r.current.getColumn(G.field).filterOperators)==null?void 0:z.find(ie=>ie.value===G.operator);return!(typeof(q==null?void 0:q.requiresFilterValue)>"u"?!0:q==null?void 0:q.requiresFilterValue)});let M;const N=P.find(G=>G.field===D),H=r.current.getColumn(D);N?M=P:e.disableMultipleColumnsFiltering?M=[wF({field:D,operator:H.filterOperators[0].value},r)]:M=[...P,wF({field:D,operator:H.filterOperators[0].value},r)],r.current.setFilterModel(b({},F,{items:M}))}r.current.showPreferences(ip.filters,A,V)},[r,i,e.disableMultipleColumnsFiltering]),h=_.useCallback(()=>{i.debug("Hiding filter panel"),r.current.hidePreferences()},[r,i]),p=_.useCallback(D=>{const A=Fi(r);A.logicOperator!==D&&r.current.setFilterModel(b({},A,{logicOperator:D}),"changeLogicOperator")},[r]),f=_.useCallback(D=>{const A=Fi(r);Mh(A.quickFilterValues,D)||r.current.setFilterModel(b({},A,{quickFilterValues:[...D]}))},[r]),v=_.useCallback((D,A)=>{Fi(r)!==D&&(i.debug("Setting filter model"),r.current.updateControlState("filter",R5(D,e.disableMultipleColumnsFiltering,r),A),r.current.unstable_applyFilters())},[r,i,e.disableMultipleColumnsFiltering]),g={setFilterLogicOperator:p,unstable_applyFilters:s,deleteFilterItem:c,upsertFilterItem:l,upsertFilterItems:u,setFilterModel:v,showFilterPanel:d,hideFilterPanel:h,setQuickFilterValues:f,ignoreDiacritics:e.ignoreDiacritics};cr(r,g,"public");const m=_.useCallback((D,A)=>{var V;const F=Fi(r);return!A.exportOnlyDirtyModels||e.filterModel!=null||((V=e.initialState)==null||(V=V.filter)==null?void 0:V.filterModel)!=null||!Mh(F,hC())?b({},D,{filter:{filterModel:F}}):D},[r,e.filterModel,(t=e.initialState)==null||(t=t.filter)==null?void 0:t.filterModel]),C=_.useCallback((D,A)=>{var V;const F=(V=A.stateToRestore.filter)==null?void 0:V.filterModel;return F==null?D:(r.current.updateControlState("filter",R5(F,e.disableMultipleColumnsFiltering,r),"restoreState"),b({},D,{callbacks:[...D.callbacks,r.current.unstable_applyFilters]}))},[r,e.disableMultipleColumnsFiltering]),y=_.useCallback((D,A)=>{if(A===ip.filters){var V;const F=e.slots.filterPanel;return O.jsx(F,b({},(V=e.slotProps)==null?void 0:V.filterPanel))}return D},[e.slots.filterPanel,(n=e.slotProps)==null?void 0:n.filterPanel]),{getRowId:w}=e,T=mB(xft),S=_.useCallback(D=>{if(e.filterMode!=="client"||!D.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const A=vu(r),V={},{isRowMatchingFilters:F}=D,P={},M={passingFilterItems:null,passingQuickFilterValues:null},N=T.current(r.current.state.rows.dataRowIdToModelLookup);for(let z=0;z<N.length;z+=1){const j=N[z],q=w?w(j):j.id;F(j,void 0,M);const K=fpt([M.passingFilterItems],[M.passingQuickFilterValues],D.filterModel,r,P);V[q]=K}const H="auto-generated-group-footer-root";return A[H]&&(V[H]=!0),{filteredRowsLookup:V,filteredDescendantCountLookup:{}}},[r,e.filterMode,w,T]);fi(r,"columnMenu",a),fi(r,"exportState",m),fi(r,"restoreState",C),fi(r,"preferencePanel",y),xx(r,op,"filtering",S),xx(r,op,"visibleRowsLookupCreation",Eft);const x=_.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const D=Fi(r),A=flt(r),V=D.items.filter(F=>F.field&&A[F.field]);V.length<D.items.length&&r.current.setFilterModel(b({},D,{items:V}))},[r,i]),I=_.useCallback(D=>{D==="filtering"&&r.current.unstable_applyFilters()},[r]),R=_.useCallback(()=>{r.current.setState(D=>b({},D,{visibleRowsLookup:H5(r,D)})),r.current.forceUpdate()},[r]);bt(r,"rowsSet",o),bt(r,"columnsChange",x),bt(r,"activeStrategyProcessorChange",I),bt(r,"rowExpansionChange",R),bt(r,"columnVisibilityModelChange",()=>{const D=Fi(r);D.quickFilterValues&&D.quickFilterExcludeHiddenColumns&&r.current.unstable_applyFilters()}),xy(()=>{r.current.unstable_applyFilters()}),sn(()=>{e.filterModel!==void 0&&r.current.setFilterModel(e.filterModel)},[r,i,e.filterModel])},Tft=r=>b({},r,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),Rft=(r,e)=>{const t=to(r,"useGridFocus"),n=_.useRef(null),i=_.useCallback((x,I)=>{x&&r.current.getRow(x.id)&&r.current.publishEvent("cellFocusOut",r.current.getCellParams(x.id,x.field),I)},[r]),o=_.useCallback((x,I)=>{const R=_a(r);(R==null?void 0:R.id)===x&&(R==null?void 0:R.field)===I||(r.current.setState(D=>(t.debug(`Focusing on cell with id=${x} and field=${I}`),b({},D,{tabIndex:{cell:{id:x,field:I},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:x,field:I},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),r.current.forceUpdate(),r.current.getRow(x)&&(R&&i(R,{}),r.current.publishEvent("cellFocusIn",r.current.getCellParams(x,I))))},[r,t,i]),a=_.useCallback((x,I={})=>{const R=_a(r);i(R,I),r.current.setState(D=>(t.debug(`Focusing on column header with colIndex=${x}`),b({},D,{tabIndex:{columnHeader:{field:x},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:x},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),r.current.forceUpdate()},[r,t,i]),s=_.useCallback((x,I={})=>{const R=_a(r);i(R,I),r.current.setState(D=>(t.debug(`Focusing on column header filter with colIndex=${x}`),b({},D,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:x},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:x},cell:null,columnGroupHeader:null}}))),r.current.forceUpdate()},[r,t,i]),l=_.useCallback((x,I,R={})=>{const D=_a(r);D&&r.current.publishEvent("cellFocusOut",r.current.getCellParams(D.id,D.field),R),r.current.setState(A=>b({},A,{tabIndex:{columnGroupHeader:{field:x,depth:I},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:x,depth:I},columnHeader:null,columnHeaderFilter:null,cell:null}})),r.current.forceUpdate()},[r]),u=_.useCallback(()=>gx(r),[r]),c=_.useCallback((x,I,R)=>{let D=r.current.getColumnIndex(I);const A=Bi(r),V=bx(r,{pagination:e.pagination,paginationMode:e.paginationMode}),F=Gv(r),P=[].concat(F.top||[],V.rows,F.bottom||[]);let M=P.findIndex(z=>z.id===x);R==="right"?D+=1:R==="left"?D-=1:M+=1,D>=A.length?(M+=1,M<P.length&&(D=0)):D<0&&(M-=1,M>=0&&(D=A.length-1)),M=Sv(M,0,P.length-1);const N=P[M];if(!N)return;const H=r.current.unstable_getCellColSpanInfo(N.id,D);H&&H.spannedByColSpan&&(R==="left"||R==="below"?D=H.leftVisibleCellIndex:R==="right"&&(D=H.rightVisibleCellIndex)),D=Sv(D,0,A.length-1);const G=A[D];r.current.setCellFocus(N.id,G.field)},[r,e.pagination,e.paginationMode]),d=_.useCallback(({id:x,field:I})=>{r.current.setCellFocus(x,I)},[r]),h=_.useCallback((x,I)=>{I.key==="Enter"||I.key==="Tab"||I.key==="Shift"||Sx(I.key)||r.current.setCellFocus(x.id,x.field)},[r]),p=_.useCallback(({field:x},I)=>{I.target===I.currentTarget&&r.current.setColumnHeaderFocus(x,I)},[r]),f=_.useCallback(({fields:x,depth:I},R)=>{if(R.target!==R.currentTarget)return;const D=gx(r);D!==null&&D.depth===I&&x.includes(D.field)||r.current.setColumnGroupHeaderFocus(x[0],I,R)},[r]),v=_.useCallback((x,I)=>{var R;(R=I.relatedTarget)!=null&&R.className.includes(Q.columnHeader)||(t.debug("Clearing focus"),r.current.setState(D=>b({},D,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[t,r]),g=_.useCallback(x=>{n.current=x},[]),m=_.useCallback(x=>{const I=n.current;n.current=null;const R=_a(r);if(!r.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:x,cell:I}))return;if(!R){I&&r.current.setCellFocus(I.id,I.field);return}if((I==null?void 0:I.id)===R.id&&(I==null?void 0:I.field)===R.field)return;const A=r.current.getCellElement(R.id,R.field);A!=null&&A.contains(x.target)||(I?r.current.setCellFocus(I.id,I.field):(r.current.setState(V=>b({},V,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),r.current.forceUpdate(),i(R,x)))},[r,i]),C=_.useCallback(x=>{if(x.cellMode==="view")return;const I=_a(r);((I==null?void 0:I.id)!==x.id||(I==null?void 0:I.field)!==x.field)&&r.current.setCellFocus(x.id,x.field)},[r]),y=_.useCallback(()=>{const x=_a(r);x&&!r.current.getRow(x.id)&&r.current.setState(I=>b({},I,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[r]),w=cn(()=>{const x=_a(r);if(!x)return;const I=bx(r,{pagination:e.pagination,paginationMode:e.paginationMode});if(I.rows.find(A=>A.id===x.id))return;const D=Bi(r);r.current.setState(A=>b({},A,{tabIndex:{cell:{id:I.rows[0].id,field:D[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),T={setCellFocus:o,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:s},S={moveFocusToRelativeCell:c,setColumnGroupHeaderFocus:l,getColumnGroupHeaderFocus:u};cr(r,T,"public"),cr(r,S,"private"),_.useEffect(()=>{const x=An(r.current.rootElementRef.current);return x.addEventListener("mouseup",m),()=>{x.removeEventListener("mouseup",m)}},[r,m]),bt(r,"columnHeaderBlur",v),bt(r,"cellDoubleClick",d),bt(r,"cellMouseDown",g),bt(r,"cellKeyDown",h),bt(r,"cellModeChange",C),bt(r,"columnHeaderFocus",p),bt(r,"columnGroupHeaderFocus",f),bt(r,"rowsSet",y),bt(r,"paginationModelChange",w)};function Oft(r,e){const t=Gv(r)||{};return[...t.top||[],...e,...t.bottom||[]]}const DA=({currentColIndex:r,firstColIndex:e,lastColIndex:t,direction:n})=>{if(n==="rtl"){if(r<t)return r+1}else if(n==="ltr"&&r>e)return r-1;return null},AA=({currentColIndex:r,firstColIndex:e,lastColIndex:t,direction:n})=>{if(n==="rtl"){if(r>e)return r-1}else if(n==="ltr"&&r<t)return r+1;return null},Dft=(r,e)=>{const t=to(r,"useGridKeyboardNavigation"),n=xp(r,e).rows,i=Xu(),o=_.useMemo(()=>Oft(r,n),[r,n]),a=e.signature!=="DataGrid"&&e.unstable_headerFilters,s=_.useCallback((m,C,y="left")=>{const w=bd(r),T=r.current.unstable_getCellColSpanInfo(C,m);T&&T.spannedByColSpan&&(y==="left"?m=T.leftVisibleCellIndex:y==="right"&&(m=T.rightVisibleCellIndex));const S=w.findIndex(I=>I.id===C);t.debug(`Navigating to cell row ${S}, col ${m}`),r.current.scrollToIndexes({colIndex:m,rowIndex:S});const x=r.current.getVisibleColumns()[m].field;r.current.setCellFocus(C,x)},[r,t]),l=_.useCallback((m,C)=>{t.debug(`Navigating to header col ${m}`),r.current.scrollToIndexes({colIndex:m});const y=r.current.getVisibleColumns()[m].field;r.current.setColumnHeaderFocus(y,C)},[r,t]),u=_.useCallback((m,C)=>{t.debug(`Navigating to header filter col ${m}`),r.current.scrollToIndexes({colIndex:m});const y=r.current.getVisibleColumns()[m].field;r.current.setColumnHeaderFilterFocus(y,C)},[r,t]),c=_.useCallback((m,C,y)=>{t.debug(`Navigating to header col ${m}`),r.current.scrollToIndexes({colIndex:m});const{field:w}=r.current.getVisibleColumns()[m];r.current.setColumnGroupHeaderFocus(w,C,y)},[r,t]),d=_.useCallback(m=>{var C;return(C=o[m])==null?void 0:C.id},[o]),h=_.useCallback((m,C)=>{const y=C.currentTarget.querySelector(`.${Q.columnHeaderTitleContainerContent}`);if(!!y&&y.contains(C.target)&&m.field!==Wv.field||!r.current.getRootDimensions())return;const S=r.current.getViewportPageSize(),x=m.field?r.current.getColumnIndex(m.field):0,I=o.length>0?0:null,R=o.length-1,D=0,A=Bi(r).length-1,V=by(r);let F=!0;switch(C.key){case"ArrowDown":{I!==null&&(a?u(x,C):s(x,d(I)));break}case"ArrowRight":{const P=AA({currentColIndex:x,firstColIndex:D,lastColIndex:A,direction:i.direction});P!==null&&l(P,C);break}case"ArrowLeft":{const P=DA({currentColIndex:x,firstColIndex:D,lastColIndex:A,direction:i.direction});P!==null&&l(P,C);break}case"ArrowUp":{V>0&&c(x,V-1,C);break}case"PageDown":{I!==null&&R!==null&&s(x,d(Math.min(I+S,R)));break}case"Home":{l(D,C);break}case"End":{l(A,C);break}case"Enter":{(C.ctrlKey||C.metaKey)&&r.current.toggleColumnMenu(m.field);break}case" ":break;default:F=!1}F&&C.preventDefault()},[r,o.length,a,u,s,d,i.direction,l,c]),p=_.useCallback((m,C)=>{if(!r.current.getRootDimensions())return;const w=Xct(r)===m.field,T=Qct(r)===m.field;if(w||T||!Sx(C.key))return;const S=r.current.getViewportPageSize(),x=m.field?r.current.getColumnIndex(m.field):0,I=0,R=o.length-1,D=0,A=Bi(r).length-1;let V=!0;switch(C.key){case"ArrowDown":{const F=d(I);F!=null&&s(x,F);break}case"ArrowRight":{const F=AA({currentColIndex:x,firstColIndex:D,lastColIndex:A,direction:i.direction});F!==null&&u(F,C);break}case"ArrowLeft":{const F=DA({currentColIndex:x,firstColIndex:D,lastColIndex:A,direction:i.direction});F!==null?u(F,C):r.current.setColumnHeaderFilterFocus(m.field,C);break}case"ArrowUp":{l(x,C);break}case"PageDown":{R!==null&&s(x,d(Math.min(I+S,R)));break}case"Home":{u(D,C);break}case"End":{u(A,C);break}case" ":break;default:V=!1}V&&C.preventDefault()},[r,o.length,u,i.direction,l,s,d]),f=_.useCallback((m,C)=>{if(!r.current.getRootDimensions())return;const w=gx(r);if(w===null)return;const{field:T,depth:S}=w,{fields:x,depth:I,maxDepth:R}=m,D=r.current.getViewportPageSize(),A=r.current.getColumnIndex(T),V=T?r.current.getColumnIndex(T):0,F=0,P=o.length-1,M=0,N=Bi(r).length-1;let H=!0;switch(C.key){case"ArrowDown":{I===R-1?l(A,C):c(A,S+1,C);break}case"ArrowUp":{I>0&&c(A,S-1,C);break}case"ArrowRight":{const G=x.length-x.indexOf(T)-1;A+G+1<=N&&c(A+G+1,S,C);break}case"ArrowLeft":{const G=x.indexOf(T);A-G-1>=M&&c(A-G-1,S,C);break}case"PageDown":{P!==null&&s(V,d(Math.min(F+D,P)));break}case"Home":{c(M,S,C);break}case"End":{c(N,S,C);break}case" ":break;default:H=!1}H&&C.preventDefault()},[r,o.length,l,c,s,d]),v=_.useCallback((m,C)=>{if(Ey(C))return;const y=r.current.getCellParams(m.id,m.field);if(y.cellMode===Qr.Edit||!Sx(C.key)||!r.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:C,cell:y}))return;const T=r.current.getRootDimensions();if(o.length===0||!T)return;const S=i.direction,x=r.current.getViewportPageSize(),I=m.field?r.current.getColumnIndex(m.field):0,R=o.findIndex(M=>M.id===m.id),D=0,A=o.length-1,V=0,F=Bi(r).length-1;let P=!0;switch(C.key){case"ArrowDown":{R<A&&s(I,d(R+1));break}case"ArrowUp":{R>D?s(I,d(R-1)):a?u(I,C):l(I,C);break}case"ArrowRight":{const M=AA({currentColIndex:I,firstColIndex:V,lastColIndex:F,direction:S});M!==null&&s(M,d(R),S==="rtl"?"left":"right");break}case"ArrowLeft":{const M=DA({currentColIndex:I,firstColIndex:V,lastColIndex:F,direction:S});M!==null&&s(M,d(R),S==="rtl"?"right":"left");break}case"Tab":{C.shiftKey&&I>V?s(I-1,d(R),"left"):!C.shiftKey&&I<F&&s(I+1,d(R),"right");break}case" ":{if(m.field===PB)break;const N=m.colDef;if(N&&N.type==="treeDataGroup")break;!C.shiftKey&&R<A&&s(I,d(Math.min(R+x,A)));break}case"PageDown":{R<A&&s(I,d(Math.min(R+x,A)));break}case"PageUp":{const M=Math.max(R-x,D);M!==R&&M>=D?s(I,d(M)):l(I,C);break}case"Home":{C.ctrlKey||C.metaKey||C.shiftKey?s(V,d(D)):s(V,d(R));break}case"End":{C.ctrlKey||C.metaKey||C.shiftKey?s(F,d(A)):s(F,d(R));break}default:P=!1}P&&C.preventDefault()},[r,o,i.direction,s,d,a,u,l]),g=_.useCallback((m,{event:C})=>C.key===" "?!1:m,[]);fi(r,"canStartEditing",g),bt(r,"columnHeaderKeyDown",h),bt(r,"headerFilterKeyDown",p),bt(r,"columnGroupHeaderKeyDown",f),bt(r,"cellKeyDown",v)},Aft=(r,e)=>{var t,n;return b({},r,{preferencePanel:(t=(n=e.initialState)==null?void 0:n.preferencePanel)!=null?t:{open:!1}})},Pft=(r,e)=>{var t;const n=to(r,"useGridPreferencesPanel"),i=_.useRef(),o=_.useRef(),a=_.useCallback(()=>{n.debug("Hiding Preferences Panel");const h=pC(r.current.state);h.openedPanelValue&&r.current.publishEvent("preferencePanelClose",{openedPanelValue:h.openedPanelValue}),r.current.setState(p=>b({},p,{preferencePanel:{open:!1}})),r.current.forceUpdate()},[r,n]),s=_.useCallback(()=>{o.current=setTimeout(()=>clearTimeout(i.current),0)},[]),l=_.useCallback(()=>{i.current=setTimeout(a,100)},[a]),u=_.useCallback((h,p,f)=>{n.debug("Opening Preferences Panel"),s(),r.current.setState(v=>b({},v,{preferencePanel:b({},v.preferencePanel,{open:!0,openedPanelValue:h,panelId:p,labelId:f})})),r.current.publishEvent("preferencePanelOpen",{openedPanelValue:h}),r.current.forceUpdate()},[n,s,r]);cr(r,{showPreferences:u,hidePreferences:l},"public");const c=_.useCallback((h,p)=>{var f;const v=pC(r.current.state);return!p.exportOnlyDirtyModels||((f=e.initialState)==null?void 0:f.preferencePanel)!=null||v.open?b({},h,{preferencePanel:v}):h},[r,(t=e.initialState)==null?void 0:t.preferencePanel]),d=_.useCallback((h,p)=>{const f=p.stateToRestore.preferencePanel;return f!=null&&r.current.setState(v=>b({},v,{preferencePanel:f})),h},[r]);fi(r,"exportState",c),fi(r,"restoreState",d),_.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(o.current)},[])},Mft=["id","field"],Fft=["id","field"],Lft=Yl(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),Nft=(r,e)=>{const[t,n]=_.useState({}),i=_.useRef(t),o=_.useRef({}),{processRowUpdate:a,onProcessRowUpdateError:s,cellModesModel:l,onCellModesModelChange:u}=e,c=P=>(...M)=>{e.editMode===Wl.Cell&&P(...M)},d=_.useCallback((P,M)=>{const N=r.current.getCellParams(P,M);if(!r.current.isCellEditable(N))throw new Error(`MUI: The cell with id=${P} and field=${M} is not editable.`)},[r]),h=_.useCallback((P,M,N)=>{if(r.current.getCellMode(P,M)!==N)throw new Error(`MUI: The cell with id=${P} and field=${M} is not in ${N} mode.`)},[r]),p=_.useCallback((P,M)=>{if(!P.isEditable||P.cellMode===Qr.Edit)return;const N=b({},P,{reason:su.cellDoubleClick});r.current.publishEvent("cellEditStart",N,M)},[r]),f=_.useCallback((P,M)=>{if(P.cellMode===Qr.View||r.current.getCellMode(P.id,P.field)===Qr.View)return;const N=b({},P,{reason:Ms.cellFocusOut});r.current.publishEvent("cellEditStop",N,M)},[r]),v=_.useCallback((P,M)=>{if(P.cellMode===Qr.Edit){if(M.which===229)return;let N;if(M.key==="Escape"?N=Ms.escapeKeyDown:M.key==="Enter"?N=Ms.enterKeyDown:M.key==="Tab"&&(N=M.shiftKey?Ms.shiftTabKeyDown:Ms.tabKeyDown,M.preventDefault()),N){const H=b({},P,{reason:N});r.current.publishEvent("cellEditStop",H,M)}}else if(P.isEditable){let N;if(!r.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:M,cellParams:P,editMode:"cell"}))return;if(Bie(M)?N=su.printableKeyDown:(M.ctrlKey||M.metaKey)&&M.key==="v"?N=su.pasteKeyDown:M.key==="Enter"?N=su.enterKeyDown:(M.key==="Delete"||M.key==="Backspace")&&(N=su.deleteKeyDown),N){const G=b({},P,{reason:N,key:M.key});r.current.publishEvent("cellEditStart",G,M)}}},[r]),g=_.useCallback(P=>{const{id:M,field:N,reason:H}=P,G={id:M,field:N};(H===su.printableKeyDown||H===su.deleteKeyDown||H===su.pasteKeyDown)&&(G.deleteValue=!0),r.current.startCellEditMode(G)},[r]),m=_.useCallback(P=>{const{id:M,field:N,reason:H}=P;r.current.runPendingEditCellValueMutation(M,N);let G;H===Ms.enterKeyDown?G="below":H===Ms.tabKeyDown?G="right":H===Ms.shiftTabKeyDown&&(G="left");const z=H==="escapeKeyDown";r.current.stopCellEditMode({id:M,field:N,ignoreModifications:z,cellToFocusAfter:G})},[r]);bt(r,"cellDoubleClick",c(p)),bt(r,"cellFocusOut",c(f)),bt(r,"cellKeyDown",c(v)),bt(r,"cellEditStart",c(g)),bt(r,"cellEditStop",c(m)),Cn(r,"cellEditStart",e.onCellEditStart),Cn(r,"cellEditStop",e.onCellEditStop);const C=_.useCallback((P,M)=>{const N=so(r.current.state);return N[P]&&N[P][M]?Qr.Edit:Qr.View},[r]),y=cn(P=>{const M=P!==e.cellModesModel;u&&M&&u(P,{}),!(e.cellModesModel&&M)&&(n(P),i.current=P,r.current.publishEvent("cellModesModelChange",P))}),w=_.useCallback((P,M,N)=>{const H=b({},i.current);if(N!==null)H[P]=b({},H[P],{[M]:b({},N)});else{const G=H[P],z=se(G,[M].map(aC));H[P]=z,Object.keys(H[P]).length===0&&delete H[P]}y(H)},[y]),T=_.useCallback((P,M,N)=>{r.current.setState(H=>{const G=b({},H.editRows);return N!==null?G[P]=b({},G[P],{[M]:b({},N)}):(delete G[P][M],Object.keys(G[P]).length===0&&delete G[P]),b({},H,{editRows:G})}),r.current.forceUpdate()},[r]),S=_.useCallback(P=>{const{id:M,field:N}=P,H=se(P,Mft);d(M,N),h(M,N,Qr.View),w(M,N,b({mode:Qr.Edit},H))},[d,h,w]),x=cn(P=>{const{id:M,field:N,deleteValue:H,initialValue:G}=P;let z=r.current.getCellValue(M,N);(H||G)&&(z=H?"":G),T(M,N,{value:z,error:!1,isProcessingProps:!1}),r.current.setCellFocus(M,N)}),I=_.useCallback(P=>{const{id:M,field:N}=P,H=se(P,Fft);h(M,N,Qr.Edit),w(M,N,b({mode:Qr.View},H))},[h,w]),R=cn(async P=>{const{id:M,field:N,ignoreModifications:H,cellToFocusAfter:G="none"}=P;h(M,N,Qr.Edit),r.current.runPendingEditCellValueMutation(M,N);const z=()=>{T(M,N,null),w(M,N,null),G!=="none"&&r.current.moveFocusToRelativeCell(M,N,G)};if(H){z();return}const j=so(r.current.state),{error:q,isProcessingProps:K}=j[M][N];if(q||K){o.current[M][N].mode=Qr.Edit,w(M,N,{mode:Qr.Edit});return}const ie=r.current.getRowWithUpdatedValuesFromCellEditing(M,N);if(a){const ee=te=>{o.current[M][N].mode=Qr.Edit,w(M,N,{mode:Qr.Edit}),s?s(te):Lft()};try{const te=r.current.getRow(M);Promise.resolve(a(ie,te)).then(de=>{r.current.updateRows([de]),z()}).catch(ee)}catch(te){ee(te)}}else r.current.updateRows([ie]),z()}),D=_.useCallback(async P=>{var M;const{id:N,field:H,value:G,debounceMs:z,unstable_skipValueParser:j}=P;d(N,H),h(N,H,Qr.Edit);const q=r.current.getColumn(H),K=r.current.getRow(N);let ie=G;q.valueParser&&!j&&(ie=q.valueParser(G,r.current.getCellParams(N,H)));let ee=so(r.current.state),te=b({},ee[N][H],{value:ie,changeReason:z?"debouncedSetEditCellValue":"setEditCellValue"});if(q.preProcessEditCellProps){const de=G!==ee[N][H].value;te=b({},te,{isProcessingProps:!0}),T(N,H,te),te=await Promise.resolve(q.preProcessEditCellProps({id:N,row:K,props:te,hasChanged:de}))}return r.current.getCellMode(N,H)===Qr.View?!1:(ee=so(r.current.state),te=b({},te,{isProcessingProps:!1}),te.value=q.preProcessEditCellProps?ee[N][H].value:ie,T(N,H,te),ee=so(r.current.state),!((M=ee[N])!=null&&(M=M[H])!=null&&M.error))},[r,d,h,T]),A=_.useCallback((P,M)=>{const N=r.current.getColumn(M),H=so(r.current.state),G=r.current.getRow(P);if(!H[P]||!H[P][M])return r.current.getRow(P);const{value:z}=H[P][M];return N.valueSetter?N.valueSetter({value:z,row:G}):b({},G,{[M]:z})},[r]),V={getCellMode:C,startCellEditMode:S,stopCellEditMode:I},F={setCellEditingEditCellValue:D,getRowWithUpdatedValuesFromCellEditing:A};cr(r,V,"public"),cr(r,F,"private"),_.useEffect(()=>{l&&y(l)},[l,y]),sn(()=>{const P=vx(r),M=o.current;o.current=Uie(t),Object.entries(t).forEach(([N,H])=>{Object.entries(H).forEach(([G,z])=>{var j,q;const K=((j=M[N])==null||(j=j[G])==null?void 0:j.mode)||Qr.View,ie=(q=P[N])!=null?q:N;z.mode===Qr.Edit&&K===Qr.View?x(b({id:ie,field:G},z)):z.mode===Qr.View&&K===Qr.Edit&&R(b({id:ie,field:G},z))})})},[r,t,x,R])},kft=["id"],Vft=["id"],Bft=Yl(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),Hft=(r,e)=>{const[t,n]=_.useState({}),i=_.useRef(t),o=_.useRef({}),a=_.useRef(null),s=_.useRef(null),{processRowUpdate:l,onProcessRowUpdateError:u,rowModesModel:c,onRowModesModelChange:d}=e,h=G=>(...z)=>{e.editMode===Wl.Row&&G(...z)},p=_.useCallback((G,z)=>{const j=r.current.getCellParams(G,z);if(!r.current.isCellEditable(j))throw new Error(`MUI: The cell with id=${G} and field=${z} is not editable.`)},[r]),f=_.useCallback((G,z)=>{if(r.current.getRowMode(G)!==z)throw new Error(`MUI: The row with id=${G} is not in ${z} mode.`)},[r]),v=_.useCallback((G,z)=>{if(!G.isEditable||r.current.getRowMode(G.id)===pn.Edit)return;const j=r.current.getRowParams(G.id),q=b({},j,{field:G.field,reason:Sc.cellDoubleClick});r.current.publishEvent("rowEditStart",q,z)},[r]),g=_.useCallback(G=>{s.current=G},[]),m=_.useCallback((G,z)=>{G.isEditable&&r.current.getRowMode(G.id)!==pn.View&&(s.current=null,a.current=setTimeout(()=>{var j;if(a.current=null,((j=s.current)==null?void 0:j.id)!==G.id){if(!r.current.getRow(G.id)||r.current.getRowMode(G.id)===pn.View)return;const q=r.current.getRowParams(G.id),K=b({},q,{field:G.field,reason:lu.rowFocusOut});r.current.publishEvent("rowEditStop",K,z)}}))},[r]);_.useEffect(()=>()=>{clearTimeout(a.current)},[]);const C=_.useCallback((G,z)=>{if(G.cellMode===pn.Edit){if(z.which===229)return;let j;if(z.key==="Escape")j=lu.escapeKeyDown;else if(z.key==="Enter")j=lu.enterKeyDown;else if(z.key==="Tab"){const q=JI(r).filter(K=>r.current.getColumn(K).type===sT?!0:r.current.isCellEditable(r.current.getCellParams(G.id,K)));if(z.shiftKey?G.field===q[0]&&(j=lu.shiftTabKeyDown):G.field===q[q.length-1]&&(j=lu.tabKeyDown),z.preventDefault(),!j){const K=q.findIndex(ee=>ee===G.field),ie=q[z.shiftKey?K-1:K+1];r.current.setCellFocus(G.id,ie)}}if(j){const q=b({},r.current.getRowParams(G.id),{reason:j,field:G.field});r.current.publishEvent("rowEditStop",q,z)}}else if(G.isEditable){let j;if(!r.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:z,cellParams:G,editMode:"row"}))return;if(Bie(z)||(z.ctrlKey||z.metaKey)&&z.key==="v"?j=Sc.printableKeyDown:z.key==="Enter"?j=Sc.enterKeyDown:(z.key==="Delete"||z.key==="Backspace")&&(j=Sc.deleteKeyDown),j){const K=r.current.getRowParams(G.id),ie=b({},K,{field:G.field,reason:j});r.current.publishEvent("rowEditStart",ie,z)}}},[r]),y=_.useCallback(G=>{const{id:z,field:j,reason:q}=G,K={id:z,fieldToFocus:j};(q===Sc.printableKeyDown||q===Sc.deleteKeyDown)&&(K.deleteValue=!!j),r.current.startRowEditMode(K)},[r]),w=_.useCallback(G=>{const{id:z,reason:j,field:q}=G;r.current.runPendingEditCellValueMutation(z);let K;j===lu.enterKeyDown?K="below":j===lu.tabKeyDown?K="right":j===lu.shiftTabKeyDown&&(K="left");const ie=j==="escapeKeyDown";r.current.stopRowEditMode({id:z,ignoreModifications:ie,field:q,cellToFocusAfter:K})},[r]);bt(r,"cellDoubleClick",h(v)),bt(r,"cellFocusIn",h(g)),bt(r,"cellFocusOut",h(m)),bt(r,"cellKeyDown",h(C)),bt(r,"rowEditStart",h(y)),bt(r,"rowEditStop",h(w)),Cn(r,"rowEditStart",e.onRowEditStart),Cn(r,"rowEditStop",e.onRowEditStop);const T=_.useCallback(G=>{if(e.editMode===Wl.Cell)return pn.View;const z=so(r.current.state);return z[G]&&Object.keys(z[G]).length>0?pn.Edit:pn.View},[r,e.editMode]),S=cn(G=>{const z=G!==e.rowModesModel;d&&z&&d(G,{}),!(e.rowModesModel&&z)&&(n(G),i.current=G,r.current.publishEvent("rowModesModelChange",G))}),x=_.useCallback((G,z)=>{const j=b({},i.current);z!==null?j[G]=b({},z):delete j[G],S(j)},[S]),I=_.useCallback((G,z)=>{r.current.setState(j=>{const q=b({},j.editRows);return z!==null?q[G]=z:delete q[G],b({},j,{editRows:q})}),r.current.forceUpdate()},[r]),R=_.useCallback((G,z,j)=>{r.current.setState(q=>{const K=b({},q.editRows);return j!==null?K[G]=b({},K[G],{[z]:b({},j)}):(delete K[G][z],Object.keys(K[G]).length===0&&delete K[G]),b({},q,{editRows:K})}),r.current.forceUpdate()},[r]),D=_.useCallback(G=>{const{id:z}=G,j=se(G,kft);f(z,pn.View),x(z,b({mode:pn.Edit},j))},[f,x]),A=cn(G=>{const{id:z,fieldToFocus:j,deleteValue:q,initialValue:K}=G,ee=Iu(r).reduce((te,de)=>{if(!r.current.getCellParams(z,de).isEditable)return te;let Me=r.current.getCellValue(z,de);return j===de&&(q||K)&&(Me=q?"":K),te[de]={value:Me,error:!1,isProcessingProps:!1},te},{});I(z,ee),j&&r.current.setCellFocus(z,j)}),V=_.useCallback(G=>{const{id:z}=G,j=se(G,Vft);f(z,pn.Edit),x(z,b({mode:pn.View},j))},[f,x]),F=cn(G=>{const{id:z,ignoreModifications:j,field:q,cellToFocusAfter:K="none"}=G;r.current.runPendingEditCellValueMutation(z);const ie=()=>{K!=="none"&&q&&r.current.moveFocusToRelativeCell(z,q,K),I(z,null),x(z,null)};if(j){ie();return}const ee=so(r.current.state),te=r.current.getRow(z);if(Object.values(ee[z]).some(De=>De.isProcessingProps)){o.current[z].mode=pn.Edit;return}if(Object.values(ee[z]).some(De=>De.error)){o.current[z].mode=pn.Edit,x(z,{mode:pn.Edit});return}const Me=r.current.getRowWithUpdatedValuesFromRowEditing(z);if(l){const De=ze=>{o.current[z].mode=pn.Edit,x(z,{mode:pn.Edit}),u?u(ze):Bft()};try{Promise.resolve(l(Me,te)).then(ze=>{r.current.updateRows([ze]),ie()}).catch(De)}catch(ze){De(ze)}}else r.current.updateRows([Me]),ie()}),P=_.useCallback(G=>{const{id:z,field:j,value:q,debounceMs:K,unstable_skipValueParser:ie}=G;p(z,j);const ee=r.current.getColumn(j),te=r.current.getRow(z);let de=q;ee.valueParser&&!ie&&(de=ee.valueParser(q,r.current.getCellParams(z,j)));let Se=so(r.current.state),Me=b({},Se[z][j],{value:de,changeReason:K?"debouncedSetEditCellValue":"setEditCellValue"});return ee.preProcessEditCellProps||R(z,j,Me),new Promise(De=>{const ze=[];if(ee.preProcessEditCellProps){const he=Me.value!==Se[z][j].value;Me=b({},Me,{isProcessingProps:!0}),R(z,j,Me);const ke=Se[z],Oe=se(ke,[j].map(aC)),je=Promise.resolve(ee.preProcessEditCellProps({id:z,row:te,props:Me,hasChanged:he,otherFieldsProps:Oe})).then(xe=>{if(r.current.getRowMode(z)===pn.View){De(!1);return}Se=so(r.current.state),xe=b({},xe,{isProcessingProps:!1}),xe.value=ee.preProcessEditCellProps?Se[z][j].value:de,R(z,j,xe)});ze.push(je)}Object.entries(Se[z]).forEach(([he,ke])=>{if(he===j)return;const Oe=r.current.getColumn(he);if(!Oe.preProcessEditCellProps)return;ke=b({},ke,{isProcessingProps:!0}),R(z,he,ke),Se=so(r.current.state);const je=Se[z],xe=se(je,[he].map(aC)),ae=Promise.resolve(Oe.preProcessEditCellProps({id:z,row:te,props:ke,hasChanged:!1,otherFieldsProps:xe})).then(Ie=>{if(r.current.getRowMode(z)===pn.View){De(!1);return}Ie=b({},Ie,{isProcessingProps:!1}),R(z,he,Ie)});ze.push(ae)}),Promise.all(ze).then(()=>{r.current.getRowMode(z)===pn.Edit?(Se=so(r.current.state),De(!Se[z][j].error)):De(!1)})})},[r,p,R]),M=_.useCallback(G=>{const z=so(r.current.state),j=r.current.getRow(G);if(!z[G])return r.current.getRow(G);let q=b({},j);return Object.entries(z[G]).forEach(([K,ie])=>{const ee=r.current.getColumn(K);ee.valueSetter?q=ee.valueSetter({value:ie.value,row:q}):q[K]=ie.value}),q},[r]),N={getRowMode:T,startRowEditMode:D,stopRowEditMode:V},H={setRowEditingEditCellValue:P,getRowWithUpdatedValuesFromRowEditing:M};cr(r,N,"public"),cr(r,H,"private"),_.useEffect(()=>{c&&S(c)},[c,S]),sn(()=>{const G=vx(r),z=o.current;o.current=Uie(t),Object.entries(t).forEach(([j,q])=>{var K,ie;const ee=((K=z[j])==null?void 0:K.mode)||pn.View,te=(ie=G[j])!=null?ie:j;q.mode===pn.Edit&&ee===pn.View?A(b({id:te},q)):q.mode===pn.View&&ee===pn.Edit&&F(b({id:te},q))})},[r,t,A,F])},Gft=r=>b({},r,{editRows:{}}),$ft=(r,e)=>{Nft(r,e),Hft(r,e);const t=_.useRef({}),{isCellEditable:n}=e,i=_.useCallback(h=>dC(h.rowNode)||!h.colDef.editable||!h.colDef.renderEditCell?!1:n?n(h):!0,[n]),o=(h,p,f,v)=>{if(!f){v();return}if(t.current[h]||(t.current[h]={}),t.current[h][p]){const[C]=t.current[h][p];clearTimeout(C)}const g=()=>{const[C]=t.current[h][p];clearTimeout(C),v(),delete t.current[h][p]},m=setTimeout(()=>{v(),delete t.current[h][p]},f);t.current[h][p]=[m,g]};_.useEffect(()=>{const h=t.current;return()=>{Object.entries(h).forEach(([p,f])=>{Object.keys(f).forEach(v=>{const[g]=h[p][v];clearTimeout(g),delete h[p][v]})})}},[]);const a=_.useCallback((h,p)=>{if(t.current[h]){if(!p)Object.keys(t.current[h]).forEach(f=>{const[,v]=t.current[h][f];v()});else if(t.current[h][p]){const[,f]=t.current[h][p];f()}}},[]),s=_.useCallback(h=>{const{id:p,field:f,debounceMs:v}=h;return new Promise(g=>{o(p,f,v,async()=>{const m=e.editMode===Wl.Row?r.current.setRowEditingEditCellValue:r.current.setCellEditingEditCellValue;if(r.current.getCellMode(p,f)===Qr.Edit){const C=await m(h);g(C)}})})},[r,e.editMode]),l=_.useCallback((h,p)=>e.editMode===Wl.Cell?r.current.getRowWithUpdatedValuesFromCellEditing(h,p):r.current.getRowWithUpdatedValuesFromRowEditing(h),[r,e.editMode]),u=_.useCallback((h,p)=>{var f,v;return(f=(v=so(r.current.state)[h])==null?void 0:v[p])!=null?f:null},[r]),c={isCellEditable:i,setEditCellValue:s,getRowWithUpdatedValues:l,unstable_getEditCellMeta:u},d={runPendingEditCellValueMutation:a};cr(r,c,"public"),cr(r,d,"private")},Wft=(r,e,t)=>(t.current.caches.rows=Ob({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),b({},r,{rows:Aie({apiRef:t,rowCountProp:e.rowCount,loadingProp:e.loading,previousTree:null,previousTreeDepths:null})})),zft=(r,e)=>{const t=to(r,"useGridRows"),n=xp(r,e),i=_.useRef(Date.now()),o=AB(),a=_.useCallback(F=>{const P=vu(r)[F];if(P)return P;const M=r.current.getRowNode(F);return M&&dC(M)?{[Xf]:F}:null},[r]),s=e.getRowId,l=_.useCallback(F=>Xf in F?F[Xf]:s?s(F):F.id,[s]),u=_.useMemo(()=>n.rows.reduce((F,{id:P},M)=>(F[P]=M,F),{}),[n.rows]),c=_.useCallback(({cache:F,throttle:P})=>{const M=()=>{i.current=Date.now(),r.current.setState(H=>b({},H,{rows:Aie({apiRef:r,rowCountProp:e.rowCount,loadingProp:e.loading,previousTree:Vs(r),previousTreeDepths:d5(r)})})),r.current.publishEvent("rowsSet"),r.current.forceUpdate()};if(o.clear(),r.current.caches.rows=F,!P){M();return}const N=e.throttleRowsMs-(Date.now()-i.current);if(N>0){o.start(N,M);return}M()},[e.throttleRowsMs,e.rowCount,e.loading,r,o]),d=_.useCallback(F=>{t.debug(`Updating all rows, new length ${F.length}`);const P=Ob({rows:F,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),M=r.current.caches.rows;P.rowsBeforePartialUpdates=M.rowsBeforePartialUpdates,c({cache:P,throttle:!0})},[t,e.getRowId,e.loading,e.rowCount,c,r]),h=_.useCallback(F=>{if(e.signature===Nl.DataGrid&&F.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const P=[];F.forEach(N=>{const H=_x(N,e.getRowId,"A row was provided without id when calling updateRows():"),G=r.current.getRowNode(H);if((G==null?void 0:G.type)==="pinnedRow"){const z=r.current.caches.pinnedRows,j=z.idLookup[H];j&&(z.idLookup[H]=b({},j,N))}else P.push(N)});const M=Vlt({updates:P,getRowId:e.getRowId,previousCache:r.current.caches.rows});c({cache:M,throttle:!0})},[e.signature,e.getRowId,c,r]),p=_.useCallback(()=>{const F=Nm(r),P=vu(r);return new Map(F.map(M=>{var N;return[M,(N=P[M])!=null?N:{}]}))},[r]),f=_.useCallback(()=>tT(r),[r]),v=_.useCallback(()=>Nm(r),[r]),g=_.useCallback(F=>u[F],[u]),m=_.useCallback((F,P)=>{const M=r.current.getRowNode(F);if(!M)throw new Error(`MUI: No row with id #${F} found`);if(M.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const N=b({},M,{childrenExpanded:P});r.current.setState(H=>b({},H,{rows:b({},H.rows,{tree:b({},H.rows.tree,{[F]:N})})})),r.current.forceUpdate(),r.current.publishEvent("rowExpansionChange",N)},[r]),C=_.useCallback(F=>{var P;return(P=Vs(r)[F])!=null?P:null},[r]),y=_.useCallback(({skipAutoGeneratedRows:F=!0,groupId:P,applySorting:M,applyFiltering:N})=>{const H=Vs(r);let G;if(M){const z=H[P];if(!z)return[];const j=yB(r);G=[];const q=j.findIndex(K=>K===P)+1;for(let K=q;K<j.length&&H[j[K]].depth>z.depth;K+=1){const ie=j[K];(!F||!dC(H[ie]))&&G.push(ie)}}else G=EB(H,P,F);if(N){const z=Iie(r);G=G.filter(j=>z[j]!==!1)}return G},[r]),w=_.useCallback((F,P)=>{const M=r.current.getRowNode(F);if(!M)throw new Error(`MUI: No row with id #${F} found`);if(M.parent!==lo)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(M.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");r.current.setState(N=>{const H=Vs(N,r.current.instanceId)[lo],G=H.children,z=G.findIndex(q=>q===F);if(z===-1||z===P)return N;t.debug(`Moving row ${F} to index ${P}`);const j=[...G];return j.splice(P,0,j.splice(z,1)[0]),b({},N,{rows:b({},N.rows,{tree:b({},N.rows.tree,{[lo]:b({},H,{children:j})})})})}),r.current.publishEvent("rowsSet")},[r,t]),T=_.useCallback((F,P)=>{if(e.signature===Nl.DataGrid&&P.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(P.length===0)return;if(rT(r)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const N=b({},Vs(r)),H=b({},vu(r)),G=b({},vx(r)),z=N[lo],j=[...z.children],q=new Set;for(let ie=0;ie<P.length;ie+=1){const ee=P[ie],te=_x(ee,e.getRowId,"A row was provided without id when calling replaceRows()."),[de]=j.splice(F+ie,1,te);q.has(de)||(delete H[de],delete G[de],delete N[de]);const Se={id:te,depth:0,parent:lo,type:"leaf",groupingKey:null};H[te]=ee,G[te]=te,N[te]=Se,q.add(te)}N[lo]=b({},z,{children:j});const K=j.filter(ie=>N[ie].type==="leaf");r.current.caches.rows.dataRowIdToModelLookup=H,r.current.caches.rows.dataRowIdToIdLookup=G,r.current.setState(ie=>b({},ie,{rows:b({},ie.rows,{dataRowIdToModelLookup:H,dataRowIdToIdLookup:G,dataRowIds:K,tree:N})})),r.current.publishEvent("rowsSet")},[r,e.signature,e.getRowId]),S={getRow:a,getRowId:l,getRowModels:p,getRowsCount:f,getAllRowIds:v,setRows:d,updateRows:h,getRowNode:C,getRowIndexRelativeToVisibleRows:g,unstable_replaceRows:T},x={setRowIndex:w,setRowChildrenExpansion:m,getRowGroupChildren:y},I=_.useCallback(()=>{t.info("Row grouping pre-processing have changed, regenerating the row tree");let F;r.current.caches.rows.rowsBeforePartialUpdates===e.rows?F=b({},r.current.caches.rows,{updates:{type:"full",rows:Nm(r)}}):F=Ob({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),c({cache:F,throttle:!1})},[t,r,e.rows,e.getRowId,e.loading,e.rowCount,c]),R=_.useCallback(F=>{F==="rowTreeCreation"&&I()},[I]),D=_.useCallback(()=>{r.current.getActiveStrategy("rowTree")!==Clt(r)&&I()},[r,I]);bt(r,"activeStrategyProcessorChange",R),bt(r,"strategyAvailabilityChange",D);const A=_.useCallback(()=>{r.current.setState(F=>{const P=r.current.unstable_applyPipeProcessors("hydrateRows",{tree:Vs(F,r.current.instanceId),treeDepths:d5(F,r.current.instanceId),dataRowIds:Nm(F,r.current.instanceId),dataRowIdToModelLookup:vu(F,r.current.instanceId),dataRowIdToIdLookup:vx(F,r.current.instanceId)});return b({},F,{rows:b({},F.rows,P,{totalTopLevelRowCount:Die({tree:P.tree,rowCountProp:e.rowCount})})})}),r.current.publishEvent("rowsSet"),r.current.forceUpdate()},[r,e.rowCount]);FB(r,"hydrateRows",A),cr(r,S,"public"),cr(r,x,e.signature===Nl.DataGrid?"private":"public");const V=_.useRef(!0);_.useEffect(()=>{if(V.current){V.current=!1;return}const F=r.current.caches.rows.rowsBeforePartialUpdates===e.rows,P=r.current.caches.rows.loadingPropBeforePartialUpdates===e.loading,M=r.current.caches.rows.rowCountPropBeforePartialUpdates===e.rowCount;if(F){P||(r.current.setState(N=>b({},N,{rows:b({},N.rows,{loading:e.loading})})),r.current.caches.rows.loadingPropBeforePartialUpdates=e.loading,r.current.forceUpdate()),M||(r.current.setState(N=>b({},N,{rows:b({},N.rows,{totalRowCount:Math.max(e.rowCount||0,N.rows.totalRowCount),totalTopLevelRowCount:Math.max(e.rowCount||0,N.rows.totalTopLevelRowCount)})})),r.current.caches.rows.rowCountPropBeforePartialUpdates=e.rowCount,r.current.forceUpdate());return}t.debug(`Updating all rows, new length ${e.rows.length}`),c({cache:Ob({rows:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),throttle:!1})},[e.rows,e.rowCount,e.getRowId,e.loading,t,c,r])},Uft=r=>{const e={[lo]:b({},Nlt(),{children:r})};for(let t=0;t<r.length;t+=1){const n=r[t];e[n]={id:n,depth:0,parent:lo,type:"leaf",groupingKey:null}}return{groupingName:op,tree:e,treeDepths:{0:r.length},dataRowIds:r}},jft=({previousTree:r,actions:e})=>{const t=b({},r),n={};for(let a=0;a<e.remove.length;a+=1){const s=e.remove[a];n[s]=!0,delete t[s]}for(let a=0;a<e.insert.length;a+=1){const s=e.insert[a];t[s]={id:s,depth:0,parent:lo,type:"leaf",groupingKey:null}}const i=t[lo];let o=[...i.children,...e.insert];return Object.values(n).length&&(o=o.filter(a=>!n[a])),t[lo]=b({},i,{children:o}),{groupingName:op,tree:t,treeDepths:{0:o.length},dataRowIds:o}},Kft=r=>r.updates.type==="full"?Uft(r.updates.rows):jft({previousTree:r.previousTree,actions:r.updates.actions}),qft=r=>{xx(r,op,"rowTreeCreation",Kft)},Soe=(r,e)=>r==null||Array.isArray(r)?r:e&&e[0]===r?e:[r],Yft=(r,e)=>{var t;return b({},r,{rowSelection:e.rowSelection?(t=Soe(e.rowSelectionModel))!=null?t:[]:[]})},Xft=(r,e)=>{const t=to(r,"useGridSelection"),n=P=>(...M)=>{e.rowSelection&&P(...M)},i=_.useMemo(()=>Soe(e.rowSelectionModel,Ja(r.current.state)),[r,e.rowSelectionModel]),o=_.useRef(null);r.current.registerControlState({stateId:"rowSelection",propModel:i,propOnChange:e.onRowSelectionModelChange,stateSelector:Ja,changeEvent:"rowSelectionChange"});const{checkboxSelection:a,disableMultipleRowSelection:s,disableRowSelectionOnClick:l,isRowSelectable:u}=e,c=!s||a,d=xp(r,e),h=_.useCallback(P=>{var M;let N=P;const H=(M=o.current)!=null?M:P,G=r.current.isRowSelected(P);if(G){const z=f_(r),j=z.findIndex(K=>K===H),q=z.findIndex(K=>K===N);if(j===q)return;j>q?N=z[q+1]:N=z[q-1]}o.current=P,r.current.selectRowRange({startId:H,endId:N},!G)},[r]),p=_.useCallback(P=>{if(e.signature===Nl.DataGrid&&!e.checkboxSelection&&Array.isArray(P)&&P.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Ja(r.current.state)!==P&&(t.debug("Setting selection model"),r.current.setState(N=>b({},N,{rowSelection:e.rowSelection?P:[]})),r.current.forceUpdate())},[r,t,e.rowSelection,e.signature,e.checkboxSelection]),f=_.useCallback(P=>Ja(r.current.state).includes(P),[r]),v=_.useCallback(P=>{if(u&&!u(r.current.getRowParams(P)))return!1;const M=r.current.getRowNode(P);return!((M==null?void 0:M.type)==="footer"||(M==null?void 0:M.type)==="pinnedRow")},[r,u]),g=_.useCallback(()=>$ct(r),[r]),m=_.useCallback((P,M=!0,N=!1)=>{if(r.current.isRowSelectable(P))if(o.current=P,N)t.debug(`Setting selection for row ${P}`),r.current.setRowSelectionModel(M?[P]:[]);else{t.debug(`Toggling selection for row ${P}`);const G=Ja(r.current.state).filter(j=>j!==P);M&&G.push(P),(G.length<2||c)&&r.current.setRowSelectionModel(G)}},[r,t,c]),C=_.useCallback((P,M=!0,N=!1)=>{t.debug("Setting selection for several rows");const H=P.filter(j=>r.current.isRowSelectable(j));let G;if(N)G=M?H:[];else{const j=b({},wx(r));H.forEach(q=>{M?j[q]=q:delete j[q]}),G=Object.values(j)}(G.length<2||c)&&r.current.setRowSelectionModel(G)},[r,t,c]),y=_.useCallback(({startId:P,endId:M},N=!0,H=!1)=>{if(!r.current.getRow(P)||!r.current.getRow(M))return;t.debug(`Expanding selection from row ${P} to row ${M}`);const G=f_(r),z=G.indexOf(P),j=G.indexOf(M),[q,K]=z>j?[j,z]:[z,j],ie=G.slice(q,K+1);r.current.selectRows(ie,N,H)},[r,t]),w={selectRow:m,setRowSelectionModel:p,getSelectedRows:g,isRowSelected:f,isRowSelectable:v},T={selectRows:C,selectRowRange:y};cr(r,w,"public"),cr(r,T,e.signature===Nl.DataGrid?"private":"public");const S=_.useCallback(()=>{if(e.keepNonExistentRowsSelected)return;const P=Ja(r.current.state),M=vu(r),N=b({},wx(r));let H=!1;P.forEach(G=>{M[G]||(delete N[G],H=!0)}),H&&r.current.setRowSelectionModel(Object.values(N))},[r,e.keepNonExistentRowsSelected]),x=_.useCallback((P,M)=>{const N=M.metaKey||M.ctrlKey,H=!a&&!N&&!Iut(M),G=!c||H,z=r.current.isRowSelected(P);G?r.current.selectRow(P,H?!0:!z,!0):r.current.selectRow(P,!z,!1)},[r,c,a]),I=_.useCallback((P,M)=>{var N;if(l)return;const H=(N=M.target.closest(`.${Q.cell}`))==null?void 0:N.getAttribute("data-field");if(H===Wv.field||H===PB)return;if(H){const z=r.current.getColumn(H);if((z==null?void 0:z.type)===sT)return}r.current.getRowNode(P.id).type!=="pinnedRow"&&(M.shiftKey&&(c||a)?h(P.id):x(P.id,M))},[l,c,a,r,h,x]),R=_.useCallback((P,M)=>{if(c&&M.shiftKey){var N;(N=window.getSelection())==null||N.removeAllRanges()}},[c]),D=_.useCallback((P,M)=>{M.nativeEvent.shiftKey?h(P.id):r.current.selectRow(P.id,P.value)},[r,h]),A=_.useCallback(P=>{const N=e.checkboxSelectionVisibleOnly&&e.pagination?Xie(r):f_(r);r.current.selectRows(N,P.value)},[r,e.checkboxSelectionVisibleOnly,e.pagination]),V=_.useCallback((P,M)=>{if(r.current.getCellMode(P.id,P.field)!==Qr.Edit&&!Ey(M)){if(Sx(M.key)&&M.shiftKey){const N=_a(r);if(N&&N.id!==P.id){M.preventDefault();const H=r.current.isRowSelected(N.id);if(!c){r.current.selectRow(N.id,!H,!0);return}const G=r.current.getRowIndexRelativeToVisibleRows(N.id),z=r.current.getRowIndexRelativeToVisibleRows(P.id);let j,q;G>z?H?(j=z,q=G-1):(j=z,q=G):H?(j=G+1,q=z):(j=G,q=z);const K=d.rows.slice(j,q+1).map(ie=>ie.id);r.current.selectRows(K,!H);return}}if(M.key===" "&&M.shiftKey){M.preventDefault(),x(P.id,M);return}M.key==="a"&&(M.ctrlKey||M.metaKey)&&(M.preventDefault(),C(r.current.getAllRowIds(),!0))}},[r,x,C,d.rows,c]);bt(r,"sortedRowsSet",n(S)),bt(r,"rowClick",n(I)),bt(r,"rowSelectionCheckboxChange",n(D)),bt(r,"headerSelectionCheckboxChange",A),bt(r,"cellMouseDown",n(R)),bt(r,"cellKeyDown",n(V)),_.useEffect(()=>{i!==void 0&&r.current.setRowSelectionModel(i)},[r,i,e.rowSelection]),_.useEffect(()=>{e.rowSelection||r.current.setRowSelectionModel([])},[r,e.rowSelection]);const F=i!=null;_.useEffect(()=>{if(F||!e.rowSelection)return;const P=Ja(r.current.state);if(v){const M=P.filter(N=>v(N));M.length<P.length&&r.current.setRowSelectionModel(M)}},[r,v,F,e.rowSelection]),_.useEffect(()=>{if(!e.rowSelection||F)return;const P=Ja(r.current.state);!c&&P.length>1&&r.current.setRowSelectionModel([])},[r,c,a,F,e.rowSelection])},Qft={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:r=>r!==1?`${r} active filters`:`${r} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:r=>r!==1?`${r} active filters`:`${r} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:r=>r!==1?`${r.toLocaleString()} rows selected`:`${r.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(r,e)=>`${r.toLocaleString()} of ${e.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:r=>`Group by ${r}`,unGroupColumn:r=>`Stop grouping by ${r}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},Zft=r=>{const{classes:e}=r;return _.useMemo(()=>tt({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},xr,e),[e])},Jft=(r,e)=>{const t={classes:e.classes},n=Zft(t),i=_.useCallback(o=>{const a=b({},Wv,{cellClassName:n.cellCheckbox,headerClassName:n.columnHeaderCheckbox,headerName:r.current.getLocaleText("checkboxSelectionHeaderName")}),s=e.checkboxSelection,l=o.lookup[wc]!=null;return s&&!l?(o.lookup[wc]=a,o.orderedFields=[wc,...o.orderedFields]):!s&&l?(delete o.lookup[wc],o.orderedFields=o.orderedFields.filter(u=>u!==wc)):s&&l&&(o.lookup[wc]=b({},a,o.lookup[wc])),o},[r,n,e.checkboxSelection]);fi(r,"hydrateColumns",i)},evt=(r,e)=>{var t,n,i;const o=(t=(n=e.sortModel)!=null?n:(i=e.initialState)==null||(i=i.sorting)==null?void 0:i.sortModel)!=null?t:[];return b({},r,{sorting:{sortModel:Qie(o,e.disableMultipleColumnsSorting),sortedRows:[]}})},tvt=(r,e)=>{var t;const n=to(r,"useGridSorting");r.current.registerControlState({stateId:"sortModel",propModel:e.sortModel,propOnChange:e.onSortModelChange,stateSelector:Za,changeEvent:"sortModelChange"});const i=_.useCallback((S,x)=>{const I=Za(r),R=I.findIndex(A=>A.field===S);let D=[...I];return R>-1?x?D.splice(R,1,x):D.splice(R,1):D=[...I,x],D},[r]),o=_.useCallback((S,x)=>{var I;const D=Za(r).find(V=>V.field===S.field);if(D){var A;const V=x===void 0?g5((A=S.sortingOrder)!=null?A:e.sortingOrder,D.sort):x;return V==null?void 0:b({},D,{sort:V})}return{field:S.field,sort:x===void 0?g5((I=S.sortingOrder)!=null?I:e.sortingOrder):x}},[r,e.sortingOrder]),a=_.useCallback((S,x)=>x==null||x.sortable===!1?S:(x.sortingOrder||e.sortingOrder).some(R=>!!R)?[...S,"columnMenuSortItem"]:S,[e.sortingOrder]),s=_.useCallback(()=>{r.current.setState(S=>{if(e.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),b({},S,{sorting:b({},S.sorting,{sortedRows:EB(Vs(r),lo,!1)})});const x=Za(S,r.current.instanceId),I=Kct(x,r),R=r.current.applyStrategyProcessor("sorting",{sortRowList:I});return b({},S,{sorting:b({},S.sorting,{sortedRows:R})})}),r.current.publishEvent("sortedRowsSet"),r.current.forceUpdate()},[r,n,e.sortingMode]),l=_.useCallback(S=>{Za(r)!==S&&(n.debug("Setting sort model"),r.current.setState(v5(S,e.disableMultipleColumnsSorting)),r.current.forceUpdate(),r.current.applySorting())},[r,n,e.disableMultipleColumnsSorting]),u=_.useCallback((S,x,I)=>{if(!S.sortable)return;const R=o(S,x);let D;!I||e.disableMultipleColumnsSorting?D=R?[R]:[]:D=i(S.field,R),r.current.setSortModel(D)},[r,i,o,e.disableMultipleColumnsSorting]),c=_.useCallback(()=>Za(r),[r]),d=_.useCallback(()=>SB(r).map(x=>x.model),[r]),h=_.useCallback(()=>yB(r),[r]),p=_.useCallback(S=>r.current.getSortedRowIds()[S],[r]);cr(r,{getSortModel:c,getSortedRows:d,getSortedRowIds:h,getRowIdFromRowIndex:p,setSortModel:l,sortColumn:u,applySorting:s},"public");const v=_.useCallback((S,x)=>{var I;const R=Za(r);return!x.exportOnlyDirtyModels||e.sortModel!=null||((I=e.initialState)==null||(I=I.sorting)==null?void 0:I.sortModel)!=null||R.length>0?b({},S,{sorting:{sortModel:R}}):S},[r,e.sortModel,(t=e.initialState)==null||(t=t.sorting)==null?void 0:t.sortModel]),g=_.useCallback((S,x)=>{var I;const R=(I=x.stateToRestore.sorting)==null?void 0:I.sortModel;return R==null?S:(r.current.setState(v5(R,e.disableMultipleColumnsSorting)),b({},S,{callbacks:[...S.callbacks,r.current.applySorting]}))},[r,e.disableMultipleColumnsSorting]),m=_.useCallback(S=>{const x=Vs(r),I=x[lo],R=S.sortRowList?S.sortRowList(I.children.map(D=>x[D])):[...I.children];return I.footerId!=null&&R.push(I.footerId),R},[r]);fi(r,"exportState",v),fi(r,"restoreState",g),xx(r,op,"sorting",m);const C=_.useCallback(({colDef:S},x)=>{const I=x.shiftKey||x.metaKey||x.ctrlKey;u(S,void 0,I)},[u]),y=_.useCallback(({colDef:S},x)=>{wut(x.key)&&!x.ctrlKey&&!x.metaKey&&u(S,void 0,x.shiftKey)},[u]),w=_.useCallback(()=>{const S=Za(r),x=Hv(r);if(S.length>0){const I=S.filter(R=>x[R.field]);I.length<S.length&&r.current.setSortModel(I)}},[r]),T=_.useCallback(S=>{S==="sorting"&&r.current.applySorting()},[r]);fi(r,"columnMenu",a),bt(r,"columnHeaderClick",C),bt(r,"columnHeaderKeyDown",y),bt(r,"rowsSet",r.current.applySorting),bt(r,"columnsChange",w),bt(r,"activeStrategyProcessorChange",T),xy(()=>{r.current.applySorting()}),sn(()=>{e.sortModel!==void 0&&r.current.setSortModel(e.sortModel)},[r,e.sortModel])};function G5(r){const{clientHeight:e,scrollTop:t,offsetHeight:n,offsetTop:i}=r,o=i+n;if(n>e)return i;if(o-e>t)return o-e;if(i<t)return i}const rvt=(r,e)=>{const t=Xu(),n=to(r,"useGridScroll"),i=r.current.columnHeadersElementRef,o=r.current.virtualScrollerRef,a=ht(r,bd),s=_.useCallback(d=>{const h=tT(r),p=Bi(r);if(!(d.rowIndex==null)&&h===0||p.length===0)return!1;n.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let v={};if(d.colIndex!=null){const y=yv(r);let w;if(typeof d.rowIndex<"u"){var g;const T=(g=a[d.rowIndex])==null?void 0:g.id,S=r.current.unstable_getCellColSpanInfo(T,d.colIndex);S&&!S.spannedByColSpan&&(w=S.cellProps.width)}typeof w>"u"&&(w=p[d.colIndex].computedWidth),v.left=G5({clientHeight:o.current.clientWidth,scrollTop:Math.abs(o.current.scrollLeft),offsetHeight:w,offsetTop:y[d.colIndex]})}if(d.rowIndex!=null){var m,C;const y=fC(r.current.state),w=Vct(r),T=Bct(r),S=e.pagination?d.rowIndex-w*T:d.rowIndex,x=y.positions[S+1]?y.positions[S+1]-y.positions[S]:y.currentPageTotalHeight-y.positions[S],I=((m=o.current.querySelector(`.${Q["pinnedRows--top"]}`))==null?void 0:m.clientHeight)||0,R=((C=o.current.querySelector(`.${Q["pinnedRows--bottom"]}`))==null?void 0:C.clientHeight)||0;v.top=G5({clientHeight:o.current.clientHeight-I-R,scrollTop:o.current.scrollTop,offsetHeight:x,offsetTop:y.positions[S]})}return v=r.current.unstable_applyPipeProcessors("scrollToIndexes",v,d),typeof v.left!==void 0||typeof v.top!==void 0?(r.current.scroll(v),!0):!1},[n,r,o,e.pagination,a]),l=_.useCallback(d=>{if(o.current&&d.left!=null&&i.current){const h=t.direction==="rtl"?-1:1;i.current.scrollLeft=d.left,o.current.scrollLeft=h*d.left,n.debug(`Scrolling left: ${d.left}`)}o.current&&d.top!=null&&(o.current.scrollTop=d.top,n.debug(`Scrolling top: ${d.top}`)),n.debug("Scrolling, updating container, and viewport")},[o,t.direction,i,n]),u=_.useCallback(()=>o!=null&&o.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0},[o]);cr(r,{scroll:l,scrollToIndexes:s,getScrollPosition:u},"public")};function nvt(r,e){Cn(r,"columnHeaderClick",e.onColumnHeaderClick),Cn(r,"columnHeaderDoubleClick",e.onColumnHeaderDoubleClick),Cn(r,"columnHeaderOver",e.onColumnHeaderOver),Cn(r,"columnHeaderOut",e.onColumnHeaderOut),Cn(r,"columnHeaderEnter",e.onColumnHeaderEnter),Cn(r,"columnHeaderLeave",e.onColumnHeaderLeave),Cn(r,"cellClick",e.onCellClick),Cn(r,"cellDoubleClick",e.onCellDoubleClick),Cn(r,"cellKeyDown",e.onCellKeyDown),Cn(r,"preferencePanelClose",e.onPreferencePanelClose),Cn(r,"preferencePanelOpen",e.onPreferencePanelOpen),Cn(r,"menuOpen",e.onMenuOpen),Cn(r,"menuClose",e.onMenuClose),Cn(r,"rowDoubleClick",e.onRowDoubleClick),Cn(r,"rowClick",e.onRowClick),Cn(r,"stateChange",e.onStateChange)}const ivt=({content:r,container:e,scrollBarSize:t})=>{const n=r.width>e.width,i=r.height>e.height;let o=!1,a=!1;return(n||i)&&(o=n,a=r.height+(o?t:0)>e.height,a&&(o=r.width+t>e.width)),{hasScrollX:o,hasScrollY:a}};function ovt(r,e){const t=to(r,"useResizeContainer"),n=_.useRef(!1),i=_.useRef(null),o=_.useRef(null),a=ht(r,fC),s=ht(r,$v),l=Math.floor(e.rowHeight*s),u=LB(r,e.columnHeaderHeight),c=_.useCallback(()=>{var x;const I=(x=r.current.rootElementRef)==null?void 0:x.current,R=CB(r),D=Pie(r);if(!i.current)return;let A;if(e.scrollbarSize!=null)A=e.scrollbarSize;else if(!R||!I)A=0;else{const z=An(I).createElement("div");z.style.width="99px",z.style.height="99px",z.style.position="absolute",z.style.overflow="scroll",z.className="scrollDiv",I.appendChild(z),A=z.offsetWidth-z.clientWidth,I.removeChild(z)}let V,F,P;if(e.autoHeight)P=!1,F=Math.round(R)>Math.round(i.current.width),V={width:i.current.width,height:a.currentPageTotalHeight+(F?A:0)};else{V={width:i.current.width,height:Math.max(i.current.height-u,0)};const G=ivt({content:{width:Math.round(R),height:a.currentPageTotalHeight},container:{width:Math.round(V.width),height:V.height-D.top-D.bottom},scrollBarSize:A});P=G.hasScrollY,F=G.hasScrollX}const M={width:V.width-(P?A:0),height:V.height-(F?A:0)},N={viewportOuterSize:V,viewportInnerSize:M,hasScrollX:F,hasScrollY:P,scrollBarSize:A},H=o.current;o.current=N,(N.viewportInnerSize.width!==(H==null?void 0:H.viewportInnerSize.width)||N.viewportInnerSize.height!==(H==null?void 0:H.viewportInnerSize.height))&&r.current.publishEvent("viewportInnerSizeChange",N.viewportInnerSize)},[r,e.scrollbarSize,e.autoHeight,a.currentPageTotalHeight,u]),[d,h]=_.useState(),p=_.useMemo(()=>Nv(h,60),[]),f=_.useRef();sn(()=>{d&&(c(),r.current.publishEvent("debouncedResize",i.current))},[r,d,c]);const v=_.useCallback(()=>{r.current.computeSizeAndPublishResizeEvent()},[r]),g=_.useCallback(()=>o.current,[]),m=_.useCallback(()=>{const x=r.current.getRootDimensions();if(!x)return 0;const I=bx(r,{pagination:e.pagination,paginationMode:e.paginationMode});if(e.getRowHeight){const D=r.current.getRenderContext(),A=D.lastRowIndex-D.firstRowIndex;return Math.min(A-1,I.rows.length)}const R=Math.floor(x.viewportInnerSize.height/l);return Math.min(R,I.rows.length)},[r,e.pagination,e.paginationMode,e.getRowHeight,l]),C=_.useCallback(()=>{var x,I,R;const D=(x=r.current.mainElementRef)==null?void 0:x.current;if(!D)return;const V=Gl(D).getComputedStyle(D),F=parseFloat(V.height)||0,P=parseFloat(V.width)||0,M=F!==((I=f.current)==null?void 0:I.height),N=P!==((R=f.current)==null?void 0:R.width);if(!f.current||M||N){const H={width:P,height:F};r.current.publishEvent("resize",H),f.current=H}},[r]),y={resize:v,getRootDimensions:g},w={getViewportPageSize:m,updateGridDimensionsRef:c,computeSizeAndPublishResizeEvent:C};cr(r,y,"public"),cr(r,w,"private");const T=_.useRef(!0),S=_.useCallback(x=>{i.current=x;const I=/jsdom/.test(window.navigator.userAgent);if(x.height===0&&!n.current&&!e.autoHeight&&!I&&(t.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),n.current=!0),x.width===0&&!n.current&&!I&&(t.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),n.current=!0),T.current){h(x),T.current=!1;return}p(x)},[e.autoHeight,p,t]);sn(()=>c(),[c]),Cn(r,"sortedRowsSet",c),Cn(r,"paginationModelChange",c),Cn(r,"columnsChange",c),bt(r,"resize",S),Cn(r,"debouncedResize",e.onResize)}const avt=["style"],svt=["style"];function Qf(r,e,t=0,n=e.length){if(e.length<=0)return-1;if(t>=n)return t;const i=t+Math.floor((n-t)/2),o=e[i];return r<=o?Qf(r,e,t,i):Qf(r,e,i+1,n)}function lvt(r,e,t){let n=1;for(;t<e.length&&Math.abs(e[t])<r;)t+=n,n*=2;return Qf(r,e,Math.floor(t/2),Math.min(t,e.length))}const Rc=({firstIndex:r,lastIndex:e,buffer:t,minFirstIndex:n,maxLastIndex:i})=>[Sv(r-t,n,i),Sv(e+t,n,i)],woe=(r,e)=>r===e?!0:r.firstRowIndex===e.firstRowIndex&&r.lastRowIndex===e.lastRowIndex&&r.firstColumnIndex===e.firstColumnIndex&&r.lastColumnIndex===e.lastColumnIndex,uvt={maxSize:3},cvt=r=>{var e,t;const n=wd(),i=St(),o=ht(n,Bi),a=ht(n,edt),s=ht(n,roe),{ref:l,onRenderZonePositioning:u,renderZoneMinColumnIndex:c=0,renderZoneMaxColumnIndex:d=o.length,getRowProps:h}=r,p=Xu(),f=ht(n,yv),v=ht(n,CB),g=ht(n,_a),m=ht(n,mx),C=ht(n,fC),y=ht(n,wx),w=xp(n,i),T=_.useRef(null),S=_.useRef(null),x=ln(l,S),[I,R]=_.useState(null),D=_.useRef(I),A=_.useRef({top:0,left:0}),[V,F]=_.useState({width:null,height:null}),P=_.useRef(v),[M,N]=_.useState(null),H=_.useRef(Object.create(null)),G=_.useRef(),z=_.useRef(),j=_.useRef(ZI((ae,Ie,me,nt,He,Ue)=>{let Ge;const ge=ae.slice(Ie,me);return Ue>-1&&(Ie>Ue&&Ue>=nt||me<Ue&&Ue<He)&&(Ge=Ue),{focusedCellColumnIndexNotInRange:Ge,renderedColumns:ge}},uvt)),q=_.useMemo(()=>g!==null?o.findIndex(ae=>ae.field===g.field):-1,[g,o]),K=_.useCallback(ae=>{var Ie,me;const nt=n.current.getLastMeasuredRowIndex();let He=nt===1/0;(Ie=w.range)!=null&&Ie.lastRowIndex&&!He&&(He=nt>=w.range.lastRowIndex);const Ue=Sv(nt-(((me=w.range)==null?void 0:me.firstRowIndex)||0),0,C.positions.length);return He||C.positions[Ue]>=ae?Qf(ae,C.positions):lvt(ae,C.positions,Ue)},[n,(e=w.range)==null?void 0:e.firstRowIndex,(t=w.range)==null?void 0:t.lastRowIndex,C.positions]),ie=_.useCallback(()=>{if(!a)return{firstRowIndex:0,lastRowIndex:w.rows.length,firstColumnIndex:0,lastColumnIndex:o.length};const{top:ae,left:Ie}=A.current,me=Math.min(K(ae),C.positions.length-1),nt=i.autoHeight?me+w.rows.length:K(ae+V.height);let He=0,Ue=f.length;if(s){let Ge=!1;const[ge,_e]=Rc({firstIndex:me,lastIndex:nt,minFirstIndex:0,maxLastIndex:w.rows.length,buffer:i.rowBuffer});for(let Ve=ge;Ve<_e&&!Ge;Ve+=1){const Je=w.rows[Ve];Ge=n.current.rowHasAutoHeight(Je.id)}Ge||(He=Qf(Math.abs(Ie),f),Ue=Qf(Math.abs(Ie)+V.width,f))}return{firstRowIndex:me,lastRowIndex:nt,firstColumnIndex:He,lastColumnIndex:Ue}},[a,s,K,C.positions.length,i.autoHeight,i.rowBuffer,w.rows,f,o.length,n,V]);sn(()=>{a?(S.current.scrollLeft=0,S.current.scrollTop=0):T.current.style.transform="translate3d(0px, 0px, 0px)"},[a]),sn(()=>{F({width:S.current.clientWidth,height:S.current.clientHeight})},[C.currentPageTotalHeight]);const ee=_.useCallback(()=>{S.current&&F({width:S.current.clientWidth,height:S.current.clientHeight})},[]);bt(n,"debouncedResize",ee);const te=_.useCallback(ae=>{const[Ie,me]=Rc({firstIndex:ae.firstRowIndex,lastIndex:ae.lastRowIndex,minFirstIndex:0,maxLastIndex:w.rows.length,buffer:i.rowBuffer}),[nt]=Rc({firstIndex:ae.firstColumnIndex,lastIndex:ae.lastColumnIndex,minFirstIndex:c,maxLastIndex:d,buffer:i.columnBuffer}),He=IF({firstColumnToRender:nt,apiRef:n,firstRowToRender:Ie,lastRowToRender:me,visibleRows:w.rows}),Ue=p.direction==="ltr"?1:-1,Ge=fC(n.current.state).positions[Ie],ge=Ue*yv(n)[He];T.current.style.transform=`translate3d(${ge}px, ${Ge}px, 0px)`,typeof u=="function"&&u({top:Ge,left:ge})},[n,w.rows,u,c,d,i.columnBuffer,i.rowBuffer,p.direction]),de=_.useCallback(()=>D.current,[]),Se=_.useCallback(ae=>{if(D.current&&woe(ae,D.current)){te(ae);return}R(ae),te(ae);const[Ie,me]=Rc({firstIndex:ae.firstRowIndex,lastIndex:ae.lastRowIndex,minFirstIndex:0,maxLastIndex:w.rows.length,buffer:i.rowBuffer});n.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:Ie,lastRowToRender:me}),D.current=ae},[n,R,D,w.rows.length,i.rowBuffer,te]);sn(()=>{if(V.width==null)return;const ae=ie();Se(ae);const{top:Ie,left:me}=A.current,nt={top:Ie,left:me,renderContext:ae};n.current.publishEvent("scrollPositionChange",nt)},[n,ie,V.width,Se]);const Me=cn(ae=>{const{scrollTop:Ie,scrollLeft:me}=ae.currentTarget;if(A.current.top=Ie,A.current.left=me,!D.current||Ie<0||p.direction==="ltr"&&me<0||p.direction==="rtl"&&me>0)return;const nt=a?ie():D.current,He=Math.abs(nt.firstRowIndex-D.current.firstRowIndex),Ue=Math.abs(nt.lastRowIndex-D.current.lastRowIndex),Ge=Math.abs(nt.firstColumnIndex-D.current.firstColumnIndex),ge=Math.abs(nt.lastColumnIndex-D.current.lastColumnIndex),_e=He>=i.rowThreshold||Ue>=i.rowThreshold||Ge>=i.columnThreshold||ge>=i.columnThreshold||P.current!==v;n.current.publishEvent("scrollPositionChange",{top:Ie,left:me,renderContext:_e?nt:D.current},ae),_e&&(Bu.flushSync(()=>{Se(nt)}),P.current=v)}),De=cn(ae=>{n.current.publishEvent("virtualScrollerWheel",{},ae)}),ze=cn(ae=>{n.current.publishEvent("virtualScrollerTouchMove",{},ae)}),he=_.useMemo(()=>g!==null?w.rows.findIndex(ae=>ae.id===g.id):-1,[g,w.rows]);bt(n,"rowMouseOver",(ae,Ie)=>{var me;Ie.currentTarget.contains(Ie.relatedTarget)||N((me=ae.id)!=null?me:null)}),bt(n,"rowMouseOut",(ae,Ie)=>{Ie.currentTarget.contains(Ie.relatedTarget)||N(null)});const ke=(ae={renderContext:I})=>{var Ie;const{onRowRender:me,renderContext:nt,minFirstColumn:He=c,maxLastColumn:Ue=d,availableSpace:Ge=V.width,rowIndexOffset:ge=0,position:_e="center"}=ae;if(!nt||Ge==null)return null;const Ve=a?i.rowBuffer:0,Je=a?i.columnBuffer:0,[vt,ct]=Rc({firstIndex:nt.firstRowIndex,lastIndex:nt.lastRowIndex,minFirstIndex:0,maxLastIndex:w.rows.length,buffer:Ve}),Pe=[];if(ae.rows)ae.rows.forEach(re=>{Pe.push(re),n.current.calculateColSpan({rowId:re.id,minFirstColumn:He,maxLastColumn:Ue,columns:o})});else{if(!w.range)return null;for(let re=vt;re<ct;re+=1){const oe=w.rows[re];Pe.push(oe),n.current.calculateColSpan({rowId:oe.id,minFirstColumn:He,maxLastColumn:Ue,columns:o})}}let _t=!1;if(he>-1){const re=w.rows[he];(vt>he||ct<he)&&(_t=!0,he>vt?Pe.push(re):Pe.unshift(re),n.current.calculateColSpan({rowId:re.id,minFirstColumn:He,maxLastColumn:Ue,columns:o}))}const[lr,$t]=Rc({firstIndex:nt.firstColumnIndex,lastIndex:nt.lastColumnIndex,minFirstIndex:He,maxLastIndex:Ue,buffer:Je}),Ke=IF({firstColumnToRender:lr,apiRef:n,firstRowToRender:vt,lastRowToRender:ct,visibleRows:w.rows});let Ot=!1;(Ke>q||$t<q)&&(Ot=!0);const{focusedCellColumnIndexNotInRange:Le,renderedColumns:rt}=j.current(o,Ke,$t,He,Ue,Ot?q:-1),Pt=((Ie=i.slotProps)==null?void 0:Ie.row)||{},{style:Wt}=Pt,nr=se(Pt,avt);(G.current!==h||z.current!==Wt)&&(H.current=Object.create(null));const Br=[];let Qt=!1;for(let re=0;re<Pe.length;re+=1){var Y;const{id:oe,model:Be}=Pe[re],it=_t&&g.id===oe,It=_t?vt+re===w.rows.length:vt+re===w.rows.length-1,wt=n.current.rowHasAutoHeight(oe)?"auto":n.current.unstable_getRowHeight(oe);let lt;y[oe]==null?lt=!1:lt=n.current.isRowSelectable(oe),me&&me(oe);const ot=g!==null&&g.id===oe?g.field:null,Mt=Le!==void 0&&o[Le],Rr=Mt&&ot?[Mt,...rt]:rt;let Ft=null;m!==null&&m.id===oe&&(Ft=n.current.getCellParams(oe,m.field).cellMode==="view"?m.field:null);const Or=typeof h=="function"&&h(oe,Be)||{},{style:qr}=Or,xn=se(Or,svt);if(!H.current[oe]){const Zn=b({},qr,Wt);H.current[oe]=Zn}let Wr=ge+((w==null||(Y=w.range)==null?void 0:Y.firstRowIndex)||0)+vt+re;_t&&(g==null?void 0:g.id)===oe?(Wr=he,Qt=!0):Qt&&(Wr-=1),Br.push(O.jsx(i.slots.row,b({row:Be,rowId:oe,focusedCellColumnIndexNotInRange:Le,isNotVisible:it,rowHeight:wt,focusedCell:ot,tabbableCell:Ft,renderedColumns:Rr,visibleColumns:o,firstColumnToRender:Ke,lastColumnToRender:$t,selected:lt,index:Wr,containerWidth:Ge,isLastVisible:It,position:_e},xn,nr,{hovered:M===oe,style:H.current[oe]}),oe))}return G.current=h,z.current=Wt,Br},Oe=V.width&&v>=V.width,je=_.useMemo(()=>{const ae=Math.max(C.currentPageTotalHeight,1);let Ie=!1;S!=null&&S.current&&ae<=(S==null?void 0:S.current.clientHeight)&&(Ie=!0);const me={width:Oe?v:"auto",height:ae,minHeight:Ie?"100%":"auto"};return i.autoHeight&&w.rows.length===0&&(me.height=Mie(n,i.rowHeight)),me},[n,S,v,C.currentPageTotalHeight,Oe,i.autoHeight,i.rowHeight,w.rows.length]);_.useEffect(()=>{n.current.publishEvent("virtualScrollerContentSizeChange")},[n,je]);const xe=_.useMemo(()=>{const ae={};return Oe||(ae.overflowX="hidden"),i.autoHeight&&(ae.overflowY="hidden"),ae},[Oe,i.autoHeight]);return n.current.register("private",{getRenderContext:de}),{renderContext:I,updateRenderZonePosition:te,getRows:ke,getRootProps:(ae={})=>b({ref:x,onScroll:Me,onWheel:De,onTouchMove:ze},ae,{style:ae.style?b({},ae.style,xe):xe,role:"presentation"}),getContentProps:({style:ae}={})=>({style:ae?b({},ae,je):je,role:"presentation"}),getRenderZoneProps:()=>({ref:T,role:"rowgroup"})}},dvt=r=>{const{classes:e,headerAlign:t,isDragging:n,showColumnBorder:i,groupId:o}=r;return tt({root:["columnHeader",t==="left"&&"columnHeader--alignLeft",t==="center"&&"columnHeader--alignCenter",t==="right"&&"columnHeader--alignRight",n&&"columnHeader--moving",i&&"columnHeader--showColumnBorder",i&&"columnHeader--withRightBorder","withBorderColor",o===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},xr,e)};function hvt(r){var e;const{groupId:t,width:n,depth:i,maxDepth:o,fields:a,height:s,colIndex:l,hasFocus:u,tabIndex:c,isLastColumn:d}=r,h=St(),p=_.useRef(null),f=Er(),v=ht(f,bie),g=t?v[t]:{},{headerName:m=t??"",description:C="",headerAlign:y=void 0}=g;let w;const T=t&&((e=v[t])==null?void 0:e.renderHeaderGroup),S=_.useMemo(()=>({groupId:t,headerName:m,description:C,depth:i,maxDepth:o,fields:a,colIndex:l,isLastColumn:d}),[t,m,C,i,o,a,l,d]);t&&T&&(w=T(S));const x=h.showColumnVerticalBorder,I=b({},r,{classes:h.classes,showColumnBorder:x,headerAlign:y,depth:i,isDragging:!1}),R=m??t,D=_n(),A=t===null?`empty-group-cell-${D}`:t,V=dvt(I);_.useLayoutEffect(()=>{if(u){const H=p.current.querySelector('[tabindex="0"]')||p.current;H==null||H.focus()}},[f,u]);const F=_.useCallback(N=>H=>{Ey(H)||f.current.publishEvent(N,S,H)},[f,S]),P=_.useMemo(()=>({onKeyDown:F("columnGroupHeaderKeyDown"),onFocus:F("columnGroupHeaderFocus"),onBlur:F("columnGroupHeaderBlur")}),[F]),M=typeof g.headerClassName=="function"?g.headerClassName(S):g.headerClassName;return O.jsx(Wie,b({ref:p,classes:V,columnMenuOpen:!1,colIndex:l,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:c,isDraggable:!1,headerComponent:w,headerClassName:M,description:C,elementId:A,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:R,"aria-colspan":a.length,"data-fields":`|-${a.join("-|-")}-|`},P))}const $5=be("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(r,e)=>e.columnHeaderRow})(()=>({display:"flex"}));function pvt(r){return!!r.target}const fvt=r=>{const{innerRef:e,minColumnIndex:t=0,visibleColumns:n,sortColumnLookup:i,filterColumnLookup:o,columnPositions:a,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:l,columnHeaderFocus:u,columnGroupHeaderFocus:c,densityFactor:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:f,columnGroupsHeaderStructure:v,hasOtherElementInTabSequence:g}=r,m=Xu(),[C,y]=_.useState(""),[w,T]=_.useState(""),S=wd(),x=ht(S,roe),I=St(),R=_.useRef(null),D=ln(e,R),[A,V]=_.useState(null),F=_.useRef(A),P=_.useRef(0),M=xp(S,I),N=LB(S,I.columnHeaderHeight),H=Math.floor(I.columnHeaderHeight*d),G=_.useCallback(ze=>{A&&ze&&woe(A,ze)||V(ze)},[A]);_.useEffect(()=>{S.current.columnHeadersContainerElementRef.current.scrollLeft=0},[S]);const z=_.useRef(ZI(lft,{equalityCheck:(ze,he)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(ke=>ze[ke]===he[ke])})),j=_.useCallback(ze=>{const[he,ke]=Rc({firstIndex:ze.firstRowIndex,lastIndex:ze.lastRowIndex,minFirstIndex:0,maxLastIndex:M.rows.length,buffer:I.rowBuffer}),Oe=z.current({firstColumnIndex:ze.firstColumnIndex,minColumnIndex:t,columnBuffer:I.columnBuffer,firstRowToRender:he,lastRowToRender:ke,apiRef:S,visibleRows:M.rows}),je=m.direction==="ltr"?1:-1,xe=Oe>0?P.current-je*a[Oe]:P.current;R.current.style.transform=`translate3d(${-xe}px, 0px, 0px)`},[a,t,I.columnBuffer,S,M.rows,I.rowBuffer,m.direction]);_.useLayoutEffect(()=>{A&&j(A)},[A,j]);const q=_.useCallback(({left:ze,renderContext:he=null},ke)=>{var Oe,je;if(!R.current||P.current===ze&&((Oe=F.current)==null?void 0:Oe.firstColumnIndex)===(he==null?void 0:he.firstColumnIndex)&&((je=F.current)==null?void 0:je.lastColumnIndex)===(he==null?void 0:he.lastColumnIndex))return;P.current=ze;let xe=!1;he!==F.current||!F.current?(pvt(ke)?(Bu.flushSync(()=>{G(he)}),xe=!0):G(he),F.current=he):xe=!0,he&&xe&&j(he)},[j,G]),K=_.useCallback(ze=>T(ze.field),[]),ie=_.useCallback(()=>T(""),[]),ee=_.useCallback(ze=>y(ze.field),[]),te=_.useCallback(()=>y(""),[]);bt(S,"columnResizeStart",K),bt(S,"columnResizeStop",ie),bt(S,"columnHeaderDragStart",ee),bt(S,"columnHeaderDragEnd",te),bt(S,"scrollPositionChange",q);const de=ze=>{const{renderContext:he=A,minFirstColumn:ke=t,maxLastColumn:Oe=n.length}=ze||{};if(!he)return null;const[je,xe]=Rc({firstIndex:he.firstRowIndex,lastIndex:he.lastRowIndex,minFirstIndex:0,maxLastIndex:M.rows.length,buffer:I.rowBuffer}),ae=x?z.current({firstColumnIndex:he.firstColumnIndex,minColumnIndex:ke,columnBuffer:I.columnBuffer,apiRef:S,firstRowToRender:je,lastRowToRender:xe,visibleRows:M.rows}):0,Ie=x?Math.min(he.lastColumnIndex+I.columnBuffer,Oe):Oe;return{renderedColumns:n.slice(ae,Ie),firstColumnToRender:ae,lastColumnToRender:Ie,minFirstColumn:ke,maxLastColumn:Oe}},Se=(ze,he={})=>{const ke=de(ze);if(ke==null)return null;const{renderedColumns:Oe,firstColumnToRender:je}=ke,xe=[];for(let ae=0;ae<Oe.length;ae+=1){const Ie=Oe[ae],me=je+ae,nt=me===0,He=s!==null&&s.field===Ie.field||nt&&!g?0:-1,Ue=u!==null&&u.field===Ie.field,Ge=p.open&&p.field===Ie.field;xe.push(O.jsx(bct,b({},i[Ie.field],{columnMenuOpen:Ge,filterItemsCounter:o[Ie.field]&&o[Ie.field].length,headerHeight:H,isDragging:Ie.field===C,colDef:Ie,colIndex:me,isResizing:w===Ie.field,hasFocus:Ue,tabIndex:He},he),Ie.field))}return O.jsx($5,{role:"row","aria-rowindex":h+1,ownerState:I,children:xe})},Me=ze=>{if(h===0)return null;const he=de(ze);if(he==null||he.renderedColumns.length===0)return null;const{firstColumnToRender:ke,lastColumnToRender:Oe}=he,je=[],xe=[];for(let me=0;me<h;me+=1){var ae,Ie;const nt=v[me],He=n[ke].field,Ue=(ae=S.current.unstable_getColumnGroupPath(He)[me])!=null?ae:null,Ge=nt.findIndex(({groupId:$t,columnFields:Ke})=>$t===Ue&&Ke.includes(He)),ge=n[Oe-1].field,_e=(Ie=S.current.unstable_getColumnGroupPath(ge)[me])!=null?Ie:null,Ve=nt.findIndex(({groupId:$t,columnFields:Ke})=>$t===_e&&Ke.includes(ge)),Je=nt.slice(Ge,Ve+1).map($t=>b({},$t,{columnFields:$t.columnFields.filter(Ke=>f[Ke]!==!1)})).filter($t=>$t.columnFields.length>0),vt=Je[0].columnFields.indexOf(He),Pe=Je[0].columnFields.slice(0,vt).reduce(($t,Ke)=>{var Ot;const Le=S.current.getColumn(Ke);return $t+((Ot=Le.computedWidth)!=null?Ot:0)},0);let _t=ke;const lr=Je.map(({groupId:$t,columnFields:Ke})=>{const Ot=c!==null&&c.depth===me&&Ke.includes(c.field),Le=l!==null&&l.depth===me&&Ke.includes(l.field)?0:-1,rt={groupId:$t,width:Ke.reduce((Pt,Wt)=>Pt+S.current.getColumn(Wt).computedWidth,0),fields:Ke,colIndex:_t,hasFocus:Ot,tabIndex:Le};return _t+=Ke.length,rt});xe.push({leftOverflow:Pe,elements:lr})}return xe.forEach((me,nt)=>{je.push(O.jsx($5,{style:{height:`${H}px`,transform:`translateX(-${me.leftOverflow}px)`},role:"row","aria-rowindex":nt+1,ownerState:I,children:me.elements.map(({groupId:He,width:Ue,fields:Ge,colIndex:ge,hasFocus:_e,tabIndex:Ve},Je)=>O.jsx(hvt,{groupId:He,width:Ue,fields:Ge,colIndex:ge,depth:nt,isLastColumn:ge===n.length-Ge.length,maxDepth:xe.length,height:H,hasFocus:_e,tabIndex:Ve},Je))},nt))}),je},De={minHeight:N,maxHeight:N,lineHeight:`${H}px`};return{renderContext:A,getColumnHeaders:Se,getColumnsToRender:de,getColumnGroupHeaders:Me,isDragging:!!C,getRootProps:(ze={})=>b({style:De},ze),getInnerProps:()=>({ref:D,role:"rowgroup"}),headerHeight:H}},vvt=["className"],gvt=r=>{const{classes:e}=r;return tt({root:["columnHeaders","withBorderColor"]},xr,e)},mvt=Ii("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(r,e)=>e.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),_vt=_.forwardRef(function(e,t){const{className:n}=e,i=se(e,vvt),o=St(),a=gvt(o);return O.jsx(mvt,b({ref:t,className:Ae(n,a.root),ownerState:o},i,{role:"presentation"}))}),Cvt=["isDragging","className"],yvt=r=>{const{isDragging:e,hasScrollX:t,classes:n}=r;return tt({root:["columnHeadersInner",e&&"columnHeaderDropZone",t&&"columnHeadersInner--scrollable"]},xr,n)},Svt=Ii("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(r,e)=>[{[`&.${Q.columnHeaderDropZone}`]:e.columnHeaderDropZone},e.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${Q.columnHeaderDropZone} .${Q.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${Q["columnHeadersInner--scrollable"]} .${Q.columnHeader}:last-child`]:{borderRight:"none"}})),wvt=_.forwardRef(function(e,t){var n,i;const{isDragging:o,className:a}=e,s=se(e,Cvt),l=Er(),u=St(),c=b({},u,{isDragging:o,hasScrollX:(n=(i=l.current.getRootDimensions())==null?void 0:i.hasScrollX)!=null?n:!1}),d=yvt(c);return O.jsx(Svt,b({ref:t,className:Ae(a,d.root),ownerState:c},s))}),bvt=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],Evt=_.forwardRef(function(e,t){const{innerRef:n,visibleColumns:i,sortColumnLookup:o,filterColumnLookup:a,columnPositions:s,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:u,columnHeaderFocus:c,columnGroupHeaderFocus:d,densityFactor:h,headerGroupingMaxDepth:p,columnMenuState:f,columnVisibility:v,columnGroupsHeaderStructure:g,hasOtherElementInTabSequence:m}=e,C=se(e,bvt),{isDragging:y,getRootProps:w,getInnerProps:T,getColumnHeaders:S,getColumnGroupHeaders:x}=fvt({innerRef:n,visibleColumns:i,sortColumnLookup:o,filterColumnLookup:a,columnPositions:s,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:u,columnHeaderFocus:c,columnGroupHeaderFocus:d,densityFactor:h,headerGroupingMaxDepth:p,columnMenuState:f,columnVisibility:v,columnGroupsHeaderStructure:g,hasOtherElementInTabSequence:m});return O.jsx(_vt,b({ref:t},w(C),{children:O.jsxs(wvt,b({isDragging:y},T(),{children:[x(),S()]}))}))}),xvt=aT(Evt),Ivt=_.forwardRef(function(e,t){const i=Er().current.getLocaleText("noResultsOverlayLabel");return O.jsx(IB,b({ref:t},e,{children:i}))}),Tvt=["sortingOrder"],Rvt=_.memo(function(e){const{sortingOrder:t}=e,n=se(e,Tvt),i=St(),[o]=t,a=o==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return a?O.jsx(a,b({},n)):null}),Ovt=["native"];function Dvt(r){let{native:e}=r,t=se(r,Ovt);return e?O.jsx("option",b({},t)):O.jsx(zs,b({},t))}const Avt={BooleanCellTrueIcon:Sdt,BooleanCellFalseIcon:OA,ColumnMenuIcon:mdt,OpenFilterButtonIcon:cdt,FilterPanelDeleteIcon:OA,ColumnFilteredIcon:S5,ColumnSelectorIcon:hdt,ColumnUnsortedIcon:Rvt,ColumnSortedAscendingIcon:m5,ColumnSortedDescendingIcon:_5,ColumnResizeIcon:pdt,DensityCompactIcon:fdt,DensityStandardIcon:vdt,DensityComfortableIcon:gdt,ExportIcon:ydt,MoreActionsIcon:wdt,TreeDataCollapseIcon:y5,TreeDataExpandIcon:C5,GroupingCriteriaCollapseIcon:y5,GroupingCriteriaExpandIcon:C5,DetailPanelExpandIcon:w5,DetailPanelCollapseIcon:_dt,RowReorderIcon:b5,QuickFilterIcon:ddt,QuickFilterClearIcon:OA,ColumnMenuHideIcon:bdt,ColumnMenuSortAscendingIcon:m5,ColumnMenuSortDescendingIcon:_5,ColumnMenuFilterIcon:S5,ColumnMenuManageColumnsIcon:Edt,ColumnMenuClearIcon:xdt,LoadIcon:Cdt,FilterPanelAddIcon:w5,FilterPanelRemoveAllIcon:Idt,ColumnReorderIcon:b5},Pvt=b({},Avt,{BaseCheckbox:Grt,BaseTextField:pie,BaseFormControl:Zne,BaseSelect:QI,BaseSwitch:Iat,BaseButton:wrt,BaseIconButton:Bc,BaseInputAdornment:oit,BaseTooltip:vat,BasePopper:bp,BaseInputLabel:pB,BaseSelectOption:Dvt,BaseChip:zne}),Mvt=Pvt,Fvt=b({},Mvt,{Cell:CF,SkeletonCell:Wut,ColumnHeaderFilterIconButton:rdt,ColumnMenu:Gdt,ColumnHeaders:xvt,Footer:Yht,FooterRowCount:ipt,Toolbar:null,PreferencesPanel:vht,LoadingOverlay:Qht,NoResultsOverlay:Ivt,NoRowsOverlay:Zht,Pagination:ept,FilterPanel:Nht,ColumnsPanel:uht,Panel:fht,Row:Ept}),boe=r=>{if(r!==void 0)return Object.keys(r).reduce((e,t)=>b({},e,{[`${t.charAt(0).toLowerCase()}${t.slice(1)}`]:r[t]}),{})};function Lvt({defaultSlots:r,slots:e,components:t}){const n=e??(t?boe(t):null);if(!n||Object.keys(n).length===0)return r;const i=b({},r);return Object.keys(n).forEach(o=>{const a=o;n[a]!==void 0&&(i[a]=n[a])}),i}const Nvt=["components","componentsProps"];function kvt(r){var e;const t=Object.keys(r);if(!t.some(o=>o.startsWith("aria-")||o.startsWith("data-")))return r;const n={},i=(e=r.forwardedProps)!=null?e:{};for(let o=0;o<t.length;o+=1){const a=t[o];a.startsWith("aria-")||a.startsWith("data-")?i[a]=r[a]:n[a]=r[a]}return n.forwardedProps=i,n}function Vvt(r){return _.useMemo(()=>{const{components:e,componentsProps:t}=r,n=se(r,Nvt);return[e,t,kvt(n)]},[r])}const Bvt={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},lT={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:Wl.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	",rowPositionsDebounceMs:166},Hvt=boe(Fvt),Gvt=r=>{const[e,t,n]=Vvt(qt({props:r,name:"MuiDataGrid"})),i=_.useMemo(()=>b({},Qft,n.localeText),[n.localeText]),o=_.useMemo(()=>Lvt({defaultSlots:Hvt,slots:n.slots,components:e}),[e,n.slots]);return _.useMemo(()=>{var a;return b({},lT,n,{localeText:i,slots:o,slotProps:(a=n.slotProps)!=null?a:t},Bvt)},[n,i,o,t])},$vt=r=>b({},r,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),W5=(r,e,t)=>typeof r=="number"&&r>0?r:e,Wvt=(r,e)=>{const{getRowHeight:t,getRowSpacing:n,getEstimatedRowHeight:i}=e,o=_.useRef(Object.create(null)),a=_.useRef(-1),s=_.useRef(!1),l=ht(r,$v),u=ht(r,Fi),c=ht(r,Yie),d=ht(r,Za),h=xp(r,e),p=ht(r,Gv),f=W5(e.rowHeight,lT.rowHeight),v=Math.floor(f*l),g=_.useCallback(()=>{var V,F;s.current=!1;const P=H=>{o.current[H.id]||(o.current[H.id]={sizes:{baseCenter:v},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:G,needsFirstMeasurement:z,sizes:j}=o.current[H.id];let q=typeof v=="number"&&v>0?v:52;const K=j.baseCenter;if(G)q=K;else if(t){const Se=t(b({},H,{densityFactor:l}));if(Se==="auto"){if(z){const Me=i?i(b({},H,{densityFactor:l})):v;q=Me??v}else q=K;s.current=!0,o.current[H.id].autoHeight=!0}else q=W5(Se,v),o.current[H.id].needsFirstMeasurement=!1,o.current[H.id].autoHeight=!1}else o.current[H.id].needsFirstMeasurement=!1;const ie={};for(const Se in j)/^base[A-Z]/.test(Se)&&(ie[Se]=j[Se]);if(ie.baseCenter=q,n){var ee,te;const Se=r.current.getRowIndexRelativeToVisibleRows(H.id),Me=n(b({},H,{isFirstVisible:Se===0,isLastVisible:Se===h.rows.length-1,indexRelativeToCurrentPage:Se}));ie.spacingTop=(ee=Me.top)!=null?ee:0,ie.spacingBottom=(te=Me.bottom)!=null?te:0}const de=r.current.unstable_applyPipeProcessors("rowHeight",ie,H);return o.current[H.id].sizes=de,de},M=[],N=h.rows.reduce((H,G)=>{M.push(H);let z=0,j=0;const q=P(G);for(const K in q){const ie=q[K];/^base[A-Z]/.test(K)?z=ie>z?ie:z:j+=ie}return H+z+j},0);p==null||(V=p.top)==null||V.forEach(H=>{P(H)}),p==null||(F=p.bottom)==null||F.forEach(H=>{P(H)}),r.current.setState(H=>b({},H,{rowsMeta:{currentPageTotalHeight:N,positions:M}})),s.current||(a.current=1/0),r.current.forceUpdate()},[r,h.rows,v,t,n,i,p,l]),m=_.useCallback(V=>{const F=o.current[V];return F?F.sizes.baseCenter:v},[v]),C=V=>{var F;return(F=o.current[V])==null?void 0:F.sizes},y=_.useCallback((V,F)=>{o.current[V].sizes.baseCenter=F,o.current[V].isResized=!0,o.current[V].needsFirstMeasurement=!1,g()},[g]),w=_.useMemo(()=>Nv(g,e.rowPositionsDebounceMs),[g,e.rowPositionsDebounceMs]),T=_.useCallback((V,F,P)=>{if(!o.current[V]||!o.current[V].autoHeight)return;const M=o.current[V].sizes[`base${Te(P)}`]!==F;o.current[V].needsFirstMeasurement=!1,o.current[V].sizes[`base${Te(P)}`]=F,M&&w()},[w]),S=_.useCallback(V=>{var F;return((F=o.current[V])==null?void 0:F.autoHeight)||!1},[]),x=_.useCallback(()=>a.current,[]),I=_.useCallback(V=>{s.current&&V>a.current&&(a.current=V)},[]),R=_.useCallback(()=>{o.current={},g()},[g]);_.useEffect(()=>{g()},[v,u,c,d,g]),FB(r,"rowHeight",g);const D={unstable_setLastMeasuredRowIndex:I,unstable_getRowHeight:m,unstable_getRowInternalSizes:C,unstable_setRowHeight:y,unstable_storeRowHeightMeasurement:T,resetRowHeights:R},A={getLastMeasuredRowIndex:x,rowHasAutoHeight:S};cr(r,D,"public"),cr(r,A,"private")},zvt=r=>{const e=_.useCallback((i={})=>r.current.unstable_applyPipeProcessors("exportState",{},i),[r]),t=_.useCallback(i=>{r.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(a=>{a()}),r.current.forceUpdate()},[r]);cr(r,{exportState:e,restoreState:t},"public")},Uvt=r=>{const e=_.useRef({}),t=_.useCallback((u,c,d)=>{const h=e.current;h[u]||(h[u]={}),h[u][c]=d},[]),n=_.useCallback((u,c)=>{var d;return(d=e.current[u])==null?void 0:d[c]},[]),i=_.useCallback(u=>{const{columnIndex:c,rowId:d,minFirstColumnIndex:h,maxLastColumnIndex:p,columns:f}=u,v=f.length,g=f[c],m=typeof g.colSpan=="function"?g.colSpan(r.current.getCellParams(d,g.field)):g.colSpan;if(!m||m===1)return t(d,c,{spannedByColSpan:!1,cellProps:{colSpan:1,width:g.computedWidth}}),{colSpan:1};let C=g.computedWidth;for(let y=1;y<m;y+=1){const w=c+y;if(w>=h&&w<p){const T=f[w];C+=T.computedWidth,t(d,c+y,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(c+m,v-1),leftVisibleCellIndex:c})}t(d,c,{spannedByColSpan:!1,cellProps:{colSpan:m,width:C}})}return{colSpan:m}},[r,t]),o=_.useCallback(({rowId:u,minFirstColumn:c,maxLastColumn:d,columns:h})=>{for(let p=c;p<d;p+=1){const f=i({columnIndex:p,rowId:u,minFirstColumnIndex:c,maxLastColumnIndex:d,columns:h});f.colSpan>1&&(p+=f.colSpan-1)}},[i]),a={unstable_getCellColSpanInfo:n},s={calculateColSpan:o};cr(r,a,"public"),cr(r,s,"private");const l=_.useCallback(()=>{e.current={}},[]);bt(r,"columnOrderChange",l)},Eoe=(r,e,t)=>{if(Fie(r)){if(t[r.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${r.field} occurs two times in the grouping model:`,`- ${t[r.field].join(" > ")}`,`- ${e.join(" > ")}`].join(`
`));t[r.field]=e;return}const{groupId:n,children:i}=r;i.forEach(o=>{Eoe(o,[...e,n],t)})},TF=r=>{if(!r)return{};const e={};return r.forEach(t=>{Eoe(t,[],e)}),e},RF=(r,e,t)=>{const n=l=>{var u;return(u=e[l])!=null?u:[]},i=[],o=Math.max(...r.map(l=>n(l).length)),a=(l,u,c)=>Mh(n(l).slice(0,c+1),n(u).slice(0,c+1)),s=(l,u)=>!!(t!=null&&t.left&&t.left.includes(l)&&!t.left.includes(u)||t!=null&&t.right&&!t.right.includes(l)&&t.right.includes(u));for(let l=0;l<o;l+=1){const u=r.reduce((c,d)=>{var h;const p=(h=n(d)[l])!=null?h:null;if(c.length===0)return[{columnFields:[d],groupId:p}];const f=c[c.length-1],v=f.columnFields[f.columnFields.length-1];return f.groupId!==p||!a(v,d,l)||s(v,d)?[...c,{columnFields:[d],groupId:p}]:[...c.slice(0,c.length-1),{columnFields:[...f.columnFields,d],groupId:p}]},[]);i.push(u)}return i},jvt=["groupId","children"],NB=r=>{let e={};return r.forEach(t=>{if(Fie(t))return;const{groupId:n,children:i}=t,o=se(t,jvt);if(!n)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");i||console.warn(`MUI: group groupId=${n} has no children.`);const a=b({},o,{groupId:n}),s=NB(i);if(s[n]!==void 0||e[n]!==void 0)throw new Error(`MUI: The groupId ${n} is used multiple times in the columnGroupingModel.`);e=b({},e,s,{[n]:a})}),b({},e)},Kvt=(r,e,t)=>{var n,i,o,a;if(!((n=e.experimentalFeatures)!=null&&n.columnGrouping))return r;const s=Iu(t),l=JI(t),u=NB((i=e.columnGroupingModel)!=null?i:[]),c=TF((o=e.columnGroupingModel)!=null?o:[]),d=RF(s,c,(a=t.current.state.pinnedColumns)!=null?a:{}),h=l.length===0?0:Math.max(...l.map(p=>{var f,v;return(f=(v=c[p])==null?void 0:v.length)!=null?f:0}));return b({},r,{columnGrouping:{lookup:u,unwrappedGroupingModel:c,headerStructure:d,maxDepth:h}})},qvt=(r,e)=>{var t;const n=_.useCallback(l=>{var u;return(u=vlt(r)[l])!=null?u:[]},[r]),i=_.useCallback(()=>bie(r),[r]);cr(r,{unstable_getColumnGroupPath:n,unstable_getAllGroupDetails:i},"public");const a=_.useCallback(()=>{var l;const u=TF((l=e.columnGroupingModel)!=null?l:[]);r.current.setState(c=>{var d,h,p;const f=(d=(h=c.columns)==null?void 0:h.orderedFields)!=null?d:[],v=(p=c.pinnedColumns)!=null?p:{},g=RF(f,u,v);return b({},c,{columnGrouping:b({},c.columnGrouping,{headerStructure:g})})})},[r,e.columnGroupingModel]),s=_.useCallback(l=>{var u,c,d,h;if(!((u=e.experimentalFeatures)!=null&&u.columnGrouping))return;const p=(c=(d=(h=r.current).getPinnedColumns)==null?void 0:d.call(h))!=null?c:{},f=Iu(r),v=JI(r),g=NB(l??[]),m=TF(l??[]),C=RF(f,m,p),y=v.length===0?0:Math.max(...v.map(w=>{var T,S;return(T=(S=m[w])==null?void 0:S.length)!=null?T:0}));r.current.setState(w=>b({},w,{columnGrouping:{lookup:g,unwrappedGroupingModel:m,headerStructure:C,maxDepth:y}}))},[r,(t=e.experimentalFeatures)==null?void 0:t.columnGrouping]);bt(r,"columnIndexChange",a),bt(r,"columnsChange",()=>{s(e.columnGroupingModel)}),bt(r,"columnVisibilityModelChange",()=>{s(e.columnGroupingModel)}),_.useEffect(()=>{s(e.columnGroupingModel)},[s,e.columnGroupingModel])},Yvt=(r,e)=>{const t=Vpt(r,e);return Jft(t,e),qft(t),Fo(Yft,t,e),Fo(uft,t,e),Fo(Wft,t,e),Fo(Gft,t,e),Fo(Tft,t,e),Fo(evt,t,e),Fo(Aft,t,e),Fo(bft,t,e),Fo(pft,t,e),Fo(_ft,t,e),Fo($vt,t,e),Fo(ift,t,e),Fo(Kvt,t,e),Fo(Zct,t,e),Dft(t,e),Xft(t,e),cft(t,e),zft(t,e),Xlt(t,e),Uvt(t),qvt(t,e),$ft(t,e),Rft(t,e),Pft(t,e),Ift(t,e),tvt(t,e),fft(t,e),Cft(t,e),Wvt(t,e),rvt(t,e),oft(t),mft(t,e),wft(t,e),nft(t,e),ovt(t,e),nvt(t,e),zvt(t),Jct(t,e),t},Xvt=r=>{const{classes:e}=r;return tt({root:["virtualScroller"]},xr,e)},Qvt=Ii("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(r,e)=>e.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),Zvt=_.forwardRef(function(e,t){const n=St(),i=Xvt(n);return O.jsx(Qvt,b({ref:t},e,{className:Ae(i.root,e.className),ownerState:n}))}),Jvt=(r,e)=>{const{classes:t}=r;return tt({root:["virtualScrollerContent",e&&"virtualScrollerContent--overflowed"]},xr,t)},egt=Ii("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(r,e)=>e.virtualScrollerContent})({}),tgt=_.forwardRef(function(e,t){var n;const i=St(),o=!i.autoHeight&&((n=e.style)==null?void 0:n.minHeight)==="auto",a=Jvt(i,o);return O.jsx(egt,b({ref:t},e,{ownerState:i,className:Ae(a.root,e.className)}))}),rgt=["className"],ngt=r=>{const{classes:e}=r;return tt({root:["virtualScrollerRenderZone"]},xr,e)},igt=Ii("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(r,e)=>e.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),ogt=_.forwardRef(function(e,t){const{className:n}=e,i=se(e,rgt),o=St(),a=ngt(o);return O.jsx(igt,b({ref:t,className:Ae(a.root,n),ownerState:o},i))}),agt=["className"],sgt=_.forwardRef(function(e,t){const{className:n}=e,i=se(e,agt),{getRootProps:o,getContentProps:a,getRenderZoneProps:s,getRows:l}=cvt({ref:t});return O.jsxs(Zvt,b({className:n},o(i),{children:[O.jsx(Wlt,{}),O.jsx(tgt,b({},a(),{children:O.jsx(ogt,b({},s(),{children:l()}))}))]}))}),xoe=_.forwardRef(function(e,t){const n=Gvt(e),i=Yvt(n.apiRef,n);return O.jsx(xpt,{privateApiRef:i,props:n,children:O.jsxs(qut,b({className:n.className,style:n.style,sx:n.sx,ref:t},n.forwardedProps,{children:[O.jsx(Xht,{}),O.jsx(Flt,{VirtualScrollerComponent:sgt}),O.jsx(Llt,{})]}))})}),lgt=_.memo(xoe);lT.filterDebounceMs;lT.filterDebounceMs;xoe.propTypes={apiRef:ue.shape({current:ue.object.isRequired}),"aria-label":ue.string,"aria-labelledby":ue.string,autoHeight:ue.bool,autoPageSize:ue.bool,cellModesModel:ue.object,checkboxSelection:ue.bool,classes:ue.object,clipboardCopyCellDelimiter:ue.string,columnBuffer:ue.number,columnGroupingModel:ue.arrayOf(ue.object),columnHeaderHeight:ue.number,columns:yXe(ue.array.isRequired),columnThreshold:ue.number,columnVisibilityModel:ue.object,components:ue.object,componentsProps:ue.object,density:ue.oneOf(["comfortable","compact","standard"]),disableColumnFilter:ue.bool,disableColumnMenu:ue.bool,disableColumnSelector:ue.bool,disableDensitySelector:ue.bool,disableEval:ue.bool,disableRowSelectionOnClick:ue.bool,disableVirtualization:ue.bool,editMode:ue.oneOf(["cell","row"]),experimentalFeatures:ue.shape({ariaV7:ue.bool,columnGrouping:ue.bool,warnIfFocusStateIsNotSynced:ue.bool}),filterDebounceMs:ue.number,filterMode:ue.oneOf(["client","server"]),filterModel:ue.shape({items:ue.arrayOf(ue.shape({field:ue.string.isRequired,id:ue.oneOfType([ue.number,ue.string]),operator:ue.string.isRequired,value:ue.any})).isRequired,logicOperator:ue.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:ue.bool,quickFilterLogicOperator:ue.oneOf(["and","or"]),quickFilterValues:ue.array}),forwardedProps:ue.object,getCellClassName:ue.func,getDetailPanelContent:ue.func,getEstimatedRowHeight:ue.func,getRowClassName:ue.func,getRowHeight:ue.func,getRowId:ue.func,getRowSpacing:ue.func,hideFooter:ue.bool,hideFooterPagination:ue.bool,hideFooterSelectedRowCount:ue.bool,ignoreDiacritics:ue.bool,initialState:ue.object,isCellEditable:ue.func,isRowSelectable:ue.func,keepNonExistentRowsSelected:ue.bool,loading:ue.bool,localeText:ue.object,logger:ue.shape({debug:ue.func.isRequired,error:ue.func.isRequired,info:ue.func.isRequired,warn:ue.func.isRequired}),logLevel:ue.oneOf(["debug","error","info","warn",!1]),nonce:ue.string,onCellClick:ue.func,onCellDoubleClick:ue.func,onCellEditStart:ue.func,onCellEditStop:ue.func,onCellKeyDown:ue.func,onCellModesModelChange:ue.func,onClipboardCopy:ue.func,onColumnHeaderClick:ue.func,onColumnHeaderDoubleClick:ue.func,onColumnHeaderEnter:ue.func,onColumnHeaderLeave:ue.func,onColumnHeaderOut:ue.func,onColumnHeaderOver:ue.func,onColumnOrderChange:ue.func,onColumnVisibilityModelChange:ue.func,onFilterModelChange:ue.func,onMenuClose:ue.func,onMenuOpen:ue.func,onPaginationModelChange:ue.func,onPreferencePanelClose:ue.func,onPreferencePanelOpen:ue.func,onProcessRowUpdateError:ue.func,onResize:ue.func,onRowClick:ue.func,onRowDoubleClick:ue.func,onRowEditCommit:ue.func,onRowEditStart:ue.func,onRowEditStop:ue.func,onRowModesModelChange:ue.func,onRowSelectionModelChange:ue.func,onSortModelChange:ue.func,onStateChange:ue.func,pageSizeOptions:ue.arrayOf(ue.oneOfType([ue.number,ue.shape({label:ue.string.isRequired,value:ue.number.isRequired})]).isRequired),pagination:r=>r.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:ue.oneOf(["client","server"]),paginationModel:ue.shape({page:ue.number.isRequired,pageSize:ue.number.isRequired}),processRowUpdate:ue.func,rowBuffer:ue.number,rowCount:ue.number,rowHeight:ue.number,rowModesModel:ue.object,rowPositionsDebounceMs:ue.number,rows:ue.arrayOf(ue.object).isRequired,rowSelection:ue.bool,rowSelectionModel:ue.oneOfType([ue.arrayOf(ue.oneOfType([ue.number,ue.string]).isRequired),ue.number,ue.string]),rowSpacingType:ue.oneOf(["border","margin"]),rowThreshold:ue.number,scrollbarSize:ue.number,showCellVerticalBorder:ue.bool,showColumnVerticalBorder:ue.bool,slotProps:ue.object,slots:ue.object,sortingMode:ue.oneOf(["client","server"]),sortingOrder:ue.arrayOf(ue.oneOf(["asc","desc"])),sortModel:ue.arrayOf(ue.shape({field:ue.string.isRequired,sort:ue.oneOf(["asc","desc"])})),sx:ue.oneOfType([ue.arrayOf(ue.oneOfType([ue.func,ue.object,ue.bool])),ue.func,ue.object]),unstable_ignoreValueFormatterDuringExport:ue.oneOfType([ue.shape({clipboardExport:ue.bool,csvExport:ue.bool}),ue.bool])};const ugt=[{field:"firstName",headerName:"First Name"},{field:"lastName",headerName:"Last Name"},{field:"age",headerName:"Age"},{field:"email",headerName:"Email"},{field:"selectedState",headerName:"State"},{field:"isIndian",headerName:"Indian"}],cgt=({formSubmissionData:r})=>{const{data:e}=vie();return O.jsx(urt,{className:"material-ui-table-container",children:O.jsx(lgt,{rows:e,columns:ugt,initialState:{pagination:{paginationModel:{pageSize:4}}},pageSizeOptions:[5],checkboxSelection:!0,disableRowSelectionOnClick:!0})})},dgt=()=>{const{data:r,updateContextData:e}=vie(),[t,n]=_.useState(!1),[i,o]=_.useState({id:"",firstName:"",lastName:"",email:"",age:void 0,selectedState:"",isIndian:!1,statesData:[]}),[a,s]=_.useState([]);_.useEffect(()=>{r&&s(r)},[r]);const[l,u]=_.useState({firstName:"",lastName:"",email:"",age:"",selectedState:""});_.useEffect(()=>{c(),console.log("userdata",i.statesData)},[]);const c=async()=>{try{const T=await(await fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states")).json();o({...i,statesData:T.states})}catch(w){console.log(w)}},d=w=>{let T=!1;return r==null||r.map(S=>{S.email===w.email&&(T=!0)}),T},[h,p]=_.useState({firstName:!1,lastName:!1,age:!1,email:!1}),f=()=>{o({firstName:"",lastName:"",email:"",age:void 0,selectedState:"",statesData:i.statesData,isIndian:!1}),u({firstName:"",lastName:"",email:"",age:"",selectedState:""})},v=w=>{const{name:T,value:S}=w.target;let x="";if(S===""){x="name is required",u({...l,[T]:""}),p({...h,[T]:!1});return}switch(T){case"firstName":/^[a-zA-Z]+$/.test(S)?p({...h,firstName:!1}):(p({...h,firstName:!0}),x="Only alphabets are allowed");break;case"lastName":/^[a-zA-Z]+$/.test(S)?p({...h,lastName:!1}):(p({...h,lastName:!0}),x="Only alphabets are allowed");break;case"age":/^\d+$/.test(S)?p({...h,age:!1}):(p({...h,age:!0}),x="Age must be a number");break;case"email":/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(S)?p({...h,email:!1}):(p({...h,email:!0}),x="Invalid email address");break}u({...l,[T]:x})},g=w=>{const{name:T,value:S}=w.target;o({...i,[T]:S})},m=w=>{w.preventDefault();const T=eZ(),S=XQ(i);if(S.firstName===""&&S.lastName===""&&S.email===""&&S.email===""&&S.age===""){const x=i.isIndian?"Yes":"No",I=i.selectedState===""?"_":i.selectedState,R={id:T,firstName:i.firstName,lastName:i.lastName,age:i.age,email:i.email,isIndian:x,selectedState:I},D=[...a];d(R)?n(!0):(D.push(R),s(D),e(D),f())}else u(S)},C=()=>{o({...i,isIndian:!i.isIndian})},y=(w,T)=>{const S=w.target.value;o({...i,selectedState:S})};return O.jsxs("div",{children:[O.jsxs("div",{className:"material-form-wrapper",children:[O.jsxs("form",{className:"material-ui-form-container",onSubmit:m,children:[O.jsx("h2",{className:"form-title",children:"User Details"}),O.jsx(Nw,{labelText:"First Name",type:"text",handleChange:g,handleErrors:v,helperText:l.firstName,inputName:"firstName",error:h.firstName,value:i.firstName}),O.jsx(Nw,{labelText:"Last Name",id:"lastName",type:"text",handleChange:g,handleErrors:v,helperText:l.lastName,inputName:"lastName",error:h.lastName,value:i.lastName}),O.jsx(Nw,{labelText:"Email",id:"email",type:"email",handleChange:g,handleErrors:v,helperText:l.email,inputName:"email",error:h.email,value:i.email}),O.jsx(Nw,{labelText:"Age",id:"age",type:"number",handleChange:g,handleErrors:v,helperText:l.age,inputName:"age",error:h.age,value:i.age}),O.jsx("div",{className:"radio-btns-wrapper",children:O.jsxs("div",{className:"radio-btns-container",children:[O.jsx("span",{children:"Are you an Indian?"}),O.jsx(kot,{checked:i.isIndian,onChange:C,name:"radio-buttons",inputProps:{"aria-label":"A"}}),O.jsx("p",{className:"label-yes",children:"Yes"})]})}),i.isIndian&&O.jsxs(O.Fragment,{children:[O.jsx(pB,{id:"demo-customized-select-label",children:"Select state"}),O.jsx(QI,{labelId:"demo-customized-select-label",id:"demo-simple-select",defaultValue:"Delhi",value:i.selectedState,onChange:y,children:i.statesData.map(w=>O.jsx(zs,{value:w.state_name,children:w.state_name},w.state_id))})]}),O.jsxs("div",{className:"btn-container",children:[O.jsx("button",{className:"submit-btn",type:"submit",children:"Submit"}),O.jsx("button",{type:"button",onClick:f,className:"reset-btn",children:"Reset"})]})]}),t&&O.jsx("div",{className:"clipping-container ",children:O.jsx(JQ,{showModal:t,setShowModal:n,modalText:"User already Exist"})})]}),(r==null?void 0:r.length)>0&&O.jsx(cgt,{formSubmissionData:a})]})},hgt=()=>O.jsx(dgt,{}),pgt=nse([{path:"/",element:O.jsx(ZQ,{children:O.jsx(AHe,{})}),errorElement:O.jsx(Rb,{})},{path:"/users",element:O.jsx(Zst,{}),errorElement:O.jsx(Rb,{}),children:[{index:!0,element:O.jsx(elt,{})},{path:"dataGrid",element:O.jsx(l5,{})},{path:"materilUi",element:O.jsx(gie,{children:O.jsx(hgt,{})})}]},{path:"/todos",element:O.jsx(l5,{}),errorElement:O.jsx(Rb,{})}]);function fgt(){return O.jsx(hse,{router:pgt})}const vgt=r=>{r&&r instanceof Function&&C0(()=>import("./web-vitals-BA3w2fPb.js"),__vite__mapDeps([]),import.meta.url).then(({getCLS:e,getFID:t,getFCP:n,getLCP:i,getTTFB:o})=>{e(r),t(r),n(r),i(r),o(r)})};class ggt extends _.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by error boundary:",e,t)}render(){return this.state.hasError?O.jsx(Rb,{}):this.props.children}}const mgt=PA.createRoot(document.getElementById("root"));mgt.render(O.jsx(Uo.StrictMode,{children:O.jsx(ggt,{children:O.jsx(l1e,{store:F9e,children:O.jsx(fgt,{})})})}));vgt();export{ue as P,O as j};
